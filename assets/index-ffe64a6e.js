(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Yv(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const vt={},Ls=[],_r=()=>{},iO=()=>!1,oO=/^on[^a-z]/,Gf=e=>oO.test(e),Qv=e=>e.startsWith("onUpdate:"),Gt=Object.assign,Jv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},sO=Object.prototype.hasOwnProperty,Qe=(e,t)=>sO.call(e,t),Re=Array.isArray,Ms=e=>Wf(e)==="[object Map]",hI=e=>Wf(e)==="[object Set]",je=e=>typeof e=="function",Ft=e=>typeof e=="string",Zv=e=>typeof e=="symbol",mt=e=>e!==null&&typeof e=="object",dI=e=>mt(e)&&je(e.then)&&je(e.catch),pI=Object.prototype.toString,Wf=e=>pI.call(e),uO=e=>Wf(e).slice(8,-1),gI=e=>Wf(e)==="[object Object]",em=e=>Ft(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xl=Yv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Xf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},aO=/-(\w)/g,Kr=Xf(e=>e.replace(aO,(t,n)=>n?n.toUpperCase():"")),cO=/\B([A-Z])/g,hu=Xf(e=>e.replace(cO,"-$1").toLowerCase()),Yf=Xf(e=>e.charAt(0).toUpperCase()+e.slice(1)),bg=Xf(e=>e?`on${Yf(e)}`:""),Ca=(e,t)=>!Object.is(e,t),_g=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},uf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},lO=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let x_;const Xg=()=>x_||(x_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ra(e){if(Re(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Ft(i)?pO(i):Ra(i);if(o)for(const u in o)t[u]=o[u]}return t}else{if(Ft(e))return e;if(mt(e))return e}}const fO=/;(?![^(]*\))/g,hO=/:([^]+)/,dO=/\/\*[^]*?\*\//g;function pO(e){const t={};return e.replace(dO,"").split(fO).forEach(n=>{if(n){const i=n.split(hO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ln(e){let t="";if(Ft(e))t=e;else if(Re(e))for(let n=0;n<e.length;n++){const i=Ln(e[n]);i&&(t+=i+" ")}else if(mt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const gO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vO=Yv(gO);function vI(e){return!!e||e===""}const Oa=e=>Ft(e)?e:e==null?"":Re(e)||mt(e)&&(e.toString===pI||!je(e.toString))?JSON.stringify(e,mI,2):String(e),mI=(e,t)=>t&&t.__v_isRef?mI(e,t.value):Ms(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:hI(t)?{[`Set(${t.size})`]:[...t.values()]}:mt(t)&&!Re(t)&&!gI(t)?String(t):t;let zn;class yI{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=zn,!t&&zn&&(this.index=(zn.scopes||(zn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=zn;try{return zn=this,t()}finally{zn=n}}}on(){zn=this}off(){zn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function wI(e){return new yI(e)}function mO(e,t=zn){t&&t.active&&t.effects.push(e)}function bI(){return zn}function yO(e){zn&&zn.cleanups.push(e)}const tm=e=>{const t=new Set(e);return t.w=0,t.n=0,t},_I=e=>(e.w&qi)>0,EI=e=>(e.n&qi)>0,wO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=qi},bO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];_I(o)&&!EI(o)?o.delete(e):t[n++]=o,o.w&=~qi,o.n&=~qi}t.length=n}},af=new WeakMap;let pa=0,qi=1;const Yg=30;let wr;const Ro=Symbol(""),Qg=Symbol("");class nm{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,mO(this,i)}run(){if(!this.active)return this.fn();let t=wr,n=Fi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=wr,wr=this,Fi=!0,qi=1<<++pa,pa<=Yg?wO(this):N_(this),this.fn()}finally{pa<=Yg&&bO(this),qi=1<<--pa,wr=this.parent,Fi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){wr===this?this.deferStop=!0:this.active&&(N_(this),this.onStop&&this.onStop(),this.active=!1)}}function N_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Fi=!0;const II=[];function du(){II.push(Fi),Fi=!1}function pu(){const e=II.pop();Fi=e===void 0?!0:e}function Fn(e,t,n){if(Fi&&wr){let i=af.get(e);i||af.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=tm()),TI(o)}}function TI(e,t){let n=!1;pa<=Yg?EI(e)||(e.n|=qi,n=!_I(e)):n=!e.has(wr),n&&(e.add(wr),wr.deps.push(e))}function ui(e,t,n,i,o,u){const a=af.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Re(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Re(e)?em(n)&&l.push(a.get("length")):(l.push(a.get(Ro)),Ms(e)&&l.push(a.get(Qg)));break;case"delete":Re(e)||(l.push(a.get(Ro)),Ms(e)&&l.push(a.get(Qg)));break;case"set":Ms(e)&&l.push(a.get(Ro));break}if(l.length===1)l[0]&&Jg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Jg(tm(f))}}function Jg(e,t){const n=Re(e)?e:[...e];for(const i of n)i.computed&&C_(i);for(const i of n)i.computed||C_(i)}function C_(e,t){(e!==wr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function _O(e,t){var n;return(n=af.get(e))==null?void 0:n.get(t)}const EO=Yv("__proto__,__v_isRef,__isVue"),SI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Zv)),IO=rm(),TO=rm(!1,!0),SO=rm(!0),R_=AO();function AO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Je(this);for(let u=0,a=this.length;u<a;u++)Fn(i,"get",u+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Je)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){du();const i=Je(this)[t].apply(this,n);return pu(),i}}),e}function kO(e){const t=Je(this);return Fn(t,"has",e),t.hasOwnProperty(e)}function rm(e=!1,t=!1){return function(i,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&u===(e?t?$O:CI:t?NI:xI).get(i))return i;const a=Re(i);if(!e){if(a&&Qe(R_,o))return Reflect.get(R_,o,u);if(o==="hasOwnProperty")return kO}const l=Reflect.get(i,o,u);return(Zv(o)?SI.has(o):EO(o))||(e||Fn(i,"get",o),t)?l:ct(l)?a&&em(o)?l:l.value:mt(l)?e?sm(l):ai(l):l}}const xO=AI(),NO=AI(!0);function AI(e=!1){return function(n,i,o,u){let a=n[i];if(Bs(a)&&ct(a)&&!ct(o))return!1;if(!e&&(!cf(o)&&!Bs(o)&&(a=Je(a),o=Je(o)),!Re(n)&&ct(a)&&!ct(o)))return a.value=o,!0;const l=Re(n)&&em(i)?Number(i)<n.length:Qe(n,i),f=Reflect.set(n,i,o,u);return n===Je(u)&&(l?Ca(o,a)&&ui(n,"set",i,o):ui(n,"add",i,o)),f}}function CO(e,t){const n=Qe(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&ui(e,"delete",t,void 0),i}function RO(e,t){const n=Reflect.has(e,t);return(!Zv(t)||!SI.has(t))&&Fn(e,"has",t),n}function OO(e){return Fn(e,"iterate",Re(e)?"length":Ro),Reflect.ownKeys(e)}const kI={get:IO,set:xO,deleteProperty:CO,has:RO,ownKeys:OO},PO={get:SO,set(e,t){return!0},deleteProperty(e,t){return!0}},DO=Gt({},kI,{get:TO,set:NO}),im=e=>e,Qf=e=>Reflect.getPrototypeOf(e);function Nl(e,t,n=!1,i=!1){e=e.__v_raw;const o=Je(e),u=Je(t);n||(t!==u&&Fn(o,"get",t),Fn(o,"get",u));const{has:a}=Qf(o),l=i?im:n?am:Pa;if(a.call(o,t))return l(e.get(t));if(a.call(o,u))return l(e.get(u));e!==o&&e.get(t)}function Cl(e,t=!1){const n=this.__v_raw,i=Je(n),o=Je(e);return t||(e!==o&&Fn(i,"has",e),Fn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Rl(e,t=!1){return e=e.__v_raw,!t&&Fn(Je(e),"iterate",Ro),Reflect.get(e,"size",e)}function O_(e){e=Je(e);const t=Je(this);return Qf(t).has.call(t,e)||(t.add(e),ui(t,"add",e,e)),this}function P_(e,t){t=Je(t);const n=Je(this),{has:i,get:o}=Qf(n);let u=i.call(n,e);u||(e=Je(e),u=i.call(n,e));const a=o.call(n,e);return n.set(e,t),u?Ca(t,a)&&ui(n,"set",e,t):ui(n,"add",e,t),this}function D_(e){const t=Je(this),{has:n,get:i}=Qf(t);let o=n.call(t,e);o||(e=Je(e),o=n.call(t,e)),i&&i.call(t,e);const u=t.delete(e);return o&&ui(t,"delete",e,void 0),u}function L_(){const e=Je(this),t=e.size!==0,n=e.clear();return t&&ui(e,"clear",void 0,void 0),n}function Ol(e,t){return function(i,o){const u=this,a=u.__v_raw,l=Je(a),f=t?im:e?am:Pa;return!e&&Fn(l,"iterate",Ro),a.forEach((d,p)=>i.call(o,f(d),f(p),u))}}function Pl(e,t,n){return function(...i){const o=this.__v_raw,u=Je(o),a=Ms(u),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?im:t?am:Pa;return!t&&Fn(u,"iterate",f?Qg:Ro),{next(){const{value:v,done:m}=d.next();return m?{value:v,done:m}:{value:l?[p(v[0]),p(v[1])]:p(v),done:m}},[Symbol.iterator](){return this}}}}function Ei(e){return function(...t){return e==="delete"?!1:this}}function LO(){const e={get(u){return Nl(this,u)},get size(){return Rl(this)},has:Cl,add:O_,set:P_,delete:D_,clear:L_,forEach:Ol(!1,!1)},t={get(u){return Nl(this,u,!1,!0)},get size(){return Rl(this)},has:Cl,add:O_,set:P_,delete:D_,clear:L_,forEach:Ol(!1,!0)},n={get(u){return Nl(this,u,!0)},get size(){return Rl(this,!0)},has(u){return Cl.call(this,u,!0)},add:Ei("add"),set:Ei("set"),delete:Ei("delete"),clear:Ei("clear"),forEach:Ol(!0,!1)},i={get(u){return Nl(this,u,!0,!0)},get size(){return Rl(this,!0)},has(u){return Cl.call(this,u,!0)},add:Ei("add"),set:Ei("set"),delete:Ei("delete"),clear:Ei("clear"),forEach:Ol(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Pl(u,!1,!1),n[u]=Pl(u,!0,!1),t[u]=Pl(u,!1,!0),i[u]=Pl(u,!0,!0)}),[e,n,t,i]}const[MO,FO,jO,UO]=LO();function om(e,t){const n=t?e?UO:jO:e?FO:MO;return(i,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(Qe(n,o)&&o in i?n:i,o,u)}const VO={get:om(!1,!1)},BO={get:om(!1,!0)},qO={get:om(!0,!1)},xI=new WeakMap,NI=new WeakMap,CI=new WeakMap,$O=new WeakMap;function HO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function KO(e){return e.__v_skip||!Object.isExtensible(e)?0:HO(uO(e))}function ai(e){return Bs(e)?e:um(e,!1,kI,VO,xI)}function RI(e){return um(e,!1,DO,BO,NI)}function sm(e){return um(e,!0,PO,qO,CI)}function um(e,t,n,i,o){if(!mt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const a=KO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function ji(e){return Bs(e)?ji(e.__v_raw):!!(e&&e.__v_isReactive)}function Bs(e){return!!(e&&e.__v_isReadonly)}function cf(e){return!!(e&&e.__v_isShallow)}function OI(e){return ji(e)||Bs(e)}function Je(e){const t=e&&e.__v_raw;return t?Je(t):e}function Jf(e){return uf(e,"__v_skip",!0),e}const Pa=e=>mt(e)?ai(e):e,am=e=>mt(e)?sm(e):e;function PI(e){Fi&&wr&&(e=Je(e),TI(e.dep||(e.dep=tm())))}function DI(e,t){e=Je(e);const n=e.dep;n&&Jg(n)}function ct(e){return!!(e&&e.__v_isRef===!0)}function bn(e){return MI(e,!1)}function LI(e){return MI(e,!0)}function MI(e,t){return ct(e)?e:new zO(e,t)}class zO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Je(t),this._value=n?t:Pa(t)}get value(){return PI(this),this._value}set value(t){const n=this.__v_isShallow||cf(t)||Bs(t);t=n?t:Je(t),Ca(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Pa(t),DI(this))}}function Ge(e){return ct(e)?e.value:e}function It(e){return je(e)?e():Ge(e)}const GO={get:(e,t,n)=>Ge(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return ct(o)&&!ct(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function FI(e){return ji(e)?e:new Proxy(e,GO)}function WO(e){const t=Re(e)?new Array(e.length):{};for(const n in e)t[n]=jI(e,n);return t}class XO{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return _O(Je(this._object),this._key)}}class YO{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ri(e,t,n){return ct(e)?e:je(e)?new YO(e):mt(e)&&arguments.length>1?jI(e,t,n):bn(e)}function jI(e,t,n){const i=e[t];return ct(i)?i:new XO(e,t,n)}class QO{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new nm(t,()=>{this._dirty||(this._dirty=!0,DI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Je(this);return PI(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function JO(e,t,n=!1){let i,o;const u=je(e);return u?(i=e,o=_r):(i=e.get,o=e.set),new QO(i,o,u||!o,n)}function Ui(e,t,n,i){let o;try{o=i?e(...i):e()}catch(u){Zf(u,t,n)}return o}function Er(e,t,n,i){if(je(e)){const u=Ui(e,t,n,i);return u&&dI(u)&&u.catch(a=>{Zf(a,t,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(Er(e[u],t,n,i));return o}function Zf(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const a=t.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}u=u.parent}const f=t.appContext.config.errorHandler;if(f){Ui(f,null,10,[e,a,l]);return}}ZO(e,n,o,i)}function ZO(e,t,n,i=!0){console.error(e)}let Da=!1,Zg=!1;const cn=[];let Vr=0;const Fs=[];let ei=null,Io=0;const UI=Promise.resolve();let cm=null;function jr(e){const t=cm||UI;return e?t.then(this?e.bind(this):e):t}function eP(e){let t=Vr+1,n=cn.length;for(;t<n;){const i=t+n>>>1;La(cn[i])<e?t=i+1:n=i}return t}function lm(e){(!cn.length||!cn.includes(e,Da&&e.allowRecurse?Vr+1:Vr))&&(e.id==null?cn.push(e):cn.splice(eP(e.id),0,e),VI())}function VI(){!Da&&!Zg&&(Zg=!0,cm=UI.then(qI))}function tP(e){const t=cn.indexOf(e);t>Vr&&cn.splice(t,1)}function nP(e){Re(e)?Fs.push(...e):(!ei||!ei.includes(e,e.allowRecurse?Io+1:Io))&&Fs.push(e),VI()}function M_(e,t=Da?Vr+1:0){for(;t<cn.length;t++){const n=cn[t];n&&n.pre&&(cn.splice(t,1),t--,n())}}function BI(e){if(Fs.length){const t=[...new Set(Fs)];if(Fs.length=0,ei){ei.push(...t);return}for(ei=t,ei.sort((n,i)=>La(n)-La(i)),Io=0;Io<ei.length;Io++)ei[Io]();ei=null,Io=0}}const La=e=>e.id==null?1/0:e.id,rP=(e,t)=>{const n=La(e)-La(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function qI(e){Zg=!1,Da=!0,cn.sort(rP);const t=_r;try{for(Vr=0;Vr<cn.length;Vr++){const n=cn[Vr];n&&n.active!==!1&&Ui(n,null,14)}}finally{Vr=0,cn.length=0,BI(),Da=!1,cm=null,(cn.length||Fs.length)&&qI()}}function iP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||vt;let o=n;const u=t.startsWith("update:"),a=u&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:m}=i[p]||vt;m&&(o=n.map(b=>Ft(b)?b.trim():b)),v&&(o=n.map(lO))}let l,f=i[l=bg(t)]||i[l=bg(Kr(t))];!f&&u&&(f=i[l=bg(hu(t))]),f&&Er(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Er(d,e,6,o)}}function $I(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const u=e.emits;let a={},l=!1;if(!je(e)){const f=d=>{const p=$I(d,t,!0);p&&(l=!0,Gt(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!u&&!l?(mt(e)&&i.set(e,null),null):(Re(u)?u.forEach(f=>a[f]=null):Gt(a,u),mt(e)&&i.set(e,a),a)}function eh(e,t){return!e||!Gf(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qe(e,t[0].toLowerCase()+t.slice(1))||Qe(e,hu(t))||Qe(e,t))}let Pn=null,HI=null;function lf(e){const t=Pn;return Pn=e,HI=e&&e.type.__scopeId||null,t}function Br(e,t=Pn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&G_(-1);const u=lf(t);let a;try{a=e(...o)}finally{lf(u),i._d&&G_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Eg(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:v,data:m,setupState:b,ctx:_,inheritAttrs:T}=e;let S,R;const O=lf(e);try{if(n.shapeFlag&4){const B=o||i;S=Ur(p.call(B,B,v,u,b,m,_)),R=f}else{const B=t;S=Ur(B.length>1?B(u,{attrs:f,slots:l,emit:d}):B(u,null)),R=t.props?f:oP(f)}}catch(B){ba.length=0,Zf(B,e,1),S=Le(Fo)}let F=S;if(R&&T!==!1){const B=Object.keys(R),{shapeFlag:te}=F;B.length&&te&7&&(a&&B.some(Qv)&&(R=sP(R,a)),F=qs(F,R))}return n.dirs&&(F=qs(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),S=F,lf(O),S}const oP=e=>{let t;for(const n in e)(n==="class"||n==="style"||Gf(n))&&((t||(t={}))[n]=e[n]);return t},sP=(e,t)=>{const n={};for(const i in e)(!Qv(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function uP(e,t,n){const{props:i,children:o,component:u}=e,{props:a,children:l,patchFlag:f}=t,d=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?F_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let v=0;v<p.length;v++){const m=p[v];if(a[m]!==i[m]&&!eh(d,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?F_(i,a,d):!0:!!a;return!1}function F_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(t[u]!==e[u]&&!eh(n,u))return!0}return!1}function aP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const cP=e=>e.__isSuspense;function lP(e,t){t&&t.pendingBranch?Re(e)?t.effects.push(...e):t.effects.push(e):nP(e)}function fP(e,t){return fm(e,null,t)}const Dl={};function er(e,t,n){return fm(e,t,n)}function fm(e,t,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=vt){var l;const f=bI()===((l=qt)==null?void 0:l.scope)?qt:null;let d,p=!1,v=!1;if(ct(e)?(d=()=>e.value,p=cf(e)):ji(e)?(d=()=>e,i=!0):Re(e)?(v=!0,p=e.some(B=>ji(B)||cf(B)),d=()=>e.map(B=>{if(ct(B))return B.value;if(ji(B))return Ao(B);if(je(B))return Ui(B,f,2)})):je(e)?t?d=()=>Ui(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return m&&m(),Er(e,f,3,[b])}:d=_r,t&&i){const B=d;d=()=>Ao(B())}let m,b=B=>{m=O.onStop=()=>{Ui(B,f,4)}},_;if(Ua)if(b=_r,t?n&&Er(t,f,3,[d(),v?[]:void 0,b]):d(),o==="sync"){const B=nD();_=B.__watcherHandles||(B.__watcherHandles=[])}else return _r;let T=v?new Array(e.length).fill(Dl):Dl;const S=()=>{if(O.active)if(t){const B=O.run();(i||p||(v?B.some((te,U)=>Ca(te,T[U])):Ca(B,T)))&&(m&&m(),Er(t,f,3,[B,T===Dl?void 0:v&&T[0]===Dl?[]:T,b]),T=B)}else O.run()};S.allowRecurse=!!t;let R;o==="sync"?R=S:o==="post"?R=()=>Rn(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),R=()=>lm(S));const O=new nm(d,R);t?n?S():T=O.run():o==="post"?Rn(O.run.bind(O),f&&f.suspense):O.run();const F=()=>{O.stop(),f&&f.scope&&Jv(f.scope.effects,O)};return _&&_.push(F),F}function hP(e,t,n){const i=this.proxy,o=Ft(e)?e.includes(".")?KI(i,e):()=>i[e]:e.bind(i,i);let u;je(t)?u=t:(u=t.handler,n=t);const a=qt;$s(this);const l=fm(o,u.bind(i),n);return a?$s(a):Oo(),l}function KI(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Ao(e,t){if(!mt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ct(e))Ao(e.value,t);else if(Re(e))for(let n=0;n<e.length;n++)Ao(e[n],t);else if(hI(e)||Ms(e))e.forEach(n=>{Ao(n,t)});else if(gI(e))for(const n in e)Ao(e[n],t);return e}function dP(e,t){const n=Pn;if(n===null)return e;const i=oh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[a,l,f,d=vt]=t[u];a&&(je(a)&&(a={mounted:a,updated:a}),a.deep&&Ao(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function yo(e,t,n,i){const o=e.dirs,u=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(du(),Er(f,n,8,[e.el,l,e,t]),pu())}}function oc(e,t){return je(e)?(()=>Gt({name:e.name},t,{setup:e}))():e}const Yl=e=>!!e.type.__asyncLoader,zI=e=>e.type.__isKeepAlive;function pP(e,t){GI(e,"a",t)}function gP(e,t){GI(e,"da",t)}function GI(e,t,n=qt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(th(t,i,n),n){let o=n.parent;for(;o&&o.parent;)zI(o.parent.vnode)&&vP(i,t,n,o),o=o.parent}}function vP(e,t,n,i){const o=th(t,e,i,!0);XI(()=>{Jv(i[t],o)},n)}function th(e,t,n=qt,i=!1){if(n){const o=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;du(),$s(n);const l=Er(t,n,e,a);return Oo(),pu(),l});return i?o.unshift(u):o.push(u),u}}const li=e=>(t,n=qt)=>(!Ua||e==="sp")&&th(e,(...i)=>t(...i),n),mP=li("bm"),hm=li("m"),yP=li("bu"),wP=li("u"),WI=li("bum"),XI=li("um"),bP=li("sp"),_P=li("rtg"),EP=li("rtc");function IP(e,t=qt){th("ec",e,t)}const dm="components";function Sn(e,t){return QI(dm,e,!0,t)||e}const YI=Symbol.for("v-ndc");function pm(e){return Ft(e)?QI(dm,e,!1)||e:e||YI}function QI(e,t,n=!0,i=!1){const o=Pn||qt;if(o){const u=o.type;if(e===dm){const l=ZP(u,!1);if(l&&(l===t||l===Kr(t)||l===Yf(Kr(t))))return u}const a=j_(o[e]||u[e],t)||j_(o.appContext[e],t);return!a&&i?u:a}}function j_(e,t){return e&&(e[t]||e[Kr(t)]||e[Yf(Kr(t))])}function TP(e,t,n,i){let o;const u=n&&n[i];if(Re(e)||Ft(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,u&&u[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,u&&u[a])}else if(mt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,u&&u[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const ev=e=>e?cT(e)?oh(e)||e.proxy:ev(e.parent):null,wa=Gt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ev(e.parent),$root:e=>ev(e.root),$emit:e=>e.emit,$options:e=>gm(e),$forceUpdate:e=>e.f||(e.f=()=>lm(e.update)),$nextTick:e=>e.n||(e.n=jr.bind(e.proxy)),$watch:e=>hP.bind(e)}),Ig=(e,t)=>e!==vt&&!e.__isScriptSetup&&Qe(e,t),SP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return u[t]}else{if(Ig(i,t))return a[t]=1,i[t];if(o!==vt&&Qe(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Qe(d,t))return a[t]=3,u[t];if(n!==vt&&Qe(n,t))return a[t]=4,n[t];tv&&(a[t]=0)}}const p=wa[t];let v,m;if(p)return t==="$attrs"&&Fn(e,"get",t),p(e);if((v=l.__cssModules)&&(v=v[t]))return v;if(n!==vt&&Qe(n,t))return a[t]=4,n[t];if(m=f.config.globalProperties,Qe(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:u}=e;return Ig(o,t)?(o[t]=n,!0):i!==vt&&Qe(i,t)?(i[t]=n,!0):Qe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||e!==vt&&Qe(e,a)||Ig(t,a)||(l=u[0])&&Qe(l,a)||Qe(i,a)||Qe(wa,a)||Qe(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function U_(e){return Re(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let tv=!0;function AP(e){const t=gm(e),n=e.proxy,i=e.ctx;tv=!1,t.beforeCreate&&V_(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:v,mounted:m,beforeUpdate:b,updated:_,activated:T,deactivated:S,beforeDestroy:R,beforeUnmount:O,destroyed:F,unmounted:B,render:te,renderTracked:U,renderTriggered:we,errorCaptured:z,serverPrefetch:ie,expose:k,inheritAttrs:We,components:ot,directives:st,filters:lt}=t;if(d&&kP(d,i,null),a)for(const Me in a){const ge=a[Me];je(ge)&&(i[Me]=ge.bind(n))}if(o){const Me=o.call(n,n);mt(Me)&&(e.data=ai(Me))}if(tv=!0,u)for(const Me in u){const ge=u[Me],dt=je(ge)?ge.bind(n,n):je(ge.get)?ge.get.bind(n,n):_r,St=!je(ge)&&je(ge.set)?ge.set.bind(n):_r,Vt=qe({get:dt,set:St});Object.defineProperty(i,Me,{enumerable:!0,configurable:!0,get:()=>Vt.value,set:Rt=>Vt.value=Rt})}if(l)for(const Me in l)JI(l[Me],i,n,Me);if(f){const Me=je(f)?f.call(n):f;Reflect.ownKeys(Me).forEach(ge=>{js(ge,Me[ge])})}p&&V_(p,e,"c");function ue(Me,ge){Re(ge)?ge.forEach(dt=>Me(dt.bind(n))):ge&&Me(ge.bind(n))}if(ue(mP,v),ue(hm,m),ue(yP,b),ue(wP,_),ue(pP,T),ue(gP,S),ue(IP,z),ue(EP,U),ue(_P,we),ue(WI,O),ue(XI,B),ue(bP,ie),Re(k))if(k.length){const Me=e.exposed||(e.exposed={});k.forEach(ge=>{Object.defineProperty(Me,ge,{get:()=>n[ge],set:dt=>n[ge]=dt})})}else e.exposed||(e.exposed={});te&&e.render===_r&&(e.render=te),We!=null&&(e.inheritAttrs=We),ot&&(e.components=ot),st&&(e.directives=st)}function kP(e,t,n=_r){Re(e)&&(e=nv(e));for(const i in e){const o=e[i];let u;mt(o)?"default"in o?u=fr(o.from||i,o.default,!0):u=fr(o.from||i):u=fr(o),ct(u)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):t[i]=u}}function V_(e,t,n){Er(Re(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function JI(e,t,n,i){const o=i.includes(".")?KI(n,i):()=>n[i];if(Ft(e)){const u=t[e];je(u)&&er(o,u)}else if(je(e))er(o,e.bind(n));else if(mt(e))if(Re(e))e.forEach(u=>JI(u,t,n,i));else{const u=je(e.handler)?e.handler.bind(n):t[e.handler];je(u)&&er(o,u,e)}}function gm(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=e.appContext,l=u.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>ff(f,d,a,!0)),ff(f,t,a)),mt(t)&&u.set(t,f),f}function ff(e,t,n,i=!1){const{mixins:o,extends:u}=t;u&&ff(e,u,n,!0),o&&o.forEach(a=>ff(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=xP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const xP={data:B_,props:q_,emits:q_,methods:ga,computed:ga,beforeCreate:mn,created:mn,beforeMount:mn,mounted:mn,beforeUpdate:mn,updated:mn,beforeDestroy:mn,beforeUnmount:mn,destroyed:mn,unmounted:mn,activated:mn,deactivated:mn,errorCaptured:mn,serverPrefetch:mn,components:ga,directives:ga,watch:CP,provide:B_,inject:NP};function B_(e,t){return t?e?function(){return Gt(je(e)?e.call(this,this):e,je(t)?t.call(this,this):t)}:t:e}function NP(e,t){return ga(nv(e),nv(t))}function nv(e){if(Re(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function mn(e,t){return e?[...new Set([].concat(e,t))]:t}function ga(e,t){return e?Gt(Object.create(null),e,t):t}function q_(e,t){return e?Re(e)&&Re(t)?[...new Set([...e,...t])]:Gt(Object.create(null),U_(e),U_(t??{})):t}function CP(e,t){if(!e)return t;if(!t)return e;const n=Gt(Object.create(null),e);for(const i in t)n[i]=mn(e[i],t[i]);return n}function ZI(){return{app:null,config:{isNativeTag:iO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RP=0;function OP(e,t){return function(i,o=null){je(i)||(i=Gt({},i)),o!=null&&!mt(o)&&(o=null);const u=ZI(),a=new Set;let l=!1;const f=u.app={_uid:RP++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:rD,get config(){return u.config},set config(d){},use(d,...p){return a.has(d)||(d&&je(d.install)?(a.add(d),d.install(f,...p)):je(d)&&(a.add(d),d(f,...p))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,p){return p?(u.components[d]=p,f):u.components[d]},directive(d,p){return p?(u.directives[d]=p,f):u.directives[d]},mount(d,p,v){if(!l){const m=Le(i,o);return m.appContext=u,p&&t?t(m,d):e(m,d,v),l=!0,f._container=d,d.__vue_app__=f,oh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return u.provides[d]=p,f},runWithContext(d){Ma=f;try{return d()}finally{Ma=null}}};return f}}let Ma=null;function js(e,t){if(qt){let n=qt.provides;const i=qt.parent&&qt.parent.provides;i===n&&(n=qt.provides=Object.create(i)),n[e]=t}}function fr(e,t,n=!1){const i=qt||Pn;if(i||Ma){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ma._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&je(t)?t.call(i&&i.proxy):t}}function PP(){return!!(qt||Pn||Ma)}function DP(e,t,n,i=!1){const o={},u={};uf(u,rh,1),e.propsDefaults=Object.create(null),eT(e,t,o,u);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:RI(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function LP(e,t,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=e,l=Je(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let v=0;v<p.length;v++){let m=p[v];if(eh(e.emitsOptions,m))continue;const b=t[m];if(f)if(Qe(u,m))b!==u[m]&&(u[m]=b,d=!0);else{const _=Kr(m);o[_]=rv(f,l,_,b,e,!1)}else b!==u[m]&&(u[m]=b,d=!0)}}}else{eT(e,t,o,u)&&(d=!0);let p;for(const v in l)(!t||!Qe(t,v)&&((p=hu(v))===v||!Qe(t,p)))&&(f?n&&(n[v]!==void 0||n[p]!==void 0)&&(o[v]=rv(f,l,v,void 0,e,!0)):delete o[v]);if(u!==l)for(const v in u)(!t||!Qe(t,v))&&(delete u[v],d=!0)}d&&ui(e,"set","$attrs")}function eT(e,t,n,i){const[o,u]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Xl(f))continue;const d=t[f];let p;o&&Qe(o,p=Kr(f))?!u||!u.includes(p)?n[p]=d:(l||(l={}))[p]=d:eh(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Je(n),d=l||vt;for(let p=0;p<u.length;p++){const v=u[p];n[v]=rv(o,f,v,d[v],e,!Qe(d,v))}}return a}function rv(e,t,n,i,o,u){const a=e[n];if(a!=null){const l=Qe(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&je(f)){const{propsDefaults:d}=o;n in d?i=d[n]:($s(o),i=d[n]=f.call(null,t),Oo())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===hu(n))&&(i=!0))}return i}function tT(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const u=e.props,a={},l=[];let f=!1;if(!je(e)){const p=v=>{f=!0;const[m,b]=tT(v,t,!0);Gt(a,m),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!u&&!f)return mt(e)&&i.set(e,Ls),Ls;if(Re(u))for(let p=0;p<u.length;p++){const v=Kr(u[p]);$_(v)&&(a[v]=vt)}else if(u)for(const p in u){const v=Kr(p);if($_(v)){const m=u[p],b=a[v]=Re(m)||je(m)?{type:m}:Gt({},m);if(b){const _=z_(Boolean,b.type),T=z_(String,b.type);b[0]=_>-1,b[1]=T<0||_<T,(_>-1||Qe(b,"default"))&&l.push(v)}}}const d=[a,l];return mt(e)&&i.set(e,d),d}function $_(e){return e[0]!=="$"}function H_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function K_(e,t){return H_(e)===H_(t)}function z_(e,t){return Re(t)?t.findIndex(n=>K_(n,e)):je(t)&&K_(t,e)?0:-1}const nT=e=>e[0]==="_"||e==="$stable",vm=e=>Re(e)?e.map(Ur):[Ur(e)],MP=(e,t,n)=>{if(t._n)return t;const i=Br((...o)=>vm(t(...o)),n);return i._c=!1,i},rT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(nT(o))continue;const u=e[o];if(je(u))t[o]=MP(o,u,i);else if(u!=null){const a=vm(u);t[o]=()=>a}}},iT=(e,t)=>{const n=vm(t);e.slots.default=()=>n},FP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Je(t),uf(t,"_",n)):rT(t,e.slots={})}else e.slots={},t&&iT(e,t);uf(e.slots,rh,1)},jP=(e,t,n)=>{const{vnode:i,slots:o}=e;let u=!0,a=vt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?u=!1:(Gt(o,t),!n&&l===1&&delete o._):(u=!t.$stable,rT(t,o)),a=t}else t&&(iT(e,t),a={default:1});if(u)for(const l in o)!nT(l)&&!(l in a)&&delete o[l]};function iv(e,t,n,i,o=!1){if(Re(e)){e.forEach((m,b)=>iv(m,t&&(Re(t)?t[b]:t),n,i,o));return}if(Yl(i)&&!o)return;const u=i.shapeFlag&4?oh(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=e,d=t&&t.r,p=l.refs===vt?l.refs={}:l.refs,v=l.setupState;if(d!=null&&d!==f&&(Ft(d)?(p[d]=null,Qe(v,d)&&(v[d]=null)):ct(d)&&(d.value=null)),je(f))Ui(f,l,12,[a,p]);else{const m=Ft(f),b=ct(f);if(m||b){const _=()=>{if(e.f){const T=m?Qe(v,f)?v[f]:p[f]:f.value;o?Re(T)&&Jv(T,u):Re(T)?T.includes(u)||T.push(u):m?(p[f]=[u],Qe(v,f)&&(v[f]=p[f])):(f.value=[u],e.k&&(p[e.k]=f.value))}else m?(p[f]=a,Qe(v,f)&&(v[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Rn(_,n)):_()}}}const Rn=lP;function UP(e){return VP(e)}function VP(e,t){const n=Xg();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:v,nextSibling:m,setScopeId:b=_r,insertStaticContent:_}=e,T=(I,A,C,j=null,V=null,W=null,re=!1,Q=null,ee=!!A.dynamicChildren)=>{if(I===A)return;I&&!ua(I,A)&&(j=P(I),Rt(I,V,W,!0),I=null),A.patchFlag===-2&&(ee=!1,A.dynamicChildren=null);const{type:Y,ref:be,shapeFlag:ce}=A;switch(Y){case nh:S(I,A,C,j);break;case Fo:R(I,A,C,j);break;case Ql:I==null&&O(A,C,j,re);break;case Xn:ot(I,A,C,j,V,W,re,Q,ee);break;default:ce&1?te(I,A,C,j,V,W,re,Q,ee):ce&6?st(I,A,C,j,V,W,re,Q,ee):(ce&64||ce&128)&&Y.process(I,A,C,j,V,W,re,Q,ee,Z)}be!=null&&V&&iv(be,I&&I.ref,W,A||I,!A)},S=(I,A,C,j)=>{if(I==null)i(A.el=l(A.children),C,j);else{const V=A.el=I.el;A.children!==I.children&&d(V,A.children)}},R=(I,A,C,j)=>{I==null?i(A.el=f(A.children||""),C,j):A.el=I.el},O=(I,A,C,j)=>{[I.el,I.anchor]=_(I.children,A,C,j,I.el,I.anchor)},F=({el:I,anchor:A},C,j)=>{let V;for(;I&&I!==A;)V=m(I),i(I,C,j),I=V;i(A,C,j)},B=({el:I,anchor:A})=>{let C;for(;I&&I!==A;)C=m(I),o(I),I=C;o(A)},te=(I,A,C,j,V,W,re,Q,ee)=>{re=re||A.type==="svg",I==null?U(A,C,j,V,W,re,Q,ee):ie(I,A,V,W,re,Q,ee)},U=(I,A,C,j,V,W,re,Q)=>{let ee,Y;const{type:be,props:ce,shapeFlag:me,transition:Ae,dirs:Be}=I;if(ee=I.el=a(I.type,W,ce&&ce.is,ce),me&8?p(ee,I.children):me&16&&z(I.children,ee,null,j,V,W&&be!=="foreignObject",re,Q),Be&&yo(I,null,j,"created"),we(ee,I,I.scopeId,re,j),ce){for(const N in ce)N!=="value"&&!Xl(N)&&u(ee,N,null,ce[N],W,I.children,j,V,ve);"value"in ce&&u(ee,"value",null,ce.value),(Y=ce.onVnodeBeforeMount)&&Mr(Y,j,I)}Be&&yo(I,null,j,"beforeMount");const Ee=(!V||V&&!V.pendingBranch)&&Ae&&!Ae.persisted;Ee&&Ae.beforeEnter(ee),i(ee,A,C),((Y=ce&&ce.onVnodeMounted)||Ee||Be)&&Rn(()=>{Y&&Mr(Y,j,I),Ee&&Ae.enter(ee),Be&&yo(I,null,j,"mounted")},V)},we=(I,A,C,j,V)=>{if(C&&b(I,C),j)for(let W=0;W<j.length;W++)b(I,j[W]);if(V){let W=V.subTree;if(A===W){const re=V.vnode;we(I,re,re.scopeId,re.slotScopeIds,V.parent)}}},z=(I,A,C,j,V,W,re,Q,ee=0)=>{for(let Y=ee;Y<I.length;Y++){const be=I[Y]=Q?xi(I[Y]):Ur(I[Y]);T(null,be,A,C,j,V,W,re,Q)}},ie=(I,A,C,j,V,W,re)=>{const Q=A.el=I.el;let{patchFlag:ee,dynamicChildren:Y,dirs:be}=A;ee|=I.patchFlag&16;const ce=I.props||vt,me=A.props||vt;let Ae;C&&wo(C,!1),(Ae=me.onVnodeBeforeUpdate)&&Mr(Ae,C,A,I),be&&yo(A,I,C,"beforeUpdate"),C&&wo(C,!0);const Be=V&&A.type!=="foreignObject";if(Y?k(I.dynamicChildren,Y,Q,C,j,Be,W):re||ge(I,A,Q,null,C,j,Be,W,!1),ee>0){if(ee&16)We(Q,A,ce,me,C,j,V);else if(ee&2&&ce.class!==me.class&&u(Q,"class",null,me.class,V),ee&4&&u(Q,"style",ce.style,me.style,V),ee&8){const Ee=A.dynamicProps;for(let N=0;N<Ee.length;N++){const x=Ee[N],K=ce[x],oe=me[x];(oe!==K||x==="value")&&u(Q,x,K,oe,V,I.children,C,j,ve)}}ee&1&&I.children!==A.children&&p(Q,A.children)}else!re&&Y==null&&We(Q,A,ce,me,C,j,V);((Ae=me.onVnodeUpdated)||be)&&Rn(()=>{Ae&&Mr(Ae,C,A,I),be&&yo(A,I,C,"updated")},j)},k=(I,A,C,j,V,W,re)=>{for(let Q=0;Q<A.length;Q++){const ee=I[Q],Y=A[Q],be=ee.el&&(ee.type===Xn||!ua(ee,Y)||ee.shapeFlag&70)?v(ee.el):C;T(ee,Y,be,null,j,V,W,re,!0)}},We=(I,A,C,j,V,W,re)=>{if(C!==j){if(C!==vt)for(const Q in C)!Xl(Q)&&!(Q in j)&&u(I,Q,C[Q],null,re,A.children,V,W,ve);for(const Q in j){if(Xl(Q))continue;const ee=j[Q],Y=C[Q];ee!==Y&&Q!=="value"&&u(I,Q,Y,ee,re,A.children,V,W,ve)}"value"in j&&u(I,"value",C.value,j.value)}},ot=(I,A,C,j,V,W,re,Q,ee)=>{const Y=A.el=I?I.el:l(""),be=A.anchor=I?I.anchor:l("");let{patchFlag:ce,dynamicChildren:me,slotScopeIds:Ae}=A;Ae&&(Q=Q?Q.concat(Ae):Ae),I==null?(i(Y,C,j),i(be,C,j),z(A.children,C,be,V,W,re,Q,ee)):ce>0&&ce&64&&me&&I.dynamicChildren?(k(I.dynamicChildren,me,C,V,W,re,Q),(A.key!=null||V&&A===V.subTree)&&oT(I,A,!0)):ge(I,A,C,be,V,W,re,Q,ee)},st=(I,A,C,j,V,W,re,Q,ee)=>{A.slotScopeIds=Q,I==null?A.shapeFlag&512?V.ctx.activate(A,C,j,re,ee):lt(A,C,j,V,W,re,ee):Xe(I,A,ee)},lt=(I,A,C,j,V,W,re)=>{const Q=I.component=WP(I,j,V);if(zI(I)&&(Q.ctx.renderer=Z),XP(Q),Q.asyncDep){if(V&&V.registerDep(Q,ue),!I.el){const ee=Q.subTree=Le(Fo);R(null,ee,A,C)}return}ue(Q,I,A,C,V,W,re)},Xe=(I,A,C)=>{const j=A.component=I.component;if(uP(I,A,C))if(j.asyncDep&&!j.asyncResolved){Me(j,A,C);return}else j.next=A,tP(j.update),j.update();else A.el=I.el,j.vnode=A},ue=(I,A,C,j,V,W,re)=>{const Q=()=>{if(I.isMounted){let{next:be,bu:ce,u:me,parent:Ae,vnode:Be}=I,Ee=be,N;wo(I,!1),be?(be.el=Be.el,Me(I,be,re)):be=Be,ce&&_g(ce),(N=be.props&&be.props.onVnodeBeforeUpdate)&&Mr(N,Ae,be,Be),wo(I,!0);const x=Eg(I),K=I.subTree;I.subTree=x,T(K,x,v(K.el),P(K),I,V,W),be.el=x.el,Ee===null&&aP(I,x.el),me&&Rn(me,V),(N=be.props&&be.props.onVnodeUpdated)&&Rn(()=>Mr(N,Ae,be,Be),V)}else{let be;const{el:ce,props:me}=A,{bm:Ae,m:Be,parent:Ee}=I,N=Yl(A);if(wo(I,!1),Ae&&_g(Ae),!N&&(be=me&&me.onVnodeBeforeMount)&&Mr(be,Ee,A),wo(I,!0),ce&&Oe){const x=()=>{I.subTree=Eg(I),Oe(ce,I.subTree,I,V,null)};N?A.type.__asyncLoader().then(()=>!I.isUnmounted&&x()):x()}else{const x=I.subTree=Eg(I);T(null,x,C,j,I,V,W),A.el=x.el}if(Be&&Rn(Be,V),!N&&(be=me&&me.onVnodeMounted)){const x=A;Rn(()=>Mr(be,Ee,x),V)}(A.shapeFlag&256||Ee&&Yl(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&I.a&&Rn(I.a,V),I.isMounted=!0,A=C=j=null}},ee=I.effect=new nm(Q,()=>lm(Y),I.scope),Y=I.update=()=>ee.run();Y.id=I.uid,wo(I,!0),Y()},Me=(I,A,C)=>{A.component=I;const j=I.vnode.props;I.vnode=A,I.next=null,LP(I,A.props,j,C),jP(I,A.children,C),du(),M_(),pu()},ge=(I,A,C,j,V,W,re,Q,ee=!1)=>{const Y=I&&I.children,be=I?I.shapeFlag:0,ce=A.children,{patchFlag:me,shapeFlag:Ae}=A;if(me>0){if(me&128){St(Y,ce,C,j,V,W,re,Q,ee);return}else if(me&256){dt(Y,ce,C,j,V,W,re,Q,ee);return}}Ae&8?(be&16&&ve(Y,V,W),ce!==Y&&p(C,ce)):be&16?Ae&16?St(Y,ce,C,j,V,W,re,Q,ee):ve(Y,V,W,!0):(be&8&&p(C,""),Ae&16&&z(ce,C,j,V,W,re,Q,ee))},dt=(I,A,C,j,V,W,re,Q,ee)=>{I=I||Ls,A=A||Ls;const Y=I.length,be=A.length,ce=Math.min(Y,be);let me;for(me=0;me<ce;me++){const Ae=A[me]=ee?xi(A[me]):Ur(A[me]);T(I[me],Ae,C,null,V,W,re,Q,ee)}Y>be?ve(I,V,W,!0,!1,ce):z(A,C,j,V,W,re,Q,ee,ce)},St=(I,A,C,j,V,W,re,Q,ee)=>{let Y=0;const be=A.length;let ce=I.length-1,me=be-1;for(;Y<=ce&&Y<=me;){const Ae=I[Y],Be=A[Y]=ee?xi(A[Y]):Ur(A[Y]);if(ua(Ae,Be))T(Ae,Be,C,null,V,W,re,Q,ee);else break;Y++}for(;Y<=ce&&Y<=me;){const Ae=I[ce],Be=A[me]=ee?xi(A[me]):Ur(A[me]);if(ua(Ae,Be))T(Ae,Be,C,null,V,W,re,Q,ee);else break;ce--,me--}if(Y>ce){if(Y<=me){const Ae=me+1,Be=Ae<be?A[Ae].el:j;for(;Y<=me;)T(null,A[Y]=ee?xi(A[Y]):Ur(A[Y]),C,Be,V,W,re,Q,ee),Y++}}else if(Y>me)for(;Y<=ce;)Rt(I[Y],V,W,!0),Y++;else{const Ae=Y,Be=Y,Ee=new Map;for(Y=Be;Y<=me;Y++){const Ne=A[Y]=ee?xi(A[Y]):Ur(A[Y]);Ne.key!=null&&Ee.set(Ne.key,Y)}let N,x=0;const K=me-Be+1;let oe=!1,fe=0;const ke=new Array(K);for(Y=0;Y<K;Y++)ke[Y]=0;for(Y=Ae;Y<=ce;Y++){const Ne=I[Y];if(x>=K){Rt(Ne,V,W,!0);continue}let Fe;if(Ne.key!=null)Fe=Ee.get(Ne.key);else for(N=Be;N<=me;N++)if(ke[N-Be]===0&&ua(Ne,A[N])){Fe=N;break}Fe===void 0?Rt(Ne,V,W,!0):(ke[Fe-Be]=Y+1,Fe>=fe?fe=Fe:oe=!0,T(Ne,A[Fe],C,null,V,W,re,Q,ee),x++)}const Ue=oe?BP(ke):Ls;for(N=Ue.length-1,Y=K-1;Y>=0;Y--){const Ne=Be+Y,Fe=A[Ne],Pe=Ne+1<be?A[Ne+1].el:j;ke[Y]===0?T(null,Fe,C,Pe,V,W,re,Q,ee):oe&&(N<0||Y!==Ue[N]?Vt(Fe,C,Pe,2):N--)}}},Vt=(I,A,C,j,V=null)=>{const{el:W,type:re,transition:Q,children:ee,shapeFlag:Y}=I;if(Y&6){Vt(I.component.subTree,A,C,j);return}if(Y&128){I.suspense.move(A,C,j);return}if(Y&64){re.move(I,A,C,Z);return}if(re===Xn){i(W,A,C);for(let ce=0;ce<ee.length;ce++)Vt(ee[ce],A,C,j);i(I.anchor,A,C);return}if(re===Ql){F(I,A,C);return}if(j!==2&&Y&1&&Q)if(j===0)Q.beforeEnter(W),i(W,A,C),Rn(()=>Q.enter(W),V);else{const{leave:ce,delayLeave:me,afterLeave:Ae}=Q,Be=()=>i(W,A,C),Ee=()=>{ce(W,()=>{Be(),Ae&&Ae()})};me?me(W,Be,Ee):Ee()}else i(W,A,C)},Rt=(I,A,C,j=!1,V=!1)=>{const{type:W,props:re,ref:Q,children:ee,dynamicChildren:Y,shapeFlag:be,patchFlag:ce,dirs:me}=I;if(Q!=null&&iv(Q,null,C,I,!0),be&256){A.ctx.deactivate(I);return}const Ae=be&1&&me,Be=!Yl(I);let Ee;if(Be&&(Ee=re&&re.onVnodeBeforeUnmount)&&Mr(Ee,A,I),be&6)de(I.component,C,j);else{if(be&128){I.suspense.unmount(C,j);return}Ae&&yo(I,null,A,"beforeUnmount"),be&64?I.type.remove(I,A,C,V,Z,j):Y&&(W!==Xn||ce>0&&ce&64)?ve(Y,A,C,!1,!0):(W===Xn&&ce&384||!V&&be&16)&&ve(ee,A,C),j&&pt(I)}(Be&&(Ee=re&&re.onVnodeUnmounted)||Ae)&&Rn(()=>{Ee&&Mr(Ee,A,I),Ae&&yo(I,null,A,"unmounted")},C)},pt=I=>{const{type:A,el:C,anchor:j,transition:V}=I;if(A===Xn){Bn(C,j);return}if(A===Ql){B(I);return}const W=()=>{o(C),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(I.shapeFlag&1&&V&&!V.persisted){const{leave:re,delayLeave:Q}=V,ee=()=>re(C,W);Q?Q(I.el,W,ee):ee()}else W()},Bn=(I,A)=>{let C;for(;I!==A;)C=m(I),o(I),I=C;o(A)},de=(I,A,C)=>{const{bum:j,scope:V,update:W,subTree:re,um:Q}=I;j&&_g(j),V.stop(),W&&(W.active=!1,Rt(re,I,A,C)),Q&&Rn(Q,A),Rn(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},ve=(I,A,C,j=!1,V=!1,W=0)=>{for(let re=W;re<I.length;re++)Rt(I[re],A,C,j,V)},P=I=>I.shapeFlag&6?P(I.component.subTree):I.shapeFlag&128?I.suspense.next():m(I.anchor||I.el),$=(I,A,C)=>{I==null?A._vnode&&Rt(A._vnode,null,null,!0):T(A._vnode||null,I,A,null,null,null,C),M_(),BI(),A._vnode=I},Z={p:T,um:Rt,m:Vt,r:pt,mt:lt,mc:z,pc:ge,pbc:k,n:P,o:e};let ae,Oe;return t&&([ae,Oe]=t(Z)),{render:$,hydrate:ae,createApp:OP($,ae)}}function wo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function oT(e,t,n=!1){const i=e.children,o=t.children;if(Re(i)&&Re(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=xi(o[u]),l.el=a.el),n||oT(a,l)),l.type===nh&&(l.el=a.el)}}function BP(e){const t=e.slice(),n=[0];let i,o,u,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,e[n[l]]<d?u=l+1:a=l;d<e[n[u]]&&(u>0&&(t[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=t[a];return n}const qP=e=>e.__isTeleport,Xn=Symbol.for("v-fgt"),nh=Symbol.for("v-txt"),Fo=Symbol.for("v-cmt"),Ql=Symbol.for("v-stc"),ba=[];let br=null;function Mt(e=!1){ba.push(br=e?null:[])}function $P(){ba.pop(),br=ba[ba.length-1]||null}let Fa=1;function G_(e){Fa+=e}function sT(e){return e.dynamicChildren=Fa>0?br||Ls:null,$P(),Fa>0&&br&&br.push(e),e}function Jt(e,t,n,i,o,u){return sT(M(e,t,n,i,o,u,!0))}function ov(e,t,n,i,o){return sT(Le(e,t,n,i,o,!0))}function sv(e){return e?e.__v_isVNode===!0:!1}function ua(e,t){return e.type===t.type&&e.key===t.key}const rh="__vInternal",uT=({key:e})=>e??null,Jl=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ft(e)||ct(e)||je(e)?{i:Pn,r:e,k:t,f:!!n}:e:null);function M(e,t=null,n=null,i=0,o=null,u=e===Xn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&uT(t),ref:t&&Jl(t),scopeId:HI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Pn};return l?(ym(f,n),u&128&&e.normalize(f)):n&&(f.shapeFlag|=Ft(n)?8:16),Fa>0&&!a&&br&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&br.push(f),f}const Le=HP;function HP(e,t=null,n=null,i=0,o=null,u=!1){if((!e||e===YI)&&(e=Fo),sv(e)){const l=qs(e,t,!0);return n&&ym(l,n),Fa>0&&!u&&br&&(l.shapeFlag&6?br[br.indexOf(e)]=l:br.push(l)),l.patchFlag|=-2,l}if(eD(e)&&(e=e.__vccOpts),t){t=KP(t);let{class:l,style:f}=t;l&&!Ft(l)&&(t.class=Ln(l)),mt(f)&&(OI(f)&&!Re(f)&&(f=Gt({},f)),t.style=Ra(f))}const a=Ft(e)?1:cP(e)?128:qP(e)?64:mt(e)?4:je(e)?2:0;return M(e,t,n,i,o,a,u,!0)}function KP(e){return e?OI(e)||rh in e?Gt({},e):e:null}function qs(e,t,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=e,l=t?ja(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&uT(l),ref:t&&t.ref?n&&o?Re(o)?o.concat(Jl(t)):[o,Jl(t)]:Jl(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xn?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qs(e.ssContent),ssFallback:e.ssFallback&&qs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function nr(e=" ",t=0){return Le(nh,null,e,t)}function mm(e,t){const n=Le(Ql,null,e);return n.staticCount=t,n}function aT(e="",t=!1){return t?(Mt(),ov(Fo,null,e)):Le(Fo,null,e)}function Ur(e){return e==null||typeof e=="boolean"?Le(Fo):Re(e)?Le(Xn,null,e.slice()):typeof e=="object"?xi(e):Le(nh,null,String(e))}function xi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qs(e)}function ym(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Re(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),ym(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(rh in t)?t._ctx=Pn:o===3&&Pn&&(Pn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else je(t)?(t={default:t,_ctx:Pn},n=32):(t=String(t),i&64?(n=16,t=[nr(t)]):n=8);e.children=t,e.shapeFlag|=n}function ja(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=Ln([t.class,i.class]));else if(o==="style")t.style=Ra([t.style,i.style]);else if(Gf(o)){const u=t[o],a=i[o];a&&u!==a&&!(Re(u)&&u.includes(a))&&(t[o]=u?[].concat(u,a):a)}else o!==""&&(t[o]=i[o])}return t}function Mr(e,t,n,i=null){Er(e,t,7,[n,i])}const zP=ZI();let GP=0;function WP(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||zP,u={uid:GP++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new yI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tT(i,o),emitsOptions:$I(i,o),emit:null,emitted:null,propsDefaults:vt,inheritAttrs:i.inheritAttrs,ctx:vt,data:vt,props:vt,attrs:vt,slots:vt,refs:vt,setupState:vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=iP.bind(null,u),e.ce&&e.ce(u),u}let qt=null;const ih=()=>qt||Pn;let wm,Is,W_="__VUE_INSTANCE_SETTERS__";(Is=Xg()[W_])||(Is=Xg()[W_]=[]),Is.push(e=>qt=e),wm=e=>{Is.length>1?Is.forEach(t=>t(e)):Is[0](e)};const $s=e=>{wm(e),e.scope.on()},Oo=()=>{qt&&qt.scope.off(),wm(null)};function cT(e){return e.vnode.shapeFlag&4}let Ua=!1;function XP(e,t=!1){Ua=t;const{props:n,children:i}=e.vnode,o=cT(e);DP(e,n,o,t),FP(e,i);const u=o?YP(e,t):void 0;return Ua=!1,u}function YP(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Jf(new Proxy(e.ctx,SP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?JP(e):null;$s(e),du();const u=Ui(i,e,0,[e.props,o]);if(pu(),Oo(),dI(u)){if(u.then(Oo,Oo),t)return u.then(a=>{X_(e,a,t)}).catch(a=>{Zf(a,e,0)});e.asyncDep=u}else X_(e,u,t)}else lT(e,t)}function X_(e,t,n){je(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:mt(t)&&(e.setupState=FI(t)),lT(e,n)}let Y_;function lT(e,t,n){const i=e.type;if(!e.render){if(!t&&Y_&&!i.render){const o=i.template||gm(e).template;if(o){const{isCustomElement:u,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=Gt(Gt({isCustomElement:u,delimiters:l},a),f);i.render=Y_(o,d)}}e.render=i.render||_r}$s(e),du(),AP(e),pu(),Oo()}function QP(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Fn(e,"get","$attrs"),t[n]}}))}function JP(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return QP(e)},slots:e.slots,emit:e.emit,expose:t}}function oh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(FI(Jf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wa)return wa[n](e)},has(t,n){return n in t||n in wa}}))}function ZP(e,t=!0){return je(e)?e.displayName||e.name:e.name||t&&e.__name}function eD(e){return je(e)&&"__vccOpts"in e}const qe=(e,t)=>JO(e,t,Ua);function Hs(e,t,n){const i=arguments.length;return i===2?mt(t)&&!Re(t)?sv(t)?Le(e,null,[t]):Le(e,t):Le(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&sv(n)&&(n=[n]),Le(e,t,n))}const tD=Symbol.for("v-scx"),nD=()=>fr(tD),rD="3.3.4",iD="http://www.w3.org/2000/svg",To=typeof document<"u"?document:null,Q_=To&&To.createElement("template"),oD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?To.createElementNS(iD,e):To.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>To.createTextNode(e),createComment:e=>To.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>To.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,u){const a=n?n.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{Q_.innerHTML=i?`<svg>${e}</svg>`:e;const l=Q_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function sD(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function uD(e,t,n){const i=e.style,o=Ft(n);if(n&&!o){if(t&&!Ft(t))for(const u in t)n[u]==null&&uv(i,u,"");for(const u in n)uv(i,u,n[u])}else{const u=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=u)}}const J_=/\s*!important$/;function uv(e,t,n){if(Re(n))n.forEach(i=>uv(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=aD(e,t);J_.test(n)?e.setProperty(hu(i),n.replace(J_,""),"important"):e[i]=n}}const Z_=["Webkit","Moz","ms"],Tg={};function aD(e,t){const n=Tg[t];if(n)return n;let i=Kr(t);if(i!=="filter"&&i in e)return Tg[t]=i;i=Yf(i);for(let o=0;o<Z_.length;o++){const u=Z_[o]+i;if(u in e)return Tg[t]=u}return t}const e1="http://www.w3.org/1999/xlink";function cD(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(e1,t.slice(6,t.length)):e.setAttributeNS(e1,t,n);else{const u=vO(t);n==null||u&&!vI(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function lD(e,t,n,i,o,u,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,u),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,p=n??"";d!==p&&(e.value=p),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=vI(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function fD(e,t,n,i){e.addEventListener(t,n,i)}function hD(e,t,n,i){e.removeEventListener(t,n,i)}function dD(e,t,n,i,o=null){const u=e._vei||(e._vei={}),a=u[t];if(i&&a)a.value=i;else{const[l,f]=pD(t);if(i){const d=u[t]=mD(i,o);fD(e,l,d,f)}else a&&(hD(e,l,a,f),u[t]=void 0)}}const t1=/(?:Once|Passive|Capture)$/;function pD(e){let t;if(t1.test(e)){t={};let i;for(;i=e.match(t1);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hu(e.slice(2)),t]}let Sg=0;const gD=Promise.resolve(),vD=()=>Sg||(gD.then(()=>Sg=0),Sg=Date.now());function mD(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Er(yD(i,n.value),t,5,[i])};return n.value=e,n.attached=vD(),n}function yD(e,t){if(Re(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const n1=/^on[a-z]/,wD=(e,t,n,i,o=!1,u,a,l,f)=>{t==="class"?sD(e,i,o):t==="style"?uD(e,n,i):Gf(t)?Qv(t)||dD(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):bD(e,t,i,o))?lD(e,t,i,u,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),cD(e,t,i,o))};function bD(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&n1.test(t)&&je(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||n1.test(t)&&Ft(n)?!1:t in e}const _D=["ctrl","shift","alt","meta"],ED={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>_D.some(n=>e[`${n}Key`]&&!t.includes(n))},Wn=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const u=ED[t[o]];if(u&&u(n,t))return}return e(n,...i)},ID={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):aa(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),aa(e,!0),i.enter(e)):i.leave(e,()=>{aa(e,!1)}):aa(e,t))},beforeUnmount(e,{value:t}){aa(e,t)}};function aa(e,t){e.style.display=t?e._vod:"none"}const TD=Gt({patchProp:wD},oD);let r1;function SD(){return r1||(r1=UP(TD))}const AD=(...e)=>{const t=SD().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=kD(i);if(!o)return;const u=t._component;!je(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function kD(e){return Ft(e)?document.querySelector(e):e}var xD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let fT;const sh=e=>fT=e,hT=Symbol();function av(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var _a;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(_a||(_a={}));function ND(){const e=wI(!0),t=e.run(()=>bn({}));let n=[],i=[];const o=Jf({install(u){sh(o),o._a=u,u.provide(hT,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!xD?i.push(u):n.push(u),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const dT=()=>{};function i1(e,t,n,i=dT){e.push(t);const o=()=>{const u=e.indexOf(t);u>-1&&(e.splice(u,1),i())};return!n&&bI()&&yO(o),o}function Ts(e,...t){e.slice().forEach(n=>{n(...t)})}const CD=e=>e();function cv(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];av(o)&&av(i)&&e.hasOwnProperty(n)&&!ct(i)&&!ji(i)?e[n]=cv(o,i):e[n]=i}return e}const RD=Symbol();function OD(e){return!av(e)||!e.hasOwnProperty(RD)}const{assign:ki}=Object;function PD(e){return!!(ct(e)&&e.effect)}function DD(e,t,n,i){const{state:o,actions:u,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=WO(n.state.value[e]);return ki(p,u,Object.keys(a||{}).reduce((v,m)=>(v[m]=Jf(qe(()=>{sh(n);const b=n._s.get(e);return a[m].call(b,b)})),v),{}))}return f=pT(e,d,t,n,i,!0),f}function pT(e,t,n={},i,o,u){let a;const l=ki({actions:{}},n),f={deep:!0};let d,p,v=[],m=[],b;const _=i.state.value[e];!u&&!_&&(i.state.value[e]={}),bn({});let T;function S(z){let ie;d=p=!1,typeof z=="function"?(z(i.state.value[e]),ie={type:_a.patchFunction,storeId:e,events:b}):(cv(i.state.value[e],z),ie={type:_a.patchObject,payload:z,storeId:e,events:b});const k=T=Symbol();jr().then(()=>{T===k&&(d=!0)}),p=!0,Ts(v,ie,i.state.value[e])}const R=u?function(){const{state:ie}=n,k=ie?ie():{};this.$patch(We=>{ki(We,k)})}:dT;function O(){a.stop(),v=[],m=[],i._s.delete(e)}function F(z,ie){return function(){sh(i);const k=Array.from(arguments),We=[],ot=[];function st(ue){We.push(ue)}function lt(ue){ot.push(ue)}Ts(m,{args:k,name:z,store:te,after:st,onError:lt});let Xe;try{Xe=ie.apply(this&&this.$id===e?this:te,k)}catch(ue){throw Ts(ot,ue),ue}return Xe instanceof Promise?Xe.then(ue=>(Ts(We,ue),ue)).catch(ue=>(Ts(ot,ue),Promise.reject(ue))):(Ts(We,Xe),Xe)}}const B={_p:i,$id:e,$onAction:i1.bind(null,m),$patch:S,$reset:R,$subscribe(z,ie={}){const k=i1(v,z,ie.detached,()=>We()),We=a.run(()=>er(()=>i.state.value[e],ot=>{(ie.flush==="sync"?p:d)&&z({storeId:e,type:_a.direct,events:b},ot)},ki({},f,ie)));return k},$dispose:O},te=ai(B);i._s.set(e,te);const we=(i._a&&i._a.runWithContext||CD)(()=>i._e.run(()=>(a=wI()).run(t)));for(const z in we){const ie=we[z];if(ct(ie)&&!PD(ie)||ji(ie))u||(_&&OD(ie)&&(ct(ie)?ie.value=_[z]:cv(ie,_[z])),i.state.value[e][z]=ie);else if(typeof ie=="function"){const k=F(z,ie);we[z]=k,l.actions[z]=ie}}return ki(te,we),ki(Je(te),we),Object.defineProperty(te,"$state",{get:()=>i.state.value[e],set:z=>{S(ie=>{ki(ie,z)})}}),i._p.forEach(z=>{ki(te,a.run(()=>z({store:te,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(te.$state,_),d=!0,p=!0,te}function bm(e,t,n){let i,o;const u=typeof t=="function";typeof e=="string"?(i=e,o=u?n:t):(o=e,i=e.id);function a(l,f){const d=PP();return l=l||(d?fr(hT,null):null),l&&sh(l),l=fT,l._s.has(i)||(u?pT(i,t,o,l):DD(i,o,l)),l._s.get(i)}return a.$id=i,a}let LD="Store";function MD(...e){return e.reduce((t,n)=>(t[n.$id+LD]=function(){return n(this.$pinia)},t),{})}function _m(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),u=t[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function uh(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function Em(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const hf=bm("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var lv=function(e,t){return lv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},lv(e,t)};function Te(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ks=function(){return Ks=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Ks.apply(this,arguments)};function H(e,t,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(p){try{d(i.next(p))}catch(v){a(v)}}function f(p){try{d(i.throw(p))}catch(v){a(v)}}function d(p){p.done?u(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function q(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Ag(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ll(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function bt(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gT=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},FD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var u=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return t.join("")},jD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var u=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=u>>2,v=(u&3)<<4|l>>4,m=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(m=64)),i.push(n[p],n[v],n[m],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(gT(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var u=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,v=p?n[e.charAt(o)]:64;if(++o,u==null||l==null||d==null||v==null)throw Error();var m=u<<2|l>>4;if(i.push(m),d!==64){var b=l<<4&240|d>>2;if(i.push(b),v!==64){var _=d<<6&192|v;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},UD=function(e){var t=gT(e);return jD.encodeByteArray(t,!0)},o1=function(e){return UD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(e){return Va(void 0,e)}function Va(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!BD(i)||(e[i]=Va(e[i],t[i]));return e}function BD(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qD=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Ks({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[o1(JSON.stringify(n)),o1(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $D(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jo())}function mT(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HD(){return typeof self=="object"&&self.self===self}function KD(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function zD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GD(){return jo().indexOf("Electron/")>=0}function WD(){var e=jo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function XD(){return jo().indexOf("MSAppHost/")>=0}function YD(){return!mT()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QD="FirebaseError",yT=function(e){Te(t,e);function t(n,i,o){var u=e.call(this,i)||this;return u.code=n,u.customData=o,u.name=QD,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Im.prototype.create),u}return t}(Error),Im=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+t,a=this.errors[t],l=a?JD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new yT(u,f,o);return d},e}();function JD(e,t){return e.replace(ZD,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var ZD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function eL(e,t){var n=new tL(e,t);return n.subscribe.bind(n)}var tL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,u;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");nL(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:i},u.next===void 0&&(u.next=kg),u.error===void 0&&(u.error=kg),u.complete===void 0&&(u.complete=kg);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function nL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e){return e&&e._delegate?e._delegate:e}var sc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new qD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(oL(t))try{this.getOrInitializeService({instanceIdentifier:_o})}catch{}try{for(var o=Ag(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=Ll(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(v){n={error:v}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=_o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(bt(bt([],Ll(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Ll(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=_o),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=_o),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Ag(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=Ll(d.value,2),v=p[0],m=p[1],b=this.normalizeInstanceIdentifier(v);a===b&&m.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&t(a,o),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Ag(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:iL(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=_o),this.component?this.component.multipleInstances?t:_o:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function iL(e){return e===_o?void 0:e}function oL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new rL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function yr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var u=arguments[t],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo,Tm=[],et;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(et||(et={}));var wT={debug:et.DEBUG,verbose:et.VERBOSE,info:et.INFO,warn:et.WARN,error:et.ERROR,silent:et.SILENT},uL=et.INFO,aL=(bo={},bo[et.DEBUG]="log",bo[et.VERBOSE]="log",bo[et.INFO]="info",bo[et.WARN]="warn",bo[et.ERROR]="error",bo),cL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),u=aL[t];if(u)console[u].apply(console,yr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},bT=function(){function e(t){this.name=t,this._logLevel=uL,this._logHandler=cL,this._userLogHandler=null,Tm.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in et))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?wT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,et.DEBUG],t)),this._logHandler.apply(this,yr([this,et.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,et.VERBOSE],t)),this._logHandler.apply(this,yr([this,et.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,et.INFO],t)),this._logHandler.apply(this,yr([this,et.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,et.WARN],t)),this._logHandler.apply(this,yr([this,et.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,yr([this,et.ERROR],t)),this._logHandler.apply(this,yr([this,et.ERROR],t))},e}();function lL(e){Tm.forEach(function(t){t.setLogLevel(e)})}function fL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=wT[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],v=2;v<arguments.length;v++)p[v-2]=arguments[v];var m=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:et[d].toLowerCase(),message:m,args:p,type:f.name})}},i=0,o=Tm;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii,hL=(Ii={},Ii["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Ii["bad-app-name"]="Illegal App name: '{$appName}",Ii["duplicate-app"]="Firebase App named '{$appName}' already exists",Ii["app-deleted"]="Firebase App named '{$appName}' already deleted",Ii["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Ii["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Ii),Ns=new Im("app","Firebase",hL),_T="@firebase/app",dL="0.6.30",pL="@firebase/analytics",gL="@firebase/app-check",vL="@firebase/auth",mL="@firebase/database",yL="@firebase/functions",wL="@firebase/installations",bL="@firebase/messaging",_L="@firebase/performance",EL="@firebase/remote-config",IL="@firebase/storage",TL="@firebase/firestore",SL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,df="[DEFAULT]",AL=(sn={},sn[_T]="fire-core",sn[pL]="fire-analytics",sn[gL]="fire-app-check",sn[vL]="fire-auth",sn[mL]="fire-rtdb",sn[yL]="fire-fn",sn[wL]="fire-iid",sn[bL]="fire-fcm",sn[_L]="fire-perf",sn[EL]="fire-rc",sn[IL]="fire-gcs",sn[TL]="fire-fst",sn["fire-js"]="fire-js",sn[SL]="fire-js-all",sn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zs=new bT("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zl=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=VD(t),this.container=new sL(n.name),this._addComponent(new sc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=df),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=df),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){zs.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ns.create("app-deleted",{appName:this.name_})},e}();Zl.prototype.name&&Zl.prototype.options||Zl.prototype.delete||console.log("dc");var kL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:lL,onLog:p,apps:null,SDK_VERSION:kL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:v}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(m){delete t[m]}function u(m){if(m=m||df,!s1(t,m))throw Ns.create("no-app",{appName:m});return t[m]}u.App=e;function a(m,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var T=b;T.name===void 0&&(T.name=df);var S=T.name;if(typeof S!="string"||!S)throw Ns.create("bad-app-name",{appName:String(S)});if(s1(t,S))throw Ns.create("duplicate-app",{appName:S});var R=new e(m,T,i);return t[S]=R,R}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var b=m.name;if(n.has(b))return zs.debug("There were multiple attempts to register component "+b+"."),m.type==="PUBLIC"?i[b]:null;if(n.set(b,m),m.type==="PUBLIC"){var _=function(O){if(O===void 0&&(O=u()),typeof O[b]!="function")throw Ns.create("invalid-app-argument",{appName:b});return O[b]()};m.serviceProps!==void 0&&Va(_,m.serviceProps),i[b]=_,e.prototype[b]=function(){for(var O=[],F=0;F<arguments.length;F++)O[F]=arguments[F];var B=this._getService.bind(this,b);return B.apply(this,m.multipleInstances?O:[])}}for(var T=0,S=Object.keys(t);T<S.length;T++){var R=S[T];t[R]._addComponent(m)}return m.type==="PUBLIC"?i[b]:null}function d(m,b,_){var T,S=(T=AL[m])!==null&&T!==void 0?T:m;_&&(S+="-"+_);var R=S.match(/\s|\//),O=b.match(/\s|\//);if(R||O){var F=['Unable to register library "'+S+'" with version "'+b+'":'];R&&F.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),R&&O&&F.push("and"),O&&F.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),zs.warn(F.join(" "));return}f(new sc(S+"-version",function(){return{library:S,version:b}},"VERSION"))}function p(m,b){if(m!==null&&typeof m!="function")throw Ns.create("invalid-log-argument");fL(m,b)}function v(m,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(){var e=xL(Zl);e.INTERNAL=Ks(Ks({},e.INTERNAL),{createFirebaseNamespace:ET,extendNamespace:t,createSubscribe:eL,ErrorFactory:Im,deepExtend:Va});function t(n){Va(e,n)}return e}var Sm=ET();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(CL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function CL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(e,t){e.INTERNAL.registerComponent(new sc("platform-logger",function(n){return new NL(n)},"PRIVATE")),e.registerVersion(_T,dL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(HD()&&self.firebase!==void 0){zs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var u1=self.firebase.SDK_VERSION;u1&&u1.indexOf("LITE")>=0&&zs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var OL=Sm.initializeApp;Sm.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mT()&&zs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),OL.apply(void 0,e)};var Se=Sm;RL(Se);var PL="firebase",IT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Se.registerVersion(PL,IT,"app");Se.SDK_VERSION=IT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var g=r[h];g in c||(c[g]={}),c=c[g]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(L){E.reject(L)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var g=i.setTimeout;c.prototype.c=function(w){g(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var L=w[E];w[E]=null;try{L()}catch(G){this.f(G)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(G){return function(Ce){L||(L=!0,G.call(E,Ce))}}var E=this,L=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{e:switch(typeof w){case"object":var E=w!=null;break e;case"function":E=!0;break e;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(L){this.g(L);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var L=this.f();try{w.call(E,L.resolve,L.reject)}catch(G){L.reject(G)}},s.prototype.then=function(w,E){function L(Ze,Kt){return typeof Ze=="function"?function(Jr){try{G(Ze(Jr))}catch(wg){Ce(wg)}}:Kt}var G,Ce,rt=new s(function(Ze,Kt){G=Ze,Ce=Kt});return this.Ra(L(w,G),L(E,Ce)),rt},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function L(){switch(G.b){case 1:w(G.c);break;case 2:E(G.c);break;default:throw Error("Unexpected state: "+G.b)}}var G=this;this.a==null?y.b(L):this.a.push(L)},s.resolve=h,s.reject=function(w){return new s(function(E,L){L(w)})},s.race=function(w){return new s(function(E,L){for(var G=a(w),Ce=G.next();!Ce.done;Ce=G.next())h(Ce.value).Ra(E,L)})},s.all=function(w){var E=a(w),L=E.next();return L.done?h([]):new s(function(G,Ce){function rt(Jr){return function(wg){Ze[Jr]=wg,Kt--,Kt==0&&G(Ze)}}var Ze=[],Kt=0;do Ze.push(void 0),Kt++,h(L.value).Ra(rt(Ze.length-1),Ce),L=E.next();while(!L.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function v(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function m(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function S(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function R(r){return Object.prototype.hasOwnProperty.call(r,O)&&r[O]||(r[O]=++F)}var O="closure_uid_"+(1e9*Math.random()>>>0),F=0;function B(r,s,c){return r.call.apply(r.bind,arguments)}function te(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),r.apply(s,g)}}return function(){return r.apply(s,arguments)}}function U(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U=B:U=te,U.apply(null,arguments)}function we(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function z(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ie(r){return r}function k(r,s,c){this.code=ot+r,this.message=s||st[r]||"",this.a=c||null}z(k,Error),k.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},k.prototype.toJSON=function(){return this.w()};function We(r){var s=r&&r.code;return s?new k(s.substring(ot.length),r.message,r.serverResponse):null}var ot="auth/",st={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},lt={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Xe(r){for(var s in lt)if(lt[s].id===r)return r=lt[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var ue;ue=Xe("__EID__")?"__EID__":void 0;function Me(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function ge(r){if(Error.captureStackTrace)Error.captureStackTrace(this,ge);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}z(ge,Error),ge.prototype.name="CustomError";function dt(r,s){r=r.split("%s");for(var c="",h=r.length-1,g=0;g<h;g++)c+=r[g]+(g<s.length?s[g]:"%s");ge.call(this,c+r[h])}z(dt,ge),dt.prototype.name="AssertionError";function St(r,s){throw new dt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Vt(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Vt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Rt(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function pt(){this.b=this.a=null}var Bn=new Vt(function(){return new ve},function(r){r.reset()});pt.prototype.add=function(r,s){var c=Bn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function de(){var r=d0,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var P=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},$=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,g=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in g&&s.call(c,g[y],y,r)};function Z(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ae=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],g=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var E=y[w];s.call(void 0,E,w,r)&&(h[g++]=E)}return h},Oe=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),g=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in g&&(h[y]=s.call(void 0,g[y],y,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&s.call(void 0,h[g],g,r))return!0;return!1};function A(r){e:{for(var s=FN,c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&s.call(void 0,h[g],g,r)){s=g;break e}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function C(r,s){return 0<=P(r,s)}function j(r,s){s=P(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function V(r,s){var c=0;Z(r,function(h,g){s.call(void 0,h,g,r)&&Array.prototype.splice.call(r,g,1).length==1&&c++})}function W(r){return Array.prototype.concat.apply([],arguments)}function re(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var Q=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},ee=/&/g,Y=/</g,be=/>/g,ce=/"/g,me=/'/g,Ae=/\x00/g,Be=/[\x00&<>"']/;function Ee(r,s){return r.indexOf(s)!=-1}function N(r,s){return r<s?-1:r>s?1:0}var x;e:{var K=f.navigator;if(K){var oe=K.userAgent;if(oe){x=oe;break e}}x=""}function fe(r){return Ee(x,r)}function ke(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function Ue(r){for(var s in r)return!1;return!0}function Ne(r){var s={},c;for(c in r)s[c]=r[c];return s}var Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pe(r,s){for(var c,h,g=1;g<arguments.length;g++){h=arguments[g];for(c in h)r[c]=h[c];for(var y=0;y<Fe.length;y++)c=Fe[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function rn(r,s){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var g=h;break e}}catch{}g=null}if(g&&typeof g[s]<"u"&&(!r||!(r instanceof g[s])&&(r instanceof g.Location||r instanceof g.Element))){if(S(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;St("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function on(r,s){this.a=r===xc&&s||"",this.b=Wy}on.prototype.ta=!0,on.prototype.sa=function(){return this.a},on.prototype.toString=function(){return"Const{"+this.a+"}"};function zh(r){return r instanceof on&&r.constructor===on&&r.b===Wy?r.a:(St("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Wy={},xc={},Nc;function Xy(){if(Nc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ie,createScript:ie,createScriptURL:ie})}catch(c){f.console&&f.console.error(c.message)}Nc=r}else Nc=r}return Nc}function es(r,s){this.a=s===Qy?r:""}es.prototype.ta=!0,es.prototype.sa=function(){return this.a.toString()},es.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Yy(r){return r instanceof es&&r.constructor===es?r.a:(St("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Gh(r,s){var c=zh(r);if(!dx.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(hx,function(h,g){if(!Object.prototype.hasOwnProperty.call(s,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[g],h instanceof on?zh(h):encodeURIComponent(String(h))}),px(r)}var hx=/%{(\w+)}/g,dx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Qy={};function px(r){var s=Xy();return r=s?s.createScriptURL(r):r,new es(r,Qy)}function kn(r,s){this.a=s===Su?r:""}kn.prototype.ta=!0,kn.prototype.sa=function(){return this.a.toString()},kn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Cc(r){return r instanceof kn&&r.constructor===kn?r.a:(St("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var gx=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,vx=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Jy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Zy(r){if(r instanceof kn)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),Jy.test(r))r=new kn(r,Su);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(vx);r=s&&gx.test(s[1])?new kn(r,Su):null}return r}function e0(r){return r instanceof kn?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),Jy.test(r)||(r="about:invalid#zClosurez"),new kn(r,Su))}var Su={},t0=new kn("about:invalid#zClosurez",Su);function ts(r,s,c){this.a=c===n0?r:""}ts.prototype.ta=!0,ts.prototype.sa=function(){return this.a.toString()},ts.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function mx(r){return r instanceof ts&&r.constructor===ts?r.a:(St("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var n0={};function yx(r,s){rn(r,"HTMLScriptElement"),r.src=Yy(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=v(s.document):(p===null&&(p=v(f.document)),s=p),s&&r.setAttribute("nonce",s)}function r0(r,s,c,h){return r=r instanceof kn?r:e0(r),s=s||f,c=c instanceof on?zh(c):c||"",s.open(Cc(r),c,h,void 0)}function i0(r,s){for(var c=r.split("%s"),h="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)h+=c.shift()+g.shift();return h+c.join("%s")}function Wh(r){return Be.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(ee,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Y,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(be,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(ce,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(me,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(Ae,"&#0;"))),r}function Xh(r){return Xh[" "](r),r}Xh[" "]=m;function wx(r,s){var c=Ix;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var bx=fe("Opera"),hr=fe("Trident")||fe("MSIE"),o0=fe("Edge"),_x=o0||hr,s0=fe("Gecko")&&!(Ee(x.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Ex=Ee(x.toLowerCase(),"webkit")&&!fe("Edge");function u0(){var r=f.document;return r?r.documentMode:void 0}var Rc;e:{var Yh="",Qh=function(){var r=x;if(s0)return/rv:([^\);]+)(\)|;)/.exec(r);if(o0)return/Edge\/([\d\.]+)/.exec(r);if(hr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Ex)return/WebKit\/(\S+)/.exec(r);if(bx)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Qh&&(Yh=Qh?Qh[1]:""),hr){var Jh=u0();if(Jh!=null&&Jh>parseFloat(Yh)){Rc=String(Jh);break e}}Rc=Yh}var Ix={};function a0(r){return wx(r,function(){for(var s=0,c=Q(String(Rc)).split("."),h=Q(String(r)).split("."),g=Math.max(c.length,h.length),y=0;s==0&&y<g;y++){var w=c[y]||"",E=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=N(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||N(w[2].length==0,E[2].length==0)||N(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var Zh;if(f.document&&hr){var c0=u0();Zh=c0||parseInt(Rc,10)||void 0}else Zh=void 0;var pi=Zh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var Tx=!hr||9<=Number(pi);function Au(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function l0(r,s){ke(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:f0.hasOwnProperty(h)?r.setAttribute(f0[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var f0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Sx(r,s,c){var h=arguments,g=document,y=String(h[0]),w=h[1];if(!Tx&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',Wh(w.name),'"'),w.type){y.push(' type="',Wh(w.type),'"');var E={};Pe(E,w),delete E.type,w=E}y.push(">"),y=y.join("")}return y=Oc(g,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):l0(y,w)),2<h.length&&Ax(g,y,h),y}function Ax(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var g=2;g<c.length;g++){var y=c[g];if(!_(y)||S(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(S(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(T(y)){w=typeof y.item=="function";break e}}w=!1}$(w?re(y):y,h)}}}function Oc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function h0(r){f.setTimeout(function(){throw r},0)}var ed;function kx(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(r=function(){var g=Oc(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var y=g.contentWindow;g=y.document,g.open(),g.close();var w="callImmediate"+Math.random(),E=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;g=U(function(L){(E=="*"||L.origin==E)&&L.data==w&&this.port1.onmessage()},this),y.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,E)}}}),typeof r<"u"&&!fe("Trident")&&!fe("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){h.next={Hb:g},h=h.next,s.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function Pc(r,s){Dc||xx(),td||(Dc(),td=!0),d0.add(r,s)}var Dc;function xx(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Dc=function(){r.then(p0)}}else Dc=function(){var s=p0;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!fe("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(ed||(ed=kx()),ed(s)):f.setImmediate(s)}}var td=!1,d0=new pt;function p0(){for(var r;r=de();){try{r.a.call(r.b)}catch(s){h0(s)}Rt(Bn,r)}td=!1}function He(r,s){if(this.a=Ji,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=m)try{var c=this;r.call(s,function(h){Zi(c,ku,h)},function(h){if(!(h instanceof ns))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Zi(c,Wr,h)})}catch(h){Zi(this,Wr,h)}}var Ji=0,ku=2,Wr=3;function g0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}g0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var v0=new Vt(function(){return new g0},function(r){r.reset()});function nd(r,s,c){var h=v0.get();return h.g=r,h.b=s,h.f=c,h}function Ie(r){if(r instanceof He)return r;var s=new He(m);return Zi(s,ku,r),s}function yt(r){return new He(function(s,c){c(r)})}function m0(r,s,c){_0(r,s,c,null)||Pc(we(s,r))}function Nx(r){return new He(function(s,c){var h=r.length,g=[];if(h)for(var y=function(G,Ce){h--,g[G]=Ce,h==0&&s(g)},w=function(G){c(G)},E=0,L;E<r.length;E++)L=r[E],m0(L,we(y,E),w);else s(g)})}function y0(r){return new He(function(s){var c=r.length,h=[];if(c)for(var g=function(E,L,G){c--,h[E]=L?{Qb:!0,value:G}:{Qb:!1,reason:G},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],m0(w,we(g,y,!0),we(g,y,!1));else s(h)})}He.prototype.then=function(r,s,c){return b0(this,T(r)?r:null,T(s)?s:null,c)},He.prototype.$goog_Thenable=!0,e=He.prototype,e.oa=function(r,s){return r=nd(r,r,s),r.c=!0,rd(this,r),this},e.o=function(r,s){return b0(this,null,r,s)},e.cancel=function(r){if(this.a==Ji){var s=new ns(r);Pc(function(){w0(this,s)},this)}};function w0(r,s){if(r.a==Ji)if(r.c){var c=r.c;if(c.b){for(var h=0,g=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(g=w),!(g&&1<h)));w=w.next)g||(y=w);g&&(c.a==Ji&&h==1?w0(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):I0(c),T0(c,g,Wr,s)))}r.c=null}else Zi(r,Wr,s)}function rd(r,s){r.b||r.a!=ku&&r.a!=Wr||E0(r),r.f?r.f.next=s:r.b=s,r.f=s}function b0(r,s,c,h){var g=nd(null,null,null);return g.a=new He(function(y,w){g.g=s?function(E){try{var L=s.call(h,E);y(L)}catch(G){w(G)}}:y,g.b=c?function(E){try{var L=c.call(h,E);L===void 0&&E instanceof ns?w(E):y(L)}catch(G){w(G)}}:w}),g.a.c=r,rd(r,g),g.a}e.$c=function(r){this.a=Ji,Zi(this,ku,r)},e.ad=function(r){this.a=Ji,Zi(this,Wr,r)};function Zi(r,s,c){r.a==Ji&&(r===c&&(s=Wr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,_0(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,E0(r),s!=Wr||c instanceof ns||Rx(r,c)))}function _0(r,s,c,h){if(r instanceof He)return rd(r,nd(s||m,c||null,h)),!0;if(Me(r))return r.then(s,c,h),!0;if(S(r))try{var g=r.then;if(T(g))return Cx(r,g,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function Cx(r,s,c,h,g){function y(L){E||(E=!0,h.call(g,L))}function w(L){E||(E=!0,c.call(g,L))}var E=!1;try{s.call(r,w,y)}catch(L){y(L)}}function E0(r){r.h||(r.h=!0,Pc(r.gc,r))}function I0(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=I0(this);)T0(this,r,this.a,this.i);this.h=!1};function T0(r,s,c,h){if(c==Wr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,S0(s,c,h);else try{s.c?s.g.call(s.f):S0(s,c,h)}catch(g){A0.call(null,g)}Rt(v0,s)}function S0(r,s,c){s==ku?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function Rx(r,s){r.g=!0,Pc(function(){r.g&&A0.call(null,s)})}var A0=h0;function ns(r){ge.call(this,r)}z(ns,ge),ns.prototype.name="cancel";function Lc(){this.ya=this.ya,this.pa=this.pa}var Ox=0;Lc.prototype.ya=!1;function k0(r){!r.ya&&(r.ya=!0,r.Da(),Ox!=0)&&R(r)}Lc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Px=Object.freeze||function(r){return r},x0=!hr||9<=Number(pi),Dx=hr&&!a0("9"),Lx=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",m,s),f.removeEventListener("test",m,s)}catch{}return r}();function xn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}xn.prototype.preventDefault=function(){this.defaultPrevented=!0};function eo(r,s){if(xn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(s0){e:{try{Xh(s.nodeName);var g=!0;break e}catch{}g=!1}g||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:Mx[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}z(eo,xn);var Mx=Px({2:"touch",3:"pen",4:"mouse"});eo.prototype.preventDefault=function(){eo.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,Dx)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},eo.prototype.g=function(){return this.a};var xu="closure_listenable_"+(1e6*Math.random()|0),Fx=0;function jx(r,s,c,h,g){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=g,this.key=++Fx,this.wa=this.Qa=!1}function Mc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Fc(r){this.src=r,this.a={},this.b=0}Fc.prototype.add=function(r,s,c,h,g){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=od(r,s,h,g);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new jx(s,this.src,y,!!h,g),s.Qa=c,r.push(s)),s};function id(r,s){var c=s.type;c in r.a&&j(r.a[c],s)&&(Mc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function od(r,s,c,h){for(var g=0;g<r.length;++g){var y=r[g];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return g}return-1}var sd="closure_lm_"+(1e6*Math.random()|0),ud={};function ir(r,s,c,h,g){if(h&&h.once)ad(r,s,c,h,g);else if(Array.isArray(s))for(var y=0;y<s.length;y++)ir(r,s[y],c,h,g);else c=ld(c),r&&r[xu]?D0(r,s,c,S(h)?!!h.capture:!!h,g):N0(r,s,c,!1,h,g)}function N0(r,s,c,h,g,y){if(!s)throw Error("Invalid event type");var w=S(g)?!!g.capture:!!g,E=jc(r);if(E||(r[sd]=E=new Fc(r)),c=E.add(s,c,h,w,y),!c.proxy)if(h=Ux(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)Lx||(g=w),g===void 0&&(g=!1),r.addEventListener(s.toString(),h,g);else if(r.attachEvent)r.attachEvent(R0(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function Ux(){var r=Vx,s=x0?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function ad(r,s,c,h,g){if(Array.isArray(s))for(var y=0;y<s.length;y++)ad(r,s[y],c,h,g);else c=ld(c),r&&r[xu]?fd(r,s,c,S(h)?!!h.capture:!!h,g):N0(r,s,c,!0,h,g)}function qn(r,s,c,h,g){if(Array.isArray(s))for(var y=0;y<s.length;y++)qn(r,s[y],c,h,g);else h=S(h)?!!h.capture:!!h,c=ld(c),r&&r[xu]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=od(y,c,h,g),-1<c&&(Mc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=jc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=od(s,c,h,g)),(c=-1<r?s[r]:null)&&C0(c))}function C0(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[xu])id(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(R0(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=jc(s))?(id(c,r),c.b==0&&(c.src=null,s[sd]=null)):Mc(r)}}}function R0(r){return r in ud?ud[r]:ud[r]="on"+r}function O0(r,s,c,h){var g=!0;if((r=jc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=P0(y,h),g=g&&y!==!1)}return g}function P0(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&C0(r),c.call(h,s)}function Vx(r,s){if(r.wa)return!0;if(!x0){if(!s)e:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break e}s=c}if(h=s,s=new eo(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var g=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{g=!0}(g||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],g=s.b;g;g=g.parentNode)h.push(g);for(r=r.type,g=h.length-1;0<=g;g--){s.b=h[g];var y=O0(h[g],r,!0,s);c=c&&y}for(g=0;g<h.length;g++)s.b=h[g],y=O0(h[g],r,!1,s),c=c&&y}return c}return P0(r,new eo(s,this))}function jc(r){return r=r[sd],r instanceof Fc?r:null}var cd="__closure_events_fn_"+(1e9*Math.random()>>>0);function ld(r){return T(r)?r:(r[cd]||(r[cd]=function(s){return r.handleEvent(s)}),r[cd])}function pn(){Lc.call(this),this.v=new Fc(this),this.bc=this,this.hb=null}z(pn,Lc),pn.prototype[xu]=!0,pn.prototype.addEventListener=function(r,s,c,h){ir(this,r,s,c,h)},pn.prototype.removeEventListener=function(r,s,c,h){qn(this,r,s,c,h)},pn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new xn(r,c);else if(r instanceof xn)r.target=r.target||c;else{var g=r;r=new xn(h,c),Pe(r,g)}if(g=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];g=Uc(w,h,!0,r)&&g}if(w=r.b=c,g=Uc(w,h,!0,r)&&g,g=Uc(w,h,!1,r)&&g,s)for(y=0;y<s.length;y++)w=r.b=s[y],g=Uc(w,h,!1,r)&&g;return g},pn.prototype.Da=function(){if(pn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)Mc(c[h]);delete r.a[s],r.b--}}this.hb=null};function D0(r,s,c,h,g){r.v.add(String(s),c,!1,h,g)}function fd(r,s,c,h,g){r.v.add(String(s),c,!0,h,g)}function Uc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var g=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var E=w.listener,L=w.Wa||w.src;w.Qa&&id(r.v,w),g=E.call(L,h)!==!1&&g}}return g&&!h.defaultPrevented}function hd(r,s,c){if(T(r))c&&(r=U(r,c));else if(r&&typeof r.handleEvent=="function")r=U(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function rs(r){var s=null;return new He(function(c,h){s=hd(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function L0(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function M0(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function Bx(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")$(r,s,void 0);else for(var c=M0(r),h=L0(r),g=h.length,y=0;y<g;y++)s.call(void 0,h[y],c&&c[y],r)}function is(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof is)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=is.prototype,e.X=function(){dd(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return dd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function dd(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];to(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var g={};for(c=s=0;s<r.a.length;)h=r.a[s],to(g,h)||(r.a[c++]=h,g[h]=1),s++;r.a.length=c}}e.get=function(r,s){return to(this.b,r)?this.b[r]:s},e.set=function(r,s){to(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var g=c[h],y=this.get(g);r.call(s,y,g,this)}};function to(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var F0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qx(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),g=null;if(0<=h){var y=r[c].substring(0,h);g=r[c].substring(h+1)}else y=r[c];s(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function gi(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof gi?(this.i=s!==void 0?s:r.i,Nu(this,r.c),this.l=r.l,this.a=r.a,Cu(this,r.g),this.f=r.f,pd(this,B0(r.b)),this.h=r.h):r&&(c=String(r).match(F0))?(this.i=!!s,Nu(this,c[1]||"",!0),this.l=Ru(c[2]||""),this.a=Ru(c[3]||"",!0),Cu(this,c[4]),this.f=Ru(c[5]||"",!0),pd(this,c[6]||"",!0),this.h=Ru(c[7]||"")):(this.i=!!s,this.b=new no(null,this.i))}gi.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Ou(s,j0,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Ou(s,j0,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Ou(c,c.charAt(0)=="/"?Kx:Hx,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Ou(c,Gx)),r.join("")},gi.prototype.resolve=function(r){var s=new gi(this),c=!!r.c;c?Nu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)Cu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var g=s.f.lastIndexOf("/");g!=-1&&(h=s.f.substr(0,g+1)+h)}if(g=h,g==".."||g==".")h="";else if(Ee(g,"./")||Ee(g,"/.")){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var y=[],w=0;w<g.length;){var E=g[w++];E=="."?h&&w==g.length&&y.push(""):E==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==g.length&&y.push("")):(y.push(E),h=!0)}h=y.join("/")}else h=g}return c?s.f=h:c=r.b.toString()!=="",c?pd(s,B0(r.b)):c=!!r.h,c&&(s.h=r.h),s};function Nu(r,s,c){r.c=c?Ru(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function Cu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function pd(r,s,c){s instanceof no?(r.b=s,Wx(r.b,r.i)):(c||(s=Ou(s,zx)),r.b=new no(s,r.i))}function xt(r,s,c){r.b.set(s,c)}function or(r,s){return r.b.get(s)}function Nn(r){return r instanceof gi?new gi(r):new gi(r,void 0)}function Vc(r,s,c,h){var g=new gi(null,void 0);return r&&Nu(g,r),s&&(g.a=s),c&&Cu(g,c),h&&(g.f=h),g}function Ru(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ou(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,$x),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function $x(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var j0=/[#\/\?@]/g,Hx=/[#\?:]/g,Kx=/[#\?]/g,zx=/[#\?@]/g,Gx=/#/g;function no(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function vi(r){r.a||(r.a=new is,r.b=0,r.c&&qx(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function U0(r){var s=M0(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new no(null,void 0);r=L0(r);for(var h=0;h<s.length;h++){var g=s[h],y=r[h];Array.isArray(y)?V0(c,g,y):c.add(g,y)}return c}e=no.prototype,e.add=function(r,s){vi(this),this.c=null,r=os(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Nr(r,s){vi(r),s=os(r,s),to(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,to(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&dd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function gd(r,s){return vi(r),s=os(r,s),to(r.a.b,s)}e.forEach=function(r,s){vi(this),this.a.forEach(function(c,h){$(c,function(g){r.call(s,g,h,this)},this)},this)},e.Y=function(){vi(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var g=r[h],y=0;y<g.length;y++)c.push(s[h]);return c},e.X=function(r){vi(this);var s=[];if(typeof r=="string")gd(this,r)&&(s=W(s,this.a.get(os(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=W(s,r[c])}return s},e.set=function(r,s){return vi(this),this.c=null,r=os(this,r),gd(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function V0(r,s,c){Nr(r,s),0<c.length&&(r.c=null,r.a.set(os(r,s),re(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],g=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=g;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function B0(r){var s=new no;return s.c=r.c,r.a&&(s.a=new is(r.a),s.b=r.b),s}function os(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function Wx(r,s){s&&!r.f&&(vi(r),r.c=null,r.a.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(Nr(this,h),V0(this,g,c))},r)),r.f=s}function q0(r){var s=[];return vd(new Xx,r,s),s.join("")}function Xx(){}function vd(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var g="",y=0;y<s;y++)c.push(g),vd(r,h[y],c),g=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),g="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(g),H0(h,c),c.push(":"),vd(r,y,c),g=","));c.push("}");return}}switch(typeof s){case"string":H0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var $0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Yx=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function H0(r,s){s.push('"',r.replace(Yx,function(c){var h=$0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),$0[c]=h),h}),'"')}function md(){var r=Xt();return hr&&!!pi&&pi==11||/Edge\/\d+/.test(r)}function Pu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function K0(r,s){s=s||f.window;var c="about:blank";r&&(c=Cc(Zy(r)||t0)),s.location.href=c}function z0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<z0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function Qx(){var r=Xt();return r=ss(r)!=Y0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!hr||!pi||9<pi}function G0(r){return r=(r||Xt()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function ro(r){r=r||f.window;try{r.close()}catch{}}function W0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var g=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<g?g:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Xt().toLowerCase(),h&&(s.target=h,Ee(c,"crios/")&&(s.target="_blank")),ss(Xt())==bd&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof kn?c:Zy(typeof c.href<"u"?c.href:String(c))||t0,c=r.target||c.target,g=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(r[w]?1:0))}var w=g.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=Oc(document,"A"),rn(w,"HTMLAnchorElement"),s=s instanceof kn?s:e0(s),w.href=Cc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=r0("",h,c,w),r=Cc(s),w&&(_x&&Ee(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wh(r)+'">',r=(h=Xy())?h.createHTML(r):r,r=new ts(r,null,n0),h=w.document)&&(h.write(mx(r)),h.close())):(w=r0(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function Jx(r){return new He(function(s){function c(){rs(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var Zx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eN=/^[^@]+@[^@]+$/;function Bc(){var r=null;return new He(function(s){f.document.readyState=="complete"?s():(r=function(){s()},ad(window,"load",r))}).o(function(s){throw qn(window,"load",r),s})}function tN(){return yd(void 0)?Bc().then(function(){return new He(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):yt(Error("Cordova must run in an Android or iOS file scheme."))}function yd(r){return r=r||Xt(),!(as()!=="file:"&&as()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function wd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function dr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Cr(){return Se.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Se.INTERNAL.hasOwnProperty("node")?"Node":dr()?"Worker":"Browser"}function X0(){var r=Cr();return r==="ReactNative"||r==="Node"}function nN(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var bd="Firefox",Y0="Chrome";function ss(r){var s=r.toLowerCase();if(Ee(s,"opera/")||Ee(s,"opr/")||Ee(s,"opios/"))return"Opera";if(Ee(s,"iemobile"))return"IEMobile";if(Ee(s,"msie")||Ee(s,"trident/"))return"IE";if(Ee(s,"edge/"))return"Edge";if(Ee(s,"firefox/"))return bd;if(Ee(s,"silk/"))return"Silk";if(Ee(s,"blackberry"))return"Blackberry";if(Ee(s,"webos"))return"Webos";if(!Ee(s,"safari/")||Ee(s,"chrome/")||Ee(s,"crios/")||Ee(s,"android"))if(!Ee(s,"chrome/")&&!Ee(s,"crios/")||Ee(s,"edge/")){if(Ee(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return Y0;else return"Safari";return"Other"}var Q0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function us(r,s){s=s||[];var c=[],h={},g;for(g in Q0)h[Q0[g]]=!0;for(g=0;g<s.length;g++)typeof h[s[g]]<"u"&&(delete h[s[g]],c.push(s[g]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Cr(),c==="Browser"?(h=Xt(),c=ss(h)):c==="Worker"&&(h=Xt(),c=ss(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function Xt(){return f.navigator&&f.navigator.userAgent||""}function wt(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function _d(){try{var r=f.localStorage,s=oo();if(r)return r.setItem(s,"1"),r.removeItem(s),md()?!!f.indexedDB:!0}catch{return dr()&&!!f.indexedDB}return!1}function io(){return(qc()||as()==="chrome-extension:"||yd())&&!X0()&&_d()&&!dr()}function qc(){return as()==="http:"||as()==="https:"}function as(){return f.location&&f.location.protocol||null}function Du(r){return r=r||Xt(),!(G0(r)||ss(r)==bd)}function Lu(r){return typeof r>"u"?null:q0(r)}function J0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function cs(r){if(r!==null)return JSON.parse(r)}function oo(r){return r||Math.floor(1e9*Math.random()).toString()}function Z0(r){return r=r||Xt(),!(ss(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function ew(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function mi(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Xt(),s=Cr(),this.b=G0(r)||s==="ReactNative"}mi.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(qc()||as()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Ed(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function rN(){var r=f.document,s=null;return Ed()||!r?Ie():new He(function(c){s=function(){Ed()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Mu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function tw(){return!(!wt("fireauth.oauthhelper",f)&&!wt("fireauth.iframe",f))}function iN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function oN(){var r=f.navigator;return r&&r.serviceWorker?Ie().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Ie(null)}var nw={};function Id(r){nw[r]||(nw[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Td;try{var Sd={};Object.defineProperty(Sd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Sd,"abcd",{configurable:!0,enumerable:!0,value:2}),Td=Sd.abcd==2}catch{Td=!1}function pe(r,s,c){Td?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function gn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&pe(r,c,s[c])}function Rr(r){var s={};return gn(s,r),s}function sN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function uN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Ad(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)pe(s,c,Ad(r[c]))}return s}function kd(r){var s=r&&(r[Rd]?"phone":null);if(s&&r&&r[Cd]){pe(this,"uid",r[Cd]),pe(this,"displayName",r[rw]||null);var c=null;r[Nd]&&(c=new Date(r[Nd]).toUTCString()),pe(this,"enrollmentTime",c),pe(this,"factorId",s)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}kd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function xd(r){try{var s=new Fu(r)}catch{s=null}return s}var rw="displayName",Nd="enrolledAt",Cd="mfaEnrollmentId",Rd="phoneInfo";function Fu(r){kd.call(this,r),pe(this,"phoneNumber",r[Rd])}z(Fu,kd),Fu.prototype.w=function(){var r=Fu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function aN(r){var s={},c=r[cN],h=r[fN],g=r[hN];if(r=xd(r[lN]),!g||g!=$c&&g!=ju&&!c||g==ju&&!h||g==Od&&!r)throw Error("Invalid checkActionCode response!");g==ju?(s[ow]=c||null,s[sw]=c||null,s[iw]=h):(s[ow]=h||null,s[sw]=h||null,s[iw]=c||null),s[dN]=r||null,pe(this,gN,g),pe(this,pN,Ad(s))}var Od="REVERT_SECOND_FACTOR_ADDITION",$c="EMAIL_SIGNIN",ju="VERIFY_AND_CHANGE_EMAIL",cN="email",lN="mfaInfo",fN="newEmail",hN="requestType",iw="email",ow="fromEmail",dN="multiFactorInfo",sw="previousEmail",pN="data",gN="operation";function Pd(r){r=Nn(r);var s=or(r,uw)||null,c=or(r,aw)||null,h=or(r,cw)||null;if(h=h&&wN[h]||null,!s||!c||!h)throw new k("argument-error",uw+", "+aw+"and "+cw+" are required in a valid action code URL.");gn(this,{apiKey:s,operation:h,code:c,continueUrl:or(r,vN)||null,languageCode:or(r,mN)||null,tenantId:or(r,yN)||null})}var uw="apiKey",aw="oobCode",vN="continueUrl",mN="languageCode",cw="mode",yN="tenantId",wN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Od,signIn:$c,verifyAndChangeEmail:ju,verifyEmail:"VERIFY_EMAIL"};function lw(r){try{return new Pd(r)}catch{return null}}function Hc(r){var s=r[bN];if(typeof s>"u")throw new k("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new k("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[fw];if(c&&typeof c=="object"){s=c[vw];var h=c[pw];if(c=c[gw],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new k("argument-error",pw+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",gw+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new k("argument-error",vw+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",fw+" property must be a non null object when specified.");if(this.f=null,(s=r[dw])&&typeof s=="object"){if(s=s[mw],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new k("argument-error",mw+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new k("argument-error",dw+" property must be a non null object when specified.");if(s=r[Dd],typeof s<"u"&&typeof s!="boolean")throw new k("argument-error",Dd+" property must be a boolean when specified.");if(this.c=!!s,r=r[hw],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new k("argument-error",hw+" property must be a non empty string when specified.");this.i=r||null}var fw="android",hw="dynamicLinkDomain",Dd="handleCodeInApp",dw="iOS",bN="url",pw="installApp",gw="minimumVersion",vw="packageName",mw="bundleId";function Kc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function _N(r){return Oe(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Uu=null;function EN(r){var s=[];return IN(r,function(c){s.push(c)}),s}function IN(r,s){function c(L){for(;h<r.length;){var G=r.charAt(h++),Ce=Uu[G];if(Ce!=null)return Ce;if(!/^[\s\xa0]*$/.test(G))throw Error("Unknown base64 encoding at char: "+G)}return L}TN();for(var h=0;;){var g=c(-1),y=c(0),w=c(64),E=c(64);if(E===64&&g===-1)break;s(g<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function TN(){if(!Uu){Uu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),g=0;g<h.length;g++){var y=h[g];Uu[y]===void 0&&(Uu[y]=g)}}}function zc(r){var s=yw(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}zc.prototype.T=function(){return this.f},zc.prototype.l=function(){return this.c},zc.prototype.toString=function(){return this.h};function Gc(r){try{return new zc(r)}catch{return null}}function yw(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=EN(r);for(r=[],c=s=0;s<h.length;){var g=h[s++];if(128>g)r[c++]=String.fromCharCode(g);else if(191<g&&224>g){var y=h[s++];r[c++]=String.fromCharCode((g&31)<<6|y&63)}else if(239<g&&365>g){y=h[s++];var w=h[s++],E=h[s++],L=((g&7)<<18|(y&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(L>>10)),r[c++]=String.fromCharCode(56320+(L&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((g&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var ww="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wc=["client_id","response_type","scope","redirect_uri","state"],Ld={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Wc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Wc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Wc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:ww},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Md(r){for(var s in Ld)if(Ld[s].fa==r)return Ld[s];return null}function bw(r){var s={};s["facebook.com"]=Ew,s["google.com"]=Tw,s["github.com"]=Iw,s["twitter.com"]=Sw;var c=r&&r[_w];try{if(c)return s[c]?new s[c](r):new Or(r);if(typeof r[Fd]<"u")return new jd(r)}catch{}return null}var Fd="idToken",_w="providerId";function jd(r){var s=r[_w];if(!s&&r[Fd]){var c=Gc(r[Fd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pe(this,"providerId",s),pe(this,"isNewUser",c)}function Or(r){jd.call(this,r),r=cs(r.rawUserInfo||"{}"),pe(this,"profile",Ad(r||{}))}z(Or,jd);function Ew(r){if(Or.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}z(Ew,Or);function Iw(r){if(Or.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pe(this,"username",this.profile&&this.profile.login||null)}z(Iw,Or);function Tw(r){if(Or.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}z(Tw,Or);function Sw(r){if(Or.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pe(this,"username",r.screenName||null)}z(Sw,Or);function Aw(r){var s=Nn(r),c=or(s,"link"),h=or(Nn(c),"link");return s=or(s,"deep_link_id"),or(Nn(s),"link")||s||h||c||r}function Xc(r,s){if(!r&&!s)throw new k("internal-error","Internal assert: no raw session string available");if(r&&s)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Vu:Yc}var Vu="enroll",Yc="signin";Xc.prototype.Ha=function(){return this.a?Ie(this.a):Ie(this.b)},Xc.prototype.w=function(){return this.type==Vu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ls(){}ls.prototype.ka=function(){},ls.prototype.b=function(){},ls.prototype.c=function(){},ls.prototype.w=function(){};function fs(r,s){return r.then(function(c){if(c[vr]){var h=Gc(c[vr]);if(!h||s!=h.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ot+"user-not-found"?new k("user-mismatch"):c})}function so(r,s){if(s)this.a=s;else throw new k("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",r)}so.prototype.ka=function(r){return ap(r,Ud(this))},so.prototype.b=function(r,s){var c=Ud(this);return c.idToken=s,cp(r,c)},so.prototype.c=function(r,s){return fs(lp(r,Ud(this)),s)};function Ud(r){return{pendingToken:r.a,requestUri:"http://localhost"}}so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function SN(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new so(r.providerId,r.pendingToken)}catch{}return null}function Xr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&pe(this,"idToken",s.idToken),s.accessToken&&pe(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&pe(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)pe(this,"accessToken",s.oauthToken),pe(this,"secret",s.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",c)}Xr.prototype.ka=function(r){return ap(r,Vd(this))},Xr.prototype.b=function(r,s){var c=Vd(this);return c.idToken=s,cp(r,c)},Xr.prototype.c=function(r,s){var c=Vd(this);return fs(lp(r,c),s)};function Vd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:U0(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Xr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function AN(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Xr(r.providerId,s,r.signInMethod)}catch{}}return null}function uo(r,s){this.Qc=s||[],gn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Md(r)||{}).Ja||null,this.pb=null}uo.prototype.Ka=function(r){return this.Jb=Ne(r),this};function kw(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');uo.call(this,r,[])}z(kw,uo);function $n(r){uo.call(this,r,Wc),this.a=[]}z($n,uo),$n.prototype.Ca=function(r){return C(this.a,r)||this.a.push(r),this},$n.prototype.Rb=function(){return re(this.a)},$n.prototype.credential=function(r,s){var c;if(S(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Xr(this.providerId,c,this.providerId)};function ao(){$n.call(this,"facebook.com")}z(ao,$n),pe(ao,"PROVIDER_ID","facebook.com"),pe(ao,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function xw(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new ao().credential({accessToken:s})}function co(){$n.call(this,"github.com")}z(co,$n),pe(co,"PROVIDER_ID","github.com"),pe(co,"GITHUB_SIGN_IN_METHOD","github.com");function Nw(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new co().credential({accessToken:s})}function lo(){$n.call(this,"google.com"),this.Ca("profile")}z(lo,$n),pe(lo,"PROVIDER_ID","google.com"),pe(lo,"GOOGLE_SIGN_IN_METHOD","google.com");function Cw(r,s){var c=r;return S(r)&&(c=r.idToken,s=r.accessToken),new lo().credential({idToken:c,accessToken:s})}function hs(){uo.call(this,"twitter.com",ww)}z(hs,uo),pe(hs,"PROVIDER_ID","twitter.com"),pe(hs,"TWITTER_SIGN_IN_METHOD","twitter.com");function Rw(r,s){var c=r;if(S(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Xr("twitter.com",c,"twitter.com")}function yi(r,s,c){this.a=r,this.f=s,pe(this,"providerId","password"),pe(this,"signInMethod",c===sr.EMAIL_LINK_SIGN_IN_METHOD?sr.EMAIL_LINK_SIGN_IN_METHOD:sr.EMAIL_PASSWORD_SIGN_IN_METHOD)}yi.prototype.ka=function(r){return this.signInMethod==sr.EMAIL_LINK_SIGN_IN_METHOD?Ke(r,lC,{email:this.a,oobCode:this.f}):Ke(r,ob,{email:this.a,password:this.f})},yi.prototype.b=function(r,s){return this.signInMethod==sr.EMAIL_LINK_SIGN_IN_METHOD?Ke(r,fC,{idToken:s,email:this.a,oobCode:this.f}):Ke(r,ib,{idToken:s,email:this.a,password:this.f})},yi.prototype.c=function(r,s){return fs(this.ka(r),s)},yi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function kN(r){return r&&r.email&&r.password?new yi(r.email,r.password,r.signInMethod):null}function sr(){gn(this,{providerId:"password",isOAuthProvider:!1})}function Ow(r,s){if(s=Bd(s),!s)throw new k("argument-error","Invalid email link!");return new yi(r,s.code,sr.EMAIL_LINK_SIGN_IN_METHOD)}function Bd(r){return r=Aw(r),(r=lw(r))&&r.operation===$c?r:null}gn(sr,{PROVIDER_ID:"password"}),gn(sr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),gn(sr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function wi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new k("internal-error");this.a=r,pe(this,"providerId","phone"),this.fa="phone",pe(this,"signInMethod","phone")}wi.prototype.ka=function(r){return r.gb(Bu(this))},wi.prototype.b=function(r,s){var c=Bu(this);return c.idToken=s,Ke(r,RC,c)},wi.prototype.c=function(r,s){var c=Bu(this);return c.operation="REAUTH",r=Ke(r,OC,c),fs(r,s)},wi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function xN(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return $(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new wi(s)}return null}function Bu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Yr(r){try{this.a=r||Se.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}gn(this,{providerId:"phone",isOAuthProvider:!1})}Yr.prototype.gb=function(r,s){var c=this.a.a;return Ie(s.verify()).then(function(h){if(typeof h!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var g=S(r)?r.session:null,y=S(r)?r.phoneNumber:r,w;return g&&g.type==Vu?w=g.Ha().then(function(E){return tC(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):g&&g.type==Yc?w=g.Ha().then(function(E){return nC(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=eC(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Pw(r,s){if(!r)throw new k("missing-verification-id");if(!s)throw new k("missing-verification-code");return new wi({fb:r,eb:s})}gn(Yr,{PROVIDER_ID:"phone"}),gn(Yr,{PHONE_SIGN_IN_METHOD:"phone"});function qd(r){if(r.temporaryProof&&r.phoneNumber)return new wi({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,g=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return Cw(y,c);case"facebook.com":return xw(c);case"github.com":return Nw(c);case"twitter.com":return Rw(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new so(s,w):new Xr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new $n(s).credential({idToken:y,accessToken:c,rawNonce:g}):null}}catch{return null}}function $d(r){if(!r.isOAuthProvider)throw new k("invalid-oauth-provider")}function pr(r,s,c,h,g,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}pr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},pr.prototype.T=function(){return this.h},pr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function Dw(r){return r=r||{},r.type?new pr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&We(r.error),r.postBody,r.tenantId):null}function NN(){this.b=null,this.a=[]}var Hd=null;function CN(r){var s=Hd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=wt("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function Kd(r){var s="unauthorized-domain",c=void 0,h=Nn(r);r=h.a,h=h.c,h=="chrome-extension"?c=i0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=i0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",k.call(this,s,c)}z(Kd,k);function qu(r,s,c){k.call(this,r,c),r=s||{},r.Kb&&pe(this,"email",r.Kb),r.ea&&pe(this,"phoneNumber",r.ea),r.credential&&pe(this,"credential",r.credential),r.$b&&pe(this,"tenantId",r.$b)}z(qu,k),qu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Pe(r,s),r},qu.prototype.toJSON=function(){return this.w()};function Qc(r){if(r.code){var s=r.code||"";s.indexOf(ot)==0&&(s=s.substring(ot.length));var c={credential:qd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new k(s,r.message||void 0);return new qu(s,c,r.message)}return null}function $u(){}$u.prototype.c=null;function Lw(r){return r.c||(r.c=r.b())}var zd;function Jc(){}z(Jc,$u),Jc.prototype.a=function(){var r=Mw(this);return r?new ActiveXObject(r):new XMLHttpRequest},Jc.prototype.b=function(){var r={};return Mw(this)&&(r[0]=!0,r[1]=!0),r};function Mw(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}zd=new Jc;function Zc(){}z(Zc,$u),Zc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Fw;throw Error("Unsupported browser")},Zc.prototype.b=function(){return{}};function Fw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=U(this.qc,this),this.a.onerror=U(this.Tb,this),this.a.onprogress=U(this.rc,this),this.a.ontimeout=U(this.vc,this)}e=Fw.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Gd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Gd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Gd(this,1)};function Gd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Wd(r,s,c){this.reset(r,s,c,void 0,void 0)}Wd.prototype.a=null,Wd.prototype.reset=function(r,s,c,h,g){delete this.a};function Xd(r){this.f=r,this.b=this.c=this.a=null}function Hu(r,s){this.name=r,this.value=s}Hu.prototype.toString=function(){return this.name};var jw=new Hu("SEVERE",1e3),Yd=new Hu("WARNING",900),RN=new Hu("CONFIG",700),ON=new Hu("FINE",500);function Uw(r){return r.c?r.c:r.a?Uw(r.a):(St("Root logger has no level set."),null)}Xd.prototype.log=function(r,s,c){if(r.value>=Uw(this).value)for(T(s)&&(s=s()),r=new Wd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var Qd={},el=null;function Jd(r){el||(el=new Xd(""),Qd[""]=el,el.c=RN);var s;if(!(s=Qd[r])){s=new Xd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Jd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,Qd[r]=s}return s}function ur(r,s){r&&r.log(ON,s,void 0)}function tl(r){this.f=r}z(tl,$u),tl.prototype.a=function(){return new nl(this.f)},tl.prototype.b=function(r){return function(){return r}}({});function nl(r){pn.call(this),this.u=r,this.h=void 0,this.readyState=Zd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Jd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}z(nl,pn);var Zd=0;e=nl.prototype,e.open=function(r,s){if(this.readyState!=Zd)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,zu(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Ku(this)),this.readyState=Zd},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,zu(this)),this.a&&(this.readyState=3,zu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Vw(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Vw(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Ku(this):zu(this),this.readyState==3&&Vw(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,Ku(this))},e.sc=function(r){this.a&&(this.response=r,Ku(this))},e.Va=function(r){var s=this.i;s&&s.log(Yd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Ku(this)};function Ku(r){r.readyState=4,r.g=null,r.c=null,r.m=null,zu(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Yd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Yd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function zu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Gu(r){pn.call(this),this.headers=new is,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Bw,this.u=this.S=!1}z(Gu,pn);var Bw="";Gu.prototype.b=Jd("goog.net.XhrIo");var PN=/^https?$/i,DN=["POST","PUT"];function LN(r,s,c,h,g){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():zd.a(),r.C=r.D?Lw(r.D):Lw(zd),r.a.onreadystatechange=U(r.Wb,r);try{ur(r.b,Qr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){ur(r.b,Qr(r,"Error opening Xhr: "+w.message)),qw(r,w);return}s=h||"";var y=new is(r.headers);g&&Bx(g,function(w,E){y.set(E,w)}),g=A(y.Y()),h=f.FormData&&s instanceof f.FormData,!C(DN,c)||g||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Kw(r),0<r.g&&(r.u=MN(r.a),ur(r.b,Qr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=U(r.Ma,r)):r.s=hd(r.Ma,r.g,r)),ur(r.b,Qr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){ur(r.b,Qr(r,"Send error: "+w.message)),qw(r,w)}}function MN(r){return hr&&a0(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function FN(r){return r.toLowerCase()=="content-type"}e=Gu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ur(this.b,Qr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function qw(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,$w(r),rl(r)}function $w(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(ur(this.b,Qr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),rl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),rl(this,!0)),Gu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Hw(this):this.Jc())},e.Jc=function(){Hw(this)};function Hw(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Wu(r)==4&&il(r)==2)ur(r.b,Qr(r,"Local request error detected and ignored"));else if(r.i&&Wu(r)==4)hd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Wu(r)==4){ur(r.b,Qr(r,"Request complete")),r.c=!1;try{var s=il(r);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var g;if(g=s===0){var y=String(r.l).match(F0)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}g=!PN.test(y?y.toLowerCase():"")}h=g}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Wu(r)?r.a.statusText:""}catch(L){ur(r.b,"Can not get status: "+L.message),E=""}r.h=E+" ["+il(r)+"]",$w(r)}}finally{rl(r)}}}}function rl(r,s){if(r.a){Kw(r);var c=r.a,h=r.C[0]?m:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(g){(r=r.b)&&r.log(jw,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function Kw(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Wu(r){return r.a?r.a.readyState:0}function il(r){try{return 2<Wu(r)?r.a.status:-1}catch{return-1}}function jN(r){try{return r.a?r.a.responseText:""}catch(s){return ur(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Bw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(jw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return ur(this.b,"Can not get response: "+s.message),null}};function Qr(r,s){return s+" ["+r.P+" "+r.l+" "+il(r)+"]"}function fo(r){var s=BN;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}fo.prototype.cancel=function(r){if(this.a)this.c instanceof fo&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Yu,ol(this),Xu(this,!1,r))}},fo.prototype.m=function(r,s){this.i=!1,Xu(this,r,s)};function Xu(r,s,c){r.a=!0,r.c=c,r.f=!s,Gw(r)}function ol(r){if(r.a){if(!r.v)throw new sl;r.v=!1}}function UN(r,s){ep(r,null,s,void 0)}function ep(r,s,c,h){r.g.push([s,c,h]),r.a&&Gw(r)}fo.prototype.then=function(r,s,c){var h,g,y=new He(function(w,E){h=w,g=E});return ep(this,h,function(w){w instanceof Yu?y.cancel():g(w)}),y.then(r,s,c)},fo.prototype.$goog_Thenable=!0;function zw(r){return I(r.g,function(s){return T(s[1])})}function Gw(r){if(r.h&&r.a&&zw(r)){var s=r.h,c=ul[s];c&&(f.clearTimeout(c.a),delete ul[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var g=r.g.shift(),y=g[0],w=g[1];if(g=g[2],y=r.f?w:y)try{var E=y.call(g||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Me(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(L){s=L,r.f=!0,zw(r)||(c=!0)}}r.c=s,h&&(E=U(r.m,r,!0),h=U(r.m,r,!1),s instanceof fo?(ep(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new Ww(s),ul[s.a]=s,r.h=s.a)}function sl(){ge.call(this)}z(sl,ge),sl.prototype.message="Deferred has already fired",sl.prototype.name="AlreadyCalledError";function Yu(){ge.call(this)}z(Yu,ge),Yu.prototype.message="Deferred was canceled",Yu.prototype.name="CanceledError";function Ww(r){this.a=f.setTimeout(U(this.c,this),0),this.b=r}Ww.prototype.c=function(){throw delete ul[this.a],this.b};var ul={};function tp(r){var s={},c=s.document||document,h=Yy(r).toString(),g=Oc(document,"SCRIPT"),y={Xb:g,Ma:void 0},w=new fo(y),E=null,L=s.timeout!=null?s.timeout:5e3;return 0<L&&(E=window.setTimeout(function(){al(g,!0);var G=new np($N,"Timeout reached for loading script "+h);ol(w),Xu(w,!1,G)},L),y.Ma=E),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(al(g,s.xd||!1,E),ol(w),Xu(w,!0,null))},g.onerror=function(){al(g,!0,E);var G=new np(qN,"Error while loading script "+h);ol(w),Xu(w,!1,G)},y=s.attributes||{},Pe(y,{type:"text/javascript",charset:"UTF-8"}),l0(g,y),yx(g,r),VN(c).appendChild(g),w}function VN(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function BN(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&al(r,!0,this.Ma)}}function al(r,s,c){c!=null&&f.clearTimeout(c),r.onload=m,r.onerror=m,r.onreadystatechange=m,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var qN=0,$N=1;function np(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),ge.call(this,c),this.code=r}z(np,ge);function cl(r){this.f=r}z(cl,$u),cl.prototype.a=function(){return new this.f},cl.prototype.b=function(){return{}};function gr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||HN,this.g=Ne(r.secureTokenHeaders||KN),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||zN,this.a=Ne(r.firebaseHeaders||GN),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Cr()=="Node",c=f.XMLHttpRequest||c&&Se.INTERNAL.node&&Se.INTERNAL.node.XMLHttpRequest,!c&&!dr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,dr()?this.f=new tl(self):X0()?this.f=new cl(c):this.f=new Zc,this.b=null}var rp,vr="idToken",HN=new mi(3e4,6e4),KN={"Content-Type":"application/x-www-form-urlencoded"},zN=new mi(3e4,6e4),GN={"Content-Type":"application/json"};function Xw(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function ll(r,s){s&&(r.l=ip("https://securetoken.googleapis.com/v1/token",s),r.h=ip("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=ip("https://identitytoolkit.googleapis.com/v2/",s))}function ip(r,s){return r=Nn(r),s=Nn(s.url),r.f=r.a+r.f,Nu(r,s.c),r.a=s.a,Cu(r,s.g),r.toString()}function Yw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}gr.prototype.T=function(){return this.b};function Qw(r,s,c,h,g,y,w){Qx()||dr()?r=U(r.u,r):(rp||(rp=new He(function(E,L){XN(E,L)})),r=U(r.s,r)),r(s,c,h,g,y,w)}gr.prototype.u=function(r,s,c,h,g,y){if(dr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Gu(this.f);if(y){w.g=Math.max(0,y);var E=setTimeout(function(){w.dispatchEvent("timeout")},y)}D0(w,"complete",function(){E&&clearTimeout(E);var L=null;try{L=JSON.parse(jN(this))||null}catch{L=null}s&&s(L)}),fd(w,"ready",function(){E&&clearTimeout(E),k0(this)}),fd(w,"timeout",function(){E&&clearTimeout(E),k0(this),s&&s(null)}),LN(w,r,c,h,g)};var WN=new on(xc,"https://apis.google.com/js/client.js?onload=%{onload}"),Jw="__fcb"+Math.floor(1e6*Math.random()).toString();function XN(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[Jw]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=Gh(WN,{onload:Jw});UN(tp(c),function(){s(Error("CORS_UNSUPPORTED"))})}}gr.prototype.s=function(r,s,c,h,g){var y=this;rp.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:g,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function YN(r,s){return new He(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?Qw(r,r.l+"?key="+encodeURIComponent(r.c),function(g){g?g.error?h(hp(g)):g.access_token&&g.refresh_token?c(g):h(new k("internal-error")):h(new k("network-request-failed"))},"POST",U0(s).toString(),r.g,r.m.get()):h(new k("internal-error"))})}function Zw(r,s,c,h,g,y,w){var E=Nn(s+c);xt(E,"key",r.c),w&&xt(E,"cb",Date.now().toString());var L=h=="GET";if(L)for(var G in g)g.hasOwnProperty(G)&&xt(E,G,g[G]);return new He(function(Ce,rt){Qw(r,E.toString(),function(Ze){Ze?Ze.error?rt(hp(Ze,y||{})):Ce(Ze):rt(new k("network-request-failed"))},h,L?void 0:q0(J0(g)),r.a,r.v.get())})}function ho(r){if(r=r.email,typeof r!="string"||!eN.test(r))throw new k("invalid-email")}function eb(r){"email"in r&&ho(r)}function QN(r,s){return Ke(r,uC,{identifier:s,continueUri:qc()?Pu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function JN(r){return Ke(r,wC,{}).then(function(s){return s.authorizedDomains||[]})}function Cn(r){if(!r[vr])throw r.mfaPendingCredential?new k("multi-factor-auth-required",null,Ne(r)):new k("internal-error")}function op(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new k("internal-error")}else{if(!r.sessionInfo)throw new k("missing-verification-id");if(!r.code)throw new k("missing-verification-code")}}gr.prototype.Ab=function(){return Ke(this,IC,{})},gr.prototype.Cb=function(r,s){return Ke(this,rb,{idToken:r,email:s})},gr.prototype.Db=function(r,s){return Ke(this,ib,{idToken:r,password:s})};var ZN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=gr.prototype,e.Eb=function(r,s){var c={idToken:r},h=[];return ke(ZN,function(g,y){var w=s[y];w===null?h.push(g):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Ke(this,rb,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Pe(r,s),Ke(this,yC,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Pe(r,s),Ke(this,gC,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Pe(r,s),Ke(this,vC,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Pe(r,c),Ke(this,mC,r)};function eC(r,s){return Ke(r,EC,s)}e.gb=function(r){return Ke(this,CC,r)};function tC(r,s){return Ke(r,TC,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function tb(r){if(!r.phoneVerificationInfo)throw new k("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new k("missing-verification-code")}function nC(r,s){return Ke(r,SC,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function rC(r,s,c){return Ke(r,cC,{idToken:s,deleteProvider:c})}function sp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new k("internal-error")}function up(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new no(r.postBody),gd(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function nb(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Qc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Qc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Qc(r)):r.errorMessage&&(s=sb(r.errorMessage)),s)throw s;Cn(r)}function ap(r,s){return s.returnIdpCredential=!0,Ke(r,AC,s)}function cp(r,s){return s.returnIdpCredential=!0,Ke(r,xC,s)}function lp(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Ke(r,kC,s)}function fp(r){if(!r.oobCode)throw new k("invalid-action-code")}e.ob=function(r,s){return Ke(this,_C,{oobCode:r,newPassword:s})},e.Sa=function(r){return Ke(this,oC,{oobCode:r})},e.kb=function(r){return Ke(this,iC,{oobCode:r})};var iC={endpoint:"setAccountInfo",A:fp,Z:"email",B:!0},oC={endpoint:"resetPassword",A:fp,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},sC={endpoint:"signupNewUser",A:function(r){if(ho(r),!r.password)throw new k("weak-password")},G:Cn,V:!0,B:!0},uC={endpoint:"createAuthUri",B:!0},aC={endpoint:"deleteAccount",O:["idToken"]},cC={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new k("internal-error")}},lC={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ho,G:Cn,V:!0,B:!0},fC={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ho,G:Cn,V:!0},hC={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:tb,G:Cn,B:!0,Na:!0},dC={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:tb,G:Cn,B:!0,Na:!0},pC={endpoint:"getAccountInfo"},gC={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new k("internal-error");ho(r)},Z:"email",B:!0},vC={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},mC={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},yC={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new k("internal-error");ho(r)},Z:"email",B:!0},wC={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},bC={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new k("internal-error")}},_C={endpoint:"resetPassword",A:fp,Z:"email",B:!0},EC={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},rb={endpoint:"setAccountInfo",O:["idToken"],A:eb,V:!0},ib={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(eb(r),!r.password)throw new k("weak-password")},G:Cn,V:!0},IC={endpoint:"signupNewUser",G:Cn,V:!0,B:!0},TC={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new k("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},SC={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},AC={endpoint:"verifyAssertion",A:sp,Za:up,G:nb,V:!0,B:!0},kC={endpoint:"verifyAssertion",A:sp,Za:up,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(r.errorMessage)throw sb(r.errorMessage);Cn(r)},V:!0,B:!0},xC={endpoint:"verifyAssertion",A:function(r){if(sp(r),!r.idToken)throw new k("internal-error")},Za:up,G:nb,V:!0},NC={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new k("invalid-custom-token")},G:Cn,V:!0,B:!0},ob={endpoint:"verifyPassword",A:function(r){if(ho(r),!r.password)throw new k("wrong-password")},G:Cn,V:!0,B:!0},CC={endpoint:"verifyPhoneNumber",A:op,G:Cn,B:!0},RC={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new k("internal-error");op(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Qc(r);Cn(r)}},OC={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:op,G:Cn,B:!0},PC={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[vr]^!!r.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function Ke(r,s,c){if(!uN(c,s.O))return yt(new k("internal-error"));var h=!!s.Na,g=s.Vb||"POST",y;return Ie(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?Zw(r,r.i,s.endpoint,g,c,s.Ib,s.mb||!1):Zw(r,r.h,s.endpoint,g,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new k("internal-error");return y[s.Z]})}function sb(r){return hp({error:{errors:[{message:r}],code:400,message:r}})}function hp(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new k(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Pe(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var g in h)if(c.indexOf(g)===0)return new k(h[g],s);return!s&&r&&(s=Lu(r)),new k("internal-error",s)}function DC(r){this.b=r,this.a=null,this.sb=LC(this)}function LC(r){return BC().then(function(){return new He(function(s,c){wt("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function g(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},VC.get());h.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function MC(r,s){return r.sb.then(function(){return new He(function(c){r.a.send(s.type,s,c,wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function FC(r,s){r.sb.then(function(){r.a.register("authEvent",s,wt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var jC=new on(xc,"https://apis.google.com/js/api.js?onload=%{onload}"),UC=new mi(3e4,6e4),VC=new mi(5e3,15e3),fl=null;function BC(){return fl||(fl=new He(function(r,s){function c(){ew(),wt("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){ew(),s(Error("Network Error"))},timeout:UC.get()})}if(wt("gapi.iframes.Iframe"))r();else if(wt("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){wt("gapi.load")?c():s(Error("Network Error"))},h=Gh(jC,{onload:h}),Ie(tp(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw fl=null,r}))}function ub(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Nn(this.g.url),r=Vc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Vc("https",this.l,null,"/__/auth/iframe"),this.a=r,xt(this.a,"apiKey",this.h),xt(this.a,"appName",this.i),this.b=null,this.c=[]}ub.prototype.toString=function(){return this.f?xt(this.a,"v",this.f):Nr(this.a.b,"v"),this.b?xt(this.a,"eid",this.b):Nr(this.a.b,"eid"),this.c.length?xt(this.a,"fw",this.c.join(",")):Nr(this.a.b,"fw"),this.a.toString()};function dp(r,s,c,h,g,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}dp.prototype.zb=function(r){return this.h=r,this},dp.prototype.toString=function(){if(this.v){var r=Nn(this.v.url);r=Vc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Vc("https",this.u,null,"/__/auth/handler");if(xt(r,"apiKey",this.s),xt(r,"appName",this.c),xt(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=Se.app(this.c).auth().la()}catch{c=null}s.pb=c,xt(r,"providerId",this.a.providerId),c=this.a,s=J0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=Ne(s);for(var g=0;g<h.length;g++){var y=h[g];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),Ue(s)||xt(r,"customParameters",Lu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&xt(r,"scopes",c.join(","))),this.l?xt(r,"redirectUrl",this.l):Nr(r.b,"redirectUrl"),this.g?xt(r,"eventId",this.g):Nr(r.b,"eventId"),this.i?xt(r,"v",this.i):Nr(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!or(r,w)&&xt(r,w,this.b[w]);return this.h?xt(r,"tid",this.h):Nr(r.b,"tid"),this.f?xt(r,"eid",this.f):Nr(r.b,"eid"),w=pp(this.c),w.length&&xt(r,"fw",w.join(",")),r.toString()};function pp(r){try{return Se.app(r).auth().Ga()}catch{return[]}}function ab(r,s,c,h,g,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function cb(r){var s=Pu();return JN(r).then(function(c){e:{var h=Nn(s),g=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],E=h,L=g;if(w.indexOf("chrome-extension://")==0?E=Nn(w).a==E&&L=="chrome-extension":L!="http"&&L!="https"?E=!1:Zx.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break e}}c=!1}if(!c)throw new Kd(Pu())})}function lb(r){return r.m||(r.m=Bc().then(function(){if(!r.u){var s=r.c,c=r.i,h=pp(r.b),g=new ub(r.s,r.g,r.b,r.f);g.f=s,g.b=c,g.c=re(h||[]),r.u=g.toString()}r.v=new DC(r.u),qC(r)})),r.m}e=ab.prototype,e.Pb=function(r,s,c){var h=new k("popup-closed-by-user"),g=new k("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){$C(y).then(function(E){E||(r&&ro(r),s(g),w=!0)})}).o(function(){}).then(function(){if(!w)return Jx(r)}).then(function(){if(!w)return rs(c).then(function(){s(h)})})},e.Yb=function(){var r=Xt();return!Du(r)&&!Z0(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,h,g,y,w,E){if(!r)return yt(new k("popup-blocked"));if(w&&!Du())return this.ma().o(function(G){ro(r),g(G)}),h(),Ie();this.a||(this.a=cb(fb(this)));var L=this;return this.a.then(function(){var G=L.ma().o(function(Ce){throw ro(r),g(Ce),Ce});return h(),G}).then(function(){if($d(c),!w){var G=Qu(L.s,L.g,L.b,s,c,null,y,L.c,void 0,L.i,E,L.f);K0(G,r)}}).o(function(G){throw G.code=="auth/network-request-failed"&&(L.a=null),G})};function fb(r){return r.l||(r.C=r.c?us(r.c,pp(r.b)):null,r.l=new gr(r.g,Xe(r.i),r.C),r.f&&ll(r.l,r.f)),r.l}e.Ob=function(r,s,c,h){this.a||(this.a=cb(fb(this)));var g=this;return this.a.then(function(){$d(s);var y=Qu(g.s,g.g,g.b,r,s,Pu(),c,g.c,void 0,g.i,h,g.f);K0(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(g.a=null),y})},e.ma=function(){var r=this;return lb(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function Qu(r,s,c,h,g,y,w,E,L,G,Ce,rt){return r=new dp(r,s,c,h,g,rt),r.l=y,r.g=w,r.i=E,r.b=Ne(L||null),r.f=G,r.zb(Ce).toString()}function qC(r){if(!r.v)throw Error("IfcHandler must be initialized!");FC(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=Dw(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Ie(c)}return c.status="ERROR",Ie(c)})}function $C(r){var s={type:"webStorageSupport"};return lb(r).then(function(){return MC(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){V(this.h,function(s){return s==r})};function hb(r){if(this.a=r||Se.INTERNAL.reactNative&&Se.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=hb.prototype,e.get=function(r){return Ie(this.a.getItem(r)).then(function(s){return s&&cs(s)})},e.set=function(r,s){return Ie(this.a.setItem(r,Lu(s)))},e.U=function(r){return Ie(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function db(r){this.b=r,this.a={},this.f=U(this.c,this)}var pb=[];function HC(){var r=dr()?self:null;if($(pb,function(c){c.b==r&&(s=c)}),!s){var s=new db(r);pb.push(s)}return s}db.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var g=[];$(h,function(y){g.push(Ie().then(function(){return y(r.origin,r.data.data)}))}),y0(g).then(function(y){var w=[];$(y,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),$(w,function(E){for(var L in E)typeof E[L]>"u"&&delete E[L]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function gb(r,s,c){Ue(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function vb(r){this.a=r}vb.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function mb(r){this.c=r,this.b=!1,this.a=[]}function yb(r,s,c,h){var g,y=c||{},w,E,L,G=null;if(r.b)return yt(Error("connection_unavailable"));var Ce=h?800:50,rt=typeof MessageChannel<"u"?new MessageChannel:null;return new He(function(Ze,Kt){rt?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),rt.port1.start(),E=setTimeout(function(){Kt(Error("unsupported_event"))},Ce),w=function(Jr){Jr.data.eventId===g&&(Jr.data.status==="ack"?(clearTimeout(E),L=setTimeout(function(){Kt(Error("timeout"))},3e3)):Jr.data.status==="done"?(clearTimeout(L),typeof Jr.data.response<"u"?Ze(Jr.data.response):Kt(Error("unknown_error"))):(clearTimeout(E),clearTimeout(L),Kt(Error("invalid_response"))))},G={messageChannel:rt,onMessage:w},r.a.push(G),rt.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:g,data:y},[rt.port2])):Kt(Error("connection_unavailable"))}).then(function(Ze){return gp(r,G),Ze}).o(function(Ze){throw gp(r,G),Ze})}function gp(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),V(r.a,function(g){return g==s})}}mb.prototype.close=function(){for(;0<this.a.length;)gp(this,this.a[0]);this.b=!0};function wb(){if(!yp())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;dr()&&self?(this.v=HC(),gb(this.v,"keyChanged",function(s,c){return Eb(r).then(function(h){return 0<h.length&&$(r.a,function(g){g(h)}),{keyProcessed:C(h,c.key)}})}),gb(this.v,"ping",function(){return Ie(["keyChanged"])})):oN().then(function(s){(r.h=s)&&(r.g=new mb(new vb(s)),yb(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&C(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var vp;function KC(r){return new He(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(g){c(Error(g.target.error))}})}function bb(r){return new He(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},h.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?s(g):KC(r).then(function(){return bb(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function mp(r){return r.i||(r.i=bb(r)),r.i}function hl(r,s){function c(g,y){mp(r).then(s).then(g).o(function(w){if(3<++h)y(w);else return mp(r).then(function(E){return E.close(),r.i=void 0,c(g,y)}).o(function(E){y(E)})})}var h=0;return new He(c)}function yp(){try{return!!f.indexedDB}catch{return!1}}function Ju(r){return r.objectStore("firebaseLocalStorage")}function Zu(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function ds(r){return new He(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}e=wb.prototype,e.set=function(r,s){var c=this,h=!1;return hl(this,function(g){return g=Ju(Zu(g,!0)),ds(g.get(r))}).then(function(g){return hl(c,function(y){if(y=Ju(Zu(y,!0)),g)return g.value=s,ds(y.put(g));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,ds(y.add(w))})}).then(function(){return c.c[r]=s,_b(c,r)}).oa(function(){h&&c.b--})};function _b(r,s){return r.g&&r.h&&iN()===r.h?yb(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Ie()}e.get=function(r){return hl(this,function(s){return ds(Ju(Zu(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return hl(this,function(h){return c=!0,s.b++,ds(Ju(Zu(h,!0)).delete(r))}).then(function(){return delete s.c[r],_b(s,r)}).oa(function(){c&&s.b--})};function Eb(r){return mp(r).then(function(s){var c=Ju(Zu(s,!1));return c.getAll?ds(c.getAll()):new He(function(h,g){var y=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(y.push(E.value),E.continue()):h(y)},w.onerror=function(E){g(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=z0(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&zC(this),this.a.push(r)},e.ia=function(r){V(this.a,function(s){return s==r}),this.a.length==0&&Ib(this)};function zC(r){function s(){r.f=setTimeout(function(){r.l=Eb(r).then(function(c){0<c.length&&$(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Ib(r),s()}function Ib(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Tb(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ie().then(function(){if(yp()){var h=oo(),g="__sak"+h;return vp||(vp=new wb),c=vp,c.set(g,h).then(function(){return c.get(g)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(g){$(s.a,function(y){y(g)})}),h})}e=Tb.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){V(this.a,function(s){return s==r})};function ea(){this.a={},this.type="inMemory"}e=ea.prototype,e.get=function(r){return Ie(this.a[r])},e.set=function(r,s){return this.a[r]=s,Ie()},e.U=function(r){return delete this.a[r],Ie()},e.ca=function(){},e.ia=function(){};function dl(){if(!GC())throw Cr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Sb()||Se.INTERNAL.node.localStorage,this.type="localStorage"}function Sb(){try{var r=f.localStorage,s=oo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function GC(){var r=Cr()=="Node";if(r=Sb()||r&&Se.INTERNAL.node&&Se.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=dl.prototype,e.get=function(r){var s=this;return Ie().then(function(){var c=s.a.getItem(r);return cs(c)})},e.set=function(r,s){var c=this;return Ie().then(function(){var h=Lu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ie().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&ir(f.window,"storage",r)},e.ia=function(r){f.window&&qn(f.window,"storage",r)};function wp(){this.type="nullStorage"}e=wp.prototype,e.get=function(){return Ie(null)},e.set=function(){return Ie()},e.U=function(){return Ie()},e.ca=function(){},e.ia=function(){};function bp(){if(!WC())throw Cr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Ab()||Se.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ab(){try{var r=f.sessionStorage,s=oo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function WC(){var r=Cr()=="Node";if(r=Ab()||r&&Se.INTERNAL.node&&Se.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=bp.prototype,e.get=function(r){var s=this;return Ie().then(function(){var c=s.a.getItem(r);return cs(c)})},e.set=function(r,s){var c=this;return Ie().then(function(){var h=Lu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Ie().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function XC(){var r={};r.Browser=YC,r.Node=QC,r.ReactNative=JC,r.Worker=ZC,this.a=r[Cr()]}var _p,YC={F:dl,cb:bp},QC={F:dl,cb:bp},JC={F:hb,cb:wp},ZC={F:dl,cb:wp},ps={rd:"local",NONE:"none",td:"session"};function eR(r){var s=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(h in ps)if(ps[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw s;switch(Cr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!yp()&&r!=="none")throw c;break;default:if(!_d()&&r!=="none")throw c}}function kb(){var r=!!(!Z0(Xt())&&wd()),s=Du(),c=_d();this.m=r,this.h=s,this.l=c,this.a={},_p||(_p=new XC),r=_p;try{this.g=!md()&&tw()||!f.indexedDB?new r.a.F:new Tb(dr()?new ea:new r.a.F)}catch{this.g=new ea,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new ea}this.v=new ea,this.f=U(this.Zb,this),this.b={}}var Ep;function ta(){return Ep||(Ep=new kb),Ep}function po(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function gs(r,s){return"firebase:"+r.name+(s?":"+s:"")}function tR(r,s,c){var h=gs(s,c),g=po(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=cs(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&g.type!="localStorage"&&f.localStorage.removeItem(h)})}e=kb.prototype,e.get=function(r,s){return po(this,r.F).get(gs(r,s))};function vs(r,s,c){return c=gs(s,c),s.F=="local"&&(r.b[c]=null),po(r,s.F).U(c)}e.set=function(r,s,c){var h=gs(r,c),g=this,y=po(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(g.b[h]=w)})},e.addListener=function(r,s,c){r=gs(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),Ue(this.a)&&(po(this,"local").ca(this.f),this.h||(md()||!tw())&&f.indexedDB||!this.l||nR(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=gs(r,s),this.a[r]&&(V(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Ue(this.a)&&(po(this,"local").ia(this.f),Ip(this))};function nR(r){Ip(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new eo({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Ip(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var g=f.localStorage.getItem(c);g!==h&&(this.b[c]=g,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?po(this,"local").ia(this.f):Ip(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},hr&&pi&&pi==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else $(r,U(this.nb,this))},e.nb=function(r){this.a[r]&&$(this.a[r],function(s){s()})};function rR(r){this.a=r,this.b=ta()}var Tp={name:"authEvent",F:"local"};function iR(r){return r.b.get(Tp,r.a).then(function(s){return Dw(s)})}function oR(){this.a=ta()}function sR(){this.b=-1}function pl(r,s){this.b=xb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),gl===void 0&&(f.Int32Array?gl=new Int32Array(Rb):gl=Rb),this.reset()}var gl;z(pl,sR);for(var xb=64,uR=xb-1,Nb=[],Sp=0;Sp<uR;Sp++)Nb[Sp]=0;var Cb=W(128,Nb);pl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):re(this.h)};function Ap(r){for(var s=r.f,c=r.l,h=0,g=0;g<s.length;)c[h++]=s[g]<<24|s[g+1]<<16|s[g+2]<<8|s[g+3],g=4*h;for(s=16;64>s;s++){g=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,g=r.a[1]|0;var E=r.a[2]|0,L=r.a[3]|0,G=r.a[4]|0,Ce=r.a[5]|0,rt=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var Ze=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&E^g&E)|0;w=G&Ce^~G&rt,y=y+((G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))|0,w=w+(gl[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=rt,rt=Ce,Ce=G,G=L+w|0,L=E,E=g,g=h,h=w+Ze|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+g|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+L|0,r.a[4]=r.a[4]+G|0,r.a[5]=r.a[5]+Ce|0,r.a[6]=r.a[6]+rt|0,r.a[7]=r.a[7]+y|0}function kp(r,s,c){c===void 0&&(c=s.length);var h=0,g=r.c;if(typeof s=="string")for(;h<c;)r.f[g++]=s.charCodeAt(h++),g==r.b&&(Ap(r),g=0);else if(_(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[g++]=y,g==r.b&&(Ap(r),g=0)}else throw Error("message must be string or array");r.c=g,r.g+=c}var Rb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ob(){pl.call(this,8,aR)}z(Ob,pl);var aR=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Pb(r,s,c,h,g,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=g||null,this.s=y,this.h=s+":"+c,this.C=new oR,this.g=new rR(this.h),this.f=null,this.b=[],this.a=this.c=null}function vl(r){return new k("invalid-cordova-configuration",r)}e=Pb.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=tN().then(function(){if(typeof wt("universalLinks.subscribe",f)!="function")throw vl("cordova-universal-links-plugin-fix is not installed");if(typeof wt("BuildInfo.packageName",f)>"u")throw vl("cordova-plugin-buildinfo is not installed");if(typeof wt("cordova.plugins.browsertab.openUrl",f)!="function")throw vl("cordova-plugin-browsertab is not installed");if(typeof wt("cordova.InAppBrowser.open",f)!="function")throw vl("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function cR(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function lR(r){var s=new Ob;kp(s,r),r=[];var c=8*s.g;56>s.c?kp(s,Cb,56-s.c):kp(s,Cb,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Ap(s),h=c=0;h<s.i;h++)for(var g=24;0<=g;g-=8)r[c++]=s.a[h]>>g&255;return _N(r)}e.Pb=function(r,s){return s(new k("operation-not-supported-in-this-environment")),Ie()},e.Nb=function(){return yt(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,h){if(this.c)return yt(new k("redirect-operation-pending"));var g=this,y=f.document,w=null,E=null,L=null,G=null;return this.c=Ie().then(function(){return $d(s),Lb(g)}).then(function(){return fR(g,r,s,c,h)}).then(function(){return new He(function(Ce,rt){E=function(){var Ze=wt("cordova.plugins.browsertab.close",f);return Ce(),typeof Ze=="function"&&Ze(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(E),L=function(){w||(w=rs(2e3).then(function(){rt(new k("redirect-cancelled-by-user"))}))},G=function(){Ed()&&L()},y.addEventListener("resume",L,!1),Xt().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",G,!1)}).o(function(Ce){return xp(g).then(function(){throw Ce})})}).oa(function(){L&&y.removeEventListener("resume",L,!1),G&&y.removeEventListener("visibilitychange",G,!1),w&&w.cancel(),E&&g.Ta(E),g.c=null})};function fR(r,s,c,h,g){var y=cR(),w=new pr(s,h,null,y,new k("no-auth-event"),null,g),E=wt("BuildInfo.packageName",f);if(typeof E!="string")throw new k("invalid-cordova-configuration");var L=wt("BuildInfo.displayName",f),G={};if(Xt().toLowerCase().match(/iphone|ipad|ipod/))G.ibi=E;else if(Xt().toLowerCase().match(/android/))G.apn=E;else return yt(new k("operation-not-supported-in-this-environment"));L&&(G.appDisplayName=L),y=lR(y),G.sessionId=y;var Ce=Qu(r.v,r.i,r.l,s,c,null,h,r.m,G,r.u,g,r.s);return r.ma().then(function(){var rt=r.h;return r.C.a.set(Tp,w.w(),rt)}).then(function(){var rt=wt("cordova.plugins.browsertab.isAvailable",f);if(typeof rt!="function")throw new k("invalid-cordova-configuration");var Ze=null;rt(function(Kt){if(Kt){if(Ze=wt("cordova.plugins.browsertab.openUrl",f),typeof Ze!="function")throw new k("invalid-cordova-configuration");Ze(Ce)}else{if(Ze=wt("cordova.InAppBrowser.open",f),typeof Ze!="function")throw new k("invalid-cordova-configuration");Kt=Xt(),r.a=Ze(Ce,Kt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Kt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Db(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Lb(r){return r.f||(r.f=r.ma().then(function(){return new He(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),hR(r)})})),r.f}function xp(r){var s=null;return iR(r.g).then(function(c){return s=c,c=r.g,vs(c.b,Tp,c.a)}).then(function(){return s})}function hR(r){function s(w){h=!0,g&&g.cancel(),xp(r).then(function(E){var L=c;if(E&&w&&w.url){var G=null;L=Aw(w.url),L.indexOf("/__/auth/callback")!=-1&&(G=Nn(L),G=cs(or(G,"firebaseError")||null),G=(G=typeof G=="object"?We(G):null)?new pr(E.c,E.b,null,null,G,null,E.T()):new pr(E.c,E.b,L,E.f,null,null,E.T())),L=G||c}Db(r,L)})}var c=new pr("unknown",null,null,null,new k("no-auth-event")),h=!1,g=rs(500).then(function(){return xp(r).then(function(){h||Db(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(wt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(E){console.error(E)}},Hd||(Hd=new NN),CN(s)}e.Ea=function(r){this.b.push(r),Lb(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new pr("unknown",null,null,null,new k("no-auth-event")),r(s))})},e.Ta=function(r){V(this.b,function(s){return s==r})};function dR(r){this.a=r,this.b=ta()}var Np={name:"pendingRedirect",F:"session"};function pR(r){return r.b.set(Np,"pending",r.a)}function Cp(r){return vs(r.b,Np,r.a)}function gR(r){return r.b.get(Np,r.a).then(function(s){return s=="pending"})}function ml(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=U(this.s,this),this.b=new wl,this.C=new Kb,this.g=new dR(qb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Mb(this.D,this.v,this.m,ue,this.J)}function Mb(r,s,c,h,g){var y=Se.SDK_VERSION||null;return yd()?new Pb(r,s,c,y,h,g):new ab(r,s,c,y,h,g)}ml.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Mb(this.D,this.v,this.m,null,this.J),this.i={}};function Fb(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function jb(r){r.a.Yb()&&Fb(r).o(function(s){var c=new pr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Op(s)&&r.s(c)}),r.a.Ub()||$b(r.b)}function yl(r,s){C(r.h,s)||r.h.push(s),r.f||gR(r.g).then(function(c){c?Cp(r.g).then(function(){Fb(r).o(function(h){var g=new pr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Op(h)&&r.s(g)})}):jb(r)}).o(function(){jb(r)})}function Rp(r,s){V(r.h,function(c){return c==s})}ml.prototype.s=function(r){if(!r)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return $b(this.b),s};var vR=new mi(2e3,1e4),mR=new mi(3e4,6e4);ml.prototype.ra=function(){return this.b.ra()};function Ub(r,s,c,h,g,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},g,y,w)}function Op(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Vb(r,s,c,h,g){var y;return pR(r.g).then(function(){return r.a.Ob(s,c,h,g).o(function(w){if(Op(w))throw new k("operation-not-supported-in-this-environment");return y=w,Cp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new He(function(){}):Cp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Bb(r,s,c,h,g){return r.a.Pb(h,function(y){s.na(c,null,y,g)},vR.get())}var Pp={};function qb(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Dp(r,s,c,h){var g=qb(s,c,h);return Pp[g]||(Pp[g]=new ml(r,s,c,h)),Pp[g]}function wl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}wl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},wl.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,g=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!y),c!="unknown"||g||y?r.a?(go(this,!0,null,r.a),Ie()):s.Fa(c,h)?yR(this,r,s):yt(new k("invalid-auth-event")):(go(this,!1,null,null),Ie())}else yt(new k("invalid-auth-event"))};function $b(r){r.g||(r.g=!0,go(r,!1,null,null))}function bl(r){r.g&&!r.i&&go(r,!1,null,null)}function yR(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,g=s.f,y=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,g,w,y).then(function(L){go(r,E,L,null)}).o(function(L){go(r,E,null,L)})}function wR(r,s){if(r.b=function(){return yt(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function Hb(r,s){if(r.b=function(){return Ie(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function go(r,s,c,h){s?h?wR(r,h):Hb(r,c):Hb(r,{user:null}),r.f=[],r.c=[]}wl.prototype.ra=function(){var r=this;return new He(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),bR(r))})};function bR(r){var s=new k("timeout");r.a&&r.a.cancel(),r.a=rs(mR.get()).then(function(){r.b||(r.g=!0,go(r,!0,null,s))})}function Kb(){}Kb.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Ie()):s.Fa(c,h)?_R(r,s):yt(new k("invalid-auth-event"))}else yt(new k("invalid-auth-event"))};function _R(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(g){s.na(h,g,null,c)}).o(function(g){s.na(h,null,g,c)})}function zb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Lp(r,s){this.a=s,pe(this,"verificationId",r)}Lp.prototype.confirm=function(r){return r=Pw(this.verificationId,r),this.a(r)};function Mp(r,s,c,h){return new Yr(r).gb(s,c).then(function(g){return new Lp(g,h)})}function ER(r){var s=yw(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");gn(this,{token:r,expirationTime:Mu(1e3*s.exp),authTime:Mu(1e3*s.auth_time),issuedAtTime:Mu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function Fp(r,s,c){var h=s&&s[Wb];if(!h)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=Ne(s),this.g=c,this.c=new Xc(null,h),this.b=[];var g=this;$(s[Gb]||[],function(y){(y=xd(y))&&g.b.push(y)}),pe(this,"auth",this.a),pe(this,"session",this.c),pe(this,"hints",this.b)}var Gb="mfaInfo",Wb="mfaPendingCredential";Fp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=Ne(s.f);return delete h[Gb],delete h[Wb],Pe(h,c),s.g(h)})};function jp(r,s,c,h){k.call(this,"multi-factor-auth-required",h,s),this.b=new Fp(r,s,c),pe(this,"resolver",this.b)}z(jp,k);function Xb(r,s,c){if(r&&S(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new jp(s,r.serverResponse,c,r.message)}catch{}return null}function Yb(){}Yb.prototype.tb=function(r,s,c){return s.type==Vu?IR(this,r,s,c):TR(this,r,s)};function IR(r,s,c,h){return c.Ha().then(function(g){return g={idToken:g},typeof h<"u"&&(g.displayName=h),Pe(g,{phoneVerificationInfo:Bu(r.a)}),Ke(s,hC,g)})}function TR(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Pe(h,{phoneVerificationInfo:Bu(r.a)}),Ke(s,dC,h)})}function Up(r){pe(this,"factorId",r.fa),this.a=r}z(Up,Yb);function Qb(r){if(Up.call(this,r),this.a.fa!=Yr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}z(Qb,Up);function ms(r,s){xn.call(this,r);for(var c in s)this[c]=s[c]}z(ms,xn);function Vp(r,s){this.a=r,this.b=[],this.c=U(this.yc,this),ir(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&$(s.multiFactor.enrolledFactors,function(h){var g=null,y={};if(h){h.uid&&(y[Cd]=h.uid),h.displayName&&(y[rw]=h.displayName),h.enrollmentTime&&(y[Nd]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Rd]=h.phoneNumber);try{g=new Fu(y)}catch{}h=g}else h=null;h&&c.push(h)}),_l(this,c)}function SR(r){var s=[];return $(r.mfaInfo||[],function(c){(c=xd(c))&&s.push(c)}),s}e=Vp.prototype,e.yc=function(r){_l(this,SR(r.hd))};function _l(r,s){r.b=s,pe(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new Xc(r,null)})},e.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(g){return r.tb(h,g,s)}).then(function(g){return Pr(c.a,g),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(g){return Ke(h,PC,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var y=ae(s.b,function(w){return w.uid!=c});return _l(s,y),Pr(s.a,g),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:Oe(this.b,function(r){return r.w()})}}};function Bp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Bp.prototype.start=function(){this.a=this.c,qp(this,!0)};function AR(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function qp(r,s){r.stop(),r.b=rs(AR(r,s)).then(function(){return rN()}).then(function(){return r.h()}).then(function(){qp(r,!0)}).o(function(c){r.i(c)&&qp(r,!1)})}Bp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function $p(r){this.f=r,this.b=this.a=null,this.c=Date.now()}$p.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Jb(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function Zb(r,s){r.b=Gc(s[vr]||""),r.a=s.refreshToken,s=s.expiresIn,Jb(r,typeof s<"u"?Number(s):void 0)}function kR(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function xR(r,s){return YN(r.f,s).then(function(c){return r.b=Gc(c.access_token),r.a=c.refresh_token,Jb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}$p.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?yt(new k("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?xR(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})};function El(r,s){this.a=r||null,this.b=s||null,gn(this,{lastSignInTime:Mu(s||null),creationTime:Mu(r||null)})}function NR(r){return new El(r.a,r.b)}El.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function CR(r,s,c,h,g,y){gn(this,{uid:r,displayName:h||null,photoURL:g||null,email:c||null,phoneNumber:y||null,providerId:s})}function Hn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=Se.SDK_VERSION?us(Se.SDK_VERSION):null;this.a=new gr(this.l,Xe(ue),h),(this.u=r.emulatorConfig||null)&&ll(this.a,this.u),this.h=new $p(this.a),Yp(this,s[vr]),Zb(this.h,s),pe(this,"refreshToken",this.h.a),t_(this,c||{}),pn.call(this),this.P=!1,this.s&&io()&&(this.b=Dp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=RR(this),this.ba=U(this.ib,this);var g=this;this.za=null,this.Pa=function(y){g.xa(y.h)},this.qa=null,this.Ba=function(y){Hp(g,y.c)},this.$=null,this.aa=[],this.Oa=function(y){na(g,y.f)},this.ja=null,this.S=new Vp(this,c),pe(this,"multiFactor",this.S)}z(Hn,pn),Hn.prototype.xa=function(r){this.za=r,Xw(this.a,r)};function Hp(r,s){r.u=s,ll(r.a,s),r.b&&(s=r.b,r.b=Dp(r.s,r.l,r.m,r.u),r.P&&(Rp(s,r),yl(r.b,r)))}Hn.prototype.la=function(){return this.za};function Kp(r,s){r.qa&&qn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&ir(s,"languageCodeChanged",r.Pa)}function zp(r,s){r.$&&qn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&ir(s,"emulatorConfigChanged",r.Ba)}function na(r,s){r.aa=s,Yw(r.a,Se.SDK_VERSION?us(Se.SDK_VERSION,r.aa):null)}Hn.prototype.Ga=function(){return re(this.aa)};function Gp(r,s){r.ja&&qn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&ir(s,"frameworkChanged",r.Oa)}Hn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Wp(r){try{return Se.app(r.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function RR(r){return new Bp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function e_(r){r.J||r.D.b||(r.D.start(),qn(r,"tokenChanged",r.ba),ir(r,"tokenChanged",r.ba))}function Xp(r){qn(r,"tokenChanged",r.ba),r.D.stop()}function Yp(r,s){r.Aa=s,pe(r,"_lat",s)}function OR(r,s){V(r.W,function(c){return c==s})}function vo(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return y0(s).then(function(){return r})}function ra(r){r.b&&!r.P&&(r.P=!0,yl(r.b,r))}function t_(r,s){gn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new El(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pe(Hn.prototype,"providerId","firebase");function n_(){}function Qp(r){return Ie().then(function(){if(r.J)throw new k("app-deleted")})}function Jp(r){return Oe(r.providerData,function(s){return s.providerId})}function Zp(r,s){s&&(r_(r,s.providerId),r.providerData.push(s))}function r_(r,s){V(r.providerData,function(c){return c.providerId==s})}function bi(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&pe(r,s,c)}function Il(r,s){r!=s&&(gn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?pe(r,"metadata",NR(s.metadata)):pe(r,"metadata",new El),$(s.providerData,function(c){Zp(r,c)}),kR(r.h,s.h),pe(r,"refreshToken",r.h.a),_l(r.S,s.S.b))}e=Hn.prototype,e.reload=function(){var r=this;return Bt(this,Qp(this).then(function(){return eg(r).then(function(){return vo(r)}).then(n_)}))};function eg(r){return r.I().then(function(s){var c=r.isAnonymous;return PR(r,s).then(function(){return c||bi(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new ER(s)})},e.I=function(r){var s=this;return Bt(this,Qp(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=s.Aa&&(Yp(s,c.accessToken),s.dispatchEvent(new ms("tokenChanged"))),bi(s,"refreshToken",c.refreshToken),c.accessToken}))};function Pr(r,s){s[vr]&&r.Aa!=s[vr]&&(Zb(r.h,s),r.dispatchEvent(new ms("tokenChanged")),Yp(r,s[vr]),bi(r,"refreshToken",r.h.a))}function PR(r,s){return Ke(r.a,pC,{idToken:s}).then(U(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new k("internal-error");r=r[0],t_(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=DR(r),c=0;c<s.length;c++)Zp(this,s[c]);bi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ms("userReloaded",{hd:r}))};function DR(r){return(r=r.providerUserInfo)&&r.length?Oe(r,function(s){return new CR(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return Id("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return Bt(this,r.c(this.a,this.uid).then(function(h){return Pr(s,h),c=ia(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Tl(r,s){return eg(r).then(function(){if(C(Jp(r),s))return vo(r).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(r){return Id("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return Bt(this,Tl(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=ia(s,h,"link"),i_(s,h)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return Bt(this,Tl(this,"phone").then(function(){return Mp(Wp(c),r,s,U(c.rb,c))}))},e.Mc=function(r,s){var c=this;return Bt(this,Ie().then(function(){return Mp(Wp(c),r,s,U(c.ub,c))}),!0)};function ia(r,s,c){var h=qd(s);return s=bw(s),Rr({user:r,credential:h,additionalUserInfo:s,operationType:c})}function i_(r,s){return Pr(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return Bt(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Pr(s,c),s.reload()}))},e.ed=function(r){var s=this;return Bt(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Pr(s,c),s.reload()}))},e.Db=function(r){var s=this;return Bt(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Pr(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return Qp(this);var s=this;return Bt(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Pr(s,c),bi(s,"displayName",c.displayName||null),bi(s,"photoURL",c.photoUrl||null),$(s.providerData,function(h){h.providerId==="password"&&(pe(h,"displayName",s.displayName),pe(h,"photoURL",s.photoURL))}),vo(s)}).then(n_))},e.cd=function(r){var s=this;return Bt(this,eg(this).then(function(c){return C(Jp(s),r)?rC(s.a,c,[r]).then(function(h){var g={};return $(h.providerUserInfo||[],function(y){g[y.providerId]=!0}),$(Jp(s),function(y){g[y]||r_(s,y)}),g[Yr.PROVIDER_ID]||pe(s,"phoneNumber",null),vo(s)}):vo(s).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var r=this;return Bt(this,this.I().then(function(s){return Ke(r.a,aC,{idToken:s})}).then(function(){r.dispatchEvent(new ms("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Kp(r,null),zp(r,null),Gp(r,null),r.N=[],r.J=!0,Xp(r),pe(r,"refreshToken",null),r.b&&Rp(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?U(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?U(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?U(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?U(this.Mb,this):null},e.Ec=function(r){var s=this;return o_(this,"linkViaPopup",r,function(){return Tl(s,r.providerId).then(function(){return vo(s)})},!1)},e.Nc=function(r){return o_(this,"reauthViaPopup",r,function(){return Ie()},!0)};function o_(r,s,c,h,g){if(!io())return yt(new k("operation-not-supported-in-this-environment"));if(r.i&&!g)return yt(r.i);var y=Md(c.providerId),w=oo(r.uid+":::"),E=null;(!Du()||wd())&&r.s&&c.isOAuthProvider&&(E=Qu(r.s,r.l,r.m,s,c,null,w,Se.SDK_VERSION||null,null,null,r.tenantId,r.u));var L=W0(E,y&&y.va,y&&y.ua);return h=h().then(function(){if(u_(r),!g)return r.I().then(function(){})}).then(function(){return Ub(r.b,L,s,c,w,!!E,r.tenantId)}).then(function(){return new He(function(G,Ce){r.na(s,null,new k("cancelled-popup-request"),r.g||null),r.f=G,r.C=Ce,r.g=w,r.c=Bb(r.b,r,s,L,w)})}).then(function(G){return L&&ro(L),G?Rr(G):null}).o(function(G){throw L&&ro(L),G}),Bt(r,h,g)}e.Fc=function(r){var s=this;return s_(this,"linkViaRedirect",r,function(){return Tl(s,r.providerId)},!1)},e.Oc=function(r){return s_(this,"reauthViaRedirect",r,function(){return Ie()},!0)};function s_(r,s,c,h,g){if(!io())return yt(new k("operation-not-supported-in-this-environment"));if(r.i&&!g)return yt(r.i);var y=null,w=oo(r.uid+":::");return h=h().then(function(){if(u_(r),!g)return r.I().then(function(){})}).then(function(){return r.ga=w,vo(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(tg,r.w(),E.a)),E}).then(function(){return Vb(r.b,s,c,w,r.tenantId)}).o(function(E){if(y=E,r.ha)return c_(r.ha);throw y}).then(function(){if(y)throw y}),Bt(r,h,g)}function u_(r){if(!r.b||!r.P)throw r.b&&!r.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(r,s,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return cp(g.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=ia(g,w,"link"),i_(g,w)}).then(function(){return y}),Bt(this,c)},e.Mb=function(r,s,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Ie().then(function(){return fs(lp(g.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),g.uid)}).then(function(E){return y=ia(g,E,"reauthenticate"),Pr(g,E),g.i=null,g.reload()}).then(function(){return y});return Bt(this,w,!0)},e.vb=function(r){var s=this,c=null;return Bt(this,this.I().then(function(h){return c=h,typeof r>"u"||Ue(r)?{}:Kc(new Hc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,h=null;return Bt(this,this.I().then(function(g){return h=g,typeof s>"u"||Ue(s)?{}:Kc(new Hc(s))}).then(function(g){return c.a.Fb(h,r,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function Bt(r,s,c){var h=LR(r,s,c);return r.N.push(h),h.oa(function(){j(r.N,h)}),h.o(function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Xb(g.w(),Wp(r),U(r.jc,r))),y||g})}e.jc=function(r){var s=null,c=this;return r=fs(Ie(r),c.uid).then(function(h){return s=ia(c,h,"reauthenticate"),Pr(c,h),c.i=null,c.reload()}).then(function(){return s}),Bt(this,r,!0)};function LR(r,s,c){return r.i&&!c?(s.cancel(),yt(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ms("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Pe(r,this.metadata.w()),$(this.providerData,function(s){r.providerData.push(sN(s))}),Pe(r,this.S.w()),r};function a_(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[vr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var g=new Hn(s,c,r);return r.providerData&&$(r.providerData,function(y){y&&Zp(g,Rr(y))}),r.redirectEventId&&(g.ga=r.redirectEventId),g}function MR(r,s,c,h){var g=new Hn(r,s);return c&&(g.ha=c),h&&na(g,h),g.reload().then(function(){return g})}function FR(r,s,c,h){var g=r.h,y={};return y[vr]=g.b&&g.b.toString(),y.refreshToken=g.a,s=new Hn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&na(s,h),Il(s,r),s}function jR(r){this.a=r,this.b=ta()}var tg={name:"redirectUser",F:"session"};function c_(r){return vs(r.b,tg,r.a)}function UR(r,s){return r.b.get(tg,r.a).then(function(c){return c&&s&&(c.authDomain=s),a_(c||{})})}function ng(r){this.a=r,this.b=ta(),this.c=null,this.f=VR(this),this.b.addListener(Dr("local"),this.a,U(this.g,this))}ng.prototype.g=function(){var r=this,s=Dr("local");ys(this,function(){return Ie().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return rg(r,"local").then(function(){r.c=s})})})};function rg(r,s){var c=[],h;for(h in ps)ps[h]!==s&&c.push(vs(r.b,Dr(ps[h]),r.a));return c.push(vs(r.b,ig,r.a)),Nx(c)}function VR(r){var s=Dr("local"),c=Dr("session"),h=Dr("none");return tR(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(g){return g?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(ig,r.a).then(function(E){return E?Dr(E):s})})})}).then(function(g){return r.c=g,rg(r,g.F)}).o(function(){r.c||(r.c=s)})}var ig={name:"persistence",F:"session"};function Dr(r){return{name:"authUser",F:r}}ng.prototype.yb=function(r){var s=null,c=this;return eR(r),ys(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,rg(c,r)}).then(function(){if(c.c=Dr(r),s)return c.b.set(c.c,s,c.a)}):Ie()})};function BR(r){return ys(r,function(){return r.b.set(ig,r.c.F,r.a)})}function l_(r,s){return ys(r,function(){return r.b.set(r.c,s.w(),r.a)})}function f_(r){return ys(r,function(){return vs(r.b,r.c,r.a)})}function h_(r,s,c){return ys(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),a_(h||{})})})}function ys(r,s){return r.f=r.f.then(s,s),r.f}function mr(r){if(this.l=!1,pe(this,"settings",new zb),pe(this,"app",r),ut(this).options&&ut(this).options.apiKey)r=Se.SDK_VERSION?us(Se.SDK_VERSION):null,this.a=new gr(ut(this).options&&ut(this).options.apiKey,Xe(ue),r);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Se.INTERNAL.createSubscribe(U(this.zc,this)),this.W=void 0,this.ib=Se.INTERNAL.createSubscribe(U(this.Ac,this)),ws(this,null),this.i=new ng(ut(this).options.apiKey+":"+ut(this).name),this.D=new jR(ut(this).options.apiKey+":"+ut(this).name),this.$=At(this,GR(this)),this.h=At(this,WR(this)),this.ba=!1,this.ja=U(this.Zc,this),this.Ba=U(this.da,this),this.qa=U(this.mc,this),this.za=U(this.wc,this),this.Aa=U(this.xc,this),this.b=null,HR(this),this.INTERNAL={},this.INTERNAL.delete=U(this.delete,this),this.INTERNAL.logFramework=U(this.Gc,this),this.u=0,pn.call(this),$R(this),this.J=[],this.R=null}z(mr,pn);function d_(r){xn.call(this,"languageCodeChanged"),this.h=r}z(d_,xn);function p_(r){xn.call(this,"emulatorConfigChanged"),this.c=r}z(p_,xn);function g_(r){xn.call(this,"frameworkChanged"),this.f=r}z(g_,xn),e=mr.prototype,e.yb=function(r){return r=this.i.yb(r),At(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,Xw(this.a,this.aa),this.dispatchEvent(new d_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,qR(s),this.R={url:r,ec:s},this.settings.jb=!0,ll(this.a,this.R),this.dispatchEvent(new p_(this.R))}};function qR(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Bc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),Yw(this.a,Se.SDK_VERSION?us(Se.SDK_VERSION,this.J):null),this.dispatchEvent(new g_(this.J))},e.Ga=function(){return re(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function $R(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Nn(this.R.url);s=Rr({protocol:s.c,host:s.a,port:s.g,options:Rr({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:ut(this).options.apiKey,authDomain:ut(this).options.authDomain,appName:ut(this).name,currentUser:Ve(this)&&Ve(this).w()}};function og(r){return r.Oa||yt(new k("auth-domain-config-required"))}function HR(r){var s=ut(r).options.authDomain,c=ut(r).options.apiKey;s&&io()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Dp(s,c,ut(r).name,r.R),yl(r.b,r),Ve(r)&&ra(Ve(r)),r.m){ra(r.m);var h=r.m;h.xa(r.la()),Kp(h,r),h=r.m,na(h,r.J),Gp(h,r),h=r.m,Hp(h,r.R),zp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?U(this.ic,this):null},e.ic=function(r,s,c,h){var g=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return mo(g,ap(g.a,y))})},e.Xc=function(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=this,c=Md(r.providerId),h=oo(),g=null;(!Du()||wd())&&ut(this).options.authDomain&&r.isOAuthProvider&&(g=Qu(ut(this).options.authDomain,ut(this).options.apiKey,ut(this).name,"signInViaPopup",r,null,h,Se.SDK_VERSION||null,null,null,this.T(),this.R));var y=W0(g,c&&c.va,c&&c.ua);return c=og(this).then(function(w){return Ub(w,y,"signInViaPopup",r,h,!!g,s.T())}).then(function(){return new He(function(w,E){s.na("signInViaPopup",null,new k("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=Bb(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&ro(y),w?Rr(w):null}).o(function(w){throw y&&ro(y),w}),At(this,c)},e.Yc=function(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=this,c=og(this).then(function(){return BR(s.i)}).then(function(){return Vb(s.b,"signInViaRedirect",r,void 0,s.T())});return At(this,c)};function v_(r){if(!io())return yt(new k("operation-not-supported-in-this-environment"));var s=og(r).then(function(){return r.b.ra()}).then(function(c){return c?Rr(c):null});return At(r,s)}e.ra=function(){var r=this;return v_(this).then(function(s){return r.b&&bl(r.b.b),s}).o(function(s){throw r.b&&bl(r.b.b),s})},e.dd=function(r){if(!r)return yt(new k("null-user"));if(this.S!=r.tenantId)return yt(new k("tenant-id-mismatch"));var s=this,c={};c.apiKey=ut(this).options.apiKey,c.authDomain=ut(this).options.authDomain,c.appName=ut(this).name;var h=FR(r,c,s.D,s.Ga());return At(this,this.h.then(function(){if(ut(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Ve(s)&&r.uid==Ve(s).uid?(Il(Ve(s),r),s.da(r)):(ws(s,h),ra(h),s.da(h))}).then(function(){oa(s)}))};function KR(r,s){var c={};return c.apiKey=ut(r).options.apiKey,c.authDomain=ut(r).options.authDomain,c.appName=ut(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return MR(c,s,r.D,r.Ga())}).then(function(h){return Ve(r)&&h.uid==Ve(r).uid?(Il(Ve(r),h),r.da(h)):(ws(r,h),ra(h),r.da(h))}).then(function(){oa(r)})}function ws(r,s){Ve(r)&&(OR(Ve(r),r.Ba),qn(Ve(r),"tokenChanged",r.qa),qn(Ve(r),"userDeleted",r.za),qn(Ve(r),"userInvalidated",r.Aa),Xp(Ve(r))),s&&(s.W.push(r.Ba),ir(s,"tokenChanged",r.qa),ir(s,"userDeleted",r.za),ir(s,"userInvalidated",r.Aa),0<r.u&&e_(s)),pe(r,"currentUser",s),s&&(s.xa(r.la()),Kp(s,r),na(s,r.J),Gp(s,r),Hp(s,r.R),zp(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&bl(r.b.b),Ve(r)?(ws(r,null),f_(r.i).then(function(){oa(r)})):Ie()});return At(this,s)};function zR(r){var s=UR(r.D,ut(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),c_(r.D)});return At(r,s)}function GR(r){var s=ut(r).options.authDomain,c=zR(r).then(function(){return h_(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return l_(r.i,h).then(function(){return h})}).o(function(g){return g.code=="auth/network-request-failed"?h:f_(r.i)})):null}).then(function(h){ws(r,h||null)});return At(r,c)}function WR(r){return r.$.then(function(){return v_(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Dr("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return h_(this.i,ut(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Ve(r)&&s){c=Ve(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return Il(Ve(r),s),Ve(r).I();(Ve(r)||s)&&(ws(r,s),s&&(ra(s),s.ha=r.D),r.b&&yl(r.b,r),oa(r))}})},e.da=function(r){return l_(this.i,r)},e.mc=function(){oa(this),this.da(Ve(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function mo(r,s){var c=null,h=null;return At(r,s.then(function(g){return c=qd(g),h=bw(g),KR(r,g)},function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=Xb(g.w(),r,U(r.kc,r))),y||g}).then(function(){return Rr({user:Ve(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return mo(s,Ie(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Ve(s))})},e.Ac=function(r){var s=this;XR(this,function(){r.next(Ve(s))})},e.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ve(h)):typeof r.next=="function"&&r.next(Ve(h))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Ve(h)):typeof r.next=="function"&&r.next(Ve(h))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return Ve(s)?Ve(s).I(r).then(function(h){return{accessToken:h}}):null});return At(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return mo(s,Ke(s.a,NC,{token:r}))}).then(function(c){var h=c.user;return bi(h,"isAnonymous",!1),s.da(h),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return mo(c,Ke(c.a,ob,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return mo(c,Ke(c.a,sC,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return mo(s,r.ka(s.a))})},e.Sc=function(r){return Id("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=Ve(r);if(s&&s.isAnonymous){var c=Rr({providerId:null,isNewUser:!1});return Rr({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return mo(r,r.a.Ab()).then(function(h){var g=h.user;return bi(g,"isAnonymous",!0),r.da(g),h})})};function ut(r){return r.app}function Ve(r){return r.currentUser}e.getUid=function(){return Ve(this)&&Ve(this).uid||null};function Sl(r){return Ve(r)&&Ve(r)._lat||null}function oa(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](Sl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](Sl(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ve(this)&&e_(Ve(this))},e.Pc=function(r){var s=this;$(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Ve(this)&&Xp(Ve(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),At(this,this.h.then(function(){s.l||C(s.s,r)&&r(Sl(s))}))},e.removeAuthTokenListener=function(r){V(this.s,function(s){return s==r})};function XR(r,s){r.N.push(s),At(r,r.h.then(function(){!r.l&&C(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(Sl(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Dr("local"),r.a,this.ja)),this.b&&(Rp(this.b,this),bl(this.b.b)),Promise.resolve()};function At(r,s){return r.P.push(s),s.oa(function(){j(r.P,s)}),s}e.hc=function(r){return At(this,QN(this.a,r))},e.Bc=function(r){return!!Bd(r)},e.xb=function(r,s){var c=this;return At(this,Ie().then(function(){var h=new Hc(s);if(!h.c)throw new k("argument-error",Dd+" must be true when sending sign in link to email");return Kc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return At(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return At(this,this.a.Sa(r).then(function(s){return new aN(s)}))},e.kb=function(r){return At(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return At(this,Ie().then(function(){return typeof s>"u"||Ue(s)?{}:Kc(new Hc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return At(this,Mp(this,r,s,U(this.ab,this)))},e.Vc=function(r,s){var c=this;return At(this,Ie().then(function(){var h=s||Pu(),g=Ow(r,h);if(h=Bd(h),!h)throw new k("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(g)}))};function sa(){}sa.prototype.render=function(){},sa.prototype.reset=function(){},sa.prototype.getResponse=function(){},sa.prototype.execute=function(){};function bs(){this.a={},this.b=1e12}var sg=null;bs.prototype.render=function(r,s){return this.a[this.b.toString()]=new Al(r,s),this.b++},bs.prototype.reset=function(r){var s=ug(this,r);r=m_(r),s&&r&&(s.delete(),delete this.a[r])},bs.prototype.getResponse=function(r){return(r=ug(this,r))?r.getResponse():null},bs.prototype.execute=function(r){(r=ug(this,r))&&r.execute()};function ug(r,s){return(s=m_(s))&&r.a[s]||null}function m_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Al(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Au(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():ir(this.f,"click",this.i)}Al.prototype.getResponse=function(){return ag(this),this.b},Al.prototype.execute=function(){ag(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=nN();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Al.prototype.delete=function(){ag(this),this.g=!0,clearTimeout(this.a),this.a=null,qn(this.f,"click",this.i)};function ag(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function cg(){}pe(cg,"FACTOR_ID","phone");function lg(){}lg.prototype.g=function(){return sg||(sg=new bs),Ie(sg)},lg.prototype.c=function(){};var fg=null;function hg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var YR=new on(xc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),QR=new mi(3e4,6e4);hg.prototype.g=function(r){var s=this;return new He(function(c,h){var g=setTimeout(function(){h(new k("network-request-failed"))},QR.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,L){return E=w(E,L),s.b++,E},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),h(new k("internal-error"));delete f[s.a]};var y=Gh(YR,{onload:s.a,hl:r||""});Ie(tp(y)).o(function(){clearTimeout(g),h(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},hg.prototype.c=function(){this.b--};var dg=null;function pg(r,s,c,h,g,y,w){if(pe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(fg||(fg=new lg),w=fg):(dg||(dg=new hg),w=dg),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[b_])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[JR]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Au(s)||!this.i&&Au(s).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new gr(r,y||null,g||null),this.u=h||function(){return null};var E=this;this.l=[];var L=this.a[y_];this.a[y_]=function(Ce){if(__(E,Ce),typeof L=="function")L(Ce);else if(typeof L=="string"){var rt=wt(L,f);typeof rt=="function"&&rt(Ce)}};var G=this.a[w_];this.a[w_]=function(){if(__(E,null),typeof G=="function")G();else if(typeof G=="string"){var Ce=wt(G,f);typeof Ce=="function"&&Ce()}}}var y_="callback",w_="expired-callback",b_="sitekey",JR="size";function __(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function ZR(r,s){V(r.l,function(c){return c==s})}function gg(r,s){return r.h.push(s),s.oa(function(){j(r.h,s)}),s}e=pg.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=gg(this,Ie().then(function(){if(qc()&&!dr())return Bc();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Ke(r.s,bC,{})}).then(function(s){r.a[b_]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){kl(this);var r=this;return gg(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=Au(s);s=Sx("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){kl(this);var r=this;return gg(this,this.render().then(function(s){return new He(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var g=function(y){y&&(ZR(r,g),c(y))};r.l.push(g),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){kl(this),this.c!==null&&this.g.reset(this.c)};function kl(r){if(r.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){kl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Au(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function vg(r,s,c){var h=!1;try{this.b=c||Se.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var g=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=Se.SDK_VERSION?us(Se.SDK_VERSION,y):null,pg.call(this,c,r,s,function(){try{var w=g.b.auth().la()}catch{w=null}return w},y,Xe(ue),h)}z(vg,pg);function E_(r,s,c,h){e:{c=Array.prototype.slice.call(c);for(var g=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(y=s.length,c.length<g||y<c.length)h="Expected "+(g==y?g==1?"1 argument":g+" arguments":g+"-"+y+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(y=s[g].optional&&c[g]===void 0,!s[g].M(c[g])&&!y){if(s=s[g],0>g||g>=I_.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=I_[g],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}h=null}}if(h)throw new k("argument-error",r+" failed: "+h)}var I_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function mg(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Ot(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:S}}function _s(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Lr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function eO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function tO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof mr)}}}function nO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Se.app.App)}}}function _i(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function T_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Es(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function yg(r,s){return S(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function S_(r){return S(r)&&typeof r.uid=="string"}function xl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Nt(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(g){return r.M(g)||s.M(g)}}}function Et(r,s){for(var c in s){var h=s[c].name;r[h]=k_(h,r[c],s[c].j)}}function A_(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:we(function(g){return this[g]},c),set:we(function(g,y,w,E){E_(g,[w],[E],!0),this[y]=E},h,c,s[c].lb),enumerable:!0})}}function Ct(r,s,c,h){r[s]=k_(s,c,h)}function k_(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return E_(g,c,w),s.apply(this,w)}if(!c)return s;var g=rO(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function rO(r){return r=r.split("."),r[r.length-1]}Et(mr.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Nt(Ot(),_s(),"nextOrObserver"),_s("opt_error",!0),_s("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Nt(Ot(),_s(),"nextOrObserver"),_s("opt_error",!0),_s("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Nt(Ot("opt_actionCodeSettings",!0),Lr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Ot("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[_i()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[_i()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),xl()]},Xc:{name:"signInWithPopup",j:[Es()]},Yc:{name:"signInWithRedirect",j:[Es()]},dd:{name:"updateCurrentUser",j:[Nt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Hn)}}}(),Lr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Ot("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),A_(mr.prototype,{lc:{name:"languageCode",lb:Nt(he(),Lr(),"languageCode")},ti:{name:"tenantId",lb:Nt(he(),Lr(),"tenantId")}}),mr.Persistence=ps,mr.Persistence.LOCAL="local",mr.Persistence.SESSION="session",mr.Persistence.NONE="none",Et(Hn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[mg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[mg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[_i()]},rb:{name:"linkWithCredential",j:[_i()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),xl()]},Ec:{name:"linkWithPopup",j:[Es()]},Fc:{name:"linkWithRedirect",j:[Es()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[_i()]},ub:{name:"reauthenticateWithCredential",j:[_i()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),xl()]},Nc:{name:"reauthenticateWithPopup",j:[Es()]},Oc:{name:"reauthenticateWithRedirect",j:[Es()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Nt(Ot("opt_actionCodeSettings",!0),Lr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[_i("phone")]},Eb:{name:"updateProfile",j:[Ot("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Nt(Ot("opt_actionCodeSettings",!0),Lr(null,!0),"opt_actionCodeSettings",!0)]}}),Et(bs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Et(sa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Et(He.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),A_(zb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:mg("appVerificationDisabledForTesting")}}),Et(Lp.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Ct(ls,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[AN,kN,xN,SN],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Nt(he(),Ot(),"json")]),Ct(sr,"credential",function(r,s){return new yi(r,s)},[he("email"),he("password")]),Et(yi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Et(ao.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ot("customOAuthParameters")]}}),Ct(ao,"credential",xw,[Nt(he(),Ot(),"token")]),Ct(sr,"credentialWithLink",Ow,[he("email"),he("emailLink")]),Et(co.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ot("customOAuthParameters")]}}),Ct(co,"credential",Nw,[Nt(he(),Ot(),"token")]),Et(lo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ot("customOAuthParameters")]}}),Ct(lo,"credential",Cw,[Nt(he(),Nt(Ot(),Lr()),"idToken"),Nt(he(),Lr(),"accessToken",!0)]),Et(hs.prototype,{Ka:{name:"setCustomParameters",j:[Ot("customOAuthParameters")]}}),Ct(hs,"credential",Rw,[Nt(he(),Ot(),"token"),he("secret",!0)]),Et($n.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Nt(he(),Nt(Ot(),Lr()),"optionsOrIdToken"),Nt(he(),Lr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ot("customOAuthParameters")]}}),Et(Xr.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Et(so.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Ct(Yr,"credential",Pw,[he("verificationId"),he("verificationCode")]),Et(Yr.prototype,{gb:{name:"verifyPhoneNumber",j:[Nt(he(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?yg(c.session,Vu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?yg(c.session,Yc)&&S_(c.multiFactorHint):c.session&&c.multiFactorUid?yg(c.session,Yc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),xl()]}}),Et(wi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Et(k.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Et(qu.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Et(Kd.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Et(jp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),Et(Fp.prototype,{Rc:{name:"resolveSignIn",j:[T_()]}}),Et(Vp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[T_(),he("displayName",!0)]},bd:{name:"unenroll",j:[Nt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:S_},he(),"multiFactorInfoIdentifier")]}}),Et(vg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Ct(Pd,"parseLink",lw,[he("link")]),Ct(cg,"assertion",function(r){return new Qb(r)},[_i("phone")]),function(){if(typeof Se<"u"&&Se.INTERNAL&&Se.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:$c,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Od,VERIFY_AND_CHANGE_EMAIL:ju,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:mr,AuthCredential:ls,Error:k};Ct(r,"EmailAuthProvider",sr,[]),Ct(r,"FacebookAuthProvider",ao,[]),Ct(r,"GithubAuthProvider",co,[]),Ct(r,"GoogleAuthProvider",lo,[]),Ct(r,"TwitterAuthProvider",hs,[]),Ct(r,"OAuthProvider",$n,[he("providerId")]),Ct(r,"SAMLAuthProvider",kw,[he("providerId")]),Ct(r,"PhoneAuthProvider",Yr,[tO()]),Ct(r,"RecaptchaVerifier",vg,[Nt(he(),eO(),"recaptchaContainer"),Ot("recaptchaParameters",!0),nO()]),Ct(r,"ActionCodeURL",Pd,[]),Ct(r,"PhoneMultiFactorGenerator",cg,[]),Se.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new mr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),Se.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:U(s.getUid,s),getToken:U(s.nc,s),addAuthTokenListener:U(s.cc,s),removeAuthTokenListener:U(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Se.registerVersion("@firebase/auth","0.16.8"),Se.INTERNAL.extendNamespace({User:Hn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fv=function(e,t){return fv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},fv(e,t)};function DL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");fv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function TT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var LL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,Am=Am||{},De=LL||self;function pf(){}function hv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function uc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function ML(e){return Object.prototype.hasOwnProperty.call(e,xg)&&e[xg]||(e[xg]=++FL)}var xg="closure_uid_"+(1e9*Math.random()>>>0),FL=0;function jL(e,t,n){return e.call.apply(e.bind,arguments)}function UL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function en(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?en=jL:en=UL,en.apply(null,arguments)}function Ml(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function nn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function zi(){this.s=this.s,this.o=this.o}var VL=0;zi.prototype.s=!1;zi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),VL!=0)&&ML(this)};zi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ST=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},AT=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in o&&t.call(n,o[u],u,e)};function BL(e){e:{for(var t=O2,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function a1(e){return Array.prototype.concat.apply([],arguments)}function km(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function gf(e){return/^[\s\xa0]*$/.test(e)}var c1=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function _n(e,t){return e.indexOf(t)!=-1}function Ng(e,t){return e<t?-1:e>t?1:0}var En;e:{var l1=De.navigator;if(l1){var f1=l1.userAgent;if(f1){En=f1;break e}}En=""}function xm(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function kT(e){var t={};for(var n in e)t[n]=e[n];return t}var h1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xT(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var u=0;u<h1.length;u++)n=h1[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Nm(e){return Nm[" "](e),e}Nm[" "]=pf;function qL(e){var t=KL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var $L=_n(En,"Opera"),Gs=_n(En,"Trident")||_n(En,"MSIE"),NT=_n(En,"Edge"),dv=NT||Gs,CT=_n(En,"Gecko")&&!(_n(En.toLowerCase(),"webkit")&&!_n(En,"Edge"))&&!(_n(En,"Trident")||_n(En,"MSIE"))&&!_n(En,"Edge"),HL=_n(En.toLowerCase(),"webkit")&&!_n(En,"Edge");function RT(){var e=De.document;return e?e.documentMode:void 0}var vf;e:{var Cg="",Rg=function(){var e=En;if(CT)return/rv:([^\);]+)(\)|;)/.exec(e);if(NT)return/Edge\/([\d\.]+)/.exec(e);if(Gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(HL)return/WebKit\/(\S+)/.exec(e);if($L)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Rg&&(Cg=Rg?Rg[1]:""),Gs){var Og=RT();if(Og!=null&&Og>parseFloat(Cg)){vf=String(Og);break e}}vf=Cg}var KL={};function zL(){return qL(function(){for(var e=0,t=c1(String(vf)).split("."),n=c1("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var u=t[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;e=Ng(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Ng(u[2].length==0,a[2].length==0)||Ng(u[2],a[2]),u=u[3],a=a[3]}while(e==0)}return 0<=e})}var pv;if(De.document&&Gs){var d1=RT();pv=d1||parseInt(vf,10)||void 0}else pv=void 0;var GL=pv,WL=function(){if(!De.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{De.addEventListener("test",pf,t),De.removeEventListener("test",pf,t)}catch{}return e}();function fn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};function Ba(e,t){if(fn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(CT){e:{try{Nm(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:XL[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ba.Z.h.call(this)}}nn(Ba,fn);var XL={2:"touch",3:"pen",4:"mouse"};Ba.prototype.h=function(){Ba.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ac="closure_listenable_"+(1e6*Math.random()|0),YL=0;function QL(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++YL,this.ca=this.fa=!1}function ah(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ch(e){this.src=e,this.g={},this.h=0}ch.prototype.add=function(e,t,n,i,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var a=vv(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new QL(t,this.src,u,!!i,o),t.fa=n,e.push(t)),t};function gv(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=ST(i,t),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(ah(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function vv(e,t,n,i){for(var o=0;o<e.length;++o){var u=e[o];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==i)return o}return-1}var Cm="closure_lm_"+(1e6*Math.random()|0),Pg={};function OT(e,t,n,i,o){if(i&&i.once)return DT(e,t,n,i,o);if(Array.isArray(t)){for(var u=0;u<t.length;u++)OT(e,t[u],n,i,o);return null}return n=Pm(n),e&&e[ac]?e.N(t,n,uc(i)?!!i.capture:!!i,o):PT(e,t,n,!1,i,o)}function PT(e,t,n,i,o,u){if(!t)throw Error("Invalid event type");var a=uc(o)?!!o.capture:!!o,l=Om(e);if(l||(e[Cm]=l=new ch(e)),n=l.add(t,n,i,a,u),n.proxy)return n;if(i=JL(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)WL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(MT(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JL(){function e(n){return t.call(e.src,e.listener,n)}var t=ZL;return e}function DT(e,t,n,i,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)DT(e,t[u],n,i,o);return null}return n=Pm(n),e&&e[ac]?e.O(t,n,uc(i)?!!i.capture:!!i,o):PT(e,t,n,!0,i,o)}function LT(e,t,n,i,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)LT(e,t[u],n,i,o);else i=uc(i)?!!i.capture:!!i,n=Pm(n),e&&e[ac]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=vv(u,n,i,o),-1<n&&(ah(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=Om(e))&&(t=e.g[t.toString()],e=-1,t&&(e=vv(t,n,i,o)),(n=-1<e?t[e]:null)&&Rm(n))}function Rm(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[ac])gv(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(MT(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Om(t))?(gv(n,e),n.h==0&&(n.src=null,t[Cm]=null)):ah(e)}}}function MT(e){return e in Pg?Pg[e]:Pg[e]="on"+e}function ZL(e,t){if(e.ca)e=!0;else{t=new Ba(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Rm(e),e=n.call(i,t)}return e}function Om(e){return e=e[Cm],e instanceof ch?e:null}var Dg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pm(e){return typeof e=="function"?e:(e[Dg]||(e[Dg]=function(t){return e.handleEvent(t)}),e[Dg])}function Wt(){zi.call(this),this.i=new ch(this),this.P=this,this.I=null}nn(Wt,zi);Wt.prototype[ac]=!0;Wt.prototype.removeEventListener=function(e,t,n,i){LT(this,e,t,n,i)};function tn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new fn(t,e);else if(t instanceof fn)t.target=t.target||e;else{var o=t;t=new fn(i,e),xT(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];o=Fl(a,i,!0,t)&&o}if(a=t.g=e,o=Fl(a,i,!0,t)&&o,o=Fl(a,i,!1,t)&&o,n)for(u=0;u<n.length;u++)a=t.g=n[u],o=Fl(a,i,!1,t)&&o}Wt.prototype.M=function(){if(Wt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)ah(n[i]);delete e.g[t],e.h--}}this.I=null};Wt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Wt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Fl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&gv(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Dm=De.JSON.stringify;function e2(){var e=jT,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var t2=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=FT.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),FT=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new n2},function(e){return e.reset()}),n2=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function r2(e){De.setTimeout(function(){throw e},0)}function Lm(e,t){mv||i2(),yv||(mv(),yv=!0),jT.add(e,t)}var mv;function i2(){var e=De.Promise.resolve(void 0);mv=function(){e.then(o2)}}var yv=!1,jT=new t2;function o2(){for(var e;e=e2();){try{e.h.call(e.g)}catch(n){r2(n)}var t=FT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}yv=!1}function lh(e,t){Wt.call(this),this.h=e||1,this.g=t||De,this.j=en(this.kb,this),this.l=Date.now()}nn(lh,Wt);le=lh.prototype;le.da=!1;le.S=null;le.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),tn(this,"tick"),this.da&&(Mm(this),this.start()))}};le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Mm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}le.M=function(){lh.Z.M.call(this),Mm(this),delete this.g};function Fm(e,t,n){if(typeof e=="function")n&&(e=en(e,n));else if(e&&typeof e.handleEvent=="function")e=en(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:De.setTimeout(e,t||0)}function UT(e){e.g=Fm(function(){e.g=null,e.i&&(e.i=!1,UT(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var s2=function(e){DL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:UT(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(De.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(zi);function qa(e){zi.call(this),this.h=e,this.g={}}nn(qa,zi);var p1=[];function VT(e,t,n,i){Array.isArray(n)||(n&&(p1[0]=n.toString()),n=p1);for(var o=0;o<n.length;o++){var u=OT(t,n[o],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function BT(e){xm(e.g,function(t,n){this.g.hasOwnProperty(n)&&Rm(t)},e),e.g={}}qa.prototype.M=function(){qa.Z.M.call(this),BT(this)};qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function fh(){this.g=!0}fh.prototype.Aa=function(){this.g=!1};function u2(e,t,n,i,o,u){e.info(function(){if(e.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var v=p.split("_");a=2<=v.length&&v[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function a2(e,t,n,i,o,u,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+a})}function Ps(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+l2(e,n)+(i?" "+i:"")})}function c2(e,t){e.info(function(){return"TIMEOUT: "+t})}fh.prototype.info=function(){};function l2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Dm(n)}catch{return t}}var zo={},g1=null;function hh(){return g1=g1||new Wt}zo.Ma="serverreachability";function qT(e){fn.call(this,zo.Ma,e)}nn(qT,fn);function $a(e){var t=hh();tn(t,new qT(t))}zo.STAT_EVENT="statevent";function $T(e,t){fn.call(this,zo.STAT_EVENT,e),this.stat=t}nn($T,fn);function In(e){var t=hh();tn(t,new $T(t,e))}zo.Na="timingevent";function HT(e,t){fn.call(this,zo.Na,e),this.size=t}nn(HT,fn);function cc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return De.setTimeout(function(){e()},t)}var dh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},KT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jm(){}jm.prototype.h=null;function v1(e){return e.h||(e.h=e.i())}function zT(){}var lc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Um(){fn.call(this,"d")}nn(Um,fn);function Vm(){fn.call(this,"c")}nn(Vm,fn);var wv;function ph(){}nn(ph,jm);ph.prototype.g=function(){return new XMLHttpRequest};ph.prototype.i=function(){return{}};wv=new ph;function fc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new qa(this),this.P=f2,e=dv?125:void 0,this.W=new lh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new GT}function GT(){this.i=null,this.g="",this.h=!1}var f2=45e3,bv={},mf={};le=fc.prototype;le.setTimeout=function(e){this.P=e};function _v(e,t,n){e.K=1,e.v=vh(ci(t)),e.s=n,e.U=!0,WT(e,null)}function WT(e,t){e.F=Date.now(),hc(e),e.A=ci(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),tS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new GT,e.g=_S(e.l,n?t:null,!e.s),0<e.O&&(e.L=new s2(en(e.Ia,e,e.g),e.O)),VT(e.V,e.g,"readystatechange",e.gb),t=e.H?kT(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),$a(),u2(e.j,e.u,e.A,e.m,e.X,e.s)}le.gb=function(e){e=e.target;var t=this.L;t&&ti(e)==3?t.l():this.Ia(e)};le.Ia=function(e){try{if(e==this.g)e:{var t=ti(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||dv||this.g&&(this.h.h||this.g.ga()||b1(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?$a(3):$a(2)),gh(this);var o=this.g.ba();this.N=o;t:if(XT(this)){var u=b1(this.g);e="";var a=u.length,l=ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ko(this),Ea(this);var f="";break t}this.h.i=new De.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,a2(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gf(d)){var v=d;break t}}v=null}if(o=v)Ps(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ev(this,o);else{this.i=!1,this.o=3,In(12),ko(this),Ea(this);break e}}this.U?(YT(this,t,f),dv&&this.i&&t==3&&(VT(this.V,this.W,"tick",this.fb),this.W.start())):(Ps(this.j,this.m,f,null),Ev(this,f)),t==4&&ko(this),this.i&&!this.I&&(t==4?mS(this.l,this):(this.i=!1,hc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,In(12)):(this.o=0,In(13)),ko(this),Ea(this)}}}catch{}finally{}};function XT(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function YT(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=h2(e,n),o==mf){t==4&&(e.o=4,In(14),i=!1),Ps(e.j,e.m,null,"[Incomplete Response]");break}else if(o==bv){e.o=4,In(15),Ps(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ps(e.j,e.m,o,null),Ev(e,o);XT(e)&&o!=mf&&o!=bv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,In(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xm(t),t.L=!0,In(11))):(Ps(e.j,e.m,n,"[Invalid Chunked Response]"),ko(e),Ea(e))}le.fb=function(){if(this.g){var e=ti(this.g),t=this.g.ga();this.C<t.length&&(gh(this),YT(this,e,t),this.i&&e!=4&&hc(this))}};function h2(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?mf:(n=Number(t.substring(n,i)),isNaN(n)?bv:(i+=1,i+n>t.length?mf:(t=t.substr(i,n),e.C=i+n,t)))}le.cancel=function(){this.I=!0,ko(this)};function hc(e){e.Y=Date.now()+e.P,QT(e,e.P)}function QT(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=cc(en(e.eb,e),t)}function gh(e){e.B&&(De.clearTimeout(e.B),e.B=null)}le.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(c2(this.j,this.A),this.K!=2&&($a(),In(17)),ko(this),this.o=2,Ea(this)):QT(this,this.Y-e)};function Ea(e){e.l.G==0||e.I||mS(e.l,e)}function ko(e){gh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Mm(e.W),BT(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ev(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Iv(n.i,e))){if(n.I=e.N,!e.J&&Iv(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)_f(n),wh(n);else break e;Wm(n),In(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=cc(en(n.ab,n),6e3));if(1>=iS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else xo(n,11)}else if((e.J||n.g==e)&&_f(n),!gf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var u=o[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var v=i.i;!v.g&&(_n(p,"spdy")||_n(p,"quic")||_n(p,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&($m(v,v.h),v.h=null))}if(i.D){var m=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.sa=m,_t(i.F,i.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=bS(i,i.H?i.la:null,i.W),b.J){oS(i.i,b);var _=b,T=i.K;T&&_.setTimeout(T),_.B&&(gh(_),hc(_)),i.g=b}else gS(i);0<n.l.length&&bh(n)}else u[0]!="stop"&&u[0]!="close"||xo(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?xo(n,7):Gm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}$a(4)}catch{}}function d2(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(hv(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Bm(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(hv(e)||typeof e=="string")AT(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(hv(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=d2(e),o=i.length;for(var u=0;u<o;u++)t.call(void 0,i[u],n&&n[u],e)}}function gu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof gu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}le=gu.prototype;le.R=function(){qm(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};le.T=function(){return qm(this),this.g.concat()};function qm(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Uo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Uo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}le.get=function(e,t){return Uo(this.h,e)?this.h[e]:t};le.set=function(e,t){Uo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};le.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);e.call(t,u,o,this)}};function Uo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var JT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function p2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var u=e[n].substring(0,i);o=e[n].substring(i+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Vo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Vo){this.g=t!==void 0?t:e.g,yf(this,e.j),this.s=e.s,wf(this,e.i),bf(this,e.m),this.l=e.l,t=e.h;var n=new Ha;n.i=t.i,t.g&&(n.g=new gu(t.g),n.h=t.h),m1(this,n),this.o=e.o}else e&&(n=String(e).match(JT))?(this.g=!!t,yf(this,n[1]||"",!0),this.s=Ia(n[2]||""),wf(this,n[3]||"",!0),bf(this,n[4]),this.l=Ia(n[5]||"",!0),m1(this,n[6]||"",!0),this.o=Ia(n[7]||"")):(this.g=!!t,this.h=new Ha(null,this.g))}Vo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(va(t,y1,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(va(t,y1,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(va(n,n.charAt(0)=="/"?w2:y2,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",va(n,_2)),e.join("")};function ci(e){return new Vo(e)}function yf(e,t,n){e.j=n?Ia(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wf(e,t,n){e.i=n?Ia(t,!0):t}function bf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function m1(e,t,n){t instanceof Ha?(e.h=t,E2(e.h,e.g)):(n||(t=va(t,b2)),e.h=new Ha(t,e.g))}function _t(e,t,n){e.h.set(t,n)}function vh(e){return _t(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function g2(e){return e instanceof Vo?ci(e):new Vo(e,void 0)}function v2(e,t,n,i){var o=new Vo(null,void 0);return e&&yf(o,e),t&&wf(o,t),n&&bf(o,n),i&&(o.l=i),o}function Ia(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function va(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,m2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function m2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var y1=/[#\/\?@]/g,y2=/[#\?:]/g,w2=/[#\?]/g,b2=/[#\?@]/g,_2=/#/g;function Ha(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gi(e){e.g||(e.g=new gu,e.h=0,e.i&&p2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}le=Ha.prototype;le.add=function(e,t){Gi(this),this.i=null,e=vu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function ZT(e,t){Gi(e),t=vu(e,t),Uo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Uo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&qm(e)))}function eS(e,t){return Gi(e),t=vu(e,t),Uo(e.g.h,t)}le.forEach=function(e,t){Gi(this),this.g.forEach(function(n,i){AT(n,function(o){e.call(t,o,i,this)},this)},this)};le.T=function(){Gi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],u=0;u<o.length;u++)n.push(t[i]);return n};le.R=function(e){Gi(this);var t=[];if(typeof e=="string")eS(this,e)&&(t=a1(t,this.g.get(vu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=a1(t,e[n])}return t};le.set=function(e,t){return Gi(this),this.i=null,e=vu(this,e),eS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};le.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function tS(e,t,n){ZT(e,t),0<n.length&&(e.i=null,e.g.set(vu(e,t),km(n)),e.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),e.push(a)}}return this.i=e.join("&")};function vu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function E2(e,t){t&&!e.j&&(Gi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(ZT(this,i),tS(this,o,n))},e)),e.j=t}var I2=function(){function e(t,n){this.h=t,this.g=n}return e}();function nS(e){this.l=e||T2,De.PerformanceNavigationTiming?(e=De.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(De.g&&De.g.Ea&&De.g.Ea()&&De.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var T2=10;function rS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function iS(e){return e.h?1:e.g?e.g.size:0}function Iv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function $m(e,t){e.g?e.g.add(t):e.h=t}function oS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}nS.prototype.cancel=function(){var e,t;if(this.i=sS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=TT(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function sS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=TT(e.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return km(e.i)}function Hm(){}Hm.prototype.stringify=function(e){return De.JSON.stringify(e,void 0)};Hm.prototype.parse=function(e){return De.JSON.parse(e,void 0)};function S2(){this.g=new Hm}function A2(e,t,n){var i=n||"";try{Bm(e,function(o,u){var a=o;uc(o)&&(a=Dm(o)),t.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function k2(e,t){var n=new fh;if(De.Image){var i=new Image;i.onload=Ml(jl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Ml(jl,n,i,"TestLoadImage: error",!1,t),i.onabort=Ml(jl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ml(jl,n,i,"TestLoadImage: timeout",!1,t),De.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function jl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function dc(e){this.l=e.$b||null,this.j=e.ib||!1}nn(dc,jm);dc.prototype.g=function(){return new mh(this.l,this.j)};dc.prototype.i=function(e){return function(){return e}}({});function mh(e,t){Wt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Km,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nn(mh,Wt);var Km=0;le=mh.prototype;le.open=function(e,t){if(this.readyState!=Km)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ka(this)};le.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||De).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pc(this)),this.readyState=Km};le.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof De.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function uS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}le.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pc(this):Ka(this),this.readyState==3&&uS(this)}};le.Ua=function(e){this.g&&(this.response=this.responseText=e,pc(this))};le.Ta=function(e){this.g&&(this.response=e,pc(this))};le.ha=function(){this.g&&pc(this)};function pc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ka(e)}le.setRequestHeader=function(e,t){this.v.append(e,t)};le.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(mh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var x2=De.JSON.parse;function jt(e){Wt.call(this),this.headers=new gu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aS,this.K=this.L=!1}nn(jt,Wt);var aS="",N2=/^https?$/i,C2=["POST","PUT"];le=jt.prototype;le.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wv.g(),this.C=this.u?v1(this.u):v1(wv),this.g.onreadystatechange=en(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){w1(this,u);return}e=n||"";var o=new gu(this.headers);i&&Bm(i,function(u,a){o.set(a,u)}),i=BL(o.T()),n=De.FormData&&e instanceof De.FormData,!(0<=ST(C2,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fS(this),0<this.B&&((this.K=R2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=en(this.pa,this)):this.A=Fm(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){w1(this,u)}};function R2(e){return Gs&&zL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function O2(e){return e.toLowerCase()=="content-type"}le.pa=function(){typeof Am<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tn(this,"timeout"),this.abort(8))};function w1(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cS(e),yh(e)}function cS(e){e.D||(e.D=!0,tn(e,"complete"),tn(e,"error"))}le.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,tn(this,"complete"),tn(this,"abort"),yh(this))};le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),yh(this,!0)),jt.Z.M.call(this)};le.Fa=function(){this.s||(this.F||this.v||this.l?lS(this):this.cb())};le.cb=function(){lS(this)};function lS(e){if(e.h&&typeof Am<"u"&&(!e.C[1]||ti(e)!=4||e.ba()!=2)){if(e.v&&ti(e)==4)Fm(e.Fa,0,e);else if(tn(e,"readystatechange"),ti(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var u=String(e.H).match(JT)[1]||null;if(!u&&De.self&&De.self.location){var a=De.self.location.protocol;u=a.substr(0,a.length-1)}o=!N2.test(u?u.toLowerCase():"")}i=o}if(i)tn(e,"complete"),tn(e,"success");else{e.m=6;try{var l=2<ti(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",cS(e)}}finally{yh(e)}}}}function yh(e,t){if(e.g){fS(e);var n=e.g,i=e.C[0]?pf:null;e.g=null,e.C=null,t||tn(e,"ready");try{n.onreadystatechange=i}catch{}}}function fS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(De.clearTimeout(e.A),e.A=null)}function ti(e){return e.g?e.g.readyState:0}le.ba=function(){try{return 2<ti(this)?this.g.status:-1}catch{return-1}};le.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),x2(t)}};function b1(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case aS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}le.Da=function(){return this.m};le.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function P2(e){var t="";return xm(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function zm(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=P2(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):_t(e,t,n))}function ca(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function hS(e){this.za=0,this.l=[],this.h=new fh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ca("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ca("baseRetryDelayMs",5e3,e),this.$a=ca("retryDelaySeedMs",1e4,e),this.Ya=ca("forwardChannelMaxRetries",2,e),this.ra=ca("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nS(e&&e.concurrentRequestLimit),this.Ca=new S2,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}le=hS.prototype;le.ma=8;le.G=1;function Gm(e){if(dS(e),e.G==3){var t=e.V++,n=ci(e.F);_t(n,"SID",e.J),_t(n,"RID",t),_t(n,"TYPE","terminate"),gc(e,n),t=new fc(e,e.h,t,void 0),t.K=2,t.v=vh(ci(n)),n=!1,De.navigator&&De.navigator.sendBeacon&&(n=De.navigator.sendBeacon(t.v.toString(),"")),!n&&De.Image&&(new Image().src=t.v,n=!0),n||(t.g=_S(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hc(t)}wS(e)}le.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function wh(e){e.g&&(Xm(e),e.g.cancel(),e.g=null)}function dS(e){wh(e),e.u&&(De.clearTimeout(e.u),e.u=null),_f(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&De.clearTimeout(e.m),e.m=null)}function Lg(e,t){e.l.push(new I2(e.Za++,t)),e.G==3&&bh(e)}function bh(e){rS(e.i)||e.m||(e.m=!0,Lm(e.Ha,e),e.C=0)}function D2(e,t){return iS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=cc(en(e.Ha,e,t),yS(e,e.C)),e.C++,!0)}le.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new fc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=kT(n),xT(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=pS(this,t,i),o=ci(this.F),_t(o,"RID",e),_t(o,"CVER",22),this.D&&_t(o,"X-HTTP-Session-Id",this.D),gc(this,o),this.o&&n&&zm(o,this.o,n),$m(this.i,t),this.Ra&&_t(o,"TYPE","init"),this.ja?(_t(o,"$req",i),_t(o,"SID","null"),t.$=!0,_v(t,o,null)):_v(t,o,i),this.G=2}}else this.G==3&&(e?_1(this,e):this.l.length==0||rS(this.i)||_1(this))};function _1(e,t){var n;t?n=t.m:n=e.V++;var i=ci(e.F);_t(i,"SID",e.J),_t(i,"RID",n),_t(i,"AID",e.U),gc(e,i),e.o&&e.s&&zm(i,e.o,e.s),n=new fc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=pS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),$m(e.i,n),_v(n,i,t)}function gc(e,t){e.j&&Bm({},function(n,i){_t(t,i,n)})}function pS(e,t,n){n=Math.min(e.l.length,n);var i=e.j?en(e.j.Oa,e.j,e):null;e:for(var o=e.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{A2(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function gS(e){e.g||e.u||(e.Y=1,Lm(e.Ga,e),e.A=0)}function Wm(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=cc(en(e.Ga,e),yS(e,e.A)),e.A++,!0)}le.Ga=function(){if(this.u=null,vS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=cc(en(this.bb,this),e)}};le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,In(10),wh(this),vS(this))};function Xm(e){e.B!=null&&(De.clearTimeout(e.B),e.B=null)}function vS(e){e.g=new fc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=ci(e.oa);_t(t,"RID","rpc"),_t(t,"SID",e.J),_t(t,"CI",e.N?"0":"1"),_t(t,"AID",e.U),gc(e,t),_t(t,"TYPE","xmlhttp"),e.o&&e.s&&zm(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=vh(ci(t)),n.s=null,n.U=!0,WT(n,e)}le.ab=function(){this.v!=null&&(this.v=null,wh(this),Wm(this),In(19))};function _f(e){e.v!=null&&(De.clearTimeout(e.v),e.v=null)}function mS(e,t){var n=null;if(e.g==t){_f(e),Xm(e),e.g=null;var i=2}else if(Iv(e.i,t))n=t.D,oS(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=hh(),tn(i,new HT(i,n)),bh(e)}else gS(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&D2(e,t)||i==2&&Wm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:xo(e,5);break;case 4:xo(e,10);break;case 3:xo(e,6);break;default:xo(e,2)}}}function yS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function xo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=en(e.jb,e);n||(n=new Vo("//www.google.com/images/cleardot.gif"),De.location&&De.location.protocol=="http"||yf(n,"https"),vh(n)),k2(n.toString(),i)}else In(2);e.G=0,e.j&&e.j.va(t),wS(e),dS(e)}le.jb=function(e){e?(this.h.info("Successfully pinged google.com"),In(2)):(this.h.info("Failed to ping google.com"),In(1))};function wS(e){e.G=0,e.I=-1,e.j&&((sS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,km(e.l),e.l.length=0),e.j.ua())}function bS(e,t,n){var i=g2(n);if(i.i!="")t&&wf(i,t+"."+i.i),bf(i,i.m);else{var o=De.location;i=v2(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&xm(e.aa,function(u,a){_t(i,a,u)}),t=e.D,n=e.sa,t&&n&&_t(i,t,n),_t(i,"VER",e.ma),gc(e,i),i}function _S(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new jt(new dc({ib:!0})):new jt(e.qa),t.L=e.H,t}function ES(){}le=ES.prototype;le.xa=function(){};le.wa=function(){};le.va=function(){};le.ua=function(){};le.Oa=function(){};function Ef(){if(Gs&&!(10<=Number(GL)))throw Error("Environmental error: no available transport.")}Ef.prototype.g=function(e,t){return new rr(e,t)};function rr(e,t){Wt.call(this),this.g=new hS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!gf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new mu(this)}nn(rr,Wt);rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Lm(en(e.hb,e,t))),In(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=bS(e,null,e.W),bh(e)};rr.prototype.close=function(){Gm(this.g)};rr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Lg(this.g,t)}else this.v?(t={},t.__data__=Dm(e),Lg(this.g,t)):Lg(this.g,e)};rr.prototype.M=function(){this.g.j=null,delete this.j,Gm(this.g),delete this.g,rr.Z.M.call(this)};function IS(e){Um.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}nn(IS,Um);function TS(){Vm.call(this),this.status=1}nn(TS,Vm);function mu(e){this.g=e}nn(mu,ES);mu.prototype.xa=function(){tn(this.g,"a")};mu.prototype.wa=function(e){tn(this.g,new IS(e))};mu.prototype.va=function(e){tn(this.g,new TS)};mu.prototype.ua=function(){tn(this.g,"b")};Ef.prototype.createWebChannel=Ef.prototype.g;rr.prototype.send=rr.prototype.u;rr.prototype.open=rr.prototype.m;rr.prototype.close=rr.prototype.close;dh.NO_ERROR=0;dh.TIMEOUT=8;dh.HTTP_ERROR=6;KT.COMPLETE="complete";zT.EventType=lc;lc.OPEN="a";lc.CLOSE="b";lc.ERROR="c";lc.MESSAGE="d";Wt.prototype.listen=Wt.prototype.N;jt.prototype.listenOnce=jt.prototype.O;jt.prototype.getLastError=jt.prototype.La;jt.prototype.getLastErrorCode=jt.prototype.Da;jt.prototype.getStatus=jt.prototype.ba;jt.prototype.getResponseJson=jt.prototype.Qa;jt.prototype.getResponseText=jt.prototype.ga;jt.prototype.send=jt.prototype.ea;var L2=function(){return new Ef},M2=function(){return hh()},Mg=dh,F2=KT,j2=zo,E1={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},U2=dc,Ul=zT,V2=jt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jn=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();Jn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Te(t,e),t}(Error),Ir=new bT("@firebase/firestore");function Tv(){return Ir.logLevel}function ne(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ir.logLevel<=et.DEBUG){var i=t.map(Ym);Ir.debug.apply(Ir,bt(["Firestore (8.10.1): "+e],i))}}function Lt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ir.logLevel<=et.ERROR){var i=t.map(Ym);Ir.error.apply(Ir,bt(["Firestore (8.10.1): "+e],i))}}function If(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Ir.logLevel<=et.WARN){var i=t.map(Ym);Ir.warn.apply(Ir,bt(["Firestore (8.10.1): "+e],i))}}function Ym(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Lt(t),new Error(t)}function xe(e,t){e||ye()}function se(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=B2(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=t.charAt(o[u]%t.length));return i},e}();function ze(e,t){return e<t?-1:e>t?1:0}function Ws(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function AS(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?ze(this.nanoseconds,t.nanoseconds):ze(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),$e=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Mn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Go(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xS=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var u=t.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),tt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new X(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(xS),q2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ar=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return q2.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new X(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new X(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new X(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new X(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(xS),Xs=function(){function e(t){this.fields=t,t.sort(Ar.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Ws(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),jn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return ze(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();jn.EMPTY_BYTE_STRING=new jn("");var $2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $i(e){if(xe(!!e),typeof e=="string"){var t=0,n=$2.exec(e);if(xe(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Dt(e.seconds),nanos:Dt(e.nanos)}}function Dt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ys(e){return typeof e=="string"?jn.fromBase64String(e):jn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function NS(e){var t=e.mapValue.fields.__previous_value__;return Qm(t)?NS(t):t}function za(e){var t=$i(e.mapValue.fields.__local_write_time__.timestampValue);return new Mn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(e){return e==null}function Tf(e){return e===0&&1/e==-1/0}function CS(e){return typeof e=="number"&&Number.isInteger(e)&&!Tf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(tt.fromString(t))},e.fromName=function(t){return new e(tt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&tt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return tt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new tt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Qm(e)?4:10:ye()}function zr(e,t){var n=Bo(e);if(n!==Bo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return za(e).isEqual(za(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=$i(i.timestampValue),a=$i(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return Ys(i.bytesValue).isEqual(Ys(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Dt(i.geoPointValue.latitude)===Dt(o.geoPointValue.latitude)&&Dt(i.geoPointValue.longitude)===Dt(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Dt(i.integerValue)===Dt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Dt(i.doubleValue),a=Dt(o.doubleValue);return u===a?Tf(u)===Tf(a):isNaN(u)&&isNaN(a)}return!1}(e,t);case 9:return Ws(e.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(I1(u)!==I1(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!zr(u[l],a[l])))return!1;return!0}(e,t);default:return ye()}}function Ga(e,t){return(e.values||[]).find(function(n){return zr(n,t)})!==void 0}function Qs(e,t){var n=Bo(e),i=Bo(t);if(n!==i)return ze(n,i);switch(n){case 0:return 0;case 1:return ze(e.booleanValue,t.booleanValue);case 2:return function(o,u){var a=Dt(o.integerValue||o.doubleValue),l=Dt(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return T1(e.timestampValue,t.timestampValue);case 4:return T1(za(e),za(t));case 5:return ze(e.stringValue,t.stringValue);case 6:return function(o,u){var a=Ys(o),l=Ys(u);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=ze(a[f],l[f]);if(d!==0)return d}return ze(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){var a=ze(Dt(o.latitude),Dt(u.latitude));return a!==0?a:ze(Dt(o.longitude),Dt(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Qs(a[f],l[f]);if(d)return d}return ze(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var v=ze(l[p],d[p]);if(v!==0)return v;var m=Qs(a[l[p]],f[d[p]]);if(m!==0)return m}return ze(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ye()}}function T1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ze(e,t);var n=$i(e),i=$i(t),o=ze(n.seconds,i.seconds);return o!==0?o:ze(n.nanos,i.nanos)}function Jm(e){return Sv(e)}function Sv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=$i(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ys(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_e.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Sv(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Sv(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function Sf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Av(e){return!!e&&"integerValue"in e}function Zm(e){return!!e&&"arrayValue"in e}function S1(e){return!!e&&"nullValue"in e}function A1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ef(e){return!!e&&"mapValue"in e}function Ta(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Go(e.mapValue.fields,function(o,u){return t.mapValue.fields[o]=Ta(u)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Ta(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!ef(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ta(n)},e.prototype.setAll=function(t){var n=this,i=Ar.emptyPath(),o={},u=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=Ta(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},e.prototype.delete=function(t){var n=this.field(t.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return zr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];ef(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Go(n,function(l,f){return t[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete t[a]}},e.prototype.clone=function(){return new e(Ta(this.value))},e}();function RS(e){var t=[];return Go(e.fields,function(n,i){var o=new Ar([n]);if(ef(i)){var u=RS(i.mapValue).fields;if(u.length===0)t.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new Xs(t)}var hn=function(){function e(t,n,i,o,u){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,$e.min(),Qn.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,Qn.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,Qn.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),H2=function(e,t,n,i,o,u,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(e,t,n,i,o,u,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new H2(e,t,n,i,o,u,a)}function vc(e){var t=se(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+Jm(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Wo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=kf(t.startAt)),t.endAt&&(n+="|ub:",n+=kf(t.endAt)),t.h=n}return t.h}function _h(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!J2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],u=t.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!zr(o.value,u.value))return!1;var o,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!N1(e.startAt,t.startAt)&&N1(e.endAt,t.endAt)}function Af(e){return _e.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Zn=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).field=n,u.op=i,u.value=o,u}return Te(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new K2(n,i,o):i==="array-contains"?new W2(n,o):i==="in"?new X2(n,o):i==="not-in"?new Y2(n,o):i==="array-contains-any"?new Q2(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new z2(n,o):new G2(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Qs(i,this.value)):i!==null&&Bo(this.value)===Bo(i)&&this.m(Qs(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),K2=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,o)||this).key=_e.fromName(o.referenceValue),u}return Te(t,e),t.prototype.matches=function(n){var i=_e.comparator(n.key,this.key);return this.m(i)},t}(Zn),z2=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=OS("in",i),o}return Te(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(Zn),G2=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=OS("not-in",i),o}return Te(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(Zn);function OS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return _e.fromName(i.referenceValue)})}var W2=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return Zm(i)&&Ga(i.arrayValue,this.value)},t}(Zn),X2=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Ga(this.value.arrayValue,i)},t}(Zn),Y2=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Te(t,e),t.prototype.matches=function(n){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Ga(this.value.arrayValue,i)},t}(Zn),Q2=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Te(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!Zm(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Ga(i.value.arrayValue,u)})},t}(Zn),Wa=function(e,t){this.position=e,this.before=t};function kf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Jm(t)}).join(",")}var Us=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function J2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function x1(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var u=t[o],a=e.position[o];if(i=u.field.isKeyField()?_e.comparator(_e.fromName(a.referenceValue),n.key):Qs(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function N1(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!zr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi=function(e,t,n,i,o,u,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function PS(e,t,n,i,o,u,a,l){return new fi(e,t,n,i,o,u,a,l)}function mc(e){return new fi(e)}function tf(e){return!Wo(e.limit)&&e.limitType==="F"}function xf(e){return!Wo(e.limit)&&e.limitType==="L"}function ey(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ty(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function ny(e){return e.collectionGroup!==null}function Js(e){var t=se(e);if(t.p===null){t.p=[];var n=ty(t),i=ey(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Us(n)),t.p.push(new Us(Ar.keyField(),"asc"));else{for(var o=!1,u=0,a=t.explicitOrderBy;u<a.length;u++){var l=a[u];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Us(Ar.keyField(),f))}}}return t.p}function Gr(e){var t=se(e);if(!t.T)if(t.limitType==="F")t.T=k1(t.path,t.collectionGroup,Js(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=Js(t);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Us(u.field,a))}var l=t.endAt?new Wa(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Wa(t.startAt.position,!t.startAt.before):null;t.T=k1(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function DS(e,t,n){return new fi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yc(e,t){return _h(Gr(e),Gr(t))&&e.limitType===t.limitType}function LS(e){return vc(Gr(e))+"|lt:"+e.limitType}function kv(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+Jm(o.value);var o}).join(", ")+"]"),Wo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+kf(t.startAt)),t.endAt&&(n+=", endAt: "+kf(t.endAt)),"Target("+n+")"}(Gr(e))+"; limitType="+e.limitType+")"}function wc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):_e.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!x1(n.startAt,Js(n),i))&&(!n.endAt||!x1(n.endAt,Js(n),i))}(e,t)}function MS(e){return function(t,n){for(var i=!1,o=0,u=Js(e);o<u.length;o++){var a=u[o],l=Z2(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function Z2(e,t,n){var i=e.field.isKeyField()?_e.comparator(t.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Qs(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(t)?"-0":t}}function jS(e){return{integerValue:""+e}}function US(e,t){return CS(t)?jS(t):FS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eh=function(){this._=void 0};function eM(e,t,n){return e instanceof Zs?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,t):e instanceof qo?BS(e,t):e instanceof $o?qS(e,t):function(i,o){var u=VS(i,o),a=C1(u)+C1(i.A);return Av(u)&&Av(i.A)?jS(a):FS(i.R,a)}(e,t)}function tM(e,t,n){return e instanceof qo?BS(e,t):e instanceof $o?qS(e,t):n}function VS(e,t){return e instanceof eu?Av(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var Zs=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t}(Eh),qo=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(Eh);function BS(e,t){for(var n=$S(t),i=function(a){n.some(function(l){return zr(l,a)})||n.push(a)},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var $o=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Te(t,e),t}(Eh);function qS(e,t){for(var n=$S(t),i=function(a){n=n.filter(function(l){return!zr(l,a)})},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var eu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Te(t,e),t}(Eh);function C1(e){return Dt(e.integerValue||e.doubleValue)}function $S(e){return Zm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bc=function(e,t){this.field=e,this.transform=t},nM=function(e,t){this.version=e,this.transformResults=t},ln=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function nf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Ih=function(){};function rM(e,t,n){e instanceof _c?function(i,o,u){var a=i.value.clone(),l=P1(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Wi?function(i,o,u){if(nf(i.precondition,o)){var a=P1(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(HS(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(e,t,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function xv(e,t,n){e instanceof _c?function(i,o,u){if(nf(i.precondition,o)){var a=i.value.clone(),l=D1(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(O1(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Wi?function(i,o,u){if(nf(i.precondition,o)){var a=D1(i.fieldTransforms,u,o),l=o.data;l.setAll(HS(i)),l.setAll(a),o.convertToFoundDocument(O1(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){nf(i.precondition,o)&&o.convertToNoDocument($e.min())}(e,t)}function iM(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var u=o[i],a=t.data.field(u.field),l=VS(u.transform,a||null);l!=null&&(n==null&&(n=Qn.empty()),n.set(u.field,l))}return n||null}function R1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ws(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof qo&&d instanceof qo||f instanceof $o&&d instanceof $o?Ws(f.elements,d.elements,zr):f instanceof eu&&d instanceof eu?zr(f.A,d.A):f instanceof Zs&&d instanceof Zs}(a.transform,l.transform)}(o,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function O1(e){return e.isFoundDocument()?e.version:$e.min()}var _c=function(e){function t(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Te(t,e),t}(Ih),Wi=function(e){function t(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Te(t,e),t}(Ih);function HS(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function P1(e,t,n){var i=new Map;xe(e.length===n.length);for(var o=0;o<n.length;o++){var u=e[o],a=u.transform,l=t.data.field(u.field);i.set(u.field,tM(a,l,n[o]))}return i}function D1(e,t,n){for(var i=new Map,o=0,u=e;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,eM(l,f,t))}return i}var Pt,Ye,Ec=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Te(t,e),t}(Ih),ry=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Te(t,e),t}(Ih),oM=function(e){this.count=e};function KS(e){switch(e){case D.OK:return ye();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return ye()}}function zS(e){if(e===void 0)return Lt("GRPC error has no .code"),D.UNKNOWN;switch(e){case Pt.OK:return D.OK;case Pt.CANCELLED:return D.CANCELLED;case Pt.UNKNOWN:return D.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return D.INTERNAL;case Pt.UNAVAILABLE:return D.UNAVAILABLE;case Pt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Pt.NOT_FOUND:return D.NOT_FOUND;case Pt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Pt.ABORTED:return D.ABORTED;case Pt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Pt.DATA_LOSS:return D.DATA_LOSS;default:return ye()}}(Ye=Pt||(Pt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn=function(){function e(t,n){this.comparator=t,this.root=n||Oi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Oi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Oi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Vl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Vl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Vl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Vl(this.root,t,this.comparator,!0)},e}(),Vl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?i(t.key,n):1,o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Oi=function(){function e(t,n,i,o,u){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=u??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,u){return new e(t??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,u=i(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,u){return this},e.prototype.insert=function(t,n,i){return new Oi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht=function(){function e(t){this.comparator=t,this.data=new dn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new L1(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new L1(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),L1=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),sM=new dn(_e.comparator);function Tr(){return sM}var uM=new dn(_e.comparator);function Nv(){return uM}var aM=new dn(_e.comparator);function cM(){return aM}var lM=new Ht(_e.comparator);function ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=lM,i=0,o=e;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var fM=new Ht(ze);function Th(){return fM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iy=function(){function e(t,n,i,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,oy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($e.min(),i,Th(),Tr(),ht())},e}(),oy=function(){function e(t,n,i,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(jn.EMPTY_BYTE_STRING,n,ht(),ht(),ht())},e}(),rf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},GS=function(e,t){this.targetId=e,this.V=t},WS=function(e,t,n,i){n===void 0&&(n=jn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},M1=function(){function e(){this.S=0,this.D=j1(),this.C=jn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=ht(),n=ht(),i=ht();return this.D.forEach(function(o,u){switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new oy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=j1()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),hM=function(){function e(t){this.W=t,this.G=new Map,this.H=Tr(),this.J=F1(),this.Y=new Ht(ze)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var u=0,a=t.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var u=o.target;if(Af(u))if(i===0){var a=new _e(u.path);this.tt(n,a,hn.newNoDocument(a,$e.min()))}else xe(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Af(f.target)){var d=new _e(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,hn.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=ht();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new iy(t,i,this.Y,this.H,o);return this.H=Tr(),this.J=F1(),this.Y=new Ht(ze),u},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new M1,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Ht(ze),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new M1),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function F1(){return new dn(_e.comparator)}function j1(){return new dn(_e.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dM={asc:"ASCENDING",desc:"DESCENDING"},pM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gM=function(e,t){this.databaseId=e,this.I=t};function Xa(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function XS(e,t){return e.I?t.toBase64():t.toUint8Array()}function vM(e,t){return Xa(e,t.toTimestamp())}function Tn(e){return xe(!!e),$e.fromTimestamp(function(t){var n=$i(t);return new Mn(n.seconds,n.nanos)}(e))}function sy(e,t){return function(n){return new tt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function YS(e){var t=tt.fromString(e);return xe(rA(t)),t}function Ya(e,t){return sy(e.databaseId,t.path)}function ii(e,t){var n=YS(t);if(n.get(1)!==e.databaseId.projectId)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _e(JS(n))}function Cv(e,t){return sy(e.databaseId,t)}function QS(e){var t=YS(e);return t.length===4?tt.emptyPath():JS(t)}function Qa(e){return new tt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function JS(e){return xe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function U1(e,t,n){return{name:Ya(e,t),fields:n.value.mapValue.fields}}function mM(e,t,n){var i=ii(e,t.name),o=Tn(t.updateTime),u=new Qn({mapValue:{fields:t.fields}}),a=hn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Nf(e,t){var n;if(t instanceof _c)n={update:U1(e,t.key,t.value)};else if(t instanceof Ec)n={delete:Ya(e,t.key)};else if(t instanceof Wi)n={update:U1(e,t.key,t.data),updateMask:EM(t.fieldMask)};else{if(!(t instanceof ry))return ye();n={verify:Ya(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof Zs)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $o)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof eu)return{fieldPath:u.field.canonicalString(),increment:a.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function V1(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?ln.updateTime(Tn(d.updateTime)):d.exists!==void 0?ln.exists(d.exists):ln.none()}(t.currentDocument):ln.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,v){var m=null;if("setToServerValue"in v)xe(v.setToServerValue==="REQUEST_TIME"),m=new Zs;else if("appendMissingElements"in v){var b=v.appendMissingElements.values||[];m=new qo(b)}else if("removeAllFromArray"in v){var _=v.removeAllFromArray.values||[];m=new $o(_)}else"increment"in v?m=new eu(p,v.increment):ye();var T=Ar.fromServerFormat(v.fieldPath);return new bc(T,m)}(e,d)}):[];if(t.update){t.update.name;var o=ii(e,t.update.name),u=new Qn({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Xs(p.map(function(v){return Ar.fromServerFormat(v)}))}(t.updateMask);return new Wi(o,u,a,n,i)}return new _c(o,u,n,i)}if(t.delete){var l=ii(e,t.delete);return new Ec(l,n)}if(t.verify){var f=ii(e,t.verify);return new ry(f,n)}return ye()}function ZS(e,t){return{documents:[Cv(e,t.path)]}}function eA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Cv(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Cv(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(A1(p.value))return{unaryFilter:{field:Ss(p.field),op:"IS_NAN"}};if(S1(p.value))return{unaryFilter:{field:Ss(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(A1(p.value))return{unaryFilter:{field:Ss(p.field),op:"IS_NOT_NAN"}};if(S1(p.value))return{unaryFilter:{field:Ss(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(p.field),op:wM(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Ss(d.field),direction:yM(d.dir)}}(f)})}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Wo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=B1(t.startAt)),t.endAt&&(n.structuredQuery.endAt=B1(t.endAt)),n}function tA(e){var t=QS(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){xe(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=nA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(m){return new Us(Ds(m.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(v)}));var f=null;n.limit&&(f=function(v){var m;return Wo(m=typeof v=="object"?v.value:v)?null:m}(n.limit));var d=null;n.startAt&&(d=q1(n.startAt));var p=null;return n.endAt&&(p=q1(n.endAt)),PS(t,o,l,a,f,"F",d,p)}function nA(e){return e?e.unaryFilter!==void 0?[_M(e)]:e.fieldFilter!==void 0?[bM(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return nA(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function B1(e){return{before:e.before,values:e.position}}function q1(e){var t=!!e.before,n=e.values||[];return new Wa(n,t)}function yM(e){return dM[e]}function wM(e){return pM[e]}function Ss(e){return{fieldPath:e.canonicalString()}}function Ds(e){return Ar.fromServerFormat(e.fieldPath)}function bM(e){return Zn.create(Ds(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function _M(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ds(e.unaryFilter.field);return Zn.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ds(e.unaryFilter.field);return Zn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Ds(e.unaryFilter.field);return Zn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ds(e.unaryFilter.field);return Zn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function EM(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function rA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=$1(t)),t=IM(e.get(n),t);return $1(t)}function IM(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var u=e.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function $1(e){return e+""}function ni(e){var t=e.length;if(xe(t>=2),t===2)return xe(e.charAt(0)===""&&e.charAt(1)===""),tt.emptyPath();for(var n=t-2,i=[],o="",u=0;u<t;){var a=e.indexOf("",u);switch((a<0||a>n)&&ye(),e.charAt(a+1)){case"":var l=e.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(u,a),o+="\0";break;case"":o+=e.substring(u,a+1);break;default:ye()}u=a+2}return new tt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TM=function(e,t){this.seconds=e,this.nanoseconds=t},Gn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Gn.store="owner",Gn.key="owner";var Vi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Vi.store="mutationQueues",Vi.keyPath="userId";var gt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};gt.store="mutations",gt.keyPath="batchId",gt.userMutationsIndex="userMutationsIndex",gt.userMutationsKeyPath=["userId","batchId"];var un=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Sr(n)]},e.key=function(t,n,i){return[t,Sr(n),i]},e}();un.store="documentMutations",un.PLACEHOLDER=new un;var SM=function(e,t){this.path=e,this.readTime=t},AM=function(e,t){this.path=e,this.version=t},kt=function(e,t,n,i,o,u){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};kt.store="remoteDocuments",kt.readTimeIndex="readTimeIndex",kt.readTimeIndexPath="readTime",kt.collectionReadTimeIndex="collectionReadTimeIndex",kt.collectionReadTimeIndexPath=["parentPath","readTime"];var qr=function(e){this.byteSize=e};qr.store="remoteDocumentGlobal",qr.key="remoteDocumentGlobalKey";var Dn=function(e,t,n,i,o,u,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Dn.store="targets",Dn.keyPath="targetId",Dn.queryTargetsIndexName="queryTargetsIndex",Dn.queryTargetsKeyPath=["canonicalId","targetId"];var Zt=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Zt.store="targetDocuments",Zt.keyPath=["targetId","path"],Zt.documentTargetsIndex="documentTargetsIndex",Zt.documentTargetsKeyPath=["path","targetId"];var Yn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Yn.key="targetGlobalKey",Yn.store="targetGlobal";var Po=function(e,t){this.collectionId=e,this.parent=t};Po.store="collectionParents",Po.keyPath=["collectionId","parent"];var oi=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};oi.store="clientMetadata",oi.keyPath="clientId";var tu=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};tu.store="bundles",tu.keyPath="bundleId";var nu=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};nu.store="namedQueries",nu.keyPath="name";var kM=bt(bt([],bt(bt([],bt(bt([],bt(bt([],[Vi.store,gt.store,un.store,kt.store,Dn.store,Gn.store,Yn.store,Zt.store]),[oi.store])),[qr.store])),[Po.store])),[tu.store,nu.store]),iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",oA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Un=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},J=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,u){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,u=0,a=!1;t.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,u=t;o<u.length;o++)i(u[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},e}(),sA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Un,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Sa(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=uy(o.target.error);i.ft.reject(new Sa(t,u))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(u){throw new Sa(n,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new NM(n)},e}(),ru=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(jo())===12.2&&Lt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ne("SimpleDb","Removing database:",t),So(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=jo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ne("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new Sa(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new X(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Sa(t,d))},l.onupgradeneeded=function(f){ne("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){ne("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var u,a,l,f,d;return q(this,function(p){switch(p.label){case 0:u=n==="readonly",a=0,l=function(){var v,m,b,_,T;return q(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),v=sA.open(f.db,t,u?"readonly":"readwrite",i),m=o(v).catch(function(R){return v.abort(R),J.reject(R)}).toPromise(),b={},m.catch(function(){}),[4,v.dt];case 3:return[2,(b.value=(S.sent(),m),b)];case 4:return _=S.sent(),T=_.name!=="FirebaseError"&&a<3,ne("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),xM=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return So(this.Pt.delete())},e}(),Sa=function(e){function t(n,i){var o=this;return(o=e.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Te(t,e),t}(X);function Xo(e){return e.name==="IndexedDbTransactionError"}var NM=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ne("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),So(i)},e.prototype.add=function(t){return ne("SimpleDb","ADD",this.store.name,t,t),So(this.store.add(t))},e.prototype.get=function(t){var n=this;return So(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ne("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ne("SimpleDb","DELETE",this.store.name,t),So(this.store.delete(t))},e.prototype.count=function(){return ne("SimpleDb","COUNT",this.store.name),So(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ne("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new J(function(i,o){n.onerror=function(u){var a=uy(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new J(function(o,u){t.onerror=function(a){u(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new xM(l),d=n(l.primaryKey,l.value,f);if(d instanceof J){var p=d.catch(function(v){return f.done(),J.reject(v)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return J.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function So(e){return new J(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=uy(i.target.error);n(o)}})}var H1=!1;function uy(e){var t=ru._t(jo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return H1||(H1=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K1=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Te(t,e),t}(oA);function Vn(e,t){var n=se(e);return ru.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ay=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(t.key)&&rM(u,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&xv(a,t,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(t.key)&&xv(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument($e.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},ht())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ws(this.mutations,t.mutations,function(n,i){return R1(n,i)})&&Ws(this.baseMutations,t.baseMutations,function(n,i){return R1(n,i)})},e}(),CM=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){xe(t.mutations.length===i.length);for(var o=cM(),u=t.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new e(t,n,i,o)},e}(),Sh=function(){function e(t,n,i,o,u,a,l){u===void 0&&(u=$e.min()),a===void 0&&(a=$e.min()),l===void 0&&(l=jn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),uA=function(e){this.Lt=e};function Rv(e,t){if(t.document)return mM(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_e.fromSegments(t.noDocument.path),i=ou(t.noDocument.readTime),o=hn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var u=_e.fromSegments(t.unknownDocument.path);return i=ou(t.unknownDocument.version),hn.newUnknownDocument(u,i)}return ye()}function z1(e,t,n){var i=cy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(v,m){return{name:Ya(v,m.key),fields:m.data.value.mapValue.fields,updateTime:Xa(v,m.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new kt(null,null,u,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=iu(t.version);return a=t.hasCommittedMutations,new kt(null,new SM(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=iu(t.version);return new kt(new AM(d,p),null,null,!0,i,o)}return ye()}function cy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function aA(e){var t=new Mn(e[0],e[1]);return $e.fromTimestamp(t)}function iu(e){var t=e.toTimestamp();return new TM(t.seconds,t.nanoseconds)}function ou(e){var t=new Mn(e.seconds,e.nanoseconds);return $e.fromTimestamp(t)}function Cs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return V1(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return V1(e.Lt,f)}),l=Mn.fromMillis(t.localWriteTimeMs);return new ay(t.batchId,l,n,a)}function ma(e){var t,n,i=ou(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?ou(e.lastLimboFreeSnapshotVersion):$e.min();return e.query.documents!==void 0?(xe((n=e.query).documents.length===1),t=Gr(mc(QS(n.documents[0])))):t=function(u){return Gr(tA(u))}(e.query),new Sh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,jn.fromBase64String(e.resumeToken))}function cA(e,t){var n,i=iu(t.snapshotVersion),o=iu(t.lastLimboFreeSnapshotVersion);n=Af(t.target)?ZS(e.Lt,t.target):eA(e.Lt,t.target);var u=t.resumeToken.toBase64();return new Dn(t.targetId,vc(t.target),i,u,t.sequenceNumber,o,n)}function lA(e){var t=tA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?DS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RM=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return G1(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:ou(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return G1(t).put({bundleId:(i=n).id,createTime:iu(Tn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return W1(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:lA(o.bundledQuery),readTime:ou(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return W1(t).put(function(i){return{name:i.name,readTime:iu(Tn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function G1(e){return Vn(e,tu.store)}function W1(e){return Vn(e,nu.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OM=function(){function e(){this.Bt=new ly}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),J.resolve()},e.prototype.getCollectionParents=function(t,n){return J.resolve(this.Bt.getEntries(n))},e}(),ly=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Ht(tt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Ht(tt.comparator)).toArray()},e}(),PM=function(){function e(){this.qt=new ly}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:Sr(u)};return X1(t).put(a)}return J.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[AS(n),""],!1,!0);return X1(t).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ni(f.parent))}return i})},e}();function X1(e){return Vn(e,Po.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(e,t,n){var i=e.store(gt.store),o=e.store(un.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,T,S){return l++,S.delete()});u.push(f.next(function(){xe(l===1)}));for(var d=[],p=0,v=n.mutations;p<v.length;p++){var m=v[p],b=un.key(t,m.key.path,n.batchId);u.push(o.delete(b)),d.push(m.key)}return J.waitFor(u).next(function(){return d})}function Cf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(41943040,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);var DM=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return xe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ti(t).$t({index:gt.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var u=this,a=Rs(t),l=Ti(t);return l.add({}).next(function(f){xe(typeof f=="number");for(var d=new ay(f,n,i,o),p=function(R,O,F){var B=F.baseMutations.map(function(U){return Nf(R.Lt,U)}),te=F.mutations.map(function(U){return Nf(R.Lt,U)});return new gt(O,F.batchId,F.localWriteTime.toMillis(),B,te)}(u.R,u.userId,d),v=[],m=new Ht(function(R,O){return ze(R.canonicalString(),O.canonicalString())}),b=0,_=o;b<_.length;b++){var T=_[b],S=un.key(u.userId,T.key.path,f);m=m.add(T.key.path.popLast()),v.push(l.put(p)),v.push(a.put(S,un.PLACEHOLDER))}return m.forEach(function(R){v.push(u.Ut.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),J.waitFor(v).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ti(t).get(n).next(function(o){return o?(xe(o.userId===i.userId),Cs(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?J.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ti(t).$t({index:gt.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(xe(f.batchId>=o),a=Cs(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ti(t).$t({index:gt.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ti(t).Nt(gt.userMutationsIndex,i).next(function(o){return o.map(function(u){return Cs(n.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=un.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return Rs(t).$t({range:u},function(l,f,d){var p=l[0],v=l[1],m=l[2],b=ni(v);if(p===i.userId&&n.path.isEqual(b))return Ti(t).get(m).next(function(_){if(!_)throw ye();xe(_.userId===i.userId),a.push(Cs(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Ht(ze),u=[];return n.forEach(function(a){var l=un.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Rs(t).$t({range:f},function(p,v,m){var b=p[0],_=p[1],T=p[2],S=ni(_);b===i.userId&&a.path.isEqual(S)?o=o.add(T):m.done()});u.push(d)}),J.waitFor(u).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,u=o.length+1,a=un.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Ht(ze);return Rs(t).$t({range:l},function(d,p,v){var m=d[0],b=d[1],_=d[2],T=ni(b);m===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(_)):v.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(Ti(t).get(a).next(function(l){if(l===null)throw ye();xe(l.userId===i.userId),o.push(Cs(i.R,l))}))}),J.waitFor(u).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return fA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),J.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return J.resolve();var o=IDBKeyRange.lowerBound(un.prefixForUser(n.userId)),u=[];return Rs(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ni(a[1]);u.push(d)}else f.done()}).next(function(){xe(u.length===0)})})},e.prototype.containsKey=function(t,n){return hA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return dA(t).get(this.userId).next(function(i){return i||new Vi(n.userId,-1,"")})},e}();function hA(e,t,n){var i=un.prefixForPath(t,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return Rs(e).$t({range:u,Ft:!0},function(l,f,d){var p=l[0],v=l[1];l[2],p===t&&v===o&&(a=!0),d.done()}).next(function(){return a})}function Ti(e){return Vn(e,gt.store)}function Rs(e){return Vn(e,un.store)}function dA(e){return Vn(e,Vi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),LM=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Rf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return $e.fromTimestamp(new Mn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(t,u)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return As(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return xe(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return As(t).$t(function(l,f){var d=ma(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(t,d)))}).next(function(){return J.waitFor(a)}).next(function(){return u})},e.prototype.forEachTarget=function(t,n){return As(t).$t(function(i,o){var u=ma(o);n(u)})},e.prototype.Xt=function(t){return Q1(t).get(Yn.key).next(function(n){return xe(n!==null),n})},e.prototype.Zt=function(t,n){return Q1(t).put(Yn.key,n)},e.prototype.te=function(t,n){return As(t).put(cA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=vc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return As(t).$t({range:o,index:Dn.queryTargetsIndexName},function(a,l,f){var d=ma(l);_h(n,d.target)&&(u=d,f.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,u=[],a=Pi(t);return n.forEach(function(l){var f=Sr(l.path);u.push(a.put(new Zt(i,f))),u.push(o.referenceDelegate.addReference(t,i,l))}),J.waitFor(u)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,u=Pi(t);return J.forEach(n,function(a){var l=Sr(a.path);return J.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Pi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Pi(t),u=ht();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ni(a[1]),p=new _e(d);u=u.add(p)}).next(function(){return u})},e.prototype.containsKey=function(t,n){var i=Sr(n.path),o=IDBKeyRange.bound([i],[AS(i)],!1,!0),u=0;return Pi(t).$t({index:Zt.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},e.prototype.lt=function(t,n){return As(t).get(n).next(function(i){return i?ma(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function As(e){return Vn(e,Dn.store)}function Q1(e){return Vn(e,Yn.store)}function Pi(e){return Vn(e,Zt.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(e){return H(this,void 0,void 0,function(){return q(this,function(t){if(e.code!==D.FAILED_PRECONDITION||e.message!==iA)throw e;return ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(e,t){var n=e[0],i=e[1],o=t[0],u=t[1],a=ze(n,o);return a===0?ze(i,u):a}var MM=function(){function e(t){this.ne=t,this.buffer=new Ht(J1),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();J1(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),FM=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ne("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return q(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Xo(o=u.sent())?(ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Yo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),jM=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return J.resolve(Jn.o);var o=new MM(n);return this.ae.forEachTarget(t,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return o.re(u)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Y1)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),Y1):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,u,a,l,f,d,p=this,v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>p.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+m),o=p.params.maximumSequenceNumbersToCollect):o=m,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(m){return i=m,l=Date.now(),p.removeTargets(t,i,n)}).next(function(m){return u=m,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(m){return d=Date.now(),Tv()<=et.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(d-f)+`ms
Total Duration: `+(d-v)+"ms"),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:m})})},e}(),UM=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new jM(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Bl(t,i)},e.prototype.removeReference=function(t,n,i){return Bl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Bl(t,n)},e.prototype._e=function(t,n){return function(i,o){var u=!1;return dA(i).Ot(function(a){return hA(i,a,o).next(function(l){return l&&(u=!0),J.resolve(!l)})}).next(function(){return u})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Pi(t).delete([0,Sr(l.path)])})});u.push(d)}}).next(function(){return J.waitFor(u)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Bl(t,n)},e.prototype.we=function(t,n){var i,o=Pi(t),u=Jn.o;return o.$t({index:Zt.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(u!==Jn.o&&n(new _e(ni(i)),u),u=p,i=d):u=Jn.o}).next(function(){u!==Jn.o&&n(new _e(ni(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Bl(e,t){return Pi(e).put(function(n,i){return new Zt(0,Sr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Go(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return kS(this.inner)},e}(),pA=function(){function e(){this.changes=new yu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:$e.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:hn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?J.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),VM=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Ni(t).put(ql(n),i)},e.prototype.removeEntry=function(t,n){var i=Ni(t),o=ql(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Ni(t).get(ql(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Ni(t).get(ql(n)).next(function(o){return{document:i.ye(n,o),size:Cf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Tr();return this.pe(t,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Tr(),u=new dn(_e.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,Cf(l))}).next(function(){return{documents:o,Te:u}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return J.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return Ni(t).$t({range:o},function(l,f,d){for(var p=_e.fromSegments(l);a&&_e.comparator(a,p)<0;)i(a,null),a=u.getNext();a&&a.isEqual(p)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,u=Tr(),a=n.path.length+1,l={};if(i.isEqual($e.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=cy(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=kt.collectionReadTimeIndex}return Ni(t).$t(l,function(v,m,b){if(v.length===a){var _=Rv(o.R,m);n.path.isPrefixOf(_.key.path)?wc(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new BM(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return Z1(t).get(qr.key).next(function(n){return xe(!!n),n})},e.prototype.me=function(t,n){return Z1(t).put(qr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Rv(this.R,n);if(!i.isNoDocument()||!i.version.isEqual($e.min()))return i}return hn.newInvalidDocument(t)},e}(),BM=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new yu(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Ht(function(l,f){return ze(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=z1(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var v=Cf(p);u+=v-d,o.push(i.Ie.addEntry(n,l,p))}else if(u-=d,i.trackRemovals){var m=z1(i.Ie.R,hn.newNoDocument(l,$e.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,m))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),J.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(pA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(e){return Vn(e,qr.store)}function Ni(e){return Vn(e,kt.store)}function ql(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qM=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var u=this;xe(i<o&&i>=0&&o<=11);var a=new sA("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Gn.store)}(t),function(f){f.createObjectStore(Vi.store,{keyPath:Vi.keyPath}),f.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(un.store)}(t),eE(t),function(f){f.createObjectStore(kt.store)}(t));var l=J.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Zt.store),f.deleteObjectStore(Dn.store),f.deleteObjectStore(Yn.store)}(t),eE(t)),l=l.next(function(){return function(f){var d=f.store(Yn.store),p=new Yn(0,0,$e.min().toTimestamp(),0);return d.put(Yn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(gt.store).Nt().next(function(p){f.deleteObjectStore(gt.store),f.createObjectStore(gt.store,{keyPath:gt.keyPath,autoIncrement:!0}).createIndex(gt.userMutationsIndex,gt.userMutationsKeyPath,{unique:!0});var v=d.store(gt.store),m=p.map(function(b){return v.put(b)});return J.waitFor(m)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(oi.store,{keyPath:oi.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(qr.store)}(t),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(kt.store);d.createIndex(kt.readTimeIndex,kt.readTimeIndexPath,{unique:!1}),d.createIndex(kt.collectionReadTimeIndex,kt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(tu.store,{keyPath:tu.keyPath})})(t),function(f){f.createObjectStore(nu.store,{keyPath:nu.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(kt.store).$t(function(i,o){n+=Cf(o)}).next(function(){var i=new qr(n);return t.store(qr.store).put(qr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(Vi.store),o=t.store(gt.store);return i.Nt().next(function(u){return J.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(gt.userMutationsIndex,l).next(function(f){return J.forEach(f,function(d){xe(d.userId===a.userId);var p=Cs(n.R,d);return fA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(Zt.store),i=t.store(kt.store);return t.store(Yn.store).get(Yn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new tt(a),d=function(p){return[0,Sr(p)]}(f);u.push(n.get(d).next(function(p){return p?J.resolve():function(v){return n.put(new Zt(0,Sr(v),o.highestListenSequenceNumber))}(f)}))}).next(function(){return J.waitFor(u)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Po.store,{keyPath:Po.keyPath});var i=n.store(Po.store),o=new ly,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:Sr(f)})}};return n.store(kt.store).$t({Ft:!0},function(a,l){var f=new tt(a);return u(f.popLast())}).next(function(){return n.store(un.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ni(f);return u(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Dn.store);return i.$t(function(o,u){var a=ma(u),l=cA(n.R,a);return i.put(l)})},e}();function eE(e){e.createObjectStore(Zt.store,{keyPath:Zt.keyPath}).createIndex(Zt.documentTargetsIndex,Zt.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Dn.store,{keyPath:Dn.keyPath}).createIndex(Dn.queryTargetsIndexName,Dn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Yn.store)}var Fg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$M=function(){function e(t,n,i,o,u,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!e.yt())throw new X(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UM(this,o),this.Le=n+"main",this.R=new uA(f),this.Be=new ru(this.Le,11,new qM(this.R)),this.qe=new LM(this.referenceDelegate,this.R),this.Ut=new PM,this.Ue=function(v,m){return new VM(v,m)}(this.R,this.Ut),this.Ke=new RM,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Lt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new X(D.FAILED_PRECONDITION,Fg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new Jn(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return q(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return $l(n).put(new oi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Xo(n))return ne("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return la(t).get(Gn.key).next(function(i){return J.resolve(n.tn(i))})},e.prototype.en=function(t){return $l(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,u=this;return q(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Vn(l,oi.store);return f.Nt().next(function(d){var p=u.rn(d,18e5),v=d.filter(function(m){return p.indexOf(m)===-1});return J.forEach(v,function(m){return f.delete(m.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?J.resolve(!0):la(t).get(Gn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new X(D.FAILED_PRECONDITION,Fg);return!1}}return!(!n.networkEnabled||!n.inForeground)||$l(t).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ne("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return q(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Gn.store,oi.store],function(i){var o=new K1(i,Jn.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return $l(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return DM.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("IndexedDbPersistence","Starting transaction:",t);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,kM,function(l){return u=new K1(l,o.Ne?o.Ne.next():Jn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Lt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new X(D.FAILED_PRECONDITION,iA);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return la(t).get(Gn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new X(D.FAILED_PRECONDITION,Fg)})},e.prototype.Ze=function(t){var n=new Gn(this.clientId,this.allowTabSynchronization,Date.now());return la(t).put(Gn.key,n)},e.yt=function(){return ru.yt()},e.prototype.Xe=function(t){var n=this,i=la(t);return i.get(Gn.key).next(function(o){return n.tn(o)?(ne("IndexedDbPersistence","Releasing primary lease."),i.delete(Gn.key)):J.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Lt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),YD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ne("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Lt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Lt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function la(e){return Vn(e,Gn.store)}function $l(e){return Vn(e,oi.store)}function fy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):ny(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new _e(n)).next(function(i){var o=Nv();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,u=n.collectionGroup,a=Nv();return this.Ut.getCollectionParents(t,u).next(function(l){return J.forEach(l,function(f){var d=function(p,v){return new fi(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(u));return o.An(t,d,i).next(function(p){p.forEach(function(v,m){a=a.insert(v,m)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return u=l,a.Rn(t,u,o).next(function(f){o=f;for(var d=0,p=u;d<p.length;d++)for(var v=p[d],m=0,b=v.mutations;m<b.length;m++){var _=b[m],T=_.key,S=o.get(T);S==null&&(S=hn.newInvalidDocument(T),o=o.insert(T,S)),xv(_,S,v.localWriteTime),S.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){wc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=ht(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Wi&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(v){return v.forEach(function(m,b){b.isFoundDocument()&&(p=p.insert(m,b))}),p})},e}(),HM=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=ht(),o=ht(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),vA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual($e.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=u.Cn(n,a);return(tf(n)||xf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(t,n):(Tv()<=et.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),kv(n)),u.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Ht(MS(t));return n.forEach(function(o,u){wc(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var u=t==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Tv()<=et.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",kv(n)),this.Sn.getDocumentsMatchingQuery(t,n,$e.min())},e}(),KM=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new dn(ze),this.Fn=new yu(function(u){return vc(u)},_h),this.$n=$e.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new gA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e,t,n,i){return new KM(e,t,n,i)}function yA(e,t){return H(this,void 0,void 0,function(){var n,i,o,u;return q(this,function(a){switch(a.label){case 0:return n=se(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new gA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],v=[],m=ht(),b=0,_=f;b<_.length;b++){var T=_[b];p.push(T.batchId);for(var S=0,R=T.mutations;S<R.length;S++){var O=R[S];m=m.add(O.key)}}for(var F=0,B=d;F<B.length;F++){var te=B[F];v.push(te.batchId);for(var U=0,we=te.mutations;U<we.length;U++){var z=we[U];m=m.add(z.key)}}return o.pn(l,m).next(function(ie){return{Ln:ie,removedBatchIds:p,addedBatchIds:v}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function zM(e,t){var n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,v=p.keys(),m=J.resolve();return v.forEach(function(b){m=m.next(function(){return d.getEntry(l,b)}).next(function(_){var T=f.docVersions.get(b);xe(T!==null),_.version.compareTo(T)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),m.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function wA(e){var t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function GM(e,t){var n=se(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,v){var m=o.get(v);if(m){l.push(n.qe.removeMatchingKeys(u,p.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(u,p.addedDocuments,v)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=m.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(v,_),function(T,S,R){return xe(S.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(m,_,p)&&l.push(n.qe.updateTargetData(u,_))}}});var f=Tr();if(t.documentUpdates.forEach(function(p,v){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,p))}),l.push(WM(u,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual($e.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(p){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return J.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function WM(e,t,n,i,o){var u=ht();return n.forEach(function(a){return u=u.add(a)}),t.getEntries(e,u).next(function(a){var l=Tr();return n.forEach(function(f,d){var p=a.get(f),v=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual($e.min())?(t.removeEntry(f,v),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,v),l=l.insert(f,d)):ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function XM(e,t){var n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Of(e,t){var n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(u){return u?(o=u,J.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Sh(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function su(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return q(this,function(l){switch(l.label){case 0:i=se(e),o=i.kn.get(t),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Xo(a=l.sent()))throw a;return ne("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Pf(e,t,n){var i=se(e),o=$e.min(),u=ht();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=se(l),v=p.Fn.get(d);return v!==void 0?J.resolve(p.kn.get(v)):p.qe.getTargetData(f,d)}(i,a,Gr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:$e.min(),n?u:ht())}).next(function(l){return{documents:l,Bn:u}})})}function bA(e,t){var n=se(e),i=se(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(a){return a?a.target:null})})}function _A(e){var t=se(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=se(i),l=Tr(),f=cy(u),d=Ni(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:kt.readTimeIndex,range:p},function(v,m){var b=Rv(a.R,m);l=l.insert(b.key,b),f=m.readTime}).next(function(){return{wn:l,readTime:aA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function YM(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,(t=se(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Ni(o),a=$e.min();return u.$t({index:kt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=aA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QM=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return J.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Tn(i.createTime)}),J.resolve()},e.prototype.getNamedQuery=function(t,n){return J.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:lA(i.bundledQuery),readTime:Tn(i.readTime)}}(n)),J.resolve()},e}(),hy=function(){function e(){this.Wn=new Ht(zt.Gn),this.zn=new Ht(zt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new zt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new zt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new _e(new tt([])),o=new zt(i,t),u=new zt(i,t+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new _e(new tt([])),i=new zt(n,t),o=new zt(n,t+1),u=ht();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},e.prototype.containsKey=function(t){var n=new zt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),zt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return _e.comparator(t.key,n.key)||ze(t.ns,n.ns)},e.Hn=function(t,n){return ze(t.ns,n.ns)||_e.comparator(t.key,n.key)},e}(),JM=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Ht(zt.Gn)}return e.prototype.checkEmpty=function(t){return J.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new ay(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new zt(d.key,u)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return J.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return J.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return J.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return J.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return J.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new zt(n,0),u=new zt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),J.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Ht(ze);return n.forEach(function(u){var a=new zt(u,0),l=new zt(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),J.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,u=i;_e.isDocumentKey(u)||(u=u.child(""));var a=new zt(new _e(u),0),l=new Ht(ze);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),J.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;xe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return J.forEach(n.mutations,function(u){var a=new zt(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new zt(n,0),o=this.rs.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,J.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),ZM=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new dn(_e.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return J.resolve(i?i.document.clone():hn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Tr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():hn.newInvalidDocument(u))}),J.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Tr(),u=new _e(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,v=d.readTime;if(!n.path.isPrefixOf(f.path))break;v.compareTo(i)<=0||wc(n,p)&&(o=o.insert(p.key,p.clone()))}return J.resolve(o)},e.prototype.fs=function(t,n){return J.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new eF(this)},e.prototype.getSize=function(t){return J.resolve(this.size)},e}(),eF=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Te(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),J.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(pA),tF=function(){function e(t){this.persistence=t,this.ds=new yu(function(n){return vc(n)},_h),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ws=0,this._s=new hy,this.targetCount=0,this.ys=Rf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),J.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return J.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return J.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),J.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),J.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Rf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,J.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),J.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,J.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),u++)}),J.waitFor(a).next(function(){return u})},e.prototype.getTargetCount=function(t){return J.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return J.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),J.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(t,a))}),J.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),J.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return J.resolve(i)},e.prototype.containsKey=function(t,n){return J.resolve(this._s.containsKey(n))},e}(),nF=function(){function e(t,n){var i=this;this.gs={},this.Ne=new Jn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new tF(this),this.Ut=new OM,this.Ue=function(o,u){return new ZM(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new uA(n),this.Ke=new QM(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new JM(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("MemoryPersistence","Starting transaction:",t);var u=new rF(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return J.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),rF=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Te(t,e),t}(oA),iF=function(){function e(t){this.persistence=t,this.As=new hy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),J.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),J.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),J.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.vs,function(o){var u=_e.fromPath(o);return n.Ps(t,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return J.or([function(){return J.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),Yt=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(e,t){return"firestore_clients_"+e+"_"+t}function nE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function jg(e,t){return"firestore_targets_"+e+"_"+t}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");var rE=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new X(u.error.code,u.error.message)),a?new e(t,n,u.state,o):(Lt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Ug=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new X(o.error.code,o.error.message)),u?new e(t,o.state,i):(Lt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),iE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Th(),a=0;o&&a<i.activeTargetIds.length;++a)o=CS(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new e(t,u):(Lt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),oF=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Lt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Ov=function(){function e(){this.activeTargetIds=Th()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Vg=function(){function e(t,n,i,o,u){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new dn(ze),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=tE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Ov),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,u,a,l,f,d,p,v,m=this;return q(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(tE(this.persistenceKey,o)))&&(a=iE.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)v=p[d],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(jg(this.persistenceKey,t));if(i){var o=Ug.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(jg(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=t,i.forEach(function(u){o.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ne("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ne("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Lt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,u,a,l,f,d;return q(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(v){var m=Jn.o;if(v!=null)try{var b=JSON.parse(v);xe(typeof b=="number"),m=b}catch(_){Lt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(i.newValue))!==Jn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new rE(this.currentUser,t,n,i),u=nE(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ss())},e.prototype.Hs=function(t){var n=nE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=jg(this.persistenceKey,t),u=new Ug(t,n,i);this.setItem(o,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return iE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return rE.Vs(new Yt(u),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Ug.Vs(o,n)},e.prototype.js=function(t){return oF.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ne("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Th();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),EA=function(){function e(){this.li=new Ov,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Ov,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),sF=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),oE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),uF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},aF=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),cF=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Te(t,e),t.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new V2;f.listenOnce(F2.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Mg.NO_ERROR:var p=f.getResponseJson();ne("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Mg.TIMEOUT:ne("Connection",'RPC "'+n+'" timed out'),l(new X(D.DEADLINE_EXCEEDED,"Request time out"));break;case Mg.HTTP_ERROR:var v=f.getStatus();if(ne("Connection",'RPC "'+n+'" failed with status:',v,"response text:",f.getResponseText()),v>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var b=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(T)>=0?T:D.UNKNOWN}(m.status);l(new X(b,m.message))}else l(new X(D.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new X(D.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ne("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=L2(),a=M2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new U2({})),this.ki(l.initMessageHeaders,i),$D()||zD()||GD()||WD()||XD()||KD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ne("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),p=!1,v=!1,m=new aF({Ei:function(_){v?ne("Connection","Not sending because WebChannel is closed:",_):(p||(ne("Connection","Opening WebChannel transport."),d.open(),p=!0),ne("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,T,S){_.listen(T,function(R){try{S(R)}catch(O){setTimeout(function(){throw O},0)}})};return b(d,Ul.EventType.OPEN,function(){v||ne("Connection","WebChannel transport opened.")}),b(d,Ul.EventType.CLOSE,function(){v||(v=!0,ne("Connection","WebChannel transport closed"),m.Vi())}),b(d,Ul.EventType.ERROR,function(_){v||(v=!0,If("Connection","WebChannel transport errored:",_),m.Vi(new X(D.UNAVAILABLE,"The operation could not be completed")))}),b(d,Ul.EventType.MESSAGE,function(_){var T;if(!v){var S=_.data[0];xe(!!S);var R=S,O=R.error||((T=R[0])===null||T===void 0?void 0:T.error);if(O){ne("Connection","WebChannel received error:",O);var F=O.status,B=function(U){var we=Pt[U];if(we!==void 0)return zS(we)}(F),te=O.message;B===void 0&&(B=D.INTERNAL,te="Unknown error status: "+F+" with message "+O.message),v=!0,m.Vi(new X(B,te)),d.close()}else ne("Connection","WebChannel received:",S),m.Si(S)}}),b(a,j2.STAT_EVENT,function(_){_.stat===E1.PROXY?ne("Connection","Detected buffering proxy"):_.stat===E1.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var u=this.xi(t,n);ne("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(t,u,a,i).then(function(l){return ne("RestConnection","Received: ",l),l},function(l){throw If("RestConnection",t+" failed with error: ",l,"url: ",u,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=uF[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return typeof window<"u"?window:null}function of(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(e){return new gM(e,!0)}var dy=function(){function e(t,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&ne("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),TA=function(){function e(t,n,i,o,u,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new dy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Lt(n.toString()),Lt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var u=new X(D.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(u)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return q(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ne("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),lF=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Te(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:ye()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(S,R){return S.I?(xe(R===void 0||typeof R=="string"),jn.fromBase64String(R||"")):(xe(R===void 0||R instanceof Uint8Array),jn.fromUint8Array(R||new Uint8Array))}(u,a.targetChange.resumeToken),v=(m=a.targetChange.cause)&&function(S){var R=S.code===void 0?D.UNKNOWN:zS(S.code);return new X(R,S.message||"")}(m);l=new WS(f,d,p,v||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=ii(u,f.document.name),p=Tn(f.document.updateTime);var m=new Qn({mapValue:{fields:f.document.fields}}),b=(v=hn.newFoundDocument(d,p,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new rf(b,_,v.key,v)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=ii(u,f.document),p=f.readTime?Tn(f.readTime):$e.min(),m=hn.newNoDocument(d,p),v=f.removedTargetIds||[],l=new rf([],v,m.key,m);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=ii(u,f.document),p=f.removedTargetIds||[],l=new rf([],p,d,null);else{if(!("filter"in a))return ye();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new oM(f),p=T.targetId,l=new GS(p,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return $e.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?$e.min():a.readTime?Tn(a.readTime):$e.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=Qa(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=Af(f)?{documents:ZS(u,f)}:{query:eA(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=XS(u,a.resumeToken):a.snapshotVersion.compareTo($e.min())>0&&(l.readTime=Xa(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=Qa(this.R),i.removeTarget=n,this.cr(i)},t}(TA),fF=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Te(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(xe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(xe(a!==void 0),u.map(function(l){return function(f,d){var p=f.updateTime?Tn(f.updateTime):Tn(d);return p.isEqual($e.min())&&(p=Tn(d)),new nM(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Tn(n.commitTime);return this.listener.Tr(o,i)}return xe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=Qa(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Nf(i.R,u)})};this.cr(o)},t}(TA),hF=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Te(t,e),t.prototype.br=function(){if(this.Rr)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new X(D.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new X(D.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),dF=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Lt(n),this.Vr=!1):ne("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),pF=function(e,t,n,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(u,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return Xi(this)?(ne("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return q(this,function(p){switch(p.label){case 0:return(d=se(f)).Or.add(4),[4,wu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Ic(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new dF(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:if(!Xi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function wu(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function kh(e,t){var n=se(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),vy(n)?gy(n):_u(n).er()&&py(n,t))}function Ja(e,t){var n=se(e),i=_u(n);n.$r.delete(t),i.er()&&SA(n,t),n.$r.size===0&&(i.er()?i.ir():Xi(n)&&n.Br.set("Unknown"))}function py(e,t){e.qr.U(t.targetId),_u(e).mr(t)}function SA(e,t){e.qr.U(t),_u(e).yr(t)}function gy(e){e.qr=new hM({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),_u(e).start(),e.Br.Sr()}function vy(e){return Xi(e)&&!_u(e).tr()&&e.$r.size>0}function Xi(e){return se(e).Or.size===0}function AA(e){e.qr=void 0}function gF(e){return H(this,void 0,void 0,function(){return q(this,function(t){return e.$r.forEach(function(n,i){py(e,n)}),[2]})})}function vF(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){return AA(e),vy(e)?(e.Br.Nr(t),gy(e)):e.Br.set("Unknown"),[2]})})}function mF(e,t,n){return H(this,void 0,void 0,function(){var i,o,u;return q(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof WS&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,p,v,m;return q(this,function(b){switch(b.label){case 0:d=f.cause,p=0,v=f.targetIds,b.label=1;case 1:return p<v.length?(m=v[p],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(m),l.qr.removeTarget(m),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Df(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof rf?e.qr.X(t):t instanceof GS?e.qr.rt(t):e.qr.et(t),n.isEqual($e.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,wA(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,v){if(p.resumeToken.approximateByteSize()>0){var m=l.$r.get(v);m&&l.$r.set(v,m.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var v=l.$r.get(p);if(v){l.$r.set(p,v.withResumeToken(jn.EMPTY_BYTE_STRING,v.snapshotVersion)),SA(l,p);var m=new Sh(v.target,p,1,v.sequenceNumber);py(l,m)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ne("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,Df(e,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Df(e,t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:if(!Xo(t))throw t;return e.Or.add(1),[4,wu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return wA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(u){switch(u.label){case 0:return ne("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),e.Or.delete(1),[4,Ic(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function kA(e,t){return t().catch(function(n){return Df(e,n,t)})}function bu(e){return H(this,void 0,void 0,function(){var t,n,i,o,u;return q(this,function(a){switch(a.label){case 0:t=se(e),n=Hi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Xi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,XM(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Hi(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return u=a.sent(),[4,Df(t,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return xA(t)&&NA(t),[2]}})})}function xA(e){return Xi(e)&&!Hi(e).tr()&&e.Fr.length>0}function NA(e){Hi(e).start()}function yF(e){return H(this,void 0,void 0,function(){return q(this,function(t){return Hi(e).Ar(),[2]})})}function wF(e){return H(this,void 0,void 0,function(){var t,n,i,o;return q(this,function(u){for(t=Hi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function bF(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:return i=e.Fr.shift(),o=CM.from(i,t,n),[4,kA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,bu(e)];case 2:return u.sent(),[2]}})})}function _F(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return t&&Hi(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var u,a;return q(this,function(l){switch(l.label){case 0:return KS(a=o.code)&&a!==D.ABORTED?(u=i.Fr.shift(),Hi(i).sr(),[4,kA(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,bu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xA(e)&&NA(e),[2]}})})}function Pv(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=se(e),t?(n.Or.delete(2),[4,Ic(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,wu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function _u(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var u=se(n);return u.br(),new lF(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:gF.bind(null,e),Ri:vF.bind(null,e),_r:mF.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),vy(e)?gy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),AA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Hi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var u=se(n);return u.br(),new fF(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:yF.bind(null,e),Ri:_F.bind(null,e),Ir:wF.bind(null,e),Tr:bF.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,bu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ne("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var EF=function(){function e(t,n,i,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Un,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,u){var a=new e(t,n,Date.now()+i,o,u);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Eu(e,t){if(Lt("AsyncQueue",t+": "+e),Xo(e))return new X(D.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||_e.comparator(n.key,i.key)}:function(n,i){return _e.comparator(n.key,i.key)},this.keyedMap=Nv(),this.sortedSet=new dn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),sE=function(){function e(){this.Qr=new dn(_e.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),Lf=function(){function e(t,n,i,o,u,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new e(t,n,CA.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),IF=function(){this.Wr=void 0,this.listeners=[]},TF=function(){this.queries=new yu(function(e){return LS(e)},yc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return q(this,function(d){switch(d.label){case 0:if(n=se(e),i=t.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new IF),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Eu(l,"Initialization of query '"+kv(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(t),t.zr(n.onlineState),u.Wr&&t.Hr(u.Wr)&&wy(n),[2]}})})}function yy(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a;return q(this,function(l){return n=se(e),i=t.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(t))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function SF(e,t){for(var n=se(e),i=!1,o=0,u=t;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&wy(n)}function AF(e,t,n){var i=se(e),o=i.queries.get(t);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(t)}function wy(e){e.Gr.forEach(function(t){t.next()})}var by=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}t=new Lf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Lf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA=function(e){this.key=e},OA=function(e){this.key=e},PA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=ht(),this.mutatedKeys=ht(),this.lo=MS(t),this.fo=new CA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new sE,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=tf(this.query)&&u.size===this.query.limit?u.last():null,p=xf(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(m,b){var _=u.get(m),T=wc(i.query,b)?b:null,S=!!_&&i.mutatedKeys.has(_.key),R=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),O=!1;_&&T?_.data.isEqual(T.data)?S!==R&&(o.track({type:3,doc:T}),O=!0):i.yo(_,T)||(o.track({type:2,doc:T}),O=!0,(d&&i.lo(T,d)>0||p&&i.lo(T,p)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),O=!0):_&&!T&&(o.track({type:1,doc:_}),O=!0,(d||p)&&(f=!0)),O&&(T?(l=l.add(T),a=R?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),tf(this.query)||xf(this.query))for(;l.size>this.query.limit;){var v=tf(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),o.track({type:1,doc:v})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,v){return function(m,b){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(m)-_(b)}(p.type,v.type)||o.lo(p.doc,v.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new Lf(this.query,t.fo,u,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new sE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=ht(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new OA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new RA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ht();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Lf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),kF=function(e,t,n){this.query=e,this.targetId=t,this.view=n},xF=function(e){this.key=e,this.bo=!1},NF=function(){function e(t,n,i,o,u,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new yu(function(l){return LS(l)},yc),this.Vo=new Map,this.So=new Set,this.Do=new dn(_e.comparator),this.Co=new Map,this.No=new hy,this.xo={},this.ko=new Map,this.Fo=Rf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function CF(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l;return q(this,function(f){switch(f.label){case 0:return n=Sy(e),(u=n.Po.get(t))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,Of(n.localStore,Gr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,_y(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&kh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function _y(e,t,n,i){return H(this,void 0,void 0,function(){var o,u,a,l,f,d;return q(this,function(p){switch(p.label){case 0:return e.Oo=function(v,m,b){return function(_,T,S,R){return H(this,void 0,void 0,function(){var O,F,B;return q(this,function(te){switch(te.label){case 0:return O=T.view._o(S),O.Nn?[4,Pf(_.localStore,T.query,!1).then(function(U){var we=U.documents;return T.view._o(we,O)})]:[3,2];case 1:O=te.sent(),te.label=2;case 2:return F=R&&R.targetChanges.get(T.targetId),B=T.view.applyChanges(O,_.isPrimaryClient,F),[2,(Dv(_,T.targetId,B.To),B.snapshot)]}})})}(e,v,m,b)},[4,Pf(e.localStore,t,!0)];case 1:return o=p.sent(),u=new PA(t,o.Bn),a=u._o(o.documents),l=oy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=u.applyChanges(a,e.isPrimaryClient,l),Dv(e,n,f.To),d=new kF(t,n,u),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function RF(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(u){switch(u.label){case 0:return n=se(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!yc(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,su(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ja(n.remoteStore,i.targetId),uu(n,i.targetId)}).catch(Yo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return uu(n,i.targetId),[4,su(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function OF(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return q(this,function(l){switch(l.label){case 0:i=Ay(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,v=se(f),m=Mn.now(),b=d.reduce(function(_,T){return _.add(T.key)},ht());return v.persistence.runTransaction("Locally write mutations","readwrite",function(_){return v.Mn.pn(_,b).next(function(T){p=T;for(var S=[],R=0,O=d;R<O.length;R++){var F=O[R],B=iM(F,p.get(F.key));B!=null&&S.push(new Wi(F.key,B,RS(B.value.mapValue),ln.exists(!0)))}return v._n.addMutationBatch(_,m,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var v=f.xo[f.currentUser.toKey()];v||(v=new dn(ze)),v=v.insert(d,p),f.xo[f.currentUser.toKey()]=v}(i,o.batchId,n),[4,Yi(i,o.changes)];case 3:return l.sent(),[4,bu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=Eu(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function DA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:n=se(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,GM(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(xe(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?xe(l.bo):u.removedDocuments.size>0&&(xe(l.bo),l.bo=!1))}),[4,Yi(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Yo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uE(e,t,n){var i=se(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=se(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var v=0,m=p.listeners;v<m.length;v++)m[v].zr(a)&&(f=!0)}),f&&wy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function PF(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f;return q(this,function(d){switch(d.label){case 0:return(i=se(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(u=o&&o.key)?(a=(a=new dn(_e.comparator)).insert(u,hn.newNoDocument(u,$e.min())),l=ht().add(u),f=new iy($e.min(),new Map,new Ht(ze),a,l),[4,DA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),Ty(i),[3,4];case 2:return[4,su(i.localStore,t,!1).then(function(){return uu(i,t,n)}).catch(Yo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function DF(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(u){switch(u.label){case 0:n=se(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,zM(n.localStore,t)];case 2:return o=u.sent(),Iy(n,i,null),Ey(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Yi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Yo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function LF(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:i=se(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=se(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(v){return xe(v!==null),p=v.keys(),f._n.removeMutationBatch(d,v)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=u.sent(),Iy(i,t,n),Ey(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Yi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Yo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function MF(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a;return q(this,function(l){switch(l.label){case 0:Xi((n=se(e)).remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=se(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=Eu(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ey(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Iy(e,t,n){var i=se(e),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function uu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var u=o[i];e.Po.delete(u),n&&e.vo.Mo(u,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||LA(e,a)})}function LA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(Ja(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ty(e))}function Dv(e,t,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof RA?(e.No.addReference(u.key,t),FF(e,u)):u instanceof OA?(ne("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||LA(e,u.key)):ye()}}function FF(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ne("SyncEngine","New document in limbo: "+n),e.So.add(i),Ty(e))}function Ty(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new _e(tt.fromString(t)),i=e.Fo.next();e.Co.set(i,new xF(n)),e.Do=e.Do.insert(n,i),kh(e.remoteStore,new Sh(Gr(mc(n.path)),i,2,Jn.o))}}function Yi(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return q(this,function(l){switch(l.label){case 0:return i=se(e),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var v=HM.Pn(d.targetId,p);u.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var p,v,m,b,_,T,S,R,O;return q(this,function(F){switch(F.label){case 0:p=se(f),F.label=1;case 1:return F.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(B){return J.forEach(d,function(te){return J.forEach(te.bn,function(U){return p.persistence.referenceDelegate.addReference(B,te.targetId,U)}).next(function(){return J.forEach(te.vn,function(U){return p.persistence.referenceDelegate.removeReference(B,te.targetId,U)})})})})];case 2:return F.sent(),[3,4];case 3:if(!Xo(v=F.sent()))throw v;return ne("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(m=0,b=d;m<b.length;m++)_=b[m],T=_.targetId,_.fromCache||(S=p.kn.get(T),R=S.snapshotVersion,O=S.withLastLimboFreeSnapshotVersion(R),p.kn=p.kn.insert(T,O));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function jF(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return(n=se(e)).currentUser.isEqual(t)?[3,3]:(ne("SyncEngine","User change. New user:",t.toKey()),[4,yA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new X(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Yi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function UF(e,t){var n=se(e),i=n.Co.get(t);if(i&&i.bo)return ht().add(i.key);var o=ht(),u=n.Vo.get(t);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function VF(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(u){switch(u.label){case 0:return[4,Pf((n=se(e)).localStore,t.query,!0)];case 1:return i=u.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Dv(n,t.targetId,o.To),o)]}})})}function BF(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,_A((t=se(e)).localStore).then(function(i){return Yi(t,i)})]})})}function qF(e,t,n,i){return H(this,void 0,void 0,function(){var o,u;return q(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=se(l),p=se(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return p.jt(v,f).next(function(m){return m?d.Mn.pn(v,m):J.resolve(null)})})}((o=se(e)).localStore,t)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,bu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Iy(o,t,i||null),Ey(o,t),function(l,f){se(se(l)._n).Gt(f)}(o.localStore,t)):ye(),a.label=4;case 4:return[4,Yi(o,u)];case 5:return a.sent(),[3,7];case 6:ne("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function $F(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return q(this,function(p){switch(p.label){case 0:return Sy(n=se(e)),Ay(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,aE(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,Pv(n.remoteStore,!0)];case 2:for(p.sent(),u=0,a=o;u<a.length;u++)l=a[u],kh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(v,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):d=d.then(function(){return uu(n,m),su(n.localStore,m,!0)}),Ja(n.remoteStore,m)}),[4,d]);case 4:return p.sent(),[4,aE(n,f)];case 5:return p.sent(),function(v){var m=se(v);m.Co.forEach(function(b,_){Ja(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new dn(_e.comparator)}(n),n.$o=!1,[4,Pv(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function aE(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,v,m,b,_,T,S;return q(this,function(R){switch(R.label){case 0:i=se(e),o=[],u=[],a=0,l=t,R.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,Of(i.localStore,Gr(p[0]))]:[3,7]):[3,13];case 2:d=R.sent(),v=0,m=p,R.label=3;case 3:return v<m.length?(b=m[v],_=i.Po.get(b),[4,VF(i,_)]):[3,6];case 4:(T=R.sent()).snapshot&&u.push(T.snapshot),R.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,bA(i.localStore,f)];case 8:return S=R.sent(),[4,Of(i.localStore,S)];case 9:return d=R.sent(),[4,_y(i,MA(S),f,!1)];case 10:R.sent(),R.label=11;case 11:o.push(d),R.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function MA(e){return PS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function HF(e){var t=se(e);return se(se(t.localStore).persistence).fn()}function KF(e,t,n,i){return H(this,void 0,void 0,function(){var o,u,a;return q(this,function(l){switch(l.label){case 0:return(o=se(e)).$o?(ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,_A(o.localStore)];case 3:return u=l.sent(),a=iy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Yi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,su(o.localStore,t,!0)];case 6:return l.sent(),uu(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function zF(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,v,m;return q(this,function(b){switch(b.label){case 0:if(!(i=Sy(e)).$o)return[3,10];o=0,u=t,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(ne("SyncEngine","Adding an already active target "+a),[3,5]):[4,bA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,Of(i.localStore,l)];case 3:return f=b.sent(),[4,_y(i,MA(l),f.targetId,!1)];case 4:b.sent(),kh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return q(this,function(T){switch(T.label){case 0:return i.Vo.has(_)?[4,su(i.localStore,_,!1).then(function(){Ja(i.remoteStore,_),uu(i,_)}).catch(Yo)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,v=n,b.label=7;case 7:return p<v.length?(m=v[p],[5,d(m)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function Sy(e){var t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=DA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PF.bind(null,t),t.vo._r=SF.bind(null,t.eventManager),t.vo.Mo=AF.bind(null,t.eventManager),t}function Ay(e){var t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LF.bind(null,t),t}var FA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return this.R=Ah(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return mA(this.persistence,new vA,t.initialUser,this.R)},e.prototype.qo=function(t){return new nF(iF.bs,this.R)},e.prototype.Bo=function(t){return new EA},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),jA=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Te(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,YM(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Ay(this.Qo.syncEngine)];case 4:return o.sent(),[4,bu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return mA(this.persistence,new vA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new FM(i,n.asyncQueue)},t.prototype.qo=function(n){var i=fy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new $M(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,IA(),of(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new EA},t}(FA),GF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Te(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return q(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Vg?(this.sharedClientState.syncEngine={ui:qF.bind(null,i),ai:KF.bind(null,i),hi:zF.bind(null,i),fn:HF.bind(null,i),ci:BF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return[4,$F(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(n){var i=IA();if(!Vg.yt(i))throw new X(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=fy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Vg(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(jA),Lv=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return uE(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=jF.bind(null,this.syncEngine),[4,Pv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new TF},e.prototype.createDatastore=function(t){var n,i=Ah(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new cF(n));return function(u,a,l){return new hF(u,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,u=function(f){return uE(l.syncEngine,f,0)},a=oE.yt()?new oE:new sF,new pF(n,i,o,u,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,u,a,l,f,d){var p=new NF(i,o,u,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=se(t),ne("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,wu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),WF=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new X(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return H(this,void 0,void 0,function(){var l,f,d,p,v,m;return q(this,function(b){switch(b.label){case 0:return l=se(u),f=Qa(l.R)+"/documents",d={documents:a.map(function(_){return Ya(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),v=new Map,p.forEach(function(_){var T=function(S,R){return"found"in R?function(O,F){xe(!!F.found),F.found.name,F.found.updateTime;var B=ii(O,F.found.name),te=Tn(F.found.updateTime),U=new Qn({mapValue:{fields:F.found.fields}});return hn.newFoundDocument(B,te,U)}(S,R):"missing"in R?function(O,F){xe(!!F.missing),xe(!!F.readTime);var B=ii(O,F.missing),te=Tn(F.readTime);return hn.newNoDocument(B,te)}(S,R):ye()}(l.R,_);v.set(T.key.toString(),T)}),m=[],[2,(a.forEach(function(_){var T=v.get(_.toString());xe(!!T),m.push(T)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Ec(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,u){var a=_e.fromPath(u);n.mutations.push(new ry(a,n.precondition(a)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var a,l,f;return q(this,function(d){switch(d.label){case 0:return a=se(o),l=Qa(a.R)+"/documents",f={writes:u.map(function(p){return Nf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=$e.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new X(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?ln.updateTime(n):ln.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual($e.min()))throw new X(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ln.updateTime(n)}return ln.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),XF=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new dy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return q(this,function(u){return n=new WF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Wo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!KS(n)}return!1},e}(),YF=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Yt.UNAUTHENTICATED,this.clientId=SS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return H(o,void 0,void 0,function(){return q(this,function(a){switch(a.label){case 0:return ne("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new X(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Un;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=Eu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return q(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=u.sent(),[4,t.initialize(n)];case 2:return u.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,yA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function VA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,ky(e)];case 1:return n=o.sent(),ne("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(u){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return q(this,function(p){switch(p.label){case 0:return(f=se(a)).asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials"),d=Xi(f),f.Or.add(3),[4,wu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Ic(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function ky(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ne("FirestoreClient","Using default OfflineComponentProvider"),[4,UA(e,new FA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Nh(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ne("FirestoreClient","Using default OnlineComponentProvider"),[4,VA(e,new Lv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function cE(e){return ky(e).then(function(t){return t.persistence})}function BA(e){return ky(e).then(function(t){return t.localStore})}function lE(e){return Nh(e).then(function(t){return t.remoteStore})}function qA(e){return Nh(e).then(function(t){return t.syncEngine})}function au(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return[4,Nh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=CF.bind(null,t.syncEngine),n.onUnlisten=RF.bind(null,t.syncEngine),n)]}})})}function fE(e,t,n){var i=this;n===void 0&&(n={});var o=new Un;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return q(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,v){var m=new xh({next:function(_){f.enqueueAndForget(function(){return yy(l,b)});var T=_.docs.has(d);!T&&_.fromCache?v.reject(new X(D.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?v.reject(new X(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),b=new by(mc(d.path),m,{includeMetadataChanges:!0,so:!0});return my(l,b)},[4,au(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function hE(e,t,n){var i=this;n===void 0&&(n={});var o=new Un;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return q(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,v){var m=new xh({next:function(_){f.enqueueAndForget(function(){return yy(l,b)}),_.fromCache&&p.source==="server"?v.reject(new X(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),b=new by(d,m,{includeMetadataChanges:!0,so:!0});return my(l,b)},[4,au(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var QF=function(e,t,n,i,o,u,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},Mf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),dE=new Map,$A=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},pE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(Yt.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),JF=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),ZF=function(){function e(t){var n=this;this.currentUser=Yt.UNAUTHENTICATED,this.oc=new Un,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ne("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ne("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ne("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(xe(typeof o.accessToken=="string"),new $A(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string"),new Yt(t)},e}(),ej=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Yt.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),tj=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new ej(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(Yt.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(e,t,n){if(!n)throw new X(D.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ny(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new X(D.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function HA(e,t,n,i){if(t===!0&&i===!0)throw new X(D.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function gE(e){if(!_e.isDocumentKey(e))throw new X(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function vE(e){if(_e.isDocumentKey(e))throw new X(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Ch(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function nt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ch(e);throw new X(D.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function mE(e,t){if(t<=0)throw new X(D.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new X(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,HA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),Za=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,t instanceof Mf?(this._databaseId=t,this._credentials=new pE):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new X(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(i.options.projectId)}(t),this._credentials=new ZF(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new X(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new X(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new pE;switch(n.type){case"gapi":var i=n.client;return xe(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new tj(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new X(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=dE.get(t))&&(ne("ComponentProvider","Removing Datastore"),dE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Tt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Bi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),tr=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Bi=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,mc(o))||this)._path=o,u.type="collection",u}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Tt(this.firestore,null,new _e(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(tr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=at(e),xy("collection","path",t),e instanceof Za)return vE(n=tt.fromString.apply(tt,bt([t],i))),new Bi(e,null,n);if(!(e instanceof Tt||e instanceof Bi))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vE(n=tt.fromString.apply(tt,bt([e.path],i)).child(tt.fromString(t))),new Bi(e.firestore,null,n)}function sf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=at(e),arguments.length===1&&(t=SS.u()),xy("doc","path",t),e instanceof Za)return gE(n=tt.fromString.apply(tt,bt([t],i))),new Tt(e,null,new _e(n));if(!(e instanceof Tt||e instanceof Bi))throw new X(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return gE(n=e._path.child(tt.fromString.apply(tt,bt([t],i)))),new Tt(e.firestore,e instanceof Bi?e.converter:null,new _e(n))}function zA(e,t){return e=at(e),t=at(t),(e instanceof Tt||e instanceof Bi)&&(t instanceof Tt||t instanceof Bi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function GA(e,t){return e=at(e),t=at(t),e instanceof tr&&t instanceof tr&&e.firestore===t.firestore&&yc(e._query,t._query)&&e.converter===t.converter}var nj=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new dy(this,"async_queue_retry"),this.Ic=function(){var i=of();i&&ne("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=of();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=of();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Un;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Xo(t=i.sent()))throw t;return ne("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Lt("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var u=EF.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function cu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var rj=-1,$t=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new nj,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Te(t,e),t.prototype._terminate=function(){return this._firestoreClient||WA(this),this._firestoreClient.terminate()},t}(Za);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(e){return e._firestoreClient||WA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WA(e){var t,n=e._freezeSettings(),i=function(o,u,a,l){return new QF(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new YF(e._credentials,e._queue,i)}function wE(e,t,n){var i=this,o=new Un;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var u;return q(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,UA(e,n)];case 1:return a.sent(),[4,VA(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function bE(e){if(e._initialized||e._terminated)throw new X(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new X(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Ho=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(jn.fromBase64String(t))}catch(n){throw new X(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(jn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Qo=function(e){this._methodName=e},Rh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return ze(this._lat,t._lat)||ze(this._long,t._long)},e}(),ij=/^__.*__$/,oj=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Wi(t,this.data,this.fieldMask,n,this.fieldTransforms):new _c(t,this.data,n,this.fieldTransforms)},e}(),XA=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Wi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var QA=function(){function e(t,n,i,o,u,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Ff(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(YA(this.Nc)&&ij.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),sj=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Ah(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new QA({Nc:t,methodName:n,qc:i,path:Ar.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Jo(e){var t=e._freezeSettings(),n=Ah(e._databaseId);return new sj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Oh(e,t,n,i,o,u){u===void 0&&(u={});var a=e.Uc(u.merge||u.mergeFields?2:0,t,n,o);Py("Data must be an object, but it was:",a,i);var l,f,d=ek(i,a);if(u.merge)l=new Xs(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var p=[],v=0,m=u.mergeFields;v<m.length;v++){var b=Mv(t,m[v],n);if(!a.contains(b))throw new X(D.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");nk(p,b)||p.push(b)}l=new Xs(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new oj(new Qn(d),l,f)}var Cy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Qo);function JA(e,t,n){return new QA({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var uj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype._toFieldTransform=function(n){return new bc(n.path,new Zs)},t.prototype.isEqual=function(n){return n instanceof t},t}(Qo),aj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=JA(this,n,!0),o=this.Kc.map(function(a){return Zo(a,i)}),u=new qo(o);return new bc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Qo),cj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=JA(this,n,!0),o=this.Kc.map(function(a){return Zo(a,i)}),u=new $o(o);return new bc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Qo),lj=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Te(t,e),t.prototype._toFieldTransform=function(n){var i=new eu(n.R,US(n.R,this.Qc));return new bc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Qo);function Ry(e,t,n,i){var o=e.Uc(1,t,n);Py("Data must be an object, but it was:",o,i);var u=[],a=Qn.empty();Go(i,function(f,d){var p=Dy(t,f,n);d=at(d);var v=o.Oc(p);if(d instanceof Cy)u.push(p);else{var m=Zo(d,v);m!=null&&(u.push(p),a.set(p,m))}});var l=new Xs(u);return new XA(a,l,o.fieldTransforms)}function Oy(e,t,n,i,o,u){var a=e.Uc(1,t,n),l=[Mv(t,i,n)],f=[o];if(u.length%2!=0)throw new X(D.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(Mv(t,u[d])),f.push(u[d+1]);for(var p=[],v=Qn.empty(),m=l.length-1;m>=0;--m)if(!nk(p,l[m])){var b=l[m],_=f[m];_=at(_);var T=a.Oc(b);if(_ instanceof Cy)p.push(b);else{var S=Zo(_,T);S!=null&&(p.push(b),v.set(b,S))}}var R=new Xs(p);return new XA(v,R,a.fieldTransforms)}function ZA(e,t,n,i){return i===void 0&&(i=!1),Zo(n,e.Uc(i?4:3,t))}function Zo(e,t){if(tk(e=at(e)))return Py("Unsupported field value:",t,e),ek(e,t);if(e instanceof Qo)return function(n,i){if(!YA(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=Zo(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=at(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return US(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Mn.fromDate(n);return{timestampValue:Xa(i.R,o)}}if(n instanceof Mn)return o=new Mn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Xa(i.R,o)};if(n instanceof Rh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ho)return{bytesValue:XS(i.R,n._byteString)};if(n instanceof Tt){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:sy(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Ch(n))}(e,t)}function ek(e,t){var n={};return kS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Go(e,function(i,o){var u=Zo(o,t.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function tk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Mn||e instanceof Rh||e instanceof Ho||e instanceof Tt||e instanceof Qo)}function Py(e,t,n){if(!tk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Ch(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function Mv(e,t,n){if((t=at(t))instanceof $r)return t._internalPath;if(typeof t=="string")return Dy(e,t);throw Ff("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var fj=new RegExp("[~\\*/\\[\\]]");function Dy(e,t,n){if(t.search(fj)>=0)throw Ff("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new($r.bind.apply($r,bt([void 0],t.split("."))))()._internalPath}catch{throw Ff("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Ff(e,t,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new X(D.INVALID_ARGUMENT,(l+=". ")+e+f)}function nk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ec=function(){function e(t,n,i,o,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Tt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new hj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(jf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),hj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ec);function jf(e,t){return typeof t=="string"?Dy(e,t):t instanceof $r?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),si=function(e){function t(n,i,o,u,a,l){var f=this;return(f=e.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Te(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Aa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(jf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(ec),Aa=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(si),Di=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new No(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Aa(i._firestore,i._userDataWriter,o.key,o,new No(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Aa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new No(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Aa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new No(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:dj(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function dj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function rk(e,t){return e instanceof si&&t instanceof si?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Di&&t instanceof Di&&e._firestore===t._firestore&&GA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(e){if(xf(e)&&e.explicitOrderBy.length===0)throw new X(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tc=function(){};function Si(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var u=o[i];e=u._apply(e)}return e}var pj=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Te(t,e),t.prototype._apply=function(n){var i=Jo(n.firestore),o=function(u,a,l,f,d,p,v){var m;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new X(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){SE(v,p);for(var b=[],_=0,T=v;_<T.length;_++){var S=T[_];b.push(TE(f,u,S))}m={arrayValue:{values:b}}}else m=TE(f,u,v)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||SE(v,p),m=ZA(l,"where",v,p==="in"||p==="not-in");var R=Zn.create(d,p,m);return function(O,F){if(F.g()){var B=ty(O);if(B!==null&&!B.isEqual(F.field))throw new X(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+B.toString()+"' and '"+F.field.toString()+"'");var te=ey(O);te!==null&&sk(O,F.field,te)}var U=function(we,z){for(var ie=0,k=we.filters;ie<k.length;ie++){var We=k[ie];if(z.indexOf(We.op)>=0)return We.op}return null}(O,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(U!==null)throw U===F.op?new X(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+F.op.toString()+"' filter."):new X(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+F.op.toString()+"' filters with '"+U.toString()+"' filters.")}(u,R),R}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new tr(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new fi(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},t}(Tc),gj=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Te(t,e),t.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new X(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new X(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Us(u,a);return function(f,d){if(ey(f)===null){var p=ty(f);p!==null&&sk(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new tr(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new fi(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Tc),_E=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Te(t,e),t.prototype._apply=function(n){return new tr(n.firestore,n.converter,DS(n._query,this.Hc,this.Jc))},t}(Tc),EE=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Te(t,e),t.prototype._apply=function(n){var i=ok(n,this.type,this.Yc,this.Xc);return new tr(n.firestore,n.converter,function(o,u){return new fi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},t}(Tc),IE=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Te(t,e),t.prototype._apply=function(n){var i=ok(n,this.type,this.Yc,this.Xc);return new tr(n.firestore,n.converter,function(o,u){return new fi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},t}(Tc);function ok(e,t,n,i){if(n[0]=at(n[0]),n[0]instanceof ec)return function(u,a,l,f,d){if(!f)throw new X(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],v=0,m=Js(u);v<m.length;v++){var b=m[v];if(b.field.isKeyField())p.push(Sf(a,f.key));else{var _=f.data.field(b.field);if(Qm(_))throw new X(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=b.field.canonicalString();throw new X(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(_)}}return new Wa(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=Jo(e.firestore);return function(u,a,l,f,d,p){var v=u.explicitOrderBy;if(d.length>v.length)throw new X(D.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],b=0;b<d.length;b++){var _=d[b];if(v[b].field.isKeyField()){if(typeof _!="string")throw new X(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!ny(u)&&_.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=u.path.child(tt.fromString(_));if(!_e.isDocumentKey(T))throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var S=new _e(T);m.push(Sf(a,S))}else{var R=ZA(l,f,_);m.push(R)}}return new Wa(m,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function TE(e,t,n){if(typeof(n=at(n))=="string"){if(n==="")throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ny(t)&&n.indexOf("/")!==-1)throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(tt.fromString(n));if(!_e.isDocumentKey(i))throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Sf(e,new _e(i))}if(n instanceof Tt)return Sf(e,n._key);throw new X(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ch(n)+".")}function SE(e,t){if(!Array.isArray(e)||e.length===0)throw new X(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new X(D.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function sk(e,t,n){if(!n.isEqual(t))throw new X(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ly=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Bo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Dt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ys(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Go(t.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Rh(Dt(t.latitude),Dt(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=NS(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(za(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=$i(t);return new Mn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=tt.fromString(t);xe(rA(i));var o=new Mf(i.get(1),i.get(3)),u=new _e(i.popFirst(5));return o.isEqual(n)||Lt("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var vj=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Ho(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,i)},t}(Ly),mj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jo(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Li(t,this._firestore),u=Ph(o.converter,n,i),a=Oh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,ln.none())),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Li(t,this._firestore);return a=typeof(n=at(n))=="string"||n instanceof $r?Oy(this._dataReader,"WriteBatch.update",l._key,n,i,o):Ry(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,ln.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Li(t,this._firestore);return this._mutations=this._mutations.concat(new Ec(n._key,ln.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new X(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(e,t){if((e=at(e)).firestore!==t)throw new X(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Do=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new Ho(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Tt(this.firestore,null,i)},t}(Ly);function AE(e,t,n){e=nt(e,Tt);var i=nt(e.firestore,$t),o=Ph(e.converter,t,n);return Sc(i,[Oh(Jo(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,ln.none())])}function kE(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=nt(e,Tt);var u=nt(e.firestore,$t),a=Jo(u);return Sc(u,[(typeof(t=at(t))=="string"||t instanceof $r?Oy(a,"updateDoc",e._key,t,n,i):Ry(a,"updateDoc",e._key,t)).toMutation(e._key,ln.exists(!0))])}function uk(e){for(var t,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];e=at(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||cu(o[l])||(a=o[l],l++);var f,d,p,v={includeMetadataChanges:a.includeMetadataChanges};if(cu(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}if(e instanceof Tt)d=nt(e.firestore,$t),p=mc(e._key.path),f={next:function(T){o[l]&&o[l](Fv(d,e,T))},error:o[l+1],complete:o[l+2]};else{var b=nt(e,tr);d=nt(b.firestore,$t),p=b._query;var _=new Do(d);f={next:function(T){o[l]&&o[l](new Di(d,_,b,T))},error:o[l+1],complete:o[l+2]},ik(e._query)}return function(T,S,R,O){var F=this,B=new xh(O),te=new by(S,B,R);return T.asyncQueue.enqueueAndForget(function(){return H(F,void 0,void 0,function(){var U;return q(this,function(we){switch(we.label){case 0:return U=my,[4,au(T)];case 1:return[2,U.apply(void 0,[we.sent(),te])]}})})}),function(){B.Wo(),T.asyncQueue.enqueueAndForget(function(){return H(F,void 0,void 0,function(){var U;return q(this,function(we){switch(we.label){case 0:return U=yy,[4,au(T)];case 1:return[2,U.apply(void 0,[we.sent(),te])]}})})})}}(an(d),p,v,f)}function Sc(e,t){return function(n,i){var o=this,u=new Un;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return q(this,function(l){switch(l.label){case 0:return a=OF,[4,qA(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(an(e),t)}function Fv(e,t,n){var i=n.docs.get(t._key),o=new Do(e);return new si(e,o,t._key,i,new No(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yj=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Te(t,e),t.prototype.get=function(n){var i=this,o=Li(n,this._firestore),u=new Do(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new si(i._firestore,u,o._key,a._document,new No(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Jo(t)}return e.prototype.get=function(t){var n=this,i=Li(t,this._firestore),o=new vj(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return ye();var a=u[0];if(a.isFoundDocument())return new ec(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new ec(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=Li(t,this._firestore),u=Ph(o.converter,n,i),a=Oh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Li(t,this._firestore);return a=typeof(n=at(n))=="string"||n instanceof $r?Oy(this._dataReader,"Transaction.update",l._key,n,i,o):Ry(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Li(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){if(typeof Uint8Array>"u")throw new X(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function NE(){if(typeof atob>"u")throw new X(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ak=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return NE(),new e(Ho.fromBase64String(t))},e.fromUint8Array=function(t){return xE(),new e(Ho.fromUint8Array(t))},e.prototype.toBase64=function(){return NE(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return xE(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),wj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){bE(i=nt(i,$t));var u=an(i),a=i._freezeSettings(),l=new Lv;return wE(u,l,new jA(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){bE(n=nt(n,$t));var i=an(n),o=n._freezeSettings(),u=new Lv;return wE(i,u,new GF(u,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new X(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Un;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var u;return q(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return ru.yt()?(f=l+"main",[4,ru.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(fy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),ck=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Mf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||If("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=nt(o,Za))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&If("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var p,v;if(typeof l.mockUserToken=="string")p=l.mockUserToken,v=Yt.MOCK_USER;else{p=vT(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new X(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Yt(m)}o._credentials=new JF(new $A(p,v))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:return[4,cE(t)];case 1:return i=u.sent(),[4,lE(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=se(a);return l.Or.delete(0),Ic(l)}(o))]}})})})}(an(nt(this._delegate,$t)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:return[4,cE(t)];case 1:return i=u.sent(),[4,lE(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return q(this,function(f){switch(f.label){case 0:return(l=se(a)).Or.add(0),[4,wu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(an(nt(this._delegate,$t)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&HA("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new Un;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return q(this,function(u){switch(u.label){case 0:return o=MF,[4,qA(t)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(an(nt(this._delegate,$t)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,u){var a=this,l=new xh(u);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return f=function(p,v){se(p).Gr.add(v),v.next()},[4,au(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return f=function(p,v){se(p).Gr.delete(v)},[4,au(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(an(n=nt(n,$t)),cu(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new X(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Uf(this,KA(this._delegate,t))}catch(n){throw yn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Lo(this,sf(this._delegate,t))}catch(n){throw yn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Mh(this,function(n,i){if(n=nt(n,Za),xy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new X(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new tr(n,null,function(o){return new fi(tt.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw yn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(u,a){var l=this,f=new Un;return u.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return q(this,function(p){switch(p.label){case 0:return[4,function(v){return Nh(v).then(function(m){return m.datastore})}(u)];case 1:return d=p.sent(),new XF(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(an(i),function(u){return o(new yj(i,u))})}(this._delegate,function(i){return t(new lk(n,i))})},e.prototype.batch=function(){var t=this;return an(this._delegate),new fk(new mj(this._delegate,function(n){return Sc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new X(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new X(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Dh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Te(t,e),t.prototype.convertBytes=function(n){return new ak(new Ho(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Lo.eu(i,this.firestore,null)},t}(Ly);function bj(e){var t;t=e,Ir.setLogLevel(t)}var lk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Dh(t)}return e.prototype.get=function(t){var n=this,i=Co(t);return this._delegate.get(i).then(function(o){return new tc(n._firestore,new si(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Co(t);return i?(Ny("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Co(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,bt([l,n,i],u)),this},e.prototype.delete=function(t){var n=Co(t);return this._delegate.delete(n),this},e}(),fk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Co(t);return i?(Ny("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Co(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,bt([l,n,i],u)),this},e.prototype.delete=function(t){var n=Co(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Lh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Aa(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new nc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var u=o.get(n);return u||(u=new e(t,new Dh(t),n),o.set(n,u)),u},e}();Lh.su=new WeakMap;var Lo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Dh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new X(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Tt(n._delegate,i,new _e(t)))},e.eu=function(t,n,i){return new e(n,new Tt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Uf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Uf(this.firestore,KA(this._delegate,t))}catch(n){throw yn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=at(t))instanceof Tt&&zA(this._delegate,t)},e.prototype.set=function(t,n){n=Ny("DocumentReference.set",n);try{return n?AE(this._delegate,t,n):AE(this._delegate,t)}catch(i){throw yn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?kE(this._delegate,t):kE.apply(void 0,bt([this._delegate,t,n],i))}catch(u){throw yn(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Sc(nt((t=this._delegate).firestore,$t),[new Ec(t._key,ln.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=hk(n),u=dk(n,function(a){return new tc(t.firestore,new si(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return uk(this._delegate,o,u)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=nt(i,Tt);var o=nt(i.firestore,$t),u=an(o),a=new Do(o);return function(l,f){var d=this,p=new Un;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var v;return q(this,function(m){switch(m.label){case 0:return v=function(b,_,T){return H(this,void 0,void 0,function(){var S,R;return q(this,function(O){switch(O.label){case 0:return O.trys.push([0,2,,3]),[4,function(F,B){var te=se(F);return te.persistence.runTransaction("read document","readonly",function(U){return te.Mn.mn(U,B)})}(b,_)];case 1:return(R=O.sent()).isFoundDocument()?T.resolve(R):R.isNoDocument()?T.resolve(null):T.reject(new X(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=O.sent(),R=Eu(S,"Failed to get document '"+_+" from cache"),T.reject(R),[3,3];case 3:return[2]}})})},[4,BA(l)];case 1:return[2,v.apply(void 0,[m.sent(),f,p])]}})})}),p.promise}(u,i._key).then(function(l){return new si(o,a,i._key,l,new No(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=nt(i,Tt);var o=nt(i.firestore,$t);return fE(an(o),i._key,{source:"server"}).then(function(u){return Fv(o,i,u)})}(this._delegate):function(i){i=nt(i,Tt);var o=nt(i.firestore,$t);return fE(an(o),i._key).then(function(u){return Fv(o,i,u)})}(this._delegate)).then(function(i){return new tc(n.firestore,new si(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Lh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function yn(e,t,n){return e.message=e.message.replace(t,n),e}function hk(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!cu(i))return i}return{}}function dk(e,t){var n,i,o;return{next:function(u){o.next&&o.next(t(u))},error:(n=(o=cu(e[0])?e[0]:cu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var tc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Lo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return rk(this._delegate,t._delegate)},e}(),nc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Te(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(tc),Mh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Dh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,Si(this._delegate,function(o,u,a){var l=u,f=jf("where",o);return new pj(f,l,a)}(t,n,i)))}catch(o){throw yn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Si(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=jf("orderBy",i);return new gj(a,u)}(t,n)))}catch(i){throw yn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Si(this._delegate,function(n){return mE("limit",n),new _E("limit",n,"F")}(t)))}catch(n){throw yn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Si(this._delegate,function(n){return mE("limitToLast",n),new _E("limitToLast",n,"L")}(t)))}catch(n){throw yn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Si(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new EE("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw yn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Si(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new EE("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw yn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Si(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new IE("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw yn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Si(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new IE("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw yn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return GA(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=nt(i,tr);var o=nt(i.firestore,$t),u=an(o),a=new Do(o);return function(l,f){var d=this,p=new Un;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var v;return q(this,function(m){switch(m.label){case 0:return v=function(b,_,T){return H(this,void 0,void 0,function(){var S,R,O,F,B;return q(this,function(te){switch(te.label){case 0:return te.trys.push([0,2,,3]),[4,Pf(b,_,!0)];case 1:return B=te.sent(),S=new PA(_,B.Bn),R=S._o(B.documents),O=S.applyChanges(R,!1),T.resolve(O.snapshot),[3,3];case 2:return F=te.sent(),B=Eu(F,"Failed to execute query '"+_+" against cache"),T.reject(B),[3,3];case 3:return[2]}})})},[4,BA(l)];case 1:return[2,v.apply(void 0,[m.sent(),f,p])]}})})}),p.promise}(u,i._query).then(function(l){return new Di(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=nt(i,tr);var o=nt(i.firestore,$t),u=an(o),a=new Do(o);return hE(u,i._query,{source:"server"}).then(function(l){return new Di(o,a,i,l)})}(this._delegate):function(i){i=nt(i,tr);var o=nt(i.firestore,$t),u=an(o),a=new Do(o);return ik(i._query),hE(u,i._query).then(function(l){return new Di(o,a,i,l)})}(this._delegate)).then(function(i){return new jv(n.firestore,new Di(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=hk(n),u=dk(n,function(a){return new jv(t.firestore,new Di(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return uk(this._delegate,o,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Lh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),_j=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new nc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),jv=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Mh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new nc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new _j(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new nc(i._firestore,o))})},e.prototype.isEqual=function(t){return rk(this._delegate,t._delegate)},e}(),Uf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Te(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Lo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Lo(this.firestore,n===void 0?sf(this._delegate):sf(this._delegate,n))}catch(i){throw yn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,u){var a=nt(o.firestore,$t),l=sf(o),f=Ph(o.converter,u);return Sc(a,[Oh(Jo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,ln.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Lo(i.firestore,o)})},t.prototype.isEqual=function(n){return zA(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Lh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Mh);function Co(e){return nt(e,Tt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ej=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new($r.bind.apply($r,bt([void 0],t)))}return e.documentId=function(){return new e(Ar.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=at(t))instanceof $r&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),Ij=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new uj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Cy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new aj("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new cj("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new lj("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),Tj={Firestore:ck,GeoPoint:Rh,Timestamp:Mn,Blob:ak,Transaction:lk,WriteBatch:fk,DocumentReference:Lo,DocumentSnapshot:tc,Query:Mh,QueryDocumentSnapshot:nc,QuerySnapshot:jv,CollectionReference:Uf,FieldPath:Ej,FieldValue:Ij,setLogLevel:bj,CACHE_SIZE_UNLIMITED:rj};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(e){(function(t,n){t.INTERNAL.registerComponent(new sc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Tj)))})(e,function(t,n){return new ck(t,new $t(t,n),new wj)}),e.registerVersion("@firebase/firestore","2.4.1")}Sj(Se);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pk="firebasestorage.googleapis.com",gk="storageBucket",Aj=2*60*1e3,kj=10*60*1e3,Ut=function(e){Te(t,e);function t(n,i){var o=e.call(this,Bg(n),"Firebase Storage: "+i+" ("+Bg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Bg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(yT);function Bg(e){return"storage/"+e}function My(){var e="An unknown error occurred, please check the error payload for server response.";return new Ut("unknown",e)}function xj(e){return new Ut("object-not-found","Object '"+e+"' does not exist.")}function Nj(e){return new Ut("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Cj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut("unauthenticated",e)}function Rj(){return new Ut("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function Oj(e){return new Ut("unauthorized","User does not have permission to access '"+e+"'.")}function Pj(){return new Ut("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function vk(){return new Ut("canceled","User canceled the upload/download.")}function Dj(e){return new Ut("invalid-url","Invalid URL '"+e+"'.")}function Lj(e){return new Ut("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Mj(){return new Ut("no-default-bucket","No default bucket found. Did you set the '"+gk+"' property when initializing the app?")}function mk(){return new Ut("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Fj(){return new Ut("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function jj(){return new Ut("no-download-url","The given file does not have any download URLs.")}function Vs(e){return new Ut("invalid-argument",e)}function yk(){return new Ut("app-deleted","The Firebase app was deleted.")}function wk(e){return new Ut("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ka(e,t){return new Ut("invalid-format","String does not match format '"+e+"': "+t)}function Hl(e){throw new Ut("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},qg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function bk(e,t){switch(e){case cr.RAW:return new qg(_k(t));case cr.BASE64:case cr.BASE64URL:return new qg(Ek(e,t));case cr.DATA_URL:return new qg(Bj(t),qj(t))}throw My()}function _k(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var u=i,a=e.charCodeAt(++n);i=65536|(u&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function Vj(e){var t;try{t=decodeURIComponent(e)}catch{throw ka(cr.DATA_URL,"Malformed data URL.")}return _k(t)}function Ek(e,t){switch(e){case cr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw ka(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case cr.BASE64URL:{var u=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(u||a){var o=u?"+":"/";throw ka(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=Uj(t)}catch{throw ka(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var Ik=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw ka(cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=$j(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Bj(e){var t=new Ik(e);return t.base64?Ek(cr.BASE64,t.rest):Vj(t.rest)}function qj(e){var t=new Ik(e);return t.contentType}function $j(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hj={STATE_CHANGED:"state_changed"},wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function $g(e){switch(e){case"running":case"pausing":case"canceling":return wn.RUNNING;case"paused":return wn.PAUSED;case"success":return wn.SUCCESS;case"canceled":return wn.CANCELED;case"error":return wn.ERROR;default:return wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Mo||(Mo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Mo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Mo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Mo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Hl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Hl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Hl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function zj(){return new Kj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gj=function(){function e(){}return e.prototype.createConnection=function(){return zj()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw Lj(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(ie){ie.path_=decodeURIComponent(ie.path)}for(var p="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",b=new RegExp("^https?://"+v+"/"+p+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},T=n===pk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",R=new RegExp("^https?://"+T+"/"+o+"/"+S,"i"),O={bucket:1,path:2},F=[{regex:l,indices:f,postModify:u},{regex:b,indices:_,postModify:d},{regex:R,indices:O,postModify:d}],B=0;B<F.length;B++){var te=F[B],U=te.regex.exec(t);if(U){var we=U[te.indices.bucket],z=U[te.indices.path];z||(z=""),i=new e(we,z),te.postModify(i);break}}if(i==null)throw Dj(t);return i},e}(),Wj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(e,t,n){var i=1,o=null,u=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(v,l())},_)}function v(_){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,bt([null,_],T));return}var R=l()||u;if(R){d.call.apply(d,bt([null,_],T));return}i<64&&(i*=2);var O;a===1?(a=2,O=0):O=(i+Math.random())*1e3,p(O)}}var m=!1;function b(_){m||(m=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){u=!0,b(!0)},n),b}function Yj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(e){return e!==void 0}function Jj(e){return typeof e=="function"}function Zj(e){return typeof e=="object"&&!Array.isArray(e)}function Fh(e){return typeof e=="string"||e instanceof String}function CE(e){return Fy()&&e instanceof Blob}function Fy(){return typeof Blob<"u"}function Uv(e,t,n,i){if(i<t)throw Vs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw Vs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function Tk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eU=function(){function e(t,n,i,o,u,a,l,f,d,p,v){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=v,this.promise_=new Promise(function(b,_){m.resolve_=b,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,u){if(u){o(!1,new Kl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Mo.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===Mo.ABORT;o(!1,new Kl(!1,null,p));return}var v=t.successCodes_.indexOf(d)!==-1;o(!0,new Kl(v,a))})}function i(o,u){var a=t.resolve_,l=t.reject_,f=u.connection;if(u.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());Qj(d)?a(d):a()}catch(v){l(v)}else if(f!==null){var p=My();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(u.canceled){var p=t.appDelete_?yk():vk();l(p)}else{var p=Pj();l(p)}}this.canceled_?i(!1,new Kl(!1,null,!0)):this.backoffId_=Xj(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Yj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,u=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||u},e}(),Kl=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function tU(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function nU(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function rU(e,t){t&&(e["X-Firebase-GMPID"]=t)}function iU(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function oU(e,t,n,i,o,u){var a=Tk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return rU(f,t),tU(f,n),nU(f,u),iU(f,i),new eU(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=sU();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(Fy())return new Blob(e);throw new Ut("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function aU(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jy=function(){function e(t,n){var i=0,o="";CE(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(CE(this.data_)){var i=this.data_,o=aU(i,t,n);return o===null?null:new e(o)}else{var u=new Uint8Array(this.data_.buffer,t,n-t);return new e(u,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Fy()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(uU.apply(null,i))}else{var o=t.map(function(f){return Fh(f)?bk(cr.RAW,f).data:f.data_}),u=0;o.forEach(function(f){u+=f.byteLength});var a=new Uint8Array(u),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(e){var t;try{t=JSON.parse(e)}catch{return null}return Zj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function lU(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function Sk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(e,t){return t}var vn=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||fU}return e}(),zl=null;function hU(e){return!Fh(e)||e.length<2?e:Sk(e)}function jh(){if(zl)return zl;var e=[];e.push(new vn("bucket")),e.push(new vn("generation")),e.push(new vn("metageneration")),e.push(new vn("name","fullPath",!0));function t(u,a){return hU(a)}var n=new vn("name");n.xform=t,e.push(n);function i(u,a){return a!==void 0?Number(a):a}var o=new vn("size");return o.xform=i,e.push(o),e.push(new vn("timeCreated")),e.push(new vn("updated")),e.push(new vn("md5Hash",null,!0)),e.push(new vn("cacheControl",null,!0)),e.push(new vn("contentDisposition",null,!0)),e.push(new vn("contentEncoding",null,!0)),e.push(new vn("contentLanguage",null,!0)),e.push(new vn("contentType",null,!0)),e.push(new vn("metadata","customMetadata",!0)),zl=e,zl}function dU(e,t){function n(){var i=e.bucket,o=e.fullPath,u=new lr(i,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function pU(e,t,n){var i={};i.type="file";for(var o=n.length,u=0;u<o;u++){var a=n[u];i[a.local]=a.xform(i,t[a.server])}return dU(i,e),i}function Ak(e,t,n){var i=Uy(t);if(i===null)return null;var o=i;return pU(e,o,n)}function gU(e,t,n){var i=Uy(t);if(i===null||!Fh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var u=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,v="/b/"+u(d)+"/o/"+u(p),m=Qi(v,n),b=Tk({alt:"media",token:f});return m+b});return l[0]}function Vy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RE="prefixes",OE="items";function vU(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[RE])for(var o=0,u=n[RE];o<u.length;o++){var a=u[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new lr(t,l));i.prefixes.push(f)}if(n[OE])for(var d=0,p=n[OE];d<p.length;d++){var v=p[d],f=e._makeStorageReference(new lr(t,v.name));i.items.push(f)}return i}function mU(e,t,n){var i=Uy(n);if(i===null)return null;var o=i;return vU(e,t,o)}var hi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(e){if(!e)throw My()}function Uh(e,t){function n(i,o){var u=Ak(e,o,t);return Hr(u!==null),u}return n}function yU(e,t){function n(i,o){var u=mU(e,t,o);return Hr(u!==null),u}return n}function wU(e,t){function n(i,o){var u=Ak(e,o,t);return Hr(u!==null),gU(u,o,e.host)}return n}function Iu(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=Rj():o=Cj():n.getStatus()===402?o=Nj(e.bucket):n.getStatus()===403?o=Oj(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Vh(e){var t=Iu(e);function n(i,o){var u=t(i,o);return i.getStatus()===404&&(u=xj(e.path)),u.serverResponse=o.serverResponse,u}return n}function kk(e,t,n){var i=t.fullServerUrl(),o=Qi(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new hi(o,u,Uh(e,n),a);return l.errorHandler=Vh(t),l}function bU(e,t,n,i,o){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Qi(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new hi(l,f,yU(e,t.bucket),d);return p.urlParams=u,p.errorHandler=Iu(t),p}function _U(e,t,n){var i=t.fullServerUrl(),o=Qi(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new hi(o,u,wU(e,n),a);return l.errorHandler=Vh(t),l}function EU(e,t,n,i){var o=t.fullServerUrl(),u=Qi(o,e.host),a="PATCH",l=Vy(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new hi(u,a,Uh(e,i),d);return p.headers=f,p.body=l,p.errorHandler=Vh(t),p}function IU(e,t){var n=t.fullServerUrl(),i=Qi(n,e.host),o="DELETE",u=e.maxOperationRetryTime;function a(f,d){}var l=new hi(i,o,a,u);return l.successCodes=[200,204],l.errorHandler=Vh(t),l}function TU(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function xk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=TU(null,t)),i}function SU(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var F="",B=0;B<2;B++)F=F+Math.random().toString().slice(2);return F}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=xk(t,i,o),p=Vy(d,n),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,m=`\r
--`+f+"--",b=jy.getBlob(v,i,m);if(b===null)throw mk();var _={name:d.fullPath},T=Qi(u,e.host),S="POST",R=e.maxUploadRetryTime,O=new hi(T,S,Uh(e,n),R);return O.urlParams=_,O.headers=a,O.body=b.uploadData(),O.errorHandler=Iu(t),O}var Vf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function By(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Hr(!1)}var i=t||["active"];return Hr(!!n&&i.indexOf(n)!==-1),n}function AU(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a=xk(t,i,o),l={name:a.fullPath},f=Qi(u,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},v=Vy(a,n),m=e.maxUploadRetryTime;function b(T){By(T);var S;try{S=T.getResponseHeader("X-Goog-Upload-URL")}catch{Hr(!1)}return Hr(Fh(S)),S}var _=new hi(f,d,b,m);return _.urlParams=l,_.headers=p,_.body=v,_.errorHandler=Iu(t),_}function kU(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function u(d){var p=By(d,["active","final"]),v=null;try{v=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hr(!1)}v||Hr(!1);var m=Number(v);return Hr(!isNaN(m)),new Vf(m,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new hi(n,a,u,l);return f.headers=o,f.errorHandler=Iu(t),f}var PE=256*1024;function xU(e,t,n,i,o,u,a,l){var f=new Vf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw Fj();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var v=f.current,m=v+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},T=i.slice(v,m);if(T===null)throw mk();function S(B,te){var U=By(B,["active","final"]),we=f.current+p,z=i.size(),ie;return U==="final"?ie=Uh(t,u)(B,te):ie=null,new Vf(we,z,U==="final",ie)}var R="POST",O=t.maxUploadRetryTime,F=new hi(n,R,S,O);return F.headers=_,F.body=T.uploadData(),F.progressCallback=l||null,F.errorHandler=Iu(e),F}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NU=function(){function e(t,n,i){var o=Jj(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=jh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){o._request=void 0,o._chunkMultiplier=1,u._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=u,o._transition("error"))},this._metadataErrorHandler=function(u){o._request=void 0,u._codeEquals("canceled")?o.completeTransitions_():(o._error=u,o._transition("error"))},this._promise=new Promise(function(u,a){o._resolve=u,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],u=i[1];switch(n._state){case"running":t(o,u);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=AU(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var u=kU(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(u,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=PE*this._chunkMultiplier,i=new Vf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(u,a){var l;try{l=xU(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,u,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=PE*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=kk(t._ref.storage,t._ref._location,t._mappings),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=SU(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=vk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=$g(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var u=this,a=new NU(n,i,o);return this._addObserver(a),function(){u._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch($g(this._state)){case wn.SUCCESS:ks(this._resolve.bind(null,this.snapshot))();break;case wn.CANCELED:case wn.ERROR:var n=this._reject;ks(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=$g(this._state);switch(n){case wn.RUNNING:case wn.PAUSED:t.next&&ks(t.next.bind(t,this.snapshot))();break;case wn.SUCCESS:t.complete&&ks(t.complete.bind(t))();break;case wn.CANCELED:case wn.ERROR:t.error&&ks(t.error.bind(t,this._error))();break;default:t.error&&ks(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bh=function(){function e(t,n){this._service=t,n instanceof lr?this._location=n:this._location=lr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new lr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Sk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=cU(this._location.path);if(t===null)return null;var n=new lr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw wk(t)},e}();function CU(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Nk(e,new jy(t),n)}function RU(e){var t={prefixes:[],items:[]};return Ck(e,t).then(function(){return t})}function Ck(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return q(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Rk(e,i)];case 1:return o=l.sent(),(u=t.prefixes).push.apply(u,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Ck(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Rk(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Uv("options.maxResults",1,1e3,t.maxResults),n=t||{},i=bU(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function OU(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=kk(e.storage,e._location,jh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function PU(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=EU(e.storage,e._location,t,jh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function DU(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=_U(e.storage,e._location,jh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw jj();return i})]}})})}function LU(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=IU(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Ok(e,t){var n=lU(e._location.path,t),i=new lr(e._location.bucket,n);return new Bh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(e){return/^[A-Za-z]+:\/\//.test(e)}function MU(e,t){return new Bh(e,t)}function Pk(e,t){if(e instanceof qh){var n=e;if(n._bucket==null)throw Mj();var i=new Bh(n,n._bucket);return t!=null?Pk(i,t):i}else return t!==void 0?Ok(e,t):e}function FU(e,t){if(t&&Vv(t)){if(e instanceof qh)return MU(e,t);throw Vs("To use ref(service, url), the first argument must be a Storage instance.")}else return Pk(e,t)}function DE(e,t){var n=t==null?void 0:t[gk];return n==null?null:lr.makeFromBucketSpec(n,e)}function jU(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:vT(o,e.app.options.projectId))}var qh=function(){function e(t,n,i,o,u,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=u,this._firebaseVersion=a,this._bucket=null,this._host=pk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Aj,this._maxUploadRetryTime=kj,this._requests=new Set,u!=null?this._bucket=lr.makeFromBucketSpec(u,this._host):this._bucket=DE(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=lr.makeFromBucketSpec(this._url,t):this._bucket=DE(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Uv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Uv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Bh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new Wj(yk());var u=oU(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return o._requests.delete(u)},function(){return o._requests.delete(u)}),u},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=u.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UU(e,t,n){return e=at(e),CU(e,t,n)}function VU(e){return e=at(e),OU(e)}function BU(e,t){return e=at(e),PU(e,t)}function qU(e,t){return e=at(e),Rk(e,t)}function $U(e){return e=at(e),RU(e)}function HU(e){return e=at(e),DU(e)}function KU(e){return e=at(e),LU(e)}function LE(e,t){return e=at(e),FU(e,t)}function zU(e,t){return Ok(e,t)}function GU(e,t,n,i){i===void 0&&(i={}),jU(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gl=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ME=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Gl(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new Gl(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var u=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Gl(l,u,u._ref))}:a={next:n.next?function(l){return n.next(new Gl(l,u,u._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),FE=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new rc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new rc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=zU(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new ME(UU(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=cr.RAW),this._throwIfRoot("putString");var o=bk(n,t),u=Ks({},i);return u.contentType==null&&o.contentType!=null&&(u.contentType=o.contentType),new ME(new Nk(this._delegate,new jy(o.data,!0),u),this)},e.prototype.listAll=function(){var t=this;return $U(this._delegate).then(function(n){return new FE(n,t.storage)})},e.prototype.list=function(t){var n=this;return qU(this._delegate,t||void 0).then(function(i){return new FE(i,n.storage)})},e.prototype.getMetadata=function(){return VU(this._delegate)},e.prototype.updateMetadata=function(t){return BU(this._delegate,t)},e.prototype.getDownloadURL=function(){return HU(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),KU(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw wk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WU=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Vv(t))throw Vs("ref() expected a child path but got a URL, use refFromURL instead.");return new rc(LE(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Vv(t))throw Vs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{lr.makeFromUrl(t,this._delegate.host)}catch{throw Vs("refFromUrl() expected a valid full URL but got an invalid one.")}return new rc(LE(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),GU(this._delegate,t,n,i)},e}(),XU="@firebase/storage",YU="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QU="storage";function JU(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal"),a=new WU(i,new qh(i,o,u,new Gj,n,Se.SDK_VERSION));return a}function ZU(e){var t={TaskState:wn,TaskEvent:Hj,StringFormat:cr,Storage:qh,Reference:rc};e.INTERNAL.registerComponent(new sc(QU,JU,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(XU,YU)}ZU(Se);const eV={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};Se.initializeApp(eV);const ri=Se.auth(),tV=Se.firestore(),nV=Se.storage(),rV=tV.collection("users"),Ac=bm("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await ri.createUserWithEmailAndPassword(e.email,e.password),n={name:e.name,email:e.email,birthdate:e.birthdate,country:e.country,phone:e.phone};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]===null||n[i]==="")&&delete n[i]}),await rV.doc(t.user.uid).set({userData:n}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await ri.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await ri.signOut(),this.userLoggedIn=!1}}}),xr=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},iV={name:"AppHeader",computed:{...MD(hf,Ac),...Em(hf,["isOpen"])},methods:{toggleAuthModal(){this.isOpen=!this.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},oV={id:"header",class:"fixed top-0 z-20 w-full font-circular-black bg-neutral-900"},sV={class:"flex items-center justify-between py-5 px-10"},uV={class:"flex flex-row gap-2 items-center text-white text-sm"},aV={class:"md:hover:scale-105"},cV=M("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[M("path",{fill:"#1ED760","fill-rule":"evenodd",d:"M19.0983701,10.6382791 C15.230178,8.34118115 8.85003755,8.12986439 5.15729493,9.25058527 C4.56433588,9.43062856 3.93727638,9.09580812 3.75758647,8.50284907 C3.57789655,7.90953664 3.91236362,7.28283051 4.50585273,7.10261054 C8.74455585,5.81598127 15.7909802,6.06440214 20.2440037,8.70780512 C20.7774195,9.02442687 20.9525156,9.71332656 20.6362472,10.2456822 C20.3198021,10.779098 19.6305491,10.9549008 19.0983701,10.6382791 M18.971686,14.0407262 C18.7004726,14.4810283 18.1246521,14.6190203 17.6848801,14.3486903 C14.4600027,12.3664473 9.54264764,11.792217 5.72728477,12.9503953 C5.23256328,13.0998719 4.70992535,12.8208843 4.55974204,12.3270462 C4.41061884,11.8323247 4.68978312,11.3107469 5.18362118,11.1602103 C9.5419409,9.83771368 14.9600247,10.4782013 18.6638986,12.7544503 C19.1036707,13.0253103 19.242016,13.6013075 18.971686,14.0407262 M17.5034233,17.308185 C17.2876894,17.6617342 16.827245,17.7725165 16.4749326,17.5571359 C13.6571403,15.8347984 10.1101639,15.4459119 5.93312425,16.4000177 C5.53063298,16.4922479 5.12937851,16.2399399 5.03767834,15.8376253 C4.94544812,15.4351341 5.19669597,15.0338796 5.60024736,14.9420027 C10.1712973,13.8970803 14.0923186,14.3467468 17.2551791,16.2796943 C17.6078449,16.4948982 17.7189805,16.9556959 17.5034233,17.308185 M12,0 C5.37267547,0 0,5.37249879 0,11.9998233 C0,18.6278546 5.37267547,24 12,24 C18.6275012,24 24,18.6278546 24,11.9998233 C24,5.37249879 18.6275012,0 12,0"})],-1),lV=M("span",{class:"hidden md:block"},"About",-1),fV={class:"md:hover:scale-105"},hV=M("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),dV={class:"md:hover:scale-105"},pV=M("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),gV=M("span",{class:"hidden md:block"},"Login/Register",-1),vV=[pV,gV],mV=M("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),yV=M("span",{class:"hidden md:block"},"Logout",-1),wV=[mV,yV],bV=M("div",null,null,-1),_V=M("li",{class:"md:hover:scale-105"},[M("a",{class:"",href:"https://www.spotify.com/es/download/",target:"_blank"},[M("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[M("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1);function EV(e,t,n,i,o,u){const a=Sn("RouterLink");return Mt(),Jt("header",oV,[M("nav",sV,[Le(a,{class:"text-[#1ed760] font-circular-regular text-2xl justify-center hover:scale-105",to:{name:"home"},"exact-active-class":"no-active"},{default:Br(()=>[nr(" Musicfy ")]),_:1}),M("ul",uV,[M("li",aV,[Le(a,{class:"flex items-center gap-1",to:{name:"about"}},{default:Br(()=>[cV,lV]),_:1})]),dP(M("li",fV,[Le(a,{class:"",to:{name:"manage"}},{default:Br(()=>[hV]),_:1})],512),[[ID,e.userStore.userLoggedIn]]),M("li",dV,[e.userStore.userLoggedIn?(Mt(),Jt("a",{key:1,class:"flex gap-1 items-center",href:"#",onClick:t[1]||(t[1]=Wn(l=>u.signOut(),["prevent"]))},wV)):(Mt(),Jt("a",{key:0,class:"flex items-center",href:"#",onClick:t[0]||(t[0]=Wn((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"]))},vV)),bV]),_V])])])}const IV=xr(iV,[["render",EV]]),TV={name:"LoginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},togglePassword:!1,login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Your account is being created. "}},methods:{...uh(Ac,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.login_alert_variant="bg-[#1ed760]",this.login_alert_msg="Success! Login completed.",window.location.reload()}}},SV={class:"mb-3"},AV=M("label",{class:"inline-block mb-2"},"Email",-1),kV={class:"mb-3"},xV=M("label",{class:"inline-block mb-2"},"Password",-1),NV={class:"flex items-center"},CV=["type"],RV=["disabled"];function OV(e,t,n,i,o,u){const a=Sn("VeeField"),l=Sn("ErrorMessage"),f=Sn("VeeForm");return Mt(),Jt(Xn,null,[o.login_show_alert?(Mt(),Jt("div",{key:0,class:Ln(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},Oa(o.login_alert_msg),3)):aT("",!0),Le(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:u.login},{default:Br(()=>[M("div",SV,[AV,Le(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"your@email.com",autocomplete:"email"}),Le(l,{class:"text-red-600 block",name:"email"})]),M("div",kV,[xV,Le(a,{name:"password",bails:!1},{default:Br(({field:d,errors:p})=>[M("div",NV,[M("input",ja(d,{type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"Password",autocomplete:"current-password"}),null,16,CV),M("i",{onClick:t[0]||(t[0]=v=>o.togglePassword=!o.togglePassword),class:Ln(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),Le(l,ja(p,{class:"text-red-600 block",name:"password"}),null,16)]),_:1})]),M("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,RV)]),_:1},8,["validation-schema","onSubmit"])],64)}const PV=xr(TV,[["render",OV]]),DV={name:"RegisterForm",data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},togglePassword:!1,toggleConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_success_msg:"Success! Your account has been created.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500",reg_success_variant:"bg-[#1ed760]"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(e){this.initRegisterAlert();try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.reg_alert_variant=this.reg_success_variant,this.reg_alert_msg=this.reg_success_msg,window.location.reload()},...uh(Ac,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},LV={class:""},MV=M("label",{class:"select-none group"},[nr("Name "),M("sup",{class:""},"*"),M("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),FV={class:""},jV=M("label",{class:"select-none group"},[nr("Email "),M("sup",{class:""},"*"),M("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),UV={class:""},VV=M("label",{class:"select-none"},"Phone",-1),BV={class:""},qV=M("label",{class:"select-none group"},[nr("Birthdate "),M("sup",{class:""},"*"),M("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),$V={class:""},HV=M("label",{class:"select-none group"},[nr("Password "),M("sup",{class:""},"*"),M("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),KV={class:"flex items-center"},zV=["type"],GV={class:""},WV=M("label",{class:"select-none group"},[nr("Confirm Password "),M("sup",{class:""},"*"),M("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),XV={class:"flex items-center"},YV=["type"],QV={class:""},JV=M("label",{class:"select-none group"},[nr("Country "),M("sup",{class:""},"*"),M("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),ZV=M("option",{value:"Argentina"},"Argentina",-1),e3=M("option",{value:"United States"},"United States",-1),t3=M("option",{value:"Spain"},"Spain",-1),n3=M("option",{value:"Germany"},"Germany",-1),r3=M("option",{value:"Antarctica"},"Antarctica",-1),i3=M("option",{value:"Other"},"Other",-1),o3={class:"mb-3 pl-6"},s3={class:"inline-block hover:cursor-pointer"},u3=M("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function a3(e,t,n,i,o,u){const a=Sn("VeeField"),l=Sn("ErrorMessage"),f=Sn("VeeForm");return Mt(),Jt(Xn,null,[o.reg_show_alert?(Mt(),Jt("div",{key:0,class:Ln(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Oa(o.reg_alert_msg),3)):aT("",!0),Le(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:u.register,"initial-values":o.userData},{default:Br(()=>[M("div",LV,[MV,Le(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),Le(l,{class:"text-red-600",name:"name"})]),M("div",FV,[jV,Le(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),Le(l,{class:"text-red-600",name:"email"})]),M("div",UV,[VV,Le(a,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your phone"}),Le(l,{class:"text-red-600",name:"phone"})]),M("div",BV,[qV,Le(a,{name:"birthdate",type:"date",min:"1900-01-01",max:u.maxBirthdate,class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),Le(l,{class:"text-red-600",name:"birthdate"})]),M("div",$V,[HV,Le(a,{name:"password",bails:!1},{default:Br(({field:d,errors:p})=>[M("div",KV,[M("input",ja(d,{placeholder:"Enter new Password",type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,zV),M("i",{onClick:t[0]||(t[0]=v=>o.togglePassword=!o.togglePassword),class:Ln(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),(Mt(!0),Jt(Xn,null,TP(p,v=>(Mt(),Jt("div",{class:"text-red-600",key:v},Oa(v),1))),128))]),_:1})]),M("div",GV,[WV,Le(a,{name:"confirmPassword",bails:!1},{default:Br(({field:d})=>[M("div",XV,[M("input",ja(d,{type:o.toggleConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),null,16,YV),M("i",{onClick:t[1]||(t[1]=p=>o.toggleConfirmPassword=!o.toggleConfirmPassword),class:Ln(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.toggleConfirmPassword,"fa-regular fa-eye":!o.toggleConfirmPassword}])},null,2)])]),_:1}),Le(l,{class:"text-red-600",name:"confirmPassword"})]),M("div",QV,[JV,Le(a,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:Br(()=>[ZV,e3,t3,n3,r3,i3]),_:1}),Le(l,{class:"text-red-600",name:"country"})]),M("div",o3,[M("label",s3,[Le(a,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),nr(" Accept terms of service")]),Le(l,{class:"text-red-600 block",name:"tos"})]),u3]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const c3=xr(DV,[["render",a3]]),l3={name:"AppAuth",components:{AppLoginForm:PV,AppRegisterForm:c3},data(){return{tab:"login"}},computed:{..._m(hf,["hiddenClass"]),...Em(hf,{modalVisibility:"isOpen"})},methods:{}},f3={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},h3=M("div",{class:"fixed inset-0 transition-opacity"},[M("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),d3=M("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),p3={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},g3={class:"py-4 text-left px-6"},v3={class:"flex justify-between items-center pb-4"},m3=M("p",{class:"text-2xl font-bold"},"Your Account",-1),y3=M("i",{class:"fas fa-times"},null,-1),w3=[y3],b3={class:"flex flex-wrap mb-4 gap-2"},_3={class:"flex-auto text-center"},E3={class:"flex-auto text-center"};function I3(e,t,n,i,o,u){const a=Sn("AppLoginForm"),l=Sn("AppRegisterForm");return Mt(),Jt("div",{class:Ln(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[M("div",f3,[h3,d3,M("div",p3,[M("div",g3,[M("div",v3,[m3,M("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},w3)]),M("ul",b3,[M("li",_3,[M("a",{class:Ln(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Wn(f=>o.tab="login",["prevent"]))},"Login",2)]),M("li",E3,[M("a",{class:Ln(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Wn(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(Mt(),ov(a,{key:0})):(Mt(),ov(l,{key:1}))])])])],2)}const T3=xr(l3,[["render",I3]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Os=typeof window<"u";function S3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const it=Object.assign;function Hg(e,t){const n={};for(const i in t){const o=t[i];n[i]=kr(o)?o.map(e):e(o)}return n}const xa=()=>{},kr=Array.isArray,A3=/\/$/,k3=e=>e.replace(A3,"");function Kg(e,t,n="/"){let i,o={},u="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),u=t.slice(f+1,l>-1?l:t.length),o=e(u)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=R3(i??t,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function x3(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function jE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function N3(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&lu(t.matched[i],n.matched[o])&&Dk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function lu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Dk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!C3(e[n],t[n]))return!1;return!0}function C3(e,t){return kr(e)?UE(e,t):kr(t)?UE(t,e):e===t}function UE(e,t){return kr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function R3(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var ic;(function(e){e.pop="pop",e.push="push"})(ic||(ic={}));var Na;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Na||(Na={}));function O3(e){if(!e)if(Os){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),k3(e)}const P3=/^[^#]+#/;function D3(e,t){return e.replace(P3,"#")+t}function L3(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const $h=()=>({left:window.pageXOffset,top:window.pageYOffset});function M3(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=L3(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function VE(e,t){return(history.state?history.state.position-t:-1)+e}const Bv=new Map;function F3(e,t){Bv.set(e,t)}function j3(e){const t=Bv.get(e);return Bv.delete(e),t}let U3=()=>location.protocol+"//"+location.host;function Lk(e,t){const{pathname:n,search:i,hash:o}=t,u=e.indexOf("#");if(u>-1){let l=o.includes(e.slice(u))?e.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),jE(f,"")}return jE(n,e)+i+o}function V3(e,t,n,i){let o=[],u=[],a=null;const l=({state:m})=>{const b=Lk(e,location),_=n.value,T=t.value;let S=0;if(m){if(n.value=b,t.value=m,a&&a===_){a=null;return}S=T?m.position-T.position:0}else i(b);o.forEach(R=>{R(n.value,_,{delta:S,type:ic.pop,direction:S?S>0?Na.forward:Na.back:Na.unknown})})};function f(){a=n.value}function d(m){o.push(m);const b=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return u.push(b),b}function p(){const{history:m}=window;m.state&&m.replaceState(it({},m.state,{scroll:$h()}),"")}function v(){for(const m of u)m();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:d,destroy:v}}function BE(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?$h():null}}function B3(e){const{history:t,location:n}=window,i={value:Lk(e,n)},o={value:t.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(f,d,p){const v=e.indexOf("#"),m=v>-1?(n.host&&document.querySelector("base")?e:e.slice(v))+f:U3()+e+f;try{t[p?"replaceState":"pushState"](d,"",m),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](m)}}function a(f,d){const p=it({},t.state,BE(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,p,!0),i.value=f}function l(f,d){const p=it({},o.value,t.state,{forward:f,scroll:$h()});u(p.current,p,!0);const v=it({},BE(i.value,f,null),{position:p.position+1},d);u(f,v,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function q3(e){e=O3(e);const t=B3(e),n=V3(e,t.state,t.location,t.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=it({location:"",base:e,go:i,createHref:D3.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function $3(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),q3(e)}function H3(e){return typeof e=="string"||e&&typeof e=="object"}function Mk(e){return typeof e=="string"||typeof e=="symbol"}const Ai={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Fk=Symbol("");var qE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(qE||(qE={}));function fu(e,t){return it(new Error,{type:e,[Fk]:!0},t)}function Zr(e,t){return e instanceof Error&&Fk in e&&(t==null||!!(e.type&t))}const $E="[^/]+?",K3={sensitive:!1,strict:!1,start:!0,end:!0},z3=/[.+*?^${}()[\]/\\]/g;function G3(e,t){const n=it({},K3,t),i=[];let o=n.start?"^":"";const u=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let v=0;v<d.length;v++){const m=d[v];let b=40+(n.sensitive?.25:0);if(m.type===0)v||(o+="/"),o+=m.value.replace(z3,"\\$&"),b+=40;else if(m.type===1){const{value:_,repeatable:T,optional:S,regexp:R}=m;u.push({name:_,repeatable:T,optional:S});const O=R||$E;if(O!==$E){b+=10;try{new RegExp(`(${O})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${_}" (${O}): `+B.message)}}let F=T?`((?:${O})(?:/(?:${O}))*)`:`(${O})`;v||(F=S&&d.length<2?`(?:/${F})`:"/"+F),S&&(F+="?"),o+=F,b+=20,S&&(b+=-8),T&&(b+=-20),O===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),v={};if(!p)return null;for(let m=1;m<p.length;m++){const b=p[m]||"",_=u[m-1];v[_.name]=b&&_.repeatable?b.split("/"):b}return v}function f(d){let p="",v=!1;for(const m of e){(!v||!p.endsWith("/"))&&(p+="/"),v=!1;for(const b of m)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:T,optional:S}=b,R=_ in d?d[_]:"";if(kr(R)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const O=kr(R)?R.join("/"):R;if(!O)if(S)m.length<2&&(p.endsWith("/")?p=p.slice(0,-1):v=!0);else throw new Error(`Missing required param "${_}"`);p+=O}}return p||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function W3(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function X3(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const u=W3(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(HE(i))return 1;if(HE(o))return-1}return o.length-i.length}function HE(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Y3={type:0,value:""},Q3=/[a-zA-Z0-9_]/;function J3(e){if(!e)return[[]];if(e==="/")return[[Y3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",p="";function v(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function m(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&v(),a()):f===":"?(v(),n=1):m();break;case 4:m(),n=i;break;case 1:f==="("?n=2:Q3.test(f)?m():(v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),v(),a(),o}function Z3(e,t,n){const i=G3(J3(e.path),n),o=it(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function e4(e,t){const n=[],i=new Map;t=GE({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function u(p,v,m){const b=!m,_=t4(p);_.aliasOf=m&&m.record;const T=GE(t,p),S=[_];if("alias"in p){const F=typeof p.alias=="string"?[p.alias]:p.alias;for(const B of F)S.push(it({},_,{components:m?m.record.components:_.components,path:B,aliasOf:m?m.record:_}))}let R,O;for(const F of S){const{path:B}=F;if(v&&B[0]!=="/"){const te=v.record.path,U=te[te.length-1]==="/"?"":"/";F.path=v.record.path+(B&&U+B)}if(R=Z3(F,v,T),m?m.alias.push(R):(O=O||R,O!==R&&O.alias.push(R),b&&p.name&&!zE(R)&&a(p.name)),_.children){const te=_.children;for(let U=0;U<te.length;U++)u(te[U],R,m&&m.children[U])}m=m||R,(R.record.components&&Object.keys(R.record.components).length||R.record.name||R.record.redirect)&&f(R)}return O?()=>{a(O)}:xa}function a(p){if(Mk(p)){const v=i.get(p);v&&(i.delete(p),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(p);v>-1&&(n.splice(v,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let v=0;for(;v<n.length&&X3(p,n[v])>=0&&(p.record.path!==n[v].record.path||!jk(p,n[v]));)v++;n.splice(v,0,p),p.record.name&&!zE(p)&&i.set(p.record.name,p)}function d(p,v){let m,b={},_,T;if("name"in p&&p.name){if(m=i.get(p.name),!m)throw fu(1,{location:p});T=m.record.name,b=it(KE(v.params,m.keys.filter(O=>!O.optional).map(O=>O.name)),p.params&&KE(p.params,m.keys.map(O=>O.name))),_=m.stringify(b)}else if("path"in p)_=p.path,m=n.find(O=>O.re.test(_)),m&&(b=m.parse(_),T=m.record.name);else{if(m=v.name?i.get(v.name):n.find(O=>O.re.test(v.path)),!m)throw fu(1,{location:p,currentLocation:v});T=m.record.name,b=it({},v.params,p.params),_=m.stringify(b)}const S=[];let R=m;for(;R;)S.unshift(R.record),R=R.parent;return{name:T,path:_,params:b,matched:S,meta:r4(S)}}return e.forEach(p=>u(p)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function KE(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function t4(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:n4(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function n4(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function zE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function r4(e){return e.reduce((t,n)=>it(t,n.meta),{})}function GE(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function jk(e,t){return t.children.some(n=>n===e||jk(e,n))}const Uk=/#/g,i4=/&/g,o4=/\//g,s4=/=/g,u4=/\?/g,Vk=/\+/g,a4=/%5B/g,c4=/%5D/g,Bk=/%5E/g,l4=/%60/g,qk=/%7B/g,f4=/%7C/g,$k=/%7D/g,h4=/%20/g;function qy(e){return encodeURI(""+e).replace(f4,"|").replace(a4,"[").replace(c4,"]")}function d4(e){return qy(e).replace(qk,"{").replace($k,"}").replace(Bk,"^")}function qv(e){return qy(e).replace(Vk,"%2B").replace(h4,"+").replace(Uk,"%23").replace(i4,"%26").replace(l4,"`").replace(qk,"{").replace($k,"}").replace(Bk,"^")}function p4(e){return qv(e).replace(s4,"%3D")}function g4(e){return qy(e).replace(Uk,"%23").replace(u4,"%3F")}function v4(e){return e==null?"":g4(e).replace(o4,"%2F")}function Bf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function m4(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(Vk," "),a=u.indexOf("="),l=Bf(a<0?u:u.slice(0,a)),f=a<0?null:Bf(u.slice(a+1));if(l in t){let d=t[l];kr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function WE(e){let t="";for(let n in e){const i=e[n];if(n=p4(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(kr(i)?i.map(u=>u&&qv(u)):[i&&qv(i)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function y4(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=kr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const w4=Symbol(""),XE=Symbol(""),$y=Symbol(""),Hk=Symbol(""),$v=Symbol("");function fa(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ci(e,t,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=v=>{v===!1?l(fu(4,{from:n,to:t})):v instanceof Error?l(v):H3(v)?l(fu(2,{from:t,to:v})):(u&&i.enterCallbacks[o]===u&&typeof v=="function"&&u.push(v),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(v=>l(v))})}function zg(e,t,n,i){const o=[];for(const u of e)for(const a in u.components){let l=u.components[a];if(!(t!=="beforeRouteEnter"&&!u.instances[a]))if(b4(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Ci(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const p=S3(d)?d.default:d;u.components[a]=p;const m=(p.__vccOpts||p)[t];return m&&Ci(m,n,i,u,a)()}))}}return o}function b4(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function YE(e){const t=fr($y),n=fr(Hk),i=qe(()=>t.resolve(Ge(e.to))),o=qe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],v=n.matched;if(!p||!v.length)return-1;const m=v.findIndex(lu.bind(null,p));if(m>-1)return m;const b=QE(f[d-2]);return d>1&&QE(p)===b&&v[v.length-1].path!==b?v.findIndex(lu.bind(null,f[d-2])):m}),u=qe(()=>o.value>-1&&T4(n.params,i.value.params)),a=qe(()=>o.value>-1&&o.value===n.matched.length-1&&Dk(n.params,i.value.params));function l(f={}){return I4(f)?t[Ge(e.replace)?"replace":"push"](Ge(e.to)).catch(xa):Promise.resolve()}return{route:i,href:qe(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const _4=oc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:YE,setup(e,{slots:t}){const n=ai(YE(e)),{options:i}=fr($y),o=qe(()=>({[JE(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[JE(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:Hs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),E4=_4;function I4(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function T4(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!kr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function QE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const JE=(e,t,n)=>e??t??n,S4=oc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=fr($v),o=qe(()=>e.route||i.value),u=fr(XE,0),a=qe(()=>{let d=Ge(u);const{matched:p}=o.value;let v;for(;(v=p[d])&&!v.components;)d++;return d}),l=qe(()=>o.value.matched[a.value]);js(XE,qe(()=>a.value+1)),js(w4,l),js($v,o);const f=bn();return er(()=>[f.value,l.value,e.name],([d,p,v],[m,b,_])=>{p&&(p.instances[v]=d,b&&b!==p&&d&&d===m&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!lu(p,b)||!m)&&(p.enterCallbacks[v]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,v=l.value,m=v&&v.components[p];if(!m)return ZE(n.default,{Component:m,route:d});const b=v.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,S=Hs(m,it({},_,t,{onVnodeUnmounted:R=>{R.component.isUnmounted&&(v.instances[p]=null)},ref:f}));return ZE(n.default,{Component:S,route:d})||S}}});function ZE(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Kk=S4;function A4(e){const t=e4(e.routes,e),n=e.parseQuery||m4,i=e.stringifyQuery||WE,o=e.history,u=fa(),a=fa(),l=fa(),f=LI(Ai);let d=Ai;Os&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Hg.bind(null,P=>""+P),v=Hg.bind(null,v4),m=Hg.bind(null,Bf);function b(P,$){let Z,ae;return Mk(P)?(Z=t.getRecordMatcher(P),ae=$):ae=P,t.addRoute(ae,Z)}function _(P){const $=t.getRecordMatcher(P);$&&t.removeRoute($)}function T(){return t.getRoutes().map(P=>P.record)}function S(P){return!!t.getRecordMatcher(P)}function R(P,$){if($=it({},$||f.value),typeof P=="string"){const C=Kg(n,P,$.path),j=t.resolve({path:C.path},$),V=o.createHref(C.fullPath);return it(C,j,{params:m(j.params),hash:Bf(C.hash),redirectedFrom:void 0,href:V})}let Z;if("path"in P)Z=it({},P,{path:Kg(n,P.path,$.path).path});else{const C=it({},P.params);for(const j in C)C[j]==null&&delete C[j];Z=it({},P,{params:v(C)}),$.params=v($.params)}const ae=t.resolve(Z,$),Oe=P.hash||"";ae.params=p(m(ae.params));const I=x3(i,it({},P,{hash:d4(Oe),path:ae.path})),A=o.createHref(I);return it({fullPath:I,hash:Oe,query:i===WE?y4(P.query):P.query||{}},ae,{redirectedFrom:void 0,href:A})}function O(P){return typeof P=="string"?Kg(n,P,f.value.path):it({},P)}function F(P,$){if(d!==P)return fu(8,{from:$,to:P})}function B(P){return we(P)}function te(P){return B(it(O(P),{replace:!0}))}function U(P){const $=P.matched[P.matched.length-1];if($&&$.redirect){const{redirect:Z}=$;let ae=typeof Z=="function"?Z(P):Z;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=O(ae):{path:ae},ae.params={}),it({query:P.query,hash:P.hash,params:"path"in ae?{}:P.params},ae)}}function we(P,$){const Z=d=R(P),ae=f.value,Oe=P.state,I=P.force,A=P.replace===!0,C=U(Z);if(C)return we(it(O(C),{state:typeof C=="object"?it({},Oe,C.state):Oe,force:I,replace:A}),$||Z);const j=Z;j.redirectedFrom=$;let V;return!I&&N3(i,ae,Z)&&(V=fu(16,{to:j,from:ae}),Vt(ae,ae,!0,!1)),(V?Promise.resolve(V):k(j,ae)).catch(W=>Zr(W)?Zr(W,2)?W:St(W):ge(W,j,ae)).then(W=>{if(W){if(Zr(W,2))return we(it({replace:A},O(W.to),{state:typeof W.to=="object"?it({},Oe,W.to.state):Oe,force:I}),$||j)}else W=ot(j,ae,!0,A,Oe);return We(j,ae,W),W})}function z(P,$){const Z=F(P,$);return Z?Promise.reject(Z):Promise.resolve()}function ie(P){const $=Bn.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(P):P()}function k(P,$){let Z;const[ae,Oe,I]=k4(P,$);Z=zg(ae.reverse(),"beforeRouteLeave",P,$);for(const C of ae)C.leaveGuards.forEach(j=>{Z.push(Ci(j,P,$))});const A=z.bind(null,P,$);return Z.push(A),ve(Z).then(()=>{Z=[];for(const C of u.list())Z.push(Ci(C,P,$));return Z.push(A),ve(Z)}).then(()=>{Z=zg(Oe,"beforeRouteUpdate",P,$);for(const C of Oe)C.updateGuards.forEach(j=>{Z.push(Ci(j,P,$))});return Z.push(A),ve(Z)}).then(()=>{Z=[];for(const C of I)if(C.beforeEnter)if(kr(C.beforeEnter))for(const j of C.beforeEnter)Z.push(Ci(j,P,$));else Z.push(Ci(C.beforeEnter,P,$));return Z.push(A),ve(Z)}).then(()=>(P.matched.forEach(C=>C.enterCallbacks={}),Z=zg(I,"beforeRouteEnter",P,$),Z.push(A),ve(Z))).then(()=>{Z=[];for(const C of a.list())Z.push(Ci(C,P,$));return Z.push(A),ve(Z)}).catch(C=>Zr(C,8)?C:Promise.reject(C))}function We(P,$,Z){l.list().forEach(ae=>ie(()=>ae(P,$,Z)))}function ot(P,$,Z,ae,Oe){const I=F(P,$);if(I)return I;const A=$===Ai,C=Os?history.state:{};Z&&(ae||A?o.replace(P.fullPath,it({scroll:A&&C&&C.scroll},Oe)):o.push(P.fullPath,Oe)),f.value=P,Vt(P,$,Z,A),St()}let st;function lt(){st||(st=o.listen((P,$,Z)=>{if(!de.listening)return;const ae=R(P),Oe=U(ae);if(Oe){we(it(Oe,{replace:!0}),ae).catch(xa);return}d=ae;const I=f.value;Os&&F3(VE(I.fullPath,Z.delta),$h()),k(ae,I).catch(A=>Zr(A,12)?A:Zr(A,2)?(we(A.to,ae).then(C=>{Zr(C,20)&&!Z.delta&&Z.type===ic.pop&&o.go(-1,!1)}).catch(xa),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),ge(A,ae,I))).then(A=>{A=A||ot(ae,I,!1),A&&(Z.delta&&!Zr(A,8)?o.go(-Z.delta,!1):Z.type===ic.pop&&Zr(A,20)&&o.go(-1,!1)),We(ae,I,A)}).catch(xa)}))}let Xe=fa(),ue=fa(),Me;function ge(P,$,Z){St(P);const ae=ue.list();return ae.length?ae.forEach(Oe=>Oe(P,$,Z)):console.error(P),Promise.reject(P)}function dt(){return Me&&f.value!==Ai?Promise.resolve():new Promise((P,$)=>{Xe.add([P,$])})}function St(P){return Me||(Me=!P,lt(),Xe.list().forEach(([$,Z])=>P?Z(P):$()),Xe.reset()),P}function Vt(P,$,Z,ae){const{scrollBehavior:Oe}=e;if(!Os||!Oe)return Promise.resolve();const I=!Z&&j3(VE(P.fullPath,0))||(ae||!Z)&&history.state&&history.state.scroll||null;return jr().then(()=>Oe(P,$,I)).then(A=>A&&M3(A)).catch(A=>ge(A,P,$))}const Rt=P=>o.go(P);let pt;const Bn=new Set,de={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:S,getRoutes:T,resolve:R,options:e,push:B,replace:te,go:Rt,back:()=>Rt(-1),forward:()=>Rt(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:ue.add,isReady:dt,install(P){const $=this;P.component("RouterLink",E4),P.component("RouterView",Kk),P.config.globalProperties.$router=$,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>Ge(f)}),Os&&!pt&&f.value===Ai&&(pt=!0,B(o.location).catch(Oe=>{}));const Z={};for(const Oe in Ai)Object.defineProperty(Z,Oe,{get:()=>f.value[Oe],enumerable:!0});P.provide($y,$),P.provide(Hk,RI(Z)),P.provide($v,f);const ae=P.unmount;Bn.add(P),P.unmount=function(){Bn.delete(P),Bn.size<1&&(d=Ai,st&&st(),st=null,f.value=Ai,pt=!1,Me=!1),ae()}}};function ve(P){return P.reduce(($,Z)=>$.then(()=>ie(Z)),Promise.resolve())}return de}function k4(e,t){const n=[],i=[],o=[],u=Math.max(t.matched.length,e.matched.length);for(let a=0;a<u;a++){const l=t.matched[a];l&&(e.matched.find(d=>lu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>lu(d,f))||o.push(f))}return[n,i,o]}const x4={name:"App",components:{AppHeader:IV,AppAuth:T3,RouterView:Kk},computed:{...Em(Ac,["userLoggedIn"])},created(){ri.currentUser&&(this.userLoggedIn=!0)}};function N4(e,t,n,i,o,u){const a=Sn("AppHeader"),l=Sn("RouterView"),f=Sn("AppAuth");return Mt(),Jt(Xn,null,[Le(a),Le(l),Le(f)],64)}const C4=xr(x4,[["render",N4]]),qf=bm("player",{state:()=>({isPlaying:!1}),actions:{play(e){console.log("Now playing "+e),this.isPlaying=!0},pause(){console.log("Pause song"),this.isPlaying=!1}}}),Hv="/musicfy/assets/img/liked-songs-300.webp",eI="/musicfy/assets/img/liked-songs-640.webp",R4={name:"AppPlaylist",data(){return{songsInPlaylist:ri.currentUser?6:0}},computed:{..._m(qf,["isPlaying"]),getUserName(){return ri.currentUser&&ri.currentUser.displayName?ri.currentUser.displayName:"Your name here"},getPlaylistSongs(){return[{name:"Perfect",artist:"Ed Sheeran"}]},getPlaylistSongsSize(){return 6}},methods:{...uh(qf,["play","pause"])}},O4=Hv+" 150w, "+Hv+" 300w, "+eI+" 320w, "+eI+" 640w",P4={class:"relative min-h-screen"},D4=M("section",{class:"absolute inset-0 min-h-screen bg-gradient-to-t from-zinc-900 from-60% to-[#4a368e] to-90% w-full"},null,-1),L4={class:"relative z-10 mx-10 pt-40 pb-6 text-white text-center relative font-circular-regular"},M4={class:"container flex gap-6"},F4=M("img",{"aria-hidden":"false",draggable:"false",loading:"eager",src:Hv,alt:"Liked songs",class:"shadow-3xl",srcset:O4,sizes:"(min-width: 1280px) 232px, 192px"},null,-1),j4={class:"text-white main-header-content flex flex-col grow justify-end items-start content-normal"},U4=M("h4",{class:"text-sm mb-2"},"Playlist",-1),V4=M("h1",{class:"text-5xl mb-5 font-circular-black tracking-tighter"},"Liked songs",-1),B4={class:""},q4={class:"relative z-10 px-10 py-5 mb-20 bg-black bg-opacity-30 font-circular-regular"},$4={type:"button"},H4=mm('<div class="flex flex-col"><div class="px-6 pt-6 pb-2 font-bold border-b border-zinc-300 border-opacity-10"><span class="card-title secondary-text">Title</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 float-right secondary-text"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><ol id="playlist" class="font-circular-thin text-white mb-10"><li class="flex justify-between items-center p-2 cursor-pointer transition duration-800 rounded-md hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="secondary-text text-sm">Artist Name</span></div><div class="text-lg secondary-text"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 rounded-md hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="secondary-text text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa-solid fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-gray-50 hover:bg-opacity-0"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li></ol></div>',1);function K4(e,t,n,i,o,u){return Mt(),Jt("div",P4,[D4,M("section",L4,[M("div",M4,[F4,M("div",j4,[U4,V4,M("p",B4,[M("span",null,Oa(u.getUserName)+" º "+Oa(u.getPlaylistSongsSize)+" songs ",1)])])])]),M("section",q4,[M("button",$4,[M("p",{class:Ln(["text-[#1ed760] text-5xl hover:scale-110 bg-black rounded-full",{"fa fa-play-circle":!e.isPlaying,"fa fa-pause-circle":e.isPlaying}]),onClick:t[0]||(t[0]=Wn(a=>e.isPlaying?e.pause():e.play(),["prevent"]))},null,2)]),H4])])}const z4=xr(R4,[["render",K4]]),G4={name:"AppPlayer",data(){return{currentTime:93,durationTime:186}},computed:{..._m(qf,["isPlaying"]),currentTimePercentage(){return this.currentTime/this.durationTime*100+"%"}},methods:{...uh(qf,["play","pause"])}},W4={class:"fixed bottom-0 left-0 bg-black z-10 px-4 py-4 w-full flex flex-nowrap"},X4=M("div",{class:"fixed bottom-2 left-5 text-white flex flex-col justify-center font-circular-thin w-40 h-16 overflow-x-hidden whitespace-nowrap"},[M("p",{class:"song-title font-bold"},"Playing Song"),M("p",{class:"song-artist"},"by Artist")],-1),Y4={class:"text-white grow flex flex-col gap-0.5 font-circular-regular"},Q4={type:"button"},J4={class:"flex flex-nowrap gap-3 justify-center items-center"},Z4=M("div",{class:"player-currenttime text-xs secondary-text"},[nr(" 00"),M("span",{class:"font-sans"},":"),nr("00 ")],-1),eB={class:"group w-80 h-1 rounded bg-neutral-700 relative cursor-pointer"},tB=M("i",{class:"fas fa-circle"},null,-1),nB=[tB],rB=M("div",{class:"player-duration text-xs secondary-text"},[nr(" 03"),M("span",{class:"font-sans"},":"),nr("06 ")],-1);function iB(e,t,n,i,o,u){return Mt(),Jt("div",W4,[X4,M("div",Y4,[M("button",Q4,[M("p",{class:Ln(["text-white text-3xl hover:scale-105",{"fa fa-play-circle":!e.isPlaying,"fa fa-pause-circle":e.isPlaying}]),onClick:t[0]||(t[0]=Wn(a=>e.isPlaying?e.pause():e.play(),["prevent"]))},null,2)]),M("div",J4,[Z4,M("div",eB,[M("span",{class:"absolute -top-1.5 -ml-2.5 text-white text-xs opacity-0 group-hover:opacity-100",style:Ra({left:u.currentTimePercentage})},nB,4),M("span",{class:"block h-1 rounded bg-white group-hover:bg-gradient-to-r from-green-500 to-green-400",style:Ra({width:u.currentTimePercentage})},null,4)]),rB])])])}const oB=xr(G4,[["render",iB]]),sB={components:{AppPlaylist:z4,AppPlayer:oB}};function uB(e,t,n,i,o,u){const a=Sn("AppPlaylist"),l=Sn("AppPlayer");return Mt(),Jt("section",null,[Le(a),Le(l)])}const aB=xr(sB,[["render",uB]]),cB={},lB={class:"relative min-h-screen"},fB=M("section",{class:"absolute inset-0 min-h-screen bg-gradient-to-t from-zinc-900 from-60% to-[#4a368e] to-90% w-full"},null,-1),hB=M("main",{class:"relative z-10 pt-40 text-white text-center font-circular-regular"},[M("h1",{class:""},"About musicfy")],-1),dB=[fB,hB];function pB(e,t){return Mt(),Jt("div",lB,dB)}const gB=xr(cB,[["render",pB]]),vB={name:"Upload",data(){return{is_dragover:!1}},methods:{upload(e){this.is_dragover=!1;const t=[...e.dataTransfer.files];t.forEach(n=>{if(n.type!="audio/mpeg"){alert("file type invalid");return}nV.ref().child(`songs/${n.name}`).put(n)}),console.log(t)}}},mB={class:"col-span-1"},yB={class:"bg-zinc-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},wB=M("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[M("span",{class:"card-title"},"Upload"),M("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),bB={class:"p-6"},_B=M("h5",null,"Drop your files here",-1),EB=[_B],IB=mm('<hr class="my-6"><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:75%;"></div></div></div><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:35%;"></div></div></div><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:55%;"></div></div></div>',4);function TB(e,t,n,i,o,u){return Mt(),Jt("div",mB,[M("div",yB,[wB,M("div",bB,[M("div",{class:Ln(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-zinc-700 hover:border-solid",{"bg-zinc-700 text-white border border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Wn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Wn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Wn(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Wn(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Wn(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Wn(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Wn(a=>u.upload(a),["prevent","stop"]))},EB,34),IB])])])}const SB=xr(vB,[["render",TB]]),AB={name:"managePlaylist",components:{AppUpload:SB}},kB={class:"relative min-h-screen"},xB=M("section",{class:"absolute inset-0 min-h-screen bg-gradient-to-t from-zinc-900 from-60% to-[#4a368e] to-90% w-full"},null,-1),NB={id:"manage",class:"pt-20"},CB={class:"container mx-auto pt-6"},RB={class:"md:grid md:grid-cols-3 md:gap-4"},OB=mm('<div class="col-span-2"><div class="bg-neutral-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">My Songs</span><i class="fa-solid fa-music float-right text-green-400 text-2xl"></i></div><div class="p-6"><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div><div><form><div class="mb-3"><label class="inline-block mb-2">Song Title</label><input type="text" class="block w-full py-1.5 px-3 text-gray-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded" placeholder="Enter Song Title"></div><div class="mb-3"><label class="inline-block mb-2">Genre</label><input type="text" class="block w-full py-1.5 px-3 text-gray-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded" placeholder="Enter Genre"></div><button type="submit" class="py-1.5 px-3 rounded text-white bg-green-600"> Submit </button><button type="button" class="py-1.5 px-3 rounded text-white bg-gray-600"> Go Back </button></form></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div></div></div></div>',1);function PB(e,t,n,i,o,u){const a=Sn("AppUpload");return Mt(),Jt("div",kB,[xB,M("main",NB,[M("div",CB,[M("div",RB,[Le(a),OB])])])])}const DB=xr(AB,[["render",PB]]),LB=[{name:"home",path:"/",component:aB},{name:"about",path:"/about",component:gB},{name:"manage",path:"/manage/music",component:DB,beforeEnter:(e,t,n)=>{n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],zk=A4({history:$3("/musicfy/"),routes:LB,linkExactActiveClass:"text-green-600"});zk.beforeEach((e,t,n)=>{if(!e.meta){n();return}Ac().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Qt(e){return typeof e=="function"}function Gk(e){return e==null}const Ko=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Hy(e){return Number(e)>=0}function MB(e){const t=parseFloat(e);return isNaN(t)?e:t}function FB(e){return typeof e=="object"&&e!==null}function jB(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function UB(e){if(!FB(e)||jB(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $f(e,t){return Object.keys(t).forEach(n=>{if(UB(t[n])){e[n]||(e[n]={}),$f(e[n],t[n]);return}e[n]=t[n]}),e}function ya(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Hy(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const Wk={};function Kn(e,t){BB(e,t),Wk[e]=t}function VB(e){return Wk[e]}function BB(e,t){if(!Qt(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function tI(e,t,n){typeof n.value=="object"&&(n.value=ft(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function ft(e){if(typeof e!="object")return e;var t=0,n,i,o,u=Object.prototype.toString.call(e);if(u==="[object Object]"?o=Object.create(e.__proto__||null):u==="[object Array]"?o=Array(e.length):u==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(ft(a))})):u==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(ft(l),ft(a))})):u==="[object Date]"?o=new Date(+e):u==="[object RegExp]"?o=new RegExp(e.source,e.flags):u==="[object DataView]"?o=new e.constructor(ft(e.buffer)):u==="[object ArrayBuffer]"?o=e.slice(0):u.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)tI(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||tI(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const Hh=Symbol("vee-validate-form"),qB=Symbol("vee-validate-field-instance"),Hf=Symbol("Default empty value"),$B=typeof window<"u";function Kv(e){return Qt(e)&&!!e.__locatorRef}function Ki(e){return!!e&&Qt(e.parse)&&e.__type==="VVTypedSchema"}function Kf(e){return!!e&&Qt(e.validate)}function kc(e){return e==="checkbox"||e==="radio"}function HB(e){return Ko(e)||Array.isArray(e)}function KB(e){return Array.isArray(e)?e.length===0:Ko(e)&&Object.keys(e).length===0}function Kh(e){return/^\[.+\]$/i.test(e)}function zB(e){return Xk(e)&&e.multiple}function Xk(e){return e.tagName==="SELECT"}function GB(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function WB(e,t){return!GB(e,t)&&t.type!=="file"&&!kc(t.type)}function Yk(e){return Ky(e)&&e.target&&"submit"in e.target}function Ky(e){return e?!!(typeof Event<"u"&&Qt(Event)&&e instanceof Event||e&&e.srcElement):!1}function nI(e,t){return t in e&&e[t]!==Hf}function An(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!An(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!An(i[1],t.get(i[0])))return!1;return!0}if(rI(e)&&rI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var u=o[i];if(!An(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function rI(e){return $B?e instanceof File:!1}function zy(e){return Kh(e)?e.replace(/\[|\]/gi,""):e}function On(e,t,n){return e?Kh(t)?e[zy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>HB(o)&&u in o?o[u]:n,e):n}function Eo(e,t,n){if(Kh(t)){e[zy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||Gk(o[i[u]]))&&(o[i[u]]=Hy(i[u+1])?[]:{}),o=o[i[u]]}}function Gg(e,t){if(Array.isArray(e)&&Hy(t)){e.splice(Number(t),1);return}Ko(e)&&delete e[t]}function iI(e,t){if(Kh(t)){delete e[zy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let u=0;u<n.length;u++){if(u===n.length-1){Gg(i,n[u]);break}if(!(n[u]in i)||Gk(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>On(e,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(KB(o[u])){if(u===0){Gg(e,n[0]);continue}Gg(o[u-1],n[u-1])}}function ar(e){return Object.keys(e)}function Qk(e,t=void 0){const n=ih();return(n==null?void 0:n.provides[e])||fr(e,t)}function oI(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(u=>An(u,t));return o>=0?i.splice(o,1):i.push(t),i}return An(e,t)?n:t}function sI(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=e(...o);i.forEach(a=>a(u)),i=[]},t),new Promise(u=>i.push(u))}}function XB(e,t){return Ko(t)&&t.number?MB(e):e}function zv(e,t){let n;return async function(...o){const u=e(...o);n=u;const a=await u;return u!==n||(n=void 0,t(a,o)),a}}function Gv(e){return Array.isArray(e)?e:e?[e]:[]}function ha(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function YB(e){let t=null,n=[];return function(...i){const o=jr(()=>{if(t!==o)return;const u=e(...i);n.forEach(a=>a(u)),n=[],t=null});return t=o,new Promise(u=>n.push(u))}}function Gy(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default}function Wg(e){if(Jk(e))return e._value}function Jk(e){return"_value"in e}function QB(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function zf(e){if(!Ky(e))return e;const t=e.target;if(kc(t.type)&&Jk(t))return Wg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(zB(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Wg);if(Xk(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Wg(n):t.value}return QB(t)}function Zk(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Ko(e)&&e._$$isNormalized?e:Ko(e)?Object.keys(e).reduce((n,i)=>{const o=JB(e[i]);return e[i]!==!1&&(n[i]=uI(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=ZB(i);return o.name&&(n[o.name]=uI(o.params)),n},t):t}function JB(e){return e===!0?[]:Array.isArray(e)||Ko(e)?e:[e]}function uI(e){const t=n=>typeof n=="string"&&n[0]==="@"?eq(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const ZB=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function eq(e){const t=n=>On(n,e)||n[e];return t.__locatorRef=e,t}function tq(e){return Array.isArray(e)?e.filter(Kv):ar(e).filter(t=>Kv(e[t])).map(t=>e[t])}const nq={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Wv=Object.assign({},nq);const Mi=()=>Wv,rq=e=>{Wv=Object.assign(Object.assign({},Wv),e)},iq=rq;async function ex(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await oq(o,e)).errors;return{errors:a,valid:!a.length}}async function oq(e,t){if(Ki(e.rules)||Kf(e.rules))return uq(t,e.rules);if(Qt(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const v=l[p],m=await v(t,a);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))d.push(...m);else{const _=typeof m=="string"?m:nx(a);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:Zk(e.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await aq(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function sq(e){return!!e&&e.name==="ValidationError"}function tx(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!sq(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function uq(e,t){const i=await(Ki(t)?t:tx(t)).parse(e),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function aq(e,t,n){const i=VB(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=cq(n.params,e.formData),u={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:nx(u)}}function nx(e){const t=Mi().generateMessage;return t?t(e):"Field is invalid"}function cq(e,t){const n=i=>Kv(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function lq(e,t){const i=await(Ki(e)?e:tx(e)).parse(ft(t)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function fq(e,t,n){const o=ar(e).map(async d=>{var p,v,m;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],_=await ex(On(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(m=(v=n==null?void 0:n.bailsMap)===null||v===void 0?void 0:v[d])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let aI=0;function hq(e,t){const{value:n,initialValue:i,setInitialValue:o}=dq(e,t.modelValue,t.form);if(!t.form){let m=function(_){var T;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(v.touched=(T=_.touched)!==null&&T!==void 0?T:v.touched),"initialValue"in _&&o(_.initialValue)};var l=m;const{errors:f,setErrors:d}=vq(),p=aI>=Number.MAX_SAFE_INTEGER?0:++aI,v=gq(n,i,f);return{id:p,path:e,value:n,initialValue:i,meta:v,flags:{pendingUnmount:{[p]:!1},pendingReset:!1},errors:f,setState:m}}const u=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),a=qe(()=>u.errors);function l(f){var d,p,v;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Ge(e),f.errors)),"touched"in f&&((p=t.form)===null||p===void 0||p.setFieldTouched(Ge(e),(v=f.touched)!==null&&v!==void 0?v:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:e,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function dq(e,t,n){const i=bn(Ge(t));function o(){return n?On(n.initialValues.value,Ge(e),Ge(i)):Ge(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(Ge(e),d,!0)}const a=qe(o);if(!n)return{value:bn(o()),initialValue:a,setInitialValue:u};const l=pq(t,n,a,e);return n.stageInitialValue(Ge(e),l,!0),{value:qe({get(){return On(n.values,Ge(e))},set(d){n.setFieldValue(Ge(e),d,!1)}}),initialValue:a,setInitialValue:u}}function pq(e,t,n,i){return ct(e)?Ge(e):e!==void 0?e:On(t.values,Ge(i),Ge(n))}function gq(e,t,n){const i=ai({touched:!1,pending:!1,valid:!0,validated:!!Ge(n).length,initialValue:qe(()=>Ge(t)),dirty:qe(()=>!An(Ge(e),Ge(t)))});return er(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function vq(){const e=bn([]);return{errors:e,setErrors:t=>{e.value=Gv(t)}}}function mq(e,t,n){return kc(n==null?void 0:n.type)?wq(e,t,n):rx(e,t,n)}function rx(e,t,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:v,keepValueOnUnmount:m,syncVModel:b,form:_}=yq(n),T=v?Qk(Hh):void 0,S=_||T,R=qe(()=>ya(It(e))),O=qe(()=>{if(It(S==null?void 0:S.schema))return;const ve=Ge(t);return Kf(ve)||Ki(ve)||Qt(ve)||Array.isArray(ve)?ve:Zk(ve)}),{id:F,value:B,initialValue:te,meta:U,setState:we,errors:z,flags:ie}=hq(R,{modelValue:i,form:S,bails:u,label:f,type:a,validate:O.value?Xe:void 0}),k=qe(()=>z.value[0]);b&&bq({value:B,prop:b,handleChange:ue,shouldValidate:()=>d&&!ie.pendingReset});const We=(de,ve=!1)=>{U.touched=!0,ve&&st()};async function ot(de){var ve,P;return S!=null&&S.validateSchema?(ve=(await S.validateSchema(de)).results[It(R)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}:O.value?ex(B.value,O.value,{name:It(R),label:It(f),values:(P=S==null?void 0:S.values)!==null&&P!==void 0?P:{},bails:u}):{valid:!0,errors:[]}}const st=zv(async()=>(U.pending=!0,U.validated=!0,ot("validated-only")),de=>{if(!ie.pendingUnmount[pt.id])return we({errors:de.errors}),U.pending=!1,U.valid=de.valid,de}),lt=zv(async()=>ot("silent"),de=>(U.valid=de.valid,de));function Xe(de){return(de==null?void 0:de.mode)==="silent"?lt():st()}function ue(de,ve=!0){const P=zf(de);St(P,ve)}hm(()=>{if(o)return st();(!S||!S.validateSchema)&&lt()});function Me(de){U.touched=de}function ge(de){var ve;const P=de&&"value"in de?de.value:te.value;we({value:ft(P),initialValue:ft(P),touched:(ve=de==null?void 0:de.touched)!==null&&ve!==void 0?ve:!1,errors:(de==null?void 0:de.errors)||[]}),U.pending=!1,U.validated=!1,lt()}const dt=ih();function St(de,ve=!0){B.value=dt&&b?XB(de,dt.props.modelModifiers):de,(ve?st:lt)()}function Vt(de){we({errors:Array.isArray(de)?de:[de]})}const Rt=qe({get(){return B.value},set(de){St(de,d)}}),pt={id:F,name:R,label:f,value:Rt,meta:U,errors:z,errorMessage:k,type:a,checkedValue:l,uncheckedValue:p,bails:u,keepValueOnUnmount:m,resetField:ge,handleReset:()=>ge(),validate:Xe,handleChange:ue,handleBlur:We,setState:we,setTouched:Me,setErrors:Vt,setValue:St};if(js(qB,pt),ct(t)&&typeof Ge(t)!="function"&&er(t,(de,ve)=>{An(de,ve)||(U.validated?st():lt())},{deep:!0}),!S)return pt;const Bn=qe(()=>{const de=O.value;return!de||Qt(de)||Kf(de)||Ki(de)||Array.isArray(de)?{}:Object.keys(de).reduce((ve,P)=>{const $=tq(de[P]).map(Z=>Z.__locatorRef).reduce((Z,ae)=>{const Oe=On(S.values,ae)||S.values[ae];return Oe!==void 0&&(Z[ae]=Oe),Z},{});return Object.assign(ve,$),ve},{})});return er(Bn,(de,ve)=>{if(!Object.keys(de).length)return;!An(de,ve)&&(U.validated?st():lt())}),WI(()=>{var de;const ve=(de=It(pt.keepValueOnUnmount))!==null&&de!==void 0?de:It(S.keepValuesOnUnmount),P=It(R);if(ve||!S||ie.pendingUnmount[pt.id]){S==null||S.removePathState(P,F);return}ie.pendingUnmount[pt.id]=!0;const $=S.getPathState(P);if(Array.isArray($==null?void 0:$.id)&&($!=null&&$.multiple)?$!=null&&$.id.includes(pt.id):($==null?void 0:$.id)===pt.id){if($!=null&&$.multiple&&Array.isArray($.value)){const ae=$.value.findIndex(Oe=>An(Oe,It(pt.checkedValue)));if(ae>-1){const Oe=[...$.value];Oe.splice(ae,1),S.setFieldValue(P,Oe)}Array.isArray($.id)&&$.id.splice($.id.indexOf(pt.id),1)}else S.unsetPathValue(It(R));S.removePathState(P,F)}}),pt}function yq(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?Xv(ih(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const u="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function wq(e,t,n){const i=n!=null&&n.standalone?void 0:Qk(Hh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=qe(()=>{const v=It(l.value),m=It(o);return Array.isArray(v)?v.findIndex(b=>An(b,m))>=0:An(m,v)});function p(v,m=!0){var b,_;if(d.value===((b=v==null?void 0:v.target)===null||b===void 0?void 0:b.checked)){m&&l.validate();return}const T=It(e),S=i==null?void 0:i.getPathState(T),R=zf(v);let O=(_=It(o))!==null&&_!==void 0?_:R;i&&(S!=null&&S.multiple)&&S.type==="checkbox"?O=oI(On(i.values,T)||[],O,void 0):(n==null?void 0:n.type)==="checkbox"&&(O=oI(It(l.value),O,It(u))),f(O,m)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:p})}return a(rx(e,t,n))}function bq({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=ih();if(!o||!e)return;const u=typeof e=="string"?e:"modelValue",a=`update:${u}`;u in o.props&&(er(t,l=>{An(l,Xv(o,u))||o.emit(a,l)}),er(()=>Xv(o,u),l=>{if(l===Hf&&t.value===void 0)return;const f=l===Hf?void 0:l;An(f,t.value)||n(f,i())}))}function Xv(e,t){if(e)return e.props[t]}const _q=oc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Mi().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Hf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Ri(e,"rules"),i=Ri(e,"name"),o=Ri(e,"label"),u=Ri(e,"uncheckedValue"),a=Ri(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:v,handleBlur:m,setTouched:b,resetField:_,handleReset:T,meta:S,checked:R,setErrors:O}=mq(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:Iq(e,t),checkedValue:t.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),F=function(ie,k=!0){v(ie,k)},B=qe(()=>{const{validateOnInput:z,validateOnChange:ie,validateOnBlur:k,validateOnModelUpdate:We}=Eq(e);function ot(ue){m(ue,k),Qt(t.attrs.onBlur)&&t.attrs.onBlur(ue)}function st(ue){F(ue,z),Qt(t.attrs.onInput)&&t.attrs.onInput(ue)}function lt(ue){F(ue,ie),Qt(t.attrs.onChange)&&t.attrs.onChange(ue)}const Xe={name:e.name,onBlur:ot,onInput:st,onChange:lt};return Xe["onUpdate:modelValue"]=ue=>F(ue,We),Xe}),te=qe(()=>{const z=Object.assign({},B.value);kc(t.attrs.type)&&R&&(z.checked=R.value);const ie=cI(e,t);return WB(ie,t.attrs)&&(z.value=f.value),z}),U=qe(()=>Object.assign(Object.assign({},B.value),{modelValue:f.value}));function we(){return{field:te.value,componentField:U.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:F,handleInput:z=>F(z,!1),handleReset:T,handleBlur:B.value.onBlur,setTouched:b,setErrors:O}}return t.expose({setErrors:O,setTouched:b,reset:_,validate:p,handleChange:v}),()=>{const z=pm(cI(e,t)),ie=Gy(z,t,we);return z?Hs(z,Object.assign(Object.assign({},t.attrs),te.value),ie):ie}}});function cI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function Eq(e){var t,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Mi();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:u,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function Iq(e,t){return kc(t.attrs.type)?nI(e,"modelValue")?e.modelValue:void 0:nI(e,"modelValue")?e.modelValue:t.attrs.value}const Tq=_q;let Sq=0;const da=["bails","fieldsCount","id","multiple","type","validate"];function ix(e){const t=Ge(e==null?void 0:e.initialValues)||{},n=Ge(e==null?void 0:e.validationSchema);return n&&Ki(n)&&Qt(n.cast)?ft(n.cast(t)||{}):ft(t)}function Aq(e){var t;const n=Sq++;let i=0;const o=bn(!1),u=bn(!1),a=bn(0),l=[],f=ai(ix(e)),d=bn([]),p=bn({}),v=bn({}),m=YB(()=>{v.value=d.value.reduce((N,x)=>(N[ya(It(x.path))]=x,N),{})});function b(N,x){const K=ue(N);if(!K){typeof N=="string"&&(p.value[ya(N)]=Gv(x));return}if(typeof N=="string"){const oe=ya(N);p.value[oe]&&delete p.value[oe]}K.errors=Gv(x),K.valid=!K.errors.length}function _(N){ar(N).forEach(x=>{b(x,N[x])})}e!=null&&e.initialErrors&&_(e.initialErrors);const T=qe(()=>{const N=d.value.reduce((x,K)=>(K.errors.length&&(x[K.path]=K.errors),x),{});return Object.assign(Object.assign({},p.value),N)}),S=qe(()=>ar(T.value).reduce((N,x)=>{const K=T.value[x];return K!=null&&K.length&&(N[x]=K[0]),N},{})),R=qe(()=>d.value.reduce((N,x)=>(N[x.path]={name:x.path||"",label:x.label||""},N),{})),O=qe(()=>d.value.reduce((N,x)=>{var K;return N[x.path]=(K=x.bails)!==null&&K!==void 0?K:!0,N},{})),F=Object.assign({},(e==null?void 0:e.initialErrors)||{}),B=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:te,originalInitialValues:U,setInitialValues:we}=xq(d,f,e),z=kq(d,f,U,S),ie=qe(()=>d.value.reduce((N,x)=>{const K=On(f,x.path);return Eo(N,x.path,K),N},{})),k=e==null?void 0:e.validationSchema;function We(N,x){var K,oe;const fe=qe(()=>On(te.value,It(N))),ke=v.value[It(N)];if(ke){((x==null?void 0:x.type)==="checkbox"||(x==null?void 0:x.type)==="radio")&&(ke.multiple=!0);const rn=i++;return Array.isArray(ke.id)?ke.id.push(rn):ke.id=[ke.id,rn],ke.fieldsCount++,ke.__flags.pendingUnmount[rn]=!1,ke}const Ue=qe(()=>On(f,It(N))),Ne=It(N),Fe=i++,Pe=ai({id:Fe,path:N,touched:!1,pending:!1,valid:!0,validated:!!(!((K=F[Ne])===null||K===void 0)&&K.length),initialValue:fe,errors:LI([]),bails:(oe=x==null?void 0:x.bails)!==null&&oe!==void 0?oe:!1,label:x==null?void 0:x.label,type:(x==null?void 0:x.type)||"default",value:Ue,multiple:!1,__flags:{pendingUnmount:{[Fe]:!1},pendingReset:!1},fieldsCount:1,validate:x==null?void 0:x.validate,dirty:qe(()=>!An(Ge(Ue),Ge(fe)))});return d.value.push(Pe),v.value[Ne]=Pe,m(),S.value[Ne]&&!F[Ne]&&jr(()=>{ee(Ne,{mode:"silent"})}),ct(N)&&er(N,rn=>{m();const on=ft(Ue.value);v.value[rn]=Pe,jr(()=>{Eo(f,rn,on)})}),Pe}const ot=sI(me,5),st=sI(me,5),lt=zv(async N=>await N==="silent"?ot():st(),(N,[x])=>{const K=ar(ve.errorBag.value);return[...new Set([...ar(N.results),...d.value.map(fe=>fe.path),...K])].sort().reduce((fe,ke)=>{const Ue=ke,Ne=ue(Ue)||Me(Ue),Fe=(N.results[Ue]||{errors:[]}).errors,Pe={errors:Fe,valid:!Fe.length};return fe.results[Ue]=Pe,Pe.valid||(fe.errors[Ue]=Pe.errors[0]),Ne&&p.value[Ue]&&delete p.value[Ue],Ne?(Ne.valid=Pe.valid,x==="silent"||x==="validated-only"&&!Ne.validated||b(Ne,Pe.errors),fe):(b(Ue,Fe),fe)},{valid:N.valid,results:{},errors:{}})});function Xe(N){d.value.forEach(N)}function ue(N){const x=typeof N=="string"?ya(N):N;return typeof x=="string"?v.value[x]:x}function Me(N){return d.value.filter(K=>N.startsWith(K.path)).reduce((K,oe)=>K?oe.path.length>K.path.length?oe:K:oe,void 0)}let ge=[],dt;function St(N){return ge.push(N),dt||(dt=jr(()=>{[...ge].sort().reverse().forEach(K=>{iI(f,K)}),ge=[],dt=null})),dt}function Vt(N){return function(K,oe){return function(ke){return ke instanceof Event&&(ke.preventDefault(),ke.stopPropagation()),Xe(Ue=>Ue.touched=!0),o.value=!0,a.value++,Q().then(Ue=>{const Ne=ft(f);if(Ue.valid&&typeof K=="function"){const Fe=ft(ie.value);let Pe=N?Fe:Ne;return Ue.values&&(Pe=Ue.values),K(Pe,{evt:ke,controlledValues:Fe,setErrors:_,setFieldError:b,setTouched:V,setFieldTouched:I,setValues:Z,setFieldValue:P,resetForm:re,resetField:W})}!Ue.valid&&typeof oe=="function"&&oe({values:Ne,evt:ke,errors:Ue.errors,results:Ue.results})}).then(Ue=>(o.value=!1,Ue),Ue=>{throw o.value=!1,Ue})}}}const pt=Vt(!1);pt.withControlled=Vt(!0);function Bn(N,x){const K=d.value.findIndex(fe=>fe.path===N),oe=d.value[K];if(!(K===-1||!oe)){if(jr(()=>{ee(N,{mode:"silent",warn:!1})}),oe.multiple&&oe.fieldsCount&&oe.fieldsCount--,Array.isArray(oe.id)){const fe=oe.id.indexOf(x);fe>=0&&oe.id.splice(fe,1),delete oe.__flags.pendingUnmount[x]}(!oe.multiple||oe.fieldsCount<=0)&&(d.value.splice(K,1),Y(N),m(),delete v.value[N])}}function de(N){return Xe(x=>{x.path.startsWith(N)&&ar(x.__flags.pendingUnmount).forEach(K=>{x.__flags.pendingUnmount[K]=!0})})}const ve={formId:n,values:f,controlledValues:ie,errorBag:T,errors:S,schema:k,submitCount:a,meta:z,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:B,validateSchema:Ge(k)?lt:void 0,validate:Q,setFieldError:b,validateField:ee,setFieldValue:P,setValues:Z,setErrors:_,setFieldTouched:I,setTouched:V,resetForm:re,resetField:W,handleSubmit:pt,stageInitialValue:be,unsetInitialValue:Y,setFieldInitialValue:ce,useFieldModel:Oe,createPathState:We,getPathState:ue,unsetPathValue:St,removePathState:Bn,initialValues:te,getAllPathStates:()=>d.value,markForUnmount:de,isFieldTouched:A,isFieldDirty:C,isFieldValid:j};function P(N,x,K=!0){const oe=ft(x),fe=typeof N=="string"?N:N.path;ue(fe)||We(fe),Eo(f,fe,oe),K&&ee(fe)}function $(N,x=!0){ar(f).forEach(K=>{delete f[K]}),ar(N).forEach(K=>{P(K,N[K],!1)}),x&&Q()}function Z(N,x=!0){$f(f,N),l.forEach(K=>K&&K.reset()),x&&Q()}function ae(N){const x=ue(Ge(N))||We(N);return qe({get(){return x.value},set(K){const oe=Ge(N);P(oe,K,!1),x.validated=!0,x.pending=!0,ee(oe).then(()=>{x.pending=!1})}})}function Oe(N){return Array.isArray(N)?N.map(ae):ae(N)}function I(N,x){const K=ue(N);K&&(K.touched=x)}function A(N){var x;return!!(!((x=ue(N))===null||x===void 0)&&x.touched)}function C(N){var x;return!!(!((x=ue(N))===null||x===void 0)&&x.dirty)}function j(N){var x;return!!(!((x=ue(N))===null||x===void 0)&&x.valid)}function V(N){if(typeof N=="boolean"){Xe(x=>{x.touched=N});return}ar(N).forEach(x=>{I(x,!!N[x])})}function W(N,x){var K;const oe=x&&"value"in x?x.value:On(te.value,N),fe=ue(N);fe&&(fe.__flags.pendingReset=!0),ce(N,ft(oe)),P(N,oe,!1),I(N,(K=x==null?void 0:x.touched)!==null&&K!==void 0?K:!1),b(N,(x==null?void 0:x.errors)||[]),jr(()=>{fe&&(fe.__flags.pendingReset=!1)})}function re(N,x){let K=N!=null&&N.values?N.values:U.value;K=Ki(k)&&Qt(k.cast)?k.cast(K):K,we(K),Xe(oe=>{var fe;oe.__flags.pendingReset=!0,oe.validated=!1,oe.touched=((fe=N==null?void 0:N.touched)===null||fe===void 0?void 0:fe[oe.path])||!1,P(oe.path,On(K,oe.path),!1),b(oe.path,void 0)}),x!=null&&x.force?$(K,!1):Z(K,!1),_((N==null?void 0:N.errors)||{}),a.value=(N==null?void 0:N.submitCount)||0,jr(()=>{Q({mode:"silent"}),Xe(oe=>{oe.__flags.pendingReset=!1})})}async function Q(N){const x=(N==null?void 0:N.mode)||"force";if(x==="force"&&Xe(ke=>ke.validated=!0),ve.validateSchema)return ve.validateSchema(x);u.value=!0;const K=await Promise.all(d.value.map(ke=>ke.validate?ke.validate(N).then(Ue=>({key:ke.path,valid:Ue.valid,errors:Ue.errors})):Promise.resolve({key:ke.path,valid:!0,errors:[]})));u.value=!1;const oe={},fe={};for(const ke of K)oe[ke.key]={valid:ke.valid,errors:ke.errors},ke.errors.length&&(fe[ke.key]=ke.errors[0]);return{valid:K.every(ke=>ke.valid),results:oe,errors:fe}}async function ee(N,x){var K;const oe=ue(N);if(oe&&(x==null?void 0:x.mode)!=="silent"&&(oe.validated=!0),k){const{results:fe}=await lt((x==null?void 0:x.mode)||"validated-only");return fe[N]||{errors:[],valid:!0}}return oe!=null&&oe.validate?oe.validate(x):(!oe&&(K=x==null?void 0:x.warn),Promise.resolve({errors:[],valid:!0}))}function Y(N){iI(te.value,N)}function be(N,x,K=!1){ce(N,x),Eo(f,N,x),K&&!(e!=null&&e.initialValues)&&Eo(U.value,N,ft(x))}function ce(N,x){Eo(te.value,N,ft(x))}async function me(){const N=Ge(k);if(!N)return{valid:!0,results:{},errors:{}};u.value=!0;const x=Kf(N)||Ki(N)?await lq(N,f):await fq(N,f,{names:R.value,bailsMap:O.value});return u.value=!1,x}const Ae=pt((N,{evt:x})=>{Yk(x)&&x.target.submit()});hm(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&V(e.initialTouched),e!=null&&e.validateOnMount){Q();return}ve.validateSchema&&ve.validateSchema("silent")}),ct(k)&&er(k,()=>{var N;(N=ve.validateSchema)===null||N===void 0||N.call(ve,"validated-only")}),js(Hh,ve);function Be(N,x){const K=ue(It(N))||We(N),oe=()=>Qt(x)?x(ha(K,da)):x||{};function fe(){var Ne;K.touched=!0,((Ne=oe().validateOnBlur)!==null&&Ne!==void 0?Ne:Mi().validateOnBlur)&&ee(K.path)}function ke(Ne){var Fe;const Pe=(Fe=oe().validateOnModelUpdate)!==null&&Fe!==void 0?Fe:Mi().validateOnModelUpdate;P(K.path,Ne,Pe)}return qe(()=>{if(Qt(x)){const Pe=x(K),rn=Pe.model||"modelValue";return Object.assign({onBlur:fe,[rn]:K.value,[`onUpdate:${rn}`]:ke},Pe.props||{})}const Ne=(x==null?void 0:x.model)||"modelValue",Fe={onBlur:fe,[Ne]:K.value,[`onUpdate:${Ne}`]:ke};return x!=null&&x.mapProps?Object.assign(Object.assign({},Fe),x.mapProps(ha(K,da))):Fe})}function Ee(N,x){const K=ue(It(N))||We(N),oe=()=>Qt(x)?x(ha(K,da)):x||{};function fe(){var Fe;K.touched=!0,((Fe=oe().validateOnBlur)!==null&&Fe!==void 0?Fe:Mi().validateOnBlur)&&ee(K.path)}function ke(Fe){var Pe;const rn=zf(Fe),on=(Pe=oe().validateOnInput)!==null&&Pe!==void 0?Pe:Mi().validateOnInput;P(K.path,rn,on)}function Ue(Fe){var Pe;const rn=zf(Fe),on=(Pe=oe().validateOnChange)!==null&&Pe!==void 0?Pe:Mi().validateOnChange;P(K.path,rn,on)}return qe(()=>{const Fe={value:K.value,onChange:Ue,onInput:ke,onBlur:fe};return Qt(x)?Object.assign(Object.assign({},Fe),x(ha(K,da)).attrs||{}):x!=null&&x.mapAttrs?Object.assign(Object.assign({},Fe),x.mapAttrs(ha(K,da))):Fe})}return Object.assign(Object.assign({},ve),{values:sm(f),handleReset:()=>re(),submitForm:Ae,defineComponentBinds:Be,defineInputBinds:Ee})}function kq(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},u=qe(()=>!An(t,Ge(n)));function a(){const f=e.value;return ar(o).reduce((d,p)=>{const v=o[p];return d[p]=f[v](m=>m[p]),d},{})}const l=ai(a());return fP(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),qe(()=>Object.assign(Object.assign({initialValues:Ge(n)},l),{valid:l.valid&&!ar(i.value).length,dirty:u.value}))}function xq(e,t,n){const i=ix(n),o=n==null?void 0:n.initialValues,u=bn(i),a=bn(ft(i));function l(f,d=!1){u.value=$f(ft(u.value)||{},ft(f)),a.value=$f(ft(a.value)||{},ft(f)),d&&e.value.forEach(p=>{if(p.touched)return;const m=On(u.value,p.path);Eo(t,p.path,ft(m))})}return ct(o)&&er(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:u,originalInitialValues:a,setInitialValues:l}}const Nq=oc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Ri(e,"initialValues"),i=Ri(e,"validationSchema"),o=Ri(e,"keepValues"),{errors:u,errorBag:a,values:l,meta:f,isSubmitting:d,isValidating:p,submitCount:v,controlledValues:m,validate:b,validateField:_,handleReset:T,resetForm:S,handleSubmit:R,setErrors:O,setFieldError:F,setFieldValue:B,setValues:te,setFieldTouched:U,setTouched:we,resetField:z}=Aq({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),ie=R((Me,{evt:ge})=>{Yk(ge)&&ge.target.submit()},e.onInvalidSubmit),k=e.onSubmit?R(e.onSubmit,e.onInvalidSubmit):ie;function We(Me){Ky(Me)&&Me.preventDefault(),T(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function ot(Me,ge){return R(typeof Me=="function"&&!ge?Me:ge,e.onInvalidSubmit)(Me)}function st(){return ft(l)}function lt(){return ft(f.value)}function Xe(){return ft(u.value)}function ue(){return{meta:f.value,errors:u.value,errorBag:a.value,values:l,isSubmitting:d.value,isValidating:p.value,submitCount:v.value,controlledValues:m.value,validate:b,validateField:_,handleSubmit:ot,handleReset:T,submitForm:ie,setErrors:O,setFieldError:F,setFieldValue:B,setValues:te,setFieldTouched:U,setTouched:we,resetForm:S,resetField:z,getValues:st,getMeta:lt,getErrors:Xe}}return t.expose({setFieldError:F,setErrors:O,setFieldValue:B,setValues:te,setFieldTouched:U,setTouched:we,resetForm:S,validate:b,validateField:_,resetField:z,getValues:st,getMeta:lt,getErrors:Xe}),function(){const ge=e.as==="form"?e.as:e.as?pm(e.as):null,dt=Gy(ge,t,ue);return ge?Hs(ge,Object.assign(Object.assign(Object.assign({},ge==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:k,onReset:We}),dt):dt}}}),Cq=Nq,Rq=oc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=fr(Hh,void 0),i=qe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=e.as?pm(e.as):e.as,a=Gy(u,t,o),l=Object.assign({role:"alert"},t.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Hs(u||"span",l,i.value):Hs(u,l,a)}}}),Oq=Rq;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Wl={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},Pq=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Tu(e,t){return Array.isArray(e)?e[0]:e[t]}function di(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const ox=(e,t)=>{if(di(e))return!0;const n=Pq(t);if(Array.isArray(e))return e.every(o=>ox(o,{locale:n}));const i=String(e);return n?(Wl[n]||Wl.en).test(i):Object.keys(Wl).some(o=>Wl[o].test(i))},Dq=(e,t)=>{const n=Tu(t,"target");return String(e)===String(n)},sx=(e,t)=>{if(di(e))return!0;const n=Tu(t,"length");if(Array.isArray(e))return e.every(o=>sx(o,{length:n}));const i=String(e);return/^[0-9]*$/.test(i)&&i.length===Number(n)},Lq=e=>{if(di(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function Mq(e){return e==null}function Fq(e){return Array.isArray(e)&&e.length===0}const ux=(e,t)=>{if(di(e))return!0;const n=Tu(t,"length");return Array.isArray(e)?e.every(i=>ux(i,{length:n})):[...String(e)].length<=Number(n)},ax=(e,t)=>{if(di(e))return!0;const n=Tu(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>ax(i,{max:n})):Number(e)<=Number(n)},cx=(e,t)=>{if(di(e))return!0;const n=Tu(t,"length");return Array.isArray(e)?e.every(i=>cx(i,{length:n})):[...String(e)].length>=Number(n)},lx=(e,t)=>{if(di(e))return!0;const n=Tu(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>lx(i,{min:n})):Number(e)>=Number(n)},fx=(e,t)=>di(e)?!0:Array.isArray(e)?e.every(n=>fx(n,t)):Array.from(t).some(n=>n==e),lI=(e,t)=>di(e)?!0:!fx(e,t),fI=e=>Mq(e)||Fq(e)||e===!1?!1:!!String(e).trim().length;function jq(e,t){const n=t[0],i=new Date(e),o=new Date;return o.setFullYear(o.getFullYear()-n),i.getTime()<=o.getTime()}const Uq={install(e){e.component("VeeForm",Cq),e.component("VeeField",Tq),e.component("ErrorMessage",Oq),Kn("required",fI),Kn("tos",fI),Kn("min",cx),Kn("max",ux),Kn("alpha_spaces",ox),Kn("email",Lq),Kn("min_value",lx),Kn("max_value",ax),Kn("passwords_missmatch",Dq),Kn("excluded",lI),Kn("country_excluded",lI),Kn("digits",sx),Kn("minAge",jq),iq({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} must have at least ${t.rule.params} characters.`,max:`The field ${t.field} maximun length is ${t.rule.params}.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} can't be under ${t.rule.params}.`,max_value:`The field ${t.field} can't be above ${t.rule.params}.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${t.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${t.field} must be a valid phone number (012345678)`,minAge:`You must be at least ${t.rule.params} years old`};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let xs;ri.onAuthStateChanged(()=>{xs||(xs=AD(C4),xs.use(ND()),xs.use(zk),xs.use(Uq),xs.mount("#app"))});
