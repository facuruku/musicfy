(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function nv(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const yt={},Fs=[],Sr=()=>{},fO=()=>!1,hO=/^on[^a-z]/,Qf=e=>hO.test(e),rv=e=>e.startsWith("onUpdate:"),Jt=Object.assign,iv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},dO=Object.prototype.hasOwnProperty,Je=(e,t)=>dO.call(e,t),Oe=Array.isArray,Us=e=>Jf(e)==="[object Map]",yI=e=>Jf(e)==="[object Set]",Ue=e=>typeof e=="function",Bt=e=>typeof e=="string",ov=e=>typeof e=="symbol",bt=e=>e!==null&&typeof e=="object",wI=e=>bt(e)&&Ue(e.then)&&Ue(e.catch),bI=Object.prototype.toString,Jf=e=>bI.call(e),pO=e=>Jf(e).slice(8,-1),_I=e=>Jf(e)==="[object Object]",sv=e=>Bt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Zl=nv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zf=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},gO=/-(\w)/g,Gr=Zf(e=>e.replace(gO,(t,n)=>n?n.toUpperCase():"")),mO=/\B([A-Z])/g,mu=Zf(e=>e.replace(mO,"-$1").toLowerCase()),eh=Zf(e=>e.charAt(0).toUpperCase()+e.slice(1)),Sg=Zf(e=>e?`on${eh(e)}`:""),La=(e,t)=>!Object.is(e,t),Ag=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ff=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},vO=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let P_;const em=()=>P_||(P_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $s(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=Bt(i)?_O(i):$s(i);if(o)for(const u in o)t[u]=o[u]}return t}else{if(Bt(e))return e;if(bt(e))return e}}const yO=/;(?![^(]*\))/g,wO=/:([^]+)/,bO=/\/\*[^]*?\*\//g;function _O(e){const t={};return e.replace(bO,"").split(yO).forEach(n=>{if(n){const i=n.split(wO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function jt(e){let t="";if(Bt(e))t=e;else if(Oe(e))for(let n=0;n<e.length;n++){const i=jt(e[n]);i&&(t+=i+" ")}else if(bt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const EO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",IO=nv(EO);function EI(e){return!!e||e===""}const Dt=e=>Bt(e)?e:e==null?"":Oe(e)||bt(e)&&(e.toString===bI||!Ue(e.toString))?JSON.stringify(e,II,2):String(e),II=(e,t)=>t&&t.__v_isRef?II(e,t.value):Us(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:yI(t)?{[`Set(${t.size})`]:[...t.values()]}:bt(t)&&!Oe(t)&&!_I(t)?String(t):t;let Qn;class TI{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qn,!t&&Qn&&(this.index=(Qn.scopes||(Qn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Qn;try{return Qn=this,t()}finally{Qn=n}}}on(){Qn=this}off(){Qn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function SI(e){return new TI(e)}function TO(e,t=Qn){t&&t.active&&t.effects.push(e)}function AI(){return Qn}function SO(e){Qn&&Qn.cleanups.push(e)}const uv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},kI=e=>(e.w&Hi)>0,CI=e=>(e.n&Hi)>0,AO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Hi},kO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];kI(o)&&!CI(o)?o.delete(e):t[n++]=o,o.w&=~Hi,o.n&=~Hi}t.length=n}},hf=new WeakMap;let wa=0,Hi=1;const tm=30;let Ir;const Po=Symbol(""),nm=Symbol("");class av{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,TO(this,i)}run(){if(!this.active)return this.fn();let t=Ir,n=ji;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ir,Ir=this,ji=!0,Hi=1<<++wa,wa<=tm?AO(this):D_(this),this.fn()}finally{wa<=tm&&kO(this),Hi=1<<--wa,Ir=this.parent,ji=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ir===this?this.deferStop=!0:this.active&&(D_(this),this.onStop&&this.onStop(),this.active=!1)}}function D_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let ji=!0;const xI=[];function vu(){xI.push(ji),ji=!1}function yu(){const e=xI.pop();ji=e===void 0?!0:e}function Bn(e,t,n){if(ji&&Ir){let i=hf.get(e);i||hf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=uv()),NI(o)}}function NI(e,t){let n=!1;wa<=tm?CI(e)||(e.n|=Hi,n=!kI(e)):n=!e.has(Ir),n&&(e.add(Ir),Ir.deps.push(e))}function ci(e,t,n,i,o,u){const a=hf.get(e);if(!a)return;let l=[];if(t==="clear")l=[...a.values()];else if(n==="length"&&Oe(e)){const f=Number(i);a.forEach((d,p)=>{(p==="length"||p>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),t){case"add":Oe(e)?sv(n)&&l.push(a.get("length")):(l.push(a.get(Po)),Us(e)&&l.push(a.get(nm)));break;case"delete":Oe(e)||(l.push(a.get(Po)),Us(e)&&l.push(a.get(nm)));break;case"set":Us(e)&&l.push(a.get(Po));break}if(l.length===1)l[0]&&rm(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);rm(uv(f))}}function rm(e,t){const n=Oe(e)?e:[...e];for(const i of n)i.computed&&L_(i);for(const i of n)i.computed||L_(i)}function L_(e,t){(e!==Ir||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function CO(e,t){var n;return(n=hf.get(e))==null?void 0:n.get(t)}const xO=nv("__proto__,__v_isRef,__isVue"),RI=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ov)),NO=cv(),RO=cv(!1,!0),OO=cv(!0),M_=PO();function PO(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=Ze(this);for(let u=0,a=this.length;u<a;u++)Bn(i,"get",u+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(Ze)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){vu();const i=Ze(this)[t].apply(this,n);return yu(),i}}),e}function DO(e){const t=Ze(this);return Bn(t,"has",e),t.hasOwnProperty(e)}function cv(e=!1,t=!1){return function(i,o,u){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&u===(e?t?YO:MI:t?LI:DI).get(i))return i;const a=Oe(i);if(!e){if(a&&Je(M_,o))return Reflect.get(M_,o,u);if(o==="hasOwnProperty")return DO}const l=Reflect.get(i,o,u);return(ov(o)?RI.has(o):xO(o))||(e||Bn(i,"get",o),t)?l:ft(l)?a&&sv(o)?l:l.value:bt(l)?e?hv(l):li(l):l}}const LO=OI(),MO=OI(!0);function OI(e=!1){return function(n,i,o,u){let a=n[i];if(Hs(a)&&ft(a)&&!ft(o))return!1;if(!e&&(!df(o)&&!Hs(o)&&(a=Ze(a),o=Ze(o)),!Oe(n)&&ft(a)&&!ft(o)))return a.value=o,!0;const l=Oe(n)&&sv(i)?Number(i)<n.length:Je(n,i),f=Reflect.set(n,i,o,u);return n===Ze(u)&&(l?La(o,a)&&ci(n,"set",i,o):ci(n,"add",i,o)),f}}function FO(e,t){const n=Je(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&ci(e,"delete",t,void 0),i}function UO(e,t){const n=Reflect.has(e,t);return(!ov(t)||!RI.has(t))&&Bn(e,"has",t),n}function jO(e){return Bn(e,"iterate",Oe(e)?"length":Po),Reflect.ownKeys(e)}const PI={get:NO,set:LO,deleteProperty:FO,has:UO,ownKeys:jO},VO={get:OO,set(e,t){return!0},deleteProperty(e,t){return!0}},BO=Jt({},PI,{get:RO,set:MO}),lv=e=>e,th=e=>Reflect.getPrototypeOf(e);function Pl(e,t,n=!1,i=!1){e=e.__v_raw;const o=Ze(e),u=Ze(t);n||(t!==u&&Bn(o,"get",t),Bn(o,"get",u));const{has:a}=th(o),l=i?lv:n?pv:Ma;if(a.call(o,t))return l(e.get(t));if(a.call(o,u))return l(e.get(u));e!==o&&e.get(t)}function Dl(e,t=!1){const n=this.__v_raw,i=Ze(n),o=Ze(e);return t||(e!==o&&Bn(i,"has",e),Bn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Ll(e,t=!1){return e=e.__v_raw,!t&&Bn(Ze(e),"iterate",Po),Reflect.get(e,"size",e)}function F_(e){e=Ze(e);const t=Ze(this);return th(t).has.call(t,e)||(t.add(e),ci(t,"add",e,e)),this}function U_(e,t){t=Ze(t);const n=Ze(this),{has:i,get:o}=th(n);let u=i.call(n,e);u||(e=Ze(e),u=i.call(n,e));const a=o.call(n,e);return n.set(e,t),u?La(t,a)&&ci(n,"set",e,t):ci(n,"add",e,t),this}function j_(e){const t=Ze(this),{has:n,get:i}=th(t);let o=n.call(t,e);o||(e=Ze(e),o=n.call(t,e)),i&&i.call(t,e);const u=t.delete(e);return o&&ci(t,"delete",e,void 0),u}function V_(){const e=Ze(this),t=e.size!==0,n=e.clear();return t&&ci(e,"clear",void 0,void 0),n}function Ml(e,t){return function(i,o){const u=this,a=u.__v_raw,l=Ze(a),f=t?lv:e?pv:Ma;return!e&&Bn(l,"iterate",Po),a.forEach((d,p)=>i.call(o,f(d),f(p),u))}}function Fl(e,t,n){return function(...i){const o=this.__v_raw,u=Ze(o),a=Us(u),l=e==="entries"||e===Symbol.iterator&&a,f=e==="keys"&&a,d=o[e](...i),p=n?lv:t?pv:Ma;return!t&&Bn(u,"iterate",f?nm:Po),{next(){const{value:m,done:v}=d.next();return v?{value:m,done:v}:{value:l?[p(m[0]),p(m[1])]:p(m),done:v}},[Symbol.iterator](){return this}}}}function Ti(e){return function(...t){return e==="delete"?!1:this}}function qO(){const e={get(u){return Pl(this,u)},get size(){return Ll(this)},has:Dl,add:F_,set:U_,delete:j_,clear:V_,forEach:Ml(!1,!1)},t={get(u){return Pl(this,u,!1,!0)},get size(){return Ll(this)},has:Dl,add:F_,set:U_,delete:j_,clear:V_,forEach:Ml(!1,!0)},n={get(u){return Pl(this,u,!0)},get size(){return Ll(this,!0)},has(u){return Dl.call(this,u,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:Ml(!0,!1)},i={get(u){return Pl(this,u,!0,!0)},get size(){return Ll(this,!0)},has(u){return Dl.call(this,u,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:Ml(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Fl(u,!1,!1),n[u]=Fl(u,!0,!1),t[u]=Fl(u,!1,!0),i[u]=Fl(u,!0,!0)}),[e,n,t,i]}const[$O,HO,KO,zO]=qO();function fv(e,t){const n=t?e?zO:KO:e?HO:$O;return(i,o,u)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(Je(n,o)&&o in i?n:i,o,u)}const GO={get:fv(!1,!1)},WO={get:fv(!1,!0)},XO={get:fv(!0,!1)},DI=new WeakMap,LI=new WeakMap,MI=new WeakMap,YO=new WeakMap;function QO(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function JO(e){return e.__v_skip||!Object.isExtensible(e)?0:QO(pO(e))}function li(e){return Hs(e)?e:dv(e,!1,PI,GO,DI)}function FI(e){return dv(e,!1,BO,WO,LI)}function hv(e){return dv(e,!0,VO,XO,MI)}function dv(e,t,n,i,o){if(!bt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=o.get(e);if(u)return u;const a=JO(e);if(a===0)return e;const l=new Proxy(e,a===2?i:n);return o.set(e,l),l}function Vi(e){return Hs(e)?Vi(e.__v_raw):!!(e&&e.__v_isReactive)}function Hs(e){return!!(e&&e.__v_isReadonly)}function df(e){return!!(e&&e.__v_isShallow)}function UI(e){return Vi(e)||Hs(e)}function Ze(e){const t=e&&e.__v_raw;return t?Ze(t):e}function nh(e){return ff(e,"__v_skip",!0),e}const Ma=e=>bt(e)?li(e):e,pv=e=>bt(e)?hv(e):e;function jI(e){ji&&Ir&&(e=Ze(e),NI(e.dep||(e.dep=uv())))}function VI(e,t){e=Ze(e);const n=e.dep;n&&rm(n)}function ft(e){return!!(e&&e.__v_isRef===!0)}function An(e){return qI(e,!1)}function BI(e){return qI(e,!0)}function qI(e,t){return ft(e)?e:new ZO(e,t)}class ZO{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ze(t),this._value=n?t:Ma(t)}get value(){return jI(this),this._value}set value(t){const n=this.__v_isShallow||df(t)||Hs(t);t=n?t:Ze(t),La(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ma(t),VI(this))}}function Ge(e){return ft(e)?e.value:e}function At(e){return Ue(e)?e():Ge(e)}const eP={get:(e,t,n)=>Ge(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return ft(o)&&!ft(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function $I(e){return Vi(e)?e:new Proxy(e,eP)}function tP(e){const t=Oe(e)?new Array(e.length):{};for(const n in e)t[n]=HI(e,n);return t}class nP{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return CO(Ze(this._object),this._key)}}class rP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Pi(e,t,n){return ft(e)?e:Ue(e)?new rP(e):bt(e)&&arguments.length>1?HI(e,t,n):An(e)}function HI(e,t,n){const i=e[t];return ft(i)?i:new nP(e,t,n)}class iP{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new av(t,()=>{this._dirty||(this._dirty=!0,VI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=Ze(this);return jI(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function oP(e,t,n=!1){let i,o;const u=Ue(e);return u?(i=e,o=Sr):(i=e.get,o=e.set),new iP(i,o,u||!o,n)}function Bi(e,t,n,i){let o;try{o=i?e(...i):e()}catch(u){rh(u,t,n)}return o}function Ar(e,t,n,i){if(Ue(e)){const u=Bi(e,t,n,i);return u&&wI(u)&&u.catch(a=>{rh(a,t,n)}),u}const o=[];for(let u=0;u<e.length;u++)o.push(Ar(e[u],t,n,i));return o}function rh(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let u=t.parent;const a=t.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let p=0;p<d.length;p++)if(d[p](e,a,l)===!1)return}u=u.parent}const f=t.appContext.config.errorHandler;if(f){Bi(f,null,10,[e,a,l]);return}}sP(e,n,o,i)}function sP(e,t,n,i=!0){console.error(e)}let Fa=!1,im=!1;const gn=[];let $r=0;const js=[];let ni=null,So=0;const KI=Promise.resolve();let gv=null;function Br(e){const t=gv||KI;return e?t.then(this?e.bind(this):e):t}function uP(e){let t=$r+1,n=gn.length;for(;t<n;){const i=t+n>>>1;Ua(gn[i])<e?t=i+1:n=i}return t}function mv(e){(!gn.length||!gn.includes(e,Fa&&e.allowRecurse?$r+1:$r))&&(e.id==null?gn.push(e):gn.splice(uP(e.id),0,e),zI())}function zI(){!Fa&&!im&&(im=!0,gv=KI.then(WI))}function aP(e){const t=gn.indexOf(e);t>$r&&gn.splice(t,1)}function cP(e){Oe(e)?js.push(...e):(!ni||!ni.includes(e,e.allowRecurse?So+1:So))&&js.push(e),zI()}function B_(e,t=Fa?$r+1:0){for(;t<gn.length;t++){const n=gn[t];n&&n.pre&&(gn.splice(t,1),t--,n())}}function GI(e){if(js.length){const t=[...new Set(js)];if(js.length=0,ni){ni.push(...t);return}for(ni=t,ni.sort((n,i)=>Ua(n)-Ua(i)),So=0;So<ni.length;So++)ni[So]();ni=null,So=0}}const Ua=e=>e.id==null?1/0:e.id,lP=(e,t)=>{const n=Ua(e)-Ua(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function WI(e){im=!1,Fa=!0,gn.sort(lP);const t=Sr;try{for($r=0;$r<gn.length;$r++){const n=gn[$r];n&&n.active!==!1&&Bi(n,null,14)}}finally{$r=0,gn.length=0,GI(),Fa=!1,gv=null,(gn.length||js.length)&&WI()}}function fP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||yt;let o=n;const u=t.startsWith("update:"),a=u&&t.slice(7);if(a&&a in i){const p=`${a==="modelValue"?"model":a}Modifiers`,{number:m,trim:v}=i[p]||yt;v&&(o=n.map(b=>Bt(b)?b.trim():b)),m&&(o=n.map(vO))}let l,f=i[l=Sg(t)]||i[l=Sg(Gr(t))];!f&&u&&(f=i[l=Sg(mu(t))]),f&&Ar(f,e,6,o);const d=i[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ar(d,e,6,o)}}function XI(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const u=e.emits;let a={},l=!1;if(!Ue(e)){const f=d=>{const p=XI(d,t,!0);p&&(l=!0,Jt(a,p))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!u&&!l?(bt(e)&&i.set(e,null),null):(Oe(u)?u.forEach(f=>a[f]=null):Jt(a,u),bt(e)&&i.set(e,a),a)}function ih(e,t){return!e||!Qf(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,mu(t))||Je(e,t))}let Un=null,YI=null;function pf(e){const t=Un;return Un=e,YI=e&&e.type.__scopeId||null,t}function tr(e,t=Un,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&J_(-1);const u=pf(t);let a;try{a=e(...o)}finally{pf(u),i._d&&J_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function kg(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:p,renderCache:m,data:v,setupState:b,ctx:_,inheritAttrs:T}=e;let S,O;const P=pf(e);try{if(n.shapeFlag&4){const B=o||i;S=qr(p.call(B,B,m,u,b,v,_)),O=f}else{const B=t;S=qr(B.length>1?B(u,{attrs:f,slots:l,emit:d}):B(u,null)),O=t.props?f:hP(f)}}catch(B){Sa.length=0,rh(B,e,1),S=Ie(jo)}let F=S;if(O&&T!==!1){const B=Object.keys(O),{shapeFlag:te}=F;B.length&&te&7&&(a&&B.some(rv)&&(O=dP(O,a)),F=zs(F,O))}return n.dirs&&(F=zs(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),S=F,pf(P),S}const hP=e=>{let t;for(const n in e)(n==="class"||n==="style"||Qf(n))&&((t||(t={}))[n]=e[n]);return t},dP=(e,t)=>{const n={};for(const i in e)(!rv(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function pP(e,t,n){const{props:i,children:o,component:u}=e,{props:a,children:l,patchFlag:f}=t,d=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?q_(i,a,d):!!a;if(f&8){const p=t.dynamicProps;for(let m=0;m<p.length;m++){const v=p[m];if(a[v]!==i[v]&&!ih(d,v))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?q_(i,a,d):!0:!!a;return!1}function q_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(t[u]!==e[u]&&!ih(n,u))return!0}return!1}function gP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const mP=e=>e.__isSuspense;function vP(e,t){t&&t.pendingBranch?Oe(e)?t.effects.push(...e):t.effects.push(e):cP(e)}function yP(e,t){return vv(e,null,t)}const Ul={};function ir(e,t,n){return vv(e,t,n)}function vv(e,t,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=yt){var l;const f=AI()===((l=Gt)==null?void 0:l.scope)?Gt:null;let d,p=!1,m=!1;if(ft(e)?(d=()=>e.value,p=df(e)):Vi(e)?(d=()=>e,i=!0):Oe(e)?(m=!0,p=e.some(B=>Vi(B)||df(B)),d=()=>e.map(B=>{if(ft(B))return B.value;if(Vi(B))return Co(B);if(Ue(B))return Bi(B,f,2)})):Ue(e)?t?d=()=>Bi(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return v&&v(),Ar(e,f,3,[b])}:d=Sr,t&&i){const B=d;d=()=>Co(B())}let v,b=B=>{v=P.onStop=()=>{Bi(B,f,4)}},_;if($a)if(b=Sr,t?n&&Ar(t,f,3,[d(),m?[]:void 0,b]):d(),o==="sync"){const B=aD();_=B.__watcherHandles||(B.__watcherHandles=[])}else return Sr;let T=m?new Array(e.length).fill(Ul):Ul;const S=()=>{if(P.active)if(t){const B=P.run();(i||p||(m?B.some((te,j)=>La(te,T[j])):La(B,T)))&&(v&&v(),Ar(t,f,3,[B,T===Ul?void 0:m&&T[0]===Ul?[]:T,b]),T=B)}else P.run()};S.allowRecurse=!!t;let O;o==="sync"?O=S:o==="post"?O=()=>Mn(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),O=()=>mv(S));const P=new av(d,O);t?n?S():T=P.run():o==="post"?Mn(P.run.bind(P),f&&f.suspense):P.run();const F=()=>{P.stop(),f&&f.scope&&iv(f.scope.effects,P)};return _&&_.push(F),F}function wP(e,t,n){const i=this.proxy,o=Bt(e)?e.includes(".")?QI(i,e):()=>i[e]:e.bind(i,i);let u;Ue(t)?u=t:(u=t.handler,n=t);const a=Gt;Gs(this);const l=vv(o,u.bind(i),n);return a?Gs(a):Do(),l}function QI(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function Co(e,t){if(!bt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ft(e))Co(e.value,t);else if(Oe(e))for(let n=0;n<e.length;n++)Co(e[n],t);else if(yI(e)||Us(e))e.forEach(n=>{Co(n,t)});else if(_I(e))for(const n in e)Co(e[n],t);return e}function om(e,t){const n=Un;if(n===null)return e;const i=ch(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[a,l,f,d=yt]=t[u];a&&(Ue(a)&&(a={mounted:a,updated:a}),a.deep&&Co(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function bo(e,t,n,i){const o=e.dirs,u=t&&t.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(vu(),Ar(f,n,8,[e.el,l,e,t]),yu())}}function cc(e,t){return Ue(e)?(()=>Jt({name:e.name},t,{setup:e}))():e}const ef=e=>!!e.type.__asyncLoader,JI=e=>e.type.__isKeepAlive;function bP(e,t){ZI(e,"a",t)}function _P(e,t){ZI(e,"da",t)}function ZI(e,t,n=Gt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(oh(t,i,n),n){let o=n.parent;for(;o&&o.parent;)JI(o.parent.vnode)&&EP(i,t,n,o),o=o.parent}}function EP(e,t,n,i){const o=oh(t,e,i,!0);tT(()=>{iv(i[t],o)},n)}function oh(e,t,n=Gt,i=!1){if(n){const o=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...a)=>{if(n.isUnmounted)return;vu(),Gs(n);const l=Ar(t,n,e,a);return Do(),yu(),l});return i?o.unshift(u):o.push(u),u}}const hi=e=>(t,n=Gt)=>(!$a||e==="sp")&&oh(e,(...i)=>t(...i),n),IP=hi("bm"),yv=hi("m"),TP=hi("bu"),SP=hi("u"),eT=hi("bum"),tT=hi("um"),AP=hi("sp"),kP=hi("rtg"),CP=hi("rtc");function xP(e,t=Gt){oh("ec",e,t)}const wv="components";function wt(e,t){return rT(wv,e,!0,t)||e}const nT=Symbol.for("v-ndc");function bv(e){return Bt(e)?rT(wv,e,!1)||e:e||nT}function rT(e,t,n=!0,i=!1){const o=Un||Gt;if(o){const u=o.type;if(e===wv){const l=oD(u,!1);if(l&&(l===t||l===Gr(t)||l===eh(Gr(t))))return u}const a=$_(o[e]||u[e],t)||$_(o.appContext[e],t);return!a&&i?u:a}}function $_(e,t){return e&&(e[t]||e[Gr(t)]||e[eh(Gr(t))])}function lc(e,t,n,i){let o;const u=n&&n[i];if(Oe(e)||Bt(e)){o=new Array(e.length);for(let a=0,l=e.length;a<l;a++)o[a]=t(e[a],a,void 0,u&&u[a])}else if(typeof e=="number"){o=new Array(e);for(let a=0;a<e;a++)o[a]=t(a+1,a,void 0,u&&u[a])}else if(bt(e))if(e[Symbol.iterator])o=Array.from(e,(a,l)=>t(a,l,void 0,u&&u[l]));else{const a=Object.keys(e);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=t(e[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const sm=e=>e?pT(e)?ch(e)||e.proxy:sm(e.parent):null,Ta=Jt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>sm(e.parent),$root:e=>sm(e.root),$emit:e=>e.emit,$options:e=>_v(e),$forceUpdate:e=>e.f||(e.f=()=>mv(e.update)),$nextTick:e=>e.n||(e.n=Br.bind(e.proxy)),$watch:e=>wP.bind(e)}),Cg=(e,t)=>e!==yt&&!e.__isScriptSetup&&Je(e,t),NP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const b=a[t];if(b!==void 0)switch(b){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return u[t]}else{if(Cg(i,t))return a[t]=1,i[t];if(o!==yt&&Je(o,t))return a[t]=2,o[t];if((d=e.propsOptions[0])&&Je(d,t))return a[t]=3,u[t];if(n!==yt&&Je(n,t))return a[t]=4,n[t];um&&(a[t]=0)}}const p=Ta[t];let m,v;if(p)return t==="$attrs"&&Bn(e,"get",t),p(e);if((m=l.__cssModules)&&(m=m[t]))return m;if(n!==yt&&Je(n,t))return a[t]=4,n[t];if(v=f.config.globalProperties,Je(v,t))return v[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:u}=e;return Cg(o,t)?(o[t]=n,!0):i!==yt&&Je(i,t)?(i[t]=n,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||e!==yt&&Je(e,a)||Cg(t,a)||(l=u[0])&&Je(l,a)||Je(i,a)||Je(Ta,a)||Je(o.config.globalProperties,a)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Je(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function H_(e){return Oe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let um=!0;function RP(e){const t=_v(e),n=e.proxy,i=e.ctx;um=!1,t.beforeCreate&&K_(t.beforeCreate,e,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:p,beforeMount:m,mounted:v,beforeUpdate:b,updated:_,activated:T,deactivated:S,beforeDestroy:O,beforeUnmount:P,destroyed:F,unmounted:B,render:te,renderTracked:j,renderTriggered:we,errorCaptured:z,serverPrefetch:ie,expose:k,inheritAttrs:Xe,components:ut,directives:at,filters:ht}=t;if(d&&OP(d,i,null),a)for(const Me in a){const ge=a[Me];Ue(ge)&&(i[Me]=ge.bind(n))}if(o){const Me=o.call(n,n);bt(Me)&&(e.data=li(Me))}if(um=!0,u)for(const Me in u){const ge=u[Me],gt=Ue(ge)?ge.bind(n,n):Ue(ge.get)?ge.get.bind(n,n):Sr,Ct=!Ue(ge)&&Ue(ge.set)?ge.set.bind(n):Sr,Ht=qe({get:gt,set:Ct});Object.defineProperty(i,Me,{enumerable:!0,configurable:!0,get:()=>Ht.value,set:Lt=>Ht.value=Lt})}if(l)for(const Me in l)iT(l[Me],i,n,Me);if(f){const Me=Ue(f)?f.call(n):f;Reflect.ownKeys(Me).forEach(ge=>{Vs(ge,Me[ge])})}p&&K_(p,e,"c");function ue(Me,ge){Oe(ge)?ge.forEach(gt=>Me(gt.bind(n))):ge&&Me(ge.bind(n))}if(ue(IP,m),ue(yv,v),ue(TP,b),ue(SP,_),ue(bP,T),ue(_P,S),ue(xP,z),ue(CP,j),ue(kP,we),ue(eT,P),ue(tT,B),ue(AP,ie),Oe(k))if(k.length){const Me=e.exposed||(e.exposed={});k.forEach(ge=>{Object.defineProperty(Me,ge,{get:()=>n[ge],set:gt=>n[ge]=gt})})}else e.exposed||(e.exposed={});te&&e.render===Sr&&(e.render=te),Xe!=null&&(e.inheritAttrs=Xe),ut&&(e.components=ut),at&&(e.directives=at)}function OP(e,t,n=Sr){Oe(e)&&(e=am(e));for(const i in e){const o=e[i];let u;bt(o)?"default"in o?u=gr(o.from||i,o.default,!0):u=gr(o.from||i):u=gr(o),ft(u)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):t[i]=u}}function K_(e,t,n){Ar(Oe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function iT(e,t,n,i){const o=i.includes(".")?QI(n,i):()=>n[i];if(Bt(e)){const u=t[e];Ue(u)&&ir(o,u)}else if(Ue(e))ir(o,e.bind(n));else if(bt(e))if(Oe(e))e.forEach(u=>iT(u,t,n,i));else{const u=Ue(e.handler)?e.handler.bind(n):t[e.handler];Ue(u)&&ir(o,u,e)}}function _v(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=e.appContext,l=u.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(d=>gf(f,d,a,!0)),gf(f,t,a)),bt(t)&&u.set(t,f),f}function gf(e,t,n,i=!1){const{mixins:o,extends:u}=t;u&&gf(e,u,n,!0),o&&o.forEach(a=>gf(e,a,n,!0));for(const a in t)if(!(i&&a==="expose")){const l=PP[a]||n&&n[a];e[a]=l?l(e[a],t[a]):t[a]}return e}const PP={data:z_,props:G_,emits:G_,methods:ba,computed:ba,beforeCreate:In,created:In,beforeMount:In,mounted:In,beforeUpdate:In,updated:In,beforeDestroy:In,beforeUnmount:In,destroyed:In,unmounted:In,activated:In,deactivated:In,errorCaptured:In,serverPrefetch:In,components:ba,directives:ba,watch:LP,provide:z_,inject:DP};function z_(e,t){return t?e?function(){return Jt(Ue(e)?e.call(this,this):e,Ue(t)?t.call(this,this):t)}:t:e}function DP(e,t){return ba(am(e),am(t))}function am(e){if(Oe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function In(e,t){return e?[...new Set([].concat(e,t))]:t}function ba(e,t){return e?Jt(Object.create(null),e,t):t}function G_(e,t){return e?Oe(e)&&Oe(t)?[...new Set([...e,...t])]:Jt(Object.create(null),H_(e),H_(t??{})):t}function LP(e,t){if(!e)return t;if(!t)return e;const n=Jt(Object.create(null),e);for(const i in t)n[i]=In(e[i],t[i]);return n}function oT(){return{app:null,config:{isNativeTag:fO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MP=0;function FP(e,t){return function(i,o=null){Ue(i)||(i=Jt({},i)),o!=null&&!bt(o)&&(o=null);const u=oT(),a=new Set;let l=!1;const f=u.app={_uid:MP++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:cD,get config(){return u.config},set config(d){},use(d,...p){return a.has(d)||(d&&Ue(d.install)?(a.add(d),d.install(f,...p)):Ue(d)&&(a.add(d),d(f,...p))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,p){return p?(u.components[d]=p,f):u.components[d]},directive(d,p){return p?(u.directives[d]=p,f):u.directives[d]},mount(d,p,m){if(!l){const v=Ie(i,o);return v.appContext=u,p&&t?t(v,d):e(v,d,m),l=!0,f._container=d,d.__vue_app__=f,ch(v.component)||v.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,p){return u.provides[d]=p,f},runWithContext(d){ja=f;try{return d()}finally{ja=null}}};return f}}let ja=null;function Vs(e,t){if(Gt){let n=Gt.provides;const i=Gt.parent&&Gt.parent.provides;i===n&&(n=Gt.provides=Object.create(i)),n[e]=t}}function gr(e,t,n=!1){const i=Gt||Un;if(i||ja){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ja._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ue(t)?t.call(i&&i.proxy):t}}function UP(){return!!(Gt||Un||ja)}function jP(e,t,n,i=!1){const o={},u={};ff(u,uh,1),e.propsDefaults=Object.create(null),sT(e,t,o,u);for(const a in e.propsOptions[0])a in o||(o[a]=void 0);n?e.props=i?o:FI(o):e.type.props?e.props=o:e.props=u,e.attrs=u}function VP(e,t,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=e,l=Ze(o),[f]=e.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const p=e.vnode.dynamicProps;for(let m=0;m<p.length;m++){let v=p[m];if(ih(e.emitsOptions,v))continue;const b=t[v];if(f)if(Je(u,v))b!==u[v]&&(u[v]=b,d=!0);else{const _=Gr(v);o[_]=cm(f,l,_,b,e,!1)}else b!==u[v]&&(u[v]=b,d=!0)}}}else{sT(e,t,o,u)&&(d=!0);let p;for(const m in l)(!t||!Je(t,m)&&((p=mu(m))===m||!Je(t,p)))&&(f?n&&(n[m]!==void 0||n[p]!==void 0)&&(o[m]=cm(f,l,m,void 0,e,!0)):delete o[m]);if(u!==l)for(const m in u)(!t||!Je(t,m))&&(delete u[m],d=!0)}d&&ci(e,"set","$attrs")}function sT(e,t,n,i){const[o,u]=e.propsOptions;let a=!1,l;if(t)for(let f in t){if(Zl(f))continue;const d=t[f];let p;o&&Je(o,p=Gr(f))?!u||!u.includes(p)?n[p]=d:(l||(l={}))[p]=d:ih(e.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Ze(n),d=l||yt;for(let p=0;p<u.length;p++){const m=u[p];n[m]=cm(o,f,m,d[m],e,!Je(d,m))}}return a}function cm(e,t,n,i,o,u){const a=e[n];if(a!=null){const l=Je(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Ue(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Gs(o),i=d[n]=f.call(null,t),Do())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===mu(n))&&(i=!0))}return i}function uT(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const u=e.props,a={},l=[];let f=!1;if(!Ue(e)){const p=m=>{f=!0;const[v,b]=uT(m,t,!0);Jt(a,v),b&&l.push(...b)};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!u&&!f)return bt(e)&&i.set(e,Fs),Fs;if(Oe(u))for(let p=0;p<u.length;p++){const m=Gr(u[p]);W_(m)&&(a[m]=yt)}else if(u)for(const p in u){const m=Gr(p);if(W_(m)){const v=u[p],b=a[m]=Oe(v)||Ue(v)?{type:v}:Jt({},v);if(b){const _=Q_(Boolean,b.type),T=Q_(String,b.type);b[0]=_>-1,b[1]=T<0||_<T,(_>-1||Je(b,"default"))&&l.push(m)}}}const d=[a,l];return bt(e)&&i.set(e,d),d}function W_(e){return e[0]!=="$"}function X_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Y_(e,t){return X_(e)===X_(t)}function Q_(e,t){return Oe(t)?t.findIndex(n=>Y_(n,e)):Ue(t)&&Y_(t,e)?0:-1}const aT=e=>e[0]==="_"||e==="$stable",Ev=e=>Oe(e)?e.map(qr):[qr(e)],BP=(e,t,n)=>{if(t._n)return t;const i=tr((...o)=>Ev(t(...o)),n);return i._c=!1,i},cT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(aT(o))continue;const u=e[o];if(Ue(u))t[o]=BP(o,u,i);else if(u!=null){const a=Ev(u);t[o]=()=>a}}},lT=(e,t)=>{const n=Ev(t);e.slots.default=()=>n},qP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Ze(t),ff(t,"_",n)):cT(t,e.slots={})}else e.slots={},t&&lT(e,t);ff(e.slots,uh,1)},$P=(e,t,n)=>{const{vnode:i,slots:o}=e;let u=!0,a=yt;if(i.shapeFlag&32){const l=t._;l?n&&l===1?u=!1:(Jt(o,t),!n&&l===1&&delete o._):(u=!t.$stable,cT(t,o)),a=t}else t&&(lT(e,t),a={default:1});if(u)for(const l in o)!aT(l)&&!(l in a)&&delete o[l]};function lm(e,t,n,i,o=!1){if(Oe(e)){e.forEach((v,b)=>lm(v,t&&(Oe(t)?t[b]:t),n,i,o));return}if(ef(i)&&!o)return;const u=i.shapeFlag&4?ch(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=e,d=t&&t.r,p=l.refs===yt?l.refs={}:l.refs,m=l.setupState;if(d!=null&&d!==f&&(Bt(d)?(p[d]=null,Je(m,d)&&(m[d]=null)):ft(d)&&(d.value=null)),Ue(f))Bi(f,l,12,[a,p]);else{const v=Bt(f),b=ft(f);if(v||b){const _=()=>{if(e.f){const T=v?Je(m,f)?m[f]:p[f]:f.value;o?Oe(T)&&iv(T,u):Oe(T)?T.includes(u)||T.push(u):v?(p[f]=[u],Je(m,f)&&(m[f]=p[f])):(f.value=[u],e.k&&(p[e.k]=f.value))}else v?(p[f]=a,Je(m,f)&&(m[f]=a)):b&&(f.value=a,e.k&&(p[e.k]=a))};a?(_.id=-1,Mn(_,n)):_()}}}const Mn=vP;function HP(e){return KP(e)}function KP(e,t){const n=em();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:p,parentNode:m,nextSibling:v,setScopeId:b=Sr,insertStaticContent:_}=e,T=(I,A,R,U=null,V=null,W=null,re=!1,Q=null,ee=!!A.dynamicChildren)=>{if(I===A)return;I&&!ha(I,A)&&(U=D(I),Lt(I,V,W,!0),I=null),A.patchFlag===-2&&(ee=!1,A.dynamicChildren=null);const{type:Y,ref:be,shapeFlag:ce}=A;switch(Y){case sh:S(I,A,R,U);break;case jo:O(I,A,R,U);break;case tf:I==null&&P(A,R,U,re);break;case zt:ut(I,A,R,U,V,W,re,Q,ee);break;default:ce&1?te(I,A,R,U,V,W,re,Q,ee):ce&6?at(I,A,R,U,V,W,re,Q,ee):(ce&64||ce&128)&&Y.process(I,A,R,U,V,W,re,Q,ee,Z)}be!=null&&V&&lm(be,I&&I.ref,W,A||I,!A)},S=(I,A,R,U)=>{if(I==null)i(A.el=l(A.children),R,U);else{const V=A.el=I.el;A.children!==I.children&&d(V,A.children)}},O=(I,A,R,U)=>{I==null?i(A.el=f(A.children||""),R,U):A.el=I.el},P=(I,A,R,U)=>{[I.el,I.anchor]=_(I.children,A,R,U,I.el,I.anchor)},F=({el:I,anchor:A},R,U)=>{let V;for(;I&&I!==A;)V=v(I),i(I,R,U),I=V;i(A,R,U)},B=({el:I,anchor:A})=>{let R;for(;I&&I!==A;)R=v(I),o(I),I=R;o(A)},te=(I,A,R,U,V,W,re,Q,ee)=>{re=re||A.type==="svg",I==null?j(A,R,U,V,W,re,Q,ee):ie(I,A,V,W,re,Q,ee)},j=(I,A,R,U,V,W,re,Q)=>{let ee,Y;const{type:be,props:ce,shapeFlag:ve,transition:ke,dirs:Be}=I;if(ee=I.el=a(I.type,W,ce&&ce.is,ce),ve&8?p(ee,I.children):ve&16&&z(I.children,ee,null,U,V,W&&be!=="foreignObject",re,Q),Be&&bo(I,null,U,"created"),we(ee,I,I.scopeId,re,U),ce){for(const N in ce)N!=="value"&&!Zl(N)&&u(ee,N,null,ce[N],W,I.children,U,V,me);"value"in ce&&u(ee,"value",null,ce.value),(Y=ce.onVnodeBeforeMount)&&jr(Y,U,I)}Be&&bo(I,null,U,"beforeMount");const Ee=(!V||V&&!V.pendingBranch)&&ke&&!ke.persisted;Ee&&ke.beforeEnter(ee),i(ee,A,R),((Y=ce&&ce.onVnodeMounted)||Ee||Be)&&Mn(()=>{Y&&jr(Y,U,I),Ee&&ke.enter(ee),Be&&bo(I,null,U,"mounted")},V)},we=(I,A,R,U,V)=>{if(R&&b(I,R),U)for(let W=0;W<U.length;W++)b(I,U[W]);if(V){let W=V.subTree;if(A===W){const re=V.vnode;we(I,re,re.scopeId,re.slotScopeIds,V.parent)}}},z=(I,A,R,U,V,W,re,Q,ee=0)=>{for(let Y=ee;Y<I.length;Y++){const be=I[Y]=Q?Ni(I[Y]):qr(I[Y]);T(null,be,A,R,U,V,W,re,Q)}},ie=(I,A,R,U,V,W,re)=>{const Q=A.el=I.el;let{patchFlag:ee,dynamicChildren:Y,dirs:be}=A;ee|=I.patchFlag&16;const ce=I.props||yt,ve=A.props||yt;let ke;R&&_o(R,!1),(ke=ve.onVnodeBeforeUpdate)&&jr(ke,R,A,I),be&&bo(A,I,R,"beforeUpdate"),R&&_o(R,!0);const Be=V&&A.type!=="foreignObject";if(Y?k(I.dynamicChildren,Y,Q,R,U,Be,W):re||ge(I,A,Q,null,R,U,Be,W,!1),ee>0){if(ee&16)Xe(Q,A,ce,ve,R,U,V);else if(ee&2&&ce.class!==ve.class&&u(Q,"class",null,ve.class,V),ee&4&&u(Q,"style",ce.style,ve.style,V),ee&8){const Ee=A.dynamicProps;for(let N=0;N<Ee.length;N++){const x=Ee[N],K=ce[x],oe=ve[x];(oe!==K||x==="value")&&u(Q,x,K,oe,V,I.children,R,U,me)}}ee&1&&I.children!==A.children&&p(Q,A.children)}else!re&&Y==null&&Xe(Q,A,ce,ve,R,U,V);((ke=ve.onVnodeUpdated)||be)&&Mn(()=>{ke&&jr(ke,R,A,I),be&&bo(A,I,R,"updated")},U)},k=(I,A,R,U,V,W,re)=>{for(let Q=0;Q<A.length;Q++){const ee=I[Q],Y=A[Q],be=ee.el&&(ee.type===zt||!ha(ee,Y)||ee.shapeFlag&70)?m(ee.el):R;T(ee,Y,be,null,U,V,W,re,!0)}},Xe=(I,A,R,U,V,W,re)=>{if(R!==U){if(R!==yt)for(const Q in R)!Zl(Q)&&!(Q in U)&&u(I,Q,R[Q],null,re,A.children,V,W,me);for(const Q in U){if(Zl(Q))continue;const ee=U[Q],Y=R[Q];ee!==Y&&Q!=="value"&&u(I,Q,Y,ee,re,A.children,V,W,me)}"value"in U&&u(I,"value",R.value,U.value)}},ut=(I,A,R,U,V,W,re,Q,ee)=>{const Y=A.el=I?I.el:l(""),be=A.anchor=I?I.anchor:l("");let{patchFlag:ce,dynamicChildren:ve,slotScopeIds:ke}=A;ke&&(Q=Q?Q.concat(ke):ke),I==null?(i(Y,R,U),i(be,R,U),z(A.children,R,be,V,W,re,Q,ee)):ce>0&&ce&64&&ve&&I.dynamicChildren?(k(I.dynamicChildren,ve,R,V,W,re,Q),(A.key!=null||V&&A===V.subTree)&&fT(I,A,!0)):ge(I,A,R,be,V,W,re,Q,ee)},at=(I,A,R,U,V,W,re,Q,ee)=>{A.slotScopeIds=Q,I==null?A.shapeFlag&512?V.ctx.activate(A,R,U,re,ee):ht(A,R,U,V,W,re,ee):Ye(I,A,ee)},ht=(I,A,R,U,V,W,re)=>{const Q=I.component=eD(I,U,V);if(JI(I)&&(Q.ctx.renderer=Z),tD(Q),Q.asyncDep){if(V&&V.registerDep(Q,ue),!I.el){const ee=Q.subTree=Ie(jo);O(null,ee,A,R)}return}ue(Q,I,A,R,V,W,re)},Ye=(I,A,R)=>{const U=A.component=I.component;if(pP(I,A,R))if(U.asyncDep&&!U.asyncResolved){Me(U,A,R);return}else U.next=A,aP(U.update),U.update();else A.el=I.el,U.vnode=A},ue=(I,A,R,U,V,W,re)=>{const Q=()=>{if(I.isMounted){let{next:be,bu:ce,u:ve,parent:ke,vnode:Be}=I,Ee=be,N;_o(I,!1),be?(be.el=Be.el,Me(I,be,re)):be=Be,ce&&Ag(ce),(N=be.props&&be.props.onVnodeBeforeUpdate)&&jr(N,ke,be,Be),_o(I,!0);const x=kg(I),K=I.subTree;I.subTree=x,T(K,x,m(K.el),D(K),I,V,W),be.el=x.el,Ee===null&&gP(I,x.el),ve&&Mn(ve,V),(N=be.props&&be.props.onVnodeUpdated)&&Mn(()=>jr(N,ke,be,Be),V)}else{let be;const{el:ce,props:ve}=A,{bm:ke,m:Be,parent:Ee}=I,N=ef(A);if(_o(I,!1),ke&&Ag(ke),!N&&(be=ve&&ve.onVnodeBeforeMount)&&jr(be,Ee,A),_o(I,!0),ce&&Pe){const x=()=>{I.subTree=kg(I),Pe(ce,I.subTree,I,V,null)};N?A.type.__asyncLoader().then(()=>!I.isUnmounted&&x()):x()}else{const x=I.subTree=kg(I);T(null,x,R,U,I,V,W),A.el=x.el}if(Be&&Mn(Be,V),!N&&(be=ve&&ve.onVnodeMounted)){const x=A;Mn(()=>jr(be,Ee,x),V)}(A.shapeFlag&256||Ee&&ef(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&I.a&&Mn(I.a,V),I.isMounted=!0,A=R=U=null}},ee=I.effect=new av(Q,()=>mv(Y),I.scope),Y=I.update=()=>ee.run();Y.id=I.uid,_o(I,!0),Y()},Me=(I,A,R)=>{A.component=I;const U=I.vnode.props;I.vnode=A,I.next=null,VP(I,A.props,U,R),$P(I,A.children,R),vu(),B_(),yu()},ge=(I,A,R,U,V,W,re,Q,ee=!1)=>{const Y=I&&I.children,be=I?I.shapeFlag:0,ce=A.children,{patchFlag:ve,shapeFlag:ke}=A;if(ve>0){if(ve&128){Ct(Y,ce,R,U,V,W,re,Q,ee);return}else if(ve&256){gt(Y,ce,R,U,V,W,re,Q,ee);return}}ke&8?(be&16&&me(Y,V,W),ce!==Y&&p(R,ce)):be&16?ke&16?Ct(Y,ce,R,U,V,W,re,Q,ee):me(Y,V,W,!0):(be&8&&p(R,""),ke&16&&z(ce,R,U,V,W,re,Q,ee))},gt=(I,A,R,U,V,W,re,Q,ee)=>{I=I||Fs,A=A||Fs;const Y=I.length,be=A.length,ce=Math.min(Y,be);let ve;for(ve=0;ve<ce;ve++){const ke=A[ve]=ee?Ni(A[ve]):qr(A[ve]);T(I[ve],ke,R,null,V,W,re,Q,ee)}Y>be?me(I,V,W,!0,!1,ce):z(A,R,U,V,W,re,Q,ee,ce)},Ct=(I,A,R,U,V,W,re,Q,ee)=>{let Y=0;const be=A.length;let ce=I.length-1,ve=be-1;for(;Y<=ce&&Y<=ve;){const ke=I[Y],Be=A[Y]=ee?Ni(A[Y]):qr(A[Y]);if(ha(ke,Be))T(ke,Be,R,null,V,W,re,Q,ee);else break;Y++}for(;Y<=ce&&Y<=ve;){const ke=I[ce],Be=A[ve]=ee?Ni(A[ve]):qr(A[ve]);if(ha(ke,Be))T(ke,Be,R,null,V,W,re,Q,ee);else break;ce--,ve--}if(Y>ce){if(Y<=ve){const ke=ve+1,Be=ke<be?A[ke].el:U;for(;Y<=ve;)T(null,A[Y]=ee?Ni(A[Y]):qr(A[Y]),R,Be,V,W,re,Q,ee),Y++}}else if(Y>ve)for(;Y<=ce;)Lt(I[Y],V,W,!0),Y++;else{const ke=Y,Be=Y,Ee=new Map;for(Y=Be;Y<=ve;Y++){const Ne=A[Y]=ee?Ni(A[Y]):qr(A[Y]);Ne.key!=null&&Ee.set(Ne.key,Y)}let N,x=0;const K=ve-Be+1;let oe=!1,fe=0;const Ce=new Array(K);for(Y=0;Y<K;Y++)Ce[Y]=0;for(Y=ke;Y<=ce;Y++){const Ne=I[Y];if(x>=K){Lt(Ne,V,W,!0);continue}let Fe;if(Ne.key!=null)Fe=Ee.get(Ne.key);else for(N=Be;N<=ve;N++)if(Ce[N-Be]===0&&ha(Ne,A[N])){Fe=N;break}Fe===void 0?Lt(Ne,V,W,!0):(Ce[Fe-Be]=Y+1,Fe>=fe?fe=Fe:oe=!0,T(Ne,A[Fe],R,null,V,W,re,Q,ee),x++)}const je=oe?zP(Ce):Fs;for(N=je.length-1,Y=K-1;Y>=0;Y--){const Ne=Be+Y,Fe=A[Ne],De=Ne+1<be?A[Ne+1].el:U;Ce[Y]===0?T(null,Fe,R,De,V,W,re,Q,ee):oe&&(N<0||Y!==je[N]?Ht(Fe,R,De,2):N--)}}},Ht=(I,A,R,U,V=null)=>{const{el:W,type:re,transition:Q,children:ee,shapeFlag:Y}=I;if(Y&6){Ht(I.component.subTree,A,R,U);return}if(Y&128){I.suspense.move(A,R,U);return}if(Y&64){re.move(I,A,R,Z);return}if(re===zt){i(W,A,R);for(let ce=0;ce<ee.length;ce++)Ht(ee[ce],A,R,U);i(I.anchor,A,R);return}if(re===tf){F(I,A,R);return}if(U!==2&&Y&1&&Q)if(U===0)Q.beforeEnter(W),i(W,A,R),Mn(()=>Q.enter(W),V);else{const{leave:ce,delayLeave:ve,afterLeave:ke}=Q,Be=()=>i(W,A,R),Ee=()=>{ce(W,()=>{Be(),ke&&ke()})};ve?ve(W,Be,Ee):Ee()}else i(W,A,R)},Lt=(I,A,R,U=!1,V=!1)=>{const{type:W,props:re,ref:Q,children:ee,dynamicChildren:Y,shapeFlag:be,patchFlag:ce,dirs:ve}=I;if(Q!=null&&lm(Q,null,R,I,!0),be&256){A.ctx.deactivate(I);return}const ke=be&1&&ve,Be=!ef(I);let Ee;if(Be&&(Ee=re&&re.onVnodeBeforeUnmount)&&jr(Ee,A,I),be&6)de(I.component,R,U);else{if(be&128){I.suspense.unmount(R,U);return}ke&&bo(I,null,A,"beforeUnmount"),be&64?I.type.remove(I,A,R,V,Z,U):Y&&(W!==zt||ce>0&&ce&64)?me(Y,A,R,!1,!0):(W===zt&&ce&384||!V&&be&16)&&me(ee,A,R),U&&mt(I)}(Be&&(Ee=re&&re.onVnodeUnmounted)||ke)&&Mn(()=>{Ee&&jr(Ee,A,I),ke&&bo(I,null,A,"unmounted")},R)},mt=I=>{const{type:A,el:R,anchor:U,transition:V}=I;if(A===zt){zn(R,U);return}if(A===tf){B(I);return}const W=()=>{o(R),V&&!V.persisted&&V.afterLeave&&V.afterLeave()};if(I.shapeFlag&1&&V&&!V.persisted){const{leave:re,delayLeave:Q}=V,ee=()=>re(R,W);Q?Q(I.el,W,ee):ee()}else W()},zn=(I,A)=>{let R;for(;I!==A;)R=v(I),o(I),I=R;o(A)},de=(I,A,R)=>{const{bum:U,scope:V,update:W,subTree:re,um:Q}=I;U&&Ag(U),V.stop(),W&&(W.active=!1,Lt(re,I,A,R)),Q&&Mn(Q,A),Mn(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},me=(I,A,R,U=!1,V=!1,W=0)=>{for(let re=W;re<I.length;re++)Lt(I[re],A,R,U,V)},D=I=>I.shapeFlag&6?D(I.component.subTree):I.shapeFlag&128?I.suspense.next():v(I.anchor||I.el),$=(I,A,R)=>{I==null?A._vnode&&Lt(A._vnode,null,null,!0):T(A._vnode||null,I,A,null,null,null,R),B_(),GI(),A._vnode=I},Z={p:T,um:Lt,m:Ht,r:mt,mt:ht,mc:z,pc:ge,pbc:k,n:D,o:e};let ae,Pe;return t&&([ae,Pe]=t(Z)),{render:$,hydrate:ae,createApp:FP($,ae)}}function _o({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function fT(e,t,n=!1){const i=e.children,o=t.children;if(Oe(i)&&Oe(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=Ni(o[u]),l.el=a.el),n||fT(a,l)),l.type===sh&&(l.el=a.el)}}function zP(e){const t=e.slice(),n=[0];let i,o,u,a,l;const f=e.length;for(i=0;i<f;i++){const d=e[i];if(d!==0){if(o=n[n.length-1],e[o]<d){t[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,e[n[l]]<d?u=l+1:a=l;d<e[n[u]]&&(u>0&&(t[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=t[a];return n}const GP=e=>e.__isTeleport,zt=Symbol.for("v-fgt"),sh=Symbol.for("v-txt"),jo=Symbol.for("v-cmt"),tf=Symbol.for("v-stc"),Sa=[];let Tr=null;function We(e=!1){Sa.push(Tr=e?null:[])}function WP(){Sa.pop(),Tr=Sa[Sa.length-1]||null}let Va=1;function J_(e){Va+=e}function hT(e){return e.dynamicChildren=Va>0?Tr||Fs:null,WP(),Va>0&&Tr&&Tr.push(e),e}function it(e,t,n,i,o,u){return hT(C(e,t,n,i,o,u,!0))}function Ks(e,t,n,i,o){return hT(Ie(e,t,n,i,o,!0))}function fm(e){return e?e.__v_isVNode===!0:!1}function ha(e,t){return e.type===t.type&&e.key===t.key}const uh="__vInternal",dT=({key:e})=>e??null,nf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Bt(e)||ft(e)||Ue(e)?{i:Un,r:e,k:t,f:!!n}:e:null);function C(e,t=null,n=null,i=0,o=null,u=e===zt?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&dT(t),ref:t&&nf(t),scopeId:YI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Un};return l?(Iv(f,n),u&128&&e.normalize(f)):n&&(f.shapeFlag|=Bt(n)?8:16),Va>0&&!a&&Tr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&Tr.push(f),f}const Ie=XP;function XP(e,t=null,n=null,i=0,o=null,u=!1){if((!e||e===nT)&&(e=jo),fm(e)){const l=zs(e,t,!0);return n&&Iv(l,n),Va>0&&!u&&Tr&&(l.shapeFlag&6?Tr[Tr.indexOf(e)]=l:Tr.push(l)),l.patchFlag|=-2,l}if(sD(e)&&(e=e.__vccOpts),t){t=YP(t);let{class:l,style:f}=t;l&&!Bt(l)&&(t.class=jt(l)),bt(f)&&(UI(f)&&!Oe(f)&&(f=Jt({},f)),t.style=$s(f))}const a=Bt(e)?1:mP(e)?128:GP(e)?64:bt(e)?4:Ue(e)?2:0;return C(e,t,n,i,o,a,u,!0)}function YP(e){return e?UI(e)||uh in e?Jt({},e):e:null}function zs(e,t,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=e,l=t?qa(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&dT(l),ref:t&&t.ref?n&&o?Oe(o)?o.concat(nf(t)):[o,nf(t)]:nf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==zt?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zs(e.ssContent),ssFallback:e.ssFallback&&zs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function un(e=" ",t=0){return Ie(sh,null,e,t)}function QP(e,t){const n=Ie(tf,null,e);return n.staticCount=t,n}function Ba(e="",t=!1){return t?(We(),Ks(jo,null,e)):Ie(jo,null,e)}function qr(e){return e==null||typeof e=="boolean"?Ie(jo):Oe(e)?Ie(zt,null,e.slice()):typeof e=="object"?Ni(e):Ie(sh,null,String(e))}function Ni(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zs(e)}function Iv(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Oe(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),Iv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(uh in t)?t._ctx=Un:o===3&&Un&&(Un.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ue(t)?(t={default:t,_ctx:Un},n=32):(t=String(t),i&64?(n=16,t=[un(t)]):n=8);e.children=t,e.shapeFlag|=n}function qa(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=jt([t.class,i.class]));else if(o==="style")t.style=$s([t.style,i.style]);else if(Qf(o)){const u=t[o],a=i[o];a&&u!==a&&!(Oe(u)&&u.includes(a))&&(t[o]=u?[].concat(u,a):a)}else o!==""&&(t[o]=i[o])}return t}function jr(e,t,n,i=null){Ar(e,t,7,[n,i])}const JP=oT();let ZP=0;function eD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||JP,u={uid:ZP++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new TI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:uT(i,o),emitsOptions:XI(i,o),emit:null,emitted:null,propsDefaults:yt,inheritAttrs:i.inheritAttrs,ctx:yt,data:yt,props:yt,attrs:yt,slots:yt,refs:yt,setupState:yt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=fP.bind(null,u),e.ce&&e.ce(u),u}let Gt=null;const ah=()=>Gt||Un;let Tv,Ss,Z_="__VUE_INSTANCE_SETTERS__";(Ss=em()[Z_])||(Ss=em()[Z_]=[]),Ss.push(e=>Gt=e),Tv=e=>{Ss.length>1?Ss.forEach(t=>t(e)):Ss[0](e)};const Gs=e=>{Tv(e),e.scope.on()},Do=()=>{Gt&&Gt.scope.off(),Tv(null)};function pT(e){return e.vnode.shapeFlag&4}let $a=!1;function tD(e,t=!1){$a=t;const{props:n,children:i}=e.vnode,o=pT(e);jP(e,n,o,t),qP(e,i);const u=o?nD(e,t):void 0;return $a=!1,u}function nD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=nh(new Proxy(e.ctx,NP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?iD(e):null;Gs(e),vu();const u=Bi(i,e,0,[e.props,o]);if(yu(),Do(),wI(u)){if(u.then(Do,Do),t)return u.then(a=>{e1(e,a,t)}).catch(a=>{rh(a,e,0)});e.asyncDep=u}else e1(e,u,t)}else gT(e,t)}function e1(e,t,n){Ue(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:bt(t)&&(e.setupState=$I(t)),gT(e,n)}let t1;function gT(e,t,n){const i=e.type;if(!e.render){if(!t&&t1&&!i.render){const o=i.template||_v(e).template;if(o){const{isCustomElement:u,compilerOptions:a}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,d=Jt(Jt({isCustomElement:u,delimiters:l},a),f);i.render=t1(o,d)}}e.render=i.render||Sr}Gs(e),vu(),RP(e),yu(),Do()}function rD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Bn(e,"get","$attrs"),t[n]}}))}function iD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return rD(e)},slots:e.slots,emit:e.emit,expose:t}}function ch(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy($I(nh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ta)return Ta[n](e)},has(t,n){return n in t||n in Ta}}))}function oD(e,t=!0){return Ue(e)?e.displayName||e.name:e.name||t&&e.__name}function sD(e){return Ue(e)&&"__vccOpts"in e}const qe=(e,t)=>oP(e,t,$a);function Ws(e,t,n){const i=arguments.length;return i===2?bt(t)&&!Oe(t)?fm(t)?Ie(e,null,[t]):Ie(e,t):Ie(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&fm(n)&&(n=[n]),Ie(e,t,n))}const uD=Symbol.for("v-scx"),aD=()=>gr(uD),cD="3.3.4",lD="http://www.w3.org/2000/svg",Ao=typeof document<"u"?document:null,n1=Ao&&Ao.createElement("template"),fD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Ao.createElementNS(lD,e):Ao.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Ao.createTextNode(e),createComment:e=>Ao.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ao.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,u){const a=n?n.previousSibling:t.lastChild;if(o&&(o===u||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{n1.innerHTML=i?`<svg>${e}</svg>`:e;const l=n1.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function hD(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function dD(e,t,n){const i=e.style,o=Bt(n);if(n&&!o){if(t&&!Bt(t))for(const u in t)n[u]==null&&hm(i,u,"");for(const u in n)hm(i,u,n[u])}else{const u=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=u)}}const r1=/\s*!important$/;function hm(e,t,n){if(Oe(n))n.forEach(i=>hm(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=pD(e,t);r1.test(n)?e.setProperty(mu(i),n.replace(r1,""),"important"):e[i]=n}}const i1=["Webkit","Moz","ms"],xg={};function pD(e,t){const n=xg[t];if(n)return n;let i=Gr(t);if(i!=="filter"&&i in e)return xg[t]=i;i=eh(i);for(let o=0;o<i1.length;o++){const u=i1[o]+i;if(u in e)return xg[t]=u}return t}const o1="http://www.w3.org/1999/xlink";function gD(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(o1,t.slice(6,t.length)):e.setAttributeNS(o1,t,n);else{const u=IO(t);n==null||u&&!EI(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function mD(e,t,n,i,o,u,a){if(t==="innerHTML"||t==="textContent"){i&&a(i,o,u),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,p=n??"";d!==p&&(e.value=p),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=EI(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function vD(e,t,n,i){e.addEventListener(t,n,i)}function yD(e,t,n,i){e.removeEventListener(t,n,i)}function wD(e,t,n,i,o=null){const u=e._vei||(e._vei={}),a=u[t];if(i&&a)a.value=i;else{const[l,f]=bD(t);if(i){const d=u[t]=ID(i,o);vD(e,l,d,f)}else a&&(yD(e,l,a,f),u[t]=void 0)}}const s1=/(?:Once|Passive|Capture)$/;function bD(e){let t;if(s1.test(e)){t={};let i;for(;i=e.match(s1);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):mu(e.slice(2)),t]}let Ng=0;const _D=Promise.resolve(),ED=()=>Ng||(_D.then(()=>Ng=0),Ng=Date.now());function ID(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ar(TD(i,n.value),t,5,[i])};return n.value=e,n.attached=ED(),n}function TD(e,t){if(Oe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const u1=/^on[a-z]/,SD=(e,t,n,i,o=!1,u,a,l,f)=>{t==="class"?hD(e,i,o):t==="style"?dD(e,n,i):Qf(t)?rv(t)||wD(e,t,n,i,a):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):AD(e,t,i,o))?mD(e,t,i,u,a,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),gD(e,t,i,o))};function AD(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&u1.test(t)&&Ue(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||u1.test(t)&&Bt(n)?!1:t in e}const kD=["ctrl","shift","alt","meta"],CD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kD.some(n=>e[`${n}Key`]&&!t.includes(n))},hn=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const u=CD[t[o]];if(u&&u(n,t))return}return e(n,...i)},dm={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):da(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),da(e,!0),i.enter(e)):i.leave(e,()=>{da(e,!1)}):da(e,t))},beforeUnmount(e,{value:t}){da(e,t)}};function da(e,t){e.style.display=t?e._vod:"none"}const xD=Jt({patchProp:SD},fD);let a1;function ND(){return a1||(a1=HP(xD))}const RD=(...e)=>{const t=ND().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=OD(i);if(!o)return;const u=t._component;!Ue(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},t};function OD(e){return Bt(e)?document.querySelector(e):e}var PD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let mT;const lh=e=>mT=e,vT=Symbol();function pm(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Aa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Aa||(Aa={}));function DD(){const e=SI(!0),t=e.run(()=>An({}));let n=[],i=[];const o=nh({install(u){lh(o),o._a=u,u.provide(vT,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!PD?i.push(u):n.push(u),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const yT=()=>{};function c1(e,t,n,i=yT){e.push(t);const o=()=>{const u=e.indexOf(t);u>-1&&(e.splice(u,1),i())};return!n&&AI()&&SO(o),o}function As(e,...t){e.slice().forEach(n=>{n(...t)})}const LD=e=>e();function gm(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];pm(o)&&pm(i)&&e.hasOwnProperty(n)&&!ft(i)&&!Vi(i)?e[n]=gm(o,i):e[n]=i}return e}const MD=Symbol();function FD(e){return!pm(e)||!e.hasOwnProperty(MD)}const{assign:xi}=Object;function UD(e){return!!(ft(e)&&e.effect)}function jD(e,t,n,i){const{state:o,actions:u,getters:a}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const p=tP(n.state.value[e]);return xi(p,u,Object.keys(a||{}).reduce((m,v)=>(m[v]=nh(qe(()=>{lh(n);const b=n._s.get(e);return a[v].call(b,b)})),m),{}))}return f=wT(e,d,t,n,i,!0),f}function wT(e,t,n={},i,o,u){let a;const l=xi({actions:{}},n),f={deep:!0};let d,p,m=[],v=[],b;const _=i.state.value[e];!u&&!_&&(i.state.value[e]={}),An({});let T;function S(z){let ie;d=p=!1,typeof z=="function"?(z(i.state.value[e]),ie={type:Aa.patchFunction,storeId:e,events:b}):(gm(i.state.value[e],z),ie={type:Aa.patchObject,payload:z,storeId:e,events:b});const k=T=Symbol();Br().then(()=>{T===k&&(d=!0)}),p=!0,As(m,ie,i.state.value[e])}const O=u?function(){const{state:ie}=n,k=ie?ie():{};this.$patch(Xe=>{xi(Xe,k)})}:yT;function P(){a.stop(),m=[],v=[],i._s.delete(e)}function F(z,ie){return function(){lh(i);const k=Array.from(arguments),Xe=[],ut=[];function at(ue){Xe.push(ue)}function ht(ue){ut.push(ue)}As(v,{args:k,name:z,store:te,after:at,onError:ht});let Ye;try{Ye=ie.apply(this&&this.$id===e?this:te,k)}catch(ue){throw As(ut,ue),ue}return Ye instanceof Promise?Ye.then(ue=>(As(Xe,ue),ue)).catch(ue=>(As(ut,ue),Promise.reject(ue))):(As(Xe,Ye),Ye)}}const B={_p:i,$id:e,$onAction:c1.bind(null,v),$patch:S,$reset:O,$subscribe(z,ie={}){const k=c1(m,z,ie.detached,()=>Xe()),Xe=a.run(()=>ir(()=>i.state.value[e],ut=>{(ie.flush==="sync"?p:d)&&z({storeId:e,type:Aa.direct,events:b},ut)},xi({},f,ie)));return k},$dispose:P},te=li(B);i._s.set(e,te);const we=(i._a&&i._a.runWithContext||LD)(()=>i._e.run(()=>(a=SI()).run(t)));for(const z in we){const ie=we[z];if(ft(ie)&&!UD(ie)||Vi(ie))u||(_&&FD(ie)&&(ft(ie)?ie.value=_[z]:gm(ie,_[z])),i.state.value[e][z]=ie);else if(typeof ie=="function"){const k=F(z,ie);we[z]=k,l.actions[z]=ie}}return xi(te,we),xi(Ze(te),we),Object.defineProperty(te,"$state",{get:()=>i.state.value[e],set:z=>{S(ie=>{xi(ie,z)})}}),i._p.forEach(z=>{xi(te,a.run(()=>z({store:te,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(te.$state,_),d=!0,p=!0,te}function Sv(e,t,n){let i,o;const u=typeof t=="function";typeof e=="string"?(i=e,o=u?n:t):(o=e,i=e.id);function a(l,f){const d=UP();return l=l||(d?gr(vT,null):null),l&&lh(l),l=mT,l._s.has(i)||(u?wT(i,t,o,l):jD(i,o,l)),l._s.get(i)}return a.$id=i,a}let VD="Store";function BD(...e){return e.reduce((t,n)=>(t[n.$id+VD]=function(){return n(this.$pinia)},t),{})}function fh(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),u=t[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function hh(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function Av(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const mf=Sv("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var mm=function(e,t){return mm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},mm(e,t)};function Se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");mm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Xs=function(){return Xs=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(t[u]=n[u])}return t},Xs.apply(this,arguments)};function H(e,t,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(p){try{d(i.next(p))}catch(m){a(m)}}function f(p){try{d(i.throw(p))}catch(m){a(m)}}function d(p){p.done?u(p.value):o(p.value).then(l,f)}d((i=i.apply(e,t||[])).next())})}function q(e,t){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(p){return f([d,p])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(p){d=[6,p],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Rg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function jl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,u=[],a;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function It(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bT=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},qD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=e[n++];t[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=e[n++],a=e[n++],l=e[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var u=e[n++],a=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return t.join("")},$D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var u=e[o],a=o+1<e.length,l=a?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,p=u>>2,m=(u&3)<<4|l>>4,v=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(v=64)),i.push(n[p],n[m],n[v],n[b])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(bT(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var u=n[e.charAt(o++)],a=o<e.length,l=a?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var p=o<e.length,m=p?n[e.charAt(o)]:64;if(++o,u==null||l==null||d==null||m==null)throw Error();var v=u<<2|l>>4;if(i.push(v),d!==64){var b=l<<4&240|d>>2;if(i.push(b),m!==64){var _=d<<6&192|m;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},HD=function(e){var t=bT(e);return $D.encodeByteArray(t,!0)},l1=function(e){return HD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(e){return Ha(void 0,e)}function Ha(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!zD(i)||(e[i]=Ha(e[i],t[i]));return e}function zD(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GD=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,u=e.sub||e.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Xs({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[l1(JSON.stringify(n)),l1(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vo())}function ET(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XD(){return typeof self=="object"&&self.self===self}function YD(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function QD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JD(){return Vo().indexOf("Electron/")>=0}function ZD(){var e=Vo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function eL(){return Vo().indexOf("MSAppHost/")>=0}function tL(){return!ET()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL="FirebaseError",IT=function(e){Se(t,e);function t(n,i,o){var u=e.call(this,i)||this;return u.code=n,u.customData=o,u.name=nL,Object.setPrototypeOf(u,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,kv.prototype.create),u}return t}(Error),kv=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+t,a=this.errors[t],l=a?rL(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new IT(u,f,o);return d},e}();function rL(e,t){return e.replace(iL,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var iL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function oL(e,t){var n=new sL(e,t);return n.subscribe.bind(n)}var sL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,u;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");uL(t,["next","error","complete"])?u=t:u={next:t,error:n,complete:i},u.next===void 0&&(u.next=Og),u.error===void 0&&(u.error=Og),u.complete===void 0&&(u.complete=Og);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function uL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){return e&&e._delegate?e._delegate:e}var fc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new GD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(lL(t))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}try{for(var o=Rg(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=jl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var p=this.getOrInitializeService({instanceIdentifier:d});f.resolve(p)}catch{}}}catch(m){n={error:m}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Io),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(It(It([],jl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),jl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Io),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Io),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Rg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var p=jl(d.value,2),m=p[0],v=p[1],b=this.normalizeInstanceIdentifier(m);a===b&&v.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(t),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&t(a,o),function(){u.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Rg(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:cL(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Io),this.component?this.component.multipleInstances?t:Io:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function cL(e){return e===Io?void 0:e}function lL(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new aL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Er(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var u=arguments[t],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo,Cv=[],tt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(tt||(tt={}));var TT={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},hL=tt.INFO,dL=(Eo={},Eo[tt.DEBUG]="log",Eo[tt.VERBOSE]="log",Eo[tt.INFO]="info",Eo[tt.WARN]="warn",Eo[tt.ERROR]="error",Eo),pL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),u=dL[t];if(u)console[u].apply(console,Er(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},ST=function(){function e(t){this.name=t,this._logLevel=hL,this._logHandler=pL,this._userLogHandler=null,Cv.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in tt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?TT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,tt.DEBUG],t)),this._logHandler.apply(this,Er([this,tt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,tt.VERBOSE],t)),this._logHandler.apply(this,Er([this,tt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,tt.INFO],t)),this._logHandler.apply(this,Er([this,tt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,tt.WARN],t)),this._logHandler.apply(this,Er([this,tt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Er([this,tt.ERROR],t)),this._logHandler.apply(this,Er([this,tt.ERROR],t))},e}();function gL(e){Cv.forEach(function(t){t.setLogLevel(e)})}function mL(e,t){for(var n=function(a){var l=null;t&&t.level&&(l=TT[t.level]),e===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var p=[],m=2;m<arguments.length;m++)p[m-2]=arguments[m];var v=p.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&e({level:tt[d].toLowerCase(),message:v,args:p,type:f.name})}},i=0,o=Cv;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si,vL=(Si={},Si["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Si["bad-app-name"]="Illegal App name: '{$appName}",Si["duplicate-app"]="Firebase App named '{$appName}' already exists",Si["app-deleted"]="Firebase App named '{$appName}' already deleted",Si["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Si["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Si),Rs=new kv("app","Firebase",vL),AT="@firebase/app",yL="0.6.30",wL="@firebase/analytics",bL="@firebase/app-check",_L="@firebase/auth",EL="@firebase/database",IL="@firebase/functions",TL="@firebase/installations",SL="@firebase/messaging",AL="@firebase/performance",kL="@firebase/remote-config",CL="@firebase/storage",xL="@firebase/firestore",NL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn,vf="[DEFAULT]",RL=(fn={},fn[AT]="fire-core",fn[wL]="fire-analytics",fn[bL]="fire-app-check",fn[_L]="fire-auth",fn[EL]="fire-rtdb",fn[IL]="fire-fn",fn[TL]="fire-iid",fn[SL]="fire-fcm",fn[AL]="fire-perf",fn[kL]="fire-rc",fn[CL]="fire-gcs",fn[xL]="fire-fst",fn["fire-js"]="fire-js",fn[NL]="fire-js-all",fn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ys=new ST("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=KD(t),this.container=new fL(n.name),this._addComponent(new fc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=vf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=vf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Ys.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Rs.create("app-deleted",{appName:this.name_})},e}();rf.prototype.name&&rf.prototype.options||rf.prototype.delete||console.log("dc");var OL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:gL,onLog:p,apps:null,SDK_VERSION:OL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:m}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(v){delete t[v]}function u(v){if(v=v||vf,!f1(t,v))throw Rs.create("no-app",{appName:v});return t[v]}u.App=e;function a(v,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var T=b;T.name===void 0&&(T.name=vf);var S=T.name;if(typeof S!="string"||!S)throw Rs.create("bad-app-name",{appName:String(S)});if(f1(t,S))throw Rs.create("duplicate-app",{appName:S});var O=new e(v,T,i);return t[S]=O,O}function l(){return Object.keys(t).map(function(v){return t[v]})}function f(v){var b=v.name;if(n.has(b))return Ys.debug("There were multiple attempts to register component "+b+"."),v.type==="PUBLIC"?i[b]:null;if(n.set(b,v),v.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=u()),typeof P[b]!="function")throw Rs.create("invalid-app-argument",{appName:b});return P[b]()};v.serviceProps!==void 0&&Ha(_,v.serviceProps),i[b]=_,e.prototype[b]=function(){for(var P=[],F=0;F<arguments.length;F++)P[F]=arguments[F];var B=this._getService.bind(this,b);return B.apply(this,v.multipleInstances?P:[])}}for(var T=0,S=Object.keys(t);T<S.length;T++){var O=S[T];t[O]._addComponent(v)}return v.type==="PUBLIC"?i[b]:null}function d(v,b,_){var T,S=(T=RL[v])!==null&&T!==void 0?T:v;_&&(S+="-"+_);var O=S.match(/\s|\//),P=b.match(/\s|\//);if(O||P){var F=['Unable to register library "'+S+'" with version "'+b+'":'];O&&F.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),O&&P&&F.push("and"),P&&F.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Ys.warn(F.join(" "));return}f(new fc(S+"-version",function(){return{library:S,version:b}},"VERSION"))}function p(v,b){if(v!==null&&typeof v!="function")throw Rs.create("invalid-log-argument");mL(v,b)}function m(v,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){var e=PL(rf);e.INTERNAL=Xs(Xs({},e.INTERNAL),{createFirebaseNamespace:kT,extendNamespace:t,createSubscribe:oL,ErrorFactory:kv,deepExtend:Ha});function t(n){Ha(e,n)}return e}var xv=kT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DL=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(LL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function LL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(e,t){e.INTERNAL.registerComponent(new fc("platform-logger",function(n){return new DL(n)},"PRIVATE")),e.registerVersion(AT,yL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(XD()&&self.firebase!==void 0){Ys.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var h1=self.firebase.SDK_VERSION;h1&&h1.indexOf("LITE")>=0&&Ys.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var FL=xv.initializeApp;xv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ET()&&Ys.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),FL.apply(void 0,e)};var Ae=xv;ML(Ae);var UL="firebase",CT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ae.registerVersion(UL,CT,"app");Ae.SDK_VERSION=CT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var g=r[h];g in c||(c[g]={}),c=c[g]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&t(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(M){E.reject(M)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var g=i.setTimeout;c.prototype.c=function(w){g(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var M=w[E];w[E]=null;try{M()}catch(G){this.f(G)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(G){return function(Re){M||(M=!0,G.call(E,Re))}}var E=this,M=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{e:switch(typeof w){case"object":var E=w!=null;break e;case"function":E=!0;break e;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(M){this.g(M);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)y.b(this.a[w]);this.a=null}};var y=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var M=this.f();try{w.call(E,M.resolve,M.reject)}catch(G){M.reject(G)}},s.prototype.then=function(w,E){function M(et,Yt){return typeof et=="function"?function(ei){try{G(et(ei))}catch(Tg){Re(Tg)}}:Yt}var G,Re,ot=new s(function(et,Yt){G=et,Re=Yt});return this.Ra(M(w,G),M(E,Re)),ot},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function M(){switch(G.b){case 1:w(G.c);break;case 2:E(G.c);break;default:throw Error("Unexpected state: "+G.b)}}var G=this;this.a==null?y.b(M):this.a.push(M)},s.resolve=h,s.reject=function(w){return new s(function(E,M){M(w)})},s.race=function(w){return new s(function(E,M){for(var G=a(w),Re=G.next();!Re.done;Re=G.next())h(Re.value).Ra(E,M)})},s.all=function(w){var E=a(w),M=E.next();return M.done?h([]):new s(function(G,Re){function ot(ei){return function(Tg){et[ei]=Tg,Yt--,Yt==0&&G(et)}}var et=[],Yt=0;do et.push(void 0),Yt++,h(M.value).Ra(ot(et.length-1),Re),M=E.next();while(!M.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,p=null;function m(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function v(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function S(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function O(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++F)}var P="closure_uid_"+(1e9*Math.random()>>>0),F=0;function B(r,s,c){return r.call.apply(r.bind,arguments)}function te(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),r.apply(s,g)}}return function(){return r.apply(s,arguments)}}function j(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=B:j=te,j.apply(null,arguments)}function we(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function z(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ie(r){return r}function k(r,s,c){this.code=ut+r,this.message=s||at[r]||"",this.a=c||null}z(k,Error),k.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},k.prototype.toJSON=function(){return this.w()};function Xe(r){var s=r&&r.code;return s?new k(s.substring(ut.length),r.message,r.serverResponse):null}var ut="auth/",at={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ht={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ye(r){for(var s in ht)if(ht[s].id===r)return r=ht[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var ue;ue=Ye("__EID__")?"__EID__":void 0;function Me(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function ge(r){if(Error.captureStackTrace)Error.captureStackTrace(this,ge);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}z(ge,Error),ge.prototype.name="CustomError";function gt(r,s){r=r.split("%s");for(var c="",h=r.length-1,g=0;g<h;g++)c+=r[g]+(g<s.length?s[g]:"%s");ge.call(this,c+r[h])}z(gt,ge),gt.prototype.name="AssertionError";function Ct(r,s){throw new gt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Ht(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Ht.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Lt(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function mt(){this.b=this.a=null}var zn=new Ht(function(){return new me},function(r){r.reset()});mt.prototype.add=function(r,s){var c=zn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function de(){var r=y0,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function me(){this.next=this.b=this.a=null}me.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},me.prototype.reset=function(){this.next=this.b=this.a=null};var D=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},$=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,g=typeof r=="string"?r.split(""):r,y=0;y<h;y++)y in g&&s.call(c,g[y],y,r)};function Z(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ae=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],g=0,y=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in y){var E=y[w];s.call(void 0,E,w,r)&&(h[g++]=E)}return h},Pe=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),g=typeof r=="string"?r.split(""):r,y=0;y<c;y++)y in g&&(h[y]=s.call(void 0,g[y],y,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&s.call(void 0,h[g],g,r))return!0;return!1};function A(r){e:{for(var s=Hx,c=r.length,h=typeof r=="string"?r.split(""):r,g=0;g<c;g++)if(g in h&&s.call(void 0,h[g],g,r)){s=g;break e}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function R(r,s){return 0<=D(r,s)}function U(r,s){s=D(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function V(r,s){var c=0;Z(r,function(h,g){s.call(void 0,h,g,r)&&Array.prototype.splice.call(r,g,1).length==1&&c++})}function W(r){return Array.prototype.concat.apply([],arguments)}function re(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var Q=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},ee=/&/g,Y=/</g,be=/>/g,ce=/"/g,ve=/'/g,ke=/\x00/g,Be=/[\x00&<>"']/;function Ee(r,s){return r.indexOf(s)!=-1}function N(r,s){return r<s?-1:r>s?1:0}var x;e:{var K=f.navigator;if(K){var oe=K.userAgent;if(oe){x=oe;break e}}x=""}function fe(r){return Ee(x,r)}function Ce(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function je(r){for(var s in r)return!1;return!0}function Ne(r){var s={},c;for(c in r)s[c]=r[c];return s}var Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(r,s){for(var c,h,g=1;g<arguments.length;g++){h=arguments[g];for(c in h)r[c]=h[c];for(var y=0;y<Fe.length;y++)c=Fe[y],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function cn(r,s){e:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var g=h;break e}}catch{}g=null}if(g&&typeof g[s]<"u"&&(!r||!(r instanceof g[s])&&(r instanceof g.Location||r instanceof g.Element))){if(S(r))try{var y=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{y="<object could not be stringified>"}else y=r===void 0?"undefined":r===null?"null":typeof r;Ct("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,y)}}function ln(r,s){this.a=r===Oc&&s||"",this.b=Zy}ln.prototype.ta=!0,ln.prototype.sa=function(){return this.a},ln.prototype.toString=function(){return"Const{"+this.a+"}"};function Qh(r){return r instanceof ln&&r.constructor===ln&&r.b===Zy?r.a:(Ct("expected object of type Const, got '"+r+"'"),"type_error:Const")}var Zy={},Oc={},Pc;function e0(){if(Pc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ie,createScript:ie,createScriptURL:ie})}catch(c){f.console&&f.console.error(c.message)}Pc=r}else Pc=r}return Pc}function ns(r,s){this.a=s===n0?r:""}ns.prototype.ta=!0,ns.prototype.sa=function(){return this.a.toString()},ns.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function t0(r){return r instanceof ns&&r.constructor===ns?r.a:(Ct("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Jh(r,s){var c=Qh(r);if(!bC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(wC,function(h,g){if(!Object.prototype.hasOwnProperty.call(s,g))throw Error('Found marker, "'+g+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[g],h instanceof ln?Qh(h):encodeURIComponent(String(h))}),_C(r)}var wC=/%{(\w+)}/g,bC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,n0={};function _C(r){var s=e0();return r=s?s.createScriptURL(r):r,new ns(r,n0)}function On(r,s){this.a=s===Nu?r:""}On.prototype.ta=!0,On.prototype.sa=function(){return this.a.toString()},On.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Dc(r){return r instanceof On&&r.constructor===On?r.a:(Ct("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var EC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,IC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,r0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function i0(r){if(r instanceof On)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),r0.test(r))r=new On(r,Nu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(IC);r=s&&EC.test(s[1])?new On(r,Nu):null}return r}function o0(r){return r instanceof On?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),r0.test(r)||(r="about:invalid#zClosurez"),new On(r,Nu))}var Nu={},s0=new On("about:invalid#zClosurez",Nu);function rs(r,s,c){this.a=c===u0?r:""}rs.prototype.ta=!0,rs.prototype.sa=function(){return this.a.toString()},rs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function TC(r){return r instanceof rs&&r.constructor===rs?r.a:(Ct("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var u0={};function SC(r,s){cn(r,"HTMLScriptElement"),r.src=t0(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=m(s.document):(p===null&&(p=m(f.document)),s=p),s&&r.setAttribute("nonce",s)}function a0(r,s,c,h){return r=r instanceof On?r:o0(r),s=s||f,c=c instanceof ln?Qh(c):c||"",s.open(Dc(r),c,h,void 0)}function c0(r,s){for(var c=r.split("%s"),h="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)h+=c.shift()+g.shift();return h+c.join("%s")}function Zh(r){return Be.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(ee,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Y,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(be,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(ce,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(ve,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(ke,"&#0;"))),r}function ed(r){return ed[" "](r),r}ed[" "]=v;function AC(r,s){var c=NC;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var kC=fe("Opera"),mr=fe("Trident")||fe("MSIE"),l0=fe("Edge"),CC=l0||mr,f0=fe("Gecko")&&!(Ee(x.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),xC=Ee(x.toLowerCase(),"webkit")&&!fe("Edge");function h0(){var r=f.document;return r?r.documentMode:void 0}var Lc;e:{var td="",nd=function(){var r=x;if(f0)return/rv:([^\);]+)(\)|;)/.exec(r);if(l0)return/Edge\/([\d\.]+)/.exec(r);if(mr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(xC)return/WebKit\/(\S+)/.exec(r);if(kC)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(nd&&(td=nd?nd[1]:""),mr){var rd=h0();if(rd!=null&&rd>parseFloat(td)){Lc=String(rd);break e}}Lc=td}var NC={};function d0(r){return AC(r,function(){for(var s=0,c=Q(String(Lc)).split("."),h=Q(String(r)).split("."),g=Math.max(c.length,h.length),y=0;s==0&&y<g;y++){var w=c[y]||"",E=h[y]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=N(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||N(w[2].length==0,E[2].length==0)||N(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var id;if(f.document&&mr){var p0=h0();id=p0||parseInt(Lc,10)||void 0}else id=void 0;var mi=id;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var RC=!mr||9<=Number(mi);function Ru(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function g0(r,s){Ce(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:m0.hasOwnProperty(h)?r.setAttribute(m0[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var m0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function OC(r,s,c){var h=arguments,g=document,y=String(h[0]),w=h[1];if(!RC&&w&&(w.name||w.type)){if(y=["<",y],w.name&&y.push(' name="',Zh(w.name),'"'),w.type){y.push(' type="',Zh(w.type),'"');var E={};De(E,w),delete E.type,w=E}y.push(">"),y=y.join("")}return y=Mc(g,y),w&&(typeof w=="string"?y.className=w:Array.isArray(w)?y.className=w.join(" "):g0(y,w)),2<h.length&&PC(g,y,h),y}function PC(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var g=2;g<c.length;g++){var y=c[g];if(!_(y)||S(y)&&0<y.nodeType)h(y);else{e:{if(y&&typeof y.length=="number"){if(S(y)){var w=typeof y.item=="function"||typeof y.item=="string";break e}if(T(y)){w=typeof y.item=="function";break e}}w=!1}$(w?re(y):y,h)}}}function Mc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function v0(r){f.setTimeout(function(){throw r},0)}var od;function DC(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(r=function(){var g=Mc(document,"IFRAME");g.style.display="none",document.documentElement.appendChild(g);var y=g.contentWindow;g=y.document,g.open(),g.close();var w="callImmediate"+Math.random(),E=y.location.protocol=="file:"?"*":y.location.protocol+"//"+y.location.host;g=j(function(M){(E=="*"||M.origin==E)&&M.data==w&&this.port1.onmessage()},this),y.addEventListener("message",g,!1),this.port1={},this.port2={postMessage:function(){y.postMessage(w,E)}}}),typeof r<"u"&&!fe("Trident")&&!fe("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var g=c.Hb;c.Hb=null,g()}},function(g){h.next={Hb:g},h=h.next,s.port2.postMessage(0)}}return function(g){f.setTimeout(g,0)}}function Fc(r,s){Uc||LC(),sd||(Uc(),sd=!0),y0.add(r,s)}var Uc;function LC(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Uc=function(){r.then(w0)}}else Uc=function(){var s=w0;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!fe("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(od||(od=DC()),od(s)):f.setImmediate(s)}}var sd=!1,y0=new mt;function w0(){for(var r;r=de();){try{r.a.call(r.b)}catch(s){v0(s)}Lt(zn,r)}sd=!1}function He(r,s){if(this.a=eo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=v)try{var c=this;r.call(s,function(h){to(c,Ou,h)},function(h){if(!(h instanceof is))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}to(c,Yr,h)})}catch(h){to(this,Yr,h)}}var eo=0,Ou=2,Yr=3;function b0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}b0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var _0=new Ht(function(){return new b0},function(r){r.reset()});function ud(r,s,c){var h=_0.get();return h.g=r,h.b=s,h.f=c,h}function Te(r){if(r instanceof He)return r;var s=new He(v);return to(s,Ou,r),s}function _t(r){return new He(function(s,c){c(r)})}function E0(r,s,c){A0(r,s,c,null)||Fc(we(s,r))}function MC(r){return new He(function(s,c){var h=r.length,g=[];if(h)for(var y=function(G,Re){h--,g[G]=Re,h==0&&s(g)},w=function(G){c(G)},E=0,M;E<r.length;E++)M=r[E],E0(M,we(y,E),w);else s(g)})}function I0(r){return new He(function(s){var c=r.length,h=[];if(c)for(var g=function(E,M,G){c--,h[E]=M?{Qb:!0,value:G}:{Qb:!1,reason:G},c==0&&s(h)},y=0,w;y<r.length;y++)w=r[y],E0(w,we(g,y,!0),we(g,y,!1));else s(h)})}He.prototype.then=function(r,s,c){return S0(this,T(r)?r:null,T(s)?s:null,c)},He.prototype.$goog_Thenable=!0,e=He.prototype,e.oa=function(r,s){return r=ud(r,r,s),r.c=!0,ad(this,r),this},e.o=function(r,s){return S0(this,null,r,s)},e.cancel=function(r){if(this.a==eo){var s=new is(r);Fc(function(){T0(this,s)},this)}};function T0(r,s){if(r.a==eo)if(r.c){var c=r.c;if(c.b){for(var h=0,g=null,y=null,w=c.b;w&&(w.c||(h++,w.a==r&&(g=w),!(g&&1<h)));w=w.next)g||(y=w);g&&(c.a==eo&&h==1?T0(c,s):(y?(h=y,h.next==c.f&&(c.f=h),h.next=h.next.next):C0(c),x0(c,g,Yr,s)))}r.c=null}else to(r,Yr,s)}function ad(r,s){r.b||r.a!=Ou&&r.a!=Yr||k0(r),r.f?r.f.next=s:r.b=s,r.f=s}function S0(r,s,c,h){var g=ud(null,null,null);return g.a=new He(function(y,w){g.g=s?function(E){try{var M=s.call(h,E);y(M)}catch(G){w(G)}}:y,g.b=c?function(E){try{var M=c.call(h,E);M===void 0&&E instanceof is?w(E):y(M)}catch(G){w(G)}}:w}),g.a.c=r,ad(r,g),g.a}e.$c=function(r){this.a=eo,to(this,Ou,r)},e.ad=function(r){this.a=eo,to(this,Yr,r)};function to(r,s,c){r.a==eo&&(r===c&&(s=Yr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,A0(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,k0(r),s!=Yr||c instanceof is||UC(r,c)))}function A0(r,s,c,h){if(r instanceof He)return ad(r,ud(s||v,c||null,h)),!0;if(Me(r))return r.then(s,c,h),!0;if(S(r))try{var g=r.then;if(T(g))return FC(r,g,s,c,h),!0}catch(y){return c.call(h,y),!0}return!1}function FC(r,s,c,h,g){function y(M){E||(E=!0,h.call(g,M))}function w(M){E||(E=!0,c.call(g,M))}var E=!1;try{s.call(r,w,y)}catch(M){y(M)}}function k0(r){r.h||(r.h=!0,Fc(r.gc,r))}function C0(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}e.gc=function(){for(var r;r=C0(this);)x0(this,r,this.a,this.i);this.h=!1};function x0(r,s,c,h){if(c==Yr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,N0(s,c,h);else try{s.c?s.g.call(s.f):N0(s,c,h)}catch(g){R0.call(null,g)}Lt(_0,s)}function N0(r,s,c){s==Ou?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function UC(r,s){r.g=!0,Fc(function(){r.g&&R0.call(null,s)})}var R0=v0;function is(r){ge.call(this,r)}z(is,ge),is.prototype.name="cancel";function jc(){this.ya=this.ya,this.pa=this.pa}var jC=0;jc.prototype.ya=!1;function O0(r){!r.ya&&(r.ya=!0,r.Da(),jC!=0)&&O(r)}jc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var VC=Object.freeze||function(r){return r},P0=!mr||9<=Number(mi),BC=mr&&!d0("9"),qC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",v,s),f.removeEventListener("test",v,s)}catch{}return r}();function Pn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Pn.prototype.preventDefault=function(){this.defaultPrevented=!0};function no(r,s){if(Pn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(f0){e:{try{ed(s.nodeName);var g=!0;break e}catch{}g=!1}g||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:$C[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}z(no,Pn);var $C=VC({2:"touch",3:"pen",4:"mouse"});no.prototype.preventDefault=function(){no.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,BC)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},no.prototype.g=function(){return this.a};var Pu="closure_listenable_"+(1e6*Math.random()|0),HC=0;function KC(r,s,c,h,g){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=g,this.key=++HC,this.wa=this.Qa=!1}function Vc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function Bc(r){this.src=r,this.a={},this.b=0}Bc.prototype.add=function(r,s,c,h,g){var y=r.toString();r=this.a[y],r||(r=this.a[y]=[],this.b++);var w=ld(r,s,h,g);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new KC(s,this.src,y,!!h,g),s.Qa=c,r.push(s)),s};function cd(r,s){var c=s.type;c in r.a&&U(r.a[c],s)&&(Vc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function ld(r,s,c,h){for(var g=0;g<r.length;++g){var y=r[g];if(!y.wa&&y.listener==s&&y.capture==!!c&&y.Wa==h)return g}return-1}var fd="closure_lm_"+(1e6*Math.random()|0),hd={};function ar(r,s,c,h,g){if(h&&h.once)dd(r,s,c,h,g);else if(Array.isArray(s))for(var y=0;y<s.length;y++)ar(r,s[y],c,h,g);else c=gd(c),r&&r[Pu]?j0(r,s,c,S(h)?!!h.capture:!!h,g):D0(r,s,c,!1,h,g)}function D0(r,s,c,h,g,y){if(!s)throw Error("Invalid event type");var w=S(g)?!!g.capture:!!g,E=qc(r);if(E||(r[fd]=E=new Bc(r)),c=E.add(s,c,h,w,y),!c.proxy)if(h=zC(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)qC||(g=w),g===void 0&&(g=!1),r.addEventListener(s.toString(),h,g);else if(r.attachEvent)r.attachEvent(M0(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function zC(){var r=GC,s=P0?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function dd(r,s,c,h,g){if(Array.isArray(s))for(var y=0;y<s.length;y++)dd(r,s[y],c,h,g);else c=gd(c),r&&r[Pu]?md(r,s,c,S(h)?!!h.capture:!!h,g):D0(r,s,c,!0,h,g)}function Gn(r,s,c,h,g){if(Array.isArray(s))for(var y=0;y<s.length;y++)Gn(r,s[y],c,h,g);else h=S(h)?!!h.capture:!!h,c=gd(c),r&&r[Pu]?(r=r.v,s=String(s).toString(),s in r.a&&(y=r.a[s],c=ld(y,c,h,g),-1<c&&(Vc(y[c]),Array.prototype.splice.call(y,c,1),y.length==0&&(delete r.a[s],r.b--)))):r&&(r=qc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=ld(s,c,h,g)),(c=-1<r?s[r]:null)&&L0(c))}function L0(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[Pu])cd(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(M0(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=qc(s))?(cd(c,r),c.b==0&&(c.src=null,s[fd]=null)):Vc(r)}}}function M0(r){return r in hd?hd[r]:hd[r]="on"+r}function F0(r,s,c,h){var g=!0;if((r=qc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var y=s[r];y&&y.capture==c&&!y.wa&&(y=U0(y,h),g=g&&y!==!1)}return g}function U0(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&L0(r),c.call(h,s)}function GC(r,s){if(r.wa)return!0;if(!P0){if(!s)e:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break e}s=c}if(h=s,s=new no(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){e:{var g=!1;if(h.keyCode==0)try{h.keyCode=-1;break e}catch{g=!0}(g||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],g=s.b;g;g=g.parentNode)h.push(g);for(r=r.type,g=h.length-1;0<=g;g--){s.b=h[g];var y=F0(h[g],r,!0,s);c=c&&y}for(g=0;g<h.length;g++)s.b=h[g],y=F0(h[g],r,!1,s),c=c&&y}return c}return U0(r,new no(s,this))}function qc(r){return r=r[fd],r instanceof Bc?r:null}var pd="__closure_events_fn_"+(1e9*Math.random()>>>0);function gd(r){return T(r)?r:(r[pd]||(r[pd]=function(s){return r.handleEvent(s)}),r[pd])}function bn(){jc.call(this),this.v=new Bc(this),this.bc=this,this.hb=null}z(bn,jc),bn.prototype[Pu]=!0,bn.prototype.addEventListener=function(r,s,c,h){ar(this,r,s,c,h)},bn.prototype.removeEventListener=function(r,s,c,h){Gn(this,r,s,c,h)},bn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Pn(r,c);else if(r instanceof Pn)r.target=r.target||c;else{var g=r;r=new Pn(h,c),De(r,g)}if(g=!0,s)for(var y=s.length-1;0<=y;y--){var w=r.b=s[y];g=$c(w,h,!0,r)&&g}if(w=r.b=c,g=$c(w,h,!0,r)&&g,g=$c(w,h,!1,r)&&g,s)for(y=0;y<s.length;y++)w=r.b=s[y],g=$c(w,h,!1,r)&&g;return g},bn.prototype.Da=function(){if(bn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)Vc(c[h]);delete r.a[s],r.b--}}this.hb=null};function j0(r,s,c,h,g){r.v.add(String(s),c,!1,h,g)}function md(r,s,c,h,g){r.v.add(String(s),c,!0,h,g)}function $c(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var g=!0,y=0;y<s.length;++y){var w=s[y];if(w&&!w.wa&&w.capture==c){var E=w.listener,M=w.Wa||w.src;w.Qa&&cd(r.v,w),g=E.call(M,h)!==!1&&g}}return g&&!h.defaultPrevented}function vd(r,s,c){if(T(r))c&&(r=j(r,c));else if(r&&typeof r.handleEvent=="function")r=j(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function os(r){var s=null;return new He(function(c,h){s=vd(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function V0(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function B0(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function WC(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")$(r,s,void 0);else for(var c=B0(r),h=V0(r),g=h.length,y=0;y<g;y++)s.call(void 0,h[y],c&&c[y],r)}function ss(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof ss)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}e=ss.prototype,e.X=function(){yd(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},e.Y=function(){return yd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function yd(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];ro(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var g={};for(c=s=0;s<r.a.length;)h=r.a[s],ro(g,h)||(r.a[c++]=h,g[h]=1),s++;r.a.length=c}}e.get=function(r,s){return ro(this.b,r)?this.b[r]:s},e.set=function(r,s){ro(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},e.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var g=c[h],y=this.get(g);r.call(s,y,g,this)}};function ro(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var q0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function XC(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),g=null;if(0<=h){var y=r[c].substring(0,h);g=r[c].substring(h+1)}else y=r[c];s(y,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function vi(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof vi?(this.i=s!==void 0?s:r.i,Du(this,r.c),this.l=r.l,this.a=r.a,Lu(this,r.g),this.f=r.f,wd(this,z0(r.b)),this.h=r.h):r&&(c=String(r).match(q0))?(this.i=!!s,Du(this,c[1]||"",!0),this.l=Mu(c[2]||""),this.a=Mu(c[3]||"",!0),Lu(this,c[4]),this.f=Mu(c[5]||"",!0),wd(this,c[6]||"",!0),this.h=Mu(c[7]||"")):(this.i=!!s,this.b=new io(null,this.i))}vi.prototype.toString=function(){var r=[],s=this.c;s&&r.push(Fu(s,$0,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(Fu(s,$0,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Fu(c,c.charAt(0)=="/"?JC:QC,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Fu(c,ex)),r.join("")},vi.prototype.resolve=function(r){var s=new vi(this),c=!!r.c;c?Du(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)Lu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var g=s.f.lastIndexOf("/");g!=-1&&(h=s.f.substr(0,g+1)+h)}if(g=h,g==".."||g==".")h="";else if(Ee(g,"./")||Ee(g,"/.")){h=g.lastIndexOf("/",0)==0,g=g.split("/");for(var y=[],w=0;w<g.length;){var E=g[w++];E=="."?h&&w==g.length&&y.push(""):E==".."?((1<y.length||y.length==1&&y[0]!="")&&y.pop(),h&&w==g.length&&y.push("")):(y.push(E),h=!0)}h=y.join("/")}else h=g}return c?s.f=h:c=r.b.toString()!=="",c?wd(s,z0(r.b)):c=!!r.h,c&&(s.h=r.h),s};function Du(r,s,c){r.c=c?Mu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function Lu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function wd(r,s,c){s instanceof io?(r.b=s,tx(r.b,r.i)):(c||(s=Fu(s,ZC)),r.b=new io(s,r.i))}function Rt(r,s,c){r.b.set(s,c)}function cr(r,s){return r.b.get(s)}function Dn(r){return r instanceof vi?new vi(r):new vi(r,void 0)}function Hc(r,s,c,h){var g=new vi(null,void 0);return r&&Du(g,r),s&&(g.a=s),c&&Lu(g,c),h&&(g.f=h),g}function Mu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Fu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,YC),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function YC(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var $0=/[#\/\?@]/g,QC=/[#\?:]/g,JC=/[#\?]/g,ZC=/[#\?@]/g,ex=/#/g;function io(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function yi(r){r.a||(r.a=new ss,r.b=0,r.c&&XC(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function H0(r){var s=B0(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new io(null,void 0);r=V0(r);for(var h=0;h<s.length;h++){var g=s[h],y=r[h];Array.isArray(y)?K0(c,g,y):c.add(g,y)}return c}e=io.prototype,e.add=function(r,s){yi(this),this.c=null,r=us(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Or(r,s){yi(r),s=us(r,s),ro(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,ro(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&yd(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function bd(r,s){return yi(r),s=us(r,s),ro(r.a.b,s)}e.forEach=function(r,s){yi(this),this.a.forEach(function(c,h){$(c,function(g){r.call(s,g,h,this)},this)},this)},e.Y=function(){yi(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var g=r[h],y=0;y<g.length;y++)c.push(s[h]);return c},e.X=function(r){yi(this);var s=[];if(typeof r=="string")bd(this,r)&&(s=W(s,this.a.get(us(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=W(s,r[c])}return s},e.set=function(r,s){return yi(this),this.c=null,r=us(this,r),bd(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},e.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function K0(r,s,c){Or(r,s),0<c.length&&(r.c=null,r.a.set(us(r,s),re(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],g=encodeURIComponent(String(h));h=this.X(h);for(var y=0;y<h.length;y++){var w=g;h[y]!==""&&(w+="="+encodeURIComponent(String(h[y]))),r.push(w)}}return this.c=r.join("&")};function z0(r){var s=new io;return s.c=r.c,r.a&&(s.a=new ss(r.a),s.b=r.b),s}function us(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function tx(r,s){s&&!r.f&&(yi(r),r.c=null,r.a.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(Or(this,h),K0(this,g,c))},r)),r.f=s}function G0(r){var s=[];return _d(new nx,r,s),s.join("")}function nx(){}function _d(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var g="",y=0;y<s;y++)c.push(g),_d(r,h[y],c),g=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),g="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(y=s[h],typeof y!="function"&&(c.push(g),X0(h,c),c.push(":"),_d(r,y,c),g=","));c.push("}");return}}switch(typeof s){case"string":X0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var W0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},rx=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function X0(r,s){s.push('"',r.replace(rx,function(c){var h=W0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),W0[c]=h),h}),'"')}function Ed(){var r=en();return mr&&!!mi&&mi==11||/Edge\/\d+/.test(r)}function Uu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Y0(r,s){s=s||f.window;var c="about:blank";r&&(c=Dc(i0(r)||s0)),s.location.href=c}function Q0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<Q0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function ix(){var r=en();return r=as(r)!=tw?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!mr||!mi||9<mi}function J0(r){return r=(r||en()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function oo(r){r=r||f.window;try{r.close()}catch{}}function Z0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var g=(window.screen.availHeight-c)/2,y=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<g?g:0,left:0<y?y:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=en().toLowerCase(),h&&(s.target=h,Ee(c,"crios/")&&(s.target="_blank")),as(en())==Sd&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof On?c:i0(typeof c.href<"u"?c.href:String(c))||s0,c=r.target||c.target,g=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":g.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:g.push(w+"="+(r[w]?1:0))}var w=g.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=Mc(document,"A"),cn(w,"HTMLAnchorElement"),s=s instanceof On?s:o0(s),w.href=Dc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=a0("",h,c,w),r=Dc(s),w&&(CC&&Ee(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Zh(r)+'">',r=(h=e0())?h.createHTML(r):r,r=new rs(r,null,u0),h=w.document)&&(h.write(TC(r)),h.close())):(w=a0(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function ox(r){return new He(function(s){function c(){os(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ux=/^[^@]+@[^@]+$/;function Kc(){var r=null;return new He(function(s){f.document.readyState=="complete"?s():(r=function(){s()},dd(window,"load",r))}).o(function(s){throw Gn(window,"load",r),s})}function ax(){return Id(void 0)?Kc().then(function(){return new He(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):_t(Error("Cordova must run in an Android or iOS file scheme."))}function Id(r){return r=r||en(),!(ls()!=="file:"&&ls()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Td(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function vr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Pr(){return Ae.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Ae.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function ew(){var r=Pr();return r==="ReactNative"||r==="Node"}function cx(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Sd="Firefox",tw="Chrome";function as(r){var s=r.toLowerCase();if(Ee(s,"opera/")||Ee(s,"opr/")||Ee(s,"opios/"))return"Opera";if(Ee(s,"iemobile"))return"IEMobile";if(Ee(s,"msie")||Ee(s,"trident/"))return"IE";if(Ee(s,"edge/"))return"Edge";if(Ee(s,"firefox/"))return Sd;if(Ee(s,"silk/"))return"Silk";if(Ee(s,"blackberry"))return"Blackberry";if(Ee(s,"webos"))return"Webos";if(!Ee(s,"safari/")||Ee(s,"chrome/")||Ee(s,"crios/")||Ee(s,"android"))if(!Ee(s,"chrome/")&&!Ee(s,"crios/")||Ee(s,"edge/")){if(Ee(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return tw;else return"Safari";return"Other"}var nw={md:"FirebaseCore-web",od:"FirebaseUI-web"};function cs(r,s){s=s||[];var c=[],h={},g;for(g in nw)h[nw[g]]=!0;for(g=0;g<s.length;g++)typeof h[s[g]]<"u"&&(delete h[s[g]],c.push(s[g]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Pr(),c==="Browser"?(h=en(),c=as(h)):c==="Worker"&&(h=en(),c=as(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function en(){return f.navigator&&f.navigator.userAgent||""}function Et(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Ad(){try{var r=f.localStorage,s=uo();if(r)return r.setItem(s,"1"),r.removeItem(s),Ed()?!!f.indexedDB:!0}catch{return vr()&&!!f.indexedDB}return!1}function so(){return(zc()||ls()==="chrome-extension:"||Id())&&!ew()&&Ad()&&!vr()}function zc(){return ls()==="http:"||ls()==="https:"}function ls(){return f.location&&f.location.protocol||null}function ju(r){return r=r||en(),!(J0(r)||as(r)==Sd)}function Vu(r){return typeof r>"u"?null:G0(r)}function rw(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function fs(r){if(r!==null)return JSON.parse(r)}function uo(r){return r||Math.floor(1e9*Math.random()).toString()}function iw(r){return r=r||en(),!(as(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function ow(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function wi(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=en(),s=Pr(),this.b=J0(r)||s==="ReactNative"}wi.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(zc()||ls()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function kd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function lx(){var r=f.document,s=null;return kd()||!r?Te():new He(function(c){s=function(){kd()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Bu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function sw(){return!(!Et("fireauth.oauthhelper",f)&&!Et("fireauth.iframe",f))}function fx(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function hx(){var r=f.navigator;return r&&r.serviceWorker?Te().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Te(null)}var uw={};function Cd(r){uw[r]||(uw[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var xd;try{var Nd={};Object.defineProperty(Nd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Nd,"abcd",{configurable:!0,enumerable:!0,value:2}),xd=Nd.abcd==2}catch{xd=!1}function pe(r,s,c){xd?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function _n(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&pe(r,c,s[c])}function Dr(r){var s={};return _n(s,r),s}function dx(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function px(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Rd(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)pe(s,c,Rd(r[c]))}return s}function Od(r){var s=r&&(r[Md]?"phone":null);if(s&&r&&r[Ld]){pe(this,"uid",r[Ld]),pe(this,"displayName",r[aw]||null);var c=null;r[Dd]&&(c=new Date(r[Dd]).toUTCString()),pe(this,"enrollmentTime",c),pe(this,"factorId",s)}else throw new k("internal-error","Internal assert: invalid MultiFactorInfo object")}Od.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Pd(r){try{var s=new qu(r)}catch{s=null}return s}var aw="displayName",Dd="enrolledAt",Ld="mfaEnrollmentId",Md="phoneInfo";function qu(r){Od.call(this,r),pe(this,"phoneNumber",r[Md])}z(qu,Od),qu.prototype.w=function(){var r=qu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function gx(r){var s={},c=r[mx],h=r[yx],g=r[wx];if(r=Pd(r[vx]),!g||g!=Gc&&g!=$u&&!c||g==$u&&!h||g==Fd&&!r)throw Error("Invalid checkActionCode response!");g==$u?(s[lw]=c||null,s[fw]=c||null,s[cw]=h):(s[lw]=h||null,s[fw]=h||null,s[cw]=c||null),s[bx]=r||null,pe(this,Ex,g),pe(this,_x,Rd(s))}var Fd="REVERT_SECOND_FACTOR_ADDITION",Gc="EMAIL_SIGNIN",$u="VERIFY_AND_CHANGE_EMAIL",mx="email",vx="mfaInfo",yx="newEmail",wx="requestType",cw="email",lw="fromEmail",bx="multiFactorInfo",fw="previousEmail",_x="data",Ex="operation";function Ud(r){r=Dn(r);var s=cr(r,hw)||null,c=cr(r,dw)||null,h=cr(r,pw)||null;if(h=h&&Ax[h]||null,!s||!c||!h)throw new k("argument-error",hw+", "+dw+"and "+pw+" are required in a valid action code URL.");_n(this,{apiKey:s,operation:h,code:c,continueUrl:cr(r,Ix)||null,languageCode:cr(r,Tx)||null,tenantId:cr(r,Sx)||null})}var hw="apiKey",dw="oobCode",Ix="continueUrl",Tx="languageCode",pw="mode",Sx="tenantId",Ax={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Fd,signIn:Gc,verifyAndChangeEmail:$u,verifyEmail:"VERIFY_EMAIL"};function gw(r){try{return new Ud(r)}catch{return null}}function Wc(r){var s=r[kx];if(typeof s>"u")throw new k("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new k("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[mw];if(c&&typeof c=="object"){s=c[_w];var h=c[ww];if(c=c[bw],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new k("argument-error",ww+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new k("argument-error",bw+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new k("argument-error",_w+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new k("missing-android-pkg-name")}}else if(typeof c<"u")throw new k("argument-error",mw+" property must be a non null object when specified.");if(this.f=null,(s=r[yw])&&typeof s=="object"){if(s=s[Ew],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new k("argument-error",Ew+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new k("argument-error",yw+" property must be a non null object when specified.");if(s=r[jd],typeof s<"u"&&typeof s!="boolean")throw new k("argument-error",jd+" property must be a boolean when specified.");if(this.c=!!s,r=r[vw],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new k("argument-error",vw+" property must be a non empty string when specified.");this.i=r||null}var mw="android",vw="dynamicLinkDomain",jd="handleCodeInApp",yw="iOS",kx="url",ww="installApp",bw="minimumVersion",_w="packageName",Ew="bundleId";function Xc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function Cx(r){return Pe(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Hu=null;function xx(r){var s=[];return Nx(r,function(c){s.push(c)}),s}function Nx(r,s){function c(M){for(;h<r.length;){var G=r.charAt(h++),Re=Hu[G];if(Re!=null)return Re;if(!/^[\s\xa0]*$/.test(G))throw Error("Unknown base64 encoding at char: "+G)}return M}Rx();for(var h=0;;){var g=c(-1),y=c(0),w=c(64),E=c(64);if(E===64&&g===-1)break;s(g<<2|y>>4),w!=64&&(s(y<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function Rx(){if(!Hu){Hu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),g=0;g<h.length;g++){var y=h[g];Hu[y]===void 0&&(Hu[y]=g)}}}function Yc(r){var s=Iw(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Yc.prototype.T=function(){return this.f},Yc.prototype.l=function(){return this.c},Yc.prototype.toString=function(){return this.h};function Qc(r){try{return new Yc(r)}catch{return null}}function Iw(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=xx(r);for(r=[],c=s=0;s<h.length;){var g=h[s++];if(128>g)r[c++]=String.fromCharCode(g);else if(191<g&&224>g){var y=h[s++];r[c++]=String.fromCharCode((g&31)<<6|y&63)}else if(239<g&&365>g){y=h[s++];var w=h[s++],E=h[s++],M=((g&7)<<18|(y&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(M>>10)),r[c++]=String.fromCharCode(56320+(M&1023))}else y=h[s++],w=h[s++],r[c++]=String.fromCharCode((g&15)<<12|(y&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var Tw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Jc=["client_id","response_type","scope","redirect_uri","state"],Vd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Jc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Jc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Jc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Tw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Bd(r){for(var s in Vd)if(Vd[s].fa==r)return Vd[s];return null}function Sw(r){var s={};s["facebook.com"]=kw,s["google.com"]=xw,s["github.com"]=Cw,s["twitter.com"]=Nw;var c=r&&r[Aw];try{if(c)return s[c]?new s[c](r):new Lr(r);if(typeof r[qd]<"u")return new $d(r)}catch{}return null}var qd="idToken",Aw="providerId";function $d(r){var s=r[Aw];if(!s&&r[qd]){var c=Qc(r[qd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pe(this,"providerId",s),pe(this,"isNewUser",c)}function Lr(r){$d.call(this,r),r=fs(r.rawUserInfo||"{}"),pe(this,"profile",Rd(r||{}))}z(Lr,$d);function kw(r){if(Lr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}z(kw,Lr);function Cw(r){if(Lr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pe(this,"username",this.profile&&this.profile.login||null)}z(Cw,Lr);function xw(r){if(Lr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}z(xw,Lr);function Nw(r){if(Lr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pe(this,"username",r.screenName||null)}z(Nw,Lr);function Rw(r){var s=Dn(r),c=cr(s,"link"),h=cr(Dn(c),"link");return s=cr(s,"deep_link_id"),cr(Dn(s),"link")||s||h||c||r}function Zc(r,s){if(!r&&!s)throw new k("internal-error","Internal assert: no raw session string available");if(r&&s)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Ku:el}var Ku="enroll",el="signin";Zc.prototype.Ha=function(){return this.a?Te(this.a):Te(this.b)},Zc.prototype.w=function(){return this.type==Ku?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function hs(){}hs.prototype.ka=function(){},hs.prototype.b=function(){},hs.prototype.c=function(){},hs.prototype.w=function(){};function ds(r,s){return r.then(function(c){if(c[br]){var h=Qc(c[br]);if(!h||s!=h.i)throw new k("user-mismatch");return c}throw new k("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==ut+"user-not-found"?new k("user-mismatch"):c})}function ao(r,s){if(s)this.a=s;else throw new k("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",r)}ao.prototype.ka=function(r){return dp(r,Hd(this))},ao.prototype.b=function(r,s){var c=Hd(this);return c.idToken=s,pp(r,c)},ao.prototype.c=function(r,s){return ds(gp(r,Hd(this)),s)};function Hd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function Ox(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new ao(r.providerId,r.pendingToken)}catch{}return null}function Qr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&pe(this,"idToken",s.idToken),s.accessToken&&pe(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&pe(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)pe(this,"accessToken",s.oauthToken),pe(this,"secret",s.oauthTokenSecret);else throw new k("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",c)}Qr.prototype.ka=function(r){return dp(r,Kd(this))},Qr.prototype.b=function(r,s){var c=Kd(this);return c.idToken=s,pp(r,c)},Qr.prototype.c=function(r,s){var c=Kd(this);return ds(gp(r,c),s)};function Kd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:H0(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Qr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function Px(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Qr(r.providerId,s,r.signInMethod)}catch{}}return null}function co(r,s){this.Qc=s||[],_n(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(Bd(r)||{}).Ja||null,this.pb=null}co.prototype.Ka=function(r){return this.Jb=Ne(r),this};function Ow(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,r,[])}z(Ow,co);function Wn(r){co.call(this,r,Jc),this.a=[]}z(Wn,co),Wn.prototype.Ca=function(r){return R(this.a,r)||this.a.push(r),this},Wn.prototype.Rb=function(){return re(this.a)},Wn.prototype.credential=function(r,s){var c;if(S(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new Qr(this.providerId,c,this.providerId)};function lo(){Wn.call(this,"facebook.com")}z(lo,Wn),pe(lo,"PROVIDER_ID","facebook.com"),pe(lo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Pw(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new lo().credential({accessToken:s})}function fo(){Wn.call(this,"github.com")}z(fo,Wn),pe(fo,"PROVIDER_ID","github.com"),pe(fo,"GITHUB_SIGN_IN_METHOD","github.com");function Dw(r){if(!r)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return S(r)&&(s=r.accessToken),new fo().credential({accessToken:s})}function ho(){Wn.call(this,"google.com"),this.Ca("profile")}z(ho,Wn),pe(ho,"PROVIDER_ID","google.com"),pe(ho,"GOOGLE_SIGN_IN_METHOD","google.com");function Lw(r,s){var c=r;return S(r)&&(c=r.idToken,s=r.accessToken),new ho().credential({idToken:c,accessToken:s})}function ps(){co.call(this,"twitter.com",Tw)}z(ps,co),pe(ps,"PROVIDER_ID","twitter.com"),pe(ps,"TWITTER_SIGN_IN_METHOD","twitter.com");function Mw(r,s){var c=r;if(S(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Qr("twitter.com",c,"twitter.com")}function bi(r,s,c){this.a=r,this.f=s,pe(this,"providerId","password"),pe(this,"signInMethod",c===lr.EMAIL_LINK_SIGN_IN_METHOD?lr.EMAIL_LINK_SIGN_IN_METHOD:lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}bi.prototype.ka=function(r){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?Ke(r,vN,{email:this.a,oobCode:this.f}):Ke(r,lb,{email:this.a,password:this.f})},bi.prototype.b=function(r,s){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?Ke(r,yN,{idToken:s,email:this.a,oobCode:this.f}):Ke(r,cb,{idToken:s,email:this.a,password:this.f})},bi.prototype.c=function(r,s){return ds(this.ka(r),s)},bi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function Dx(r){return r&&r.email&&r.password?new bi(r.email,r.password,r.signInMethod):null}function lr(){_n(this,{providerId:"password",isOAuthProvider:!1})}function Fw(r,s){if(s=zd(s),!s)throw new k("argument-error","Invalid email link!");return new bi(r,s.code,lr.EMAIL_LINK_SIGN_IN_METHOD)}function zd(r){return r=Rw(r),(r=gw(r))&&r.operation===Gc?r:null}_n(lr,{PROVIDER_ID:"password"}),_n(lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),_n(lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function _i(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new k("internal-error");this.a=r,pe(this,"providerId","phone"),this.fa="phone",pe(this,"signInMethod","phone")}_i.prototype.ka=function(r){return r.gb(zu(this))},_i.prototype.b=function(r,s){var c=zu(this);return c.idToken=s,Ke(r,UN,c)},_i.prototype.c=function(r,s){var c=zu(this);return c.operation="REAUTH",r=Ke(r,jN,c),ds(r,s)},_i.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function Lx(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return $(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new _i(s)}return null}function zu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Jr(r){try{this.a=r||Ae.auth()}catch{throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}_n(this,{providerId:"phone",isOAuthProvider:!1})}Jr.prototype.gb=function(r,s){var c=this.a.a;return Te(s.verify()).then(function(h){if(typeof h!="string")throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var g=S(r)?r.session:null,y=S(r)?r.phoneNumber:r,w;return g&&g.type==Ku?w=g.Ha().then(function(E){return aN(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:h}})}):g&&g.type==el?w=g.Ha().then(function(E){return cN(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=uN(c,{phoneNumber:y,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function Uw(r,s){if(!r)throw new k("missing-verification-id");if(!s)throw new k("missing-verification-code");return new _i({fb:r,eb:s})}_n(Jr,{PROVIDER_ID:"phone"}),_n(Jr,{PHONE_SIGN_IN_METHOD:"phone"});function Gd(r){if(r.temporaryProof&&r.phoneNumber)return new _i({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,g=r&&r.nonce,y=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return Lw(y,c);case"facebook.com":return Pw(c);case"github.com":return Dw(c);case"twitter.com":return Mw(c,h);default:return c||h||y||w?w?s.indexOf("saml.")==0?new ao(s,w):new Qr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new Wn(s).credential({idToken:y,accessToken:c,rawNonce:g}):null}}catch{return null}}function Wd(r){if(!r.isOAuthProvider)throw new k("invalid-oauth-provider")}function yr(r,s,c,h,g,y,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=y||null,this.h=w||null,this.a=g||null,this.g||this.a){if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}else throw new k("invalid-auth-event")}yr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},yr.prototype.T=function(){return this.h},yr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function jw(r){return r=r||{},r.type?new yr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Xe(r.error),r.postBody,r.tenantId):null}function Mx(){this.b=null,this.a=[]}var Xd=null;function Fx(r){var s=Xd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=Et("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function Yd(r){var s="unauthorized-domain",c=void 0,h=Dn(r);r=h.a,h=h.c,h=="chrome-extension"?c=c0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=c0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",k.call(this,s,c)}z(Yd,k);function Gu(r,s,c){k.call(this,r,c),r=s||{},r.Kb&&pe(this,"email",r.Kb),r.ea&&pe(this,"phoneNumber",r.ea),r.credential&&pe(this,"credential",r.credential),r.$b&&pe(this,"tenantId",r.$b)}z(Gu,k),Gu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&De(r,s),r},Gu.prototype.toJSON=function(){return this.w()};function tl(r){if(r.code){var s=r.code||"";s.indexOf(ut)==0&&(s=s.substring(ut.length));var c={credential:Gd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new k(s,r.message||void 0);return new Gu(s,c,r.message)}return null}function Wu(){}Wu.prototype.c=null;function Vw(r){return r.c||(r.c=r.b())}var Qd;function nl(){}z(nl,Wu),nl.prototype.a=function(){var r=Bw(this);return r?new ActiveXObject(r):new XMLHttpRequest},nl.prototype.b=function(){var r={};return Bw(this)&&(r[0]=!0,r[1]=!0),r};function Bw(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}Qd=new nl;function rl(){}z(rl,Wu),rl.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new qw;throw Error("Unsupported browser")},rl.prototype.b=function(){return{}};function qw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=j(this.qc,this),this.a.onerror=j(this.Tb,this),this.a.onprogress=j(this.rc,this),this.a.ontimeout=j(this.vc,this)}e=qw.prototype,e.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jd(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Jd(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Jd(this,1)};function Jd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Zd(r,s,c){this.reset(r,s,c,void 0,void 0)}Zd.prototype.a=null,Zd.prototype.reset=function(r,s,c,h,g){delete this.a};function ep(r){this.f=r,this.b=this.c=this.a=null}function Xu(r,s){this.name=r,this.value=s}Xu.prototype.toString=function(){return this.name};var $w=new Xu("SEVERE",1e3),tp=new Xu("WARNING",900),Ux=new Xu("CONFIG",700),jx=new Xu("FINE",500);function Hw(r){return r.c?r.c:r.a?Hw(r.a):(Ct("Root logger has no level set."),null)}ep.prototype.log=function(r,s,c){if(r.value>=Hw(this).value)for(T(s)&&(s=s()),r=new Zd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var np={},il=null;function rp(r){il||(il=new ep(""),np[""]=il,il.c=Ux);var s;if(!(s=np[r])){s=new ep(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=rp(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,np[r]=s}return s}function fr(r,s){r&&r.log(jx,s,void 0)}function ol(r){this.f=r}z(ol,Wu),ol.prototype.a=function(){return new sl(this.f)},ol.prototype.b=function(r){return function(){return r}}({});function sl(r){bn.call(this),this.u=r,this.h=void 0,this.readyState=ip,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=rp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}z(sl,bn);var ip=0;e=sl.prototype,e.open=function(r,s){if(this.readyState!=ip)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Qu(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Yu(this)),this.readyState=ip},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Qu(this)),this.a&&(this.readyState=3,Qu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Kw(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Kw(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Yu(this):Qu(this),this.readyState==3&&Kw(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,Yu(this))},e.sc=function(r){this.a&&(this.response=r,Yu(this))},e.Va=function(r){var s=this.i;s&&s.log(tp,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Yu(this)};function Yu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Qu(r)}e.setRequestHeader=function(r,s){this.l.append(r,s)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(tp,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(tp,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Qu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(sl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Ju(r){bn.call(this),this.headers=new ss,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=zw,this.u=this.S=!1}z(Ju,bn);var zw="";Ju.prototype.b=rp("goog.net.XhrIo");var Vx=/^https?$/i,Bx=["POST","PUT"];function qx(r,s,c,h,g){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():Qd.a(),r.C=r.D?Vw(r.D):Vw(Qd),r.a.onreadystatechange=j(r.Wb,r);try{fr(r.b,Zr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){fr(r.b,Zr(r,"Error opening Xhr: "+w.message)),Gw(r,w);return}s=h||"";var y=new ss(r.headers);g&&WC(g,function(w,E){y.set(E,w)}),g=A(y.Y()),h=f.FormData&&s instanceof f.FormData,!R(Bx,c)||g||h||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),y.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Yw(r),0<r.g&&(r.u=$x(r.a),fr(r.b,Zr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=j(r.Ma,r)):r.s=vd(r.Ma,r.g,r)),fr(r.b,Zr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){fr(r.b,Zr(r,"Send error: "+w.message)),Gw(r,w)}}function $x(r){return mr&&d0(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function Hx(r){return r.toLowerCase()=="content-type"}e=Ju.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fr(this.b,Zr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Gw(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,Ww(r),ul(r)}function Ww(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(fr(this.b,Zr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ul(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ul(this,!0)),Ju.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Xw(this):this.Jc())},e.Jc=function(){Xw(this)};function Xw(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Zu(r)==4&&al(r)==2)fr(r.b,Zr(r,"Local request error detected and ignored"));else if(r.i&&Zu(r)==4)vd(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Zu(r)==4){fr(r.b,Zr(r,"Request complete")),r.c=!1;try{var s=al(r);e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var h;if(!(h=c)){var g;if(g=s===0){var y=String(r.l).match(q0)[1]||null;if(!y&&f.self&&f.self.location){var w=f.self.location.protocol;y=w.substr(0,w.length-1)}g=!Vx.test(y?y.toLowerCase():"")}h=g}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Zu(r)?r.a.statusText:""}catch(M){fr(r.b,"Can not get status: "+M.message),E=""}r.h=E+" ["+al(r)+"]",Ww(r)}}finally{ul(r)}}}}function ul(r,s){if(r.a){Yw(r);var c=r.a,h=r.C[0]?v:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(g){(r=r.b)&&r.log($w,"Problem encountered resetting onreadystatechange: "+g.message,void 0)}}}function Yw(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Zu(r){return r.a?r.a.readyState:0}function al(r){try{return 2<Zu(r)?r.a.status:-1}catch{return-1}}function Kx(r){try{return r.a?r.a.responseText:""}catch(s){return fr(r.b,"Can not get responseText: "+s.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case zw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log($w,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return fr(this.b,"Can not get response: "+s.message),null}};function Zr(r,s){return s+" ["+r.P+" "+r.l+" "+al(r)+"]"}function po(r){var s=Wx;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}po.prototype.cancel=function(r){if(this.a)this.c instanceof po&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new ta,cl(this),ea(this,!1,r))}},po.prototype.m=function(r,s){this.i=!1,ea(this,r,s)};function ea(r,s,c){r.a=!0,r.c=c,r.f=!s,Jw(r)}function cl(r){if(r.a){if(!r.v)throw new ll;r.v=!1}}function zx(r,s){op(r,null,s,void 0)}function op(r,s,c,h){r.g.push([s,c,h]),r.a&&Jw(r)}po.prototype.then=function(r,s,c){var h,g,y=new He(function(w,E){h=w,g=E});return op(this,h,function(w){w instanceof ta?y.cancel():g(w)}),y.then(r,s,c)},po.prototype.$goog_Thenable=!0;function Qw(r){return I(r.g,function(s){return T(s[1])})}function Jw(r){if(r.h&&r.a&&Qw(r)){var s=r.h,c=fl[s];c&&(f.clearTimeout(c.a),delete fl[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var g=r.g.shift(),y=g[0],w=g[1];if(g=g[2],y=r.f?w:y)try{var E=y.call(g||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Me(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(M){s=M,r.f=!0,Qw(r)||(c=!0)}}r.c=s,h&&(E=j(r.m,r,!0),h=j(r.m,r,!1),s instanceof po?(op(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new Zw(s),fl[s.a]=s,r.h=s.a)}function ll(){ge.call(this)}z(ll,ge),ll.prototype.message="Deferred has already fired",ll.prototype.name="AlreadyCalledError";function ta(){ge.call(this)}z(ta,ge),ta.prototype.message="Deferred was canceled",ta.prototype.name="CanceledError";function Zw(r){this.a=f.setTimeout(j(this.c,this),0),this.b=r}Zw.prototype.c=function(){throw delete fl[this.a],this.b};var fl={};function sp(r){var s={},c=s.document||document,h=t0(r).toString(),g=Mc(document,"SCRIPT"),y={Xb:g,Ma:void 0},w=new po(y),E=null,M=s.timeout!=null?s.timeout:5e3;return 0<M&&(E=window.setTimeout(function(){hl(g,!0);var G=new up(Yx,"Timeout reached for loading script "+h);cl(w),ea(w,!1,G)},M),y.Ma=E),g.onload=g.onreadystatechange=function(){g.readyState&&g.readyState!="loaded"&&g.readyState!="complete"||(hl(g,s.xd||!1,E),cl(w),ea(w,!0,null))},g.onerror=function(){hl(g,!0,E);var G=new up(Xx,"Error while loading script "+h);cl(w),ea(w,!1,G)},y=s.attributes||{},De(y,{type:"text/javascript",charset:"UTF-8"}),g0(g,y),SC(g,r),Gx(c).appendChild(g),w}function Gx(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function Wx(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&hl(r,!0,this.Ma)}}function hl(r,s,c){c!=null&&f.clearTimeout(c),r.onload=v,r.onerror=v,r.onreadystatechange=v,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var Xx=0,Yx=1;function up(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),ge.call(this,c),this.code=r}z(up,ge);function dl(r){this.f=r}z(dl,Wu),dl.prototype.a=function(){return new this.f},dl.prototype.b=function(){return{}};function wr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||Qx,this.g=Ne(r.secureTokenHeaders||Jx),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||Zx,this.a=Ne(r.firebaseHeaders||eN),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Pr()=="Node",c=f.XMLHttpRequest||c&&Ae.INTERNAL.node&&Ae.INTERNAL.node.XMLHttpRequest,!c&&!vr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,vr()?this.f=new ol(self):ew()?this.f=new dl(c):this.f=new rl,this.b=null}var ap,br="idToken",Qx=new wi(3e4,6e4),Jx={"Content-Type":"application/x-www-form-urlencoded"},Zx=new wi(3e4,6e4),eN={"Content-Type":"application/json"};function eb(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function pl(r,s){s&&(r.l=cp("https://securetoken.googleapis.com/v1/token",s),r.h=cp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=cp("https://identitytoolkit.googleapis.com/v2/",s))}function cp(r,s){return r=Dn(r),s=Dn(s.url),r.f=r.a+r.f,Du(r,s.c),r.a=s.a,Lu(r,s.g),r.toString()}function tb(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}wr.prototype.T=function(){return this.b};function nb(r,s,c,h,g,y,w){ix()||vr()?r=j(r.u,r):(ap||(ap=new He(function(E,M){nN(E,M)})),r=j(r.s,r)),r(s,c,h,g,y,w)}wr.prototype.u=function(r,s,c,h,g,y){if(vr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Ju(this.f);if(y){w.g=Math.max(0,y);var E=setTimeout(function(){w.dispatchEvent("timeout")},y)}j0(w,"complete",function(){E&&clearTimeout(E);var M=null;try{M=JSON.parse(Kx(this))||null}catch{M=null}s&&s(M)}),md(w,"ready",function(){E&&clearTimeout(E),O0(this)}),md(w,"timeout",function(){E&&clearTimeout(E),O0(this),s&&s(null)}),qx(w,r,c,h,g)};var tN=new ln(Oc,"https://apis.google.com/js/client.js?onload=%{onload}"),rb="__fcb"+Math.floor(1e6*Math.random()).toString();function nN(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[rb]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=Jh(tN,{onload:rb});zx(sp(c),function(){s(Error("CORS_UNSUPPORTED"))})}}wr.prototype.s=function(r,s,c,h,g){var y=this;ap.then(function(){window.gapi.client.setApiKey(y.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:g,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function rN(r,s){return new He(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?nb(r,r.l+"?key="+encodeURIComponent(r.c),function(g){g?g.error?h(vp(g)):g.access_token&&g.refresh_token?c(g):h(new k("internal-error")):h(new k("network-request-failed"))},"POST",H0(s).toString(),r.g,r.m.get()):h(new k("internal-error"))})}function ib(r,s,c,h,g,y,w){var E=Dn(s+c);Rt(E,"key",r.c),w&&Rt(E,"cb",Date.now().toString());var M=h=="GET";if(M)for(var G in g)g.hasOwnProperty(G)&&Rt(E,G,g[G]);return new He(function(Re,ot){nb(r,E.toString(),function(et){et?et.error?ot(vp(et,y||{})):Re(et):ot(new k("network-request-failed"))},h,M?void 0:G0(rw(g)),r.a,r.v.get())})}function go(r){if(r=r.email,typeof r!="string"||!ux.test(r))throw new k("invalid-email")}function ob(r){"email"in r&&go(r)}function iN(r,s){return Ke(r,pN,{identifier:s,continueUri:zc()?Uu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function oN(r){return Ke(r,AN,{}).then(function(s){return s.authorizedDomains||[]})}function Ln(r){if(!r[br])throw r.mfaPendingCredential?new k("multi-factor-auth-required",null,Ne(r)):new k("internal-error")}function lp(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new k("internal-error")}else{if(!r.sessionInfo)throw new k("missing-verification-id");if(!r.code)throw new k("missing-verification-code")}}wr.prototype.Ab=function(){return Ke(this,NN,{})},wr.prototype.Cb=function(r,s){return Ke(this,ab,{idToken:r,email:s})},wr.prototype.Db=function(r,s){return Ke(this,cb,{idToken:r,password:s})};var sN={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=wr.prototype,e.Eb=function(r,s){var c={idToken:r},h=[];return Ce(sN,function(g,y){var w=s[y];w===null?h.push(g):y in s&&(c[y]=w)}),h.length&&(c.deleteAttribute=h),Ke(this,ab,c)},e.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},De(r,s),Ke(this,SN,r)},e.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},De(r,s),Ke(this,EN,r)},e.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},De(r,s),Ke(this,IN,r)},e.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},De(r,c),Ke(this,TN,r)};function uN(r,s){return Ke(r,xN,s)}e.gb=function(r){return Ke(this,FN,r)};function aN(r,s){return Ke(r,RN,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function sb(r){if(!r.phoneVerificationInfo)throw new k("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new k("missing-verification-code")}function cN(r,s){return Ke(r,ON,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function lN(r,s,c){return Ke(r,mN,{idToken:s,deleteProvider:c})}function fp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new k("internal-error")}function hp(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new io(r.postBody),bd(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function ub(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=tl(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=tl(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=tl(r)):r.errorMessage&&(s=fb(r.errorMessage)),s)throw s;Ln(r)}function dp(r,s){return s.returnIdpCredential=!0,Ke(r,PN,s)}function pp(r,s){return s.returnIdpCredential=!0,Ke(r,LN,s)}function gp(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Ke(r,DN,s)}function mp(r){if(!r.oobCode)throw new k("invalid-action-code")}e.ob=function(r,s){return Ke(this,CN,{oobCode:r,newPassword:s})},e.Sa=function(r){return Ke(this,hN,{oobCode:r})},e.kb=function(r){return Ke(this,fN,{oobCode:r})};var fN={endpoint:"setAccountInfo",A:mp,Z:"email",B:!0},hN={endpoint:"resetPassword",A:mp,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},B:!0},dN={endpoint:"signupNewUser",A:function(r){if(go(r),!r.password)throw new k("weak-password")},G:Ln,V:!0,B:!0},pN={endpoint:"createAuthUri",B:!0},gN={endpoint:"deleteAccount",O:["idToken"]},mN={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new k("internal-error")}},vN={endpoint:"emailLinkSignin",O:["email","oobCode"],A:go,G:Ln,V:!0,B:!0},yN={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:go,G:Ln,V:!0},wN={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:sb,G:Ln,B:!0,Na:!0},bN={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:sb,G:Ln,B:!0,Na:!0},_N={endpoint:"getAccountInfo"},EN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new k("internal-error");go(r)},Z:"email",B:!0},IN={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new k("internal-error")},Z:"email",B:!0},TN={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new k("internal-error")},Z:"email",B:!0},SN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new k("internal-error");go(r)},Z:"email",B:!0},AN={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},kN={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new k("internal-error")}},CN={endpoint:"resetPassword",A:mp,Z:"email",B:!0},xN={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},ab={endpoint:"setAccountInfo",O:["idToken"],A:ob,V:!0},cb={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(ob(r),!r.password)throw new k("weak-password")},G:Ln,V:!0},NN={endpoint:"signupNewUser",G:Ln,V:!0,B:!0},RN={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new k("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},ON={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new k("internal-error")},B:!0,Na:!0},PN={endpoint:"verifyAssertion",A:fp,Za:hp,G:ub,V:!0,B:!0},DN={endpoint:"verifyAssertion",A:fp,Za:hp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new k("user-not-found");if(r.errorMessage)throw fb(r.errorMessage);Ln(r)},V:!0,B:!0},LN={endpoint:"verifyAssertion",A:function(r){if(fp(r),!r.idToken)throw new k("internal-error")},Za:hp,G:ub,V:!0},MN={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new k("invalid-custom-token")},G:Ln,V:!0,B:!0},lb={endpoint:"verifyPassword",A:function(r){if(go(r),!r.password)throw new k("wrong-password")},G:Ln,V:!0,B:!0},FN={endpoint:"verifyPhoneNumber",A:lp,G:Ln,B:!0},UN={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new k("internal-error");lp(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",tl(r);Ln(r)}},jN={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:lp,G:Ln,B:!0},VN={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[br]^!!r.refreshToken)throw new k("internal-error")},B:!0,Na:!0};function Ke(r,s,c){if(!px(c,s.O))return _t(new k("internal-error"));var h=!!s.Na,g=s.Vb||"POST",y;return Te(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?ib(r,r.i,s.endpoint,g,c,s.Ib,s.mb||!1):ib(r,r.h,s.endpoint,g,c,s.Ib,s.mb||!1)}).then(function(w){return y=w,s.Za?s.Za(c,y):y}).then(s.G).then(function(){if(!s.Z)return y;if(!(s.Z in y))throw new k("internal-error");return y[s.Z]})}function fb(r){return vp({error:{errors:[{message:r}],code:400,message:r}})}function vp(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new k(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},De(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var g in h)if(c.indexOf(g)===0)return new k(h[g],s);return!s&&r&&(s=Vu(r)),new k("internal-error",s)}function BN(r){this.b=r,this.a=null,this.sb=qN(this)}function qN(r){return WN().then(function(){return new He(function(s,c){Et("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function g(){clearTimeout(y),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var y=setTimeout(function(){c(Error("Network Error"))},GN.get());h.ping(g).then(g,function(){c(Error("Network Error"))})})})})}function $N(r,s){return r.sb.then(function(){return new He(function(c){r.a.send(s.type,s,c,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function HN(r,s){r.sb.then(function(){r.a.register("authEvent",s,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var KN=new ln(Oc,"https://apis.google.com/js/api.js?onload=%{onload}"),zN=new wi(3e4,6e4),GN=new wi(5e3,15e3),gl=null;function WN(){return gl||(gl=new He(function(r,s){function c(){ow(),Et("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){ow(),s(Error("Network Error"))},timeout:zN.get()})}if(Et("gapi.iframes.Iframe"))r();else if(Et("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){Et("gapi.load")?c():s(Error("Network Error"))},h=Jh(KN,{onload:h}),Te(sp(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw gl=null,r}))}function hb(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Dn(this.g.url),r=Hc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Hc("https",this.l,null,"/__/auth/iframe"),this.a=r,Rt(this.a,"apiKey",this.h),Rt(this.a,"appName",this.i),this.b=null,this.c=[]}hb.prototype.toString=function(){return this.f?Rt(this.a,"v",this.f):Or(this.a.b,"v"),this.b?Rt(this.a,"eid",this.b):Or(this.a.b,"eid"),this.c.length?Rt(this.a,"fw",this.c.join(",")):Or(this.a.b,"fw"),this.a.toString()};function yp(r,s,c,h,g,y){this.u=r,this.s=s,this.c=c,this.m=h,this.v=y,this.i=this.g=this.l=null,this.a=g,this.h=this.f=null}yp.prototype.zb=function(r){return this.h=r,this},yp.prototype.toString=function(){if(this.v){var r=Dn(this.v.url);r=Hc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Hc("https",this.u,null,"/__/auth/handler");if(Rt(r,"apiKey",this.s),Rt(r,"appName",this.c),Rt(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=Ae.app(this.c).auth().la()}catch{c=null}s.pb=c,Rt(r,"providerId",this.a.providerId),c=this.a,s=rw(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=Ne(s);for(var g=0;g<h.length;g++){var y=h[g];y in s&&delete s[y]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),je(s)||Rt(r,"customParameters",Vu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Rt(r,"scopes",c.join(","))),this.l?Rt(r,"redirectUrl",this.l):Or(r.b,"redirectUrl"),this.g?Rt(r,"eventId",this.g):Or(r.b,"eventId"),this.i?Rt(r,"v",this.i):Or(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!cr(r,w)&&Rt(r,w,this.b[w]);return this.h?Rt(r,"tid",this.h):Or(r.b,"tid"),this.f?Rt(r,"eid",this.f):Or(r.b,"eid"),w=wp(this.c),w.length&&Rt(r,"fw",w.join(",")),r.toString()};function wp(r){try{return Ae.app(r).auth().Ga()}catch{return[]}}function db(r,s,c,h,g,y){this.s=r,this.g=s,this.b=c,this.f=y,this.c=h||null,this.i=g||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function pb(r){var s=Uu();return oN(r).then(function(c){e:{var h=Dn(s),g=h.c;h=h.a;for(var y=0;y<c.length;y++){var w=c[y],E=h,M=g;if(w.indexOf("chrome-extension://")==0?E=Dn(w).a==E&&M=="chrome-extension":M!="http"&&M!="https"?E=!1:sx.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break e}}c=!1}if(!c)throw new Yd(Uu())})}function gb(r){return r.m||(r.m=Kc().then(function(){if(!r.u){var s=r.c,c=r.i,h=wp(r.b),g=new hb(r.s,r.g,r.b,r.f);g.f=s,g.b=c,g.c=re(h||[]),r.u=g.toString()}r.v=new BN(r.u),XN(r)})),r.m}e=db.prototype,e.Pb=function(r,s,c){var h=new k("popup-closed-by-user"),g=new k("web-storage-unsupported"),y=this,w=!1;return this.ma().then(function(){YN(y).then(function(E){E||(r&&oo(r),s(g),w=!0)})}).o(function(){}).then(function(){if(!w)return ox(r)}).then(function(){if(!w)return os(c).then(function(){s(h)})})},e.Yb=function(){var r=en();return!ju(r)&&!iw(r)},e.Ub=function(){return!1},e.Nb=function(r,s,c,h,g,y,w,E){if(!r)return _t(new k("popup-blocked"));if(w&&!ju())return this.ma().o(function(G){oo(r),g(G)}),h(),Te();this.a||(this.a=pb(mb(this)));var M=this;return this.a.then(function(){var G=M.ma().o(function(Re){throw oo(r),g(Re),Re});return h(),G}).then(function(){if(Wd(c),!w){var G=na(M.s,M.g,M.b,s,c,null,y,M.c,void 0,M.i,E,M.f);Y0(G,r)}}).o(function(G){throw G.code=="auth/network-request-failed"&&(M.a=null),G})};function mb(r){return r.l||(r.C=r.c?cs(r.c,wp(r.b)):null,r.l=new wr(r.g,Ye(r.i),r.C),r.f&&pl(r.l,r.f)),r.l}e.Ob=function(r,s,c,h){this.a||(this.a=pb(mb(this)));var g=this;return this.a.then(function(){Wd(s);var y=na(g.s,g.g,g.b,r,s,Uu(),c,g.c,void 0,g.i,h,g.f);Y0(y)}).o(function(y){throw y.code=="auth/network-request-failed"&&(g.a=null),y})},e.ma=function(){var r=this;return gb(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new k("network-request-failed")})},e.ac=function(){return!0};function na(r,s,c,h,g,y,w,E,M,G,Re,ot){return r=new yp(r,s,c,h,g,ot),r.l=y,r.g=w,r.i=E,r.b=Ne(M||null),r.f=G,r.zb(Re).toString()}function XN(r){if(!r.v)throw Error("IfcHandler must be initialized!");HN(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=jw(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Te(c)}return c.status="ERROR",Te(c)})}function YN(r){var s={type:"webStorageSupport"};return gb(r).then(function(){return $N(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){V(this.h,function(s){return s==r})};function vb(r){if(this.a=r||Ae.INTERNAL.reactNative&&Ae.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=vb.prototype,e.get=function(r){return Te(this.a.getItem(r)).then(function(s){return s&&fs(s)})},e.set=function(r,s){return Te(this.a.setItem(r,Vu(s)))},e.U=function(r){return Te(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function yb(r){this.b=r,this.a={},this.f=j(this.c,this)}var wb=[];function QN(){var r=vr()?self:null;if($(wb,function(c){c.b==r&&(s=c)}),!s){var s=new yb(r);wb.push(s)}return s}yb.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var g=[];$(h,function(y){g.push(Te().then(function(){return y(r.origin,r.data.data)}))}),I0(g).then(function(y){var w=[];$(y,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),$(w,function(E){for(var M in E)typeof E[M]>"u"&&delete E[M]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function bb(r,s,c){je(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function _b(r){this.a=r}_b.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function Eb(r){this.c=r,this.b=!1,this.a=[]}function Ib(r,s,c,h){var g,y=c||{},w,E,M,G=null;if(r.b)return _t(Error("connection_unavailable"));var Re=h?800:50,ot=typeof MessageChannel<"u"?new MessageChannel:null;return new He(function(et,Yt){ot?(g=Math.floor(Math.random()*Math.pow(10,20)).toString(),ot.port1.start(),E=setTimeout(function(){Yt(Error("unsupported_event"))},Re),w=function(ei){ei.data.eventId===g&&(ei.data.status==="ack"?(clearTimeout(E),M=setTimeout(function(){Yt(Error("timeout"))},3e3)):ei.data.status==="done"?(clearTimeout(M),typeof ei.data.response<"u"?et(ei.data.response):Yt(Error("unknown_error"))):(clearTimeout(E),clearTimeout(M),Yt(Error("invalid_response"))))},G={messageChannel:ot,onMessage:w},r.a.push(G),ot.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:g,data:y},[ot.port2])):Yt(Error("connection_unavailable"))}).then(function(et){return bp(r,G),et}).o(function(et){throw bp(r,G),et})}function bp(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),V(r.a,function(g){return g==s})}}Eb.prototype.close=function(){for(;0<this.a.length;)bp(this,this.a[0]);this.b=!0};function Tb(){if(!Ip())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;vr()&&self?(this.v=QN(),bb(this.v,"keyChanged",function(s,c){return kb(r).then(function(h){return 0<h.length&&$(r.a,function(g){g(h)}),{keyProcessed:R(h,c.key)}})}),bb(this.v,"ping",function(){return Te(["keyChanged"])})):hx().then(function(s){(r.h=s)&&(r.g=new Eb(new _b(s)),Ib(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var _p;function JN(r){return new He(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(g){c(Error(g.target.error))}})}function Sb(r){return new He(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(g){try{g.preventDefault()}catch{}c(Error(g.target.error))},h.onupgradeneeded=function(g){g=g.target.result;try{g.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(y){c(y)}},h.onsuccess=function(g){g=g.target.result,g.objectStoreNames.contains("firebaseLocalStorage")?s(g):JN(r).then(function(){return Sb(r)}).then(function(y){s(y)}).o(function(y){c(y)})}})}function Ep(r){return r.i||(r.i=Sb(r)),r.i}function ml(r,s){function c(g,y){Ep(r).then(s).then(g).o(function(w){if(3<++h)y(w);else return Ep(r).then(function(E){return E.close(),r.i=void 0,c(g,y)}).o(function(E){y(E)})})}var h=0;return new He(c)}function Ip(){try{return!!f.indexedDB}catch{return!1}}function ra(r){return r.objectStore("firebaseLocalStorage")}function ia(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function gs(r){return new He(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}e=Tb.prototype,e.set=function(r,s){var c=this,h=!1;return ml(this,function(g){return g=ra(ia(g,!0)),gs(g.get(r))}).then(function(g){return ml(c,function(y){if(y=ra(ia(y,!0)),g)return g.value=s,gs(y.put(g));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,gs(y.add(w))})}).then(function(){return c.c[r]=s,Ab(c,r)}).oa(function(){h&&c.b--})};function Ab(r,s){return r.g&&r.h&&fx()===r.h?Ib(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Te()}e.get=function(r){return ml(this,function(s){return gs(ra(ia(s,!1)).get(r))}).then(function(s){return s&&s.value})},e.U=function(r){var s=this,c=!1;return ml(this,function(h){return c=!0,s.b++,gs(ra(ia(h,!0)).delete(r))}).then(function(){return delete s.c[r],Ab(s,r)}).oa(function(){c&&s.b--})};function kb(r){return Ep(r).then(function(s){var c=ra(ia(s,!1));return c.getAll?gs(c.getAll()):new He(function(h,g){var y=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(y.push(E.value),E.continue()):h(y)},w.onerror=function(E){g(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=Q0(r.c,c),r.c=c}return h})}e.ca=function(r){this.a.length==0&&ZN(this),this.a.push(r)},e.ia=function(r){V(this.a,function(s){return s==r}),this.a.length==0&&Cb(this)};function ZN(r){function s(){r.f=setTimeout(function(){r.l=kb(r).then(function(c){0<c.length&&$(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Cb(r),s()}function Cb(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function xb(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Te().then(function(){if(Ip()){var h=uo(),g="__sak"+h;return _p||(_p=new Tb),c=_p,c.set(g,h).then(function(){return c.get(g)}).then(function(y){if(y!==h)throw Error("indexedDB not supported!");return c.U(g)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(g){$(s.a,function(y){y(g)})}),h})}e=xb.prototype,e.get=function(r){return this.b.then(function(s){return s.get(r)})},e.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},e.U=function(r){return this.b.then(function(s){return s.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){V(this.a,function(s){return s==r})};function oa(){this.a={},this.type="inMemory"}e=oa.prototype,e.get=function(r){return Te(this.a[r])},e.set=function(r,s){return this.a[r]=s,Te()},e.U=function(r){return delete this.a[r],Te()},e.ca=function(){},e.ia=function(){};function vl(){if(!eR())throw Pr()=="Node"?new k("internal-error","The LocalStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Nb()||Ae.INTERNAL.node.localStorage,this.type="localStorage"}function Nb(){try{var r=f.localStorage,s=uo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function eR(){var r=Pr()=="Node";if(r=Nb()||r&&Ae.INTERNAL.node&&Ae.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=vl.prototype,e.get=function(r){var s=this;return Te().then(function(){var c=s.a.getItem(r);return fs(c)})},e.set=function(r,s){var c=this;return Te().then(function(){var h=Vu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Te().then(function(){s.a.removeItem(r)})},e.ca=function(r){f.window&&ar(f.window,"storage",r)},e.ia=function(r){f.window&&Gn(f.window,"storage",r)};function Tp(){this.type="nullStorage"}e=Tp.prototype,e.get=function(){return Te(null)},e.set=function(){return Te()},e.U=function(){return Te()},e.ca=function(){},e.ia=function(){};function Sp(){if(!tR())throw Pr()=="Node"?new k("internal-error","The SessionStorage compatibility library was not found."):new k("web-storage-unsupported");this.a=Rb()||Ae.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Rb(){try{var r=f.sessionStorage,s=uo();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function tR(){var r=Pr()=="Node";if(r=Rb()||r&&Ae.INTERNAL.node&&Ae.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Sp.prototype,e.get=function(r){var s=this;return Te().then(function(){var c=s.a.getItem(r);return fs(c)})},e.set=function(r,s){var c=this;return Te().then(function(){var h=Vu(s);h===null?c.U(r):c.a.setItem(r,h)})},e.U=function(r){var s=this;return Te().then(function(){s.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function nR(){var r={};r.Browser=rR,r.Node=iR,r.ReactNative=oR,r.Worker=sR,this.a=r[Pr()]}var Ap,rR={F:vl,cb:Sp},iR={F:vl,cb:Sp},oR={F:vb,cb:Tp},sR={F:vl,cb:Tp},ms={rd:"local",NONE:"none",td:"session"};function uR(r){var s=new k("invalid-persistence-type"),c=new k("unsupported-persistence-type");e:{for(h in ms)if(ms[h]==r){var h=!0;break e}h=!1}if(!h||typeof r!="string")throw s;switch(Pr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Ip()&&r!=="none")throw c;break;default:if(!Ad()&&r!=="none")throw c}}function Ob(){var r=!!(!iw(en())&&Td()),s=ju(),c=Ad();this.m=r,this.h=s,this.l=c,this.a={},Ap||(Ap=new nR),r=Ap;try{this.g=!Ed()&&sw()||!f.indexedDB?new r.a.F:new xb(vr()?new oa:new r.a.F)}catch{this.g=new oa,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new oa}this.v=new oa,this.f=j(this.Zb,this),this.b={}}var kp;function sa(){return kp||(kp=new Ob),kp}function mo(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function vs(r,s){return"firebase:"+r.name+(s?":"+s:"")}function aR(r,s,c){var h=vs(s,c),g=mo(r,s.F);return r.get(s,c).then(function(y){var w=null;try{w=fs(f.localStorage.getItem(h))}catch{}if(w&&!y)return f.localStorage.removeItem(h),r.set(s,w,c);w&&y&&g.type!="localStorage"&&f.localStorage.removeItem(h)})}e=Ob.prototype,e.get=function(r,s){return mo(this,r.F).get(vs(r,s))};function ys(r,s,c){return c=vs(s,c),s.F=="local"&&(r.b[c]=null),mo(r,s.F).U(c)}e.set=function(r,s,c){var h=vs(r,c),g=this,y=mo(this,r.F);return y.set(h,s).then(function(){return y.get(h)}).then(function(w){r.F=="local"&&(g.b[h]=w)})},e.addListener=function(r,s,c){r=vs(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),je(this.a)&&(mo(this,"local").ca(this.f),this.h||(Ed()||!sw())&&f.indexedDB||!this.l||cR(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,s,c){r=vs(r,s),this.a[r]&&(V(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),je(this.a)&&(mo(this,"local").ia(this.f),Cp(this))};function cR(r){Cp(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new no({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Cp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var g=f.localStorage.getItem(c);g!==h&&(this.b[c]=g,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?mo(this,"local").ia(this.f):Cp(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var y=this;c=function(){(typeof r.a.a<"u"||y.b[s]!==f.localStorage.getItem(s))&&(y.b[s]=f.localStorage.getItem(s),y.nb(s))},mr&&mi&&mi==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else $(r,j(this.nb,this))},e.nb=function(r){this.a[r]&&$(this.a[r],function(s){s()})};function lR(r){this.a=r,this.b=sa()}var xp={name:"authEvent",F:"local"};function fR(r){return r.b.get(xp,r.a).then(function(s){return jw(s)})}function hR(){this.a=sa()}function dR(){this.b=-1}function yl(r,s){this.b=Pb,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),wl===void 0&&(f.Int32Array?wl=new Int32Array(Mb):wl=Mb),this.reset()}var wl;z(yl,dR);for(var Pb=64,pR=Pb-1,Db=[],Np=0;Np<pR;Np++)Db[Np]=0;var Lb=W(128,Db);yl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):re(this.h)};function Rp(r){for(var s=r.f,c=r.l,h=0,g=0;g<s.length;)c[h++]=s[g]<<24|s[g+1]<<16|s[g+2]<<8|s[g+3],g=4*h;for(s=16;64>s;s++){g=c[s-15]|0,h=c[s-2]|0;var y=(c[s-16]|0)+((g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=y+w|0}h=r.a[0]|0,g=r.a[1]|0;var E=r.a[2]|0,M=r.a[3]|0,G=r.a[4]|0,Re=r.a[5]|0,ot=r.a[6]|0;for(y=r.a[7]|0,s=0;64>s;s++){var et=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&g^h&E^g&E)|0;w=G&Re^~G&ot,y=y+((G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7))|0,w=w+(wl[s]|0)|0,w=y+(w+(c[s]|0)|0)|0,y=ot,ot=Re,Re=G,G=M+w|0,M=E,E=g,g=h,h=w+et|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+g|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+M|0,r.a[4]=r.a[4]+G|0,r.a[5]=r.a[5]+Re|0,r.a[6]=r.a[6]+ot|0,r.a[7]=r.a[7]+y|0}function Op(r,s,c){c===void 0&&(c=s.length);var h=0,g=r.c;if(typeof s=="string")for(;h<c;)r.f[g++]=s.charCodeAt(h++),g==r.b&&(Rp(r),g=0);else if(_(s))for(;h<c;){var y=s[h++];if(!(typeof y=="number"&&0<=y&&255>=y&&y==(y|0)))throw Error("message must be a byte array");r.f[g++]=y,g==r.b&&(Rp(r),g=0)}else throw Error("message must be string or array");r.c=g,r.g+=c}var Mb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fb(){yl.call(this,8,gR)}z(Fb,yl);var gR=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ub(r,s,c,h,g,y){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=g||null,this.s=y,this.h=s+":"+c,this.C=new hR,this.g=new lR(this.h),this.f=null,this.b=[],this.a=this.c=null}function bl(r){return new k("invalid-cordova-configuration",r)}e=Ub.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=ax().then(function(){if(typeof Et("universalLinks.subscribe",f)!="function")throw bl("cordova-universal-links-plugin-fix is not installed");if(typeof Et("BuildInfo.packageName",f)>"u")throw bl("cordova-plugin-buildinfo is not installed");if(typeof Et("cordova.plugins.browsertab.openUrl",f)!="function")throw bl("cordova-plugin-browsertab is not installed");if(typeof Et("cordova.InAppBrowser.open",f)!="function")throw bl("cordova-plugin-inappbrowser is not installed")},function(){throw new k("cordova-not-ready")})};function mR(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function vR(r){var s=new Fb;Op(s,r),r=[];var c=8*s.g;56>s.c?Op(s,Lb,56-s.c):Op(s,Lb,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Rp(s),h=c=0;h<s.i;h++)for(var g=24;0<=g;g-=8)r[c++]=s.a[h]>>g&255;return Cx(r)}e.Pb=function(r,s){return s(new k("operation-not-supported-in-this-environment")),Te()},e.Nb=function(){return _t(new k("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,s,c,h){if(this.c)return _t(new k("redirect-operation-pending"));var g=this,y=f.document,w=null,E=null,M=null,G=null;return this.c=Te().then(function(){return Wd(s),Vb(g)}).then(function(){return yR(g,r,s,c,h)}).then(function(){return new He(function(Re,ot){E=function(){var et=Et("cordova.plugins.browsertab.close",f);return Re(),typeof et=="function"&&et(),g.a&&typeof g.a.close=="function"&&(g.a.close(),g.a=null),!1},g.Ea(E),M=function(){w||(w=os(2e3).then(function(){ot(new k("redirect-cancelled-by-user"))}))},G=function(){kd()&&M()},y.addEventListener("resume",M,!1),en().toLowerCase().match(/android/)||y.addEventListener("visibilitychange",G,!1)}).o(function(Re){return Pp(g).then(function(){throw Re})})}).oa(function(){M&&y.removeEventListener("resume",M,!1),G&&y.removeEventListener("visibilitychange",G,!1),w&&w.cancel(),E&&g.Ta(E),g.c=null})};function yR(r,s,c,h,g){var y=mR(),w=new yr(s,h,null,y,new k("no-auth-event"),null,g),E=Et("BuildInfo.packageName",f);if(typeof E!="string")throw new k("invalid-cordova-configuration");var M=Et("BuildInfo.displayName",f),G={};if(en().toLowerCase().match(/iphone|ipad|ipod/))G.ibi=E;else if(en().toLowerCase().match(/android/))G.apn=E;else return _t(new k("operation-not-supported-in-this-environment"));M&&(G.appDisplayName=M),y=vR(y),G.sessionId=y;var Re=na(r.v,r.i,r.l,s,c,null,h,r.m,G,r.u,g,r.s);return r.ma().then(function(){var ot=r.h;return r.C.a.set(xp,w.w(),ot)}).then(function(){var ot=Et("cordova.plugins.browsertab.isAvailable",f);if(typeof ot!="function")throw new k("invalid-cordova-configuration");var et=null;ot(function(Yt){if(Yt){if(et=Et("cordova.plugins.browsertab.openUrl",f),typeof et!="function")throw new k("invalid-cordova-configuration");et(Re)}else{if(et=Et("cordova.InAppBrowser.open",f),typeof et!="function")throw new k("invalid-cordova-configuration");Yt=en(),r.a=et(Re,Yt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Yt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function jb(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Vb(r){return r.f||(r.f=r.ma().then(function(){return new He(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),wR(r)})})),r.f}function Pp(r){var s=null;return fR(r.g).then(function(c){return s=c,c=r.g,ys(c.b,xp,c.a)}).then(function(){return s})}function wR(r){function s(w){h=!0,g&&g.cancel(),Pp(r).then(function(E){var M=c;if(E&&w&&w.url){var G=null;M=Rw(w.url),M.indexOf("/__/auth/callback")!=-1&&(G=Dn(M),G=fs(cr(G,"firebaseError")||null),G=(G=typeof G=="object"?Xe(G):null)?new yr(E.c,E.b,null,null,G,null,E.T()):new yr(E.c,E.b,M,E.f,null,null,E.T())),M=G||c}jb(r,M)})}var c=new yr("unknown",null,null,null,new k("no-auth-event")),h=!1,g=os(500).then(function(){return Pp(r).then(function(){h||jb(r,c)})}),y=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(Et("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof y=="function")try{y(w)}catch(E){console.error(E)}},Xd||(Xd=new Mx),Fx(s)}e.Ea=function(r){this.b.push(r),Vb(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new yr("unknown",null,null,null,new k("no-auth-event")),r(s))})},e.Ta=function(r){V(this.b,function(s){return s==r})};function bR(r){this.a=r,this.b=sa()}var Dp={name:"pendingRedirect",F:"session"};function _R(r){return r.b.set(Dp,"pending",r.a)}function Lp(r){return ys(r.b,Dp,r.a)}function ER(r){return r.b.get(Dp,r.a).then(function(s){return s=="pending"})}function _l(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=j(this.s,this),this.b=new Il,this.C=new Yb,this.g=new bR(Gb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Bb(this.D,this.v,this.m,ue,this.J)}function Bb(r,s,c,h,g){var y=Ae.SDK_VERSION||null;return Id()?new Ub(r,s,c,y,h,g):new db(r,s,c,y,h,g)}_l.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Bb(this.D,this.v,this.m,null,this.J),this.i={}};function qb(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function $b(r){r.a.Yb()&&qb(r).o(function(s){var c=new yr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Fp(s)&&r.s(c)}),r.a.Ub()||Wb(r.b)}function El(r,s){R(r.h,s)||r.h.push(s),r.f||ER(r.g).then(function(c){c?Lp(r.g).then(function(){qb(r).o(function(h){var g=new yr("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Fp(h)&&r.s(g)})}):$b(r)}).o(function(){$b(r)})}function Mp(r,s){V(r.h,function(c){return c==s})}_l.prototype.s=function(r){if(!r)throw new k("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return Wb(this.b),s};var IR=new wi(2e3,1e4),TR=new wi(3e4,6e4);_l.prototype.ra=function(){return this.b.ra()};function Hb(r,s,c,h,g,y,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},g,y,w)}function Fp(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Kb(r,s,c,h,g){var y;return _R(r.g).then(function(){return r.a.Ob(s,c,h,g).o(function(w){if(Fp(w))throw new k("operation-not-supported-in-this-environment");return y=w,Lp(r.g).then(function(){throw y})}).then(function(){return r.a.ac()?new He(function(){}):Lp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function zb(r,s,c,h,g){return r.a.Pb(h,function(y){s.na(c,null,y,g)},IR.get())}var Up={};function Gb(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function jp(r,s,c,h){var g=Gb(s,c,h);return Up[g]||(Up[g]=new _l(r,s,c,h)),Up[g]}function Il(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Il.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Il.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,g=r.a&&r.a.code=="auth/web-storage-unsupported",y=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!g&&!y),c!="unknown"||g||y?r.a?(vo(this,!0,null,r.a),Te()):s.Fa(c,h)?SR(this,r,s):_t(new k("invalid-auth-event")):(vo(this,!1,null,null),Te())}else _t(new k("invalid-auth-event"))};function Wb(r){r.g||(r.g=!0,vo(r,!1,null,null))}function Tl(r){r.g&&!r.i&&vo(r,!1,null,null)}function SR(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,g=s.f,y=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,g,w,y).then(function(M){vo(r,E,M,null)}).o(function(M){vo(r,E,null,M)})}function AR(r,s){if(r.b=function(){return _t(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function Xb(r,s){if(r.b=function(){return Te(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function vo(r,s,c,h){s?h?AR(r,h):Xb(r,c):Xb(r,{user:null}),r.f=[],r.c=[]}Il.prototype.ra=function(){var r=this;return new He(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),kR(r))})};function kR(r){var s=new k("timeout");r.a&&r.a.cancel(),r.a=os(TR.get()).then(function(){r.b||(r.g=!0,vo(r,!0,null,s))})}function Yb(){}Yb.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Te()):s.Fa(c,h)?CR(r,s):_t(new k("invalid-auth-event"))}else _t(new k("invalid-auth-event"))};function CR(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(g){s.na(h,g,null,c)}).o(function(g){s.na(h,null,g,c)})}function Qb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Vp(r,s){this.a=s,pe(this,"verificationId",r)}Vp.prototype.confirm=function(r){return r=Uw(this.verificationId,r),this.a(r)};function Bp(r,s,c,h){return new Jr(r).gb(s,c).then(function(g){return new Vp(g,h)})}function xR(r){var s=Iw(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");_n(this,{token:r,expirationTime:Bu(1e3*s.exp),authTime:Bu(1e3*s.auth_time),issuedAtTime:Bu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function qp(r,s,c){var h=s&&s[Zb];if(!h)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=Ne(s),this.g=c,this.c=new Zc(null,h),this.b=[];var g=this;$(s[Jb]||[],function(y){(y=Pd(y))&&g.b.push(y)}),pe(this,"auth",this.a),pe(this,"session",this.c),pe(this,"hints",this.b)}var Jb="mfaInfo",Zb="mfaPendingCredential";qp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=Ne(s.f);return delete h[Jb],delete h[Zb],De(h,c),s.g(h)})};function $p(r,s,c,h){k.call(this,"multi-factor-auth-required",h,s),this.b=new qp(r,s,c),pe(this,"resolver",this.b)}z($p,k);function e_(r,s,c){if(r&&S(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new $p(s,r.serverResponse,c,r.message)}catch{}return null}function t_(){}t_.prototype.tb=function(r,s,c){return s.type==Ku?NR(this,r,s,c):RR(this,r,s)};function NR(r,s,c,h){return c.Ha().then(function(g){return g={idToken:g},typeof h<"u"&&(g.displayName=h),De(g,{phoneVerificationInfo:zu(r.a)}),Ke(s,wN,g)})}function RR(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},De(h,{phoneVerificationInfo:zu(r.a)}),Ke(s,bN,h)})}function Hp(r){pe(this,"factorId",r.fa),this.a=r}z(Hp,t_);function n_(r){if(Hp.call(this,r),this.a.fa!=Jr.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}z(n_,Hp);function ws(r,s){Pn.call(this,r);for(var c in s)this[c]=s[c]}z(ws,Pn);function Kp(r,s){this.a=r,this.b=[],this.c=j(this.yc,this),ar(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&$(s.multiFactor.enrolledFactors,function(h){var g=null,y={};if(h){h.uid&&(y[Ld]=h.uid),h.displayName&&(y[aw]=h.displayName),h.enrollmentTime&&(y[Dd]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(y[Md]=h.phoneNumber);try{g=new qu(y)}catch{}h=g}else h=null;h&&c.push(h)}),Sl(this,c)}function OR(r){var s=[];return $(r.mfaInfo||[],function(c){(c=Pd(c))&&s.push(c)}),s}e=Kp.prototype,e.yc=function(r){Sl(this,OR(r.hd))};function Sl(r,s){r.b=s,pe(r,"enrolledFactors",s)}e.Sb=function(){return this.a.I().then(function(r){return new Zc(r,null)})},e.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(g){return r.tb(h,g,s)}).then(function(g){return Mr(c.a,g),c.a.reload()})},e.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(g){return Ke(h,VN,{idToken:g,mfaEnrollmentId:c})}).then(function(g){var y=ae(s.b,function(w){return w.uid!=c});return Sl(s,y),Mr(s.a,g),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},e.w=function(){return{multiFactor:{enrolledFactors:Pe(this.b,function(r){return r.w()})}}};function zp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}zp.prototype.start=function(){this.a=this.c,Gp(this,!0)};function PR(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function Gp(r,s){r.stop(),r.b=os(PR(r,s)).then(function(){return lx()}).then(function(){return r.h()}).then(function(){Gp(r,!0)}).o(function(c){r.i(c)&&Gp(r,!1)})}zp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Wp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}Wp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function r_(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function i_(r,s){r.b=Qc(s[br]||""),r.a=s.refreshToken,s=s.expiresIn,r_(r,typeof s<"u"?Number(s):void 0)}function DR(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function LR(r,s){return rN(r.f,s).then(function(c){return r.b=Qc(c.access_token),r.a=c.refresh_token,r_(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}Wp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?_t(new k("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?LR(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})};function Al(r,s){this.a=r||null,this.b=s||null,_n(this,{lastSignInTime:Bu(s||null),creationTime:Bu(r||null)})}function MR(r){return new Al(r.a,r.b)}Al.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function FR(r,s,c,h,g,y){_n(this,{uid:r,displayName:h||null,photoURL:g||null,email:c||null,phoneNumber:y||null,providerId:s})}function Xn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=Ae.SDK_VERSION?cs(Ae.SDK_VERSION):null;this.a=new wr(this.l,Ye(ue),h),(this.u=r.emulatorConfig||null)&&pl(this.a,this.u),this.h=new Wp(this.a),tg(this,s[br]),i_(this.h,s),pe(this,"refreshToken",this.h.a),s_(this,c||{}),bn.call(this),this.P=!1,this.s&&so()&&(this.b=jp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=UR(this),this.ba=j(this.ib,this);var g=this;this.za=null,this.Pa=function(y){g.xa(y.h)},this.qa=null,this.Ba=function(y){Xp(g,y.c)},this.$=null,this.aa=[],this.Oa=function(y){ua(g,y.f)},this.ja=null,this.S=new Kp(this,c),pe(this,"multiFactor",this.S)}z(Xn,bn),Xn.prototype.xa=function(r){this.za=r,eb(this.a,r)};function Xp(r,s){r.u=s,pl(r.a,s),r.b&&(s=r.b,r.b=jp(r.s,r.l,r.m,r.u),r.P&&(Mp(s,r),El(r.b,r)))}Xn.prototype.la=function(){return this.za};function Yp(r,s){r.qa&&Gn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&ar(s,"languageCodeChanged",r.Pa)}function Qp(r,s){r.$&&Gn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&ar(s,"emulatorConfigChanged",r.Ba)}function ua(r,s){r.aa=s,tb(r.a,Ae.SDK_VERSION?cs(Ae.SDK_VERSION,r.aa):null)}Xn.prototype.Ga=function(){return re(this.aa)};function Jp(r,s){r.ja&&Gn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&ar(s,"frameworkChanged",r.Oa)}Xn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Zp(r){try{return Ae.app(r.m).auth()}catch{throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function UR(r){return new zp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function o_(r){r.J||r.D.b||(r.D.start(),Gn(r,"tokenChanged",r.ba),ar(r,"tokenChanged",r.ba))}function eg(r){Gn(r,"tokenChanged",r.ba),r.D.stop()}function tg(r,s){r.Aa=s,pe(r,"_lat",s)}function jR(r,s){V(r.W,function(c){return c==s})}function yo(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return I0(s).then(function(){return r})}function aa(r){r.b&&!r.P&&(r.P=!0,El(r.b,r))}function s_(r,s){_n(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Al(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pe(Xn.prototype,"providerId","firebase");function u_(){}function ng(r){return Te().then(function(){if(r.J)throw new k("app-deleted")})}function rg(r){return Pe(r.providerData,function(s){return s.providerId})}function ig(r,s){s&&(a_(r,s.providerId),r.providerData.push(s))}function a_(r,s){V(r.providerData,function(c){return c.providerId==s})}function Ei(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&pe(r,s,c)}function kl(r,s){r!=s&&(_n(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?pe(r,"metadata",MR(s.metadata)):pe(r,"metadata",new Al),$(s.providerData,function(c){ig(r,c)}),DR(r.h,s.h),pe(r,"refreshToken",r.h.a),Sl(r.S,s.S.b))}e=Xn.prototype,e.reload=function(){var r=this;return Kt(this,ng(this).then(function(){return og(r).then(function(){return yo(r)}).then(u_)}))};function og(r){return r.I().then(function(s){var c=r.isAnonymous;return VR(r,s).then(function(){return c||Ei(r,"isAnonymous",!1),s})})}e.oc=function(r){return this.I(r).then(function(s){return new xR(s)})},e.I=function(r){var s=this;return Kt(this,ng(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new k("internal-error");return c.accessToken!=s.Aa&&(tg(s,c.accessToken),s.dispatchEvent(new ws("tokenChanged"))),Ei(s,"refreshToken",c.refreshToken),c.accessToken}))};function Mr(r,s){s[br]&&r.Aa!=s[br]&&(i_(r.h,s),r.dispatchEvent(new ws("tokenChanged")),tg(r,s[br]),Ei(r,"refreshToken",r.h.a))}function VR(r,s){return Ke(r.a,_N,{idToken:s}).then(j(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new k("internal-error");r=r[0],s_(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=BR(r),c=0;c<s.length;c++)ig(this,s[c]);Ei(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ws("userReloaded",{hd:r}))};function BR(r){return(r=r.providerUserInfo)&&r.length?Pe(r,function(s){return new FR(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}e.Lc=function(r){return Cd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var s=this,c=null;return Kt(this,r.c(this.a,this.uid).then(function(h){return Mr(s,h),c=ca(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function Cl(r,s){return og(r).then(function(){if(R(rg(r),s))return yo(r).then(function(){throw new k("provider-already-linked")})})}e.Cc=function(r){return Cd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var s=this,c=null;return Kt(this,Cl(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=ca(s,h,"link"),c_(s,h)}).then(function(){return c}))},e.Dc=function(r,s){var c=this;return Kt(this,Cl(this,"phone").then(function(){return Bp(Zp(c),r,s,j(c.rb,c))}))},e.Mc=function(r,s){var c=this;return Kt(this,Te().then(function(){return Bp(Zp(c),r,s,j(c.ub,c))}),!0)};function ca(r,s,c){var h=Gd(s);return s=Sw(s),Dr({user:r,credential:h,additionalUserInfo:s,operationType:c})}function c_(r,s){return Mr(r,s),r.reload().then(function(){return r})}e.Cb=function(r){var s=this;return Kt(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Mr(s,c),s.reload()}))},e.ed=function(r){var s=this;return Kt(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Mr(s,c),s.reload()}))},e.Db=function(r){var s=this;return Kt(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Mr(s,c),s.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return ng(this);var s=this;return Kt(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Mr(s,c),Ei(s,"displayName",c.displayName||null),Ei(s,"photoURL",c.photoUrl||null),$(s.providerData,function(h){h.providerId==="password"&&(pe(h,"displayName",s.displayName),pe(h,"photoURL",s.photoURL))}),yo(s)}).then(u_))},e.cd=function(r){var s=this;return Kt(this,og(this).then(function(c){return R(rg(s),r)?lN(s.a,c,[r]).then(function(h){var g={};return $(h.providerUserInfo||[],function(y){g[y.providerId]=!0}),$(rg(s),function(y){g[y]||a_(s,y)}),g[Jr.PROVIDER_ID]||pe(s,"phoneNumber",null),yo(s)}):yo(s).then(function(){throw new k("no-such-provider")})}))},e.delete=function(){var r=this;return Kt(this,this.I().then(function(s){return Ke(r.a,gN,{idToken:s})}).then(function(){r.dispatchEvent(new ws("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");Yp(r,null),Qp(r,null),Jp(r,null),r.N=[],r.J=!0,eg(r),pe(r,"refreshToken",null),r.b&&Mp(r.b,r)})},e.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},e.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?j(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?j(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?j(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?j(this.Mb,this):null},e.Ec=function(r){var s=this;return l_(this,"linkViaPopup",r,function(){return Cl(s,r.providerId).then(function(){return yo(s)})},!1)},e.Nc=function(r){return l_(this,"reauthViaPopup",r,function(){return Te()},!0)};function l_(r,s,c,h,g){if(!so())return _t(new k("operation-not-supported-in-this-environment"));if(r.i&&!g)return _t(r.i);var y=Bd(c.providerId),w=uo(r.uid+":::"),E=null;(!ju()||Td())&&r.s&&c.isOAuthProvider&&(E=na(r.s,r.l,r.m,s,c,null,w,Ae.SDK_VERSION||null,null,null,r.tenantId,r.u));var M=Z0(E,y&&y.va,y&&y.ua);return h=h().then(function(){if(h_(r),!g)return r.I().then(function(){})}).then(function(){return Hb(r.b,M,s,c,w,!!E,r.tenantId)}).then(function(){return new He(function(G,Re){r.na(s,null,new k("cancelled-popup-request"),r.g||null),r.f=G,r.C=Re,r.g=w,r.c=zb(r.b,r,s,M,w)})}).then(function(G){return M&&oo(M),G?Dr(G):null}).o(function(G){throw M&&oo(M),G}),Kt(r,h,g)}e.Fc=function(r){var s=this;return f_(this,"linkViaRedirect",r,function(){return Cl(s,r.providerId)},!1)},e.Oc=function(r){return f_(this,"reauthViaRedirect",r,function(){return Te()},!0)};function f_(r,s,c,h,g){if(!so())return _t(new k("operation-not-supported-in-this-environment"));if(r.i&&!g)return _t(r.i);var y=null,w=uo(r.uid+":::");return h=h().then(function(){if(h_(r),!g)return r.I().then(function(){})}).then(function(){return r.ga=w,yo(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(sg,r.w(),E.a)),E}).then(function(){return Kb(r.b,s,c,w,r.tenantId)}).o(function(E){if(y=E,r.ha)return p_(r.ha);throw y}).then(function(){if(y)throw y}),Kt(r,h,g)}function h_(r){if(!r.b||!r.P)throw r.b&&!r.P?new k("internal-error"):new k("auth-domain-config-required")}e.Lb=function(r,s,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null;return c=this.I().then(function(w){return pp(g.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return y=ca(g,w,"link"),c_(g,w)}).then(function(){return y}),Kt(this,c)},e.Mb=function(r,s,c,h){var g=this;this.c&&(this.c.cancel(),this.c=null);var y=null,w=Te().then(function(){return ds(gp(g.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),g.uid)}).then(function(E){return y=ca(g,E,"reauthenticate"),Mr(g,E),g.i=null,g.reload()}).then(function(){return y});return Kt(this,w,!0)},e.vb=function(r){var s=this,c=null;return Kt(this,this.I().then(function(h){return c=h,typeof r>"u"||je(r)?{}:Xc(new Wc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},e.Fb=function(r,s){var c=this,h=null;return Kt(this,this.I().then(function(g){return h=g,typeof s>"u"||je(s)?{}:Xc(new Wc(s))}).then(function(g){return c.a.Fb(h,r,g)}).then(function(g){if(c.email!=g)return c.reload()}).then(function(){}))};function Kt(r,s,c){var h=qR(r,s,c);return r.N.push(h),h.oa(function(){U(r.N,h)}),h.o(function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=e_(g.w(),Zp(r),j(r.jc,r))),y||g})}e.jc=function(r){var s=null,c=this;return r=ds(Te(r),c.uid).then(function(h){return s=ca(c,h,"reauthenticate"),Mr(c,h),c.i=null,c.reload()}).then(function(){return s}),Kt(this,r,!0)};function qR(r,s,c){return r.i&&!c?(s.cancel(),_t(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ws("userInvalidated")),r.i=h),h})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&De(r,this.metadata.w()),$(this.providerData,function(s){r.providerData.push(dx(s))}),De(r,this.S.w()),r};function d_(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[br]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var g=new Xn(s,c,r);return r.providerData&&$(r.providerData,function(y){y&&ig(g,Dr(y))}),r.redirectEventId&&(g.ga=r.redirectEventId),g}function $R(r,s,c,h){var g=new Xn(r,s);return c&&(g.ha=c),h&&ua(g,h),g.reload().then(function(){return g})}function HR(r,s,c,h){var g=r.h,y={};return y[br]=g.b&&g.b.toString(),y.refreshToken=g.a,s=new Xn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},y),c&&(s.ha=c),h&&ua(s,h),kl(s,r),s}function KR(r){this.a=r,this.b=sa()}var sg={name:"redirectUser",F:"session"};function p_(r){return ys(r.b,sg,r.a)}function zR(r,s){return r.b.get(sg,r.a).then(function(c){return c&&s&&(c.authDomain=s),d_(c||{})})}function ug(r){this.a=r,this.b=sa(),this.c=null,this.f=GR(this),this.b.addListener(Fr("local"),this.a,j(this.g,this))}ug.prototype.g=function(){var r=this,s=Fr("local");bs(this,function(){return Te().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return ag(r,"local").then(function(){r.c=s})})})};function ag(r,s){var c=[],h;for(h in ms)ms[h]!==s&&c.push(ys(r.b,Fr(ms[h]),r.a));return c.push(ys(r.b,cg,r.a)),MC(c)}function GR(r){var s=Fr("local"),c=Fr("session"),h=Fr("none");return aR(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(g){return g?c:r.b.get(h,r.a).then(function(y){return y?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(cg,r.a).then(function(E){return E?Fr(E):s})})})}).then(function(g){return r.c=g,ag(r,g.F)}).o(function(){r.c||(r.c=s)})}var cg={name:"persistence",F:"session"};function Fr(r){return{name:"authUser",F:r}}ug.prototype.yb=function(r){var s=null,c=this;return uR(r),bs(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,ag(c,r)}).then(function(){if(c.c=Fr(r),s)return c.b.set(c.c,s,c.a)}):Te()})};function WR(r){return bs(r,function(){return r.b.set(cg,r.c.F,r.a)})}function g_(r,s){return bs(r,function(){return r.b.set(r.c,s.w(),r.a)})}function m_(r){return bs(r,function(){return ys(r.b,r.c,r.a)})}function v_(r,s,c){return bs(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),d_(h||{})})})}function bs(r,s){return r.f=r.f.then(s,s),r.f}function _r(r){if(this.l=!1,pe(this,"settings",new Qb),pe(this,"app",r),ct(this).options&&ct(this).options.apiKey)r=Ae.SDK_VERSION?cs(Ae.SDK_VERSION):null,this.a=new wr(ct(this).options&&ct(this).options.apiKey,Ye(ue),r);else throw new k("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Ae.INTERNAL.createSubscribe(j(this.zc,this)),this.W=void 0,this.ib=Ae.INTERNAL.createSubscribe(j(this.Ac,this)),_s(this,null),this.i=new ug(ct(this).options.apiKey+":"+ct(this).name),this.D=new KR(ct(this).options.apiKey+":"+ct(this).name),this.$=xt(this,eO(this)),this.h=xt(this,tO(this)),this.ba=!1,this.ja=j(this.Zc,this),this.Ba=j(this.da,this),this.qa=j(this.mc,this),this.za=j(this.wc,this),this.Aa=j(this.xc,this),this.b=null,QR(this),this.INTERNAL={},this.INTERNAL.delete=j(this.delete,this),this.INTERNAL.logFramework=j(this.Gc,this),this.u=0,bn.call(this),YR(this),this.J=[],this.R=null}z(_r,bn);function y_(r){Pn.call(this,"languageCodeChanged"),this.h=r}z(y_,Pn);function w_(r){Pn.call(this,"emulatorConfigChanged"),this.c=r}z(w_,Pn);function b_(r){Pn.call(this,"frameworkChanged"),this.f=r}z(b_,Pn),e=_r.prototype,e.yb=function(r){return r=this.i.yb(r),xt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,eb(this.a,this.aa),this.dispatchEvent(new y_(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,XR(s),this.R={url:r,ec:s},this.settings.jb=!0,pl(this.a,this.R),this.dispatchEvent(new w_(this.R))}};function XR(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Kc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}e.Gc=function(r){this.J.push(r),tb(this.a,Ae.SDK_VERSION?cs(Ae.SDK_VERSION,this.J):null),this.dispatchEvent(new b_(this.J))},e.Ga=function(){return re(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function YR(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Dn(this.R.url);s=Dr({protocol:s.c,host:s.a,port:s.g,options:Dr({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}e.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:Ve(this)&&Ve(this).w()}};function lg(r){return r.Oa||_t(new k("auth-domain-config-required"))}function QR(r){var s=ct(r).options.authDomain,c=ct(r).options.apiKey;s&&so()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=jp(s,c,ct(r).name,r.R),El(r.b,r),Ve(r)&&aa(Ve(r)),r.m){aa(r.m);var h=r.m;h.xa(r.la()),Yp(h,r),h=r.m,ua(h,r.J),Jp(h,r),h=r.m,Xp(h,r.R),Qp(h,r),r.m=null}return r.b}}))}e.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},e.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?j(this.ic,this):null},e.ic=function(r,s,c,h){var g=this,y={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),g.$.then(function(){return wo(g,dp(g.a,y))})},e.Xc=function(r){if(!so())return _t(new k("operation-not-supported-in-this-environment"));var s=this,c=Bd(r.providerId),h=uo(),g=null;(!ju()||Td())&&ct(this).options.authDomain&&r.isOAuthProvider&&(g=na(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",r,null,h,Ae.SDK_VERSION||null,null,null,this.T(),this.R));var y=Z0(g,c&&c.va,c&&c.ua);return c=lg(this).then(function(w){return Hb(w,y,"signInViaPopup",r,h,!!g,s.T())}).then(function(){return new He(function(w,E){s.na("signInViaPopup",null,new k("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=zb(s.b,s,"signInViaPopup",y,h)})}).then(function(w){return y&&oo(y),w?Dr(w):null}).o(function(w){throw y&&oo(y),w}),xt(this,c)},e.Yc=function(r){if(!so())return _t(new k("operation-not-supported-in-this-environment"));var s=this,c=lg(this).then(function(){return WR(s.i)}).then(function(){return Kb(s.b,"signInViaRedirect",r,void 0,s.T())});return xt(this,c)};function __(r){if(!so())return _t(new k("operation-not-supported-in-this-environment"));var s=lg(r).then(function(){return r.b.ra()}).then(function(c){return c?Dr(c):null});return xt(r,s)}e.ra=function(){var r=this;return __(this).then(function(s){return r.b&&Tl(r.b.b),s}).o(function(s){throw r.b&&Tl(r.b.b),s})},e.dd=function(r){if(!r)return _t(new k("null-user"));if(this.S!=r.tenantId)return _t(new k("tenant-id-mismatch"));var s=this,c={};c.apiKey=ct(this).options.apiKey,c.authDomain=ct(this).options.authDomain,c.appName=ct(this).name;var h=HR(r,c,s.D,s.Ga());return xt(this,this.h.then(function(){if(ct(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Ve(s)&&r.uid==Ve(s).uid?(kl(Ve(s),r),s.da(r)):(_s(s,h),aa(h),s.da(h))}).then(function(){la(s)}))};function JR(r,s){var c={};return c.apiKey=ct(r).options.apiKey,c.authDomain=ct(r).options.authDomain,c.appName=ct(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return $R(c,s,r.D,r.Ga())}).then(function(h){return Ve(r)&&h.uid==Ve(r).uid?(kl(Ve(r),h),r.da(h)):(_s(r,h),aa(h),r.da(h))}).then(function(){la(r)})}function _s(r,s){Ve(r)&&(jR(Ve(r),r.Ba),Gn(Ve(r),"tokenChanged",r.qa),Gn(Ve(r),"userDeleted",r.za),Gn(Ve(r),"userInvalidated",r.Aa),eg(Ve(r))),s&&(s.W.push(r.Ba),ar(s,"tokenChanged",r.qa),ar(s,"userDeleted",r.za),ar(s,"userInvalidated",r.Aa),0<r.u&&o_(s)),pe(r,"currentUser",s),s&&(s.xa(r.la()),Yp(s,r),ua(s,r.J),Jp(s,r),Xp(s,r.R),Qp(s,r))}e.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Tl(r.b.b),Ve(r)?(_s(r,null),m_(r.i).then(function(){la(r)})):Te()});return xt(this,s)};function ZR(r){var s=zR(r.D,ct(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),p_(r.D)});return xt(r,s)}function eO(r){var s=ct(r).options.authDomain,c=ZR(r).then(function(){return v_(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return g_(r.i,h).then(function(){return h})}).o(function(g){return g.code=="auth/network-request-failed"?h:m_(r.i)})):null}).then(function(h){_s(r,h||null)});return xt(r,c)}function tO(r){return r.$.then(function(){return __(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Fr("local"),s.a,r.ja)}})}e.Zc=function(){var r=this;return v_(this.i,ct(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Ve(r)&&s){c=Ve(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return kl(Ve(r),s),Ve(r).I();(Ve(r)||s)&&(_s(r,s),s&&(aa(s),s.ha=r.D),r.b&&El(r.b,r),la(r))}})},e.da=function(r){return g_(this.i,r)},e.mc=function(){la(this),this.da(Ve(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function wo(r,s){var c=null,h=null;return xt(r,s.then(function(g){return c=Gd(g),h=Sw(g),JR(r,g)},function(g){var y=null;throw g&&g.code==="auth/multi-factor-auth-required"&&(y=e_(g.w(),r,j(r.kc,r))),y||g}).then(function(){return Dr({user:Ve(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}e.kc=function(r){var s=this;return this.h.then(function(){return wo(s,Te(r))})},e.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Ve(s))})},e.Ac=function(r){var s=this;nO(this,function(){r.next(Ve(s))})},e.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ve(h)):typeof r.next=="function"&&r.next(Ve(h))}),this.Pa(r,s,c)},e.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Ve(h)):typeof r.next=="function"&&r.next(Ve(h))}),this.ib(r,s,c)},e.nc=function(r){var s=this,c=this.h.then(function(){return Ve(s)?Ve(s).I(r).then(function(h){return{accessToken:h}}):null});return xt(this,c)},e.Tc=function(r){var s=this;return this.h.then(function(){return wo(s,Ke(s.a,MN,{token:r}))}).then(function(c){var h=c.user;return Ei(h,"isAnonymous",!1),s.da(h),c})},e.Uc=function(r,s){var c=this;return this.h.then(function(){return wo(c,Ke(c.a,lb,{email:r,password:s}))})},e.dc=function(r,s){var c=this;return this.h.then(function(){return wo(c,Ke(c.a,dN,{email:r,password:s}))})},e.ab=function(r){var s=this;return this.h.then(function(){return wo(s,r.ka(s.a))})},e.Sc=function(r){return Cd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var s=Ve(r);if(s&&s.isAnonymous){var c=Dr({providerId:null,isNewUser:!1});return Dr({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return wo(r,r.a.Ab()).then(function(h){var g=h.user;return Ei(g,"isAnonymous",!0),r.da(g),h})})};function ct(r){return r.app}function Ve(r){return r.currentUser}e.getUid=function(){return Ve(this)&&Ve(this).uid||null};function xl(r){return Ve(r)&&Ve(r)._lat||null}function la(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](xl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](xl(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ve(this)&&o_(Ve(this))},e.Pc=function(r){var s=this;$(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Ve(this)&&eg(Ve(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var s=this;this.s.push(r),xt(this,this.h.then(function(){s.l||R(s.s,r)&&r(xl(s))}))},e.removeAuthTokenListener=function(r){V(this.s,function(s){return s==r})};function nO(r,s){r.N.push(s),xt(r,r.h.then(function(){!r.l&&R(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(xl(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Fr("local"),r.a,this.ja)),this.b&&(Mp(this.b,this),Tl(this.b.b)),Promise.resolve()};function xt(r,s){return r.P.push(s),s.oa(function(){U(r.P,s)}),s}e.hc=function(r){return xt(this,iN(this.a,r))},e.Bc=function(r){return!!zd(r)},e.xb=function(r,s){var c=this;return xt(this,Te().then(function(){var h=new Wc(s);if(!h.c)throw new k("argument-error",jd+" must be true when sending sign in link to email");return Xc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},e.ob=function(r,s){return xt(this,this.a.ob(r,s).then(function(){}))},e.Sa=function(r){return xt(this,this.a.Sa(r).then(function(s){return new gx(s)}))},e.kb=function(r){return xt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,s){var c=this;return xt(this,Te().then(function(){return typeof s>"u"||je(s)?{}:Xc(new Wc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},e.Wc=function(r,s){return xt(this,Bp(this,r,s,j(this.ab,this)))},e.Vc=function(r,s){var c=this;return xt(this,Te().then(function(){var h=s||Uu(),g=Fw(r,h);if(h=zd(h),!h)throw new k("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new k("tenant-id-mismatch");return c.ab(g)}))};function fa(){}fa.prototype.render=function(){},fa.prototype.reset=function(){},fa.prototype.getResponse=function(){},fa.prototype.execute=function(){};function Es(){this.a={},this.b=1e12}var fg=null;Es.prototype.render=function(r,s){return this.a[this.b.toString()]=new Nl(r,s),this.b++},Es.prototype.reset=function(r){var s=hg(this,r);r=E_(r),s&&r&&(s.delete(),delete this.a[r])},Es.prototype.getResponse=function(r){return(r=hg(this,r))?r.getResponse():null},Es.prototype.execute=function(r){(r=hg(this,r))&&r.execute()};function hg(r,s){return(s=E_(s))&&r.a[s]||null}function E_(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Nl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Ru(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():ar(this.f,"click",this.i)}Nl.prototype.getResponse=function(){return dg(this),this.b},Nl.prototype.execute=function(){dg(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=cx();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Nl.prototype.delete=function(){dg(this),this.g=!0,clearTimeout(this.a),this.a=null,Gn(this.f,"click",this.i)};function dg(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function pg(){}pe(pg,"FACTOR_ID","phone");function gg(){}gg.prototype.g=function(){return fg||(fg=new Es),Te(fg)},gg.prototype.c=function(){};var mg=null;function vg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var rO=new ln(Oc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),iO=new wi(3e4,6e4);vg.prototype.g=function(r){var s=this;return new He(function(c,h){var g=setTimeout(function(){h(new k("network-request-failed"))},iO.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,M){return E=w(E,M),s.b++,E},clearTimeout(g),c(f.grecaptcha)}else clearTimeout(g),h(new k("internal-error"));delete f[s.a]};var y=Jh(rO,{onload:s.a,hl:r||""});Te(sp(y)).o(function(){clearTimeout(g),h(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(g),c(f.grecaptcha)})},vg.prototype.c=function(){this.b--};var yg=null;function wg(r,s,c,h,g,y,w){if(pe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(mg||(mg=new gg),w=mg):(yg||(yg=new vg),w=yg),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[S_])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[oO]==="invisible",!f.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ru(s)||!this.i&&Ru(s).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new wr(r,y||null,g||null),this.u=h||function(){return null};var E=this;this.l=[];var M=this.a[I_];this.a[I_]=function(Re){if(A_(E,Re),typeof M=="function")M(Re);else if(typeof M=="string"){var ot=Et(M,f);typeof ot=="function"&&ot(Re)}};var G=this.a[T_];this.a[T_]=function(){if(A_(E,null),typeof G=="function")G();else if(typeof G=="string"){var Re=Et(G,f);typeof Re=="function"&&Re()}}}var I_="callback",T_="expired-callback",S_="sitekey",oO="size";function A_(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function sO(r,s){V(r.l,function(c){return c==s})}function bg(r,s){return r.h.push(s),s.oa(function(){U(r.h,s)}),s}e=wg.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=bg(this,Te().then(function(){if(zc()&&!vr())return Kc();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Ke(r.s,kN,{})}).then(function(s){r.a[S_]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},e.render=function(){Rl(this);var r=this;return bg(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=Ru(s);s=OC("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},e.verify=function(){Rl(this);var r=this;return bg(this,this.render().then(function(s){return new He(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var g=function(y){y&&(sO(r,g),c(y))};r.l.push(g),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Rl(this),this.c!==null&&this.g.reset(this.c)};function Rl(r){if(r.J)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Rl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Ru(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function _g(r,s,c){var h=!1;try{this.b=c||Ae.app()}catch{throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new k("invalid-api-key");var g=this,y=null;try{y=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}y=Ae.SDK_VERSION?cs(Ae.SDK_VERSION,y):null,wg.call(this,c,r,s,function(){try{var w=g.b.auth().la()}catch{w=null}return w},y,Ye(ue),h)}z(_g,wg);function k_(r,s,c,h){e:{c=Array.prototype.slice.call(c);for(var g=0,y=!1,w=0;w<s.length;w++)if(s[w].optional)y=!0;else{if(y)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");g++}if(y=s.length,c.length<g||y<c.length)h="Expected "+(g==y?g==1?"1 argument":g+" arguments":g+"-"+y+" arguments")+" but got "+c.length+".";else{for(g=0;g<c.length;g++)if(y=s[g].optional&&c[g]===void 0,!s[g].M(c[g])&&!y){if(s=s[g],0>g||g>=C_.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");c=C_[g],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break e}h=null}}if(h)throw new k("argument-error",r+" failed: "+h)}var C_="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function Eg(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Mt(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:S}}function Is(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Ur(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function uO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function aO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof _r)}}}function cO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof Ae.app.App)}}}function Ii(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function x_(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ts(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Ig(r,s){return S(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function N_(r){return S(r)&&typeof r.uid=="string"}function Ol(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Ot(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(g){return r.M(g)||s.M(g)}}}function St(r,s){for(var c in s){var h=s[c].name;r[h]=O_(h,r[c],s[c].j)}}function R_(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:we(function(g){return this[g]},c),set:we(function(g,y,w,E){k_(g,[w],[E],!0),this[y]=E},h,c,s[c].lb),enumerable:!0})}}function Pt(r,s,c,h){r[s]=O_(s,c,h)}function O_(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return k_(g,c,w),s.apply(this,w)}if(!c)return s;var g=lO(r),y;for(y in s)h[y]=s[y];for(y in s.prototype)h.prototype[y]=s.prototype[y];return h}function lO(r){return r=r.split("."),r[r.length-1]}St(_r.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Ot(Mt(),Is(),"nextOrObserver"),Is("opt_error",!0),Is("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Ot(Mt(),Is(),"nextOrObserver"),Is("opt_error",!0),Is("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Ot(Mt("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Mt("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ii()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ii()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),Ol()]},Xc:{name:"signInWithPopup",j:[Ts()]},Yc:{name:"signInWithRedirect",j:[Ts()]},dd:{name:"updateCurrentUser",j:[Ot(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Xn)}}}(),Ur(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Mt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),R_(_r.prototype,{lc:{name:"languageCode",lb:Ot(he(),Ur(),"languageCode")},ti:{name:"tenantId",lb:Ot(he(),Ur(),"tenantId")}}),_r.Persistence=ms,_r.Persistence.LOCAL="local",_r.Persistence.SESSION="session",_r.Persistence.NONE="none",St(Xn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Eg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Eg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ii()]},rb:{name:"linkWithCredential",j:[Ii()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),Ol()]},Ec:{name:"linkWithPopup",j:[Ts()]},Fc:{name:"linkWithRedirect",j:[Ts()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ii()]},ub:{name:"reauthenticateWithCredential",j:[Ii()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),Ol()]},Nc:{name:"reauthenticateWithPopup",j:[Ts()]},Oc:{name:"reauthenticateWithRedirect",j:[Ts()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Ot(Mt("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[Ii("phone")]},Eb:{name:"updateProfile",j:[Mt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Ot(Mt("opt_actionCodeSettings",!0),Ur(null,!0),"opt_actionCodeSettings",!0)]}}),St(Es.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),St(fa.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),St(He.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),R_(Qb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Eg("appVerificationDisabledForTesting")}}),St(Vp.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Pt(hs,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[Px,Dx,Lx,Ox],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[Ot(he(),Mt(),"json")]),Pt(lr,"credential",function(r,s){return new bi(r,s)},[he("email"),he("password")]),St(bi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(lo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Pt(lo,"credential",Pw,[Ot(he(),Mt(),"token")]),Pt(lr,"credentialWithLink",Fw,[he("email"),he("emailLink")]),St(fo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Pt(fo,"credential",Dw,[Ot(he(),Mt(),"token")]),St(ho.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Pt(ho,"credential",Lw,[Ot(he(),Ot(Mt(),Ur()),"idToken"),Ot(he(),Ur(),"accessToken",!0)]),St(ps.prototype,{Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),Pt(ps,"credential",Mw,[Ot(he(),Mt(),"token"),he("secret",!0)]),St(Wn.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Ot(he(),Ot(Mt(),Ur()),"optionsOrIdToken"),Ot(he(),Ur(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mt("customOAuthParameters")]}}),St(Qr.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(ao.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Pt(Jr,"credential",Uw,[he("verificationId"),he("verificationCode")]),St(Jr.prototype,{gb:{name:"verifyPhoneNumber",j:[Ot(he(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Ig(c.session,Ku)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Ig(c.session,el)&&N_(c.multiFactorHint):c.session&&c.multiFactorUid?Ig(c.session,el)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Ol()]}}),St(_i.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),St(k.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(Gu.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(Yd.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St($p.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),St(qp.prototype,{Rc:{name:"resolveSignIn",j:[x_()]}}),St(Kp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[x_(),he("displayName",!0)]},bd:{name:"unenroll",j:[Ot({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:N_},he(),"multiFactorInfoIdentifier")]}}),St(_g.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Pt(Ud,"parseLink",gw,[he("link")]),Pt(pg,"assertion",function(r){return new n_(r)},[Ii("phone")]),function(){if(typeof Ae<"u"&&Ae.INTERNAL&&Ae.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Gc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Fd,VERIFY_AND_CHANGE_EMAIL:$u,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:_r,AuthCredential:hs,Error:k};Pt(r,"EmailAuthProvider",lr,[]),Pt(r,"FacebookAuthProvider",lo,[]),Pt(r,"GithubAuthProvider",fo,[]),Pt(r,"GoogleAuthProvider",ho,[]),Pt(r,"TwitterAuthProvider",ps,[]),Pt(r,"OAuthProvider",Wn,[he("providerId")]),Pt(r,"SAMLAuthProvider",Ow,[he("providerId")]),Pt(r,"PhoneAuthProvider",Jr,[aO()]),Pt(r,"RecaptchaVerifier",_g,[Ot(he(),uO(),"recaptchaContainer"),Mt("recaptchaParameters",!0),cO()]),Pt(r,"ActionCodeURL",Ud,[]),Pt(r,"PhoneMultiFactorGenerator",pg,[]),Ae.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new _r(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),Ae.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:j(s.getUid,s),getToken:j(s.nc,s),addAuthTokenListener:j(s.cc,s),removeAuthTokenListener:j(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Ae.registerVersion("@firebase/auth","0.16.8"),Ae.INTERNAL.extendNamespace({User:Xn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vm=function(e,t){return vm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},vm(e,t)};function jL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function xT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var VL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,Nv=Nv||{},Le=VL||self;function yf(){}function ym(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function hc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function BL(e){return Object.prototype.hasOwnProperty.call(e,Pg)&&e[Pg]||(e[Pg]=++qL)}var Pg="closure_uid_"+(1e9*Math.random()>>>0),qL=0;function $L(e,t,n){return e.call.apply(e.bind,arguments)}function HL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function on(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?on=$L:on=HL,on.apply(null,arguments)}function Vl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function an(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return t.prototype[o].apply(i,a)}}function Wi(){this.s=this.s,this.o=this.o}var KL=0;Wi.prototype.s=!1;Wi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),KL!=0)&&BL(this)};Wi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var NT=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},RT=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,u=0;u<i;u++)u in o&&t.call(n,o[u],u,e)};function zL(e){e:{for(var t=F2,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function d1(e){return Array.prototype.concat.apply([],arguments)}function Rv(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function wf(e){return/^[\s\xa0]*$/.test(e)}var p1=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kn(e,t){return e.indexOf(t)!=-1}function Dg(e,t){return e<t?-1:e>t?1:0}var Cn;e:{var g1=Le.navigator;if(g1){var m1=g1.userAgent;if(m1){Cn=m1;break e}}Cn=""}function Ov(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function OT(e){var t={};for(var n in e)t[n]=e[n];return t}var v1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function PT(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var u=0;u<v1.length;u++)n=v1[u],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Pv(e){return Pv[" "](e),e}Pv[" "]=yf;function GL(e){var t=YL;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var WL=kn(Cn,"Opera"),Qs=kn(Cn,"Trident")||kn(Cn,"MSIE"),DT=kn(Cn,"Edge"),wm=DT||Qs,LT=kn(Cn,"Gecko")&&!(kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge"))&&!(kn(Cn,"Trident")||kn(Cn,"MSIE"))&&!kn(Cn,"Edge"),XL=kn(Cn.toLowerCase(),"webkit")&&!kn(Cn,"Edge");function MT(){var e=Le.document;return e?e.documentMode:void 0}var bf;e:{var Lg="",Mg=function(){var e=Cn;if(LT)return/rv:([^\);]+)(\)|;)/.exec(e);if(DT)return/Edge\/([\d\.]+)/.exec(e);if(Qs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(XL)return/WebKit\/(\S+)/.exec(e);if(WL)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Mg&&(Lg=Mg?Mg[1]:""),Qs){var Fg=MT();if(Fg!=null&&Fg>parseFloat(Lg)){bf=String(Fg);break e}}bf=Lg}var YL={};function QL(){return GL(function(){for(var e=0,t=p1(String(bf)).split("."),n=p1("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var u=t[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;e=Dg(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Dg(u[2].length==0,a[2].length==0)||Dg(u[2],a[2]),u=u[3],a=a[3]}while(e==0)}return 0<=e})}var bm;if(Le.document&&Qs){var y1=MT();bm=y1||parseInt(bf,10)||void 0}else bm=void 0;var JL=bm,ZL=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",yf,t),Le.removeEventListener("test",yf,t)}catch{}return e}();function vn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};function Ka(e,t){if(vn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(LT){e:{try{Pv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:e2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ka.Z.h.call(this)}}an(Ka,vn);var e2={2:"touch",3:"pen",4:"mouse"};Ka.prototype.h=function(){Ka.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var dc="closure_listenable_"+(1e6*Math.random()|0),t2=0;function n2(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++t2,this.ca=this.fa=!1}function dh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function ph(e){this.src=e,this.g={},this.h=0}ph.prototype.add=function(e,t,n,i,o){var u=e.toString();e=this.g[u],e||(e=this.g[u]=[],this.h++);var a=Em(e,t,i,o);return-1<a?(t=e[a],n||(t.fa=!1)):(t=new n2(t,this.src,u,!!i,o),t.fa=n,e.push(t)),t};function _m(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=NT(i,t),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(dh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Em(e,t,n,i){for(var o=0;o<e.length;++o){var u=e[o];if(!u.ca&&u.listener==t&&u.capture==!!n&&u.ia==i)return o}return-1}var Dv="closure_lm_"+(1e6*Math.random()|0),Ug={};function FT(e,t,n,i,o){if(i&&i.once)return jT(e,t,n,i,o);if(Array.isArray(t)){for(var u=0;u<t.length;u++)FT(e,t[u],n,i,o);return null}return n=Fv(n),e&&e[dc]?e.N(t,n,hc(i)?!!i.capture:!!i,o):UT(e,t,n,!1,i,o)}function UT(e,t,n,i,o,u){if(!t)throw Error("Invalid event type");var a=hc(o)?!!o.capture:!!o,l=Mv(e);if(l||(e[Dv]=l=new ph(e)),n=l.add(t,n,i,a,u),n.proxy)return n;if(i=r2(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)ZL||(o=a),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(BT(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function r2(){function e(n){return t.call(e.src,e.listener,n)}var t=i2;return e}function jT(e,t,n,i,o){if(Array.isArray(t)){for(var u=0;u<t.length;u++)jT(e,t[u],n,i,o);return null}return n=Fv(n),e&&e[dc]?e.O(t,n,hc(i)?!!i.capture:!!i,o):UT(e,t,n,!0,i,o)}function VT(e,t,n,i,o){if(Array.isArray(t))for(var u=0;u<t.length;u++)VT(e,t[u],n,i,o);else i=hc(i)?!!i.capture:!!i,n=Fv(n),e&&e[dc]?(e=e.i,t=String(t).toString(),t in e.g&&(u=e.g[t],n=Em(u,n,i,o),-1<n&&(dh(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete e.g[t],e.h--)))):e&&(e=Mv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Em(t,n,i,o)),(n=-1<e?t[e]:null)&&Lv(n))}function Lv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[dc])_m(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(BT(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Mv(t))?(_m(n,e),n.h==0&&(n.src=null,t[Dv]=null)):dh(e)}}}function BT(e){return e in Ug?Ug[e]:Ug[e]="on"+e}function i2(e,t){if(e.ca)e=!0;else{t=new Ka(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Lv(e),e=n.call(i,t)}return e}function Mv(e){return e=e[Dv],e instanceof ph?e:null}var jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fv(e){return typeof e=="function"?e:(e[jg]||(e[jg]=function(t){return e.handleEvent(t)}),e[jg])}function Zt(){Wi.call(this),this.i=new ph(this),this.P=this,this.I=null}an(Zt,Wi);Zt.prototype[dc]=!0;Zt.prototype.removeEventListener=function(e,t,n,i){VT(this,e,t,n,i)};function sn(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new vn(t,e);else if(t instanceof vn)t.target=t.target||e;else{var o=t;t=new vn(i,e),PT(t,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];o=Bl(a,i,!0,t)&&o}if(a=t.g=e,o=Bl(a,i,!0,t)&&o,o=Bl(a,i,!1,t)&&o,n)for(u=0;u<n.length;u++)a=t.g=n[u],o=Bl(a,i,!1,t)&&o}Zt.prototype.M=function(){if(Zt.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)dh(n[i]);delete e.g[t],e.h--}}this.I=null};Zt.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};Zt.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Bl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&_m(e.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Uv=Le.JSON.stringify;function o2(){var e=$T,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var s2=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=qT.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),qT=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new u2},function(e){return e.reset()}),u2=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function a2(e){Le.setTimeout(function(){throw e},0)}function jv(e,t){Im||c2(),Tm||(Im(),Tm=!0),$T.add(e,t)}var Im;function c2(){var e=Le.Promise.resolve(void 0);Im=function(){e.then(l2)}}var Tm=!1,$T=new s2;function l2(){for(var e;e=o2();){try{e.h.call(e.g)}catch(n){a2(n)}var t=qT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Tm=!1}function gh(e,t){Zt.call(this),this.h=e||1,this.g=t||Le,this.j=on(this.kb,this),this.l=Date.now()}an(gh,Zt);le=gh.prototype;le.da=!1;le.S=null;le.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),sn(this,"tick"),this.da&&(Vv(this),this.start()))}};le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Vv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}le.M=function(){gh.Z.M.call(this),Vv(this),delete this.g};function Bv(e,t,n){if(typeof e=="function")n&&(e=on(e,n));else if(e&&typeof e.handleEvent=="function")e=on(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function HT(e){e.g=Bv(function(){e.g=null,e.i&&(e.i=!1,HT(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var f2=function(e){jL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:HT(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Wi);function za(e){Wi.call(this),this.h=e,this.g={}}an(za,Wi);var w1=[];function KT(e,t,n,i){Array.isArray(n)||(n&&(w1[0]=n.toString()),n=w1);for(var o=0;o<n.length;o++){var u=FT(t,n[o],i||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function zT(e){Ov(e.g,function(t,n){this.g.hasOwnProperty(n)&&Lv(t)},e),e.g={}}za.prototype.M=function(){za.Z.M.call(this),zT(this)};za.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function mh(){this.g=!0}mh.prototype.Aa=function(){this.g=!1};function h2(e,t,n,i,o,u){e.info(function(){if(e.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var p=d[0];d=d[1];var m=p.split("_");a=2<=m.length&&m[1]=="type"?a+(p+"="+d+"&"):a+(p+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+a})}function d2(e,t,n,i,o,u,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+u+" "+a})}function Ls(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+g2(e,n)+(i?" "+i:"")})}function p2(e,t){e.info(function(){return"TIMEOUT: "+t})}mh.prototype.info=function(){};function g2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Uv(n)}catch{return t}}var Wo={},b1=null;function vh(){return b1=b1||new Zt}Wo.Ma="serverreachability";function GT(e){vn.call(this,Wo.Ma,e)}an(GT,vn);function Ga(e){var t=vh();sn(t,new GT(t))}Wo.STAT_EVENT="statevent";function WT(e,t){vn.call(this,Wo.STAT_EVENT,e),this.stat=t}an(WT,vn);function xn(e){var t=vh();sn(t,new WT(t,e))}Wo.Na="timingevent";function XT(e,t){vn.call(this,Wo.Na,e),this.size=t}an(XT,vn);function pc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){e()},t)}var yh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},YT={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function qv(){}qv.prototype.h=null;function _1(e){return e.h||(e.h=e.i())}function QT(){}var gc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function $v(){vn.call(this,"d")}an($v,vn);function Hv(){vn.call(this,"c")}an(Hv,vn);var Sm;function wh(){}an(wh,qv);wh.prototype.g=function(){return new XMLHttpRequest};wh.prototype.i=function(){return{}};Sm=new wh;function mc(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new za(this),this.P=m2,e=wm?125:void 0,this.W=new gh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new JT}function JT(){this.i=null,this.g="",this.h=!1}var m2=45e3,Am={},_f={};le=mc.prototype;le.setTimeout=function(e){this.P=e};function km(e,t,n){e.K=1,e.v=_h(fi(t)),e.s=n,e.U=!0,ZT(e,null)}function ZT(e,t){e.F=Date.now(),vc(e),e.A=fi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),sS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new JT,e.g=AS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new f2(on(e.Ia,e,e.g),e.O)),KT(e.V,e.g,"readystatechange",e.gb),t=e.H?OT(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ga(),h2(e.j,e.u,e.A,e.m,e.X,e.s)}le.gb=function(e){e=e.target;var t=this.L;t&&ri(e)==3?t.l():this.Ia(e)};le.Ia=function(e){try{if(e==this.g)e:{var t=ri(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||wm||this.g&&(this.h.h||this.g.ga()||S1(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Ga(3):Ga(2)),bh(this);var o=this.g.ba();this.N=o;t:if(eS(this)){var u=S1(this.g);e="";var a=u.length,l=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){xo(this),ka(this);var f="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,d2(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wf(d)){var m=d;break t}}m=null}if(o=m)Ls(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cm(this,o);else{this.i=!1,this.o=3,xn(12),xo(this),ka(this);break e}}this.U?(tS(this,t,f),wm&&this.i&&t==3&&(KT(this.V,this.W,"tick",this.fb),this.W.start())):(Ls(this.j,this.m,f,null),Cm(this,f)),t==4&&xo(this),this.i&&!this.I&&(t==4?ES(this.l,this):(this.i=!1,vc(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,xn(12)):(this.o=0,xn(13)),xo(this),ka(this)}}}catch{}finally{}};function eS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function tS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=v2(e,n),o==_f){t==4&&(e.o=4,xn(14),i=!1),Ls(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Am){e.o=4,xn(15),Ls(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ls(e.j,e.m,o,null),Cm(e,o);eS(e)&&o!=_f&&o!=Am&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,xn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zv(t),t.L=!0,xn(11))):(Ls(e.j,e.m,n,"[Invalid Chunked Response]"),xo(e),ka(e))}le.fb=function(){if(this.g){var e=ri(this.g),t=this.g.ga();this.C<t.length&&(bh(this),tS(this,e,t),this.i&&e!=4&&vc(this))}};function v2(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?_f:(n=Number(t.substring(n,i)),isNaN(n)?Am:(i+=1,i+n>t.length?_f:(t=t.substr(i,n),e.C=i+n,t)))}le.cancel=function(){this.I=!0,xo(this)};function vc(e){e.Y=Date.now()+e.P,nS(e,e.P)}function nS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=pc(on(e.eb,e),t)}function bh(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}le.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(p2(this.j,this.A),this.K!=2&&(Ga(),xn(17)),xo(this),this.o=2,ka(this)):nS(this,this.Y-e)};function ka(e){e.l.G==0||e.I||ES(e.l,e)}function xo(e){bh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Vv(e.W),zT(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Cm(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||xm(n.i,e))){if(n.I=e.N,!e.J&&xm(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Sf(n),Th(n);else break e;Jv(n),xn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=pc(on(n.ab,n),6e3));if(1>=cS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else No(n,11)}else if((e.J||n.g==e)&&Sf(n),!wf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var u=o[t];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=e.g;if(d){var p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var m=i.i;!m.g&&(kn(p,"spdy")||kn(p,"quic")||kn(p,"h2"))&&(m.j=m.l,m.g=new Set,m.h&&(Gv(m,m.h),m.h=null))}if(i.D){var v=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(i.sa=v,Tt(i.F,i.D,v))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=e;if(i.oa=SS(i,i.H?i.la:null,i.W),b.J){lS(i.i,b);var _=b,T=i.K;T&&_.setTimeout(T),_.B&&(bh(_),vc(_)),i.g=b}else bS(i);0<n.l.length&&Sh(n)}else u[0]!="stop"&&u[0]!="close"||No(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?No(n,7):Qv(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ga(4)}catch{}}function y2(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(ym(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Kv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(ym(e)||typeof e=="string")RT(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(ym(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=y2(e),o=i.length;for(var u=0;u<o;u++)t.call(void 0,i[u],n&&n[u],e)}}function wu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof wu)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}le=wu.prototype;le.R=function(){zv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};le.T=function(){return zv(this),this.g.concat()};function zv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];Bo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],Bo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}le.get=function(e,t){return Bo(this.h,e)?this.h[e]:t};le.set=function(e,t){Bo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};le.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);e.call(t,u,o,this)}};function Bo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var rS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function w2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var u=e[n].substring(0,i);o=e[n].substring(i+1)}else u=e[n];t(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function qo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof qo){this.g=t!==void 0?t:e.g,Ef(this,e.j),this.s=e.s,If(this,e.i),Tf(this,e.m),this.l=e.l,t=e.h;var n=new Wa;n.i=t.i,t.g&&(n.g=new wu(t.g),n.h=t.h),E1(this,n),this.o=e.o}else e&&(n=String(e).match(rS))?(this.g=!!t,Ef(this,n[1]||"",!0),this.s=Ca(n[2]||""),If(this,n[3]||"",!0),Tf(this,n[4]),this.l=Ca(n[5]||"",!0),E1(this,n[6]||"",!0),this.o=Ca(n[7]||"")):(this.g=!!t,this.h=new Wa(null,this.g))}qo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(_a(t,I1,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(_a(t,I1,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(_a(n,n.charAt(0)=="/"?T2:I2,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",_a(n,A2)),e.join("")};function fi(e){return new qo(e)}function Ef(e,t,n){e.j=n?Ca(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function If(e,t,n){e.i=n?Ca(t,!0):t}function Tf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function E1(e,t,n){t instanceof Wa?(e.h=t,k2(e.h,e.g)):(n||(t=_a(t,S2)),e.h=new Wa(t,e.g))}function Tt(e,t,n){e.h.set(t,n)}function _h(e){return Tt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function b2(e){return e instanceof qo?fi(e):new qo(e,void 0)}function _2(e,t,n,i){var o=new qo(null,void 0);return e&&Ef(o,e),t&&If(o,t),n&&Tf(o,n),i&&(o.l=i),o}function Ca(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function _a(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,E2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function E2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var I1=/[#\/\?@]/g,I2=/[#\?:]/g,T2=/[#\?]/g,S2=/[#\?@]/g,A2=/#/g;function Wa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xi(e){e.g||(e.g=new wu,e.h=0,e.i&&w2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}le=Wa.prototype;le.add=function(e,t){Xi(this),this.i=null,e=bu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function iS(e,t){Xi(e),t=bu(e,t),Bo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Bo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&zv(e)))}function oS(e,t){return Xi(e),t=bu(e,t),Bo(e.g.h,t)}le.forEach=function(e,t){Xi(this),this.g.forEach(function(n,i){RT(n,function(o){e.call(t,o,i,this)},this)},this)};le.T=function(){Xi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],u=0;u<o.length;u++)n.push(t[i]);return n};le.R=function(e){Xi(this);var t=[];if(typeof e=="string")oS(this,e)&&(t=d1(t,this.g.get(bu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=d1(t,e[n])}return t};le.set=function(e,t){return Xi(this),this.i=null,e=bu(this,e),oS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};le.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function sS(e,t,n){iS(e,t),0<n.length&&(e.i=null,e.g.set(bu(e,t),Rv(n)),e.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),e.push(a)}}return this.i=e.join("&")};function bu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function k2(e,t){t&&!e.j&&(Xi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(iS(this,i),sS(this,o,n))},e)),e.j=t}var C2=function(){function e(t,n){this.h=t,this.g=n}return e}();function uS(e){this.l=e||x2,Le.PerformanceNavigationTiming?(e=Le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var x2=10;function aS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function cS(e){return e.h?1:e.g?e.g.size:0}function xm(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Gv(e,t){e.g?e.g.add(t):e.h=t}function lS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}uS.prototype.cancel=function(){var e,t;if(this.i=fS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=xT(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){e={error:u}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function fS(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=xT(e.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Rv(e.i)}function Wv(){}Wv.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)};Wv.prototype.parse=function(e){return Le.JSON.parse(e,void 0)};function N2(){this.g=new Wv}function R2(e,t,n){var i=n||"";try{Kv(e,function(o,u){var a=o;hc(o)&&(a=Uv(o)),t.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function O2(e,t){var n=new mh;if(Le.Image){var i=new Image;i.onload=Vl(ql,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Vl(ql,n,i,"TestLoadImage: error",!1,t),i.onabort=Vl(ql,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Vl(ql,n,i,"TestLoadImage: timeout",!1,t),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function ql(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function yc(e){this.l=e.$b||null,this.j=e.ib||!1}an(yc,qv);yc.prototype.g=function(){return new Eh(this.l,this.j)};yc.prototype.i=function(e){return function(){return e}}({});function Eh(e,t){Zt.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Xv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}an(Eh,Zt);var Xv=0;le=Eh.prototype;le.open=function(e,t){if(this.readyState!=Xv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xa(this)};le.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wc(this)),this.readyState=Xv};le.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function hS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}le.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?wc(this):Xa(this),this.readyState==3&&hS(this)}};le.Ua=function(e){this.g&&(this.response=this.responseText=e,wc(this))};le.Ta=function(e){this.g&&(this.response=e,wc(this))};le.ha=function(){this.g&&wc(this)};function wc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xa(e)}le.setRequestHeader=function(e,t){this.v.append(e,t)};le.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Xa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Eh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var P2=Le.JSON.parse;function qt(e){Zt.call(this),this.headers=new wu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dS,this.K=this.L=!1}an(qt,Zt);var dS="",D2=/^https?$/i,L2=["POST","PUT"];le=qt.prototype;le.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Sm.g(),this.C=this.u?_1(this.u):_1(Sm),this.g.onreadystatechange=on(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(u){T1(this,u);return}e=n||"";var o=new wu(this.headers);i&&Kv(i,function(u,a){o.set(a,u)}),i=zL(o.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=NT(L2,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mS(this),0<this.B&&((this.K=M2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=on(this.pa,this)):this.A=Bv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){T1(this,u)}};function M2(e){return Qs&&QL()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function F2(e){return e.toLowerCase()=="content-type"}le.pa=function(){typeof Nv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,sn(this,"timeout"),this.abort(8))};function T1(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pS(e),Ih(e)}function pS(e){e.D||(e.D=!0,sn(e,"complete"),sn(e,"error"))}le.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,sn(this,"complete"),sn(this,"abort"),Ih(this))};le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ih(this,!0)),qt.Z.M.call(this)};le.Fa=function(){this.s||(this.F||this.v||this.l?gS(this):this.cb())};le.cb=function(){gS(this)};function gS(e){if(e.h&&typeof Nv<"u"&&(!e.C[1]||ri(e)!=4||e.ba()!=2)){if(e.v&&ri(e)==4)Bv(e.Fa,0,e);else if(sn(e,"readystatechange"),ri(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var u=String(e.H).match(rS)[1]||null;if(!u&&Le.self&&Le.self.location){var a=Le.self.location.protocol;u=a.substr(0,a.length-1)}o=!D2.test(u?u.toLowerCase():"")}i=o}if(i)sn(e,"complete"),sn(e,"success");else{e.m=6;try{var l=2<ri(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",pS(e)}}finally{Ih(e)}}}}function Ih(e,t){if(e.g){mS(e);var n=e.g,i=e.C[0]?yf:null;e.g=null,e.C=null,t||sn(e,"ready");try{n.onreadystatechange=i}catch{}}}function mS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function ri(e){return e.g?e.g.readyState:0}le.ba=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}};le.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),P2(t)}};function S1(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case dS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}le.Da=function(){return this.m};le.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function U2(e){var t="";return Ov(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Yv(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=U2(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Tt(e,t,n))}function pa(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function vS(e){this.za=0,this.l=[],this.h=new mh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=pa("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=pa("baseRetryDelayMs",5e3,e),this.$a=pa("retryDelaySeedMs",1e4,e),this.Ya=pa("forwardChannelMaxRetries",2,e),this.ra=pa("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new uS(e&&e.concurrentRequestLimit),this.Ca=new N2,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}le=vS.prototype;le.ma=8;le.G=1;function Qv(e){if(yS(e),e.G==3){var t=e.V++,n=fi(e.F);Tt(n,"SID",e.J),Tt(n,"RID",t),Tt(n,"TYPE","terminate"),bc(e,n),t=new mc(e,e.h,t,void 0),t.K=2,t.v=_h(fi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&(new Image().src=t.v,n=!0),n||(t.g=AS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),vc(t)}TS(e)}le.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Th(e){e.g&&(Zv(e),e.g.cancel(),e.g=null)}function yS(e){Th(e),e.u&&(Le.clearTimeout(e.u),e.u=null),Sf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Le.clearTimeout(e.m),e.m=null)}function Vg(e,t){e.l.push(new C2(e.Za++,t)),e.G==3&&Sh(e)}function Sh(e){aS(e.i)||e.m||(e.m=!0,jv(e.Ha,e),e.C=0)}function j2(e,t){return cS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=pc(on(e.Ha,e,t),IS(e,e.C)),e.C++,!0)}le.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new mc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=OT(n),PT(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break t}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=wS(this,t,i),o=fi(this.F),Tt(o,"RID",e),Tt(o,"CVER",22),this.D&&Tt(o,"X-HTTP-Session-Id",this.D),bc(this,o),this.o&&n&&Yv(o,this.o,n),Gv(this.i,t),this.Ra&&Tt(o,"TYPE","init"),this.ja?(Tt(o,"$req",i),Tt(o,"SID","null"),t.$=!0,km(t,o,null)):km(t,o,i),this.G=2}}else this.G==3&&(e?A1(this,e):this.l.length==0||aS(this.i)||A1(this))};function A1(e,t){var n;t?n=t.m:n=e.V++;var i=fi(e.F);Tt(i,"SID",e.J),Tt(i,"RID",n),Tt(i,"AID",e.U),bc(e,i),e.o&&e.s&&Yv(i,e.o,e.s),n=new mc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=wS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Gv(e.i,n),km(n,i,t)}function bc(e,t){e.j&&Kv({},function(n,i){Tt(t,i,n)})}function wS(e,t,n){n=Math.min(e.l.length,n);var i=e.j?on(e.j.Oa,e.j,e):null;e:for(var o=e.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,p=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{R2(p,a,"req"+d+"_")}catch{i&&i(p)}}if(l){i=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function bS(e){e.g||e.u||(e.Y=1,jv(e.Ga,e),e.A=0)}function Jv(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=pc(on(e.Ga,e),IS(e,e.A)),e.A++,!0)}le.Ga=function(){if(this.u=null,_S(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=pc(on(this.bb,this),e)}};le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,xn(10),Th(this),_S(this))};function Zv(e){e.B!=null&&(Le.clearTimeout(e.B),e.B=null)}function _S(e){e.g=new mc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=fi(e.oa);Tt(t,"RID","rpc"),Tt(t,"SID",e.J),Tt(t,"CI",e.N?"0":"1"),Tt(t,"AID",e.U),bc(e,t),Tt(t,"TYPE","xmlhttp"),e.o&&e.s&&Yv(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=_h(fi(t)),n.s=null,n.U=!0,ZT(n,e)}le.ab=function(){this.v!=null&&(this.v=null,Th(this),Jv(this),xn(19))};function Sf(e){e.v!=null&&(Le.clearTimeout(e.v),e.v=null)}function ES(e,t){var n=null;if(e.g==t){Sf(e),Zv(e),e.g=null;var i=2}else if(xm(e.i,t))n=t.D,lS(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=vh(),sn(i,new XT(i,n)),Sh(e)}else bS(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&j2(e,t)||i==2&&Jv(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:No(e,5);break;case 4:No(e,10);break;case 3:No(e,6);break;default:No(e,2)}}}function IS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function No(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=on(e.jb,e);n||(n=new qo("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Ef(n,"https"),_h(n)),O2(n.toString(),i)}else xn(2);e.G=0,e.j&&e.j.va(t),TS(e),yS(e)}le.jb=function(e){e?(this.h.info("Successfully pinged google.com"),xn(2)):(this.h.info("Failed to ping google.com"),xn(1))};function TS(e){e.G=0,e.I=-1,e.j&&((fS(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Rv(e.l),e.l.length=0),e.j.ua())}function SS(e,t,n){var i=b2(n);if(i.i!="")t&&If(i,t+"."+i.i),Tf(i,i.m);else{var o=Le.location;i=_2(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Ov(e.aa,function(u,a){Tt(i,a,u)}),t=e.D,n=e.sa,t&&n&&Tt(i,t,n),Tt(i,"VER",e.ma),bc(e,i),i}function AS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new qt(new yc({ib:!0})):new qt(e.qa),t.L=e.H,t}function kS(){}le=kS.prototype;le.xa=function(){};le.wa=function(){};le.va=function(){};le.ua=function(){};le.Oa=function(){};function Af(){if(Qs&&!(10<=Number(JL)))throw Error("Environmental error: no available transport.")}Af.prototype.g=function(e,t){return new ur(e,t)};function ur(e,t){Zt.call(this),this.g=new vS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!wf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!wf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new _u(this)}an(ur,Zt);ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),jv(on(e.hb,e,t))),xn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=SS(e,null,e.W),Sh(e)};ur.prototype.close=function(){Qv(this.g)};ur.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Vg(this.g,t)}else this.v?(t={},t.__data__=Uv(e),Vg(this.g,t)):Vg(this.g,e)};ur.prototype.M=function(){this.g.j=null,delete this.j,Qv(this.g),delete this.g,ur.Z.M.call(this)};function CS(e){$v.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}an(CS,$v);function xS(){Hv.call(this),this.status=1}an(xS,Hv);function _u(e){this.g=e}an(_u,kS);_u.prototype.xa=function(){sn(this.g,"a")};_u.prototype.wa=function(e){sn(this.g,new CS(e))};_u.prototype.va=function(e){sn(this.g,new xS)};_u.prototype.ua=function(){sn(this.g,"b")};Af.prototype.createWebChannel=Af.prototype.g;ur.prototype.send=ur.prototype.u;ur.prototype.open=ur.prototype.m;ur.prototype.close=ur.prototype.close;yh.NO_ERROR=0;yh.TIMEOUT=8;yh.HTTP_ERROR=6;YT.COMPLETE="complete";QT.EventType=gc;gc.OPEN="a";gc.CLOSE="b";gc.ERROR="c";gc.MESSAGE="d";Zt.prototype.listen=Zt.prototype.N;qt.prototype.listenOnce=qt.prototype.O;qt.prototype.getLastError=qt.prototype.La;qt.prototype.getLastErrorCode=qt.prototype.Da;qt.prototype.getStatus=qt.prototype.ba;qt.prototype.getResponseJson=qt.prototype.Qa;qt.prototype.getResponseText=qt.prototype.ga;qt.prototype.send=qt.prototype.ea;var V2=function(){return new Af},B2=function(){return vh()},Bg=yh,q2=YT,$2=Wo,k1={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},H2=yc,$l=QT,K2=qt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();nr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Se(t,e),t}(Error),kr=new ST("@firebase/firestore");function Nm(){return kr.logLevel}function ne(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=tt.DEBUG){var i=t.map(ey);kr.debug.apply(kr,It(["Firestore (8.10.1): "+e],i))}}function Vt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=tt.ERROR){var i=t.map(ey);kr.error.apply(kr,It(["Firestore (8.10.1): "+e],i))}}function kf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=tt.WARN){var i=t.map(ey);kr.warn.apply(kr,It(["Firestore (8.10.1): "+e],i))}}function ey(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Vt(t),new Error(t)}function xe(e,t){e||ye()}function se(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=z2(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=t.charAt(o[u]%t.length));return i},e}();function ze(e,t){return e<t?-1:e>t?1:0}function Js(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function RS(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?ze(this.nanoseconds,t.nanoseconds):ze(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),$e=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Vn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function OS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PS=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&ye(),i===void 0?i=t.length-n:i>t.length-n&&ye(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var u=t.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),nt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(PS),G2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return G2.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(PS),Zs=function(){function e(t){this.fields=t,t.sort(Nr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Js(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),qn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return ze(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();qn.EMPTY_BYTE_STRING=new qn("");var W2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(e){if(xe(!!e),typeof e=="string"){var t=0,n=W2.exec(e);if(xe(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function eu(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function DS(e){var t=e.mapValue.fields.__previous_value__;return ty(t)?DS(t):t}function Ya(e){var t=Ki(e.mapValue.fields.__local_write_time__.timestampValue);return new Vn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yo(e){return e==null}function Cf(e){return e===0&&1/e==-1/0}function LS(e){return typeof e=="number"&&Number.isInteger(e)&&!Cf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(nt.fromString(t))},e.fromName=function(t){return new e(nt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&nt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return nt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new nt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ty(e)?4:10:ye()}function Wr(e,t){var n=$o(e);if(n!==$o(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ya(e).isEqual(Ya(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Ki(i.timestampValue),a=Ki(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return eu(i.bytesValue).isEqual(eu(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ut(i.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ut(i.integerValue)===Ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=Ut(i.doubleValue),a=Ut(o.doubleValue);return u===a?Cf(u)===Cf(a):isNaN(u)&&isNaN(a)}return!1}(e,t);case 9:return Js(e.arrayValue.values||[],t.arrayValue.values||[],Wr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(C1(u)!==C1(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Wr(u[l],a[l])))return!1;return!0}(e,t);default:return ye()}}function Qa(e,t){return(e.values||[]).find(function(n){return Wr(n,t)})!==void 0}function tu(e,t){var n=$o(e),i=$o(t);if(n!==i)return ze(n,i);switch(n){case 0:return 0;case 1:return ze(e.booleanValue,t.booleanValue);case 2:return function(o,u){var a=Ut(o.integerValue||o.doubleValue),l=Ut(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return x1(e.timestampValue,t.timestampValue);case 4:return x1(Ya(e),Ya(t));case 5:return ze(e.stringValue,t.stringValue);case 6:return function(o,u){var a=eu(o),l=eu(u);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=ze(a[f],l[f]);if(d!==0)return d}return ze(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,u){var a=ze(Ut(o.latitude),Ut(u.latitude));return a!==0?a:ze(Ut(o.longitude),Ut(u.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=tu(a[f],l[f]);if(d)return d}return ze(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var p=0;p<l.length&&p<d.length;++p){var m=ze(l[p],d[p]);if(m!==0)return m;var v=tu(a[l[p]],f[d[p]]);if(v!==0)return v}return ze(l.length,d.length)}(e.mapValue,t.mapValue);default:throw ye()}}function x1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ze(e,t);var n=Ki(e),i=Ki(t),o=ze(n.seconds,i.seconds);return o!==0?o:ze(n.nanos,i.nanos)}function ny(e){return Rm(e)}function Rm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Ki(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?eu(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_e.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Rm(l[a]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Rm(i.fields[f])}return o+"}"}(e.mapValue):ye();var t,n}function xf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Om(e){return!!e&&"integerValue"in e}function ry(e){return!!e&&"arrayValue"in e}function N1(e){return!!e&&"nullValue"in e}function R1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function of(e){return!!e&&"mapValue"in e}function xa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Xo(e.mapValue.fields,function(o,u){return t.mapValue.fields[o]=xa(u)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=xa(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!of(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=xa(n)},e.prototype.setAll=function(t){var n=this,i=Nr.emptyPath(),o={},u=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=xa(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},e.prototype.delete=function(t){var n=this.field(t.popLast());of(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Wr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];of(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Xo(n,function(l,f){return t[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete t[a]}},e.prototype.clone=function(){return new e(xa(this.value))},e}();function MS(e){var t=[];return Xo(e.fields,function(n,i){var o=new Nr([n]);if(of(i)){var u=MS(i.mapValue).fields;if(u.length===0)t.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];t.push(o.child(f))}}else t.push(o)}),new Zs(t)}var yn=function(){function e(t,n,i,o,u){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return e.newInvalidDocument=function(t){return new e(t,0,$e.min(),er.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,er.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,er.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=er.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=er.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),X2=function(e,t,n,i,o,u,a){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(e,t,n,i,o,u,a){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new X2(e,t,n,i,o,u,a)}function _c(e){var t=se(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+ny(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Yo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Rf(t.startAt)),t.endAt&&(n+="|ub:",n+=Rf(t.endAt)),t.h=n}return t.h}function Ah(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rM(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],u=t.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Wr(o.value,u.value))return!1;var o,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!D1(e.startAt,t.startAt)&&D1(e.endAt,t.endAt)}function Nf(e){return _e.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var rr=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).field=n,u.op=i,u.value=o,u}return Se(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new Y2(n,i,o):i==="array-contains"?new Z2(n,o):i==="in"?new eM(n,o):i==="not-in"?new tM(n,o):i==="array-contains-any"?new nM(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new Q2(n,o):new J2(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(tu(i,this.value)):i!==null&&$o(this.value)===$o(i)&&this.m(tu(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),Y2=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,o)||this).key=_e.fromName(o.referenceValue),u}return Se(t,e),t.prototype.matches=function(n){var i=_e.comparator(n.key,this.key);return this.m(i)},t}(rr),Q2=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=FS("in",i),o}return Se(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(rr),J2=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=FS("not-in",i),o}return Se(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(rr);function FS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return _e.fromName(i.referenceValue)})}var Z2=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return ry(i)&&Qa(i.arrayValue,this.value)},t}(rr),eM=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Qa(this.value.arrayValue,i)},t}(rr),tM=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Se(t,e),t.prototype.matches=function(n){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Qa(this.value.arrayValue,i)},t}(rr),nM=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!ry(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Qa(i.value.arrayValue,u)})},t}(rr),Ja=function(e,t){this.position=e,this.before=t};function Rf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return ny(t)}).join(",")}var Bs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function rM(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function P1(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var u=t[o],a=e.position[o];if(i=u.field.isKeyField()?_e.comparator(_e.fromName(a.referenceValue),n.key):tu(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function D1(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Wr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(e,t,n,i,o,u,a,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function US(e,t,n,i,o,u,a,l){return new di(e,t,n,i,o,u,a,l)}function Ec(e){return new di(e)}function sf(e){return!Yo(e.limit)&&e.limitType==="F"}function Of(e){return!Yo(e.limit)&&e.limitType==="L"}function iy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function oy(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function sy(e){return e.collectionGroup!==null}function nu(e){var t=se(e);if(t.p===null){t.p=[];var n=oy(t),i=iy(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new Bs(n)),t.p.push(new Bs(Nr.keyField(),"asc"));else{for(var o=!1,u=0,a=t.explicitOrderBy;u<a.length;u++){var l=a[u];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Bs(Nr.keyField(),f))}}}return t.p}function Xr(e){var t=se(e);if(!t.T)if(t.limitType==="F")t.T=O1(t.path,t.collectionGroup,nu(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=nu(t);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Bs(u.field,a))}var l=t.endAt?new Ja(t.endAt.position,!t.endAt.before):null,f=t.startAt?new Ja(t.startAt.position,!t.startAt.before):null;t.T=O1(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function jS(e,t,n){return new di(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ic(e,t){return Ah(Xr(e),Xr(t))&&e.limitType===t.limitType}function VS(e){return _c(Xr(e))+"|lt:"+e.limitType}function Pm(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+ny(o.value);var o}).join(", ")+"]"),Yo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Rf(t.startAt)),t.endAt&&(n+=", endAt: "+Rf(t.endAt)),"Target("+n+")"}(Xr(e))+"; limitType="+e.limitType+")"}function Tc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):_e.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!P1(n.startAt,nu(n),i))&&(!n.endAt||!P1(n.endAt,nu(n),i))}(e,t)}function BS(e){return function(t,n){for(var i=!1,o=0,u=nu(e);o<u.length;o++){var a=u[o],l=iM(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function iM(e,t,n){var i=e.field.isKeyField()?_e.comparator(t.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?tu(l,f):ye()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cf(t)?"-0":t}}function $S(e){return{integerValue:""+e}}function HS(e,t){return LS(t)?$S(t):qS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kh=function(){this._=void 0};function oM(e,t,n){return e instanceof ru?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,t):e instanceof Ho?zS(e,t):e instanceof Ko?GS(e,t):function(i,o){var u=KS(i,o),a=L1(u)+L1(i.A);return Om(u)&&Om(i.A)?$S(a):qS(i.R,a)}(e,t)}function sM(e,t,n){return e instanceof Ho?zS(e,t):e instanceof Ko?GS(e,t):n}function KS(e,t){return e instanceof iu?Om(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var ru=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t}(kh),Ho=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Se(t,e),t}(kh);function zS(e,t){for(var n=WS(t),i=function(a){n.some(function(l){return Wr(l,a)})||n.push(a)},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Ko=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Se(t,e),t}(kh);function GS(e,t){for(var n=WS(t),i=function(a){n=n.filter(function(l){return!Wr(l,a)})},o=0,u=e.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var iu=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Se(t,e),t}(kh);function L1(e){return Ut(e.integerValue||e.doubleValue)}function WS(e){return ry(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sc=function(e,t){this.field=e,this.transform=t},uM=function(e,t){this.version=e,this.transformResults=t},mn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function uf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Ch=function(){};function aM(e,t,n){e instanceof Ac?function(i,o,u){var a=i.value.clone(),l=U1(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Yi?function(i,o,u){if(uf(i.precondition,o)){var a=U1(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(XS(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(e,t,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,t,n)}function Dm(e,t,n){e instanceof Ac?function(i,o,u){if(uf(i.precondition,o)){var a=i.value.clone(),l=j1(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(F1(o),a).setHasLocalMutations()}}(e,t,n):e instanceof Yi?function(i,o,u){if(uf(i.precondition,o)){var a=j1(i.fieldTransforms,u,o),l=o.data;l.setAll(XS(i)),l.setAll(a),o.convertToFoundDocument(F1(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){uf(i.precondition,o)&&o.convertToNoDocument($e.min())}(e,t)}function cM(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var u=o[i],a=t.data.field(u.field),l=KS(u.transform,a||null);l!=null&&(n==null&&(n=er.empty()),n.set(u.field,l))}return n||null}function M1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Js(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Ho&&d instanceof Ho||f instanceof Ko&&d instanceof Ko?Js(f.elements,d.elements,Wr):f instanceof iu&&d instanceof iu?Wr(f.A,d.A):f instanceof ru&&d instanceof ru}(a.transform,l.transform)}(o,u)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function F1(e){return e.isFoundDocument()?e.version:$e.min()}var Ac=function(e){function t(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=e.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Se(t,e),t}(Ch),Yi=function(e){function t(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Se(t,e),t}(Ch);function XS(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function U1(e,t,n){var i=new Map;xe(e.length===n.length);for(var o=0;o<n.length;o++){var u=e[o],a=u.transform,l=t.data.field(u.field);i.set(u.field,sM(a,l,n[o]))}return i}function j1(e,t,n){for(var i=new Map,o=0,u=e;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,oM(l,f,t))}return i}var Ft,Qe,kc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Se(t,e),t}(Ch),uy=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Se(t,e),t}(Ch),lM=function(e){this.count=e};function YS(e){switch(e){case L.OK:return ye();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ye()}}function QS(e){if(e===void 0)return Vt("GRPC error has no .code"),L.UNKNOWN;switch(e){case Ft.OK:return L.OK;case Ft.CANCELLED:return L.CANCELLED;case Ft.UNKNOWN:return L.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return L.INTERNAL;case Ft.UNAVAILABLE:return L.UNAVAILABLE;case Ft.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ft.NOT_FOUND:return L.NOT_FOUND;case Ft.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ft.ABORTED:return L.ABORTED;case Ft.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ft.DATA_LOSS:return L.DATA_LOSS;default:return ye()}}(Qe=Ft||(Ft={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn=function(){function e(t,n){this.comparator=t,this.root=n||Di.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Di.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Di.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Hl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Hl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Hl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Hl(this.root,t,this.comparator,!0)},e}(),Hl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?i(t.key,n):1,o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Di=function(){function e(t,n,i,o,u){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=u??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,u){return new e(t??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,u=i(t,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(t,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();var t=this.left.check();if(t!==this.right.check())throw ye();return t+(this.isRed()?0:1)},e}();Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1,Di.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ye()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ye()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,u){return this},e.prototype.insert=function(t,n,i){return new Di(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt=function(){function e(t){this.comparator=t,this.data=new wn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new V1(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new V1(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),V1=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),fM=new wn(_e.comparator);function Cr(){return fM}var hM=new wn(_e.comparator);function Lm(){return hM}var dM=new wn(_e.comparator);function pM(){return dM}var gM=new Xt(_e.comparator);function pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=gM,i=0,o=e;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var mM=new Xt(ze);function xh(){return mM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ay=function(){function e(t,n,i,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,cy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($e.min(),i,xh(),Cr(),pt())},e}(),cy=function(){function e(t,n,i,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(qn.EMPTY_BYTE_STRING,n,pt(),pt(),pt())},e}(),af=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},JS=function(e,t){this.targetId=e,this.V=t},ZS=function(e,t,n,i){n===void 0&&(n=qn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},B1=function(){function e(){this.S=0,this.D=$1(),this.C=qn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=pt(),n=pt(),i=pt();return this.D.forEach(function(o,u){switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:ye()}}),new cy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=$1()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),vM=function(){function e(t){this.W=t,this.G=new Map,this.H=Cr(),this.J=q1(),this.Y=new Xt(ze)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var u=0,a=t.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:ye()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var u=o.target;if(Nf(u))if(i===0){var a=new _e(u.path);this.tt(n,a,yn.newNoDocument(a,$e.min()))}else xe(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Nf(f.target)){var d=new _e(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,yn.newNoDocument(d,t))}a.$&&(i.set(l,a.M()),a.L())}});var o=pt();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var p=n.ot(d);return!p||p.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new ay(t,i,this.Y,this.H,o);return this.H=Cr(),this.J=q1(),this.Y=new Xt(ze),u},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new B1,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Xt(ze),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new B1),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function q1(){return new wn(_e.comparator)}function $1(){return new wn(_e.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yM={asc:"ASCENDING",desc:"DESCENDING"},wM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bM=function(e,t){this.databaseId=e,this.I=t};function Za(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function eA(e,t){return e.I?t.toBase64():t.toUint8Array()}function _M(e,t){return Za(e,t.toTimestamp())}function Nn(e){return xe(!!e),$e.fromTimestamp(function(t){var n=Ki(t);return new Vn(n.seconds,n.nanos)}(e))}function ly(e,t){return function(n){return new nt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function tA(e){var t=nt.fromString(e);return xe(aA(t)),t}function ec(e,t){return ly(e.databaseId,t.path)}function oi(e,t){var n=tA(t);if(n.get(1)!==e.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _e(rA(n))}function Mm(e,t){return ly(e.databaseId,t)}function nA(e){var t=tA(e);return t.length===4?nt.emptyPath():rA(t)}function tc(e){return new nt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rA(e){return xe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function H1(e,t,n){return{name:ec(e,t),fields:n.value.mapValue.fields}}function EM(e,t,n){var i=oi(e,t.name),o=Nn(t.updateTime),u=new er({mapValue:{fields:t.fields}}),a=yn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Pf(e,t){var n;if(t instanceof Ac)n={update:H1(e,t.key,t.value)};else if(t instanceof kc)n={delete:ec(e,t.key)};else if(t instanceof Yi)n={update:H1(e,t.key,t.data),updateMask:kM(t.fieldMask)};else{if(!(t instanceof uy))return ye();n={verify:ec(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof ru)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ho)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ko)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof iu)return{fieldPath:u.field.canonicalString(),increment:a.A};throw ye()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:_M(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(e,t.precondition)),n}function K1(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?mn.updateTime(Nn(d.updateTime)):d.exists!==void 0?mn.exists(d.exists):mn.none()}(t.currentDocument):mn.none(),i=t.updateTransforms?t.updateTransforms.map(function(d){return function(p,m){var v=null;if("setToServerValue"in m)xe(m.setToServerValue==="REQUEST_TIME"),v=new ru;else if("appendMissingElements"in m){var b=m.appendMissingElements.values||[];v=new Ho(b)}else if("removeAllFromArray"in m){var _=m.removeAllFromArray.values||[];v=new Ko(_)}else"increment"in m?v=new iu(p,m.increment):ye();var T=Nr.fromServerFormat(m.fieldPath);return new Sc(T,v)}(e,d)}):[];if(t.update){t.update.name;var o=oi(e,t.update.name),u=new er({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(d){var p=d.fieldPaths||[];return new Zs(p.map(function(m){return Nr.fromServerFormat(m)}))}(t.updateMask);return new Yi(o,u,a,n,i)}return new Ac(o,u,n,i)}if(t.delete){var l=oi(e,t.delete);return new kc(l,n)}if(t.verify){var f=oi(e,t.verify);return new uy(f,n)}return ye()}function iA(e,t){return{documents:[Mm(e,t.path)]}}function oA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Mm(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mm(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(p){if(p.op==="=="){if(R1(p.value))return{unaryFilter:{field:ks(p.field),op:"IS_NAN"}};if(N1(p.value))return{unaryFilter:{field:ks(p.field),op:"IS_NULL"}}}else if(p.op==="!="){if(R1(p.value))return{unaryFilter:{field:ks(p.field),op:"IS_NOT_NAN"}};if(N1(p.value))return{unaryFilter:{field:ks(p.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(p.field),op:TM(p.op),value:p.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:ks(d.field),direction:IM(d.dir)}}(f)})}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Yo(f)?f:{value:f}}(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=z1(t.startAt)),t.endAt&&(n.structuredQuery.endAt=z1(t.endAt)),n}function sA(e){var t=nA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){xe(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=uA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(m){return function(v){return new Bs(Ms(v.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m)}));var f=null;n.limit&&(f=function(m){var v;return Yo(v=typeof m=="object"?m.value:m)?null:v}(n.limit));var d=null;n.startAt&&(d=G1(n.startAt));var p=null;return n.endAt&&(p=G1(n.endAt)),US(t,o,l,a,f,"F",d,p)}function uA(e){return e?e.unaryFilter!==void 0?[AM(e)]:e.fieldFilter!==void 0?[SM(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return uA(t)}).reduce(function(t,n){return t.concat(n)}):ye():[]}function z1(e){return{before:e.before,values:e.position}}function G1(e){var t=!!e.before,n=e.values||[];return new Ja(n,t)}function IM(e){return yM[e]}function TM(e){return wM[e]}function ks(e){return{fieldPath:e.canonicalString()}}function Ms(e){return Nr.fromServerFormat(e.fieldPath)}function SM(e){return rr.create(Ms(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}function AM(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ms(e.unaryFilter.field);return rr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ms(e.unaryFilter.field);return rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Ms(e.unaryFilter.field);return rr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ms(e.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ye()}}function kM(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function aA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=W1(t)),t=CM(e.get(n),t);return W1(t)}function CM(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var u=e.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function W1(e){return e+""}function ii(e){var t=e.length;if(xe(t>=2),t===2)return xe(e.charAt(0)===""&&e.charAt(1)===""),nt.emptyPath();for(var n=t-2,i=[],o="",u=0;u<t;){var a=e.indexOf("",u);switch((a<0||a>n)&&ye(),e.charAt(a+1)){case"":var l=e.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(u,a),o+="\0";break;case"":o+=e.substring(u,a+1);break;default:ye()}u=a+2}return new nt(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xM=function(e,t){this.seconds=e,this.nanoseconds=t},Jn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Jn.store="owner",Jn.key="owner";var qi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};qi.store="mutationQueues",qi.keyPath="userId";var vt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};vt.store="mutations",vt.keyPath="batchId",vt.userMutationsIndex="userMutationsIndex",vt.userMutationsKeyPath=["userId","batchId"];var dn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,xr(n)]},e.key=function(t,n,i){return[t,xr(n),i]},e}();dn.store="documentMutations",dn.PLACEHOLDER=new dn;var NM=function(e,t){this.path=e,this.readTime=t},RM=function(e,t){this.path=e,this.version=t},Nt=function(e,t,n,i,o,u){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Nt.store="remoteDocuments",Nt.readTimeIndex="readTimeIndex",Nt.readTimeIndexPath="readTime",Nt.collectionReadTimeIndex="collectionReadTimeIndex",Nt.collectionReadTimeIndexPath=["parentPath","readTime"];var Hr=function(e){this.byteSize=e};Hr.store="remoteDocumentGlobal",Hr.key="remoteDocumentGlobalKey";var jn=function(e,t,n,i,o,u,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};jn.store="targets",jn.keyPath="targetId",jn.queryTargetsIndexName="queryTargetsIndex",jn.queryTargetsKeyPath=["canonicalId","targetId"];var rn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};rn.store="targetDocuments",rn.keyPath=["targetId","path"],rn.documentTargetsIndex="documentTargetsIndex",rn.documentTargetsKeyPath=["path","targetId"];var Zn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Zn.key="targetGlobalKey",Zn.store="targetGlobal";var Lo=function(e,t){this.collectionId=e,this.parent=t};Lo.store="collectionParents",Lo.keyPath=["collectionId","parent"];var si=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};si.store="clientMetadata",si.keyPath="clientId";var ou=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ou.store="bundles",ou.keyPath="bundleId";var su=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};su.store="namedQueries",su.keyPath="name";var OM=It(It([],It(It([],It(It([],It(It([],[qi.store,vt.store,dn.store,Nt.store,jn.store,Jn.store,Zn.store,rn.store]),[si.store])),[Hr.store])),[Lo.store])),[ou.store,su.store]),cA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),$n=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},J=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,u){i.nextCallback=function(a){i.wrapSuccess(t,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,u=0,a=!1;t.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(a){n=n.next(function(l){return l?e.resolve(l):a()})},o=0,u=t;o<u.length;o++)i(u[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},e}(),fA=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new $n,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Na(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=fy(o.target.error);i.ft.reject(new Na(t,u))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(u){throw new Na(n,u)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ne("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new DM(n)},e}(),uu=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Vo())===12.2&&Vt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ne("SimpleDb","Removing database:",t),ko(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Vo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),u=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||u)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ne("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new Na(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new X(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new Na(t,d))},l.onupgradeneeded=function(f){ne("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){ne("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var u,a,l,f,d;return q(this,function(p){switch(p.label){case 0:u=n==="readonly",a=0,l=function(){var m,v,b,_,T;return q(this,function(S){switch(S.label){case 0:++a,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),m=fA.open(f.db,t,u?"readonly":"readwrite",i),v=o(m).catch(function(O){return m.abort(O),J.reject(O)}).toPromise(),b={},v.catch(function(){}),[4,m.dt];case 3:return[2,(b.value=(S.sent(),v),b)];case 4:return _=S.sent(),T=_.name!=="FirebaseError"&&a<3,ne("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,p.label=1;case 1:return[5,l()];case 2:if(typeof(d=p.sent())=="object")return[2,d.value];p.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),PM=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ko(this.Pt.delete())},e}(),Na=function(e){function t(n,i){var o=this;return(o=e.call(this,L.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Se(t,e),t}(X);function Qo(e){return e.name==="IndexedDbTransactionError"}var DM=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(ne("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(ne("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ko(i)},e.prototype.add=function(t){return ne("SimpleDb","ADD",this.store.name,t,t),ko(this.store.add(t))},e.prototype.get=function(t){var n=this;return ko(this.store.get(t)).next(function(i){return i===void 0&&(i=null),ne("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return ne("SimpleDb","DELETE",this.store.name,t),ko(this.store.delete(t))},e.prototype.count=function(){return ne("SimpleDb","COUNT",this.store.name),ko(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},e.prototype.kt=function(t,n){ne("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new J(function(i,o){n.onerror=function(u){var a=fy(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?t(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new J(function(o,u){t.onerror=function(a){u(a.target.error)},t.onsuccess=function(a){var l=a.target.result;if(l){var f=new PM(l),d=n(l.primaryKey,l.value,f);if(d instanceof J){var p=d.catch(function(m){return f.done(),J.reject(m)});i.push(p)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return J.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ko(e){return new J(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=fy(i.target.error);n(o)}})}var X1=!1;function fy(e){var t=uu._t(Vo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return X1||(X1=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y1=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Se(t,e),t}(lA);function Hn(e,t){var n=se(e);return uu.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hy=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(t.key)&&aM(u,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(t.key)&&Dm(a,t,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(t.key)&&Dm(a,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument($e.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},pt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Js(this.mutations,t.mutations,function(n,i){return M1(n,i)})&&Js(this.baseMutations,t.baseMutations,function(n,i){return M1(n,i)})},e}(),LM=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){xe(t.mutations.length===i.length);for(var o=pM(),u=t.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new e(t,n,i,o)},e}(),Nh=function(){function e(t,n,i,o,u,a,l){u===void 0&&(u=$e.min()),a===void 0&&(a=$e.min()),l===void 0&&(l=qn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),hA=function(e){this.Lt=e};function Fm(e,t){if(t.document)return EM(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=_e.fromSegments(t.noDocument.path),i=cu(t.noDocument.readTime),o=yn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var u=_e.fromSegments(t.unknownDocument.path);return i=cu(t.unknownDocument.version),yn.newUnknownDocument(u,i)}return ye()}function Q1(e,t,n){var i=dy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var u=function(m,v){return{name:ec(m,v.key),fields:v.data.value.mapValue.fields,updateTime:Za(m,v.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Nt(null,null,u,a,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=au(t.version);return a=t.hasCommittedMutations,new Nt(null,new NM(l,f),null,a,i,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),p=au(t.version);return new Nt(new RM(d,p),null,null,!0,i,o)}return ye()}function dy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function dA(e){var t=new Vn(e[0],e[1]);return $e.fromTimestamp(t)}function au(e){var t=e.toTimestamp();return new xM(t.seconds,t.nanoseconds)}function cu(e){var t=new Vn(e.seconds,e.nanoseconds);return $e.fromTimestamp(t)}function Os(e,t){for(var n=(t.baseMutations||[]).map(function(f){return K1(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var u=t.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var a=t.mutations.map(function(f){return K1(e.Lt,f)}),l=Vn.fromMillis(t.localWriteTimeMs);return new hy(t.batchId,l,n,a)}function Ea(e){var t,n,i=cu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?cu(e.lastLimboFreeSnapshotVersion):$e.min();return e.query.documents!==void 0?(xe((n=e.query).documents.length===1),t=Xr(Ec(nA(n.documents[0])))):t=function(u){return Xr(sA(u))}(e.query),new Nh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,qn.fromBase64String(e.resumeToken))}function pA(e,t){var n,i=au(t.snapshotVersion),o=au(t.lastLimboFreeSnapshotVersion);n=Nf(t.target)?iA(e.Lt,t.target):oA(e.Lt,t.target);var u=t.resumeToken.toBase64();return new jn(t.targetId,_c(t.target),i,u,t.sequenceNumber,o,n)}function gA(e){var t=sA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MM=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return J1(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:cu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return J1(t).put({bundleId:(i=n).id,createTime:au(Nn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return Z1(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:gA(o.bundledQuery),readTime:cu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return Z1(t).put(function(i){return{name:i.name,readTime:au(Nn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function J1(e){return Hn(e,ou.store)}function Z1(e){return Hn(e,su.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FM=function(){function e(){this.Bt=new py}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),J.resolve()},e.prototype.getCollectionParents=function(t,n){return J.resolve(this.Bt.getEntries(n))},e}(),py=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Xt(nt.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Xt(nt.comparator)).toArray()},e}(),UM=function(){function e(){this.qt=new py}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:xr(u)};return eE(t).put(a)}return J.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[RS(n),""],!1,!0);return eE(t).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(ii(f.parent))}return i})},e}();function eE(e){return Hn(e,Lo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Vr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(e,t,n){var i=e.store(vt.store),o=e.store(dn.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,T,S){return l++,S.delete()});u.push(f.next(function(){xe(l===1)}));for(var d=[],p=0,m=n.mutations;p<m.length;p++){var v=m[p],b=dn.key(t,v.key.path,n.batchId);u.push(o.delete(b)),d.push(v.key)}return J.waitFor(u).next(function(){return d})}function Df(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ye();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(41943040,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);var jM=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return xe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ai(t).$t({index:vt.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var u=this,a=Ps(t),l=Ai(t);return l.add({}).next(function(f){xe(typeof f=="number");for(var d=new hy(f,n,i,o),p=function(O,P,F){var B=F.baseMutations.map(function(j){return Pf(O.Lt,j)}),te=F.mutations.map(function(j){return Pf(O.Lt,j)});return new vt(P,F.batchId,F.localWriteTime.toMillis(),B,te)}(u.R,u.userId,d),m=[],v=new Xt(function(O,P){return ze(O.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var T=_[b],S=dn.key(u.userId,T.key.path,f);v=v.add(T.key.path.popLast()),m.push(l.put(p)),m.push(a.put(S,dn.PLACEHOLDER))}return v.forEach(function(O){m.push(u.Ut.addToCollectionParentIndex(t,O))}),t.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),J.waitFor(m).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ai(t).get(n).next(function(o){return o?(xe(o.userId===i.userId),Os(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?J.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return Ai(t).$t({index:vt.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(xe(f.batchId>=o),a=Os(i.R,f)),d.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ai(t).$t({index:vt.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ai(t).Nt(vt.userMutationsIndex,i).next(function(o){return o.map(function(u){return Os(n.R,u)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=dn.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return Ps(t).$t({range:u},function(l,f,d){var p=l[0],m=l[1],v=l[2],b=ii(m);if(p===i.userId&&n.path.isEqual(b))return Ai(t).get(v).next(function(_){if(!_)throw ye();xe(_.userId===i.userId),a.push(Os(i.R,_))});d.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Xt(ze),u=[];return n.forEach(function(a){var l=dn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=Ps(t).$t({range:f},function(p,m,v){var b=p[0],_=p[1],T=p[2],S=ii(_);b===i.userId&&a.path.isEqual(S)?o=o.add(T):v.done()});u.push(d)}),J.waitFor(u).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,u=o.length+1,a=dn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new Xt(ze);return Ps(t).$t({range:l},function(d,p,m){var v=d[0],b=d[1],_=d[2],T=ii(b);v===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(_)):m.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(Ai(t).get(a).next(function(l){if(l===null)throw ye();xe(l.userId===i.userId),o.push(Os(i.R,l))}))}),J.waitFor(u).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return mA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),J.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(t,u)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return J.resolve();var o=IDBKeyRange.lowerBound(dn.prefixForUser(n.userId)),u=[];return Ps(t).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=ii(a[1]);u.push(d)}else f.done()}).next(function(){xe(u.length===0)})})},e.prototype.containsKey=function(t,n){return vA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return yA(t).get(this.userId).next(function(i){return i||new qi(n.userId,-1,"")})},e}();function vA(e,t,n){var i=dn.prefixForPath(t,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return Ps(e).$t({range:u,Ft:!0},function(l,f,d){var p=l[0],m=l[1];l[2],p===t&&m===o&&(a=!0),d.done()}).next(function(){return a})}function Ai(e){return Hn(e,vt.store)}function Ps(e){return Hn(e,dn.store)}function yA(e){return Hn(e,qi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lf=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),VM=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new Lf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return $e.fromTimestamp(new Vn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(t,u)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Cs(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return xe(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return Cs(t).$t(function(l,f){var d=Ea(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(t,d)))}).next(function(){return J.waitFor(a)}).next(function(){return u})},e.prototype.forEachTarget=function(t,n){return Cs(t).$t(function(i,o){var u=Ea(o);n(u)})},e.prototype.Xt=function(t){return nE(t).get(Zn.key).next(function(n){return xe(n!==null),n})},e.prototype.Zt=function(t,n){return nE(t).put(Zn.key,n)},e.prototype.te=function(t,n){return Cs(t).put(pA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=_c(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return Cs(t).$t({range:o,index:jn.queryTargetsIndexName},function(a,l,f){var d=Ea(l);Ah(n,d.target)&&(u=d,f.done())}).next(function(){return u})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,u=[],a=Li(t);return n.forEach(function(l){var f=xr(l.path);u.push(a.put(new rn(i,f))),u.push(o.referenceDelegate.addReference(t,i,l))}),J.waitFor(u)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,u=Li(t);return J.forEach(n,function(a){var l=xr(a.path);return J.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(t,i,a)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Li(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Li(t),u=pt();return o.$t({range:i,Ft:!0},function(a,l,f){var d=ii(a[1]),p=new _e(d);u=u.add(p)}).next(function(){return u})},e.prototype.containsKey=function(t,n){var i=xr(n.path),o=IDBKeyRange.bound([i],[RS(i)],!1,!0),u=0;return Li(t).$t({index:rn.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},e.prototype.lt=function(t,n){return Cs(t).get(n).next(function(i){return i?Ea(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e){return Hn(e,jn.store)}function nE(e){return Hn(e,Zn.store)}function Li(e){return Hn(e,rn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e){return H(this,void 0,void 0,function(){return q(this,function(t){if(e.code!==L.FAILED_PRECONDITION||e.message!==cA)throw e;return ne("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(e,t){var n=e[0],i=e[1],o=t[0],u=t[1],a=ze(n,o);return a===0?ze(i,u):a}var BM=function(){function e(t){this.ne=t,this.buffer=new Xt(rE),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();rE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),qM=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;ne("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return q(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Qo(o=u.sent())?(ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Jo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return u.sent(),[2]}})})})},e}(),$M=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return J.resolve(nr.o);var o=new BM(n);return this.ae.forEachTarget(t,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(t,function(u){return o.re(u)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(tE)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),tE):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,u,a,l,f,d,p=this,m=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(v){return v>p.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+p.params.maximumSequenceNumbersToCollect+" from "+v),o=p.params.maximumSequenceNumbersToCollect):o=v,a=Date.now(),p.nthSequenceNumber(t,o)}).next(function(v){return i=v,l=Date.now(),p.removeTargets(t,i,n)}).next(function(v){return u=v,f=Date.now(),p.removeOrphanedDocuments(t,i)}).next(function(v){return d=Date.now(),Nm()<=tt.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-m)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+v+" documents in "+(d-f)+`ms
Total Duration: `+(d-m)+"ms"),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:v})})},e}(),HM=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new $M(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Kl(t,i)},e.prototype.removeReference=function(t,n,i){return Kl(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Kl(t,n)},e.prototype._e=function(t,n){return function(i,o){var u=!1;return yA(i).Ot(function(a){return vA(i,a,o).next(function(l){return l&&(u=!0),J.resolve(!l)})}).next(function(){return u})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(t,function(l,f){if(f<=n){var d=i._e(t,l).next(function(p){if(!p)return a++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Li(t).delete([0,xr(l.path)])})});u.push(d)}}).next(function(){return J.waitFor(u)}).next(function(){return o.apply(t)}).next(function(){return a})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Kl(t,n)},e.prototype.we=function(t,n){var i,o=Li(t),u=nr.o;return o.$t({index:rn.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,p=l.sequenceNumber;f===0?(u!==nr.o&&n(new _e(ii(i)),u),u=p,i=d):u=nr.o}).next(function(){u!==nr.o&&n(new _e(ii(i)),u)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Kl(e,t){return Li(e).put(function(n,i){return new rn(0,xr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Xo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];t(l,f)}})},e.prototype.isEmpty=function(){return OS(this.inner)},e}(),wA=function(){function e(){this.changes=new Eu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:$e.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:yn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?J.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),KM=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Ri(t).put(zl(n),i)},e.prototype.removeEntry=function(t,n){var i=Ri(t),o=zl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Ri(t).get(zl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Ri(t).get(zl(n)).next(function(o){return{document:i.ye(n,o),size:Df(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=Cr();return this.pe(t,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=Cr(),u=new wn(_e.comparator);return this.pe(t,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,Df(l))}).next(function(){return{documents:o,Te:u}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return J.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return Ri(t).$t({range:o},function(l,f,d){for(var p=_e.fromSegments(l);a&&_e.comparator(a,p)<0;)i(a,null),a=u.getNext();a&&a.isEqual(p)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,u=Cr(),a=n.path.length+1,l={};if(i.isEqual($e.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),p=dy(i);l.range=IDBKeyRange.lowerBound([d,p],!0),l.index=Nt.collectionReadTimeIndex}return Ri(t).$t(l,function(m,v,b){if(m.length===a){var _=Fm(o.R,v);n.path.isPrefixOf(_.key.path)?Tc(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},e.prototype.newChangeBuffer=function(t){return new zM(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return iE(t).get(Hr.key).next(function(n){return xe(!!n),n})},e.prototype.me=function(t,n){return iE(t).put(Hr.key,n)},e.prototype.ye=function(t,n){if(n){var i=Fm(this.R,n);if(!i.isNoDocument()||!i.version.isEqual($e.min()))return i}return yn.newInvalidDocument(t)},e}(),zM=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Eu(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Se(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new Xt(function(l,f){return ze(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var p=Q1(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var m=Df(p);u+=m-d,o.push(i.Ie.addEntry(n,l,p))}else if(u-=d,i.trackRemovals){var v=Q1(i.Ie.R,yn.newNoDocument(l,$e.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,v))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),J.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},t}(wA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(e){return Hn(e,Hr.store)}function Ri(e){return Hn(e,Nt.store)}function zl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GM=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var u=this;xe(i<o&&i>=0&&o<=11);var a=new fA("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Jn.store)}(t),function(f){f.createObjectStore(qi.store,{keyPath:qi.keyPath}),f.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(dn.store)}(t),oE(t),function(f){f.createObjectStore(Nt.store)}(t));var l=J.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(rn.store),f.deleteObjectStore(jn.store),f.deleteObjectStore(Zn.store)}(t),oE(t)),l=l.next(function(){return function(f){var d=f.store(Zn.store),p=new Zn(0,0,$e.min().toTimestamp(),0);return d.put(Zn.key,p)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(vt.store).Nt().next(function(p){f.deleteObjectStore(vt.store),f.createObjectStore(vt.store,{keyPath:vt.keyPath,autoIncrement:!0}).createIndex(vt.userMutationsIndex,vt.userMutationsKeyPath,{unique:!0});var m=d.store(vt.store),v=p.map(function(b){return m.put(b)});return J.waitFor(v)})}(t,a)})),l=l.next(function(){(function(f){f.createObjectStore(si.store,{keyPath:si.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Hr.store)}(t),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(t,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Nt.store);d.createIndex(Nt.readTimeIndex,Nt.readTimeIndexPath,{unique:!1}),d.createIndex(Nt.collectionReadTimeIndex,Nt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ou.store,{keyPath:ou.keyPath})})(t),function(f){f.createObjectStore(su.store,{keyPath:su.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Nt.store).$t(function(i,o){n+=Df(o)}).next(function(){var i=new Hr(n);return t.store(Hr.store).put(Hr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(qi.store),o=t.store(vt.store);return i.Nt().next(function(u){return J.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(vt.userMutationsIndex,l).next(function(f){return J.forEach(f,function(d){xe(d.userId===a.userId);var p=Os(n.R,d);return mA(t,a.userId,p).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(rn.store),i=t.store(Nt.store);return t.store(Zn.store).get(Zn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new nt(a),d=function(p){return[0,xr(p)]}(f);u.push(n.get(d).next(function(p){return p?J.resolve():function(m){return n.put(new rn(0,xr(m),o.highestListenSequenceNumber))}(f)}))}).next(function(){return J.waitFor(u)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Lo.store,{keyPath:Lo.keyPath});var i=n.store(Lo.store),o=new py,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:xr(f)})}};return n.store(Nt.store).$t({Ft:!0},function(a,l){var f=new nt(a);return u(f.popLast())}).next(function(){return n.store(dn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=ii(f);return u(d.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(jn.store);return i.$t(function(o,u){var a=Ea(u),l=pA(n.R,a);return i.put(l)})},e}();function oE(e){e.createObjectStore(rn.store,{keyPath:rn.keyPath}).createIndex(rn.documentTargetsIndex,rn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(jn.store,{keyPath:jn.keyPath}).createIndex(jn.queryTargetsIndexName,jn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Zn.store)}var qg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WM=function(){function e(t,n,i,o,u,a,l,f,d,p){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=p,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(m){return Promise.resolve()},!e.yt())throw new X(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new HM(this,o),this.Le=n+"main",this.R=new hA(f),this.Be=new uu(this.Le,11,new GM(this.R)),this.qe=new VM(this.referenceDelegate,this.R),this.Ut=new UM,this.Ue=function(m,v){return new KM(m,v)}(this.R,this.Ut),this.Ke=new MM,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,p===!1&&Vt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new X(L.FAILED_PRECONDITION,qg);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new nr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return q(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Gl(n).put(new si(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Qo(n))return ne("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ne("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return ga(t).get(Jn.key).next(function(i){return J.resolve(n.tn(i))})},e.prototype.en=function(t){return Gl(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,u=this;return q(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Hn(l,si.store);return f.Nt().next(function(d){var p=u.rn(d,18e5),m=d.filter(function(v){return p.indexOf(v)===-1});return J.forEach(m,function(v){return f.delete(v.clientId)}).next(function(){return m})})}).catch(function(){return[]})]);case 1:if(t=a.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?J.resolve(!0):ga(t).get(Jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new X(L.FAILED_PRECONDITION,qg);return!1}}return!(!n.networkEnabled||!n.inForeground)||Gl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&ne("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return q(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jn.store,si.store],function(i){var o=new Y1(i,nr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Gl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return jM.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("IndexedDbPersistence","Starting transaction:",t);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,a,OM,function(l){return u=new Y1(l,o.Ne?o.Ne.next():nr.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Vt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new X(L.FAILED_PRECONDITION,cA);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return ga(t).get(Jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new X(L.FAILED_PRECONDITION,qg)})},e.prototype.Ze=function(t){var n=new Jn(this.clientId,this.allowTabSynchronization,Date.now());return ga(t).put(Jn.key,n)},e.yt=function(){return uu.yt()},e.prototype.Xe=function(t){var n=this,i=ga(t);return i.get(Jn.key).next(function(o){return n.tn(o)?(ne("IndexedDbPersistence","Releasing primary lease."),i.delete(Jn.key)):J.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Vt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),tL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ne("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Vt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Vt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function ga(e){return Hn(e,Jn.store)}function Gl(e){return Hn(e,si.store)}function gy(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):sy(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new _e(n)).next(function(i){var o=Lm();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,u=n.collectionGroup,a=Lm();return this.Ut.getCollectionParents(t,u).next(function(l){return J.forEach(l,function(f){var d=function(p,m){return new di(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,f.child(u));return o.An(t,d,i).next(function(p){p.forEach(function(m,v){a=a.insert(m,v)})})}).next(function(){return a})})},e.prototype.An=function(t,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return u=l,a.Rn(t,u,o).next(function(f){o=f;for(var d=0,p=u;d<p.length;d++)for(var m=p[d],v=0,b=m.mutations;v<b.length;v++){var _=b[v],T=_.key,S=o.get(T);S==null&&(S=yn.newInvalidDocument(T),o=o.insert(T,S)),Dm(_,S,m.localWriteTime),S.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){Tc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=pt(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Yi&&i.get(d.key)===null&&(o=o.add(d.key))}var p=i;return this.Ue.getEntries(t,o).next(function(m){return m.forEach(function(v,b){b.isFoundDocument()&&(p=p.insert(v,b))}),p})},e}(),XM=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=pt(),o=pt(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),_A=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual($e.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(a){var l=u.Cn(n,a);return(sf(n)||Of(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(t,n):(Nm()<=tt.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pm(n)),u.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var i=new Xt(BS(t));return n.forEach(function(o,u){Tc(t,u)&&(i=i.add(u))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var u=t==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Nm()<=tt.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Pm(n)),this.Sn.getDocumentsMatchingQuery(t,n,$e.min())},e}(),YM=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new wn(ze),this.Fn=new Eu(function(u){return _c(u)},Ah),this.$n=$e.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new bA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(e,t,n,i){return new YM(e,t,n,i)}function IA(e,t){return H(this,void 0,void 0,function(){var n,i,o,u;return q(this,function(a){switch(a.label){case 0:return n=se(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(t),o=new bA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var p=[],m=[],v=pt(),b=0,_=f;b<_.length;b++){var T=_[b];p.push(T.batchId);for(var S=0,O=T.mutations;S<O.length;S++){var P=O[S];v=v.add(P.key)}}for(var F=0,B=d;F<B.length;F++){var te=B[F];m.push(te.batchId);for(var j=0,we=te.mutations;j<we.length;j++){var z=we[j];v=v.add(z.key)}}return o.pn(l,v).next(function(ie){return{Ln:ie,removedBatchIds:p,addedBatchIds:m}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function QM(e,t){var n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var p=f.batch,m=p.keys(),v=J.resolve();return m.forEach(function(b){v=v.next(function(){return d.getEntry(l,b)}).next(function(_){var T=f.docVersions.get(b);xe(T!==null),_.version.compareTo(T)<0&&(p.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),v.next(function(){return a._n.removeMutationBatch(l,p)})}(n,i,t,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function TA(e){var t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function JM(e,t){var n=se(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(p,m){var v=o.get(m);if(v){l.push(n.qe.removeMatchingKeys(u,p.removedDocuments,m).next(function(){return n.qe.addMatchingKeys(u,p.addedDocuments,m)}));var b=p.resumeToken;if(b.approximateByteSize()>0){var _=v.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(m,_),function(T,S,O){return xe(S.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(v,_,p)&&l.push(n.qe.updateTargetData(u,_))}}});var f=Cr();if(t.documentUpdates.forEach(function(p,m){t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,p))}),l.push(ZM(u,a,t.documentUpdates,i,void 0).next(function(p){f=p})),!i.isEqual($e.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(p){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return J.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function ZM(e,t,n,i,o){var u=pt();return n.forEach(function(a){return u=u.add(a)}),t.getEntries(e,u).next(function(a){var l=Cr();return n.forEach(function(f,d){var p=a.get(f),m=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual($e.min())?(t.removeEntry(f,m),l=l.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(d,m),l=l.insert(f,d)):ne("LocalStore","Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),l})}function eF(e,t){var n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Mf(e,t){var n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(u){return u?(o=u,J.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Nh(t,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function lu(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return q(this,function(l){switch(l.label){case 0:i=se(e),o=i.kn.get(t),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Qo(a=l.sent()))throw a;return ne("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Ff(e,t,n){var i=se(e),o=$e.min(),u=pt();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var p=se(l),m=p.Fn.get(d);return m!==void 0?J.resolve(p.kn.get(m)):p.qe.getTargetData(f,d)}(i,a,Xr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,t,n?o:$e.min(),n?u:pt())}).next(function(l){return{documents:l,Bn:u}})})}function SA(e,t){var n=se(e),i=se(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,t).next(function(a){return a?a.target:null})})}function AA(e){var t=se(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=se(i),l=Cr(),f=dy(u),d=Ri(o),p=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Nt.readTimeIndex,range:p},function(m,v){var b=Fm(a.R,v);l=l.insert(b.key,b),f=v.readTime}).next(function(){return{wn:l,readTime:dA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function tF(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,(t=se(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=Ri(o),a=$e.min();return u.$t({index:Nt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=dA(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nF=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return J.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Nn(i.createTime)}),J.resolve()},e.prototype.getNamedQuery=function(t,n){return J.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:gA(i.bundledQuery),readTime:Nn(i.readTime)}}(n)),J.resolve()},e}(),my=function(){function e(){this.Wn=new Xt(Qt.Gn),this.zn=new Xt(Qt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Qt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Qt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new _e(new nt([])),o=new Qt(i,t),u=new Qt(i,t+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new _e(new nt([])),i=new Qt(n,t),o=new Qt(n,t+1),u=pt();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},e.prototype.containsKey=function(t){var n=new Qt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Qt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return _e.comparator(t.key,n.key)||ze(t.ns,n.ns)},e.Hn=function(t,n){return ze(t.ns,n.ns)||_e.comparator(t.key,n.key)},e}(),rF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Xt(Qt.Gn)}return e.prototype.checkEmpty=function(t){return J.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new hy(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Qt(d.key,u)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return J.resolve(a)},e.prototype.lookupMutationBatch=function(t,n){return J.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return J.resolve(this._n.length>u?this._n[u]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return J.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return J.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Qt(n,0),u=new Qt(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),J.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Xt(ze);return n.forEach(function(u){var a=new Qt(u,0),l=new Qt(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),J.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,u=i;_e.isDocumentKey(u)||(u=u.child(""));var a=new Qt(new _e(u),0),l=new Xt(ze);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),J.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;xe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return J.forEach(n.mutations,function(u){var a=new Qt(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Qt(n,0),o=this.rs.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,J.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),iF=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new wn(_e.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return J.resolve(i?i.document.clone():yn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=Cr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():yn.newInvalidDocument(u))}),J.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=Cr(),u=new _e(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,p=d.document,m=d.readTime;if(!n.path.isPrefixOf(f.path))break;m.compareTo(i)<=0||Tc(n,p)&&(o=o.insert(p.key,p.clone()))}return J.resolve(o)},e.prototype.fs=function(t,n){return J.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new oF(this)},e.prototype.getSize=function(t){return J.resolve(this.size)},e}(),oF=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Se(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),J.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(wA),sF=function(){function e(t){this.persistence=t,this.ds=new Eu(function(n){return _c(n)},Ah),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this.ws=0,this._s=new my,this.targetCount=0,this.ys=Lf.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),J.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return J.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return J.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),J.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),J.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Lf(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,J.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),J.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,J.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(t,f.targetId)),u++)}),J.waitFor(a).next(function(){return u})},e.prototype.getTargetCount=function(t){return J.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return J.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),J.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(t,a))}),J.waitFor(u)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),J.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return J.resolve(i)},e.prototype.containsKey=function(t,n){return J.resolve(this._s.containsKey(n))},e}(),uF=function(){function e(t,n){var i=this;this.gs={},this.Ne=new nr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new sF(this),this.Ut=new FM,this.Ue=function(o,u){return new iF(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new hA(n),this.Ke=new nF(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new rF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;ne("MemoryPersistence","Starting transaction:",t);var u=new aF(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},e.prototype.Is=function(t,n){return J.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),aF=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Se(t,e),t}(lA),cF=function(){function e(t){this.persistence=t,this.As=new my,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ye()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),J.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),J.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),J.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.vs,function(o){var u=_e.fromPath(o);return n.Ps(t,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return J.or([function(){return J.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),tn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(e,t){return"firestore_clients_"+e+"_"+t}function uE(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function $g(e,t){return"firestore_targets_"+e+"_"+t}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");var aE=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new X(u.error.code,u.error.message)),a?new e(t,n,u.state,o):(Vt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Hg=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new X(o.error.code,o.error.message)),u?new e(t,o.state,i):(Vt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),cE=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=xh(),a=0;o&&a<i.activeTargetIds.length;++a)o=LS(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new e(t,u):(Vt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),lF=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Vt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Um=function(){function e(){this.activeTargetIds=xh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Kg=function(){function e(t,n,i,o,u){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new wn(ze),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=sE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Um),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,u,a,l,f,d,p,m,v=this;return q(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=b.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(sE(this.persistenceKey,o)))&&(a=cE.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,p=this.$s;d<p.length;d++)m=p[d],this.ks(m);return this.$s=[],this.window.addEventListener("pagehide",function(){return v.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem($g(this.persistenceKey,t));if(i){var o=Hg.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem($g(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=t,i.forEach(function(u){o.addPendingMutation(u)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ne("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ne("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ne("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(ne("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Vt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,u,a,l,f,d;return q(this,function(p){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(m){var v=nr.o;if(m!=null)try{var b=JSON.parse(m);xe(typeof b=="number"),v=b}catch(_){Vt("SharedClientState","Failed to read sequence number from WebStorage",_)}return v}(i.newValue))!==nr.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new aE(this.currentUser,t,n,i),u=uE(this.persistenceKey,this.currentUser,t);this.setItem(u,o.Ss())},e.prototype.Hs=function(t){var n=uE(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=$g(this.persistenceKey,t),u=new Hg(t,n,i);this.setItem(o,u.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return cE.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return aE.Vs(new tn(u),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Hg.Vs(o,n)},e.prototype.js=function(t){return lF.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ne("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=xh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),kA=function(){function e(){this.li=new Um,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Um,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),fF=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),lE=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),hF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dF=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),pF=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Se(t,e),t.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new K2;f.listenOnce(q2.COMPLETE,function(){try{switch(f.getLastErrorCode()){case Bg.NO_ERROR:var p=f.getResponseJson();ne("Connection","XHR received:",JSON.stringify(p)),a(p);break;case Bg.TIMEOUT:ne("Connection",'RPC "'+n+'" timed out'),l(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case Bg.HTTP_ERROR:var m=f.getStatus();if(ne("Connection",'RPC "'+n+'" failed with status:',m,"response text:",f.getResponseText()),m>0){var v=f.getResponseJson().error;if(v&&v.status&&v.message){var b=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(T)>=0?T:L.UNKNOWN}(v.status);l(new X(b,v.message))}else l(new X(L.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new X(L.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{ne("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=V2(),a=B2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new H2({})),this.ki(l.initMessageHeaders,i),WD()||QD()||JD()||ZD()||eL()||YD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ne("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),p=!1,m=!1,v=new dF({Ei:function(_){m?ne("Connection","Not sending because WebChannel is closed:",_):(p||(ne("Connection","Opening WebChannel transport."),d.open(),p=!0),ne("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,T,S){_.listen(T,function(O){try{S(O)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,$l.EventType.OPEN,function(){m||ne("Connection","WebChannel transport opened.")}),b(d,$l.EventType.CLOSE,function(){m||(m=!0,ne("Connection","WebChannel transport closed"),v.Vi())}),b(d,$l.EventType.ERROR,function(_){m||(m=!0,kf("Connection","WebChannel transport errored:",_),v.Vi(new X(L.UNAVAILABLE,"The operation could not be completed")))}),b(d,$l.EventType.MESSAGE,function(_){var T;if(!m){var S=_.data[0];xe(!!S);var O=S,P=O.error||((T=O[0])===null||T===void 0?void 0:T.error);if(P){ne("Connection","WebChannel received error:",P);var F=P.status,B=function(j){var we=Ft[j];if(we!==void 0)return QS(we)}(F),te=P.message;B===void 0&&(B=L.INTERNAL,te="Unknown error status: "+F+" with message "+P.message),m=!0,v.Vi(new X(B,te)),d.close()}else ne("Connection","WebChannel received:",S),v.Si(S)}}),b(a,$2.STAT_EVENT,function(_){_.stat===k1.PROXY?ne("Connection","Detected buffering proxy"):_.stat===k1.NOPROXY&&ne("Connection","Detected no buffering proxy")}),setTimeout(function(){v.Pi()},0),v},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var u=this.xi(t,n);ne("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(t,u,a,i).then(function(l){return ne("RestConnection","Received: ",l),l},function(l){throw kf("RestConnection",t+" failed with error: ",l,"url: ",u,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=hF[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return typeof window<"u"?window:null}function cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(e){return new bM(e,!0)}var vy=function(){function e(t,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&ne("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),xA=function(){function e(t,n,i,o,u,a){this.Se=t,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Vt(n.toString()),Vt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===L.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var u=new X(L.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(u)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return q(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ne("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),gF=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Se(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:ye()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],p=function(S,O){return S.I?(xe(O===void 0||typeof O=="string"),qn.fromBase64String(O||"")):(xe(O===void 0||O instanceof Uint8Array),qn.fromUint8Array(O||new Uint8Array))}(u,a.targetChange.resumeToken),m=(v=a.targetChange.cause)&&function(S){var O=S.code===void 0?L.UNKNOWN:QS(S.code);return new X(O,S.message||"")}(v);l=new ZS(f,d,p,m||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=oi(u,f.document.name),p=Nn(f.document.updateTime);var v=new er({mapValue:{fields:f.document.fields}}),b=(m=yn.newFoundDocument(d,p,v),f.targetIds||[]),_=f.removedTargetIds||[];l=new af(b,_,m.key,m)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=oi(u,f.document),p=f.readTime?Nn(f.readTime):$e.min(),v=yn.newNoDocument(d,p),m=f.removedTargetIds||[],l=new af([],m,v.key,v);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=oi(u,f.document),p=f.removedTargetIds||[],l=new af([],p,d,null);else{if(!("filter"in a))return ye();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new lM(f),p=T.targetId,l=new JS(p,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return $e.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?$e.min():a.readTime?Nn(a.readTime):$e.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=tc(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=Nf(f)?{documents:iA(u,f)}:{query:oA(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=eA(u,a.resumeToken):a.snapshotVersion.compareTo($e.min())>0&&(l.readTime=Za(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ye()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=tc(this.R),i.removeTarget=n,this.cr(i)},t}(xA),mF=function(e){function t(n,i,o,u,a){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Se(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(xe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(xe(a!==void 0),u.map(function(l){return function(f,d){var p=f.updateTime?Nn(f.updateTime):Nn(d);return p.isEqual($e.min())&&(p=Nn(d)),new uM(p,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=Nn(n.commitTime);return this.listener.Tr(o,i)}return xe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=tc(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return Pf(i.R,u)})};this.cr(o)},t}(xA),vF=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Se(t,e),t.prototype.br=function(){if(this.Rr)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new X(L.UNKNOWN,a.toString())})},t.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===L.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new X(L.UNKNOWN,a.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),yF=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Vt(n),this.Vr=!1):ne("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),wF=function(e,t,n,i,o){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(u,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return Qi(this)?(ne("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return q(this,function(p){switch(p.label){case 0:return(d=se(f)).Or.add(4),[4,Iu(d)];case 1:return p.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Cc(d)];case 2:return p.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new yF(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:if(!Qi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Iu(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Oh(e,t){var n=se(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),by(n)?wy(n):Su(n).er()&&yy(n,t))}function nc(e,t){var n=se(e),i=Su(n);n.$r.delete(t),i.er()&&NA(n,t),n.$r.size===0&&(i.er()?i.ir():Qi(n)&&n.Br.set("Unknown"))}function yy(e,t){e.qr.U(t.targetId),Su(e).mr(t)}function NA(e,t){e.qr.U(t),Su(e).yr(t)}function wy(e){e.qr=new vM({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Su(e).start(),e.Br.Sr()}function by(e){return Qi(e)&&!Su(e).tr()&&e.$r.size>0}function Qi(e){return se(e).Or.size===0}function RA(e){e.qr=void 0}function bF(e){return H(this,void 0,void 0,function(){return q(this,function(t){return e.$r.forEach(function(n,i){yy(e,n)}),[2]})})}function _F(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){return RA(e),by(e)?(e.Br.Nr(t),wy(e)):e.Br.set("Unknown"),[2]})})}function EF(e,t,n){return H(this,void 0,void 0,function(){var i,o,u;return q(this,function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof ZS&&t.state===2&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,p,m,v;return q(this,function(b){switch(b.label){case 0:d=f.cause,p=0,m=f.targetIds,b.label=1;case 1:return p<m.length?(v=m[p],l.$r.has(v)?[4,l.remoteSyncer.rejectListen(v,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(v),l.qr.removeTarget(v),b.label=3;case 3:b.label=4;case 4:return p++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),ne("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Uf(e,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof af?e.qr.X(t):t instanceof JS?e.qr.rt(t):e.qr.et(t),n.isEqual($e.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,TA(e.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(p,m){if(p.resumeToken.approximateByteSize()>0){var v=l.$r.get(m);v&&l.$r.set(m,v.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach(function(p){var m=l.$r.get(p);if(m){l.$r.set(p,m.withResumeToken(qn.EMPTY_BYTE_STRING,m.snapshotVersion)),NA(l,p);var v=new Nh(m.target,p,1,m.sequenceNumber);yy(l,v)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return ne("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,Uf(e,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Uf(e,t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:if(!Qo(t))throw t;return e.Or.add(1),[4,Iu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return TA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(u){switch(u.label){case 0:return ne("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),e.Or.delete(1),[4,Cc(e)];case 2:return u.sent(),[2]}})})}),[2]}})})}function OA(e,t){return t().catch(function(n){return Uf(e,n,t)})}function Tu(e){return H(this,void 0,void 0,function(){var t,n,i,o,u;return q(this,function(a){switch(a.label){case 0:t=se(e),n=zi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Qi(l)&&l.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,eF(t.localStore,i)];case 3:return(o=a.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=zi(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return u=a.sent(),[4,Uf(t,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return PA(t)&&DA(t),[2]}})})}function PA(e){return Qi(e)&&!zi(e).tr()&&e.Fr.length>0}function DA(e){zi(e).start()}function IF(e){return H(this,void 0,void 0,function(){return q(this,function(t){return zi(e).Ar(),[2]})})}function TF(e){return H(this,void 0,void 0,function(){var t,n,i,o;return q(this,function(u){for(t=zi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function SF(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:return i=e.Fr.shift(),o=LM.from(i,t,n),[4,OA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,Tu(e)];case 2:return u.sent(),[2]}})})}function AF(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return t&&zi(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var u,a;return q(this,function(l){switch(l.label){case 0:return YS(a=o.code)&&a!==L.ABORTED?(u=i.Fr.shift(),zi(i).sr(),[4,OA(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Tu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return PA(e)&&DA(e),[2]}})})}function jm(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=se(e),t?(n.Or.delete(2),[4,Cc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Iu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function Su(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var u=se(n);return u.br(),new gF(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:bF.bind(null,e),Ri:_F.bind(null,e),_r:EF.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),by(e)?wy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),RA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function zi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var u=se(n);return u.br(),new mF(i,u.Hi,u.credentials,u.R,o)}(e.datastore,e.asyncQueue,{Ii:IF.bind(null,e),Ri:AF.bind(null,e),Ir:TF.bind(null,e),Tr:SF.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Tu(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(ne("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var kF=function(){function e(t,n,i,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return e.createAndSchedule=function(t,n,i,o,u){var a=new e(t,n,Date.now()+i,o,u);return a.start(i),a},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Au(e,t){if(Vt("AsyncQueue",t+": "+e),Qo(e))return new X(L.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LA=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||_e.comparator(n.key,i.key)}:function(n,i){return _e.comparator(n.key,i.key)},this.keyedMap=Lm(),this.sortedSet=new wn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),fE=function(){function e(){this.Qr=new wn(_e.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):ye():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),jf=function(){function e(t,n,i,o,u,a,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new e(t,n,LA.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ic(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),CF=function(){this.Wr=void 0,this.listeners=[]},xF=function(){this.queries=new Eu(function(e){return VS(e)},Ic),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return q(this,function(d){switch(d.label){case 0:if(n=se(e),i=t.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new CF),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Au(l,"Initialization of query '"+Pm(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(t),t.zr(n.onlineState),u.Wr&&t.Hr(u.Wr)&&Iy(n),[2]}})})}function Ey(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a;return q(this,function(l){return n=se(e),i=t.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(t))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function NF(e,t){for(var n=se(e),i=!1,o=0,u=t;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,p=f.listeners;d<p.length;d++)p[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Iy(n)}function RF(e,t,n){var i=se(e),o=i.queries.get(t);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(t)}function Iy(e){e.Gr.forEach(function(t){t.next()})}var Ty=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}t=new jf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),a=!0):this.eo(t,this.onlineState)&&(this.no(t),a=!0),this.Xr=t,a},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=jf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MA=function(e){this.key=e},FA=function(e){this.key=e},UA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=pt(),this.mutatedKeys=pt(),this.lo=BS(t),this.fo=new LA(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new fE,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=sf(this.query)&&u.size===this.query.limit?u.last():null,p=Of(this.query)&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(function(v,b){var _=u.get(v),T=Tc(i.query,b)?b:null,S=!!_&&i.mutatedKeys.has(_.key),O=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),P=!1;_&&T?_.data.isEqual(T.data)?S!==O&&(o.track({type:3,doc:T}),P=!0):i.yo(_,T)||(o.track({type:2,doc:T}),P=!0,(d&&i.lo(T,d)>0||p&&i.lo(T,p)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),P=!0):_&&!T&&(o.track({type:1,doc:_}),P=!0,(d||p)&&(f=!0)),P&&(T?(l=l.add(T),a=O?a.add(v):a.delete(v)):(l=l.delete(v),a=a.delete(v)))}),sf(this.query)||Of(this.query))for(;l.size>this.query.limit;){var m=sf(this.query)?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),o.track({type:1,doc:m})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,u=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var a=t.mo.jr();a.sort(function(p,m){return function(v,b){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return _(v)-_(b)}(p.type,m.type)||o.lo(p.doc,m.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new jf(this.query,t.fo,u,a,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=pt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new FA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new MA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=pt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return jf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),OF=function(e,t,n){this.query=e,this.targetId=t,this.view=n},PF=function(e){this.key=e,this.bo=!1},DF=function(){function e(t,n,i,o,u,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new Eu(function(l){return VS(l)},Ic),this.Vo=new Map,this.So=new Set,this.Do=new wn(_e.comparator),this.Co=new Map,this.No=new my,this.xo={},this.ko=new Map,this.Fo=Lf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function LF(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l;return q(this,function(f){switch(f.label){case 0:return n=xy(e),(u=n.Po.get(t))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,Mf(n.localStore,Xr(t))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Sy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Oh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Sy(e,t,n,i){return H(this,void 0,void 0,function(){var o,u,a,l,f,d;return q(this,function(p){switch(p.label){case 0:return e.Oo=function(m,v,b){return function(_,T,S,O){return H(this,void 0,void 0,function(){var P,F,B;return q(this,function(te){switch(te.label){case 0:return P=T.view._o(S),P.Nn?[4,Ff(_.localStore,T.query,!1).then(function(j){var we=j.documents;return T.view._o(we,P)})]:[3,2];case 1:P=te.sent(),te.label=2;case 2:return F=O&&O.targetChanges.get(T.targetId),B=T.view.applyChanges(P,_.isPrimaryClient,F),[2,(Vm(_,T.targetId,B.To),B.snapshot)]}})})}(e,m,v,b)},[4,Ff(e.localStore,t,!0)];case 1:return o=p.sent(),u=new UA(t,o.Bn),a=u._o(o.documents),l=cy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=u.applyChanges(a,e.isPrimaryClient,l),Vm(e,n,f.To),d=new OF(t,n,u),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function MF(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(u){switch(u.label){case 0:return n=se(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Ic(a,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,lu(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),nc(n.remoteStore,i.targetId),fu(n,i.targetId)}).catch(Jo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return fu(n,i.targetId),[4,lu(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function FF(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return q(this,function(l){switch(l.label){case 0:i=Ny(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var p,m=se(f),v=Vn.now(),b=d.reduce(function(_,T){return _.add(T.key)},pt());return m.persistence.runTransaction("Locally write mutations","readwrite",function(_){return m.Mn.pn(_,b).next(function(T){p=T;for(var S=[],O=0,P=d;O<P.length;O++){var F=P[O],B=cM(F,p.get(F.key));B!=null&&S.push(new Yi(F.key,B,MS(B.value.mapValue),mn.exists(!0)))}return m._n.addMutationBatch(_,v,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(p),{batchId:_.batchId,changes:p}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){var m=f.xo[f.currentUser.toKey()];m||(m=new wn(ze)),m=m.insert(d,p),f.xo[f.currentUser.toKey()]=m}(i,o.batchId,n),[4,Ji(i,o.changes)];case 3:return l.sent(),[4,Tu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=Au(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function jA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:n=se(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,JM(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(xe(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?xe(l.bo):u.removedDocuments.size>0&&(xe(l.bo),l.bo=!1))}),[4,Ji(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Jo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function hE(e,t,n){var i=se(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=se(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,p){for(var m=0,v=p.listeners;m<v.length;m++)v[m].zr(a)&&(f=!0)}),f&&Iy(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function UF(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f;return q(this,function(d){switch(d.label){case 0:return(i=se(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(u=o&&o.key)?(a=(a=new wn(_e.comparator)).insert(u,yn.newNoDocument(u,$e.min())),l=pt().add(u),f=new ay($e.min(),new Map,new Xt(ze),a,l),[4,jA(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(t),Cy(i),[3,4];case 2:return[4,lu(i.localStore,t,!1).then(function(){return fu(i,t,n)}).catch(Jo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function jF(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(u){switch(u.label){case 0:n=se(e),i=t.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,QM(n.localStore,t)];case 2:return o=u.sent(),ky(n,i,null),Ay(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Ji(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Jo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function VF(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:i=se(e),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=se(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var p;return f._n.lookupMutationBatch(d,l).next(function(m){return xe(m!==null),p=m.keys(),f._n.removeMutationBatch(d,m)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,p)})})}(i.localStore,t)];case 2:return o=u.sent(),ky(i,t,n),Ay(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Ji(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Jo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function BF(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a;return q(this,function(l){switch(l.label){case 0:Qi((n=se(e)).remoteStore)||ne("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=se(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(p){return d._n.getHighestUnacknowledgedBatchId(p)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=Au(u,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function Ay(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function ky(e,t,n){var i=se(e),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function fu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var u=o[i];e.Po.delete(u),n&&e.vo.Mo(u,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(a){e.No.containsKey(a)||VA(e,a)})}function VA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(nc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Cy(e))}function Vm(e,t,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof MA?(e.No.addReference(u.key,t),qF(e,u)):u instanceof FA?(ne("SyncEngine","Document no longer in limbo: "+u.key),e.No.removeReference(u.key,t),e.No.containsKey(u.key)||VA(e,u.key)):ye()}}function qF(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(ne("SyncEngine","New document in limbo: "+n),e.So.add(i),Cy(e))}function Cy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new _e(nt.fromString(t)),i=e.Fo.next();e.Co.set(i,new PF(n)),e.Do=e.Do.insert(n,i),Oh(e.remoteStore,new Nh(Xr(Ec(n.path)),i,2,nr.o))}}function Ji(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return q(this,function(l){switch(l.label){case 0:return i=se(e),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,t,n).then(function(p){if(p){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,p.fromCache?"not-current":"current"),o.push(p);var m=XM.Pn(d.targetId,p);u.push(m)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var p,m,v,b,_,T,S,O,P;return q(this,function(F){switch(F.label){case 0:p=se(f),F.label=1;case 1:return F.trys.push([1,3,,4]),[4,p.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(B){return J.forEach(d,function(te){return J.forEach(te.bn,function(j){return p.persistence.referenceDelegate.addReference(B,te.targetId,j)}).next(function(){return J.forEach(te.vn,function(j){return p.persistence.referenceDelegate.removeReference(B,te.targetId,j)})})})})];case 2:return F.sent(),[3,4];case 3:if(!Qo(m=F.sent()))throw m;return ne("LocalStore","Failed to update sequence numbers: "+m),[3,4];case 4:for(v=0,b=d;v<b.length;v++)_=b[v],T=_.targetId,_.fromCache||(S=p.kn.get(T),O=S.snapshotVersion,P=S.withLastLimboFreeSnapshotVersion(O),p.kn=p.kn.insert(T,P));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function $F(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return(n=se(e)).currentUser.isEqual(t)?[3,3]:(ne("SyncEngine","User change. New user:",t.toKey()),[4,IA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new X(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Ji(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function HF(e,t){var n=se(e),i=n.Co.get(t);if(i&&i.bo)return pt().add(i.key);var o=pt(),u=n.Vo.get(t);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function KF(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(u){switch(u.label){case 0:return[4,Ff((n=se(e)).localStore,t.query,!0)];case 1:return i=u.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Vm(n,t.targetId,o.To),o)]}})})}function zF(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,AA((t=se(e)).localStore).then(function(i){return Ji(t,i)})]})})}function GF(e,t,n,i){return H(this,void 0,void 0,function(){var o,u;return q(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=se(l),p=se(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(m){return p.jt(m,f).next(function(v){return v?d.Mn.pn(m,v):J.resolve(null)})})}((o=se(e)).localStore,t)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Tu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(ky(o,t,i||null),Ay(o,t),function(l,f){se(se(l)._n).Gt(f)}(o.localStore,t)):ye(),a.label=4;case 4:return[4,Ji(o,u)];case 5:return a.sent(),[3,7];case 6:ne("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}})})}function WF(e,t){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return q(this,function(p){switch(p.label){case 0:return xy(n=se(e)),Ny(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,dE(n,i.toArray())]);case 1:return o=p.sent(),n.$o=!0,[4,jm(n.remoteStore,!0)];case 2:for(p.sent(),u=0,a=o;u<a.length;u++)l=a[u],Oh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(m,v){n.sharedClientState.isLocalQueryTarget(v)?f.push(v):d=d.then(function(){return fu(n,v),lu(n.localStore,v,!0)}),nc(n.remoteStore,v)}),[4,d]);case 4:return p.sent(),[4,dE(n,f)];case 5:return p.sent(),function(m){var v=se(m);v.Co.forEach(function(b,_){nc(v.remoteStore,_)}),v.No.ts(),v.Co=new Map,v.Do=new wn(_e.comparator)}(n),n.$o=!1,[4,jm(n.remoteStore,!1)];case 6:p.sent(),p.label=7;case 7:return[2]}})})}function dE(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,m,v,b,_,T,S;return q(this,function(O){switch(O.label){case 0:i=se(e),o=[],u=[],a=0,l=t,O.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(p=i.Vo.get(f))&&p.length!==0?[4,Mf(i.localStore,Xr(p[0]))]:[3,7]):[3,13];case 2:d=O.sent(),m=0,v=p,O.label=3;case 3:return m<v.length?(b=v[m],_=i.Po.get(b),[4,KF(i,_)]):[3,6];case 4:(T=O.sent()).snapshot&&u.push(T.snapshot),O.label=5;case 5:return m++,[3,3];case 6:return[3,11];case 7:return[4,SA(i.localStore,f)];case 8:return S=O.sent(),[4,Mf(i.localStore,S)];case 9:return d=O.sent(),[4,Sy(i,BA(S),f,!1)];case 10:O.sent(),O.label=11;case 11:o.push(d),O.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function BA(e){return US(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function XF(e){var t=se(e);return se(se(t.localStore).persistence).fn()}function YF(e,t,n,i){return H(this,void 0,void 0,function(){var o,u,a;return q(this,function(l){switch(l.label){case 0:return(o=se(e)).$o?(ne("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,AA(o.localStore)];case 3:return u=l.sent(),a=ay.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Ji(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,lu(o.localStore,t,!0)];case 6:return l.sent(),fu(o,t,i),[3,8];case 7:ye(),l.label=8;case 8:return[2]}})})}function QF(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,p,m,v;return q(this,function(b){switch(b.label){case 0:if(!(i=xy(e)).$o)return[3,10];o=0,u=t,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(ne("SyncEngine","Adding an already active target "+a),[3,5]):[4,SA(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,Mf(i.localStore,l)];case 3:return f=b.sent(),[4,Sy(i,BA(l),f.targetId,!1)];case 4:b.sent(),Oh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return q(this,function(T){switch(T.label){case 0:return i.Vo.has(_)?[4,lu(i.localStore,_,!1).then(function(){nc(i.remoteStore,_),fu(i,_)}).catch(Jo)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},p=0,m=n,b.label=7;case 7:return p<m.length?(v=m[p],[5,d(v)]):[3,10];case 8:b.sent(),b.label=9;case 9:return p++,[3,7];case 10:return[2]}})})}function xy(e){var t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UF.bind(null,t),t.vo._r=NF.bind(null,t.eventManager),t.vo.Mo=RF.bind(null,t.eventManager),t}function Ny(e){var t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VF.bind(null,t),t}var qA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return this.R=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return EA(this.persistence,new _A,t.initialUser,this.R)},e.prototype.qo=function(t){return new uF(cF.bs,this.R)},e.prototype.Bo=function(t){return new kA},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),$A=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Se(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,tF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Ny(this.Qo.syncEngine)];case 4:return o.sent(),[4,Tu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return EA(this.persistence,new _A,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new qM(i,n.asyncQueue)},t.prototype.qo=function(n){var i=gy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new WM(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,CA(),cf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new kA},t}(qA),JF=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Se(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return q(this,function(u){switch(u.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Kg?(this.sharedClientState.syncEngine={ui:GF.bind(null,i),ai:YF.bind(null,i),hi:QF.bind(null,i),fn:XF.bind(null,i),ci:zF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return[4,WF(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},t.prototype.Bo=function(n){var i=CA();if(!Kg.yt(i))throw new X(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=gy(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Kg(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}($A),Bm=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return hE(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$F.bind(null,this.syncEngine),[4,jm(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new xF},e.prototype.createDatastore=function(t){var n,i=Rh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new pF(n));return function(u,a,l){return new vF(u,a,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,u=function(f){return hE(l.syncEngine,f,0)},a=lE.yt()?new lE:new fF,new wF(n,i,o,u,a)},e.prototype.createSyncEngine=function(t,n){return function(i,o,u,a,l,f,d){var p=new DF(i,o,u,a,l,f);return d&&(p.$o=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=se(t),ne("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Iu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),ZF=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new X(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return H(this,void 0,void 0,function(){var l,f,d,p,m,v;return q(this,function(b){switch(b.label){case 0:return l=se(u),f=tc(l.R)+"/documents",d={documents:a.map(function(_){return ec(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return p=b.sent(),m=new Map,p.forEach(function(_){var T=function(S,O){return"found"in O?function(P,F){xe(!!F.found),F.found.name,F.found.updateTime;var B=oi(P,F.found.name),te=Nn(F.found.updateTime),j=new er({mapValue:{fields:F.found.fields}});return yn.newFoundDocument(B,te,j)}(S,O):"missing"in O?function(P,F){xe(!!F.missing),xe(!!F.readTime);var B=oi(P,F.missing),te=Nn(F.readTime);return yn.newNoDocument(B,te)}(S,O):ye()}(l.R,_);m.set(T.key.toString(),T)}),v=[],[2,(a.forEach(function(_){var T=m.get(_.toString());xe(!!T),v.push(T)}),v)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new kc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,u){var a=_e.fromPath(u);n.mutations.push(new uy(a,n.precondition(a)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var a,l,f;return q(this,function(d){switch(d.label){case 0:return a=se(o),l=tc(a.R)+"/documents",f={writes:u.map(function(p){return Pf(a.R,p)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw ye();n=$e.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new X(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?mn.updateTime(n):mn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual($e.min()))throw new X(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),eU=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new vy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return q(this,function(u){return n=new ZF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Yo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!YS(n)}return!1},e}(),tU=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=tn.UNAUTHENTICATED,this.clientId=NS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return H(o,void 0,void 0,function(){return q(this,function(a){switch(a.label){case 0:return ne("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=Au(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return q(this,function(u){switch(u.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=u.sent(),[4,t.initialize(n)];case 2:return u.sent(),i=n.initialUser,e.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,IA(t.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function KA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ry(e)];case 1:return n=o.sent(),ne("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(u){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return q(this,function(p){switch(p.label){case 0:return(f=se(a)).asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials"),d=Qi(f),f.Or.add(3),[4,Iu(f)];case 1:return p.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return p.sent(),f.Or.delete(3),[4,Cc(f)];case 3:return p.sent(),[2]}})})}(t.remoteStore,u)}),e.onlineComponents=t,[2]}})})}function Ry(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ne("FirestoreClient","Using default OfflineComponentProvider"),[4,HA(e,new qA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Dh(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ne("FirestoreClient","Using default OnlineComponentProvider"),[4,KA(e,new Bm)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function pE(e){return Ry(e).then(function(t){return t.persistence})}function zA(e){return Ry(e).then(function(t){return t.localStore})}function gE(e){return Dh(e).then(function(t){return t.remoteStore})}function GA(e){return Dh(e).then(function(t){return t.syncEngine})}function hu(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return[4,Dh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=LF.bind(null,t.syncEngine),n.onUnlisten=MF.bind(null,t.syncEngine),n)]}})})}function mE(e,t,n){var i=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return q(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,m){var v=new Ph({next:function(_){f.enqueueAndForget(function(){return Ey(l,b)});var T=_.docs.has(d);!T&&_.fromCache?m.reject(new X(L.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&p&&p.source==="server"?m.reject(new X(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new Ty(Ec(d.path),v,{includeMetadataChanges:!0,so:!0});return _y(l,b)},[4,hu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function vE(e,t,n){var i=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return q(this,function(a){switch(a.label){case 0:return u=function(l,f,d,p,m){var v=new Ph({next:function(_){f.enqueueAndForget(function(){return Ey(l,b)}),_.fromCache&&p.source==="server"?m.reject(new X(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:function(_){return m.reject(_)}}),b=new Ty(d,v,{includeMetadataChanges:!0,so:!0});return _y(l,b)},[4,hu(e)];case 1:return[2,u.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var nU=function(e,t,n,i,o,u,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},Vf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),yE=new Map,WA=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},wE=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(tn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),rU=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),iU=function(){function e(t){var n=this;this.currentUser=tn.UNAUTHENTICATED,this.oc=new $n,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){ne("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(ne("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(ne("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(xe(typeof o.accessToken=="string"),new WA(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return xe(t===null||typeof t=="string"),new tn(t)},e}(),oU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=tn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),sU=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new oU(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(tn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(e,t,n){if(!n)throw new X(L.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Py(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new X(L.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function XA(e,t,n,i){if(t===!0&&i===!0)throw new X(L.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function bE(e){if(!_e.isDocumentKey(e))throw new X(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function _E(e){if(_e.isDocumentKey(e))throw new X(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Lh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":ye()}function rt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Lh(e);throw new X(L.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function EE(e,t){if(t<=0)throw new X(L.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,XA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),rc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,t instanceof Vf?(this._databaseId=t,this._credentials=new wE):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vf(i.options.projectId)}(t),this._credentials=new iU(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new wE;switch(n.type){case"gapi":var i=n.client;return xe(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new sU(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new X(L.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=yE.get(t))&&(ne("ComponentProvider","Removing Datastore"),yE.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),kt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $i(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),or=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),$i=function(e){function t(n,i,o){var u=this;return(u=e.call(this,n,i,Ec(o))||this)._path=o,u.type="collection",u}return Se(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new kt(this.firestore,null,new _e(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=lt(e),Oy("collection","path",t),e instanceof rc)return _E(n=nt.fromString.apply(nt,It([t],i))),new $i(e,null,n);if(!(e instanceof kt||e instanceof $i))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _E(n=nt.fromString.apply(nt,It([e.path],i)).child(nt.fromString(t))),new $i(e.firestore,null,n)}function lf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=lt(e),arguments.length===1&&(t=NS.u()),Oy("doc","path",t),e instanceof rc)return bE(n=nt.fromString.apply(nt,It([t],i))),new kt(e,null,new _e(n));if(!(e instanceof kt||e instanceof $i))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return bE(n=e._path.child(nt.fromString.apply(nt,It([t],i)))),new kt(e.firestore,e instanceof $i?e.converter:null,new _e(n))}function QA(e,t){return e=lt(e),t=lt(t),(e instanceof kt||e instanceof $i)&&(t instanceof kt||t instanceof $i)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function JA(e,t){return e=lt(e),t=lt(t),e instanceof or&&t instanceof or&&e.firestore===t.firestore&&Ic(e._query,t._query)&&e.converter===t.converter}var uU=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new vy(this,"async_queue_retry"),this.Ic=function(){var i=cf();i&&ne("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new $n;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Qo(t=i.sent()))throw t;return ne("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Vt("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var u=kF.createAndSchedule(this,t,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},e.prototype.Ac=function(){this.yc&&ye()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),t!=="all"&&u.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function du(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(e)}var aU=-1,Wt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new uU,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Se(t,e),t.prototype._terminate=function(){return this._firestoreClient||ZA(this),this._firestoreClient.terminate()},t}(rc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e._firestoreClient||ZA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ZA(e){var t,n=e._freezeSettings(),i=function(o,u,a,l){return new nU(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new tU(e._credentials,e._queue,i)}function TE(e,t,n){var i=this,o=new $n;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var u;return q(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,HA(e,n)];case 1:return a.sent(),[4,KA(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===L.FAILED_PRECONDITION||l.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function SE(e){if(e._initialized||e._terminated)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),zo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(qn.fromBase64String(t))}catch(n){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(qn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Zo=function(e){this._methodName=e},Mh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return ze(this._lat,t._lat)||ze(this._long,t._long)},e}(),cU=/^__.*__$/,lU=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Yi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ac(t,this.data,n,this.fieldTransforms)},e}(),ek=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Yi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}var nk=function(){function e(t,n,i,o,u,a){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Bf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(tk(this.Nc)&&cU.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),fU=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Rh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new nk({Nc:t,methodName:n,qc:i,path:Nr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function es(e){var t=e._freezeSettings(),n=Rh(e._databaseId);return new fU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Fh(e,t,n,i,o,u){u===void 0&&(u={});var a=e.Uc(u.merge||u.mergeFields?2:0,t,n,o);Fy("Data must be an object, but it was:",a,i);var l,f,d=ok(i,a);if(u.merge)l=new Zs(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var p=[],m=0,v=u.mergeFields;m<v.length;m++){var b=qm(t,v[m],n);if(!a.contains(b))throw new X(L.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");uk(p,b)||p.push(b)}l=new Zs(p),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new lU(new er(d),l,f)}var Dy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Zo);function rk(e,t,n){return new nk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var hU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype._toFieldTransform=function(n){return new Sc(n.path,new ru)},t.prototype.isEqual=function(n){return n instanceof t},t}(Zo),dU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=rk(this,n,!0),o=this.Kc.map(function(a){return ts(a,i)}),u=new Ho(o);return new Sc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Zo),pU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=rk(this,n,!0),o=this.Kc.map(function(a){return ts(a,i)}),u=new Ko(o);return new Sc(n.path,u)},t.prototype.isEqual=function(n){return this===n},t}(Zo),gU=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=new iu(n.R,HS(n.R,this.Qc));return new Sc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(Zo);function Ly(e,t,n,i){var o=e.Uc(1,t,n);Fy("Data must be an object, but it was:",o,i);var u=[],a=er.empty();Xo(i,function(f,d){var p=Uy(t,f,n);d=lt(d);var m=o.Oc(p);if(d instanceof Dy)u.push(p);else{var v=ts(d,m);v!=null&&(u.push(p),a.set(p,v))}});var l=new Zs(u);return new ek(a,l,o.fieldTransforms)}function My(e,t,n,i,o,u){var a=e.Uc(1,t,n),l=[qm(t,i,n)],f=[o];if(u.length%2!=0)throw new X(L.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(qm(t,u[d])),f.push(u[d+1]);for(var p=[],m=er.empty(),v=l.length-1;v>=0;--v)if(!uk(p,l[v])){var b=l[v],_=f[v];_=lt(_);var T=a.Oc(b);if(_ instanceof Dy)p.push(b);else{var S=ts(_,T);S!=null&&(p.push(b),m.set(b,S))}}var O=new Zs(p);return new ek(m,O,a.fieldTransforms)}function ik(e,t,n,i){return i===void 0&&(i=!1),ts(n,e.Uc(i?4:3,t))}function ts(e,t){if(sk(e=lt(e)))return Fy("Unsupported field value:",t,e),ok(e,t);if(e instanceof Zo)return function(n,i){if(!tk(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=ts(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=lt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return HS(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Vn.fromDate(n);return{timestampValue:Za(i.R,o)}}if(n instanceof Vn)return o=new Vn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Za(i.R,o)};if(n instanceof Mh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zo)return{bytesValue:eA(i.R,n._byteString)};if(n instanceof kt){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:ly(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Lh(n))}(e,t)}function ok(e,t){var n={};return OS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xo(e,function(i,o){var u=ts(o,t.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function sk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Vn||e instanceof Mh||e instanceof zo||e instanceof kt||e instanceof Zo)}function Fy(e,t,n){if(!sk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Lh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function qm(e,t,n){if((t=lt(t))instanceof Kr)return t._internalPath;if(typeof t=="string")return Uy(e,t);throw Bf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var mU=new RegExp("[~\\*/\\[\\]]");function Uy(e,t,n){if(t.search(mU)>=0)throw Bf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Kr.bind.apply(Kr,It([void 0],t.split("."))))()._internalPath}catch{throw Bf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Bf(e,t,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new X(L.INVALID_ARGUMENT,(l+=". ")+e+f)}function uk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ic=function(){function e(t,n,i,o,u){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new kt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new vU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(qf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),vU=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ic);function qf(e,t){return typeof t=="string"?Uy(e,t):t instanceof Kr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ui=function(e){function t(n,i,o,u,a,l){var f=this;return(f=e.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Se(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Ra(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(qf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(ic),Ra=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ui),Mi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ro(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Ra(i._firestore,i._userDataWriter,o.key,o,new Ro(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Ra(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ro(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Ra(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ro(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(p=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:yU(l.type),doc:f,oldIndex:d,newIndex:p}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function yU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}function ak(e,t){return e instanceof ui&&t instanceof ui?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Mi&&t instanceof Mi&&e._firestore===t._firestore&&JA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e){if(Of(e)&&e.explicitOrderBy.length===0)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xc=function(){};function ki(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var u=o[i];e=u._apply(e)}return e}var wU=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Se(t,e),t.prototype._apply=function(n){var i=es(n.firestore),o=function(u,a,l,f,d,p,m){var v;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new X(L.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+p+"' queries on FieldPath.documentId().");if(p==="in"||p==="not-in"){NE(m,p);for(var b=[],_=0,T=m;_<T.length;_++){var S=T[_];b.push(xE(f,u,S))}v={arrayValue:{values:b}}}else v=xE(f,u,m)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||NE(m,p),v=ik(l,"where",m,p==="in"||p==="not-in");var O=rr.create(d,p,v);return function(P,F){if(F.g()){var B=oy(P);if(B!==null&&!B.isEqual(F.field))throw new X(L.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+B.toString()+"' and '"+F.field.toString()+"'");var te=iy(P);te!==null&&fk(P,F.field,te)}var j=function(we,z){for(var ie=0,k=we.filters;ie<k.length;ie++){var Xe=k[ie];if(z.indexOf(Xe.op)>=0)return Xe.op}return null}(P,function(we){switch(we){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(j!==null)throw j===F.op?new X(L.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+F.op.toString()+"' filter."):new X(L.INVALID_ARGUMENT,"Invalid query. You cannot use '"+F.op.toString()+"' filters with '"+j.toString()+"' filters.")}(u,O),O}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new or(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new di(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},t}(xc),bU=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Se(t,e),t.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new X(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Bs(u,a);return function(f,d){if(iy(f)===null){var p=oy(f);p!==null&&fk(f,p,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new or(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new di(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(xc),AE=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Se(t,e),t.prototype._apply=function(n){return new or(n.firestore,n.converter,jS(n._query,this.Hc,this.Jc))},t}(xc),kE=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Se(t,e),t.prototype._apply=function(n){var i=lk(n,this.type,this.Yc,this.Xc);return new or(n.firestore,n.converter,function(o,u){return new di(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},t}(xc),CE=function(e){function t(n,i,o){var u=this;return(u=e.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Se(t,e),t.prototype._apply=function(n){var i=lk(n,this.type,this.Yc,this.Xc);return new or(n.firestore,n.converter,function(o,u){return new di(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},t}(xc);function lk(e,t,n,i){if(n[0]=lt(n[0]),n[0]instanceof ic)return function(u,a,l,f,d){if(!f)throw new X(L.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var p=[],m=0,v=nu(u);m<v.length;m++){var b=v[m];if(b.field.isKeyField())p.push(xf(a,f.key));else{var _=f.data.field(b.field);if(ty(_))throw new X(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=b.field.canonicalString();throw new X(L.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}p.push(_)}}return new Ja(p,d)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=es(e.firestore);return function(u,a,l,f,d,p){var m=u.explicitOrderBy;if(d.length>m.length)throw new X(L.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var v=[],b=0;b<d.length;b++){var _=d[b];if(m[b].field.isKeyField()){if(typeof _!="string")throw new X(L.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!sy(u)&&_.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=u.path.child(nt.fromString(_));if(!_e.isDocumentKey(T))throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var S=new _e(T);v.push(xf(a,S))}else{var O=ik(l,f,_);v.push(O)}}return new Ja(v,p)}(e._query,e.firestore._databaseId,o,t,n,i)}function xE(e,t,n){if(typeof(n=lt(n))=="string"){if(n==="")throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sy(t)&&n.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(nt.fromString(n));if(!_e.isDocumentKey(i))throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return xf(e,new _e(i))}if(n instanceof kt)return xf(e,n._key);throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Lh(n)+".")}function NE(e,t){if(!Array.isArray(e)||e.length===0)throw new X(L.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new X(L.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function fk(e,t,n){if(!n.isEqual(t))throw new X(L.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jy=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),$o(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(eu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ye()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Xo(t.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},e.prototype.convertGeoPoint=function(t){return new Mh(Ut(t.latitude),Ut(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=DS(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ya(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Ki(t);return new Vn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=nt.fromString(t);xe(aA(i));var o=new Vf(i.get(1),i.get(3)),u=new _e(i.popFirst(5));return o.isEqual(n)||Vt("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var _U=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new zo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new kt(this.firestore,null,i)},t}(jy),EU=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=es(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Fi(t,this._firestore),u=Uh(o.converter,n,i),a=Fh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,mn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Fi(t,this._firestore);return a=typeof(n=lt(n))=="string"||n instanceof Kr?My(this._dataReader,"WriteBatch.update",l._key,n,i,o):Ly(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,mn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Fi(t,this._firestore);return this._mutations=this._mutations.concat(new kc(n._key,mn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new X(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(e,t){if((e=lt(e)).firestore!==t)throw new X(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new zo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new kt(this.firestore,null,i)},t}(jy);function RE(e,t,n){e=rt(e,kt);var i=rt(e.firestore,Wt),o=Uh(e.converter,t,n);return Nc(i,[Fh(es(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,mn.none())])}function OE(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=rt(e,kt);var u=rt(e.firestore,Wt),a=es(u);return Nc(u,[(typeof(t=lt(t))=="string"||t instanceof Kr?My(a,"updateDoc",e._key,t,n,i):Ly(a,"updateDoc",e._key,t)).toMutation(e._key,mn.exists(!0))])}function hk(e){for(var t,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];e=lt(e);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||du(o[l])||(a=o[l],l++);var f,d,p,m={includeMetadataChanges:a.includeMetadataChanges};if(du(o[l])){var v=o[l];o[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),o[l+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),o[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}if(e instanceof kt)d=rt(e.firestore,Wt),p=Ec(e._key.path),f={next:function(T){o[l]&&o[l]($m(d,e,T))},error:o[l+1],complete:o[l+2]};else{var b=rt(e,or);d=rt(b.firestore,Wt),p=b._query;var _=new Mo(d);f={next:function(T){o[l]&&o[l](new Mi(d,_,b,T))},error:o[l+1],complete:o[l+2]},ck(e._query)}return function(T,S,O,P){var F=this,B=new Ph(P),te=new Ty(S,B,O);return T.asyncQueue.enqueueAndForget(function(){return H(F,void 0,void 0,function(){var j;return q(this,function(we){switch(we.label){case 0:return j=_y,[4,hu(T)];case 1:return[2,j.apply(void 0,[we.sent(),te])]}})})}),function(){B.Wo(),T.asyncQueue.enqueueAndForget(function(){return H(F,void 0,void 0,function(){var j;return q(this,function(we){switch(we.label){case 0:return j=Ey,[4,hu(T)];case 1:return[2,j.apply(void 0,[we.sent(),te])]}})})})}}(pn(d),p,m,f)}function Nc(e,t){return function(n,i){var o=this,u=new $n;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return q(this,function(l){switch(l.label){case 0:return a=FF,[4,GA(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(pn(e),t)}function $m(e,t,n){var i=n.docs.get(t._key),o=new Mo(e);return new ui(e,o,t._key,i,new Ro(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IU=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Se(t,e),t.prototype.get=function(n){var i=this,o=Fi(n,this._firestore),u=new Mo(this._firestore);return e.prototype.get.call(this,n).then(function(a){return new ui(i._firestore,u,o._key,a._document,new Ro(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=es(t)}return e.prototype.get=function(t){var n=this,i=Fi(t,this._firestore),o=new _U(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return ye();var a=u[0];if(a.isFoundDocument())return new ic(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new ic(n._firestore,o,i._key,null,i.converter);throw ye()})},e.prototype.set=function(t,n,i){var o=Fi(t,this._firestore),u=Uh(o.converter,n,i),a=Fh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},e.prototype.update=function(t,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Fi(t,this._firestore);return a=typeof(n=lt(n))=="string"||n instanceof Kr?My(this._dataReader,"Transaction.update",l._key,n,i,o):Ly(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},e.prototype.delete=function(t){var n=Fi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(){if(typeof Uint8Array>"u")throw new X(L.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function DE(){if(typeof atob>"u")throw new X(L.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var dk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return DE(),new e(zo.fromBase64String(t))},e.fromUint8Array=function(t){return PE(),new e(zo.fromUint8Array(t))},e.prototype.toBase64=function(){return DE(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return PE(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),TU=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){SE(i=rt(i,Wt));var u=pn(i),a=i._freezeSettings(),l=new Bm;return TE(u,l,new $A(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){SE(n=rt(n,Wt));var i=pn(n),o=n._freezeSettings(),u=new Bm;return TE(i,u,new JF(u,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new X(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new $n;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var u;return q(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return uu.yt()?(f=l+"main",[4,uu.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(gy(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),pk=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Vf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||kf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=rt(o,rc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&kf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var p,m;if(typeof l.mockUserToken=="string")p=l.mockUserToken,m=tn.MOCK_USER;else{p=_T(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var v=l.mockUserToken.sub||l.mockUserToken.user_id;if(!v)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new tn(v)}o._credentials=new rU(new WA(p,m))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:return[4,pE(t)];case 1:return i=u.sent(),[4,gE(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=se(a);return l.Or.delete(0),Cc(l)}(o))]}})})})}(pn(rt(this._delegate,Wt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(u){switch(u.label){case 0:return[4,pE(t)];case 1:return i=u.sent(),[4,gE(t)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return q(this,function(f){switch(f.label){case 0:return(l=se(a)).Or.add(0),[4,Iu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(pn(rt(this._delegate,Wt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&XA("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new $n;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return q(this,function(u){switch(u.label){case 0:return o=BF,[4,GA(t)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(pn(rt(this._delegate,Wt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,u){var a=this,l=new Ph(u);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return f=function(p,m){se(p).Gr.add(m),m.next()},[4,hu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return q(this,function(d){switch(d.label){case 0:return f=function(p,m){se(p).Gr.delete(m)},[4,hu(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(pn(n=rt(n,Wt)),du(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $f(this,YA(this._delegate,t))}catch(n){throw Tn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Fo(this,lf(this._delegate,t))}catch(n){throw Tn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Bh(this,function(n,i){if(n=rt(n,rc),Oy("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new X(L.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new or(n,null,function(o){return new di(nt.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw Tn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(u,a){var l=this,f=new $n;return u.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return q(this,function(p){switch(p.label){case 0:return[4,function(m){return Dh(m).then(function(v){return v.datastore})}(u)];case 1:return d=p.sent(),new eU(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(pn(i),function(u){return o(new IU(i,u))})}(this._delegate,function(i){return t(new gk(n,i))})},e.prototype.batch=function(){var t=this;return pn(this._delegate),new mk(new EU(this._delegate,function(n){return Nc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new X(L.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new X(L.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),jh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new dk(new zo(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Fo.eu(i,this.firestore,null)},t}(jy);function SU(e){var t;t=e,kr.setLogLevel(t)}var gk=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new jh(t)}return e.prototype.get=function(t){var n=this,i=Oo(t);return this._delegate.get(i).then(function(o){return new oc(n._firestore,new ui(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Oo(t);return i?(Py("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Oo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,It([l,n,i],u)),this},e.prototype.delete=function(t){var n=Oo(t);return this._delegate.delete(n),this},e}(),mk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Oo(t);return i?(Py("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=Oo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,It([l,n,i],u)),this},e.prototype.delete=function(t){var n=Oo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Vh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Ra(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new sc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var u=o.get(n);return u||(u=new e(t,new jh(t),n),o.set(n,u)),u},e}();Vh.su=new WeakMap;var Fo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new X(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new kt(n._delegate,i,new _e(t)))},e.eu=function(t,n,i){return new e(n,new kt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $f(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new $f(this.firestore,YA(this._delegate,t))}catch(n){throw Tn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=lt(t))instanceof kt&&QA(this._delegate,t)},e.prototype.set=function(t,n){n=Py("DocumentReference.set",n);try{return n?RE(this._delegate,t,n):RE(this._delegate,t)}catch(i){throw Tn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?OE(this._delegate,t):OE.apply(void 0,It([this._delegate,t,n],i))}catch(u){throw Tn(u,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Nc(rt((t=this._delegate).firestore,Wt),[new kc(t._key,mn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=vk(n),u=yk(n,function(a){return new oc(t.firestore,new ui(t.firestore._delegate,t._userDataWriter,a._key,a._document,a.metadata,t._delegate.converter))});return hk(this._delegate,o,u)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=rt(i,kt);var o=rt(i.firestore,Wt),u=pn(o),a=new Mo(o);return function(l,f){var d=this,p=new $n;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return q(this,function(v){switch(v.label){case 0:return m=function(b,_,T){return H(this,void 0,void 0,function(){var S,O;return q(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(F,B){var te=se(F);return te.persistence.runTransaction("read document","readonly",function(j){return te.Mn.mn(j,B)})}(b,_)];case 1:return(O=P.sent()).isFoundDocument()?T.resolve(O):O.isNoDocument()?T.resolve(null):T.reject(new X(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=P.sent(),O=Au(S,"Failed to get document '"+_+" from cache"),T.reject(O),[3,3];case 3:return[2]}})})},[4,zA(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(u,i._key).then(function(l){return new ui(o,a,i._key,l,new Ro(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=rt(i,kt);var o=rt(i.firestore,Wt);return mE(pn(o),i._key,{source:"server"}).then(function(u){return $m(o,i,u)})}(this._delegate):function(i){i=rt(i,kt);var o=rt(i.firestore,Wt);return mE(pn(o),i._key).then(function(u){return $m(o,i,u)})}(this._delegate)).then(function(i){return new oc(n.firestore,new ui(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Tn(e,t,n){return e.message=e.message.replace(t,n),e}function vk(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!du(i))return i}return{}}function yk(e,t){var n,i,o;return{next:function(u){o.next&&o.next(t(u))},error:(n=(o=du(e[0])?e[0]:du(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var oc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Fo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return ak(this._delegate,t._delegate)},e}(),sc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(oc),Bh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new jh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,ki(this._delegate,function(o,u,a){var l=u,f=qf("where",o);return new wU(f,l,a)}(t,n,i)))}catch(o){throw Tn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ki(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=qf("orderBy",i);return new bU(a,u)}(t,n)))}catch(i){throw Tn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ki(this._delegate,function(n){return EE("limit",n),new AE("limit",n,"F")}(t)))}catch(n){throw Tn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ki(this._delegate,function(n){return EE("limitToLast",n),new AE("limitToLast",n,"L")}(t)))}catch(n){throw Tn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new kE("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw Tn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new kE("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw Tn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new CE("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw Tn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new CE("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw Tn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return JA(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=rt(i,or);var o=rt(i.firestore,Wt),u=pn(o),a=new Mo(o);return function(l,f){var d=this,p=new $n;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var m;return q(this,function(v){switch(v.label){case 0:return m=function(b,_,T){return H(this,void 0,void 0,function(){var S,O,P,F,B;return q(this,function(te){switch(te.label){case 0:return te.trys.push([0,2,,3]),[4,Ff(b,_,!0)];case 1:return B=te.sent(),S=new UA(_,B.Bn),O=S._o(B.documents),P=S.applyChanges(O,!1),T.resolve(P.snapshot),[3,3];case 2:return F=te.sent(),B=Au(F,"Failed to execute query '"+_+" against cache"),T.reject(B),[3,3];case 3:return[2]}})})},[4,zA(l)];case 1:return[2,m.apply(void 0,[v.sent(),f,p])]}})})}),p.promise}(u,i._query).then(function(l){return new Mi(o,a,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=rt(i,or);var o=rt(i.firestore,Wt),u=pn(o),a=new Mo(o);return vE(u,i._query,{source:"server"}).then(function(l){return new Mi(o,a,i,l)})}(this._delegate):function(i){i=rt(i,or);var o=rt(i.firestore,Wt),u=pn(o),a=new Mo(o);return ck(i._query),vE(u,i._query).then(function(l){return new Mi(o,a,i,l)})}(this._delegate)).then(function(i){return new Hm(n.firestore,new Mi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=vk(n),u=yk(n,function(a){return new Hm(t.firestore,new Mi(t.firestore._delegate,t._userDataWriter,t._delegate,a._snapshot))});return hk(this._delegate,o,u)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Vh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),AU=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new sc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Hm=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new Bh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new sc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new AU(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new sc(i._firestore,o))})},e.prototype.isEqual=function(t){return ak(this._delegate,t._delegate)},e}(),$f=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Se(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Fo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Fo(this.firestore,n===void 0?lf(this._delegate):lf(this._delegate,n))}catch(i){throw Tn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,u){var a=rt(o.firestore,Wt),l=lf(o),f=Uh(o.converter,u);return Nc(a,[Fh(es(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,mn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Fo(i.firestore,o)})},t.prototype.isEqual=function(n){return QA(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Vh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(Bh);function Oo(e){return rt(e,kt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kU=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Kr.bind.apply(Kr,It([void 0],t)))}return e.documentId=function(){return new e(Nr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=lt(t))instanceof Kr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),CU=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new hU("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Dy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new dU("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new pU("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new gU("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),xU={Firestore:pk,GeoPoint:Mh,Timestamp:Vn,Blob:dk,Transaction:gk,WriteBatch:mk,DocumentReference:Fo,DocumentSnapshot:oc,Query:Bh,QueryDocumentSnapshot:sc,QuerySnapshot:Hm,CollectionReference:$f,FieldPath:kU,FieldValue:CU,setLogLevel:SU,CACHE_SIZE_UNLIMITED:aU};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(e){(function(t,n){t.INTERNAL.registerComponent(new fc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},xU)))})(e,function(t,n){return new pk(t,new Wt(t,n),new TU)}),e.registerVersion("@firebase/firestore","2.4.1")}NU(Ae);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wk="firebasestorage.googleapis.com",bk="storageBucket",RU=2*60*1e3,OU=10*60*1e3,$t=function(e){Se(t,e);function t(n,i){var o=e.call(this,zg(n),"Firebase Storage: "+i+" ("+zg(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return zg(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(IT);function zg(e){return"storage/"+e}function Vy(){var e="An unknown error occurred, please check the error payload for server response.";return new $t("unknown",e)}function PU(e){return new $t("object-not-found","Object '"+e+"' does not exist.")}function DU(e){return new $t("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function LU(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t("unauthenticated",e)}function MU(){return new $t("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function FU(e){return new $t("unauthorized","User does not have permission to access '"+e+"'.")}function UU(){return new $t("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function _k(){return new $t("canceled","User canceled the upload/download.")}function jU(e){return new $t("invalid-url","Invalid URL '"+e+"'.")}function VU(e){return new $t("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function BU(){return new $t("no-default-bucket","No default bucket found. Did you set the '"+bk+"' property when initializing the app?")}function Ek(){return new $t("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function qU(){return new $t("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function $U(){return new $t("no-download-url","The given file does not have any download URLs.")}function qs(e){return new $t("invalid-argument",e)}function Ik(){return new $t("app-deleted","The Firebase app was deleted.")}function Tk(e){return new $t("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oa(e,t){return new $t("invalid-format","String does not match format '"+e+"': "+t)}function Wl(e){throw new $t("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Gg=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Sk(e,t){switch(e){case dr.RAW:return new Gg(Ak(t));case dr.BASE64:case dr.BASE64URL:return new Gg(kk(e,t));case dr.DATA_URL:return new Gg(zU(t),GU(t))}throw Vy()}function Ak(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var u=i,a=e.charCodeAt(++n);i=65536|(u&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function KU(e){var t;try{t=decodeURIComponent(e)}catch{throw Oa(dr.DATA_URL,"Malformed data URL.")}return Ak(t)}function kk(e,t){switch(e){case dr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Oa(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case dr.BASE64URL:{var u=t.indexOf("+")!==-1,a=t.indexOf("/")!==-1;if(u||a){var o=u?"+":"/";throw Oa(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=HU(t)}catch{throw Oa(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var Ck=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Oa(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=WU(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function zU(e){var t=new Ck(e);return t.base64?kk(dr.BASE64,t.rest):KU(t.rest)}function GU(e){var t=new Ck(e);return t.contentType}function WU(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XU={STATE_CHANGED:"state_changed"},Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Wg(e){switch(e){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;case"error":return Sn.ERROR;default:return Sn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YU=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Uo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Uo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw Wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Wl("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Wl("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function QU(){return new YU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JU=function(){function e(){}return e.prototype.createConnection=function(){return QU()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw VU(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function u(ie){ie.path.charAt(ie.path.length-1)==="/"&&(ie.path_=ie.path_.slice(0,-1))}var a="(/(.*))?$",l=new RegExp("^gs://"+o+a,"i"),f={bucket:1,path:3};function d(ie){ie.path_=decodeURIComponent(ie.path)}for(var p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",b=new RegExp("^https?://"+m+"/"+p+"/b/"+o+"/o"+v,"i"),_={bucket:1,path:3},T=n===wk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",O=new RegExp("^https?://"+T+"/"+o+"/"+S,"i"),P={bucket:1,path:2},F=[{regex:l,indices:f,postModify:u},{regex:b,indices:_,postModify:d},{regex:O,indices:P,postModify:d}],B=0;B<F.length;B++){var te=F[B],j=te.regex.exec(t);if(j){var we=j[te.indices.bucket],z=j[te.indices.path];z||(z=""),i=new e(we,z),te.postModify(i);break}}if(i==null)throw jU(t);return i},e}(),ZU=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(e,t,n){var i=1,o=null,u=!1,a=0;function l(){return a===2}var f=!1;function d(){for(var _=[],T=0;T<arguments.length;T++)_[T]=arguments[T];f||(f=!0,t.apply(null,_))}function p(_){o=setTimeout(function(){o=null,e(m,l())},_)}function m(_){for(var T=[],S=1;S<arguments.length;S++)T[S-1]=arguments[S];if(!f){if(_){d.call.apply(d,It([null,_],T));return}var O=l()||u;if(O){d.call.apply(d,It([null,_],T));return}i<64&&(i*=2);var P;a===1?(a=2,P=0):P=(i+Math.random())*1e3,p(P)}}var v=!1;function b(_){v||(v=!0,!f&&(o!==null?(_||(a=2),clearTimeout(o),p(0)):_||(a=1)))}return p(0),setTimeout(function(){u=!0,b(!0)},n),b}function tj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(e){return e!==void 0}function rj(e){return typeof e=="function"}function ij(e){return typeof e=="object"&&!Array.isArray(e)}function qh(e){return typeof e=="string"||e instanceof String}function LE(e){return By()&&e instanceof Blob}function By(){return typeof Blob<"u"}function Km(e,t,n,i){if(i<t)throw qs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw qs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function xk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj=function(){function e(t,n,i,o,u,a,l,f,d,p,m){var v=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=u.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=p,this.timeout_=d,this.pool_=m,this.promise_=new Promise(function(b,_){v.resolve_=b,v.reject_=_,v.start_()})}return e.prototype.start_=function(){var t=this;function n(o,u){if(u){o(!1,new Xl(!1,null,!0));return}var a=t.pool_.createConnection();t.pendingConnection_=a;function l(f){var d=f.loaded,p=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,p)}t.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&a.removeUploadProgressListener(l),t.pendingConnection_=null;var f=a.getErrorCode()===Uo.NO_ERROR,d=a.getStatus();if(!f||t.isRetryStatusCode_(d)){var p=a.getErrorCode()===Uo.ABORT;o(!1,new Xl(!1,null,p));return}var m=t.successCodes_.indexOf(d)!==-1;o(!0,new Xl(m,a))})}function i(o,u){var a=t.resolve_,l=t.reject_,f=u.connection;if(u.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());nj(d)?a(d):a()}catch(m){l(m)}else if(f!==null){var p=Vy();p.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,p)):l(p)}else if(u.canceled){var p=t.appDelete_?Ik():_k();l(p)}else{var p=UU();l(p)}}this.canceled_?i(!1,new Xl(!1,null,!0)):this.backoffId_=ej(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&tj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,u=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||u},e}(),Xl=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function sj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function uj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function aj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function cj(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function lj(e,t,n,i,o,u){var a=xk(e.urlParams),l=e.url+a,f=Object.assign({},e.headers);return aj(f,t),sj(f,n),uj(f,u),cj(f,i),new oj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function hj(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=fj();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(By())return new Blob(e);throw new $t("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function dj(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qy=function(){function e(t,n){var i=0,o="";LE(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(LE(this.data_)){var i=this.data_,o=dj(i,t,n);return o===null?null:new e(o)}else{var u=new Uint8Array(this.data_.buffer,t,n-t);return new e(u,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(By()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(hj.apply(null,i))}else{var o=t.map(function(f){return qh(f)?Sk(dr.RAW,f).data:f.data_}),u=0;o.forEach(function(f){u+=f.byteLength});var a=new Uint8Array(u),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)a[l++]=f[d]}),new e(a,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(e){var t;try{t=JSON.parse(e)}catch{return null}return ij(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function gj(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function Nk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(e,t){return t}var En=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||mj}return e}(),Yl=null;function vj(e){return!qh(e)||e.length<2?e:Nk(e)}function $h(){if(Yl)return Yl;var e=[];e.push(new En("bucket")),e.push(new En("generation")),e.push(new En("metageneration")),e.push(new En("name","fullPath",!0));function t(u,a){return vj(a)}var n=new En("name");n.xform=t,e.push(n);function i(u,a){return a!==void 0?Number(a):a}var o=new En("size");return o.xform=i,e.push(o),e.push(new En("timeCreated")),e.push(new En("updated")),e.push(new En("md5Hash",null,!0)),e.push(new En("cacheControl",null,!0)),e.push(new En("contentDisposition",null,!0)),e.push(new En("contentEncoding",null,!0)),e.push(new En("contentLanguage",null,!0)),e.push(new En("contentType",null,!0)),e.push(new En("metadata","customMetadata",!0)),Yl=e,Yl}function yj(e,t){function n(){var i=e.bucket,o=e.fullPath,u=new pr(i,o);return t._makeStorageReference(u)}Object.defineProperty(e,"ref",{get:n})}function wj(e,t,n){var i={};i.type="file";for(var o=n.length,u=0;u<o;u++){var a=n[u];i[a.local]=a.xform(i,t[a.server])}return yj(i,e),i}function Rk(e,t,n){var i=$y(t);if(i===null)return null;var o=i;return wj(e,o,n)}function bj(e,t,n){var i=$y(t);if(i===null||!qh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var u=encodeURIComponent,a=o.split(","),l=a.map(function(f){var d=e.bucket,p=e.fullPath,m="/b/"+u(d)+"/o/"+u(p),v=Zi(m,n),b=xk({alt:"media",token:f});return v+b});return l[0]}function Hy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var u=t[o];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ME="prefixes",FE="items";function _j(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[ME])for(var o=0,u=n[ME];o<u.length;o++){var a=u[o],l=a.replace(/\/$/,""),f=e._makeStorageReference(new pr(t,l));i.prefixes.push(f)}if(n[FE])for(var d=0,p=n[FE];d<p.length;d++){var m=p[d],f=e._makeStorageReference(new pr(t,m.name));i.items.push(f)}return i}function Ej(e,t,n){var i=$y(n);if(i===null)return null;var o=i;return _j(e,t,o)}var pi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(e){if(!e)throw Vy()}function Hh(e,t){function n(i,o){var u=Rk(e,o,t);return zr(u!==null),u}return n}function Ij(e,t){function n(i,o){var u=Ej(e,t,o);return zr(u!==null),u}return n}function Tj(e,t){function n(i,o){var u=Rk(e,o,t);return zr(u!==null),bj(u,o,e.host)}return n}function ku(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=MU():o=LU():n.getStatus()===402?o=DU(e.bucket):n.getStatus()===403?o=FU(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Kh(e){var t=ku(e);function n(i,o){var u=t(i,o);return i.getStatus()===404&&(u=PU(e.path)),u.serverResponse=o.serverResponse,u}return n}function Ok(e,t,n){var i=t.fullServerUrl(),o=Zi(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new pi(o,u,Hh(e,n),a);return l.errorHandler=Kh(t),l}function Sj(e,t,n,i,o){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),i&&(u.pageToken=i),o&&(u.maxResults=o);var a=t.bucketOnlyServerUrl(),l=Zi(a,e.host),f="GET",d=e.maxOperationRetryTime,p=new pi(l,f,Ij(e,t.bucket),d);return p.urlParams=u,p.errorHandler=ku(t),p}function Aj(e,t,n){var i=t.fullServerUrl(),o=Zi(i,e.host),u="GET",a=e.maxOperationRetryTime,l=new pi(o,u,Tj(e,n),a);return l.errorHandler=Kh(t),l}function kj(e,t,n,i){var o=t.fullServerUrl(),u=Zi(o,e.host),a="PATCH",l=Hy(n,i),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,p=new pi(u,a,Hh(e,i),d);return p.headers=f,p.body=l,p.errorHandler=Kh(t),p}function Cj(e,t){var n=t.fullServerUrl(),i=Zi(n,e.host),o="DELETE",u=e.maxOperationRetryTime;function a(f,d){}var l=new pi(i,o,a,u);return l.successCodes=[200,204],l.errorHandler=Kh(t),l}function xj(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Pk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=xj(null,t)),i}function Nj(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var F="",B=0;B<2;B++)F=F+Math.random().toString().slice(2);return F}var f=l();a["Content-Type"]="multipart/related; boundary="+f;var d=Pk(t,i,o),p=Hy(d,n),m="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,v=`\r
--`+f+"--",b=qy.getBlob(m,i,v);if(b===null)throw Ek();var _={name:d.fullPath},T=Zi(u,e.host),S="POST",O=e.maxUploadRetryTime,P=new pi(T,S,Hh(e,n),O);return P.urlParams=_,P.headers=a,P.body=b.uploadData(),P.errorHandler=ku(t),P}var Hf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function Ky(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{zr(!1)}var i=t||["active"];return zr(!!n&&i.indexOf(n)!==-1),n}function Rj(e,t,n,i,o){var u=t.bucketOnlyServerUrl(),a=Pk(t,i,o),l={name:a.fullPath},f=Zi(u,e.host),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},m=Hy(a,n),v=e.maxUploadRetryTime;function b(T){Ky(T);var S;try{S=T.getResponseHeader("X-Goog-Upload-URL")}catch{zr(!1)}return zr(qh(S)),S}var _=new pi(f,d,b,v);return _.urlParams=l,_.headers=p,_.body=m,_.errorHandler=ku(t),_}function Oj(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function u(d){var p=Ky(d,["active","final"]),m=null;try{m=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zr(!1)}m||zr(!1);var v=Number(m);return zr(!isNaN(v)),new Hf(v,i.size(),p==="final")}var a="POST",l=e.maxUploadRetryTime,f=new pi(n,a,u,l);return f.headers=o,f.errorHandler=ku(t),f}var UE=256*1024;function Pj(e,t,n,i,o,u,a,l){var f=new Hf(0,0);if(a?(f.current=a.current,f.total=a.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw qU();var d=f.total-f.current,p=d;o>0&&(p=Math.min(p,o));var m=f.current,v=m+p,b=p===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":b,"X-Goog-Upload-Offset":""+f.current},T=i.slice(m,v);if(T===null)throw Ek();function S(B,te){var j=Ky(B,["active","final"]),we=f.current+p,z=i.size(),ie;return j==="final"?ie=Hh(t,u)(B,te):ie=null,new Hf(we,z,j==="final",ie)}var O="POST",P=t.maxUploadRetryTime,F=new pi(n,O,S,P);return F.headers=_,F.body=T.uploadData(),F.progressCallback=l||null,F.errorHandler=ku(e),F}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj=function(){function e(t,n,i){var o=rj(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=$h(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(u){o._request=void 0,o._chunkMultiplier=1,u._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=u,o._transition("error"))},this._metadataErrorHandler=function(u){o._request=void 0,u._codeEquals("canceled")?o.completeTransitions_():(o._error=u,o._transition("error"))},this._promise=new Promise(function(u,a){o._resolve=u,o._reject=a,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],u=i[1];switch(n._state){case"running":t(o,u);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=Rj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._uploadUrl=a,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var u=Oj(t._ref.storage,t._ref._location,n,t._blob),a=t._ref.storage._makeRequest(u,i,o);t._request=a,a.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=UE*this._chunkMultiplier,i=new Hf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(u,a){var l;try{l=Pj(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,u,a);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=UE*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=Ok(t._ref.storage,t._ref._location,t._mappings),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=Nj(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),u=t._ref.storage._makeRequest(o,n,i);t._request=u,u.getPromise().then(function(a){t._request=void 0,t._metadata=a,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=_k(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=Wg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var u=this,a=new Dj(n,i,o);return this._addObserver(a),function(){u._removeObserver(a)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(Wg(this._state)){case Sn.SUCCESS:xs(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:var n=this._reject;xs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=Wg(this._state);switch(n){case Sn.RUNNING:case Sn.PAUSED:t.next&&xs(t.next.bind(t,this.snapshot))();break;case Sn.SUCCESS:t.complete&&xs(t.complete.bind(t))();break;case Sn.CANCELED:case Sn.ERROR:t.error&&xs(t.error.bind(t,this._error))();break;default:t.error&&xs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zh=function(){function e(t,n){this._service=t,n instanceof pr?this._location=n:this._location=pr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new pr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Nk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=pj(this._location.path);if(t===null)return null;var n=new pr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Tk(t)},e}();function Lj(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Dk(e,new qy(t),n)}function Mj(e){var t={prefixes:[],items:[]};return Lk(e,t).then(function(){return t})}function Lk(e,t,n){return H(this,void 0,void 0,function(){var i,o,u,a;return q(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Mk(e,i)];case 1:return o=l.sent(),(u=t.prefixes).push.apply(u,o.prefixes),(a=t.items).push.apply(a,o.items),o.nextPageToken==null?[3,3]:[4,Lk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Mk(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Km("options.maxResults",1,1e3,t.maxResults),n=t||{},i=Sj(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function Fj(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Ok(e.storage,e._location,$h()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Uj(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=kj(e.storage,e._location,t,$h()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function jj(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=Aj(e.storage,e._location,$h()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw $U();return i})]}})})}function Vj(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=Cj(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Fk(e,t){var n=gj(e._location.path,t),i=new pr(e._location.bucket,n);return new zh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(e){return/^[A-Za-z]+:\/\//.test(e)}function Bj(e,t){return new zh(e,t)}function Uk(e,t){if(e instanceof Gh){var n=e;if(n._bucket==null)throw BU();var i=new zh(n,n._bucket);return t!=null?Uk(i,t):i}else return t!==void 0?Fk(e,t):e}function qj(e,t){if(t&&zm(t)){if(e instanceof Gh)return Bj(e,t);throw qs("To use ref(service, url), the first argument must be a Storage instance.")}else return Uk(e,t)}function jE(e,t){var n=t==null?void 0:t[bk];return n==null?null:pr.makeFromBucketSpec(n,e)}function $j(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:_T(o,e.app.options.projectId))}var Gh=function(){function e(t,n,i,o,u,a){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=u,this._firebaseVersion=a,this._bucket=null,this._host=wk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RU,this._maxUploadRetryTime=OU,this._requests=new Set,u!=null?this._bucket=pr.makeFromBucketSpec(u,this._host):this._bucket=jE(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=pr.makeFromBucketSpec(this._url,t):this._bucket=jE(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Km("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Km("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new zh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new ZU(Ik());var u=lj(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(function(){return o._requests.delete(u)},function(){return o._requests.delete(u)}),u},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(u){switch(u.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=u.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(e,t,n){return e=lt(e),Lj(e,t,n)}function Kj(e){return e=lt(e),Fj(e)}function zj(e,t){return e=lt(e),Uj(e,t)}function Gj(e,t){return e=lt(e),Mk(e,t)}function Wj(e){return e=lt(e),Mj(e)}function Xj(e){return e=lt(e),jj(e)}function Yj(e){return e=lt(e),Vj(e)}function VE(e,t){return e=lt(e),qj(e,t)}function Qj(e,t){return Fk(e,t)}function Jj(e,t,n,i){i===void 0&&(i={}),$j(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BE=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Ql(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new Ql(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var u=this,a=void 0;return n&&(typeof n=="function"?a=function(l){return n(new Ql(l,u,u._ref))}:a={next:n.next?function(l){return n.next(new Ql(l,u,u._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,a,i||void 0,o||void 0)},e}(),qE=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new uc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new uc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=Qj(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new BE(Hj(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=dr.RAW),this._throwIfRoot("putString");var o=Sk(n,t),u=Xs({},i);return u.contentType==null&&o.contentType!=null&&(u.contentType=o.contentType),new BE(new Dk(this._delegate,new qy(o.data,!0),u),this)},e.prototype.listAll=function(){var t=this;return Wj(this._delegate).then(function(n){return new qE(n,t.storage)})},e.prototype.list=function(t){var n=this;return Gj(this._delegate,t||void 0).then(function(i){return new qE(i,n.storage)})},e.prototype.getMetadata=function(){return Kj(this._delegate)},e.prototype.updateMetadata=function(t){return zj(this._delegate,t)},e.prototype.getDownloadURL=function(){return Xj(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),Yj(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Tk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zj=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(zm(t))throw qs("ref() expected a child path but got a URL, use refFromURL instead.");return new uc(VE(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!zm(t))throw qs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pr.makeFromUrl(t,this._delegate.host)}catch{throw qs("refFromUrl() expected a valid full URL but got an invalid one.")}return new uc(VE(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),Jj(this._delegate,t,n,i)},e}(),eV="@firebase/storage",tV="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nV="storage";function rV(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal"),a=new Zj(i,new Gh(i,o,u,new JU,n,Ae.SDK_VERSION));return a}function iV(e){var t={TaskState:Sn,TaskEvent:XU,StringFormat:dr,Storage:Gh,Reference:uc};e.INTERNAL.registerComponent(new fc(nV,rV,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(eV,tV)}iV(Ae);const oV={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};Ae.initializeApp(oV);const sr=Ae.auth(),zy=Ae.firestore(),jk=Ae.storage(),sV=zy.collection("users"),ai=zy.collection("songs"),$E=zy.collection("comments"),Cu=Sv("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await sr.createUserWithEmailAndPassword(e.email,e.password),n={name:e.name,email:e.email,birthdate:e.birthdate,country:e.country,phone:e.phone};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]===null||n[i]==="")&&delete n[i]}),await sV.doc(t.user.uid).set({userData:n}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await sr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await sr.signOut(),this.userLoggedIn=!1}}}),Kn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},uV={name:"AppHeader",computed:{...BD(mf,Cu),...Av(mf,["isOpen"])},methods:{toggleAuthModal(){this.isOpen=!this.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},aV={id:"header",class:"fixed top-0 z-50 w-full font-circular-black bg-neutral-900"},cV={class:"flex items-center justify-between py-5 px-10"},lV={class:"flex flex-row gap-2 items-center text-white text-sm"},fV={class:"md:hover:scale-105"},hV=C("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[C("path",{fill:"#1ED760","fill-rule":"evenodd",d:"M19.0983701,10.6382791 C15.230178,8.34118115 8.85003755,8.12986439 5.15729493,9.25058527 C4.56433588,9.43062856 3.93727638,9.09580812 3.75758647,8.50284907 C3.57789655,7.90953664 3.91236362,7.28283051 4.50585273,7.10261054 C8.74455585,5.81598127 15.7909802,6.06440214 20.2440037,8.70780512 C20.7774195,9.02442687 20.9525156,9.71332656 20.6362472,10.2456822 C20.3198021,10.779098 19.6305491,10.9549008 19.0983701,10.6382791 M18.971686,14.0407262 C18.7004726,14.4810283 18.1246521,14.6190203 17.6848801,14.3486903 C14.4600027,12.3664473 9.54264764,11.792217 5.72728477,12.9503953 C5.23256328,13.0998719 4.70992535,12.8208843 4.55974204,12.3270462 C4.41061884,11.8323247 4.68978312,11.3107469 5.18362118,11.1602103 C9.5419409,9.83771368 14.9600247,10.4782013 18.6638986,12.7544503 C19.1036707,13.0253103 19.242016,13.6013075 18.971686,14.0407262 M17.5034233,17.308185 C17.2876894,17.6617342 16.827245,17.7725165 16.4749326,17.5571359 C13.6571403,15.8347984 10.1101639,15.4459119 5.93312425,16.4000177 C5.53063298,16.4922479 5.12937851,16.2399399 5.03767834,15.8376253 C4.94544812,15.4351341 5.19669597,15.0338796 5.60024736,14.9420027 C10.1712973,13.8970803 14.0923186,14.3467468 17.2551791,16.2796943 C17.6078449,16.4948982 17.7189805,16.9556959 17.5034233,17.308185 M12,0 C5.37267547,0 0,5.37249879 0,11.9998233 C0,18.6278546 5.37267547,24 12,24 C18.6275012,24 24,18.6278546 24,11.9998233 C24,5.37249879 18.6275012,0 12,0"})],-1),dV=C("span",{class:"hidden md:block"},"About",-1),pV={class:"md:hover:scale-105"},gV=C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),mV={class:"md:hover:scale-105"},vV=C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),yV=C("span",{class:"hidden md:block"},"Login/Register",-1),wV=[vV,yV],bV=C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),_V=C("span",{class:"hidden md:block"},"Logout",-1),EV=[bV,_V],IV=C("div",null,null,-1),TV=C("li",{class:"md:hover:scale-105"},[C("a",{class:"",href:"https://www.spotify.com/es/download/",target:"_blank"},[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1);function SV(e,t,n,i,o,u){const a=wt("RouterLink");return We(),it("header",aV,[C("nav",cV,[Ie(a,{class:"text-[#1ed760] font-circular-regular text-2xl justify-center hover:scale-105",to:{name:"home"},"exact-active-class":"no-active"},{default:tr(()=>[un(" Musicfy ")]),_:1}),C("ul",lV,[C("li",fV,[Ie(a,{class:"flex items-center gap-1",to:{name:"about"}},{default:tr(()=>[hV,dV]),_:1})]),om(C("li",pV,[Ie(a,{class:"",to:{name:"manage"}},{default:tr(()=>[gV]),_:1})],512),[[dm,e.userStore.userLoggedIn]]),C("li",mV,[e.userStore.userLoggedIn?(We(),it("a",{key:1,class:"flex gap-1 items-center",href:"#",onClick:t[1]||(t[1]=hn(l=>u.signOut(),["prevent"]))},EV)):(We(),it("a",{key:0,class:"flex items-center",href:"#",onClick:t[0]||(t[0]=hn((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"]))},wV)),IV]),TV])])])}const AV=Kn(uV,[["render",SV]]),kV={name:"LoginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},togglePassword:!1,login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Your account is being created. "}},methods:{...hh(Cu,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.login_alert_variant="bg-[#1ed760]",this.login_alert_msg="Success! Login completed.",window.location.reload()}}},CV={class:"mb-3"},xV=C("label",{class:"inline-block mb-2"},"Email",-1),NV={class:"mb-3"},RV=C("label",{class:"inline-block mb-2"},"Password",-1),OV={class:"flex items-center"},PV=["type"],DV=["disabled"];function LV(e,t,n,i,o,u){const a=wt("VeeField"),l=wt("ErrorMessage"),f=wt("VeeForm");return We(),it(zt,null,[o.login_show_alert?(We(),it("div",{key:0,class:jt(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},Dt(o.login_alert_msg),3)):Ba("",!0),Ie(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:u.login},{default:tr(()=>[C("div",CV,[xV,Ie(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"your@email.com",autocomplete:"email"}),Ie(l,{class:"text-red-600 block",name:"email"})]),C("div",NV,[RV,Ie(a,{name:"password",bails:!1},{default:tr(({field:d,errors:p})=>[C("div",OV,[C("input",qa(d,{type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"Password",autocomplete:"current-password"}),null,16,PV),C("i",{onClick:t[0]||(t[0]=m=>o.togglePassword=!o.togglePassword),class:jt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),Ie(l,qa(p,{class:"text-red-600 block",name:"password"}),null,16)]),_:1})]),C("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,DV)]),_:1},8,["validation-schema","onSubmit"])],64)}const MV=Kn(kV,[["render",LV]]),FV={name:"RegisterForm",data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},togglePassword:!1,toggleConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_success_msg:"Success! Your account has been created.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500",reg_success_variant:"bg-[#1ed760]"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(e){this.initRegisterAlert();try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.reg_alert_variant=this.reg_success_variant,this.reg_alert_msg=this.reg_success_msg,this.$router.push({name:"home"})},...hh(Cu,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},UV={class:""},jV=C("label",{class:"select-none group"},[un("Name "),C("sup",{class:""},"*"),C("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),VV={class:""},BV=C("label",{class:"select-none group"},[un("Email "),C("sup",{class:""},"*"),C("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),qV={class:""},$V=C("label",{class:"select-none"},"Phone",-1),HV={class:""},KV=C("label",{class:"select-none group"},[un("Birthdate "),C("sup",{class:""},"*"),C("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),zV={class:""},GV=C("label",{class:"select-none group"},[un("Password "),C("sup",{class:""},"*"),C("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),WV={class:"flex items-center"},XV=["type"],YV={class:""},QV=C("label",{class:"select-none group"},[un("Confirm Password "),C("sup",{class:""},"*"),C("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),JV={class:"flex items-center"},ZV=["type"],e3={class:""},t3=C("label",{class:"select-none group"},[un("Country "),C("sup",{class:""},"*"),C("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),n3=C("option",{value:"Argentina"},"Argentina",-1),r3=C("option",{value:"United States"},"United States",-1),i3=C("option",{value:"Spain"},"Spain",-1),o3=C("option",{value:"Germany"},"Germany",-1),s3=C("option",{value:"Antarctica"},"Antarctica",-1),u3=C("option",{value:"Other"},"Other",-1),a3={class:"mb-3 pl-6"},c3={class:"inline-block hover:cursor-pointer"},l3=C("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function f3(e,t,n,i,o,u){const a=wt("VeeField"),l=wt("ErrorMessage"),f=wt("VeeForm");return We(),it(zt,null,[o.reg_show_alert?(We(),it("div",{key:0,class:jt(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Dt(o.reg_alert_msg),3)):Ba("",!0),Ie(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:u.register,"initial-values":o.userData},{default:tr(()=>[C("div",UV,[jV,Ie(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),Ie(l,{class:"text-red-600",name:"name"})]),C("div",VV,[BV,Ie(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),Ie(l,{class:"text-red-600",name:"email"})]),C("div",qV,[$V,Ie(a,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your phone"}),Ie(l,{class:"text-red-600",name:"phone"})]),C("div",HV,[KV,Ie(a,{name:"birthdate",type:"date",min:"1900-01-01",max:u.maxBirthdate,class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),Ie(l,{class:"text-red-600",name:"birthdate"})]),C("div",zV,[GV,Ie(a,{name:"password",bails:!1},{default:tr(({field:d,errors:p})=>[C("div",WV,[C("input",qa(d,{placeholder:"Enter new Password",type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,XV),C("i",{onClick:t[0]||(t[0]=m=>o.togglePassword=!o.togglePassword),class:jt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),(We(!0),it(zt,null,lc(p,m=>(We(),it("div",{class:"text-red-600",key:m},Dt(m),1))),128))]),_:1})]),C("div",YV,[QV,Ie(a,{name:"confirmPassword",bails:!1},{default:tr(({field:d})=>[C("div",JV,[C("input",qa(d,{type:o.toggleConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),null,16,ZV),C("i",{onClick:t[1]||(t[1]=p=>o.toggleConfirmPassword=!o.toggleConfirmPassword),class:jt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.toggleConfirmPassword,"fa-regular fa-eye":!o.toggleConfirmPassword}])},null,2)])]),_:1}),Ie(l,{class:"text-red-600",name:"confirmPassword"})]),C("div",e3,[t3,Ie(a,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:tr(()=>[n3,r3,i3,o3,s3,u3]),_:1}),Ie(l,{class:"text-red-600",name:"country"})]),C("div",a3,[C("label",c3,[Ie(a,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),un(" Accept terms of service")]),Ie(l,{class:"text-red-600 block",name:"tos"})]),l3]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const h3=Kn(FV,[["render",f3]]),d3={name:"AppAuth",components:{AppLoginForm:MV,AppRegisterForm:h3},data(){return{tab:"login"}},computed:{...fh(mf,["hiddenClass"]),...Av(mf,{modalVisibility:"isOpen"})},methods:{}},p3={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},g3=C("div",{class:"fixed inset-0 transition-opacity"},[C("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),m3=C("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),v3={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},y3={class:"py-4 text-left px-6"},w3={class:"flex justify-between items-center pb-4"},b3=C("p",{class:"text-2xl font-bold"},"Your Account",-1),_3=C("i",{class:"fas fa-times"},null,-1),E3=[_3],I3={class:"flex flex-wrap mb-4 gap-2"},T3={class:"flex-auto text-center"},S3={class:"flex-auto text-center"};function A3(e,t,n,i,o,u){const a=wt("AppLoginForm"),l=wt("AppRegisterForm");return We(),it("div",{class:jt(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[C("div",p3,[g3,m3,C("div",v3,[C("div",y3,[C("div",w3,[b3,C("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},E3)]),C("ul",I3,[C("li",T3,[C("a",{class:jt(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=hn(f=>o.tab="login",["prevent"]))},"Login",2)]),C("li",S3,[C("a",{class:jt(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=hn(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(We(),Ks(a,{key:0})):(We(),Ks(l,{key:1}))])])])],2)}const k3=Kn(d3,[["render",A3]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ds=typeof window<"u";function C3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const st=Object.assign;function Xg(e,t){const n={};for(const i in t){const o=t[i];n[i]=Rr(o)?o.map(e):e(o)}return n}const Pa=()=>{},Rr=Array.isArray,x3=/\/$/,N3=e=>e.replace(x3,"");function Yg(e,t,n="/"){let i,o={},u="",a="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),u=t.slice(f+1,l>-1?l:t.length),o=e(u)),l>-1&&(i=i||t.slice(0,l),a=t.slice(l,t.length)),i=D3(i??t,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function R3(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function HE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function O3(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&pu(t.matched[i],n.matched[o])&&Vk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function pu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Vk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!P3(e[n],t[n]))return!1;return!0}function P3(e,t){return Rr(e)?KE(e,t):Rr(t)?KE(t,e):e===t}function KE(e,t){return Rr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function D3(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var ac;(function(e){e.pop="pop",e.push="push"})(ac||(ac={}));var Da;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Da||(Da={}));function L3(e){if(!e)if(Ds){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),N3(e)}const M3=/^[^#]+#/;function F3(e,t){return e.replace(M3,"#")+t}function U3(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Wh=()=>({left:window.pageXOffset,top:window.pageYOffset});function j3(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=U3(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function zE(e,t){return(history.state?history.state.position-t:-1)+e}const Gm=new Map;function V3(e,t){Gm.set(e,t)}function B3(e){const t=Gm.get(e);return Gm.delete(e),t}let q3=()=>location.protocol+"//"+location.host;function Bk(e,t){const{pathname:n,search:i,hash:o}=t,u=e.indexOf("#");if(u>-1){let l=o.includes(e.slice(u))?e.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),HE(f,"")}return HE(n,e)+i+o}function $3(e,t,n,i){let o=[],u=[],a=null;const l=({state:v})=>{const b=Bk(e,location),_=n.value,T=t.value;let S=0;if(v){if(n.value=b,t.value=v,a&&a===_){a=null;return}S=T?v.position-T.position:0}else i(b);o.forEach(O=>{O(n.value,_,{delta:S,type:ac.pop,direction:S?S>0?Da.forward:Da.back:Da.unknown})})};function f(){a=n.value}function d(v){o.push(v);const b=()=>{const _=o.indexOf(v);_>-1&&o.splice(_,1)};return u.push(b),b}function p(){const{history:v}=window;v.state&&v.replaceState(st({},v.state,{scroll:Wh()}),"")}function m(){for(const v of u)v();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",p)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",p,{passive:!0}),{pauseListeners:f,listen:d,destroy:m}}function GE(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?Wh():null}}function H3(e){const{history:t,location:n}=window,i={value:Bk(e,n)},o={value:t.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(f,d,p){const m=e.indexOf("#"),v=m>-1?(n.host&&document.querySelector("base")?e:e.slice(m))+f:q3()+e+f;try{t[p?"replaceState":"pushState"](d,"",v),o.value=d}catch(b){console.error(b),n[p?"replace":"assign"](v)}}function a(f,d){const p=st({},t.state,GE(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,p,!0),i.value=f}function l(f,d){const p=st({},o.value,t.state,{forward:f,scroll:Wh()});u(p.current,p,!0);const m=st({},GE(i.value,f,null),{position:p.position+1},d);u(f,m,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function K3(e){e=L3(e);const t=H3(e),n=$3(e,t.state,t.location,t.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=st({location:"",base:e,go:i,createHref:F3.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function z3(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),K3(e)}function G3(e){return typeof e=="string"||e&&typeof e=="object"}function qk(e){return typeof e=="string"||typeof e=="symbol"}const Ci={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$k=Symbol("");var WE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(WE||(WE={}));function gu(e,t){return st(new Error,{type:e,[$k]:!0},t)}function ti(e,t){return e instanceof Error&&$k in e&&(t==null||!!(e.type&t))}const XE="[^/]+?",W3={sensitive:!1,strict:!1,start:!0,end:!0},X3=/[.+*?^${}()[\]/\\]/g;function Y3(e,t){const n=st({},W3,t),i=[];let o=n.start?"^":"";const u=[];for(const d of e){const p=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let m=0;m<d.length;m++){const v=d[m];let b=40+(n.sensitive?.25:0);if(v.type===0)m||(o+="/"),o+=v.value.replace(X3,"\\$&"),b+=40;else if(v.type===1){const{value:_,repeatable:T,optional:S,regexp:O}=v;u.push({name:_,repeatable:T,optional:S});const P=O||XE;if(P!==XE){b+=10;try{new RegExp(`(${P})`)}catch(B){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+B.message)}}let F=T?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;m||(F=S&&d.length<2?`(?:/${F})`:"/"+F),S&&(F+="?"),o+=F,b+=20,S&&(b+=-8),T&&(b+=-20),P===".*"&&(b+=-50)}p.push(b)}i.push(p)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const p=d.match(a),m={};if(!p)return null;for(let v=1;v<p.length;v++){const b=p[v]||"",_=u[v-1];m[_.name]=b&&_.repeatable?b.split("/"):b}return m}function f(d){let p="",m=!1;for(const v of e){(!m||!p.endsWith("/"))&&(p+="/"),m=!1;for(const b of v)if(b.type===0)p+=b.value;else if(b.type===1){const{value:_,repeatable:T,optional:S}=b,O=_ in d?d[_]:"";if(Rr(O)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=Rr(O)?O.join("/"):O;if(!P)if(S)v.length<2&&(p.endsWith("/")?p=p.slice(0,-1):m=!0);else throw new Error(`Missing required param "${_}"`);p+=P}}return p||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function Q3(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function J3(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const u=Q3(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(YE(i))return 1;if(YE(o))return-1}return o.length-i.length}function YE(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Z3={type:0,value:""},e4=/[a-zA-Z0-9_]/;function t4(e){if(!e)return[[]];if(e==="/")return[[Z3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",p="";function m(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:p,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function v(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&m(),a()):f===":"?(m(),n=1):v();break;case 4:v(),n=i;break;case 1:f==="("?n=2:e4.test(f)?v():(m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+f:n=3:p+=f;break;case 3:m(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,p="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),m(),a(),o}function n4(e,t,n){const i=Y3(t4(e.path),n),o=st(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function r4(e,t){const n=[],i=new Map;t=ZE({strict:!1,end:!0,sensitive:!1},t);function o(p){return i.get(p)}function u(p,m,v){const b=!v,_=i4(p);_.aliasOf=v&&v.record;const T=ZE(t,p),S=[_];if("alias"in p){const F=typeof p.alias=="string"?[p.alias]:p.alias;for(const B of F)S.push(st({},_,{components:v?v.record.components:_.components,path:B,aliasOf:v?v.record:_}))}let O,P;for(const F of S){const{path:B}=F;if(m&&B[0]!=="/"){const te=m.record.path,j=te[te.length-1]==="/"?"":"/";F.path=m.record.path+(B&&j+B)}if(O=n4(F,m,T),v?v.alias.push(O):(P=P||O,P!==O&&P.alias.push(O),b&&p.name&&!JE(O)&&a(p.name)),_.children){const te=_.children;for(let j=0;j<te.length;j++)u(te[j],O,v&&v.children[j])}v=v||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&f(O)}return P?()=>{a(P)}:Pa}function a(p){if(qk(p)){const m=i.get(p);m&&(i.delete(p),n.splice(n.indexOf(m),1),m.children.forEach(a),m.alias.forEach(a))}else{const m=n.indexOf(p);m>-1&&(n.splice(m,1),p.record.name&&i.delete(p.record.name),p.children.forEach(a),p.alias.forEach(a))}}function l(){return n}function f(p){let m=0;for(;m<n.length&&J3(p,n[m])>=0&&(p.record.path!==n[m].record.path||!Hk(p,n[m]));)m++;n.splice(m,0,p),p.record.name&&!JE(p)&&i.set(p.record.name,p)}function d(p,m){let v,b={},_,T;if("name"in p&&p.name){if(v=i.get(p.name),!v)throw gu(1,{location:p});T=v.record.name,b=st(QE(m.params,v.keys.filter(P=>!P.optional).map(P=>P.name)),p.params&&QE(p.params,v.keys.map(P=>P.name))),_=v.stringify(b)}else if("path"in p)_=p.path,v=n.find(P=>P.re.test(_)),v&&(b=v.parse(_),T=v.record.name);else{if(v=m.name?i.get(m.name):n.find(P=>P.re.test(m.path)),!v)throw gu(1,{location:p,currentLocation:m});T=v.record.name,b=st({},m.params,p.params),_=v.stringify(b)}const S=[];let O=v;for(;O;)S.unshift(O.record),O=O.parent;return{name:T,path:_,params:b,matched:S,meta:s4(S)}}return e.forEach(p=>u(p)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function QE(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function i4(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:o4(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function o4(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function JE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function s4(e){return e.reduce((t,n)=>st(t,n.meta),{})}function ZE(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Hk(e,t){return t.children.some(n=>n===e||Hk(e,n))}const Kk=/#/g,u4=/&/g,a4=/\//g,c4=/=/g,l4=/\?/g,zk=/\+/g,f4=/%5B/g,h4=/%5D/g,Gk=/%5E/g,d4=/%60/g,Wk=/%7B/g,p4=/%7C/g,Xk=/%7D/g,g4=/%20/g;function Gy(e){return encodeURI(""+e).replace(p4,"|").replace(f4,"[").replace(h4,"]")}function m4(e){return Gy(e).replace(Wk,"{").replace(Xk,"}").replace(Gk,"^")}function Wm(e){return Gy(e).replace(zk,"%2B").replace(g4,"+").replace(Kk,"%23").replace(u4,"%26").replace(d4,"`").replace(Wk,"{").replace(Xk,"}").replace(Gk,"^")}function v4(e){return Wm(e).replace(c4,"%3D")}function y4(e){return Gy(e).replace(Kk,"%23").replace(l4,"%3F")}function w4(e){return e==null?"":y4(e).replace(a4,"%2F")}function Kf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function b4(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(zk," "),a=u.indexOf("="),l=Kf(a<0?u:u.slice(0,a)),f=a<0?null:Kf(u.slice(a+1));if(l in t){let d=t[l];Rr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function eI(e){let t="";for(let n in e){const i=e[n];if(n=v4(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Rr(i)?i.map(u=>u&&Wm(u)):[i&&Wm(i)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function _4(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Rr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const E4=Symbol(""),tI=Symbol(""),Wy=Symbol(""),Yk=Symbol(""),Xm=Symbol("");function ma(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Oi(e,t,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=m=>{m===!1?l(gu(4,{from:n,to:t})):m instanceof Error?l(m):G3(m)?l(gu(2,{from:t,to:m})):(u&&i.enterCallbacks[o]===u&&typeof m=="function"&&u.push(m),a())},d=e.call(i&&i.instances[o],t,n,f);let p=Promise.resolve(d);e.length<3&&(p=p.then(f)),p.catch(m=>l(m))})}function Qg(e,t,n,i){const o=[];for(const u of e)for(const a in u.components){let l=u.components[a];if(!(t!=="beforeRouteEnter"&&!u.instances[a]))if(I4(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Oi(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const p=C3(d)?d.default:d;u.components[a]=p;const v=(p.__vccOpts||p)[t];return v&&Oi(v,n,i,u,a)()}))}}return o}function I4(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function nI(e){const t=gr(Wy),n=gr(Yk),i=qe(()=>t.resolve(Ge(e.to))),o=qe(()=>{const{matched:f}=i.value,{length:d}=f,p=f[d-1],m=n.matched;if(!p||!m.length)return-1;const v=m.findIndex(pu.bind(null,p));if(v>-1)return v;const b=rI(f[d-2]);return d>1&&rI(p)===b&&m[m.length-1].path!==b?m.findIndex(pu.bind(null,f[d-2])):v}),u=qe(()=>o.value>-1&&k4(n.params,i.value.params)),a=qe(()=>o.value>-1&&o.value===n.matched.length-1&&Vk(n.params,i.value.params));function l(f={}){return A4(f)?t[Ge(e.replace)?"replace":"push"](Ge(e.to)).catch(Pa):Promise.resolve()}return{route:i,href:qe(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const T4=cc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nI,setup(e,{slots:t}){const n=li(nI(e)),{options:i}=gr(Wy),o=qe(()=>({[iI(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[iI(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:Ws("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),S4=T4;function A4(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function k4(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Rr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function rI(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const iI=(e,t,n)=>e??t??n,C4=cc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=gr(Xm),o=qe(()=>e.route||i.value),u=gr(tI,0),a=qe(()=>{let d=Ge(u);const{matched:p}=o.value;let m;for(;(m=p[d])&&!m.components;)d++;return d}),l=qe(()=>o.value.matched[a.value]);Vs(tI,qe(()=>a.value+1)),Vs(E4,l),Vs(Xm,o);const f=An();return ir(()=>[f.value,l.value,e.name],([d,p,m],[v,b,_])=>{p&&(p.instances[m]=d,b&&b!==p&&d&&d===v&&(p.leaveGuards.size||(p.leaveGuards=b.leaveGuards),p.updateGuards.size||(p.updateGuards=b.updateGuards))),d&&p&&(!b||!pu(p,b)||!v)&&(p.enterCallbacks[m]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,p=e.name,m=l.value,v=m&&m.components[p];if(!v)return oI(n.default,{Component:v,route:d});const b=m.props[p],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,S=Ws(v,st({},_,t,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(m.instances[p]=null)},ref:f}));return oI(n.default,{Component:S,route:d})||S}}});function oI(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Qk=C4;function x4(e){const t=r4(e.routes,e),n=e.parseQuery||b4,i=e.stringifyQuery||eI,o=e.history,u=ma(),a=ma(),l=ma(),f=BI(Ci);let d=Ci;Ds&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=Xg.bind(null,D=>""+D),m=Xg.bind(null,w4),v=Xg.bind(null,Kf);function b(D,$){let Z,ae;return qk(D)?(Z=t.getRecordMatcher(D),ae=$):ae=D,t.addRoute(ae,Z)}function _(D){const $=t.getRecordMatcher(D);$&&t.removeRoute($)}function T(){return t.getRoutes().map(D=>D.record)}function S(D){return!!t.getRecordMatcher(D)}function O(D,$){if($=st({},$||f.value),typeof D=="string"){const R=Yg(n,D,$.path),U=t.resolve({path:R.path},$),V=o.createHref(R.fullPath);return st(R,U,{params:v(U.params),hash:Kf(R.hash),redirectedFrom:void 0,href:V})}let Z;if("path"in D)Z=st({},D,{path:Yg(n,D.path,$.path).path});else{const R=st({},D.params);for(const U in R)R[U]==null&&delete R[U];Z=st({},D,{params:m(R)}),$.params=m($.params)}const ae=t.resolve(Z,$),Pe=D.hash||"";ae.params=p(v(ae.params));const I=R3(i,st({},D,{hash:m4(Pe),path:ae.path})),A=o.createHref(I);return st({fullPath:I,hash:Pe,query:i===eI?_4(D.query):D.query||{}},ae,{redirectedFrom:void 0,href:A})}function P(D){return typeof D=="string"?Yg(n,D,f.value.path):st({},D)}function F(D,$){if(d!==D)return gu(8,{from:$,to:D})}function B(D){return we(D)}function te(D){return B(st(P(D),{replace:!0}))}function j(D){const $=D.matched[D.matched.length-1];if($&&$.redirect){const{redirect:Z}=$;let ae=typeof Z=="function"?Z(D):Z;return typeof ae=="string"&&(ae=ae.includes("?")||ae.includes("#")?ae=P(ae):{path:ae},ae.params={}),st({query:D.query,hash:D.hash,params:"path"in ae?{}:D.params},ae)}}function we(D,$){const Z=d=O(D),ae=f.value,Pe=D.state,I=D.force,A=D.replace===!0,R=j(Z);if(R)return we(st(P(R),{state:typeof R=="object"?st({},Pe,R.state):Pe,force:I,replace:A}),$||Z);const U=Z;U.redirectedFrom=$;let V;return!I&&O3(i,ae,Z)&&(V=gu(16,{to:U,from:ae}),Ht(ae,ae,!0,!1)),(V?Promise.resolve(V):k(U,ae)).catch(W=>ti(W)?ti(W,2)?W:Ct(W):ge(W,U,ae)).then(W=>{if(W){if(ti(W,2))return we(st({replace:A},P(W.to),{state:typeof W.to=="object"?st({},Pe,W.to.state):Pe,force:I}),$||U)}else W=ut(U,ae,!0,A,Pe);return Xe(U,ae,W),W})}function z(D,$){const Z=F(D,$);return Z?Promise.reject(Z):Promise.resolve()}function ie(D){const $=zn.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(D):D()}function k(D,$){let Z;const[ae,Pe,I]=N4(D,$);Z=Qg(ae.reverse(),"beforeRouteLeave",D,$);for(const R of ae)R.leaveGuards.forEach(U=>{Z.push(Oi(U,D,$))});const A=z.bind(null,D,$);return Z.push(A),me(Z).then(()=>{Z=[];for(const R of u.list())Z.push(Oi(R,D,$));return Z.push(A),me(Z)}).then(()=>{Z=Qg(Pe,"beforeRouteUpdate",D,$);for(const R of Pe)R.updateGuards.forEach(U=>{Z.push(Oi(U,D,$))});return Z.push(A),me(Z)}).then(()=>{Z=[];for(const R of I)if(R.beforeEnter)if(Rr(R.beforeEnter))for(const U of R.beforeEnter)Z.push(Oi(U,D,$));else Z.push(Oi(R.beforeEnter,D,$));return Z.push(A),me(Z)}).then(()=>(D.matched.forEach(R=>R.enterCallbacks={}),Z=Qg(I,"beforeRouteEnter",D,$),Z.push(A),me(Z))).then(()=>{Z=[];for(const R of a.list())Z.push(Oi(R,D,$));return Z.push(A),me(Z)}).catch(R=>ti(R,8)?R:Promise.reject(R))}function Xe(D,$,Z){l.list().forEach(ae=>ie(()=>ae(D,$,Z)))}function ut(D,$,Z,ae,Pe){const I=F(D,$);if(I)return I;const A=$===Ci,R=Ds?history.state:{};Z&&(ae||A?o.replace(D.fullPath,st({scroll:A&&R&&R.scroll},Pe)):o.push(D.fullPath,Pe)),f.value=D,Ht(D,$,Z,A),Ct()}let at;function ht(){at||(at=o.listen((D,$,Z)=>{if(!de.listening)return;const ae=O(D),Pe=j(ae);if(Pe){we(st(Pe,{replace:!0}),ae).catch(Pa);return}d=ae;const I=f.value;Ds&&V3(zE(I.fullPath,Z.delta),Wh()),k(ae,I).catch(A=>ti(A,12)?A:ti(A,2)?(we(A.to,ae).then(R=>{ti(R,20)&&!Z.delta&&Z.type===ac.pop&&o.go(-1,!1)}).catch(Pa),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),ge(A,ae,I))).then(A=>{A=A||ut(ae,I,!1),A&&(Z.delta&&!ti(A,8)?o.go(-Z.delta,!1):Z.type===ac.pop&&ti(A,20)&&o.go(-1,!1)),Xe(ae,I,A)}).catch(Pa)}))}let Ye=ma(),ue=ma(),Me;function ge(D,$,Z){Ct(D);const ae=ue.list();return ae.length?ae.forEach(Pe=>Pe(D,$,Z)):console.error(D),Promise.reject(D)}function gt(){return Me&&f.value!==Ci?Promise.resolve():new Promise((D,$)=>{Ye.add([D,$])})}function Ct(D){return Me||(Me=!D,ht(),Ye.list().forEach(([$,Z])=>D?Z(D):$()),Ye.reset()),D}function Ht(D,$,Z,ae){const{scrollBehavior:Pe}=e;if(!Ds||!Pe)return Promise.resolve();const I=!Z&&B3(zE(D.fullPath,0))||(ae||!Z)&&history.state&&history.state.scroll||null;return Br().then(()=>Pe(D,$,I)).then(A=>A&&j3(A)).catch(A=>ge(A,D,$))}const Lt=D=>o.go(D);let mt;const zn=new Set,de={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:S,getRoutes:T,resolve:O,options:e,push:B,replace:te,go:Lt,back:()=>Lt(-1),forward:()=>Lt(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:ue.add,isReady:gt,install(D){const $=this;D.component("RouterLink",S4),D.component("RouterView",Qk),D.config.globalProperties.$router=$,Object.defineProperty(D.config.globalProperties,"$route",{enumerable:!0,get:()=>Ge(f)}),Ds&&!mt&&f.value===Ci&&(mt=!0,B(o.location).catch(Pe=>{}));const Z={};for(const Pe in Ci)Object.defineProperty(Z,Pe,{get:()=>f.value[Pe],enumerable:!0});D.provide(Wy,$),D.provide(Yk,FI(Z)),D.provide(Xm,f);const ae=D.unmount;zn.add(D),D.unmount=function(){zn.delete(D),zn.size<1&&(d=Ci,at&&at(),at=null,f.value=Ci,mt=!1,Me=!1),ae()}}};function me(D){return D.reduce(($,Z)=>$.then(()=>ie(Z)),Promise.resolve())}return de}function N4(e,t){const n=[],i=[],o=[],u=Math.max(t.matched.length,e.matched.length);for(let a=0;a<u;a++){const l=t.matched[a];l&&(e.matched.find(d=>pu(d,l))?i.push(l):n.push(l));const f=e.matched[a];f&&(t.matched.find(d=>pu(d,f))||o.push(f))}return[n,i,o]}const R4={name:"App",components:{AppHeader:AV,AppAuth:k3,RouterView:Qk},computed:{...Av(Cu,["userLoggedIn"])},created(){sr.currentUser&&(this.userLoggedIn=!0)}},O4={class:"relative min-h-screen"},P4=C("section",{class:"absolute inset-0 min-h-screen bg-gradient-to-t from-zinc-900 from-50% to-[#4a368e] to-90% w-full"},null,-1);function D4(e,t,n,i,o,u){const a=wt("AppHeader"),l=wt("RouterView"),f=wt("AppAuth");return We(),it(zt,null,[Ie(a),C("div",O4,[P4,Ie(l)]),Ie(f)],64)}const L4=Kn(R4,[["render",D4]]),zf=Sv("player",{state:()=>({isPlaying:!1}),actions:{play(){this.isPlaying=!0},pause(){this.isPlaying=!1}}}),M4={name:"SongItem",props:{song:{type:Object,required:!0},index:{type:Number,required:!0}}},F4={class:"md:hover:bg-white md:hover:bg-opacity-10 md:hover:text-white hover:cursor-pointer rounded-full secondary-text"},U4={class:"text-white"},j4={class:"block text-sm"},V4=C("i",{class:"fa-solid fa-heart text-green-500 ml-28"},null,-1);function B4(e,t,n,i,o,u){const a=wt("RouterLink");return We(),it("tr",F4,[C("td",null,Dt(n.index+1),1),C("td",null,[Ie(a,{to:{name:"song",params:{id:n.song.docID}},class:"text-white border-b border-b-transparent hover:border-b-white"},{default:tr(()=>[C("span",U4,Dt(n.song.modified_name),1)]),_:1},8,["to"]),C("span",j4,Dt(n.song.artist?n.song.artist:"Unknown artist"),1)]),C("td",null,Dt(n.song.genre?n.song.genre:"Unknown genre"),1),C("td",null,[un(Dt(n.song.comment_count)+" ",1),V4]),C("td",null,Dt(n.song.duration),1)])}const q4=Kn(M4,[["render",B4]]),Ym="/musicfy/assets/img/liked-songs-300.webp",sI="/musicfy/assets/img/liked-songs-640.webp",$4={name:"AppPlaylist",components:{SongItem:q4},props:{songs:{type:Array,required:!0}},data(){return{}},computed:{...fh(zf,["isPlaying"]),getUserName(){return sr.currentUser&&sr.currentUser.displayName?sr.currentUser.displayName:"Your name here"}},methods:{...hh(zf,["play","pause"])}},H4=Ym+" 150w, "+Ym+" 300w, "+sI+" 320w, "+sI+" 640w",K4={class:"relative z-10 mx-10 pt-40 pb-6 text-white text-center font-circular-regular"},z4={class:"container flex gap-6"},G4=C("img",{"aria-hidden":"false",draggable:"false",loading:"eager",src:Ym,alt:"Liked songs",class:"shadow-3xl",srcset:H4,sizes:"(min-width: 1280px) 232px, 192px"},null,-1),W4={class:"text-white main-header-content flex flex-col grow justify-end items-start content-normal"},X4=C("h4",{class:"text-sm mb-2"},"Playlist",-1),Y4=C("h1",{class:"text-5xl mb-5 font-circular-black tracking-tighter"},"Liked songs",-1),Q4={class:""},J4={class:"relative z-10 px-10 py-5 mb-20 bg-zinc-900 bg-opacity-30 font-circular-regular min-h-[50vh]"},Z4={type:"button"},eB={id:"playlist",class:"mx-6 mt-6 secondary-text w-full text-left px-6 pt-6 pb-2"},tB=C("thead",{class:"border-b border-zinc-300 border-opacity-10"},[C("tr",null,[C("th",{class:""},[C("span",{class:"font-sans"},"#")]),C("th",null,"Title"),C("th",null,"Genre"),C("th",null,"Comments"),C("th",{class:""},[C("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 secondary-text"},[C("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])])])],-1),nB={class:"text-white mb-10"},rB={key:0};function iB(e,t,n,i,o,u){const a=wt("SongItem");return We(),it(zt,null,[C("section",K4,[C("div",z4,[G4,C("div",W4,[X4,Y4,C("p",Q4,[C("span",null,Dt(u.getUserName)+"  "+Dt(n.songs.length)+" songs ",1)])])])]),C("section",J4,[C("button",Z4,[C("p",{class:jt(["text-[#1ed760] text-5xl hover:scale-110 bg-black rounded-full",{"fa fa-play-circle":!e.isPlaying,"fa fa-pause-circle":e.isPlaying}]),onClick:t[0]||(t[0]=hn(l=>e.isPlaying?e.pause():e.play(),["prevent"]))},null,2)]),C("table",eB,[tB,C("tbody",nB,[n.songs.length===0?(We(),it("div",rB,"Empty playlist.")):(We(!0),it(zt,{key:1},lc(n.songs,(l,f)=>(We(),Ks(a,{key:l.docID,song:l,index:f},null,8,["song","index"]))),128))])])])],64)}const oB=Kn($4,[["render",iB]]),sB={name:"AppPlayer",data(){return{currentTime:93,durationTime:186}},computed:{...fh(zf,["isPlaying"]),currentTimePercentage(){return this.currentTime/this.durationTime*100+"%"}},methods:{...hh(zf,["play","pause"])}},uB={class:"fixed bottom-0 left-0 bg-black z-10 px-4 py-4 w-full flex flex-nowrap"},aB=C("div",{class:"fixed bottom-2 left-5 text-white flex flex-col justify-center font-circular-thin w-40 h-16 overflow-x-hidden whitespace-nowrap"},[C("p",{class:"song-title font-bold"},"Playing Song"),C("p",{class:"song-artist"},"by Artist")],-1),cB={class:"text-white grow flex flex-col gap-0.5 font-circular-regular"},lB={type:"button"},fB={class:"flex flex-nowrap gap-3 justify-center items-center"},hB=C("div",{class:"player-currenttime text-xs secondary-text"},[un(" 00"),C("span",{class:"font-sans"},":"),un("00 ")],-1),dB={class:"group w-80 h-1 rounded bg-neutral-700 relative cursor-pointer"},pB=C("i",{class:"fas fa-circle"},null,-1),gB=[pB],mB=C("div",{class:"player-duration text-xs secondary-text"},[un(" 03"),C("span",{class:"font-sans"},":"),un("06 ")],-1);function vB(e,t,n,i,o,u){return We(),it("div",uB,[aB,C("div",cB,[C("button",lB,[C("p",{class:jt(["text-white text-3xl hover:scale-105",{"fa fa-play-circle":!e.isPlaying,"fa fa-pause-circle":e.isPlaying}]),onClick:t[0]||(t[0]=hn(a=>e.isPlaying?e.pause():e.play(),["prevent"]))},null,2)]),C("div",fB,[hB,C("div",dB,[C("span",{class:"absolute -top-1.5 -ml-2.5 text-white text-xs opacity-0 group-hover:opacity-100",style:$s({left:u.currentTimePercentage})},gB,4),C("span",{class:"block h-1 rounded bg-white group-hover:bg-gradient-to-r from-green-500 to-green-400",style:$s({width:u.currentTimePercentage})},null,4)]),mB])])])}const Jk=Kn(sB,[["render",vB]]),yB={name:"Home",components:{AppPlaylist:oB,AppPlayer:Jk},data(){return{songs:[],maxPerPage:10,pendingReq:!1}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},methods:{async getSongs(){if(this.pendingReq)return;this.pendingReq=!0;let e;if(this.songs.length){const t=await ai.doc(this.songs[this.songs.length-1].docID).get();e=await ai.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await ai.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingReq=!1},handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.ceil(e)+n>=t&&this.getSongs()}},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}};function wB(e,t,n,i,o,u){const a=wt("AppPlaylist"),l=wt("AppPlayer");return We(),it("section",null,[Ie(a,{songs:o.songs},null,8,["songs"]),Ie(l)])}const bB=Kn(yB,[["render",wB]]),_B={},EB={class:"relative z-10 pt-40 text-white text-center font-circular-regular"},IB=C("h1",{class:""},"About musicfy",-1),TB=[IB];function SB(e,t){return We(),it("main",EB,TB)}const AB=Kn(_B,[["render",SB]]),kB={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){this.is_dragover=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(async n=>{if(n.type!="audio/mpeg"){alert("file type invalid");return}const u=jk.ref().child("songs").child(`${n.name}`);if(await this.fileExists(n)){alert("Song already existing");return}const l=u.put(n),f=this.uploads.push({task:l,current_progress:0,name:n.name,variant:"progress-bar bg-blue-400",icon:"fa-solid fa-spinner fa-spin",text_class:"",hide_class:""})-1;l.on("state_changed",d=>{const p=d.bytesTransferred/d.totalBytes*100;this.uploads[f].current_progress=p},d=>{this.uploads[f].variant="bg-red-400",this.uploads[f].icon="fas fa-times",this.uploads[f].text_class="text-red-400",console.error("Error uploading the song",d)},async()=>{const d={uid:sr.currentUser.uid,displayName:sr.currentUser.displayName,original_name:l.snapshot.ref.name,modified_name:this.getFileNameWithoutExtension(l.snapshot.ref.name),genre:"",artist:"",comment_count:0,duration:0};d.url=await l.snapshot.ref.getDownloadURL();let p="";await ai.add(d).then(v=>{p=v}).catch(async v=>{this.uploads[f].variant="bg-red-400",this.uploads[f].icon="fas fa-times",this.uploads[f].text_class="text-red-400",console.error("Error uploading the song",v),await u.delete()});const m=await p.get();this.addSong(m),this.uploads[f].variant="bg-green-400",this.uploads[f].icon="fas fa-check",this.uploads[f].text_class="text-green-400",setTimeout(()=>{this.uploads[f].hide_class="hidden"},1e3)})})},getFileNameWithoutExtension(e){return e.replace(/\.[^.]+$/,"")},async fileExists(e){return(await ai.where("original_name","==",e.name).get()).size!==0},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})},openInputFile(){this.$refs.inputFile.click()}},beforeUnmount(){this.cancelUploads()}},CB={class:"col-span-1"},xB={class:"bg-zinc-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},NB=C("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},[C("span",{class:"card-title"},"Upload"),C("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),RB={class:"p-6"},OB=C("h5",null,[un("Drop your mp3 files here "),C("span",{class:"block text-sm"},"Or, click to browse")],-1),PB=[OB],DB=C("hr",{class:"my-6 border-slate-400"},null,-1),LB={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function MB(e,t,n,i,o,u){return We(),it("div",CB,[C("div",xB,[NB,C("div",RB,[C("div",{class:jt(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-zinc-700 hover:border-solid",{"bg-zinc-700 text-white border border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=hn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=hn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=hn(a=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=hn(a=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=hn(a=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=hn(a=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=hn(a=>u.upload(a),["prevent","stop"])),onClick:t[7]||(t[7]=hn((...a)=>u.openInputFile&&u.openInputFile(...a),["prevent"]))},PB,34),C("input",{type:"file",multiple:"",ref:"inputFile",onChange:t[8]||(t[8]=a=>u.upload(a)),class:"hidden w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:font-semibold file:bg-gray-300 hover:file:bg-green-400 bg-gray-800 hover:cursor-pointer"},null,544),DB,(We(!0),it(zt,null,lc(o.uploads,a=>(We(),it("div",{class:jt(["mb-4",a.hide_class]),key:a.name},[C("div",{class:jt(["font-bold text-sm",a.text_class])},[C("i",{class:jt(a.icon)},null,2),un(Dt(a.name),1)],2),C("div",LB,[C("div",{class:jt(["transition-all",a.variant]),style:$s({width:a.current_progress+"%"})},null,6)])],2))),128))])])])}const FB=Kn(kB,[["render",MB]]),UB={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},index:{type:Number,required:!0},updateHasChanges:{type:Function}},data(){return{showForm:!1,songSchema:{modified_name:"required",genre:"alpha_spaces",artist:""},initialValues:{modified_name:this.song.modified_name,artist:this.song.artist,genre:this.song.genre},in_submission:!1,show_alert:!1,alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",error_variant:"bg-red-500",success_variant:"bg-[#1ed760]",alert_msg:"",initial_msg:"Please wait! Updating song. ",success_msg:"Success! Your song info was updated."}},methods:{async deleteSong(){this.in_submission=!0,await jk.ref().child(`songs/${this.song.original_name}`).delete().then(()=>{}).catch(n=>{console.error(n),this.in_submission=!1}),await ai.doc(this.song.docID).delete().then(()=>{}).catch(n=>{console.error(n),this.in_submission=!1}),this.removeSong(this.index),this.in_submission=!1},async editSong(e){this.initAlert();try{if(!this.hasChanges(e))return;await ai.doc(this.song.docID).update({modified_name:e.modified_name,artist:e.artist?e.artist:"",genre:e.genre?e.genre:""})}catch{this.alert_variant=this.error_variant,this.alert_msg="Something went wrong! Try again later.";return}finally{this.in_submission=!1}this.updateSong(this.index,e),this.updateHasChanges(!1),this.alert_variant=this.success_variant,this.alert_msg=this.success_msg,setTimeout(()=>{this.show_alert=!1,this.showForm=!1},1e3)},initAlert(){this.show_alert=!0,this.in_submission=!0,this.alert_variant=this.progress_variant,this.alert_msg=this.initial_msg},hasChanges(e){for(const t in e)if(e[t]!==this.song[t])return this.updateHasChanges(!0),!0;return this.updateHasChanges(!1),!1}}},jB={class:"border border-slate-500 p-3 mb-4 rounded"},VB={class:"inline-block text-2xl font-bold"},BB=["disabled"],qB=C("i",{class:"fa fa-times"},null,-1),$B=[qB],HB=C("i",{class:"fa-solid fa-pen-to-square"},null,-1),KB=[HB],zB={class:"mb-3"},GB=C("label",{class:"inline-block mb-2"},"Song Title",-1),WB={class:"mb-3"},XB=C("label",{class:"inline-block mb-2"},"Artist",-1),YB={class:"mb-3"},QB=C("label",{class:"inline-block mb-2"},"Genre",-1),JB=["disabled"],ZB=["disabled"];function eq(e,t,n,i,o,u){const a=wt("VeeField"),l=wt("ErrorMessage"),f=wt("VeeForm");return We(),it("div",jB,[om(C("div",null,[C("h4",VB,Dt(n.song.modified_name),1),C("button",{class:"ml-1 py-1 px-2 text-sm rounded text-red-600 float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[0]||(t[0]=hn((...d)=>u.deleteSong&&u.deleteSong(...d),["prevent"])),disabled:o.in_submission},$B,8,BB),C("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[1]||(t[1]=d=>o.showForm=!0)},KB)],512),[[dm,!o.showForm]]),om(C("div",null,[o.show_alert?(We(),it("div",{key:0,class:jt(["text-black text-center font-bold p-4 rounded mb-4",o.alert_variant])},Dt(o.alert_msg),3)):Ba("",!0),Ie(f,{"validation-schema":o.songSchema,initialValues:o.initialValues,onSubmit:u.editSong},{default:tr(()=>[C("div",zB,[GB,Ie(a,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateHasChanges(!0))}),Ie(l,{class:"text-red-600",name:"modified_name"})]),C("div",WB,[XB,Ie(a,{name:"artist",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateHasChanges(!0))}),Ie(l,{class:"text-red-600",name:"artist"})]),C("div",YB,[QB,Ie(a,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[4]||(t[4]=d=>n.updateHasChanges(!0))}),Ie(l,{class:"text-red-600",name:"genre"})]),C("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o.in_submission}," Save ",8,JB),C("button",{type:"button",class:"ml-2 py-1.5 px-3 rounded text-white bg-gray-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-pointer",onClick:t[5]||(t[5]=hn(d=>o.showForm=!1,["prevent"])),disabled:o.in_submission}," Go Back ",8,ZB)]),_:1},8,["validation-schema","initialValues","onSubmit"])],512),[[dm,o.showForm]])])}const tq=Kn(UB,[["render",eq]]),nq={name:"managePlaylist",components:{AppUpload:FB,CompositionItem:tq},data(){return{songs:[],hasChanges:!1}},async created(){(await ai.where("uid","==",sr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre,this.songs[e].artist=t.artist},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateHasChanges(e){this.hasChanges=e}},beforeRouteLeave(e,t,n){if(!this.hasChanges)n();else{const i=confirm("You have unsaved changes. Are you sure you want to leave?");n(i)}}},rq={id:"manage",class:"pt-20"},iq={class:"container mx-auto pt-6"},oq={class:"md:grid md:grid-cols-3 md:gap-4"},sq={class:"col-span-2"},uq={class:"bg-neutral-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},aq=C("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},[C("span",{class:"card-title"},"My Songs"),C("i",{class:"fa-solid fa-music float-right text-green-400 text-2xl"})],-1),cq={class:"p-6"},lq={key:0},fq=C("p",{class:"text-center"},"Playlist empty.",-1),hq=[fq];function dq(e,t,n,i,o,u){const a=wt("AppUpload"),l=wt("CompositionItem");return We(),it("main",rq,[C("div",iq,[C("div",oq,[Ie(a,{ref:"upload",addSong:u.addSong},null,8,["addSong"]),C("div",sq,[C("div",uq,[aq,C("div",cq,[o.songs.length===0?(We(),it("div",lq,hq)):(We(!0),it(zt,{key:1},lc(o.songs,(f,d)=>(We(),Ks(l,{key:f.docID,song:f,updateSong:u.updateSong,index:d,removeSong:u.removeSong,updateHasChanges:u.updateHasChanges},null,8,["song","updateSong","index","removeSong","updateHasChanges"]))),128))])])])])])])}const pq=Kn(nq,[["render",dq]]),gq={name:"Song",components:{AppPlayer:Jk},data(){return{song:{},comments:[],schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"",comment_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",comment_error_variant:"bg-red-500",comment_success_variant:"bg-[#1ed760]",comment_alert_msg:"",initial_msg:"Publishing your comment... ",success_msg:"Your comment has been published."}},computed:{...fh(Cu,["userLoggedIn"])},async created(){const e=await ai.doc(this.$route.params.id).get();e.exists||this.$router.push({name:"home"}),this.song=e.data(),this.getComments()},methods:{async publishComment(e,{resetForm:t}){this.initCommentAlert();const n={content:e.comment,date:new Date().toString(),songID:this.$route.params.id,name:sr.currentUser.displayName,uid:sr.currentUser.uid};await $E.add(n),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant=this.comment_success_variant,this.comment_alert_msg=this.success_msg,t(),setTimeout(()=>{this.comment_show_alert=!1},1e3)},initCommentAlert(){this.comment_show_alert=!0,this.comment_in_submission=!0,this.comment_alert_variant=this.comment_progress_variant,this.comment_alert_msg=this.initial_msg},async getComments(){const e=await $E.where("songID","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})}}},mq={class:"relative z-10 mx-10 pt-40 pb-6 text-white text-center"},vq={class:"container mx-auto flex items-center"},yq=C("button",{type:"button",class:"absolute h-24 w-24 text-black text-5xl hover:scale-105 bg-[#1ed760] rounded-full"},[C("i",{class:"fas fa-play"})],-1),wq={class:"z-50 text-left ml-28"},bq=C("div",{class:"text-sm font-circular-black"},"Song",-1),_q={class:"text-6xl font-circular-black"},Eq={class:"text-sm font-circular-black"},Iq={class:"font-circular-regular"},Tq={class:"relative z-10 py-5 mb-20 bg-zinc-900 bg-opacity-30 font-circular-regular min-h-[50vh] text-white"},Sq={class:"flex flex-col"},Aq=QP('<div class="px-6 pt-6 pb-5 font-bold border-b border-slate-500"><span class="card-title">Comments <span class="font-sans">(</span>15<span class="font-sans">)</span></span><i class="fa-regular fa-comment float-right text-2xl"></i></div>',1),kq={class:"p-6"},Cq=["disabled"],xq=C("select",{class:"block mt-4 py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},[C("option",{value:"1"},"Latest"),C("option",{value:"2"},"Oldest")],-1),Nq={class:"z-10 px-6 font-circular-regular min-h-[50vh] text-white"},Rq={class:"mb-5"},Oq={class:"font-bold"};function Pq(e,t,n,i,o,u){const a=wt("VeeField"),l=wt("ErrorMessage"),f=wt("VeeForm"),d=wt("AppPlayer");return We(),it(zt,null,[C("section",mq,[C("div",vq,[yq,C("div",wq,[bq,C("div",_q,Dt(o.song.modified_name),1),C("div",Eq,[un(Dt(o.song.artist?o.song.artist:"Unknown artist")+" ",1),C("span",Iq,Dt(o.song.genre?o.song.genre:"Unknown Genre"),1)])])])]),C("main",Tq,[C("section",null,[C("div",Sq,[Aq,C("div",kq,[o.comment_show_alert?(We(),it("div",{key:0,class:jt(["text-white text-center p-4 mb-4",o.comment_alert_variant])},Dt(o.comment_alert_msg),3)):Ba("",!0),e.userLoggedIn?(We(),Ks(f,{key:1,"validation-schema":o.schema,onSubmit:u.publishComment},{default:tr(()=>[Ie(a,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded mb-4",placeholder:"Your comment here..."}),Ie(l,{class:"text-red-600",name:"comment"}),C("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Publish ",8,Cq)]),_:1},8,["validation-schema","onSubmit"])):Ba("",!0),xq])])]),C("section",null,[C("ul",Nq,[(We(!0),it(zt,null,lc(o.comments,p=>(We(),it("li",{class:"p-6 border border-slate-500",key:p.docID},[C("div",Rq,[C("div",Oq,Dt(p.name),1),C("time",null,Dt(p.date),1)]),C("p",null,Dt(p.content),1)]))),128))])])]),Ie(d)],64)}const Dq=Kn(gq,[["render",Pq]]),Lq=[{name:"home",path:"/",component:bB},{name:"about",path:"/about",component:AB},{name:"manage",path:"/manage/music",component:pq,beforeEnter:(e,t,n)=>{n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:Dq},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],Zk=x4({history:z3("/musicfy/"),routes:Lq,linkExactActiveClass:"text-green-600"});Zk.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Cu().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function nn(e){return typeof e=="function"}function eC(e){return e==null}const Go=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Xy(e){return Number(e)>=0}function Mq(e){const t=parseFloat(e);return isNaN(t)?e:t}function Fq(e){return typeof e=="object"&&e!==null}function Uq(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function jq(e){if(!Fq(e)||Uq(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Gf(e,t){return Object.keys(t).forEach(n=>{if(jq(t[n])){e[n]||(e[n]={}),Gf(e[n],t[n]);return}e[n]=t[n]}),e}function Ia(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Xy(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const tC={};function Yn(e,t){Bq(e,t),tC[e]=t}function Vq(e){return tC[e]}function Bq(e,t){if(!nn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function uI(e,t,n){typeof n.value=="object"&&(n.value=dt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function dt(e){if(typeof e!="object")return e;var t=0,n,i,o,u=Object.prototype.toString.call(e);if(u==="[object Object]"?o=Object.create(e.__proto__||null):u==="[object Array]"?o=Array(e.length):u==="[object Set]"?(o=new Set,e.forEach(function(a){o.add(dt(a))})):u==="[object Map]"?(o=new Map,e.forEach(function(a,l){o.set(dt(l),dt(a))})):u==="[object Date]"?o=new Date(+e):u==="[object RegExp]"?o=new RegExp(e.source,e.flags):u==="[object DataView]"?o=new e.constructor(dt(e.buffer)):u==="[object ArrayBuffer]"?o=e.slice(0):u.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)uI(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||uI(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const Xh=Symbol("vee-validate-form"),qq=Symbol("vee-validate-field-instance"),Wf=Symbol("Default empty value"),$q=typeof window<"u";function Qm(e){return nn(e)&&!!e.__locatorRef}function Gi(e){return!!e&&nn(e.parse)&&e.__type==="VVTypedSchema"}function Xf(e){return!!e&&nn(e.validate)}function Rc(e){return e==="checkbox"||e==="radio"}function Hq(e){return Go(e)||Array.isArray(e)}function Kq(e){return Array.isArray(e)?e.length===0:Go(e)&&Object.keys(e).length===0}function Yh(e){return/^\[.+\]$/i.test(e)}function zq(e){return nC(e)&&e.multiple}function nC(e){return e.tagName==="SELECT"}function Gq(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function Wq(e,t){return!Gq(e,t)&&t.type!=="file"&&!Rc(t.type)}function rC(e){return Yy(e)&&e.target&&"submit"in e.target}function Yy(e){return e?!!(typeof Event<"u"&&nn(Event)&&e instanceof Event||e&&e.srcElement):!1}function aI(e,t){return t in e&&e[t]!==Wf}function Rn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Rn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Rn(i[1],t.get(i[0])))return!1;return!0}if(cI(e)&&cI(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var u=o[i];if(!Rn(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function cI(e){return $q?e instanceof File:!1}function Qy(e){return Yh(e)?e.replace(/\[|\]/gi,""):e}function Fn(e,t,n){return e?Yh(t)?e[Qy(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>Hq(o)&&u in o?o[u]:n,e):n}function To(e,t,n){if(Yh(t)){e[Qy(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||eC(o[i[u]]))&&(o[i[u]]=Xy(i[u+1])?[]:{}),o=o[i[u]]}}function Jg(e,t){if(Array.isArray(e)&&Xy(t)){e.splice(Number(t),1);return}Go(e)&&delete e[t]}function lI(e,t){if(Yh(t)){delete e[Qy(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let u=0;u<n.length;u++){if(u===n.length-1){Jg(i,n[u]);break}if(!(n[u]in i)||eC(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Fn(e,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(Kq(o[u])){if(u===0){Jg(e,n[0]);continue}Jg(o[u-1],n[u-1])}}function hr(e){return Object.keys(e)}function iC(e,t=void 0){const n=ah();return(n==null?void 0:n.provides[e])||gr(e,t)}function fI(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(u=>Rn(u,t));return o>=0?i.splice(o,1):i.push(t),i}return Rn(e,t)?n:t}function hI(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=e(...o);i.forEach(a=>a(u)),i=[]},t),new Promise(u=>i.push(u))}}function Xq(e,t){return Go(t)&&t.number?Mq(e):e}function Jm(e,t){let n;return async function(...o){const u=e(...o);n=u;const a=await u;return u!==n||(n=void 0,t(a,o)),a}}function Zm(e){return Array.isArray(e)?e:e?[e]:[]}function va(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function Yq(e){let t=null,n=[];return function(...i){const o=Br(()=>{if(t!==o)return;const u=e(...i);n.forEach(a=>a(u)),n=[],t=null});return t=o,new Promise(u=>n.push(u))}}function Jy(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default}function Zg(e){if(oC(e))return e._value}function oC(e){return"_value"in e}function Qq(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Yf(e){if(!Yy(e))return e;const t=e.target;if(Rc(t.type)&&oC(t))return Zg(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(zq(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Zg);if(nC(t)){const n=Array.from(t.options).find(i=>i.selected);return n?Zg(n):t.value}return Qq(t)}function sC(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Go(e)&&e._$$isNormalized?e:Go(e)?Object.keys(e).reduce((n,i)=>{const o=Jq(e[i]);return e[i]!==!1&&(n[i]=dI(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=Zq(i);return o.name&&(n[o.name]=dI(o.params)),n},t):t}function Jq(e){return e===!0?[]:Array.isArray(e)||Go(e)?e:[e]}function dI(e){const t=n=>typeof n=="string"&&n[0]==="@"?e6(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const Zq=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function e6(e){const t=n=>Fn(n,e)||n[e];return t.__locatorRef=e,t}function t6(e){return Array.isArray(e)?e.filter(Qm):hr(e).filter(t=>Qm(e[t])).map(t=>e[t])}const n6={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let ev=Object.assign({},n6);const Ui=()=>ev,r6=e=>{ev=Object.assign(Object.assign({},ev),e)},i6=r6;async function uC(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await o6(o,e)).errors;return{errors:a,valid:!a.length}}async function o6(e,t){if(Gi(e.rules)||Xf(e.rules))return u6(t,e.rules);if(nn(e.rules)||Array.isArray(e.rules)){const a={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let p=0;p<f;p++){const m=l[p],v=await m(t,a);if(!(typeof v!="string"&&!Array.isArray(v)&&v)){if(Array.isArray(v))d.push(...v);else{const _=typeof v=="string"?v:cC(a);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:sC(e.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await a6(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function s6(e){return!!e&&e.name==="ValidationError"}function aC(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!s6(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function u6(e,t){const i=await(Gi(t)?t:aC(t)).parse(e),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function a6(e,t,n){const i=Vq(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=c6(n.params,e.formData),u={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(t,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:cC(u)}}function cC(e){const t=Ui().generateMessage;return t?t(e):"Field is invalid"}function c6(e,t){const n=i=>Qm(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function l6(e,t){const i=await(Gi(e)?e:aC(e)).parse(dt(t)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,p)=>`[${p}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function f6(e,t,n){const o=hr(e).map(async d=>{var p,m,v;const b=(p=n==null?void 0:n.names)===null||p===void 0?void 0:p[d],_=await uC(Fn(t,d),e[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:t,bails:(v=(m=n==null?void 0:n.bailsMap)===null||m===void 0?void 0:m[d])!==null&&v!==void 0?v:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let pI=0;function h6(e,t){const{value:n,initialValue:i,setInitialValue:o}=d6(e,t.modelValue,t.form);if(!t.form){let v=function(_){var T;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(m.touched=(T=_.touched)!==null&&T!==void 0?T:m.touched),"initialValue"in _&&o(_.initialValue)};var l=v;const{errors:f,setErrors:d}=m6(),p=pI>=Number.MAX_SAFE_INTEGER?0:++pI,m=g6(n,i,f);return{id:p,path:e,value:n,initialValue:i,meta:m,flags:{pendingUnmount:{[p]:!1},pendingReset:!1},errors:f,setState:v}}const u=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),a=qe(()=>u.errors);function l(f){var d,p,m;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Ge(e),f.errors)),"touched"in f&&((p=t.form)===null||p===void 0||p.setFieldTouched(Ge(e),(m=f.touched)!==null&&m!==void 0?m:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:e,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function d6(e,t,n){const i=An(Ge(t));function o(){return n?Fn(n.initialValues.value,Ge(e),Ge(i)):Ge(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(Ge(e),d,!0)}const a=qe(o);if(!n)return{value:An(o()),initialValue:a,setInitialValue:u};const l=p6(t,n,a,e);return n.stageInitialValue(Ge(e),l,!0),{value:qe({get(){return Fn(n.values,Ge(e))},set(d){n.setFieldValue(Ge(e),d,!1)}}),initialValue:a,setInitialValue:u}}function p6(e,t,n,i){return ft(e)?Ge(e):e!==void 0?e:Fn(t.values,Ge(i),Ge(n))}function g6(e,t,n){const i=li({touched:!1,pending:!1,valid:!0,validated:!!Ge(n).length,initialValue:qe(()=>Ge(t)),dirty:qe(()=>!Rn(Ge(e),Ge(t)))});return ir(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function m6(){const e=An([]);return{errors:e,setErrors:t=>{e.value=Zm(t)}}}function v6(e,t,n){return Rc(n==null?void 0:n.type)?w6(e,t,n):lC(e,t,n)}function lC(e,t,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:p,controlled:m,keepValueOnUnmount:v,syncVModel:b,form:_}=y6(n),T=m?iC(Xh):void 0,S=_||T,O=qe(()=>Ia(At(e))),P=qe(()=>{if(At(S==null?void 0:S.schema))return;const me=Ge(t);return Xf(me)||Gi(me)||nn(me)||Array.isArray(me)?me:sC(me)}),{id:F,value:B,initialValue:te,meta:j,setState:we,errors:z,flags:ie}=h6(O,{modelValue:i,form:S,bails:u,label:f,type:a,validate:P.value?Ye:void 0}),k=qe(()=>z.value[0]);b&&b6({value:B,prop:b,handleChange:ue,shouldValidate:()=>d&&!ie.pendingReset});const Xe=(de,me=!1)=>{j.touched=!0,me&&at()};async function ut(de){var me,D;return S!=null&&S.validateSchema?(me=(await S.validateSchema(de)).results[At(O)])!==null&&me!==void 0?me:{valid:!0,errors:[]}:P.value?uC(B.value,P.value,{name:At(O),label:At(f),values:(D=S==null?void 0:S.values)!==null&&D!==void 0?D:{},bails:u}):{valid:!0,errors:[]}}const at=Jm(async()=>(j.pending=!0,j.validated=!0,ut("validated-only")),de=>{if(!ie.pendingUnmount[mt.id])return we({errors:de.errors}),j.pending=!1,j.valid=de.valid,de}),ht=Jm(async()=>ut("silent"),de=>(j.valid=de.valid,de));function Ye(de){return(de==null?void 0:de.mode)==="silent"?ht():at()}function ue(de,me=!0){const D=Yf(de);Ct(D,me)}yv(()=>{if(o)return at();(!S||!S.validateSchema)&&ht()});function Me(de){j.touched=de}function ge(de){var me;const D=de&&"value"in de?de.value:te.value;we({value:dt(D),initialValue:dt(D),touched:(me=de==null?void 0:de.touched)!==null&&me!==void 0?me:!1,errors:(de==null?void 0:de.errors)||[]}),j.pending=!1,j.validated=!1,ht()}const gt=ah();function Ct(de,me=!0){B.value=gt&&b?Xq(de,gt.props.modelModifiers):de,(me?at:ht)()}function Ht(de){we({errors:Array.isArray(de)?de:[de]})}const Lt=qe({get(){return B.value},set(de){Ct(de,d)}}),mt={id:F,name:O,label:f,value:Lt,meta:j,errors:z,errorMessage:k,type:a,checkedValue:l,uncheckedValue:p,bails:u,keepValueOnUnmount:v,resetField:ge,handleReset:()=>ge(),validate:Ye,handleChange:ue,handleBlur:Xe,setState:we,setTouched:Me,setErrors:Ht,setValue:Ct};if(Vs(qq,mt),ft(t)&&typeof Ge(t)!="function"&&ir(t,(de,me)=>{Rn(de,me)||(j.validated?at():ht())},{deep:!0}),!S)return mt;const zn=qe(()=>{const de=P.value;return!de||nn(de)||Xf(de)||Gi(de)||Array.isArray(de)?{}:Object.keys(de).reduce((me,D)=>{const $=t6(de[D]).map(Z=>Z.__locatorRef).reduce((Z,ae)=>{const Pe=Fn(S.values,ae)||S.values[ae];return Pe!==void 0&&(Z[ae]=Pe),Z},{});return Object.assign(me,$),me},{})});return ir(zn,(de,me)=>{if(!Object.keys(de).length)return;!Rn(de,me)&&(j.validated?at():ht())}),eT(()=>{var de;const me=(de=At(mt.keepValueOnUnmount))!==null&&de!==void 0?de:At(S.keepValuesOnUnmount),D=At(O);if(me||!S||ie.pendingUnmount[mt.id]){S==null||S.removePathState(D,F);return}ie.pendingUnmount[mt.id]=!0;const $=S.getPathState(D);if(Array.isArray($==null?void 0:$.id)&&($!=null&&$.multiple)?$!=null&&$.id.includes(mt.id):($==null?void 0:$.id)===mt.id){if($!=null&&$.multiple&&Array.isArray($.value)){const ae=$.value.findIndex(Pe=>Rn(Pe,At(mt.checkedValue)));if(ae>-1){const Pe=[...$.value];Pe.splice(ae,1),S.setFieldValue(D,Pe)}Array.isArray($.id)&&$.id.splice($.id.indexOf(mt.id),1)}else S.unsetPathValue(At(O));S.removePathState(D,F)}}),mt}function y6(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?tv(ah(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const u="valueProp"in e?e.valueProp:e.checkedValue,a="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function w6(e,t,n){const i=n!=null&&n.standalone?void 0:iC(Xh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=qe(()=>{const m=At(l.value),v=At(o);return Array.isArray(m)?m.findIndex(b=>Rn(b,v))>=0:Rn(v,m)});function p(m,v=!0){var b,_;if(d.value===((b=m==null?void 0:m.target)===null||b===void 0?void 0:b.checked)){v&&l.validate();return}const T=At(e),S=i==null?void 0:i.getPathState(T),O=Yf(m);let P=(_=At(o))!==null&&_!==void 0?_:O;i&&(S!=null&&S.multiple)&&S.type==="checkbox"?P=fI(Fn(i.values,T)||[],P,void 0):(n==null?void 0:n.type)==="checkbox"&&(P=fI(At(l.value),P,At(u))),f(P,v)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:p})}return a(lC(e,t,n))}function b6({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=ah();if(!o||!e)return;const u=typeof e=="string"?e:"modelValue",a=`update:${u}`;u in o.props&&(ir(t,l=>{Rn(l,tv(o,u))||o.emit(a,l)}),ir(()=>tv(o,u),l=>{if(l===Wf&&t.value===void 0)return;const f=l===Wf?void 0:l;Rn(f,t.value)||n(f,i())}))}function tv(e,t){if(e)return e.props[t]}const _6=cc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Ui().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Wf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Pi(e,"rules"),i=Pi(e,"name"),o=Pi(e,"label"),u=Pi(e,"uncheckedValue"),a=Pi(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:p,handleChange:m,handleBlur:v,setTouched:b,resetField:_,handleReset:T,meta:S,checked:O,setErrors:P}=v6(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:I6(e,t),checkedValue:t.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),F=function(ie,k=!0){m(ie,k)},B=qe(()=>{const{validateOnInput:z,validateOnChange:ie,validateOnBlur:k,validateOnModelUpdate:Xe}=E6(e);function ut(ue){v(ue,k),nn(t.attrs.onBlur)&&t.attrs.onBlur(ue)}function at(ue){F(ue,z),nn(t.attrs.onInput)&&t.attrs.onInput(ue)}function ht(ue){F(ue,ie),nn(t.attrs.onChange)&&t.attrs.onChange(ue)}const Ye={name:e.name,onBlur:ut,onInput:at,onChange:ht};return Ye["onUpdate:modelValue"]=ue=>F(ue,Xe),Ye}),te=qe(()=>{const z=Object.assign({},B.value);Rc(t.attrs.type)&&O&&(z.checked=O.value);const ie=gI(e,t);return Wq(ie,t.attrs)&&(z.value=f.value),z}),j=qe(()=>Object.assign(Object.assign({},B.value),{modelValue:f.value}));function we(){return{field:te.value,componentField:j.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:p,resetField:_,handleChange:F,handleInput:z=>F(z,!1),handleReset:T,handleBlur:B.value.onBlur,setTouched:b,setErrors:P}}return t.expose({setErrors:P,setTouched:b,reset:_,validate:p,handleChange:m}),()=>{const z=bv(gI(e,t)),ie=Jy(z,t,we);return z?Ws(z,Object.assign(Object.assign({},t.attrs),te.value),ie):ie}}});function gI(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function E6(e){var t,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Ui();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:u,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function I6(e,t){return Rc(t.attrs.type)?aI(e,"modelValue")?e.modelValue:void 0:aI(e,"modelValue")?e.modelValue:t.attrs.value}const T6=_6;let S6=0;const ya=["bails","fieldsCount","id","multiple","type","validate"];function fC(e){const t=Ge(e==null?void 0:e.initialValues)||{},n=Ge(e==null?void 0:e.validationSchema);return n&&Gi(n)&&nn(n.cast)?dt(n.cast(t)||{}):dt(t)}function A6(e){var t;const n=S6++;let i=0;const o=An(!1),u=An(!1),a=An(0),l=[],f=li(fC(e)),d=An([]),p=An({}),m=An({}),v=Yq(()=>{m.value=d.value.reduce((N,x)=>(N[Ia(At(x.path))]=x,N),{})});function b(N,x){const K=ue(N);if(!K){typeof N=="string"&&(p.value[Ia(N)]=Zm(x));return}if(typeof N=="string"){const oe=Ia(N);p.value[oe]&&delete p.value[oe]}K.errors=Zm(x),K.valid=!K.errors.length}function _(N){hr(N).forEach(x=>{b(x,N[x])})}e!=null&&e.initialErrors&&_(e.initialErrors);const T=qe(()=>{const N=d.value.reduce((x,K)=>(K.errors.length&&(x[K.path]=K.errors),x),{});return Object.assign(Object.assign({},p.value),N)}),S=qe(()=>hr(T.value).reduce((N,x)=>{const K=T.value[x];return K!=null&&K.length&&(N[x]=K[0]),N},{})),O=qe(()=>d.value.reduce((N,x)=>(N[x.path]={name:x.path||"",label:x.label||""},N),{})),P=qe(()=>d.value.reduce((N,x)=>{var K;return N[x.path]=(K=x.bails)!==null&&K!==void 0?K:!0,N},{})),F=Object.assign({},(e==null?void 0:e.initialErrors)||{}),B=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:te,originalInitialValues:j,setInitialValues:we}=C6(d,f,e),z=k6(d,f,j,S),ie=qe(()=>d.value.reduce((N,x)=>{const K=Fn(f,x.path);return To(N,x.path,K),N},{})),k=e==null?void 0:e.validationSchema;function Xe(N,x){var K,oe;const fe=qe(()=>Fn(te.value,At(N))),Ce=m.value[At(N)];if(Ce){((x==null?void 0:x.type)==="checkbox"||(x==null?void 0:x.type)==="radio")&&(Ce.multiple=!0);const cn=i++;return Array.isArray(Ce.id)?Ce.id.push(cn):Ce.id=[Ce.id,cn],Ce.fieldsCount++,Ce.__flags.pendingUnmount[cn]=!1,Ce}const je=qe(()=>Fn(f,At(N))),Ne=At(N),Fe=i++,De=li({id:Fe,path:N,touched:!1,pending:!1,valid:!0,validated:!!(!((K=F[Ne])===null||K===void 0)&&K.length),initialValue:fe,errors:BI([]),bails:(oe=x==null?void 0:x.bails)!==null&&oe!==void 0?oe:!1,label:x==null?void 0:x.label,type:(x==null?void 0:x.type)||"default",value:je,multiple:!1,__flags:{pendingUnmount:{[Fe]:!1},pendingReset:!1},fieldsCount:1,validate:x==null?void 0:x.validate,dirty:qe(()=>!Rn(Ge(je),Ge(fe)))});return d.value.push(De),m.value[Ne]=De,v(),S.value[Ne]&&!F[Ne]&&Br(()=>{ee(Ne,{mode:"silent"})}),ft(N)&&ir(N,cn=>{v();const ln=dt(je.value);m.value[cn]=De,Br(()=>{To(f,cn,ln)})}),De}const ut=hI(ve,5),at=hI(ve,5),ht=Jm(async N=>await N==="silent"?ut():at(),(N,[x])=>{const K=hr(me.errorBag.value);return[...new Set([...hr(N.results),...d.value.map(fe=>fe.path),...K])].sort().reduce((fe,Ce)=>{const je=Ce,Ne=ue(je)||Me(je),Fe=(N.results[je]||{errors:[]}).errors,De={errors:Fe,valid:!Fe.length};return fe.results[je]=De,De.valid||(fe.errors[je]=De.errors[0]),Ne&&p.value[je]&&delete p.value[je],Ne?(Ne.valid=De.valid,x==="silent"||x==="validated-only"&&!Ne.validated||b(Ne,De.errors),fe):(b(je,Fe),fe)},{valid:N.valid,results:{},errors:{}})});function Ye(N){d.value.forEach(N)}function ue(N){const x=typeof N=="string"?Ia(N):N;return typeof x=="string"?m.value[x]:x}function Me(N){return d.value.filter(K=>N.startsWith(K.path)).reduce((K,oe)=>K?oe.path.length>K.path.length?oe:K:oe,void 0)}let ge=[],gt;function Ct(N){return ge.push(N),gt||(gt=Br(()=>{[...ge].sort().reverse().forEach(K=>{lI(f,K)}),ge=[],gt=null})),gt}function Ht(N){return function(K,oe){return function(Ce){return Ce instanceof Event&&(Ce.preventDefault(),Ce.stopPropagation()),Ye(je=>je.touched=!0),o.value=!0,a.value++,Q().then(je=>{const Ne=dt(f);if(je.valid&&typeof K=="function"){const Fe=dt(ie.value);let De=N?Fe:Ne;return je.values&&(De=je.values),K(De,{evt:Ce,controlledValues:Fe,setErrors:_,setFieldError:b,setTouched:V,setFieldTouched:I,setValues:Z,setFieldValue:D,resetForm:re,resetField:W})}!je.valid&&typeof oe=="function"&&oe({values:Ne,evt:Ce,errors:je.errors,results:je.results})}).then(je=>(o.value=!1,je),je=>{throw o.value=!1,je})}}}const mt=Ht(!1);mt.withControlled=Ht(!0);function zn(N,x){const K=d.value.findIndex(fe=>fe.path===N),oe=d.value[K];if(!(K===-1||!oe)){if(Br(()=>{ee(N,{mode:"silent",warn:!1})}),oe.multiple&&oe.fieldsCount&&oe.fieldsCount--,Array.isArray(oe.id)){const fe=oe.id.indexOf(x);fe>=0&&oe.id.splice(fe,1),delete oe.__flags.pendingUnmount[x]}(!oe.multiple||oe.fieldsCount<=0)&&(d.value.splice(K,1),Y(N),v(),delete m.value[N])}}function de(N){return Ye(x=>{x.path.startsWith(N)&&hr(x.__flags.pendingUnmount).forEach(K=>{x.__flags.pendingUnmount[K]=!0})})}const me={formId:n,values:f,controlledValues:ie,errorBag:T,errors:S,schema:k,submitCount:a,meta:z,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:B,validateSchema:Ge(k)?ht:void 0,validate:Q,setFieldError:b,validateField:ee,setFieldValue:D,setValues:Z,setErrors:_,setFieldTouched:I,setTouched:V,resetForm:re,resetField:W,handleSubmit:mt,stageInitialValue:be,unsetInitialValue:Y,setFieldInitialValue:ce,useFieldModel:Pe,createPathState:Xe,getPathState:ue,unsetPathValue:Ct,removePathState:zn,initialValues:te,getAllPathStates:()=>d.value,markForUnmount:de,isFieldTouched:A,isFieldDirty:R,isFieldValid:U};function D(N,x,K=!0){const oe=dt(x),fe=typeof N=="string"?N:N.path;ue(fe)||Xe(fe),To(f,fe,oe),K&&ee(fe)}function $(N,x=!0){hr(f).forEach(K=>{delete f[K]}),hr(N).forEach(K=>{D(K,N[K],!1)}),x&&Q()}function Z(N,x=!0){Gf(f,N),l.forEach(K=>K&&K.reset()),x&&Q()}function ae(N){const x=ue(Ge(N))||Xe(N);return qe({get(){return x.value},set(K){const oe=Ge(N);D(oe,K,!1),x.validated=!0,x.pending=!0,ee(oe).then(()=>{x.pending=!1})}})}function Pe(N){return Array.isArray(N)?N.map(ae):ae(N)}function I(N,x){const K=ue(N);K&&(K.touched=x)}function A(N){var x;return!!(!((x=ue(N))===null||x===void 0)&&x.touched)}function R(N){var x;return!!(!((x=ue(N))===null||x===void 0)&&x.dirty)}function U(N){var x;return!!(!((x=ue(N))===null||x===void 0)&&x.valid)}function V(N){if(typeof N=="boolean"){Ye(x=>{x.touched=N});return}hr(N).forEach(x=>{I(x,!!N[x])})}function W(N,x){var K;const oe=x&&"value"in x?x.value:Fn(te.value,N),fe=ue(N);fe&&(fe.__flags.pendingReset=!0),ce(N,dt(oe)),D(N,oe,!1),I(N,(K=x==null?void 0:x.touched)!==null&&K!==void 0?K:!1),b(N,(x==null?void 0:x.errors)||[]),Br(()=>{fe&&(fe.__flags.pendingReset=!1)})}function re(N,x){let K=N!=null&&N.values?N.values:j.value;K=Gi(k)&&nn(k.cast)?k.cast(K):K,we(K),Ye(oe=>{var fe;oe.__flags.pendingReset=!0,oe.validated=!1,oe.touched=((fe=N==null?void 0:N.touched)===null||fe===void 0?void 0:fe[oe.path])||!1,D(oe.path,Fn(K,oe.path),!1),b(oe.path,void 0)}),x!=null&&x.force?$(K,!1):Z(K,!1),_((N==null?void 0:N.errors)||{}),a.value=(N==null?void 0:N.submitCount)||0,Br(()=>{Q({mode:"silent"}),Ye(oe=>{oe.__flags.pendingReset=!1})})}async function Q(N){const x=(N==null?void 0:N.mode)||"force";if(x==="force"&&Ye(Ce=>Ce.validated=!0),me.validateSchema)return me.validateSchema(x);u.value=!0;const K=await Promise.all(d.value.map(Ce=>Ce.validate?Ce.validate(N).then(je=>({key:Ce.path,valid:je.valid,errors:je.errors})):Promise.resolve({key:Ce.path,valid:!0,errors:[]})));u.value=!1;const oe={},fe={};for(const Ce of K)oe[Ce.key]={valid:Ce.valid,errors:Ce.errors},Ce.errors.length&&(fe[Ce.key]=Ce.errors[0]);return{valid:K.every(Ce=>Ce.valid),results:oe,errors:fe}}async function ee(N,x){var K;const oe=ue(N);if(oe&&(x==null?void 0:x.mode)!=="silent"&&(oe.validated=!0),k){const{results:fe}=await ht((x==null?void 0:x.mode)||"validated-only");return fe[N]||{errors:[],valid:!0}}return oe!=null&&oe.validate?oe.validate(x):(!oe&&(K=x==null?void 0:x.warn),Promise.resolve({errors:[],valid:!0}))}function Y(N){lI(te.value,N)}function be(N,x,K=!1){ce(N,x),To(f,N,x),K&&!(e!=null&&e.initialValues)&&To(j.value,N,dt(x))}function ce(N,x){To(te.value,N,dt(x))}async function ve(){const N=Ge(k);if(!N)return{valid:!0,results:{},errors:{}};u.value=!0;const x=Xf(N)||Gi(N)?await l6(N,f):await f6(N,f,{names:O.value,bailsMap:P.value});return u.value=!1,x}const ke=mt((N,{evt:x})=>{rC(x)&&x.target.submit()});yv(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&V(e.initialTouched),e!=null&&e.validateOnMount){Q();return}me.validateSchema&&me.validateSchema("silent")}),ft(k)&&ir(k,()=>{var N;(N=me.validateSchema)===null||N===void 0||N.call(me,"validated-only")}),Vs(Xh,me);function Be(N,x){const K=ue(At(N))||Xe(N),oe=()=>nn(x)?x(va(K,ya)):x||{};function fe(){var Ne;K.touched=!0,((Ne=oe().validateOnBlur)!==null&&Ne!==void 0?Ne:Ui().validateOnBlur)&&ee(K.path)}function Ce(Ne){var Fe;const De=(Fe=oe().validateOnModelUpdate)!==null&&Fe!==void 0?Fe:Ui().validateOnModelUpdate;D(K.path,Ne,De)}return qe(()=>{if(nn(x)){const De=x(K),cn=De.model||"modelValue";return Object.assign({onBlur:fe,[cn]:K.value,[`onUpdate:${cn}`]:Ce},De.props||{})}const Ne=(x==null?void 0:x.model)||"modelValue",Fe={onBlur:fe,[Ne]:K.value,[`onUpdate:${Ne}`]:Ce};return x!=null&&x.mapProps?Object.assign(Object.assign({},Fe),x.mapProps(va(K,ya))):Fe})}function Ee(N,x){const K=ue(At(N))||Xe(N),oe=()=>nn(x)?x(va(K,ya)):x||{};function fe(){var Fe;K.touched=!0,((Fe=oe().validateOnBlur)!==null&&Fe!==void 0?Fe:Ui().validateOnBlur)&&ee(K.path)}function Ce(Fe){var De;const cn=Yf(Fe),ln=(De=oe().validateOnInput)!==null&&De!==void 0?De:Ui().validateOnInput;D(K.path,cn,ln)}function je(Fe){var De;const cn=Yf(Fe),ln=(De=oe().validateOnChange)!==null&&De!==void 0?De:Ui().validateOnChange;D(K.path,cn,ln)}return qe(()=>{const Fe={value:K.value,onChange:je,onInput:Ce,onBlur:fe};return nn(x)?Object.assign(Object.assign({},Fe),x(va(K,ya)).attrs||{}):x!=null&&x.mapAttrs?Object.assign(Object.assign({},Fe),x.mapAttrs(va(K,ya))):Fe})}return Object.assign(Object.assign({},me),{values:hv(f),handleReset:()=>re(),submitForm:ke,defineComponentBinds:Be,defineInputBinds:Ee})}function k6(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},u=qe(()=>!Rn(t,Ge(n)));function a(){const f=e.value;return hr(o).reduce((d,p)=>{const m=o[p];return d[p]=f[m](v=>v[p]),d},{})}const l=li(a());return yP(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),qe(()=>Object.assign(Object.assign({initialValues:Ge(n)},l),{valid:l.valid&&!hr(i.value).length,dirty:u.value}))}function C6(e,t,n){const i=fC(n),o=n==null?void 0:n.initialValues,u=An(i),a=An(dt(i));function l(f,d=!1){u.value=Gf(dt(u.value)||{},dt(f)),a.value=Gf(dt(a.value)||{},dt(f)),d&&e.value.forEach(p=>{if(p.touched)return;const v=Fn(u.value,p.path);To(t,p.path,dt(v))})}return ft(o)&&ir(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:u,originalInitialValues:a,setInitialValues:l}}const x6=cc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Pi(e,"initialValues"),i=Pi(e,"validationSchema"),o=Pi(e,"keepValues"),{errors:u,errorBag:a,values:l,meta:f,isSubmitting:d,isValidating:p,submitCount:m,controlledValues:v,validate:b,validateField:_,handleReset:T,resetForm:S,handleSubmit:O,setErrors:P,setFieldError:F,setFieldValue:B,setValues:te,setFieldTouched:j,setTouched:we,resetField:z}=A6({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),ie=O((Me,{evt:ge})=>{rC(ge)&&ge.target.submit()},e.onInvalidSubmit),k=e.onSubmit?O(e.onSubmit,e.onInvalidSubmit):ie;function Xe(Me){Yy(Me)&&Me.preventDefault(),T(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function ut(Me,ge){return O(typeof Me=="function"&&!ge?Me:ge,e.onInvalidSubmit)(Me)}function at(){return dt(l)}function ht(){return dt(f.value)}function Ye(){return dt(u.value)}function ue(){return{meta:f.value,errors:u.value,errorBag:a.value,values:l,isSubmitting:d.value,isValidating:p.value,submitCount:m.value,controlledValues:v.value,validate:b,validateField:_,handleSubmit:ut,handleReset:T,submitForm:ie,setErrors:P,setFieldError:F,setFieldValue:B,setValues:te,setFieldTouched:j,setTouched:we,resetForm:S,resetField:z,getValues:at,getMeta:ht,getErrors:Ye}}return t.expose({setFieldError:F,setErrors:P,setFieldValue:B,setValues:te,setFieldTouched:j,setTouched:we,resetForm:S,validate:b,validateField:_,resetField:z,getValues:at,getMeta:ht,getErrors:Ye}),function(){const ge=e.as==="form"?e.as:e.as?bv(e.as):null,gt=Jy(ge,t,ue);return ge?Ws(ge,Object.assign(Object.assign(Object.assign({},ge==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:k,onReset:Xe}),gt):gt}}}),N6=x6,R6=cc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=gr(Xh,void 0),i=qe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=e.as?bv(e.as):e.as,a=Jy(u,t,o),l=Object.assign({role:"alert"},t.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Ws(u||"span",l,i.value):Ws(u,l,a)}}}),O6=R6;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Jl={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},P6=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function xu(e,t){return Array.isArray(e)?e[0]:e[t]}function gi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const hC=(e,t)=>{if(gi(e))return!0;const n=P6(t);if(Array.isArray(e))return e.every(o=>hC(o,{locale:n}));const i=String(e);return n?(Jl[n]||Jl.en).test(i):Object.keys(Jl).some(o=>Jl[o].test(i))},D6=(e,t)=>{const n=xu(t,"target");return String(e)===String(n)},dC=(e,t)=>{if(gi(e))return!0;const n=xu(t,"length");if(Array.isArray(e))return e.every(o=>dC(o,{length:n}));const i=String(e);return/^[0-9]*$/.test(i)&&i.length===Number(n)},L6=e=>{if(gi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function M6(e){return e==null}function F6(e){return Array.isArray(e)&&e.length===0}const pC=(e,t)=>{if(gi(e))return!0;const n=xu(t,"length");return Array.isArray(e)?e.every(i=>pC(i,{length:n})):[...String(e)].length<=Number(n)},gC=(e,t)=>{if(gi(e))return!0;const n=xu(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>gC(i,{max:n})):Number(e)<=Number(n)},mC=(e,t)=>{if(gi(e))return!0;const n=xu(t,"length");return Array.isArray(e)?e.every(i=>mC(i,{length:n})):[...String(e)].length>=Number(n)},vC=(e,t)=>{if(gi(e))return!0;const n=xu(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>vC(i,{min:n})):Number(e)>=Number(n)},yC=(e,t)=>gi(e)?!0:Array.isArray(e)?e.every(n=>yC(n,t)):Array.from(t).some(n=>n==e),mI=(e,t)=>gi(e)?!0:!yC(e,t),vI=e=>M6(e)||F6(e)||e===!1?!1:!!String(e).trim().length;function U6(e,t){const n=t[0],i=new Date(e),o=new Date;return o.setFullYear(o.getFullYear()-n),i.getTime()<=o.getTime()}const j6={install(e){e.component("VeeForm",N6),e.component("VeeField",T6),e.component("ErrorMessage",O6),Yn("required",vI),Yn("tos",vI),Yn("min",mC),Yn("max",pC),Yn("alpha_spaces",hC),Yn("email",L6),Yn("min_value",vC),Yn("max_value",gC),Yn("passwords_missmatch",D6),Yn("excluded",mI),Yn("country_excluded",mI),Yn("digits",dC),Yn("minAge",U6),i6({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} must have at least ${t.rule.params} characters.`,max:`The field ${t.field} maximun length is ${t.rule.params}.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} can't be under ${t.rule.params}.`,max_value:`The field ${t.field} can't be above ${t.rule.params}.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${t.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${t.field} must be a valid phone number (012345678)`,minAge:`You must be at least ${t.rule.params} years old`};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Ns;sr.onAuthStateChanged(()=>{Ns||(Ns=RD(L4),Ns.use(DD()),Ns.use(Zk),Ns.use(j6),Ns.mount("#app"))});
