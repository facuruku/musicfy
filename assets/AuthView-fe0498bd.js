import{E as S,A as L,C as V,R,a as A,h as C,_ as v,r as i,o as d,c as m,n as g,t as r,p as T,d as o,e as u,b as e,g as b,F as $,I as E,D as _,q as M,w as F,v as P}from"./index-4c8252de.js";const q={name:"LoginForm",emits:["login-success"],components:{ErrorMessage:S,VeeField:L,VeeForm:V,RouterLink:R},data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},togglePassword:!1,login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Logging in."}},methods:{...A(C,["authenticate"]),async login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(t),this.$refs.loginForm.resetForm(),this.login_show_alert=!1,this.login_in_submission=!1,this.$emit("login-success")}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect."}}}},B={class:"mb-3"},I=e("label",{for:"email",class:"inline-block mb-2"},"Email",-1),U={class:"mb-3"},D={for:"password",class:"inline-block mb-2"},z={class:"flex items-center"},N=["type","placeholder"],O=["disabled"],j={class:"text-center underline"};function G(t,n,y,x,s,c){const a=i("VeeField"),l=i("ErrorMessage"),h=i("RouterLink"),k=i("VeeForm");return d(),m($,null,[s.login_show_alert?(d(),m("div",{key:0,class:g(["text-black text-center font-bold p-4 rounded mb-4",s.login_alert_variant])},r(s.login_alert_msg),3)):T("",!0),o(k,{class:"flex flex-col gap-2","validation-schema":s.loginSchema,onSubmit:c.login,ref:"loginForm"},{default:u(()=>[e("div",B,[I,o(a,{id:"email",name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:t.$t("auth.form.emailPlaceholder"),autocomplete:"email"},null,8,["placeholder"]),o(l,{class:"text-red-600 block",name:"email"})]),e("div",U,[e("label",D,r(t.$t("auth.form.passwordLabel")),1),o(a,{name:"password",bails:!1},{default:u(({field:p,errors:f})=>[e("div",z,[e("input",b(p,{type:s.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:t.$t("auth.form.passwordLabel"),autocomplete:"current-password"}),null,16,N),e("i",{onClick:n[0]||(n[0]=w=>s.togglePassword=!s.togglePassword),class:g(["absolute -right-0 mr-12 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":s.togglePassword,"fa-regular fa-eye":!s.togglePassword}])},null,2)]),o(l,b(f,{class:"text-red-600 block",name:"password"}),null,16)]),_:1})]),e("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 mb-3 rounded-full transition hover:scale-105",disabled:s.login_in_submission},r(t.$t("auth.button.login")),9,O),e("div",j,[o(h,{to:{name:"resetPassword"}},{default:u(()=>[e("span",null,r(t.$t("auth.button.forgotPassword")),1)]),_:1})])]),_:1},8,["validation-schema","onSubmit"])],64)}const Y=v(q,[["render",G]]),H={name:"RegisterForm",emits:["register-success"],components:{I18nT:E,ErrorMessage:S,VeeField:L,VeeForm:V},data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},togglePassword:!1,toggleConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500",reg_success_variant:"bg-[#1ed760]"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(t){this.initRegisterAlert();try{await this.createUser(t)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.$refs.registerForm.resetForm(),this.reg_show_alert=!0,this.reg_in_submission=!1,this.reg_alert_variant=this.reg_success_variant,this.reg_alert_msg="Account created successfully! Please check you email to verify your account.",this.$emit("register-success")},...A(C,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},J={class:""},K={class:"select-none group"},Q=e("sup",null,"*",-1),W={class:"invisible group-hover:visible"},X={class:""},Z={class:"select-none group"},ee=e("sup",null,"*",-1),te={class:"invisible group-hover:visible"},se={class:""},oe={class:"select-none"},re={class:""},ne={class:"select-none group"},ae=e("sup",null,"*",-1),le={class:"invisible group-hover:visible"},ie={class:""},ce={class:"select-none group"},de=e("sup",null,"*",-1),ue={class:"invisible group-hover:visible"},he={class:"flex items-center"},me=["placeholder","type"],ge={class:""},_e={class:"select-none group"},pe=e("sup",null,"*",-1),be={class:"invisible group-hover:visible"},fe={class:"flex items-center"},we=["type","placeholder"],ve={class:""},ye={class:"select-none group"},xe=e("sup",null,"*",-1),ke={class:"invisible group-hover:visible"},$e=e("option",{value:"Argentina"},"Argentina",-1),Pe=e("option",{value:"United States"},"United States",-1),Fe=e("option",{value:"Spain"},"Spain",-1),Se=e("option",{value:"Germany"},"Germany",-1),Le=e("option",{value:"Antarctica"},"Antarctica",-1),Ve=e("option",{value:"Other"},"Other",-1),Ae={class:"mb-3 pl-6"},Ce={class:"hover:underline",href:"https://www.google.es/search?q=terms+of+service",target:"_blank"},Te={type:"submit",class:"block self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"};function Re(t,n,y,x,s,c){const a=i("VeeField"),l=i("ErrorMessage"),h=i("I18nT"),k=i("VeeForm");return d(),m($,null,[s.reg_show_alert?(d(),m("div",{key:0,class:g(["text-black text-center font-bold p-4 rounded mb-4",s.reg_alert_variant])},r(s.reg_alert_msg),3)):T("",!0),o(k,{class:"flex flex-col gap-4","validation-schema":s.registrationSchema,onSubmit:c.register,"initial-values":s.userData,ref:"registerForm"},{default:u(()=>[e("div",J,[e("label",K,[_(r(t.$t("auth.form.nameLabel"))+" ",1),Q,e("sup",W,r(t.$t("auth.form.mandatoryTooltip")),1)]),o(a,{id:"nameField",name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:t.$t("auth.form.namePlaceholder")},null,8,["placeholder"]),o(l,{class:"text-red-600",name:"name"})]),e("div",X,[e("label",Z,[_("Email "),ee,e("sup",te,r(t.$t("auth.form.mandatoryTooltip")),1)]),o(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:t.$t("auth.form.emailPlaceholder")},null,8,["placeholder"]),o(l,{class:"text-red-600",name:"email"})]),e("div",se,[e("label",oe,r(t.$t("auth.form.phoneLabel")),1),o(a,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:t.$t("auth.form.phonePlaceholder")},null,8,["placeholder"]),o(l,{class:"text-red-600",name:"phone"})]),e("div",re,[e("label",ne,[_(r(t.$t("auth.form.birthdateLabel"))+" ",1),ae,e("sup",le,r(t.$t("auth.form.mandatoryTooltip")),1)]),o(a,{name:"birthdate",type:"date",min:"1900-01-01",max:c.maxBirthdate,class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),o(l,{class:"text-red-600",name:"birthdate"})]),e("div",ie,[e("label",ce,[_(r(t.$t("auth.form.passwordLabel"))+" ",1),de,e("sup",ue,r(t.$t("auth.form.mandatoryTooltip")),1)]),o(a,{name:"password",bails:!1},{default:u(({field:p,errors:f})=>[e("div",he,[e("input",b(p,{placeholder:t.$t("auth.form.passwordPlaceholder"),type:s.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,me),e("i",{onClick:n[0]||(n[0]=w=>s.togglePassword=!s.togglePassword),class:g(["absolute -right-0 mr-12 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":!s.togglePassword,"fa-regular fa-eye":s.togglePassword}])},null,2)]),(d(!0),m($,null,M(f,w=>(d(),m("div",{class:"text-red-600",key:w},r(w),1))),128))]),_:1})]),e("div",ge,[e("label",_e,[_(r(t.$t("auth.form.confirmPasswordLabel"))+" ",1),pe,e("sup",be,r(t.$t("auth.form.mandatoryTooltip")),1)]),o(a,{name:"confirmPassword",bails:!1},{default:u(({field:p})=>[e("div",fe,[e("input",b(p,{type:s.toggleConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:t.$t("auth.form.confirmPasswordPlaceholder")}),null,16,we),e("i",{onClick:n[1]||(n[1]=f=>s.toggleConfirmPassword=!s.toggleConfirmPassword),class:g(["absolute -right-0 mr-12 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":!s.toggleConfirmPassword,"fa-regular fa-eye":s.toggleConfirmPassword}])},null,2)])]),_:1}),o(l,{class:"text-red-600",name:"confirmPassword"})]),e("div",ve,[e("label",ye,[_(r(t.$t("auth.form.countryLabel"))+" ",1),xe,e("sup",ke,r(t.$t("auth.form.mandatoryTooltip")),1)]),o(a,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:u(()=>[$e,Pe,Fe,Se,Le,Ve]),_:1}),o(l,{class:"text-red-600",name:"country"})]),e("div",Ae,[o(a,{name:"tos",id:"tos",type:"checkbox",value:"true",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),o(h,{keypath:"auth.form.accept",tag:"label",for:"tos"},{default:u(()=>[e("a",Ce,r(t.$t("auth.form.tos")),1)]),_:1}),o(l,b(t.errors,{class:"text-red-600 block",name:"tos"}),null,16)]),e("button",Te,r(t.$t("auth.button.register")),1)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Ee=v(H,[["render",Re]]),Me={name:"AuthModal",components:{LoginForm:Y,RegisterForm:Ee},data(){return{tab:"login"}},methods:{handleLoginTab(){this.tab="login",this.$nextTick(()=>document.getElementById("email").focus())},handleRegisterTab(){this.tab="register",this.$nextTick(()=>document.getElementById("name").focus())},handleLoginSuccess(){this.$router.push({name:"home"})},handleRegisterSuccess(){}}},qe={class:"grid justify-center items-center sm:p-2 h-full bg-gradient-2",id:"modal"},Be={class:"flex flex-col justify-center bg-black sm:rounded-lg w-96 h-full sm:h-auto text-left text-white py-10 px-12 md:shadow-lg shadow-white transform transition-all"},Ie={class:"text-2xl font-bold pb-4"},Ue={class:"flex flex-wrap mb-4 gap-4"},De={class:"flex-auto text-center"},ze={class:"flex-auto text-center"};function Ne(t,n,y,x,s,c){const a=i("LoginForm"),l=i("RegisterForm");return d(),m("main",qe,[e("div",Be,[e("p",Ie,r(t.$t("auth.account")),1),e("ul",Ue,[e("li",De,[e("button",{class:g(["w-full rounded-full p-2 transition font-bold",{"text-black bg-[#1ed760]":s.tab==="login","hover:scale-105 hover:text-[#1ed760]":s.tab==="register"}]),onClick:n[0]||(n[0]=F(h=>c.handleLoginTab(),["prevent"]))},r(t.$t("auth.tab.login")),3)]),e("li",ze,[e("button",{class:g(["w-full rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":s.tab==="register","hover:scale-105 hover:text-[#1ed760]":s.tab==="login"}]),onClick:n[1]||(n[1]=F(h=>c.handleRegisterTab(),["prevent"]))},r(t.$t("auth.tab.register")),3)])]),s.tab==="login"?(d(),P(a,{key:0,onLoginSuccess:n[2]||(n[2]=h=>c.handleLoginSuccess())})):(d(),P(l,{key:1,onRegisterSuccess:n[3]||(n[3]=h=>c.handleRegisterSuccess())}))])])}const Oe=v(Me,[["render",Ne]]),je={name:"AuthView",components:{AuthModal:Oe}};function Ge(t,n,y,x,s,c){const a=i("AuthModal");return d(),P(a)}const He=v(je,[["render",Ge]]);export{He as default};
