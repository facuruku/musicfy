(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Gy(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const Nt={},xa=[],Kr=()=>{},qL=()=>!1,HL=/^on[^a-z]/,ud=e=>HL.test(e),zy=e=>e.startsWith("onUpdate:"),nn=Object.assign,Yy=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},WL=Object.prototype.hasOwnProperty,lt=(e,t)=>WL.call(e,t),xe=Array.isArray,Ra=e=>vc(e)==="[object Map]",ld=e=>vc(e)==="[object Set]",L1=e=>vc(e)==="[object Date]",Xe=e=>typeof e=="function",Yt=e=>typeof e=="string",Ll=e=>typeof e=="symbol",Tt=e=>e!==null&&typeof e=="object",yA=e=>Tt(e)&&Xe(e.then)&&Xe(e.catch),_A=Object.prototype.toString,vc=e=>_A.call(e),KL=e=>vc(e).slice(8,-1),bA=e=>vc(e)==="[object Object]",Xy=e=>Yt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,fh=Gy(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cd=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},GL=/-(\w)/g,vi=cd(e=>e.replace(GL,(t,n)=>n?n.toUpperCase():"")),zL=/\B([A-Z])/g,cu=cd(e=>e.replace(zL,"-$1").toLowerCase()),fd=cd(e=>e.charAt(0).toUpperCase()+e.slice(1)),Bg=cd(e=>e?`on${fd(e)}`:""),Ml=(e,t)=>!Object.is(e,t),hh=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Eh=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},wA=e=>{const t=parseFloat(e);return isNaN(t)?e:t},YL=e=>{const t=Yt(e)?Number(e):NaN;return isNaN(t)?e:t};let M1;const kv=()=>M1||(M1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hd(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Yt(r)?ZL(r):hd(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Yt(e))return e;if(Tt(e))return e}}const XL=/;(?![^(]*\))/g,QL=/:([^]+)/,JL=/\/\*[^]*?\*\//g;function ZL(e){const t={};return e.replace(JL,"").split(XL).forEach(n=>{if(n){const r=n.split(QL);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ft(e){let t="";if(Yt(e))t=e;else if(xe(e))for(let n=0;n<e.length;n++){const r=Ft(e[n]);r&&(t+=r+" ")}else if(Tt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const eM="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tM=Gy(eM);function EA(e){return!!e||e===""}function nM(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=dd(e[r],t[r]);return n}function dd(e,t){if(e===t)return!0;let n=L1(e),r=L1(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Ll(e),r=Ll(t),n||r)return e===t;if(n=xe(e),r=xe(t),n||r)return n&&r?nM(e,t):!1;if(n=Tt(e),r=Tt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),c=t.hasOwnProperty(u);if(l&&!c||!l&&c||!dd(e[u],t[u]))return!1}}return String(e)===String(t)}function rM(e,t){return e.findIndex(n=>dd(n,t))}const me=e=>Yt(e)?e:e==null?"":xe(e)||Tt(e)&&(e.toString===_A||!Xe(e.toString))?JSON.stringify(e,TA,2):String(e),TA=(e,t)=>t&&t.__v_isRef?TA(e,t.value):Ra(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:ld(t)?{[`Set(${t.size})`]:[...t.values()]}:Tt(t)&&!xe(t)&&!bA(t)?String(t):t;let vr;class IA{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vr,!t&&vr&&(this.index=(vr.scopes||(vr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=vr;try{return vr=this,t()}finally{vr=n}}}on(){vr=this}off(){vr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function Qy(e){return new IA(e)}function iM(e,t=vr){t&&t.active&&t.effects.push(e)}function SA(){return vr}function oM(e){vr&&vr.cleanups.push(e)}const Jy=e=>{const t=new Set(e);return t.w=0,t.n=0,t},AA=e=>(e.w&Ao)>0,kA=e=>(e.n&Ao)>0,sM=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ao},aM=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];AA(o)&&!kA(o)?o.delete(e):t[n++]=o,o.w&=~Ao,o.n&=~Ao}t.length=n}},Th=new WeakMap;let gl=0,Ao=1;const Cv=30;let Hr;const Ss=Symbol(""),Ov=Symbol("");class Zy{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,iM(this,r)}run(){if(!this.active)return this.fn();let t=Hr,n=bo;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Hr,Hr=this,bo=!0,Ao=1<<++gl,gl<=Cv?sM(this):F1(this),this.fn()}finally{gl<=Cv&&aM(this),Ao=1<<--gl,Hr=this.parent,bo=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Hr===this?this.deferStop=!0:this.active&&(F1(this),this.onStop&&this.onStop(),this.active=!1)}}function F1(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let bo=!0;const CA=[];function fu(){CA.push(bo),bo=!1}function hu(){const e=CA.pop();bo=e===void 0?!0:e}function lr(e,t,n){if(bo&&Hr){let r=Th.get(e);r||Th.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Jy()),OA(o)}}function OA(e,t){let n=!1;gl<=Cv?kA(e)||(e.n|=Ao,n=!AA(e)):n=!e.has(Hr),n&&(e.add(Hr),Hr.deps.push(e))}function Mi(e,t,n,r,o,s){const u=Th.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&xe(e)){const c=Number(r);u.forEach((d,g)=>{(g==="length"||g>=c)&&l.push(d)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":xe(e)?Xy(n)&&l.push(u.get("length")):(l.push(u.get(Ss)),Ra(e)&&l.push(u.get(Ov)));break;case"delete":xe(e)||(l.push(u.get(Ss)),Ra(e)&&l.push(u.get(Ov)));break;case"set":Ra(e)&&l.push(u.get(Ss));break}if(l.length===1)l[0]&&Nv(l[0]);else{const c=[];for(const d of l)d&&c.push(...d);Nv(Jy(c))}}function Nv(e,t){const n=xe(e)?e:[...e];for(const r of n)r.computed&&V1(r);for(const r of n)r.computed||V1(r)}function V1(e,t){(e!==Hr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function uM(e,t){var n;return(n=Th.get(e))==null?void 0:n.get(t)}const lM=Gy("__proto__,__v_isRef,__isVue"),NA=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ll)),cM=e_(),fM=e_(!1,!0),hM=e_(!0),U1=dM();function dM(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ut(this);for(let s=0,u=this.length;s<u;s++)lr(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(ut)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){fu();const r=ut(this)[t].apply(this,n);return hu(),r}}),e}function pM(e){const t=ut(this);return lr(t,"has",e),t.hasOwnProperty(e)}function e_(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?NM:LA:t?DA:RA).get(r))return r;const u=xe(r);if(!e){if(u&&lt(U1,o))return Reflect.get(U1,o,s);if(o==="hasOwnProperty")return pM}const l=Reflect.get(r,o,s);return(Ll(o)?NA.has(o):lM(o))||(e||lr(r,"get",o),t)?l:wt(l)?u&&Xy(o)?l:l.value:Tt(l)?e?md(l):yi(l):l}}const mM=PA(),gM=PA(!0);function PA(e=!1){return function(n,r,o,s){let u=n[r];if(Va(u)&&wt(u)&&!wt(o))return!1;if(!e&&(!Ih(o)&&!Va(o)&&(u=ut(u),o=ut(o)),!xe(n)&&wt(u)&&!wt(o)))return u.value=o,!0;const l=xe(n)&&Xy(r)?Number(r)<n.length:lt(n,r),c=Reflect.set(n,r,o,s);return n===ut(s)&&(l?Ml(o,u)&&Mi(n,"set",r,o):Mi(n,"add",r,o)),c}}function vM(e,t){const n=lt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Mi(e,"delete",t,void 0),r}function yM(e,t){const n=Reflect.has(e,t);return(!Ll(t)||!NA.has(t))&&lr(e,"has",t),n}function _M(e){return lr(e,"iterate",xe(e)?"length":Ss),Reflect.ownKeys(e)}const xA={get:cM,set:mM,deleteProperty:vM,has:yM,ownKeys:_M},bM={get:hM,set(e,t){return!0},deleteProperty(e,t){return!0}},wM=nn({},xA,{get:fM,set:gM}),t_=e=>e,pd=e=>Reflect.getPrototypeOf(e);function qf(e,t,n=!1,r=!1){e=e.__v_raw;const o=ut(e),s=ut(t);n||(t!==s&&lr(o,"get",t),lr(o,"get",s));const{has:u}=pd(o),l=r?t_:n?i_:Fl;if(u.call(o,t))return l(e.get(t));if(u.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Hf(e,t=!1){const n=this.__v_raw,r=ut(n),o=ut(e);return t||(e!==o&&lr(r,"has",e),lr(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Wf(e,t=!1){return e=e.__v_raw,!t&&lr(ut(e),"iterate",Ss),Reflect.get(e,"size",e)}function j1(e){e=ut(e);const t=ut(this);return pd(t).has.call(t,e)||(t.add(e),Mi(t,"add",e,e)),this}function $1(e,t){t=ut(t);const n=ut(this),{has:r,get:o}=pd(n);let s=r.call(n,e);s||(e=ut(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?Ml(t,u)&&Mi(n,"set",e,t):Mi(n,"add",e,t),this}function B1(e){const t=ut(this),{has:n,get:r}=pd(t);let o=n.call(t,e);o||(e=ut(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&Mi(t,"delete",e,void 0),s}function q1(){const e=ut(this),t=e.size!==0,n=e.clear();return t&&Mi(e,"clear",void 0,void 0),n}function Kf(e,t){return function(r,o){const s=this,u=s.__v_raw,l=ut(u),c=t?t_:e?i_:Fl;return!e&&lr(l,"iterate",Ss),u.forEach((d,g)=>r.call(o,c(d),c(g),s))}}function Gf(e,t,n){return function(...r){const o=this.__v_raw,s=ut(o),u=Ra(s),l=e==="entries"||e===Symbol.iterator&&u,c=e==="keys"&&u,d=o[e](...r),g=n?t_:t?i_:Fl;return!t&&lr(s,"iterate",c?Ov:Ss),{next(){const{value:h,done:p}=d.next();return p?{value:h,done:p}:{value:l?[g(h[0]),g(h[1])]:g(h),done:p}},[Symbol.iterator](){return this}}}}function Ji(e){return function(...t){return e==="delete"?!1:this}}function EM(){const e={get(s){return qf(this,s)},get size(){return Wf(this)},has:Hf,add:j1,set:$1,delete:B1,clear:q1,forEach:Kf(!1,!1)},t={get(s){return qf(this,s,!1,!0)},get size(){return Wf(this)},has:Hf,add:j1,set:$1,delete:B1,clear:q1,forEach:Kf(!1,!0)},n={get(s){return qf(this,s,!0)},get size(){return Wf(this,!0)},has(s){return Hf.call(this,s,!0)},add:Ji("add"),set:Ji("set"),delete:Ji("delete"),clear:Ji("clear"),forEach:Kf(!0,!1)},r={get(s){return qf(this,s,!0,!0)},get size(){return Wf(this,!0)},has(s){return Hf.call(this,s,!0)},add:Ji("add"),set:Ji("set"),delete:Ji("delete"),clear:Ji("clear"),forEach:Kf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=Gf(s,!1,!1),n[s]=Gf(s,!0,!1),t[s]=Gf(s,!1,!0),r[s]=Gf(s,!0,!0)}),[e,n,t,r]}const[TM,IM,SM,AM]=EM();function n_(e,t){const n=t?e?AM:SM:e?IM:TM;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(lt(n,o)&&o in r?n:r,o,s)}const kM={get:n_(!1,!1)},CM={get:n_(!1,!0)},OM={get:n_(!0,!1)},RA=new WeakMap,DA=new WeakMap,LA=new WeakMap,NM=new WeakMap;function PM(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xM(e){return e.__v_skip||!Object.isExtensible(e)?0:PM(KL(e))}function yi(e){return Va(e)?e:r_(e,!1,xA,kM,RA)}function MA(e){return r_(e,!1,wM,CM,DA)}function md(e){return r_(e,!0,bM,OM,LA)}function r_(e,t,n,r,o){if(!Tt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=xM(e);if(u===0)return e;const l=new Proxy(e,u===2?r:n);return o.set(e,l),l}function wo(e){return Va(e)?wo(e.__v_raw):!!(e&&e.__v_isReactive)}function Va(e){return!!(e&&e.__v_isReadonly)}function Ih(e){return!!(e&&e.__v_isShallow)}function FA(e){return wo(e)||Va(e)}function ut(e){const t=e&&e.__v_raw;return t?ut(t):e}function gd(e){return Eh(e,"__v_skip",!0),e}const Fl=e=>Tt(e)?yi(e):e,i_=e=>Tt(e)?md(e):e;function VA(e){bo&&Hr&&(e=ut(e),OA(e.dep||(e.dep=Jy())))}function UA(e,t){e=ut(e);const n=e.dep;n&&Nv(n)}function wt(e){return!!(e&&e.__v_isRef===!0)}function bt(e){return jA(e,!1)}function o_(e){return jA(e,!0)}function jA(e,t){return wt(e)?e:new RM(e,t)}class RM{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ut(t),this._value=n?t:Fl(t)}get value(){return VA(this),this._value}set value(t){const n=this.__v_isShallow||Ih(t)||Va(t);t=n?t:ut(t),Ml(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Fl(t),UA(this))}}function st(e){return wt(e)?e.value:e}function Ut(e){return Xe(e)?e():st(e)}const DM={get:(e,t,n)=>st(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return wt(o)&&!wt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function $A(e){return wo(e)?e:new Proxy(e,DM)}function LM(e){const t=xe(e)?new Array(e.length):{};for(const n in e)t[n]=BA(e,n);return t}class MM{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return uM(ut(this._object),this._key)}}class FM{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function fo(e,t,n){return wt(e)?e:Xe(e)?new FM(e):Tt(e)&&arguments.length>1?BA(e,t,n):bt(e)}function BA(e,t,n){const r=e[t];return wt(r)?r:new MM(e,t,n)}class VM{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Zy(t,()=>{this._dirty||(this._dirty=!0,UA(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=ut(this);return VA(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function UM(e,t,n=!1){let r,o;const s=Xe(e);return s?(r=e,o=Kr):(r=e.get,o=e.set),new VM(r,o,s||!o,n)}function Eo(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){vd(s,t,n)}return o}function Lr(e,t,n,r){if(Xe(e)){const s=Eo(e,t,n,r);return s&&yA(s)&&s.catch(u=>{vd(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(Lr(e[s],t,n,r));return o}function vd(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](e,u,l)===!1)return}s=s.parent}const c=t.appContext.config.errorHandler;if(c){Eo(c,null,10,[e,u,l]);return}}jM(e,n,o,r)}function jM(e,t,n,r=!0){console.error(e)}let Vl=!1,Pv=!1;const Rn=[];let hi=0;const Da=[];let Oi=null,ms=0;const qA=Promise.resolve();let s_=null;function qr(e){const t=s_||qA;return e?t.then(this?e.bind(this):e):t}function $M(e){let t=hi+1,n=Rn.length;for(;t<n;){const r=t+n>>>1;Ul(Rn[r])<e?t=r+1:n=r}return t}function a_(e){(!Rn.length||!Rn.includes(e,Vl&&e.allowRecurse?hi+1:hi))&&(e.id==null?Rn.push(e):Rn.splice($M(e.id),0,e),HA())}function HA(){!Vl&&!Pv&&(Pv=!0,s_=qA.then(KA))}function BM(e){const t=Rn.indexOf(e);t>hi&&Rn.splice(t,1)}function qM(e){xe(e)?Da.push(...e):(!Oi||!Oi.includes(e,e.allowRecurse?ms+1:ms))&&Da.push(e),HA()}function H1(e,t=Vl?hi+1:0){for(;t<Rn.length;t++){const n=Rn[t];n&&n.pre&&(Rn.splice(t,1),t--,n())}}function WA(e){if(Da.length){const t=[...new Set(Da)];if(Da.length=0,Oi){Oi.push(...t);return}for(Oi=t,Oi.sort((n,r)=>Ul(n)-Ul(r)),ms=0;ms<Oi.length;ms++)Oi[ms]();Oi=null,ms=0}}const Ul=e=>e.id==null?1/0:e.id,HM=(e,t)=>{const n=Ul(e)-Ul(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function KA(e){Pv=!1,Vl=!0,Rn.sort(HM);const t=Kr;try{for(hi=0;hi<Rn.length;hi++){const n=Rn[hi];n&&n.active!==!1&&Eo(n,null,14)}}finally{hi=0,Rn.length=0,WA(),Vl=!1,s_=null,(Rn.length||Da.length)&&KA()}}function WM(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Nt;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:p}=r[g]||Nt;p&&(o=n.map(v=>Yt(v)?v.trim():v)),h&&(o=n.map(wA))}let l,c=r[l=Bg(t)]||r[l=Bg(vi(t))];!c&&s&&(c=r[l=Bg(cu(t))]),c&&Lr(c,e,6,o);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Lr(d,e,6,o)}}function GA(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},l=!1;if(!Xe(e)){const c=d=>{const g=GA(d,t,!0);g&&(l=!0,nn(u,g))};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!s&&!l?(Tt(e)&&r.set(e,null),null):(xe(s)?s.forEach(c=>u[c]=null):nn(u,s),Tt(e)&&r.set(e,u),u)}function yd(e,t){return!e||!ud(t)?!1:(t=t.slice(2).replace(/Once$/,""),lt(e,t[0].toLowerCase()+t.slice(1))||lt(e,cu(t))||lt(e,t))}let sr=null,_d=null;function Sh(e){const t=sr;return sr=e,_d=e&&e.type.__scopeId||null,t}function KM(e){_d=e}function GM(){_d=null}function Ht(e,t=sr,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&nT(-1);const s=Sh(t);let u;try{u=e(...o)}finally{Sh(s),r._d&&nT(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function qg(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:l,attrs:c,emit:d,render:g,renderCache:h,data:p,setupState:v,ctx:_,inheritAttrs:w}=e;let S,b;const k=Sh(e);try{if(n.shapeFlag&4){const C=o||r;S=fi(g.call(C,C,h,s,v,p,_)),b=c}else{const C=t;S=fi(C.length>1?C(s,{attrs:c,slots:l,emit:d}):C(s,null)),b=t.props?c:zM(c)}}catch(C){El.length=0,vd(C,e,1),S=Ae(Gr)}let R=S;if(b&&w!==!1){const C=Object.keys(b),{shapeFlag:U}=R;C.length&&U&7&&(u&&C.some(zy)&&(b=YM(b,u)),R=Oo(R,b))}return n.dirs&&(R=Oo(R),R.dirs=R.dirs?R.dirs.concat(n.dirs):n.dirs),n.transition&&(R.transition=n.transition),S=R,Sh(k),S}const zM=e=>{let t;for(const n in e)(n==="class"||n==="style"||ud(n))&&((t||(t={}))[n]=e[n]);return t},YM=(e,t)=>{const n={};for(const r in e)(!zy(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function XM(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:l,patchFlag:c}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?W1(r,u,d):!!u;if(c&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const p=g[h];if(u[p]!==r[p]&&!yd(d,p))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===u?!1:r?u?W1(r,u,d):!0:!!u;return!1}function W1(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!yd(n,s))return!0}return!1}function QM({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const JM=e=>e.__isSuspense;function ZM(e,t){t&&t.pendingBranch?xe(e)?t.effects.push(...e):t.effects.push(e):qM(e)}function eF(e,t){return u_(e,null,t)}const zf={};function wn(e,t,n){return u_(e,t,n)}function u_(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=Nt){var l;const c=SA()===((l=un)==null?void 0:l.scope)?un:null;let d,g=!1,h=!1;if(wt(e)?(d=()=>e.value,g=Ih(e)):wo(e)?(d=()=>e,r=!0):xe(e)?(h=!0,g=e.some(C=>wo(C)||Ih(C)),d=()=>e.map(C=>{if(wt(C))return C.value;if(wo(C))return _s(C);if(Xe(C))return Eo(C,c,2)})):Xe(e)?t?d=()=>Eo(e,c,2):d=()=>{if(!(c&&c.isUnmounted))return p&&p(),Lr(e,c,3,[v])}:d=Kr,t&&r){const C=d;d=()=>_s(C())}let p,v=C=>{p=k.onStop=()=>{Eo(C,c,4)}},_;if(Bl)if(v=Kr,t?n&&Lr(t,c,3,[d(),h?[]:void 0,v]):d(),o==="sync"){const C=KF();_=C.__watcherHandles||(C.__watcherHandles=[])}else return Kr;let w=h?new Array(e.length).fill(zf):zf;const S=()=>{if(k.active)if(t){const C=k.run();(r||g||(h?C.some((U,L)=>Ml(U,w[L])):Ml(C,w)))&&(p&&p(),Lr(t,c,3,[C,w===zf?void 0:h&&w[0]===zf?[]:w,v]),w=C)}else k.run()};S.allowRecurse=!!t;let b;o==="sync"?b=S:o==="post"?b=()=>nr(S,c&&c.suspense):(S.pre=!0,c&&(S.id=c.uid),b=()=>a_(S));const k=new Zy(d,b);t?n?S():w=k.run():o==="post"?nr(k.run.bind(k),c&&c.suspense):k.run();const R=()=>{k.stop(),c&&c.scope&&Yy(c.scope.effects,k)};return _&&_.push(R),R}function tF(e,t,n){const r=this.proxy,o=Yt(e)?e.includes(".")?zA(r,e):()=>r[e]:e.bind(r,r);let s;Xe(t)?s=t:(s=t.handler,n=t);const u=un;Ua(this);const l=u_(o,s.bind(r),n);return u?Ua(u):As(),l}function zA(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function _s(e,t){if(!Tt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),wt(e))_s(e.value,t);else if(xe(e))for(let n=0;n<e.length;n++)_s(e[n],t);else if(ld(e)||Ra(e))e.forEach(n=>{_s(n,t)});else if(bA(e))for(const n in e)_s(e[n],t);return e}function ko(e,t){const n=sr;if(n===null)return e;const r=Id(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,l,c,d=Nt]=t[s];u&&(Xe(u)&&(u={mounted:u,updated:u}),u.deep&&_s(l),o.push({dir:u,instance:r,value:l,oldValue:void 0,arg:c,modifiers:d}))}return e}function us(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const l=o[u];s&&(l.oldValue=s[u].value);let c=l.dir[r];c&&(fu(),Lr(c,n,8,[e.el,l,e,t]),hu())}}function nF(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return du(()=>{e.isMounted=!0}),l_(()=>{e.isUnmounting=!0}),e}const Nr=[Function,Array],YA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Nr,onEnter:Nr,onAfterEnter:Nr,onEnterCancelled:Nr,onBeforeLeave:Nr,onLeave:Nr,onAfterLeave:Nr,onLeaveCancelled:Nr,onBeforeAppear:Nr,onAppear:Nr,onAfterAppear:Nr,onAppearCancelled:Nr},rF={name:"BaseTransition",props:YA,setup(e,{slots:t}){const n=Jr(),r=nF();let o;return()=>{const s=t.default&&QA(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const w of s)if(w.type!==Gr){u=w;break}}const l=ut(e),{mode:c}=l;if(r.isLeaving)return Hg(u);const d=K1(u);if(!d)return Hg(u);const g=xv(d,l,r,n);Rv(d,g);const h=n.subTree,p=h&&K1(h);let v=!1;const{getTransitionKey:_}=d.type;if(_){const w=_();o===void 0?o=w:w!==o&&(o=w,v=!0)}if(p&&p.type!==Gr&&(!gs(d,p)||v)){const w=xv(p,l,r,n);if(Rv(p,w),c==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Hg(u);c==="in-out"&&d.type!==Gr&&(w.delayLeave=(S,b,k)=>{const R=XA(r,p);R[String(p.key)]=p,S._leaveCb=()=>{b(),S._leaveCb=void 0,delete g.delayedLeave},g.delayedLeave=k})}return u}}},iF=rF;function XA(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function xv(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:d,onEnterCancelled:g,onBeforeLeave:h,onLeave:p,onAfterLeave:v,onLeaveCancelled:_,onBeforeAppear:w,onAppear:S,onAfterAppear:b,onAppearCancelled:k}=t,R=String(e.key),C=XA(n,e),U=($,H)=>{$&&Lr($,r,9,H)},L=($,H)=>{const N=H[1];U($,H),xe($)?$.every(ke=>ke.length<=1)&&N():$.length<=1&&N()},B={mode:s,persisted:u,beforeEnter($){let H=l;if(!n.isMounted)if(o)H=w||l;else return;$._leaveCb&&$._leaveCb(!0);const N=C[R];N&&gs(e,N)&&N.el._leaveCb&&N.el._leaveCb(),U(H,[$])},enter($){let H=c,N=d,ke=g;if(!n.isMounted)if(o)H=S||c,N=b||d,ke=k||g;else return;let ne=!1;const Ee=$._enterCb=Re=>{ne||(ne=!0,Re?U(ke,[$]):U(N,[$]),B.delayedLeave&&B.delayedLeave(),$._enterCb=void 0)};H?L(H,[$,Ee]):Ee()},leave($,H){const N=String(e.key);if($._enterCb&&$._enterCb(!0),n.isUnmounting)return H();U(h,[$]);let ke=!1;const ne=$._leaveCb=Ee=>{ke||(ke=!0,H(),Ee?U(_,[$]):U(v,[$]),$._leaveCb=void 0,C[N]===e&&delete C[N])};C[N]=e,p?L(p,[$,ne]):ne()},clone($){return xv($,t,n,r)}};return B}function Hg(e){if(bd(e))return e=Oo(e),e.children=null,e}function K1(e){return bd(e)?e.children?e.children[0]:void 0:e}function Rv(e,t){e.shapeFlag&6&&e.component?Rv(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function QA(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const l=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===zt?(u.patchFlag&128&&o++,r=r.concat(QA(u.children,t,l))):(t||u.type!==Gr)&&r.push(l!=null?Oo(u,{key:l}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Do(e,t){return Xe(e)?(()=>nn({name:e.name},t,{setup:e}))():e}const dh=e=>!!e.type.__asyncLoader,bd=e=>e.type.__isKeepAlive;function oF(e,t){JA(e,"a",t)}function sF(e,t){JA(e,"da",t)}function JA(e,t,n=un){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(wd(t,r,n),n){let o=n.parent;for(;o&&o.parent;)bd(o.parent.vnode)&&aF(r,t,n,o),o=o.parent}}function aF(e,t,n,r){const o=wd(t,e,r,!0);c_(()=>{Yy(r[t],o)},n)}function wd(e,t,n=un,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;fu(),Ua(n);const l=Lr(t,n,e,u);return As(),hu(),l});return r?o.unshift(s):o.push(s),s}}const ji=e=>(t,n=un)=>(!Bl||e==="sp")&&wd(e,(...r)=>t(...r),n),ZA=ji("bm"),du=ji("m"),uF=ji("bu"),lF=ji("u"),l_=ji("bum"),c_=ji("um"),cF=ji("sp"),fF=ji("rtg"),hF=ji("rtc");function dF(e,t=un){wd("ec",e,t)}const f_="components",pF="directives";function Et(e,t){return d_(f_,e,!0,t)||e}const ek=Symbol.for("v-ndc");function Ed(e){return Yt(e)?d_(f_,e,!1)||e:e||ek}function h_(e){return d_(pF,e)}function d_(e,t,n=!0,r=!1){const o=sr||un;if(o){const s=o.type;if(e===f_){const l=qF(s,!1);if(l&&(l===t||l===vi(t)||l===fd(vi(t))))return s}const u=G1(o[e]||s[e],t)||G1(o.appContext[e],t);return!u&&r?s:u}}function G1(e,t){return e&&(e[t]||e[vi(t)]||e[fd(vi(t))])}function yc(e,t,n,r){let o;const s=n&&n[r];if(xe(e)||Yt(e)){o=new Array(e.length);for(let u=0,l=e.length;u<l;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(Tt(e))if(e[Symbol.iterator])o=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);o=new Array(u.length);for(let l=0,c=u.length;l<c;l++){const d=u[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const Dv=e=>e?fk(e)?Id(e)||e.proxy:Dv(e.parent):null,wl=nn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Dv(e.parent),$root:e=>Dv(e.root),$emit:e=>e.emit,$options:e=>p_(e),$forceUpdate:e=>e.f||(e.f=()=>a_(e.update)),$nextTick:e=>e.n||(e.n=qr.bind(e.proxy)),$watch:e=>tF.bind(e)}),Wg=(e,t)=>e!==Nt&&!e.__isScriptSetup&&lt(e,t),mF={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:l,appContext:c}=e;let d;if(t[0]!=="$"){const v=u[t];if(v!==void 0)switch(v){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Wg(r,t))return u[t]=1,r[t];if(o!==Nt&&lt(o,t))return u[t]=2,o[t];if((d=e.propsOptions[0])&&lt(d,t))return u[t]=3,s[t];if(n!==Nt&&lt(n,t))return u[t]=4,n[t];Lv&&(u[t]=0)}}const g=wl[t];let h,p;if(g)return t==="$attrs"&&lr(e,"get",t),g(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==Nt&&lt(n,t))return u[t]=4,n[t];if(p=c.config.globalProperties,lt(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Wg(o,t)?(o[t]=n,!0):r!==Nt&&lt(r,t)?(r[t]=n,!0):lt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let l;return!!n[u]||e!==Nt&&lt(e,u)||Wg(t,u)||(l=s[0])&&lt(l,u)||lt(r,u)||lt(wl,u)||lt(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:lt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function z1(e){return xe(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Lv=!0;function gF(e){const t=p_(e),n=e.proxy,r=e.ctx;Lv=!1,t.beforeCreate&&Y1(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:l,provide:c,inject:d,created:g,beforeMount:h,mounted:p,beforeUpdate:v,updated:_,activated:w,deactivated:S,beforeDestroy:b,beforeUnmount:k,destroyed:R,unmounted:C,render:U,renderTracked:L,renderTriggered:B,errorCaptured:$,serverPrefetch:H,expose:N,inheritAttrs:ke,components:ne,directives:Ee,filters:Re}=t;if(d&&vF(d,r,null),u)for(const Fe in u){const ve=u[Fe];Xe(ve)&&(r[Fe]=ve.bind(n))}if(o){const Fe=o.call(n,n);Tt(Fe)&&(e.data=yi(Fe))}if(Lv=!0,s)for(const Fe in s){const ve=s[Fe],et=Xe(ve)?ve.bind(n,n):Xe(ve.get)?ve.get.bind(n,n):Kr,mt=!Xe(ve)&&Xe(ve.set)?ve.set.bind(n):Kr,Ct=Ve({get:et,set:mt});Object.defineProperty(r,Fe,{enumerable:!0,configurable:!0,get:()=>Ct.value,set:St=>Ct.value=St})}if(l)for(const Fe in l)tk(l[Fe],r,n,Fe);if(c){const Fe=Xe(c)?c.call(n):c;Reflect.ownKeys(Fe).forEach(ve=>{La(ve,Fe[ve])})}g&&Y1(g,e,"c");function ce(Fe,ve){xe(ve)?ve.forEach(et=>Fe(et.bind(n))):ve&&Fe(ve.bind(n))}if(ce(ZA,h),ce(du,p),ce(uF,v),ce(lF,_),ce(oF,w),ce(sF,S),ce(dF,$),ce(hF,L),ce(fF,B),ce(l_,k),ce(c_,C),ce(cF,H),xe(N))if(N.length){const Fe=e.exposed||(e.exposed={});N.forEach(ve=>{Object.defineProperty(Fe,ve,{get:()=>n[ve],set:et=>n[ve]=et})})}else e.exposed||(e.exposed={});U&&e.render===Kr&&(e.render=U),ke!=null&&(e.inheritAttrs=ke),ne&&(e.components=ne),Ee&&(e.directives=Ee)}function vF(e,t,n=Kr){xe(e)&&(e=Mv(e));for(const r in e){const o=e[r];let s;Tt(o)?"default"in o?s=Tr(o.from||r,o.default,!0):s=Tr(o.from||r):s=Tr(o),wt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function Y1(e,t,n){Lr(xe(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function tk(e,t,n,r){const o=r.includes(".")?zA(n,r):()=>n[r];if(Yt(e)){const s=t[e];Xe(s)&&wn(o,s)}else if(Xe(e))wn(o,e.bind(n));else if(Tt(e))if(xe(e))e.forEach(s=>tk(s,t,n,r));else{const s=Xe(e.handler)?e.handler.bind(n):t[e.handler];Xe(s)&&wn(o,s,e)}}function p_(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let c;return l?c=l:!o.length&&!n&&!r?c=t:(c={},o.length&&o.forEach(d=>Ah(c,d,u,!0)),Ah(c,t,u)),Tt(t)&&s.set(t,c),c}function Ah(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&Ah(e,s,n,!0),o&&o.forEach(u=>Ah(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const l=yF[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const yF={data:X1,props:Q1,emits:Q1,methods:vl,computed:vl,beforeCreate:Bn,created:Bn,beforeMount:Bn,mounted:Bn,beforeUpdate:Bn,updated:Bn,beforeDestroy:Bn,beforeUnmount:Bn,destroyed:Bn,unmounted:Bn,activated:Bn,deactivated:Bn,errorCaptured:Bn,serverPrefetch:Bn,components:vl,directives:vl,watch:bF,provide:X1,inject:_F};function X1(e,t){return t?e?function(){return nn(Xe(e)?e.call(this,this):e,Xe(t)?t.call(this,this):t)}:t:e}function _F(e,t){return vl(Mv(e),Mv(t))}function Mv(e){if(xe(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Bn(e,t){return e?[...new Set([].concat(e,t))]:t}function vl(e,t){return e?nn(Object.create(null),e,t):t}function Q1(e,t){return e?xe(e)&&xe(t)?[...new Set([...e,...t])]:nn(Object.create(null),z1(e),z1(t??{})):t}function bF(e,t){if(!e)return t;if(!t)return e;const n=nn(Object.create(null),e);for(const r in t)n[r]=Bn(e[r],t[r]);return n}function nk(){return{app:null,config:{isNativeTag:qL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wF=0;function EF(e,t){return function(r,o=null){Xe(r)||(r=nn({},r)),o!=null&&!Tt(o)&&(o=null);const s=nk(),u=new Set;let l=!1;const c=s.app={_uid:wF++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:GF,get config(){return s.config},set config(d){},use(d,...g){return u.has(d)||(d&&Xe(d.install)?(u.add(d),d.install(c,...g)):Xe(d)&&(u.add(d),d(c,...g))),c},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),c},component(d,g){return g?(s.components[d]=g,c):s.components[d]},directive(d,g){return g?(s.directives[d]=g,c):s.directives[d]},mount(d,g,h){if(!l){const p=Ae(r,o);return p.appContext=s,g&&t?t(p,d):e(p,d,h),l=!0,c._container=d,d.__vue_app__=c,Id(p.component)||p.component.proxy}},unmount(){l&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,g){return s.provides[d]=g,c},runWithContext(d){jl=c;try{return d()}finally{jl=null}}};return c}}let jl=null;function La(e,t){if(un){let n=un.provides;const r=un.parent&&un.parent.provides;r===n&&(n=un.provides=Object.create(r)),n[e]=t}}function Tr(e,t,n=!1){const r=un||sr;if(r||jl){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:jl._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Xe(t)?t.call(r&&r.proxy):t}}function TF(){return!!(un||sr||jl)}function IF(e,t,n,r=!1){const o={},s={};Eh(s,Td,1),e.propsDefaults=Object.create(null),rk(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:MA(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function SF(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,l=ut(o),[c]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let p=g[h];if(yd(e.emitsOptions,p))continue;const v=t[p];if(c)if(lt(s,p))v!==s[p]&&(s[p]=v,d=!0);else{const _=vi(p);o[_]=Fv(c,l,_,v,e,!1)}else v!==s[p]&&(s[p]=v,d=!0)}}}else{rk(e,t,o,s)&&(d=!0);let g;for(const h in l)(!t||!lt(t,h)&&((g=cu(h))===h||!lt(t,g)))&&(c?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=Fv(c,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!lt(t,h))&&(delete s[h],d=!0)}d&&Mi(e,"set","$attrs")}function rk(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,l;if(t)for(let c in t){if(fh(c))continue;const d=t[c];let g;o&&lt(o,g=vi(c))?!s||!s.includes(g)?n[g]=d:(l||(l={}))[g]=d:yd(e.emitsOptions,c)||(!(c in r)||d!==r[c])&&(r[c]=d,u=!0)}if(s){const c=ut(n),d=l||Nt;for(let g=0;g<s.length;g++){const h=s[g];n[h]=Fv(o,c,h,d[h],e,!lt(d,h))}}return u}function Fv(e,t,n,r,o,s){const u=e[n];if(u!=null){const l=lt(u,"default");if(l&&r===void 0){const c=u.default;if(u.type!==Function&&!u.skipFactory&&Xe(c)){const{propsDefaults:d}=o;n in d?r=d[n]:(Ua(o),r=d[n]=c.call(null,t),As())}else r=c}u[0]&&(s&&!l?r=!1:u[1]&&(r===""||r===cu(n))&&(r=!0))}return r}function ik(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},l=[];let c=!1;if(!Xe(e)){const g=h=>{c=!0;const[p,v]=ik(h,t,!0);nn(u,p),v&&l.push(...v)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!c)return Tt(e)&&r.set(e,xa),xa;if(xe(s))for(let g=0;g<s.length;g++){const h=vi(s[g]);J1(h)&&(u[h]=Nt)}else if(s)for(const g in s){const h=vi(g);if(J1(h)){const p=s[g],v=u[h]=xe(p)||Xe(p)?{type:p}:nn({},p);if(v){const _=tT(Boolean,v.type),w=tT(String,v.type);v[0]=_>-1,v[1]=w<0||_<w,(_>-1||lt(v,"default"))&&l.push(h)}}}const d=[u,l];return Tt(e)&&r.set(e,d),d}function J1(e){return e[0]!=="$"}function Z1(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function eT(e,t){return Z1(e)===Z1(t)}function tT(e,t){return xe(t)?t.findIndex(n=>eT(n,e)):Xe(t)&&eT(t,e)?0:-1}const ok=e=>e[0]==="_"||e==="$stable",m_=e=>xe(e)?e.map(fi):[fi(e)],AF=(e,t,n)=>{if(t._n)return t;const r=Ht((...o)=>m_(t(...o)),n);return r._c=!1,r},sk=(e,t,n)=>{const r=e._ctx;for(const o in e){if(ok(o))continue;const s=e[o];if(Xe(s))t[o]=AF(o,s,r);else if(s!=null){const u=m_(s);t[o]=()=>u}}},ak=(e,t)=>{const n=m_(t);e.slots.default=()=>n},kF=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ut(t),Eh(t,"_",n)):sk(t,e.slots={})}else e.slots={},t&&ak(e,t);Eh(e.slots,Td,1)},CF=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=Nt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(nn(o,t),!n&&l===1&&delete o._):(s=!t.$stable,sk(t,o)),u=t}else t&&(ak(e,t),u={default:1});if(s)for(const l in o)!ok(l)&&!(l in u)&&delete o[l]};function Vv(e,t,n,r,o=!1){if(xe(e)){e.forEach((p,v)=>Vv(p,t&&(xe(t)?t[v]:t),n,r,o));return}if(dh(r)&&!o)return;const s=r.shapeFlag&4?Id(r.component)||r.component.proxy:r.el,u=o?null:s,{i:l,r:c}=e,d=t&&t.r,g=l.refs===Nt?l.refs={}:l.refs,h=l.setupState;if(d!=null&&d!==c&&(Yt(d)?(g[d]=null,lt(h,d)&&(h[d]=null)):wt(d)&&(d.value=null)),Xe(c))Eo(c,l,12,[u,g]);else{const p=Yt(c),v=wt(c);if(p||v){const _=()=>{if(e.f){const w=p?lt(h,c)?h[c]:g[c]:c.value;o?xe(w)&&Yy(w,s):xe(w)?w.includes(s)||w.push(s):p?(g[c]=[s],lt(h,c)&&(h[c]=g[c])):(c.value=[s],e.k&&(g[e.k]=c.value))}else p?(g[c]=u,lt(h,c)&&(h[c]=u)):v&&(c.value=u,e.k&&(g[e.k]=u))};u?(_.id=-1,nr(_,n)):_()}}}const nr=ZM;function OF(e){return NF(e)}function NF(e,t){const n=kv();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:l,createComment:c,setText:d,setElementText:g,parentNode:h,nextSibling:p,setScopeId:v=Kr,insertStaticContent:_}=e,w=(P,I,T,O=null,M=null,q=null,J=!1,ee=null,oe=!!I.dynamicChildren)=>{if(P===I)return;P&&!gs(P,I)&&(O=W(P),St(P,M,q,!0),P=null),I.patchFlag===-2&&(oe=!1,I.dynamicChildren=null);const{type:re,ref:Ce,shapeFlag:ue}=I;switch(re){case _c:S(P,I,T,O);break;case Gr:b(P,I,T,O);break;case Kg:P==null&&k(I,T,O,J);break;case zt:ne(P,I,T,O,M,q,J,ee,oe);break;default:ue&1?U(P,I,T,O,M,q,J,ee,oe):ue&6?Ee(P,I,T,O,M,q,J,ee,oe):(ue&64||ue&128)&&re.process(P,I,T,O,M,q,J,ee,oe,se)}Ce!=null&&M&&Vv(Ce,P&&P.ref,q,I||P,!I)},S=(P,I,T,O)=>{if(P==null)r(I.el=l(I.children),T,O);else{const M=I.el=P.el;I.children!==P.children&&d(M,I.children)}},b=(P,I,T,O)=>{P==null?r(I.el=c(I.children||""),T,O):I.el=P.el},k=(P,I,T,O)=>{[P.el,P.anchor]=_(P.children,I,T,O,P.el,P.anchor)},R=({el:P,anchor:I},T,O)=>{let M;for(;P&&P!==I;)M=p(P),r(P,T,O),P=M;r(I,T,O)},C=({el:P,anchor:I})=>{let T;for(;P&&P!==I;)T=p(P),o(P),P=T;o(I)},U=(P,I,T,O,M,q,J,ee,oe)=>{J=J||I.type==="svg",P==null?L(I,T,O,M,q,J,ee,oe):H(P,I,M,q,J,ee,oe)},L=(P,I,T,O,M,q,J,ee)=>{let oe,re;const{type:Ce,props:ue,shapeFlag:j,transition:G,dirs:_e}=P;if(oe=P.el=u(P.type,q,ue&&ue.is,ue),j&8?g(oe,P.children):j&16&&$(P.children,oe,null,O,M,q&&Ce!=="foreignObject",J,ee),_e&&us(P,null,O,"created"),B(oe,P,P.scopeId,J,O),ue){for(const V in ue)V!=="value"&&!fh(V)&&s(oe,V,null,ue[V],q,P.children,O,M,be);"value"in ue&&s(oe,"value",null,ue.value),(re=ue.onVnodeBeforeMount)&&ui(re,O,P)}_e&&us(P,null,O,"beforeMount");const fe=(!M||M&&!M.pendingBranch)&&G&&!G.persisted;fe&&G.beforeEnter(oe),r(oe,I,T),((re=ue&&ue.onVnodeMounted)||fe||_e)&&nr(()=>{re&&ui(re,O,P),fe&&G.enter(oe),_e&&us(P,null,O,"mounted")},M)},B=(P,I,T,O,M)=>{if(T&&v(P,T),O)for(let q=0;q<O.length;q++)v(P,O[q]);if(M){let q=M.subTree;if(I===q){const J=M.vnode;B(P,J,J.scopeId,J.slotScopeIds,M.parent)}}},$=(P,I,T,O,M,q,J,ee,oe=0)=>{for(let re=oe;re<P.length;re++){const Ce=P[re]=ee?uo(P[re]):fi(P[re]);w(null,Ce,I,T,O,M,q,J,ee)}},H=(P,I,T,O,M,q,J)=>{const ee=I.el=P.el;let{patchFlag:oe,dynamicChildren:re,dirs:Ce}=I;oe|=P.patchFlag&16;const ue=P.props||Nt,j=I.props||Nt;let G;T&&ls(T,!1),(G=j.onVnodeBeforeUpdate)&&ui(G,T,I,P),Ce&&us(I,P,T,"beforeUpdate"),T&&ls(T,!0);const _e=M&&I.type!=="foreignObject";if(re?N(P.dynamicChildren,re,ee,T,O,_e,q):J||ve(P,I,ee,null,T,O,_e,q,!1),oe>0){if(oe&16)ke(ee,I,ue,j,T,O,M);else if(oe&2&&ue.class!==j.class&&s(ee,"class",null,j.class,M),oe&4&&s(ee,"style",ue.style,j.style,M),oe&8){const fe=I.dynamicProps;for(let V=0;V<fe.length;V++){const F=fe[V],X=ue[F],de=j[F];(de!==X||F==="value")&&s(ee,F,X,de,M,P.children,T,O,be)}}oe&1&&P.children!==I.children&&g(ee,I.children)}else!J&&re==null&&ke(ee,I,ue,j,T,O,M);((G=j.onVnodeUpdated)||Ce)&&nr(()=>{G&&ui(G,T,I,P),Ce&&us(I,P,T,"updated")},O)},N=(P,I,T,O,M,q,J)=>{for(let ee=0;ee<I.length;ee++){const oe=P[ee],re=I[ee],Ce=oe.el&&(oe.type===zt||!gs(oe,re)||oe.shapeFlag&70)?h(oe.el):T;w(oe,re,Ce,null,O,M,q,J,!0)}},ke=(P,I,T,O,M,q,J)=>{if(T!==O){if(T!==Nt)for(const ee in T)!fh(ee)&&!(ee in O)&&s(P,ee,T[ee],null,J,I.children,M,q,be);for(const ee in O){if(fh(ee))continue;const oe=O[ee],re=T[ee];oe!==re&&ee!=="value"&&s(P,ee,re,oe,J,I.children,M,q,be)}"value"in O&&s(P,"value",T.value,O.value)}},ne=(P,I,T,O,M,q,J,ee,oe)=>{const re=I.el=P?P.el:l(""),Ce=I.anchor=P?P.anchor:l("");let{patchFlag:ue,dynamicChildren:j,slotScopeIds:G}=I;G&&(ee=ee?ee.concat(G):G),P==null?(r(re,T,O),r(Ce,T,O),$(I.children,T,Ce,M,q,J,ee,oe)):ue>0&&ue&64&&j&&P.dynamicChildren?(N(P.dynamicChildren,j,T,M,q,J,ee),(I.key!=null||M&&I===M.subTree)&&uk(P,I,!0)):ve(P,I,T,Ce,M,q,J,ee,oe)},Ee=(P,I,T,O,M,q,J,ee,oe)=>{I.slotScopeIds=ee,P==null?I.shapeFlag&512?M.ctx.activate(I,T,O,J,oe):Re(I,T,O,M,q,J,oe):Be(P,I,oe)},Re=(P,I,T,O,M,q,J)=>{const ee=P.component=VF(P,O,M);if(bd(P)&&(ee.ctx.renderer=se),UF(ee),ee.asyncDep){if(M&&M.registerDep(ee,ce),!P.el){const oe=ee.subTree=Ae(Gr);b(null,oe,I,T)}return}ce(ee,P,I,T,M,q,J)},Be=(P,I,T)=>{const O=I.component=P.component;if(XM(P,I,T))if(O.asyncDep&&!O.asyncResolved){Fe(O,I,T);return}else O.next=I,BM(O.update),O.update();else I.el=P.el,O.vnode=I},ce=(P,I,T,O,M,q,J)=>{const ee=()=>{if(P.isMounted){let{next:Ce,bu:ue,u:j,parent:G,vnode:_e}=P,fe=Ce,V;ls(P,!1),Ce?(Ce.el=_e.el,Fe(P,Ce,J)):Ce=_e,ue&&hh(ue),(V=Ce.props&&Ce.props.onVnodeBeforeUpdate)&&ui(V,G,Ce,_e),ls(P,!0);const F=qg(P),X=P.subTree;P.subTree=F,w(X,F,h(X.el),W(X),P,M,q),Ce.el=F.el,fe===null&&QM(P,F.el),j&&nr(j,M),(V=Ce.props&&Ce.props.onVnodeUpdated)&&nr(()=>ui(V,G,Ce,_e),M)}else{let Ce;const{el:ue,props:j}=I,{bm:G,m:_e,parent:fe}=P,V=dh(I);if(ls(P,!1),G&&hh(G),!V&&(Ce=j&&j.onVnodeBeforeMount)&&ui(Ce,fe,I),ls(P,!0),ue&&De){const F=()=>{P.subTree=qg(P),De(ue,P.subTree,P,M,null)};V?I.type.__asyncLoader().then(()=>!P.isUnmounted&&F()):F()}else{const F=P.subTree=qg(P);w(null,F,T,O,P,M,q),I.el=F.el}if(_e&&nr(_e,M),!V&&(Ce=j&&j.onVnodeMounted)){const F=I;nr(()=>ui(Ce,fe,F),M)}(I.shapeFlag&256||fe&&dh(fe.vnode)&&fe.vnode.shapeFlag&256)&&P.a&&nr(P.a,M),P.isMounted=!0,I=T=O=null}},oe=P.effect=new Zy(ee,()=>a_(re),P.scope),re=P.update=()=>oe.run();re.id=P.uid,ls(P,!0),re()},Fe=(P,I,T)=>{I.component=P;const O=P.vnode.props;P.vnode=I,P.next=null,SF(P,I.props,O,T),CF(P,I.children,T),fu(),H1(),hu()},ve=(P,I,T,O,M,q,J,ee,oe=!1)=>{const re=P&&P.children,Ce=P?P.shapeFlag:0,ue=I.children,{patchFlag:j,shapeFlag:G}=I;if(j>0){if(j&128){mt(re,ue,T,O,M,q,J,ee,oe);return}else if(j&256){et(re,ue,T,O,M,q,J,ee,oe);return}}G&8?(Ce&16&&be(re,M,q),ue!==re&&g(T,ue)):Ce&16?G&16?mt(re,ue,T,O,M,q,J,ee,oe):be(re,M,q,!0):(Ce&8&&g(T,""),G&16&&$(ue,T,O,M,q,J,ee,oe))},et=(P,I,T,O,M,q,J,ee,oe)=>{P=P||xa,I=I||xa;const re=P.length,Ce=I.length,ue=Math.min(re,Ce);let j;for(j=0;j<ue;j++){const G=I[j]=oe?uo(I[j]):fi(I[j]);w(P[j],G,T,null,M,q,J,ee,oe)}re>Ce?be(P,M,q,!0,!1,ue):$(I,T,O,M,q,J,ee,oe,ue)},mt=(P,I,T,O,M,q,J,ee,oe)=>{let re=0;const Ce=I.length;let ue=P.length-1,j=Ce-1;for(;re<=ue&&re<=j;){const G=P[re],_e=I[re]=oe?uo(I[re]):fi(I[re]);if(gs(G,_e))w(G,_e,T,null,M,q,J,ee,oe);else break;re++}for(;re<=ue&&re<=j;){const G=P[ue],_e=I[j]=oe?uo(I[j]):fi(I[j]);if(gs(G,_e))w(G,_e,T,null,M,q,J,ee,oe);else break;ue--,j--}if(re>ue){if(re<=j){const G=j+1,_e=G<Ce?I[G].el:O;for(;re<=j;)w(null,I[re]=oe?uo(I[re]):fi(I[re]),T,_e,M,q,J,ee,oe),re++}}else if(re>j)for(;re<=ue;)St(P[re],M,q,!0),re++;else{const G=re,_e=re,fe=new Map;for(re=_e;re<=j;re++){const qe=I[re]=oe?uo(I[re]):fi(I[re]);qe.key!=null&&fe.set(qe.key,re)}let V,F=0;const X=j-_e+1;let de=!1,Te=0;const je=new Array(X);for(re=0;re<X;re++)je[re]=0;for(re=G;re<=ue;re++){const qe=P[re];if(F>=X){St(qe,M,q,!0);continue}let Ye;if(qe.key!=null)Ye=fe.get(qe.key);else for(V=_e;V<=j;V++)if(je[V-_e]===0&&gs(qe,I[V])){Ye=V;break}Ye===void 0?St(qe,M,q,!0):(je[Ye-_e]=re+1,Ye>=Te?Te=Ye:de=!0,w(qe,I[Ye],T,null,M,q,J,ee,oe),F++)}const Qe=de?PF(je):xa;for(V=Qe.length-1,re=X-1;re>=0;re--){const qe=_e+re,Ye=I[qe],Ke=qe+1<Ce?I[qe+1].el:O;je[re]===0?w(null,Ye,T,Ke,M,q,J,ee,oe):de&&(V<0||re!==Qe[V]?Ct(Ye,T,Ke,2):V--)}}},Ct=(P,I,T,O,M=null)=>{const{el:q,type:J,transition:ee,children:oe,shapeFlag:re}=P;if(re&6){Ct(P.component.subTree,I,T,O);return}if(re&128){P.suspense.move(I,T,O);return}if(re&64){J.move(P,I,T,se);return}if(J===zt){r(q,I,T);for(let ue=0;ue<oe.length;ue++)Ct(oe[ue],I,T,O);r(P.anchor,I,T);return}if(J===Kg){R(P,I,T);return}if(O!==2&&re&1&&ee)if(O===0)ee.beforeEnter(q),r(q,I,T),nr(()=>ee.enter(q),M);else{const{leave:ue,delayLeave:j,afterLeave:G}=ee,_e=()=>r(q,I,T),fe=()=>{ue(q,()=>{_e(),G&&G()})};j?j(q,_e,fe):fe()}else r(q,I,T)},St=(P,I,T,O=!1,M=!1)=>{const{type:q,props:J,ref:ee,children:oe,dynamicChildren:re,shapeFlag:Ce,patchFlag:ue,dirs:j}=P;if(ee!=null&&Vv(ee,null,T,P,!0),Ce&256){I.ctx.deactivate(P);return}const G=Ce&1&&j,_e=!dh(P);let fe;if(_e&&(fe=J&&J.onVnodeBeforeUnmount)&&ui(fe,I,P),Ce&6)ye(P.component,T,O);else{if(Ce&128){P.suspense.unmount(T,O);return}G&&us(P,null,I,"beforeUnmount"),Ce&64?P.type.remove(P,I,T,M,se,O):re&&(q!==zt||ue>0&&ue&64)?be(re,I,T,!1,!0):(q===zt&&ue&384||!M&&Ce&16)&&be(oe,I,T),O&&ht(P)}(_e&&(fe=J&&J.onVnodeUnmounted)||G)&&nr(()=>{fe&&ui(fe,I,P),G&&us(P,null,I,"unmounted")},T)},ht=P=>{const{type:I,el:T,anchor:O,transition:M}=P;if(I===zt){Xt(T,O);return}if(I===Kg){C(P);return}const q=()=>{o(T),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(P.shapeFlag&1&&M&&!M.persisted){const{leave:J,delayLeave:ee}=M,oe=()=>J(T,q);ee?ee(P.el,q,oe):oe()}else q()},Xt=(P,I)=>{let T;for(;P!==I;)T=p(P),o(P),P=T;o(I)},ye=(P,I,T)=>{const{bum:O,scope:M,update:q,subTree:J,um:ee}=P;O&&hh(O),M.stop(),q&&(q.active=!1,St(J,P,I,T)),ee&&nr(ee,I),nr(()=>{P.isUnmounted=!0},I),I&&I.pendingBranch&&!I.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===I.pendingId&&(I.deps--,I.deps===0&&I.resolve())},be=(P,I,T,O=!1,M=!1,q=0)=>{for(let J=q;J<P.length;J++)St(P[J],I,T,O,M)},W=P=>P.shapeFlag&6?W(P.component.subTree):P.shapeFlag&128?P.suspense.next():p(P.anchor||P.el),Y=(P,I,T)=>{P==null?I._vnode&&St(I._vnode,null,null,!0):w(I._vnode||null,P,I,null,null,null,T),H1(),WA(),I._vnode=P},se={p:w,um:St,m:Ct,r:ht,mt:Re,mc:$,pc:ve,pbc:N,n:W,o:e};let he,De;return t&&([he,De]=t(se)),{render:Y,hydrate:he,createApp:EF(Y,he)}}function ls({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function uk(e,t,n=!1){const r=e.children,o=t.children;if(xe(r)&&xe(o))for(let s=0;s<r.length;s++){const u=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=uo(o[s]),l.el=u.el),n||uk(u,l)),l.type===_c&&(l.el=u.el)}}function PF(e){const t=e.slice(),n=[0];let r,o,s,u,l;const c=e.length;for(r=0;r<c;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<d?s=l+1:u=l;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const xF=e=>e.__isTeleport,zt=Symbol.for("v-fgt"),_c=Symbol.for("v-txt"),Gr=Symbol.for("v-cmt"),Kg=Symbol.for("v-stc"),El=[];let Wr=null;function He(e=!1){El.push(Wr=e?null:[])}function RF(){El.pop(),Wr=El[El.length-1]||null}let $l=1;function nT(e){$l+=e}function lk(e){return e.dynamicChildren=$l>0?Wr||xa:null,RF(),$l>0&&Wr&&Wr.push(e),e}function Ze(e,t,n,r,o,s){return lk(D(e,t,n,r,o,s,!0))}function Co(e,t,n,r,o){return lk(Ae(e,t,n,r,o,!0))}function Uv(e){return e?e.__v_isVNode===!0:!1}function gs(e,t){return e.type===t.type&&e.key===t.key}const Td="__vInternal",ck=({key:e})=>e??null,ph=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Yt(e)||wt(e)||Xe(e)?{i:sr,r:e,k:t,f:!!n}:e:null);function D(e,t=null,n=null,r=0,o=null,s=e===zt?0:1,u=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ck(t),ref:t&&ph(t),scopeId:_d,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:sr};return l?(g_(c,n),s&128&&e.normalize(c)):n&&(c.shapeFlag|=Yt(n)?8:16),$l>0&&!u&&Wr&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Wr.push(c),c}const Ae=DF;function DF(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===ek)&&(e=Gr),Uv(e)){const l=Oo(e,t,!0);return n&&g_(l,n),$l>0&&!s&&Wr&&(l.shapeFlag&6?Wr[Wr.indexOf(e)]=l:Wr.push(l)),l.patchFlag|=-2,l}if(HF(e)&&(e=e.__vccOpts),t){t=LF(t);let{class:l,style:c}=t;l&&!Yt(l)&&(t.class=Ft(l)),Tt(c)&&(FA(c)&&!xe(c)&&(c=nn({},c)),t.style=hd(c))}const u=Yt(e)?1:JM(e)?128:xF(e)?64:Tt(e)?4:Xe(e)?2:0;return D(e,t,n,r,o,u,s,!0)}function LF(e){return e?FA(e)||Td in e?nn({},e):e:null}function Oo(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,l=t?ir(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&ck(l),ref:t&&t.ref?n&&o?xe(o)?o.concat(ph(t)):[o,ph(t)]:ph(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==zt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Oo(e.ssContent),ssFallback:e.ssFallback&&Oo(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function rr(e=" ",t=0){return Ae(_c,null,e,t)}function zr(e="",t=!1){return t?(He(),Co(Gr,null,e)):Ae(Gr,null,e)}function fi(e){return e==null||typeof e=="boolean"?Ae(Gr):xe(e)?Ae(zt,null,e.slice()):typeof e=="object"?uo(e):Ae(_c,null,String(e))}function uo(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Oo(e)}function g_(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(xe(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),g_(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Td in t)?t._ctx=sr:o===3&&sr&&(sr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Xe(t)?(t={default:t,_ctx:sr},n=32):(t=String(t),r&64?(n=16,t=[rr(t)]):n=8);e.children=t,e.shapeFlag|=n}function ir(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=Ft([t.class,r.class]));else if(o==="style")t.style=hd([t.style,r.style]);else if(ud(o)){const s=t[o],u=r[o];u&&s!==u&&!(xe(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function ui(e,t,n,r=null){Lr(e,t,7,[n,r])}const MF=nk();let FF=0;function VF(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||MF,s={uid:FF++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new IA(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ik(r,o),emitsOptions:GA(r,o),emit:null,emitted:null,propsDefaults:Nt,inheritAttrs:r.inheritAttrs,ctx:Nt,data:Nt,props:Nt,attrs:Nt,slots:Nt,refs:Nt,setupState:Nt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=WM.bind(null,s),e.ce&&e.ce(s),s}let un=null;const Jr=()=>un||sr;let v_,ya,rT="__VUE_INSTANCE_SETTERS__";(ya=kv()[rT])||(ya=kv()[rT]=[]),ya.push(e=>un=e),v_=e=>{ya.length>1?ya.forEach(t=>t(e)):ya[0](e)};const Ua=e=>{v_(e),e.scope.on()},As=()=>{un&&un.scope.off(),v_(null)};function fk(e){return e.vnode.shapeFlag&4}let Bl=!1;function UF(e,t=!1){Bl=t;const{props:n,children:r}=e.vnode,o=fk(e);IF(e,n,o,t),kF(e,r);const s=o?jF(e,t):void 0;return Bl=!1,s}function jF(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=gd(new Proxy(e.ctx,mF));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?BF(e):null;Ua(e),fu();const s=Eo(r,e,0,[e.props,o]);if(hu(),As(),yA(s)){if(s.then(As,As),t)return s.then(u=>{iT(e,u,t)}).catch(u=>{vd(u,e,0)});e.asyncDep=s}else iT(e,s,t)}else hk(e,t)}function iT(e,t,n){Xe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Tt(t)&&(e.setupState=$A(t)),hk(e,n)}let oT;function hk(e,t,n){const r=e.type;if(!e.render){if(!t&&oT&&!r.render){const o=r.template||p_(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:c}=r,d=nn(nn({isCustomElement:s,delimiters:l},u),c);r.render=oT(o,d)}}e.render=r.render||Kr}Ua(e),fu(),gF(e),hu(),As()}function $F(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return lr(e,"get","$attrs"),t[n]}}))}function BF(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return $F(e)},slots:e.slots,emit:e.emit,expose:t}}function Id(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy($A(gd(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in wl)return wl[n](e)},has(t,n){return n in t||n in wl}}))}function qF(e,t=!0){return Xe(e)?e.displayName||e.name:e.name||t&&e.__name}function HF(e){return Xe(e)&&"__vccOpts"in e}const Ve=(e,t)=>UM(e,t,Bl);function Fi(e,t,n){const r=arguments.length;return r===2?Tt(t)&&!xe(t)?Uv(t)?Ae(e,null,[t]):Ae(e,t):Ae(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Uv(n)&&(n=[n]),Ae(e,t,n))}const WF=Symbol.for("v-scx"),KF=()=>Tr(WF),GF="3.3.4",zF="http://www.w3.org/2000/svg",vs=typeof document<"u"?document:null,sT=vs&&vs.createElement("template"),YF={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?vs.createElementNS(zF,e):vs.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>vs.createTextNode(e),createComment:e=>vs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{sT.innerHTML=r?`<svg>${e}</svg>`:e;const l=sT.content;if(r){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function XF(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function QF(e,t,n){const r=e.style,o=Yt(n);if(n&&!o){if(t&&!Yt(t))for(const s in t)n[s]==null&&jv(r,s,"");for(const s in n)jv(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const aT=/\s*!important$/;function jv(e,t,n){if(xe(n))n.forEach(r=>jv(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=JF(e,t);aT.test(n)?e.setProperty(cu(r),n.replace(aT,""),"important"):e[r]=n}}const uT=["Webkit","Moz","ms"],Gg={};function JF(e,t){const n=Gg[t];if(n)return n;let r=vi(t);if(r!=="filter"&&r in e)return Gg[t]=r;r=fd(r);for(let o=0;o<uT.length;o++){const s=uT[o]+r;if(s in e)return Gg[t]=s}return t}const lT="http://www.w3.org/1999/xlink";function ZF(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(lT,t.slice(6,t.length)):e.setAttributeNS(lT,t,n);else{const s=tM(t);n==null||s&&!EA(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function eV(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,g=n??"";d!==g&&(e.value=g),n==null&&e.removeAttribute(t);return}let c=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=EA(n):n==null&&d==="string"?(n="",c=!0):d==="number"&&(n=0,c=!0)}try{e[t]=n}catch{}c&&e.removeAttribute(t)}function dk(e,t,n,r){e.addEventListener(t,n,r)}function tV(e,t,n,r){e.removeEventListener(t,n,r)}function nV(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[l,c]=rV(t);if(r){const d=s[t]=sV(r,o);dk(e,l,d,c)}else u&&(tV(e,l,u,c),s[t]=void 0)}}const cT=/(?:Once|Passive|Capture)$/;function rV(e){let t;if(cT.test(e)){t={};let r;for(;r=e.match(cT);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):cu(e.slice(2)),t]}let zg=0;const iV=Promise.resolve(),oV=()=>zg||(iV.then(()=>zg=0),zg=Date.now());function sV(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Lr(aV(r,n.value),t,5,[r])};return n.value=e,n.attached=oV(),n}function aV(e,t){if(xe(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const fT=/^on[a-z]/,uV=(e,t,n,r,o=!1,s,u,l,c)=>{t==="class"?XF(e,r,o):t==="style"?QF(e,n,r):ud(t)?zy(t)||nV(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):lV(e,t,r,o))?eV(e,t,r,s,u,l,c):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),ZF(e,t,r,o))};function lV(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&fT.test(t)&&Xe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||fT.test(t)&&Yt(n)?!1:t in e}const Zi="transition",al="animation",y_=(e,{slots:t})=>Fi(iF,cV(e),t);y_.displayName="Transition";const pk={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};y_.props=nn({},YA,pk);const cs=(e,t=[])=>{xe(e)?e.forEach(n=>n(...t)):e&&e(...t)},hT=e=>e?xe(e)?e.some(t=>t.length>1):e.length>1:!1;function cV(e){const t={};for(const ne in e)ne in pk||(t[ne]=e[ne]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:d=u,appearToClass:g=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:v=`${n}-leave-to`}=e,_=fV(o),w=_&&_[0],S=_&&_[1],{onBeforeEnter:b,onEnter:k,onEnterCancelled:R,onLeave:C,onLeaveCancelled:U,onBeforeAppear:L=b,onAppear:B=k,onAppearCancelled:$=R}=t,H=(ne,Ee,Re)=>{fs(ne,Ee?g:l),fs(ne,Ee?d:u),Re&&Re()},N=(ne,Ee)=>{ne._isLeaving=!1,fs(ne,h),fs(ne,v),fs(ne,p),Ee&&Ee()},ke=ne=>(Ee,Re)=>{const Be=ne?B:k,ce=()=>H(Ee,ne,Re);cs(Be,[Ee,ce]),dT(()=>{fs(Ee,ne?c:s),eo(Ee,ne?g:l),hT(Be)||pT(Ee,r,w,ce)})};return nn(t,{onBeforeEnter(ne){cs(b,[ne]),eo(ne,s),eo(ne,u)},onBeforeAppear(ne){cs(L,[ne]),eo(ne,c),eo(ne,d)},onEnter:ke(!1),onAppear:ke(!0),onLeave(ne,Ee){ne._isLeaving=!0;const Re=()=>N(ne,Ee);eo(ne,h),pV(),eo(ne,p),dT(()=>{ne._isLeaving&&(fs(ne,h),eo(ne,v),hT(C)||pT(ne,r,S,Re))}),cs(C,[ne,Re])},onEnterCancelled(ne){H(ne,!1),cs(R,[ne])},onAppearCancelled(ne){H(ne,!0),cs($,[ne])},onLeaveCancelled(ne){N(ne),cs(U,[ne])}})}function fV(e){if(e==null)return null;if(Tt(e))return[Yg(e.enter),Yg(e.leave)];{const t=Yg(e);return[t,t]}}function Yg(e){return YL(e)}function eo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function fs(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function dT(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let hV=0;function pT(e,t,n,r){const o=e._endId=++hV,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:l,propCount:c}=dV(e,t);if(!u)return r();const d=u+"end";let g=0;const h=()=>{e.removeEventListener(d,p),s()},p=v=>{v.target===e&&++g>=c&&h()};setTimeout(()=>{g<c&&h()},l+1),e.addEventListener(d,p)}function dV(e,t){const n=window.getComputedStyle(e),r=_=>(n[_]||"").split(", "),o=r(`${Zi}Delay`),s=r(`${Zi}Duration`),u=mT(o,s),l=r(`${al}Delay`),c=r(`${al}Duration`),d=mT(l,c);let g=null,h=0,p=0;t===Zi?u>0&&(g=Zi,h=u,p=s.length):t===al?d>0&&(g=al,h=d,p=c.length):(h=Math.max(u,d),g=h>0?u>d?Zi:al:null,p=g?g===Zi?s.length:c.length:0);const v=g===Zi&&/\b(transform|all)(,|$)/.test(r(`${Zi}Property`).toString());return{type:g,timeout:h,propCount:p,hasTransform:v}}function mT(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>gT(n)+gT(e[r])))}function gT(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function pV(){return document.body.offsetHeight}const vT=e=>{const t=e.props["onUpdate:modelValue"]||!1;return xe(t)?n=>hh(t,n):t},mV={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=ld(t);dk(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?wA(kh(u)):kh(u));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=vT(r)},mounted(e,{value:t}){yT(e,t)},beforeUpdate(e,t,n){e._assign=vT(n)},updated(e,{value:t}){yT(e,t)}};function yT(e,t){const n=e.multiple;if(!(n&&!xe(t)&&!ld(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],u=kh(s);if(n)xe(t)?s.selected=rM(t,u)>-1:s.selected=t.has(u);else if(dd(kh(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function kh(e){return"_value"in e?e._value:e.value}const gV=["ctrl","shift","alt","meta"],vV={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>gV.some(n=>e[`${n}Key`]&&!t.includes(n))},Zt=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=vV[t[o]];if(s&&s(n,t))return}return e(n,...r)},Ch={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):ul(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),ul(e,!0),r.enter(e)):r.leave(e,()=>{ul(e,!1)}):ul(e,t))},beforeUnmount(e,{value:t}){ul(e,t)}};function ul(e,t){e.style.display=t?e._vod:"none"}const yV=nn({patchProp:uV},YF);let _T;function _V(){return _T||(_T=OF(yV))}const bV=(...e)=>{const t=_V().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=wV(r);if(!o)return;const s=t._component;!Xe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function wV(e){return Yt(e)?document.querySelector(e):e}var EV=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let mk;const Sd=e=>mk=e,gk=Symbol();function $v(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Tl;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Tl||(Tl={}));function TV(){const e=Qy(!0),t=e.run(()=>bt({}));let n=[],r=[];const o=gd({install(s){Sd(o),o._a=s,s.provide(gk,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!EV?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const vk=()=>{};function bT(e,t,n,r=vk){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&SA()&&oM(o),o}function _a(e,...t){e.slice().forEach(n=>{n(...t)})}const IV=e=>e();function Bv(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];$v(o)&&$v(r)&&e.hasOwnProperty(n)&&!wt(r)&&!wo(r)?e[n]=Bv(o,r):e[n]=r}return e}const SV=Symbol();function AV(e){return!$v(e)||!e.hasOwnProperty(SV)}const{assign:ao}=Object;function kV(e){return!!(wt(e)&&e.effect)}function CV(e,t,n,r){const{state:o,actions:s,getters:u}=t,l=n.state.value[e];let c;function d(){l||(n.state.value[e]=o?o():{});const g=LM(n.state.value[e]);return ao(g,s,Object.keys(u||{}).reduce((h,p)=>(h[p]=gd(Ve(()=>{Sd(n);const v=n._s.get(e);return u[p].call(v,v)})),h),{}))}return c=yk(e,d,t,n,r,!0),c}function yk(e,t,n={},r,o,s){let u;const l=ao({actions:{}},n),c={deep:!0};let d,g,h=[],p=[],v;const _=r.state.value[e];!s&&!_&&(r.state.value[e]={}),bt({});let w;function S($){let H;d=g=!1,typeof $=="function"?($(r.state.value[e]),H={type:Tl.patchFunction,storeId:e,events:v}):(Bv(r.state.value[e],$),H={type:Tl.patchObject,payload:$,storeId:e,events:v});const N=w=Symbol();qr().then(()=>{w===N&&(d=!0)}),g=!0,_a(h,H,r.state.value[e])}const b=s?function(){const{state:H}=n,N=H?H():{};this.$patch(ke=>{ao(ke,N)})}:vk;function k(){u.stop(),h=[],p=[],r._s.delete(e)}function R($,H){return function(){Sd(r);const N=Array.from(arguments),ke=[],ne=[];function Ee(ce){ke.push(ce)}function Re(ce){ne.push(ce)}_a(p,{args:N,name:$,store:U,after:Ee,onError:Re});let Be;try{Be=H.apply(this&&this.$id===e?this:U,N)}catch(ce){throw _a(ne,ce),ce}return Be instanceof Promise?Be.then(ce=>(_a(ke,ce),ce)).catch(ce=>(_a(ne,ce),Promise.reject(ce))):(_a(ke,Be),Be)}}const C={_p:r,$id:e,$onAction:bT.bind(null,p),$patch:S,$reset:b,$subscribe($,H={}){const N=bT(h,$,H.detached,()=>ke()),ke=u.run(()=>wn(()=>r.state.value[e],ne=>{(H.flush==="sync"?g:d)&&$({storeId:e,type:Tl.direct,events:v},ne)},ao({},c,H)));return N},$dispose:k},U=yi(C);r._s.set(e,U);const B=(r._a&&r._a.runWithContext||IV)(()=>r._e.run(()=>(u=Qy()).run(t)));for(const $ in B){const H=B[$];if(wt(H)&&!kV(H)||wo(H))s||(_&&AV(H)&&(wt(H)?H.value=_[$]:Bv(H,_[$])),r.state.value[e][$]=H);else if(typeof H=="function"){const N=R($,H);B[$]=N,l.actions[$]=H}}return ao(U,B),ao(ut(U),B),Object.defineProperty(U,"$state",{get:()=>r.state.value[e],set:$=>{S(H=>{ao(H,$)})}}),r._p.forEach($=>{ao(U,u.run(()=>$({store:U,app:r._a,pinia:r,options:l})))}),_&&s&&n.hydrate&&n.hydrate(U.$state,_),d=!0,g=!0,U}function _k(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(l,c){const d=TF();return l=l||(d?Tr(gk,null):null),l&&Sd(l),l=mk,l._s.has(r)||(s?yk(r,t,o,l):CV(r,o,l)),l._s.get(r)}return u.$id=r,u}function Ps(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function js(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function bk(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}var qv=function(e,t){return qv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},qv(e,t)};function Le(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ja=function(){return ja=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ja.apply(this,arguments)};function Z(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(g){try{d(r.next(g))}catch(h){u(h)}}function c(g){try{d(r.throw(g))}catch(h){u(h)}}function d(g){g.done?s(g.value):o(g.value).then(l,c)}d((r=r.apply(e,t||[])).next())})}function Q(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(g){return c([d,g])}}function c(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(g){d=[6,g],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Xg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function Lt(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wk=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},OV=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],c=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},NV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,c=o+2<e.length,d=c?e[o+2]:0,g=s>>2,h=(s&3)<<4|l>>4,p=(l&15)<<2|d>>6,v=d&63;c||(v=64,u||(p=64)),r.push(n[g],n[h],n[p],n[v])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(wk(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):OV(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var c=o<e.length,d=c?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||h==null)throw Error();var p=s<<2|l>>4;if(r.push(p),d!==64){var v=l<<4&240|d>>2;if(r.push(v),h!==64){var _=d<<6&192|h;r.push(_)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},PV=function(e){var t=wk(e);return NV.encodeByteArray(t,!0)},wT=function(e){return PV(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(e){return ql(void 0,e)}function ql(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!RV(r)||(e[r]=ql(e[r],t[r]));return e}function RV(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DV=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=ja({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[wT(JSON.stringify(n)),wT(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xs())}function Tk(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MV(){return typeof self=="object"&&self.self===self}function FV(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function VV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UV(){return xs().indexOf("Electron/")>=0}function jV(){var e=xs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $V(){return xs().indexOf("MSAppHost/")>=0}function BV(){return!Tk()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qV="FirebaseError",Ik=function(e){Le(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=qV,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,__.prototype.create),s}return t}(Error),__=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?HV(u,o):"Error",c=this.serviceName+": "+l+" ("+s+").",d=new Ik(s,c,o);return d},e}();function HV(e,t){return e.replace(WV,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var WV=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function KV(e,t){var n=new GV(e,t);return n.subscribe.bind(n)}var GV=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zV(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=Qg),s.error===void 0&&(s.error=Qg),s.complete===void 0&&(s.complete=Qg);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function zV(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Qg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(e){return e&&e._delegate?e._delegate:e}var bc=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YV=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new DV;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(QV(t))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}try{for(var o=Xg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=Yf(s.value,2),l=u[0],c=u[1],d=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:d});c.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=ds),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return Z(this,void 0,void 0,function(){var t;return Q(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Lt(Lt([],Yf(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),Yf(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=ds),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=ds),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var c=Xg(this.instancesDeferred.entries()),d=c.next();!d.done;d=c.next()){var g=Yf(d.value,2),h=g[0],p=g[1],v=this.normalizeInstanceIdentifier(h);u===v&&p.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=Xg(s),l=u.next();!l.done;l=u.next()){var c=l.value;try{c(t,n)}catch{}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XV(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=ds),this.component?this.component.multipleInstances?t:ds:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function XV(e){return e===ds?void 0:e}function QV(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JV=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new YV(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Br(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hs,b_=[],ft;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ft||(ft={}));var Sk={debug:ft.DEBUG,verbose:ft.VERBOSE,info:ft.INFO,warn:ft.WARN,error:ft.ERROR,silent:ft.SILENT},ZV=ft.INFO,e2=(hs={},hs[ft.DEBUG]="log",hs[ft.VERBOSE]="log",hs[ft.INFO]="info",hs[ft.WARN]="warn",hs[ft.ERROR]="error",hs),t2=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=e2[t];if(s)console[s].apply(console,Br(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},Ak=function(){function e(t){this.name=t,this._logLevel=ZV,this._logHandler=t2,this._userLogHandler=null,b_.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ft))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?Sk[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ft.DEBUG],t)),this._logHandler.apply(this,Br([this,ft.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ft.VERBOSE],t)),this._logHandler.apply(this,Br([this,ft.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ft.INFO],t)),this._logHandler.apply(this,Br([this,ft.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ft.WARN],t)),this._logHandler.apply(this,Br([this,ft.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Br([this,ft.ERROR],t)),this._logHandler.apply(this,Br([this,ft.ERROR],t))},e}();function n2(e){b_.forEach(function(t){t.setLogLevel(e)})}function r2(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=Sk[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(c,d){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var p=g.map(function(v){if(v==null)return null;if(typeof v=="string")return v;if(typeof v=="number"||typeof v=="boolean")return v.toString();if(v instanceof Error)return v.message;try{return JSON.stringify(v)}catch{return null}}).filter(function(v){return v}).join(" ");d>=(l??c.logLevel)&&e({level:ft[d].toLowerCase(),message:p,args:g,type:c.name})}},r=0,o=b_;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to,i2=(to={},to["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",to["bad-app-name"]="Illegal App name: '{$appName}",to["duplicate-app"]="Firebase App named '{$appName}' already exists",to["app-deleted"]="Firebase App named '{$appName}' already deleted",to["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",to["invalid-log-argument"]="First argument to `onLog` must be null or a function.",to),Ia=new __("app","Firebase",i2),kk="@firebase/app",o2="0.6.30",s2="@firebase/analytics",a2="@firebase/app-check",u2="@firebase/auth",l2="@firebase/database",c2="@firebase/functions",f2="@firebase/installations",h2="@firebase/messaging",d2="@firebase/performance",p2="@firebase/remote-config",m2="@firebase/storage",g2="@firebase/firestore",v2="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cn,Oh="[DEFAULT]",y2=(Cn={},Cn[kk]="fire-core",Cn[s2]="fire-analytics",Cn[a2]="fire-app-check",Cn[u2]="fire-auth",Cn[l2]="fire-rtdb",Cn[c2]="fire-fn",Cn[f2]="fire-iid",Cn[h2]="fire-fcm",Cn[d2]="fire-perf",Cn[p2]="fire-rc",Cn[m2]="fire-gcs",Cn[g2]="fire-fst",Cn["fire-js"]="fire-js",Cn[v2]="fire-js-all",Cn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $a=new Ak("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mh=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=xV(t),this.container=new JV(n.name),this._addComponent(new bc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Oh),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Oh),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){$a.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ia.create("app-deleted",{appName:this.name_})},e}();mh.prototype.name&&mh.prototype.options||mh.prototype.delete||console.log("dc");var _2="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:d,setLogLevel:n2,onLog:g,apps:null,SDK_VERSION:_2,INTERNAL:{registerComponent:c,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(p){delete t[p]}function s(p){if(p=p||Oh,!ET(t,p))throw Ia.create("no-app",{appName:p});return t[p]}s.App=e;function u(p,v){if(v===void 0&&(v={}),typeof v!="object"||v===null){var _=v;v={name:_}}var w=v;w.name===void 0&&(w.name=Oh);var S=w.name;if(typeof S!="string"||!S)throw Ia.create("bad-app-name",{appName:String(S)});if(ET(t,S))throw Ia.create("duplicate-app",{appName:S});var b=new e(p,w,r);return t[S]=b,b}function l(){return Object.keys(t).map(function(p){return t[p]})}function c(p){var v=p.name;if(n.has(v))return $a.debug("There were multiple attempts to register component "+v+"."),p.type==="PUBLIC"?r[v]:null;if(n.set(v,p),p.type==="PUBLIC"){var _=function(k){if(k===void 0&&(k=s()),typeof k[v]!="function")throw Ia.create("invalid-app-argument",{appName:v});return k[v]()};p.serviceProps!==void 0&&ql(_,p.serviceProps),r[v]=_,e.prototype[v]=function(){for(var k=[],R=0;R<arguments.length;R++)k[R]=arguments[R];var C=this._getService.bind(this,v);return C.apply(this,p.multipleInstances?k:[])}}for(var w=0,S=Object.keys(t);w<S.length;w++){var b=S[w];t[b]._addComponent(p)}return p.type==="PUBLIC"?r[v]:null}function d(p,v,_){var w,S=(w=y2[p])!==null&&w!==void 0?w:p;_&&(S+="-"+_);var b=S.match(/\s|\//),k=v.match(/\s|\//);if(b||k){var R=['Unable to register library "'+S+'" with version "'+v+'":'];b&&R.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),b&&k&&R.push("and"),k&&R.push('version name "'+v+'" contains illegal characters (whitespace or "/")'),$a.warn(R.join(" "));return}c(new bc(S+"-version",function(){return{library:S,version:v}},"VERSION"))}function g(p,v){if(p!==null&&typeof p!="function")throw Ia.create("invalid-log-argument");r2(p,v)}function h(p,v){if(v==="serverAuth")return null;var _=v;return _}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(){var e=b2(mh);e.INTERNAL=ja(ja({},e.INTERNAL),{createFirebaseNamespace:Ck,extendNamespace:t,createSubscribe:KV,ErrorFactory:__,deepExtend:ql});function t(n){ql(e,n)}return e}var w_=Ck();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w2=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(E2(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function E2(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(e,t){e.INTERNAL.registerComponent(new bc("platform-logger",function(n){return new w2(n)},"PRIVATE")),e.registerVersion(kk,o2,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(MV()&&self.firebase!==void 0){$a.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var TT=self.firebase.SDK_VERSION;TT&&TT.indexOf("LITE")>=0&&$a.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var I2=w_.initializeApp;w_.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Tk()&&$a.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),I2.apply(void 0,e)};var Me=w_;T2(Me);var S2="firebase",Ok="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Me.registerVersion(S2,Ok,"app");Me.SDK_VERSION=Ok;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,f){i!=Array.prototype&&i!=Object.prototype&&(i[a]=f.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var f=i[a];if(f&&f.Math==Math)return f}return globalThis}var r=n(this);function o(i,a){if(a){var f=r;i=i.split(".");for(var m=0;m<i.length-1;m++){var y=i[m];y in f||(f[y]={}),f=f[y]}i=i[i.length-1],m=f[i],a=a(m),a!=m&&a!=null&&t(f,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(A){this.b=0,this.c=void 0,this.a=[];var x=this.f();try{A(x.resolve,x.reject)}catch(z){x.reject(z)}}function f(){this.a=null}function m(A){return A instanceof a?A:new a(function(x){x(A)})}if(i)return i;f.prototype.b=function(A){if(this.a==null){this.a=[];var x=this;this.c(function(){x.g()})}this.a.push(A)};var y=r.setTimeout;f.prototype.c=function(A){y(A,0)},f.prototype.g=function(){for(;this.a&&this.a.length;){var A=this.a;this.a=[];for(var x=0;x<A.length;++x){var z=A[x];A[x]=null;try{z()}catch(te){this.f(te)}}}this.a=null},f.prototype.f=function(A){this.c(function(){throw A})},a.prototype.f=function(){function A(te){return function(We){z||(z=!0,te.call(x,We))}}var x=this,z=!1;return{resolve:A(this.m),reject:A(this.g)}},a.prototype.m=function(A){if(A===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(A instanceof a)this.s(A);else{e:switch(typeof A){case"object":var x=A!=null;break e;case"function":x=!0;break e;default:x=!1}x?this.v(A):this.h(A)}},a.prototype.v=function(A){var x=void 0;try{x=A.then}catch(z){this.g(z);return}typeof x=="function"?this.u(x,A):this.h(A)},a.prototype.g=function(A){this.i(2,A)},a.prototype.h=function(A){this.i(1,A)},a.prototype.i=function(A,x){if(this.b!=0)throw Error("Cannot settle("+A+", "+x+"): Promise already settled in state"+this.b);this.b=A,this.c=x,this.l()},a.prototype.l=function(){if(this.a!=null){for(var A=0;A<this.a.length;++A)E.b(this.a[A]);this.a=null}};var E=new f;return a.prototype.s=function(A){var x=this.f();A.Ra(x.resolve,x.reject)},a.prototype.u=function(A,x){var z=this.f();try{A.call(x,z.resolve,z.reject)}catch(te){z.reject(te)}},a.prototype.then=function(A,x){function z(ct,dn){return typeof ct=="function"?function(Si){try{te(ct(Si))}catch($g){We($g)}}:dn}var te,We,gt=new a(function(ct,dn){te=ct,We=dn});return this.Ra(z(A,te),z(x,We)),gt},a.prototype.catch=function(A){return this.then(void 0,A)},a.prototype.Ra=function(A,x){function z(){switch(te.b){case 1:A(te.c);break;case 2:x(te.c);break;default:throw Error("Unexpected state: "+te.b)}}var te=this;this.a==null?E.b(z):this.a.push(z)},a.resolve=m,a.reject=function(A){return new a(function(x,z){z(A)})},a.race=function(A){return new a(function(x,z){for(var te=u(A),We=te.next();!We.done;We=te.next())m(We.value).Ra(x,z)})},a.all=function(A){var x=u(A),z=x.next();return z.done?m([]):new a(function(te,We){function gt(Si){return function($g){ct[Si]=$g,dn--,dn==0&&te(ct)}}var ct=[],dn=0;do ct.push(void 0),dn++,m(z.value).Ra(gt(ct.length-1),We),z=x.next();while(!z.done)})},a});var l=l||{},c=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function p(){}function v(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function _(i){var a=v(i);return a=="array"||a=="object"&&typeof i.length=="number"}function w(i){return v(i)=="function"}function S(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function b(i){return Object.prototype.hasOwnProperty.call(i,k)&&i[k]||(i[k]=++R)}var k="closure_uid_"+(1e9*Math.random()>>>0),R=0;function C(i,a,f){return i.call.apply(i.bind,arguments)}function U(i,a,f){if(!i)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(y,m),i.apply(a,y)}}return function(){return i.apply(a,arguments)}}function L(i,a,f){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?L=C:L=U,L.apply(null,arguments)}function B(i,a){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),i.apply(this,m)}}function $(i,a){function f(){}f.prototype=a.prototype,i.bb=a.prototype,i.prototype=new f,i.prototype.constructor=i}function H(i){return i}function N(i,a,f){this.code=ne+i,this.message=a||Ee[i]||"",this.a=f||null}$(N,Error),N.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},N.prototype.toJSON=function(){return this.w()};function ke(i){var a=i&&i.code;return a?new N(a.substring(ne.length),i.message,i.serverResponse):null}var ne="auth/",Ee={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Re={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Be(i){for(var a in Re)if(Re[a].id===i)return i=Re[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var ce;ce=Be("__EID__")?"__EID__":void 0;function Fe(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function ve(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ve);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}$(ve,Error),ve.prototype.name="CustomError";function et(i,a){i=i.split("%s");for(var f="",m=i.length-1,y=0;y<m;y++)f+=i[y]+(y<a.length?a[y]:"%s");ve.call(this,f+i[m])}$(et,ve),et.prototype.name="AssertionError";function mt(i,a){throw new et("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function Ct(i,a){this.c=i,this.f=a,this.b=0,this.a=null}Ct.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function St(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function ht(){this.b=this.a=null}var Xt=new Ct(function(){return new be},function(i){i.reset()});ht.prototype.add=function(i,a){var f=Xt.get();f.set(i,a),this.b?this.b.next=f:this.a=f,this.b=f};function ye(){var i=b0,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function be(){this.next=this.b=this.a=null}be.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},be.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var f=0;f<i.length;f++)if(f in i&&i[f]===a)return f;return-1},Y=Array.prototype.forEach?function(i,a,f){Array.prototype.forEach.call(i,a,f)}:function(i,a,f){for(var m=i.length,y=typeof i=="string"?i.split(""):i,E=0;E<m;E++)E in y&&a.call(f,y[E],E,i)};function se(i,a){for(var f=typeof i=="string"?i.split(""):i,m=i.length-1;0<=m;--m)m in f&&a.call(void 0,f[m],m,i)}var he=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var f=i.length,m=[],y=0,E=typeof i=="string"?i.split(""):i,A=0;A<f;A++)if(A in E){var x=E[A];a.call(void 0,x,A,i)&&(m[y++]=x)}return m},De=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var f=i.length,m=Array(f),y=typeof i=="string"?i.split(""):i,E=0;E<f;E++)E in y&&(m[E]=a.call(void 0,y[E],E,i));return m},P=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var f=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<f;y++)if(y in m&&a.call(void 0,m[y],y,i))return!0;return!1};function I(i){e:{for(var a=ER,f=i.length,m=typeof i=="string"?i.split(""):i,y=0;y<f;y++)if(y in m&&a.call(void 0,m[y],y,i)){a=y;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function T(i,a){return 0<=W(i,a)}function O(i,a){a=W(i,a);var f;return(f=0<=a)&&Array.prototype.splice.call(i,a,1),f}function M(i,a){var f=0;se(i,function(m,y){a.call(void 0,m,y,i)&&Array.prototype.splice.call(i,y,1).length==1&&f++})}function q(i){return Array.prototype.concat.apply([],arguments)}function J(i){var a=i.length;if(0<a){for(var f=Array(a),m=0;m<a;m++)f[m]=i[m];return f}return[]}var ee=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},oe=/&/g,re=/</g,Ce=/>/g,ue=/"/g,j=/'/g,G=/\x00/g,_e=/[\x00&<>"']/;function fe(i,a){return i.indexOf(a)!=-1}function V(i,a){return i<a?-1:i>a?1:0}var F;e:{var X=c.navigator;if(X){var de=X.userAgent;if(de){F=de;break e}}F=""}function Te(i){return fe(F,i)}function je(i,a){for(var f in i)a.call(void 0,i[f],f,i)}function Qe(i){for(var a in i)return!1;return!0}function qe(i){var a={},f;for(f in i)a[f]=i[f];return a}var Ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ke(i,a){for(var f,m,y=1;y<arguments.length;y++){m=arguments[y];for(f in m)i[f]=m[f];for(var E=0;E<Ye.length;E++)f=Ye[E],Object.prototype.hasOwnProperty.call(m,f)&&(i[f]=m[f])}}function An(i,a){e:{try{var f=i&&i.ownerDocument,m=f&&(f.defaultView||f.parentWindow);if(m=m||c,m.Element&&m.Location){var y=m;break e}}catch{}y=null}if(y&&typeof y[a]<"u"&&(!i||!(i instanceof y[a])&&(i instanceof y.Location||i instanceof y.Element))){if(S(i))try{var E=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{E="<object could not be stringified>"}else E=i===void 0?"undefined":i===null?"null":typeof i;mt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,E)}}function kn(i,a){this.a=i===$c&&a||"",this.b=t0}kn.prototype.ta=!0,kn.prototype.sa=function(){return this.a},kn.prototype.toString=function(){return"Const{"+this.a+"}"};function pp(i){return i instanceof kn&&i.constructor===kn&&i.b===t0?i.a:(mt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var t0={},$c={},Bc;function n0(){if(Bc===void 0){var i=null,a=c.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:H,createScript:H,createScriptURL:H})}catch(f){c.console&&c.console.error(f.message)}Bc=i}else Bc=i}return Bc}function Ys(i,a){this.a=a===i0?i:""}Ys.prototype.ta=!0,Ys.prototype.sa=function(){return this.a.toString()},Ys.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function r0(i){return i instanceof Ys&&i.constructor===Ys?i.a:(mt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+v(i)),"type_error:TrustedResourceUrl")}function mp(i,a){var f=pp(i);if(!JP.test(f))throw Error("Invalid TrustedResourceUrl format: "+f);return i=f.replace(QP,function(m,y){if(!Object.prototype.hasOwnProperty.call(a,y))throw Error('Found marker, "'+y+'", in format string, "'+f+'", but no valid label mapping found in args: '+JSON.stringify(a));return m=a[y],m instanceof kn?pp(m):encodeURIComponent(String(m))}),ZP(i)}var QP=/%{(\w+)}/g,JP=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,i0={};function ZP(i){var a=n0();return i=a?a.createScriptURL(i):i,new Ys(i,i0)}function Qn(i,a){this.a=a===Su?i:""}Qn.prototype.ta=!0,Qn.prototype.sa=function(){return this.a.toString()},Qn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function qc(i){return i instanceof Qn&&i.constructor===Qn?i.a:(mt("expected object of type SafeUrl, got '"+i+"' of type "+v(i)),"type_error:SafeUrl")}var ex=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,tx=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,o0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function s0(i){if(i instanceof Qn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),o0.test(i))i=new Qn(i,Su);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(tx);i=a&&ex.test(a[1])?new Qn(i,Su):null}return i}function a0(i){return i instanceof Qn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),o0.test(i)||(i="about:invalid#zClosurez"),new Qn(i,Su))}var Su={},u0=new Qn("about:invalid#zClosurez",Su);function Xs(i,a,f){this.a=f===l0?i:""}Xs.prototype.ta=!0,Xs.prototype.sa=function(){return this.a.toString()},Xs.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function nx(i){return i instanceof Xs&&i.constructor===Xs?i.a:(mt("expected object of type SafeHtml, got '"+i+"' of type "+v(i)),"type_error:SafeHtml")}var l0={};function rx(i,a){An(i,"HTMLScriptElement"),i.src=r0(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=c?a=h(a.document):(g===null&&(g=h(c.document)),a=g),a&&i.setAttribute("nonce",a)}function c0(i,a,f,m){return i=i instanceof Qn?i:a0(i),a=a||c,f=f instanceof kn?pp(f):f||"",a.open(qc(i),f,m,void 0)}function f0(i,a){for(var f=i.split("%s"),m="",y=Array.prototype.slice.call(arguments,1);y.length&&1<f.length;)m+=f.shift()+y.shift();return m+f.join("%s")}function gp(i){return _e.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(oe,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(re,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(Ce,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(ue,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(j,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(G,"&#0;"))),i}function vp(i){return vp[" "](i),i}vp[" "]=p;function ix(i,a){var f=ux;return Object.prototype.hasOwnProperty.call(f,i)?f[i]:f[i]=a(i)}var ox=Te("Opera"),Mr=Te("Trident")||Te("MSIE"),h0=Te("Edge"),sx=h0||Mr,d0=Te("Gecko")&&!(fe(F.toLowerCase(),"webkit")&&!Te("Edge"))&&!(Te("Trident")||Te("MSIE"))&&!Te("Edge"),ax=fe(F.toLowerCase(),"webkit")&&!Te("Edge");function p0(){var i=c.document;return i?i.documentMode:void 0}var Hc;e:{var yp="",_p=function(){var i=F;if(d0)return/rv:([^\);]+)(\)|;)/.exec(i);if(h0)return/Edge\/([\d\.]+)/.exec(i);if(Mr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(ax)return/WebKit\/(\S+)/.exec(i);if(ox)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(_p&&(yp=_p?_p[1]:""),Mr){var bp=p0();if(bp!=null&&bp>parseFloat(yp)){Hc=String(bp);break e}}Hc=yp}var ux={};function m0(i){return ix(i,function(){for(var a=0,f=ee(String(Hc)).split("."),m=ee(String(i)).split("."),y=Math.max(f.length,m.length),E=0;a==0&&E<y;E++){var A=f[E]||"",x=m[E]||"";do{if(A=/(\d*)(\D*)(.*)/.exec(A)||["","","",""],x=/(\d*)(\D*)(.*)/.exec(x)||["","","",""],A[0].length==0&&x[0].length==0)break;a=V(A[1].length==0?0:parseInt(A[1],10),x[1].length==0?0:parseInt(x[1],10))||V(A[2].length==0,x[2].length==0)||V(A[2],x[2]),A=A[3],x=x[3]}while(a==0)}return 0<=a})}var wp;if(c.document&&Mr){var g0=p0();wp=g0||parseInt(Hc,10)||void 0}else wp=void 0;var Hi=wp;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var lx=!Mr||9<=Number(Hi);function Au(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function v0(i,a){je(a,function(f,m){f&&typeof f=="object"&&f.ta&&(f=f.sa()),m=="style"?i.style.cssText=f:m=="class"?i.className=f:m=="for"?i.htmlFor=f:y0.hasOwnProperty(m)?i.setAttribute(y0[m],f):m.lastIndexOf("aria-",0)==0||m.lastIndexOf("data-",0)==0?i.setAttribute(m,f):i[m]=f})}var y0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function cx(i,a,f){var m=arguments,y=document,E=String(m[0]),A=m[1];if(!lx&&A&&(A.name||A.type)){if(E=["<",E],A.name&&E.push(' name="',gp(A.name),'"'),A.type){E.push(' type="',gp(A.type),'"');var x={};Ke(x,A),delete x.type,A=x}E.push(">"),E=E.join("")}return E=Wc(y,E),A&&(typeof A=="string"?E.className=A:Array.isArray(A)?E.className=A.join(" "):v0(E,A)),2<m.length&&fx(y,E,m),E}function fx(i,a,f){function m(x){x&&a.appendChild(typeof x=="string"?i.createTextNode(x):x)}for(var y=2;y<f.length;y++){var E=f[y];if(!_(E)||S(E)&&0<E.nodeType)m(E);else{e:{if(E&&typeof E.length=="number"){if(S(E)){var A=typeof E.item=="function"||typeof E.item=="string";break e}if(w(E)){A=typeof E.item=="function";break e}}A=!1}Y(A?J(E):E,m)}}}function Wc(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function _0(i){c.setTimeout(function(){throw i},0)}var Ep;function hx(){var i=c.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!Te("Presto")&&(i=function(){var y=Wc(document,"IFRAME");y.style.display="none",document.documentElement.appendChild(y);var E=y.contentWindow;y=E.document,y.open(),y.close();var A="callImmediate"+Math.random(),x=E.location.protocol=="file:"?"*":E.location.protocol+"//"+E.location.host;y=L(function(z){(x=="*"||z.origin==x)&&z.data==A&&this.port1.onmessage()},this),E.addEventListener("message",y,!1),this.port1={},this.port2={postMessage:function(){E.postMessage(A,x)}}}),typeof i<"u"&&!Te("Trident")&&!Te("MSIE")){var a=new i,f={},m=f;return a.port1.onmessage=function(){if(f.next!==void 0){f=f.next;var y=f.Hb;f.Hb=null,y()}},function(y){m.next={Hb:y},m=m.next,a.port2.postMessage(0)}}return function(y){c.setTimeout(y,0)}}function Kc(i,a){Gc||dx(),Tp||(Gc(),Tp=!0),b0.add(i,a)}var Gc;function dx(){if(c.Promise&&c.Promise.resolve){var i=c.Promise.resolve(void 0);Gc=function(){i.then(w0)}}else Gc=function(){var a=w0;!w(c.setImmediate)||c.Window&&c.Window.prototype&&!Te("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(Ep||(Ep=hx()),Ep(a)):c.setImmediate(a)}}var Tp=!1,b0=new ht;function w0(){for(var i;i=ye();){try{i.a.call(i.b)}catch(a){_0(a)}St(Xt,i)}Tp=!1}function rt(i,a){if(this.a=qo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=p)try{var f=this;i.call(a,function(m){Ho(f,ku,m)},function(m){if(!(m instanceof Qs))try{throw m instanceof Error?m:Error("Promise rejected.")}catch{}Ho(f,wi,m)})}catch(m){Ho(this,wi,m)}}var qo=0,ku=2,wi=3;function E0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}E0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var T0=new Ct(function(){return new E0},function(i){i.reset()});function Ip(i,a,f){var m=T0.get();return m.g=i,m.b=a,m.f=f,m}function Pe(i){if(i instanceof rt)return i;var a=new rt(p);return Ho(a,ku,i),a}function xt(i){return new rt(function(a,f){f(i)})}function I0(i,a,f){C0(i,a,f,null)||Kc(B(a,i))}function px(i){return new rt(function(a,f){var m=i.length,y=[];if(m)for(var E=function(te,We){m--,y[te]=We,m==0&&a(y)},A=function(te){f(te)},x=0,z;x<i.length;x++)z=i[x],I0(z,B(E,x),A);else a(y)})}function S0(i){return new rt(function(a){var f=i.length,m=[];if(f)for(var y=function(x,z,te){f--,m[x]=z?{Qb:!0,value:te}:{Qb:!1,reason:te},f==0&&a(m)},E=0,A;E<i.length;E++)A=i[E],I0(A,B(y,E,!0),B(y,E,!1));else a(m)})}rt.prototype.then=function(i,a,f){return k0(this,w(i)?i:null,w(a)?a:null,f)},rt.prototype.$goog_Thenable=!0,e=rt.prototype,e.oa=function(i,a){return i=Ip(i,i,a),i.c=!0,Sp(this,i),this},e.o=function(i,a){return k0(this,null,i,a)},e.cancel=function(i){if(this.a==qo){var a=new Qs(i);Kc(function(){A0(this,a)},this)}};function A0(i,a){if(i.a==qo)if(i.c){var f=i.c;if(f.b){for(var m=0,y=null,E=null,A=f.b;A&&(A.c||(m++,A.a==i&&(y=A),!(y&&1<m)));A=A.next)y||(E=A);y&&(f.a==qo&&m==1?A0(f,a):(E?(m=E,m.next==f.f&&(f.f=m),m.next=m.next.next):N0(f),P0(f,y,wi,a)))}i.c=null}else Ho(i,wi,a)}function Sp(i,a){i.b||i.a!=ku&&i.a!=wi||O0(i),i.f?i.f.next=a:i.b=a,i.f=a}function k0(i,a,f,m){var y=Ip(null,null,null);return y.a=new rt(function(E,A){y.g=a?function(x){try{var z=a.call(m,x);E(z)}catch(te){A(te)}}:E,y.b=f?function(x){try{var z=f.call(m,x);z===void 0&&x instanceof Qs?A(x):E(z)}catch(te){A(te)}}:A}),y.a.c=i,Sp(i,y),y.a}e.$c=function(i){this.a=qo,Ho(this,ku,i)},e.ad=function(i){this.a=qo,Ho(this,wi,i)};function Ho(i,a,f){i.a==qo&&(i===f&&(a=wi,f=new TypeError("Promise cannot resolve to itself")),i.a=1,C0(f,i.$c,i.ad,i)||(i.i=f,i.a=a,i.c=null,O0(i),a!=wi||f instanceof Qs||gx(i,f)))}function C0(i,a,f,m){if(i instanceof rt)return Sp(i,Ip(a||p,f||null,m)),!0;if(Fe(i))return i.then(a,f,m),!0;if(S(i))try{var y=i.then;if(w(y))return mx(i,y,a,f,m),!0}catch(E){return f.call(m,E),!0}return!1}function mx(i,a,f,m,y){function E(z){x||(x=!0,m.call(y,z))}function A(z){x||(x=!0,f.call(y,z))}var x=!1;try{a.call(i,A,E)}catch(z){E(z)}}function O0(i){i.h||(i.h=!0,Kc(i.gc,i))}function N0(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=N0(this);)P0(this,i,this.a,this.i);this.h=!1};function P0(i,a,f,m){if(f==wi&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,x0(a,f,m);else try{a.c?a.g.call(a.f):x0(a,f,m)}catch(y){R0.call(null,y)}St(T0,a)}function x0(i,a,f){a==ku?i.g.call(i.f,f):i.b&&i.b.call(i.f,f)}function gx(i,a){i.g=!0,Kc(function(){i.g&&R0.call(null,a)})}var R0=_0;function Qs(i){ve.call(this,i)}$(Qs,ve),Qs.prototype.name="cancel";function zc(){this.ya=this.ya,this.pa=this.pa}var vx=0;zc.prototype.ya=!1;function D0(i){!i.ya&&(i.ya=!0,i.Da(),vx!=0)&&b(i)}zc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var yx=Object.freeze||function(i){return i},L0=!Mr||9<=Number(Hi),_x=Mr&&!m0("9"),bx=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{c.addEventListener("test",p,a),c.removeEventListener("test",p,a)}catch{}return i}();function Jn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}Jn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Wo(i,a){if(Jn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var f=this.type=i.type,m=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(d0){e:{try{vp(a.nodeName);var y=!0;break e}catch{}y=!1}y||(a=null)}}else f=="mouseover"?a=i.fromElement:f=="mouseout"&&(a=i.toElement);this.relatedTarget=a,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:wx[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}$(Wo,Jn);var wx=yx({2:"touch",3:"pen",4:"mouse"});Wo.prototype.preventDefault=function(){Wo.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,_x)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},Wo.prototype.g=function(){return this.a};var Cu="closure_listenable_"+(1e6*Math.random()|0),Ex=0;function Tx(i,a,f,m,y){this.listener=i,this.proxy=null,this.src=a,this.type=f,this.capture=!!m,this.Wa=y,this.key=++Ex,this.wa=this.Qa=!1}function Yc(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function Xc(i){this.src=i,this.a={},this.b=0}Xc.prototype.add=function(i,a,f,m,y){var E=i.toString();i=this.a[E],i||(i=this.a[E]=[],this.b++);var A=kp(i,a,m,y);return-1<A?(a=i[A],f||(a.Qa=!1)):(a=new Tx(a,this.src,E,!!m,y),a.Qa=f,i.push(a)),a};function Ap(i,a){var f=a.type;f in i.a&&O(i.a[f],a)&&(Yc(a),i.a[f].length==0&&(delete i.a[f],i.b--))}function kp(i,a,f,m){for(var y=0;y<i.length;++y){var E=i[y];if(!E.wa&&E.listener==a&&E.capture==!!f&&E.Wa==m)return y}return-1}var Cp="closure_lm_"+(1e6*Math.random()|0),Op={};function Ar(i,a,f,m,y){if(m&&m.once)Np(i,a,f,m,y);else if(Array.isArray(a))for(var E=0;E<a.length;E++)Ar(i,a[E],f,m,y);else f=xp(f),i&&i[Cu]?$0(i,a,f,S(m)?!!m.capture:!!m,y):M0(i,a,f,!1,m,y)}function M0(i,a,f,m,y,E){if(!a)throw Error("Invalid event type");var A=S(y)?!!y.capture:!!y,x=Qc(i);if(x||(i[Cp]=x=new Xc(i)),f=x.add(a,f,m,A,E),!f.proxy)if(m=Ix(),f.proxy=m,m.src=i,m.listener=f,i.addEventListener)bx||(y=A),y===void 0&&(y=!1),i.addEventListener(a.toString(),m,y);else if(i.attachEvent)i.attachEvent(V0(a.toString()),m);else if(i.addListener&&i.removeListener)i.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.")}function Ix(){var i=Sx,a=L0?function(f){return i.call(a.src,a.listener,f)}:function(f){if(f=i.call(a.src,a.listener,f),!f)return f};return a}function Np(i,a,f,m,y){if(Array.isArray(a))for(var E=0;E<a.length;E++)Np(i,a[E],f,m,y);else f=xp(f),i&&i[Cu]?Rp(i,a,f,S(m)?!!m.capture:!!m,y):M0(i,a,f,!0,m,y)}function dr(i,a,f,m,y){if(Array.isArray(a))for(var E=0;E<a.length;E++)dr(i,a[E],f,m,y);else m=S(m)?!!m.capture:!!m,f=xp(f),i&&i[Cu]?(i=i.v,a=String(a).toString(),a in i.a&&(E=i.a[a],f=kp(E,f,m,y),-1<f&&(Yc(E[f]),Array.prototype.splice.call(E,f,1),E.length==0&&(delete i.a[a],i.b--)))):i&&(i=Qc(i))&&(a=i.a[a.toString()],i=-1,a&&(i=kp(a,f,m,y)),(f=-1<i?a[i]:null)&&F0(f))}function F0(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[Cu])Ap(a.v,i);else{var f=i.type,m=i.proxy;a.removeEventListener?a.removeEventListener(f,m,i.capture):a.detachEvent?a.detachEvent(V0(f),m):a.addListener&&a.removeListener&&a.removeListener(m),(f=Qc(a))?(Ap(f,i),f.b==0&&(f.src=null,a[Cp]=null)):Yc(i)}}}function V0(i){return i in Op?Op[i]:Op[i]="on"+i}function U0(i,a,f,m){var y=!0;if((i=Qc(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var E=a[i];E&&E.capture==f&&!E.wa&&(E=j0(E,m),y=y&&E!==!1)}return y}function j0(i,a){var f=i.listener,m=i.Wa||i.src;return i.Qa&&F0(i),f.call(m,a)}function Sx(i,a){if(i.wa)return!0;if(!L0){if(!a)e:{a=["window","event"];for(var f=c,m=0;m<a.length;m++)if(f=f[a[m]],f==null){a=null;break e}a=f}if(m=a,a=new Wo(m,this),f=!0,!(0>m.keyCode||m.returnValue!=null)){e:{var y=!1;if(m.keyCode==0)try{m.keyCode=-1;break e}catch{y=!0}(y||m.returnValue==null)&&(m.returnValue=!0)}for(m=[],y=a.b;y;y=y.parentNode)m.push(y);for(i=i.type,y=m.length-1;0<=y;y--){a.b=m[y];var E=U0(m[y],i,!0,a);f=f&&E}for(y=0;y<m.length;y++)a.b=m[y],E=U0(m[y],i,!1,a),f=f&&E}return f}return j0(i,new Wo(a,this))}function Qc(i){return i=i[Cp],i instanceof Xc?i:null}var Pp="__closure_events_fn_"+(1e9*Math.random()>>>0);function xp(i){return w(i)?i:(i[Pp]||(i[Pp]=function(a){return i.handleEvent(a)}),i[Pp])}function Un(){zc.call(this),this.v=new Xc(this),this.bc=this,this.hb=null}$(Un,zc),Un.prototype[Cu]=!0,Un.prototype.addEventListener=function(i,a,f,m){Ar(this,i,a,f,m)},Un.prototype.removeEventListener=function(i,a,f,m){dr(this,i,a,f,m)},Un.prototype.dispatchEvent=function(i){var a,f=this.hb;if(f)for(a=[];f;f=f.hb)a.push(f);f=this.bc;var m=i.type||i;if(typeof i=="string")i=new Jn(i,f);else if(i instanceof Jn)i.target=i.target||f;else{var y=i;i=new Jn(m,f),Ke(i,y)}if(y=!0,a)for(var E=a.length-1;0<=E;E--){var A=i.b=a[E];y=Jc(A,m,!0,i)&&y}if(A=i.b=f,y=Jc(A,m,!0,i)&&y,y=Jc(A,m,!1,i)&&y,a)for(E=0;E<a.length;E++)A=i.b=a[E],y=Jc(A,m,!1,i)&&y;return y},Un.prototype.Da=function(){if(Un.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var f=i.a[a],m=0;m<f.length;m++)Yc(f[m]);delete i.a[a],i.b--}}this.hb=null};function $0(i,a,f,m,y){i.v.add(String(a),f,!1,m,y)}function Rp(i,a,f,m,y){i.v.add(String(a),f,!0,m,y)}function Jc(i,a,f,m){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var y=!0,E=0;E<a.length;++E){var A=a[E];if(A&&!A.wa&&A.capture==f){var x=A.listener,z=A.Wa||A.src;A.Qa&&Ap(i.v,A),y=x.call(z,m)!==!1&&y}}return y&&!m.defaultPrevented}function Dp(i,a,f){if(w(i))f&&(i=L(i,f));else if(i&&typeof i.handleEvent=="function")i=L(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:c.setTimeout(i,a||0)}function Js(i){var a=null;return new rt(function(f,m){a=Dp(function(){f(void 0)},i),a==-1&&m(Error("Failed to schedule timer."))}).o(function(f){throw c.clearTimeout(a),f})}function B0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(_(i)){for(var a=[],f=i.length,m=0;m<f;m++)a.push(i[m]);return a}a=[],f=0;for(m in i)a[f++]=i[m];return a}function q0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(_(i)||typeof i=="string"){var a=[];i=i.length;for(var f=0;f<i;f++)a.push(f);return a}a=[],f=0;for(var m in i)a[f++]=m;return a}}function Ax(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(_(i)||typeof i=="string")Y(i,a,void 0);else for(var f=q0(i),m=B0(i),y=m.length,E=0;E<y;E++)a.call(void 0,m[E],f&&f[E],i)}function Zs(i,a){this.b={},this.a=[],this.c=0;var f=arguments.length;if(1<f){if(f%2)throw Error("Uneven number of arguments");for(var m=0;m<f;m+=2)this.set(arguments[m],arguments[m+1])}else if(i)if(i instanceof Zs)for(f=i.Y(),m=0;m<f.length;m++)this.set(f[m],i.get(f[m]));else for(m in i)this.set(m,i[m])}e=Zs.prototype,e.X=function(){Lp(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return Lp(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Lp(i){if(i.c!=i.a.length){for(var a=0,f=0;a<i.a.length;){var m=i.a[a];Ko(i.b,m)&&(i.a[f++]=m),a++}i.a.length=f}if(i.c!=i.a.length){var y={};for(f=a=0;a<i.a.length;)m=i.a[a],Ko(y,m)||(i.a[f++]=m,y[m]=1),a++;i.a.length=f}}e.get=function(i,a){return Ko(this.b,i)?this.b[i]:a},e.set=function(i,a){Ko(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var f=this.Y(),m=0;m<f.length;m++){var y=f[m],E=this.get(y);i.call(a,E,y,this)}};function Ko(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var H0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kx(i,a){if(i){i=i.split("&");for(var f=0;f<i.length;f++){var m=i[f].indexOf("="),y=null;if(0<=m){var E=i[f].substring(0,m);y=i[f].substring(m+1)}else E=i[f];a(E,y?decodeURIComponent(y.replace(/\+/g," ")):"")}}}function Wi(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var f;i instanceof Wi?(this.i=a!==void 0?a:i.i,Ou(this,i.c),this.l=i.l,this.a=i.a,Nu(this,i.g),this.f=i.f,Mp(this,z0(i.b)),this.h=i.h):i&&(f=String(i).match(H0))?(this.i=!!a,Ou(this,f[1]||"",!0),this.l=Pu(f[2]||""),this.a=Pu(f[3]||"",!0),Nu(this,f[4]),this.f=Pu(f[5]||"",!0),Mp(this,f[6]||"",!0),this.h=Pu(f[7]||"")):(this.i=!!a,this.b=new Go(null,this.i))}Wi.prototype.toString=function(){var i=[],a=this.c;a&&i.push(xu(a,W0,!0),":");var f=this.a;return(f||a=="file")&&(i.push("//"),(a=this.l)&&i.push(xu(a,W0,!0),"@"),i.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.g,f!=null&&i.push(":",String(f))),(f=this.f)&&(this.a&&f.charAt(0)!="/"&&i.push("/"),i.push(xu(f,f.charAt(0)=="/"?Nx:Ox,!0))),(f=this.b.toString())&&i.push("?",f),(f=this.h)&&i.push("#",xu(f,xx)),i.join("")},Wi.prototype.resolve=function(i){var a=new Wi(this),f=!!i.c;f?Ou(a,i.c):f=!!i.l,f?a.l=i.l:f=!!i.a,f?a.a=i.a:f=i.g!=null;var m=i.f;if(f)Nu(a,i.g);else if(f=!!i.f){if(m.charAt(0)!="/")if(this.a&&!this.f)m="/"+m;else{var y=a.f.lastIndexOf("/");y!=-1&&(m=a.f.substr(0,y+1)+m)}if(y=m,y==".."||y==".")m="";else if(fe(y,"./")||fe(y,"/.")){m=y.lastIndexOf("/",0)==0,y=y.split("/");for(var E=[],A=0;A<y.length;){var x=y[A++];x=="."?m&&A==y.length&&E.push(""):x==".."?((1<E.length||E.length==1&&E[0]!="")&&E.pop(),m&&A==y.length&&E.push("")):(E.push(x),m=!0)}m=E.join("/")}else m=y}return f?a.f=m:f=i.b.toString()!=="",f?Mp(a,z0(i.b)):f=!!i.h,f&&(a.h=i.h),a};function Ou(i,a,f){i.c=f?Pu(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function Nu(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function Mp(i,a,f){a instanceof Go?(i.b=a,Rx(i.b,i.i)):(f||(a=xu(a,Px)),i.b=new Go(a,i.i))}function Wt(i,a,f){i.b.set(a,f)}function kr(i,a){return i.b.get(a)}function Zn(i){return i instanceof Wi?new Wi(i):new Wi(i,void 0)}function Zc(i,a,f,m){var y=new Wi(null,void 0);return i&&Ou(y,i),a&&(y.a=a),f&&Nu(y,f),m&&(y.f=m),y}function Pu(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function xu(i,a,f){return typeof i=="string"?(i=encodeURI(i).replace(a,Cx),f&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Cx(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var W0=/[#\/\?@]/g,Ox=/[#\?:]/g,Nx=/[#\?]/g,Px=/[#\?@]/g,xx=/#/g;function Go(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function Ki(i){i.a||(i.a=new Zs,i.b=0,i.c&&kx(i.c,function(a,f){i.add(decodeURIComponent(a.replace(/\+/g," ")),f)}))}function K0(i){var a=q0(i);if(typeof a>"u")throw Error("Keys are undefined");var f=new Go(null,void 0);i=B0(i);for(var m=0;m<a.length;m++){var y=a[m],E=i[m];Array.isArray(E)?G0(f,y,E):f.add(y,E)}return f}e=Go.prototype,e.add=function(i,a){Ki(this),this.c=null,i=ea(this,i);var f=this.a.get(i);return f||this.a.set(i,f=[]),f.push(a),this.b+=1,this};function ti(i,a){Ki(i),a=ea(i,a),Ko(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,Ko(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&Lp(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Fp(i,a){return Ki(i),a=ea(i,a),Ko(i.a.b,a)}e.forEach=function(i,a){Ki(this),this.a.forEach(function(f,m){Y(f,function(y){i.call(a,y,m,this)},this)},this)},e.Y=function(){Ki(this);for(var i=this.a.X(),a=this.a.Y(),f=[],m=0;m<a.length;m++)for(var y=i[m],E=0;E<y.length;E++)f.push(a[m]);return f},e.X=function(i){Ki(this);var a=[];if(typeof i=="string")Fp(this,i)&&(a=q(a,this.a.get(ea(this,i))));else{i=this.a.X();for(var f=0;f<i.length;f++)a=q(a,i[f])}return a},e.set=function(i,a){return Ki(this),this.c=null,i=ea(this,i),Fp(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function G0(i,a,f){ti(i,a),0<f.length&&(i.c=null,i.a.set(ea(i,a),J(f)),i.b+=f.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),f=0;f<a.length;f++){var m=a[f],y=encodeURIComponent(String(m));m=this.X(m);for(var E=0;E<m.length;E++){var A=y;m[E]!==""&&(A+="="+encodeURIComponent(String(m[E]))),i.push(A)}}return this.c=i.join("&")};function z0(i){var a=new Go;return a.c=i.c,i.a&&(a.a=new Zs(i.a),a.b=i.b),a}function ea(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function Rx(i,a){a&&!i.f&&(Ki(i),i.c=null,i.a.forEach(function(f,m){var y=m.toLowerCase();m!=y&&(ti(this,m),G0(this,y,f))},i)),i.f=a}function Y0(i){var a=[];return Vp(new Dx,i,a),a.join("")}function Dx(){}function Vp(i,a,f){if(a==null)f.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var m=a;a=m.length,f.push("[");for(var y="",E=0;E<a;E++)f.push(y),Vp(i,m[E],f),y=",";f.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{f.push("{"),y="";for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&(E=a[m],typeof E!="function"&&(f.push(y),Q0(m,f),f.push(":"),Vp(i,E,f),y=","));f.push("}");return}}switch(typeof a){case"string":Q0(a,f);break;case"number":f.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":f.push(String(a));break;case"function":f.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var X0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},Lx=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Q0(i,a){a.push('"',i.replace(Lx,function(f){var m=X0[f];return m||(m="\\u"+(f.charCodeAt(0)|65536).toString(16).substr(1),X0[f]=m),m}),'"')}function Up(){var i=vn();return Mr&&!!Hi&&Hi==11||/Edge\/\d+/.test(i)}function Ru(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function J0(i,a){a=a||c.window;var f="about:blank";i&&(f=qc(s0(i)||u0)),a.location.href=f}function Z0(i,a){var f=[],m;for(m in i)m in a?typeof i[m]!=typeof a[m]?f.push(m):typeof i[m]=="object"&&i[m]!=null&&a[m]!=null?0<Z0(i[m],a[m]).length&&f.push(m):i[m]!==a[m]&&f.push(m):f.push(m);for(m in a)m in i||f.push(m);return f}function Mx(){var i=vn();return i=ta(i)!=rw?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!Mr||!Hi||9<Hi}function ew(i){return i=(i||vn()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function zo(i){i=i||c.window;try{i.close()}catch{}}function tw(i,a,f){var m=Math.floor(1e9*Math.random()).toString();a=a||500,f=f||600;var y=(window.screen.availHeight-f)/2,E=(window.screen.availWidth-a)/2;a={width:a,height:f,top:0<y?y:0,left:0<E?E:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},f=vn().toLowerCase(),m&&(a.target=m,fe(f,"crios/")&&(a.target="_blank")),ta(vn())==Bp&&(i=i||"http://localhost",a.scrollbars=!0),f=i||"",(i=a)||(i={}),m=window,a=f instanceof Qn?f:s0(typeof f.href<"u"?f.href:String(f))||u0,f=i.target||f.target,y=[];for(A in i)switch(A){case"width":case"height":case"top":case"left":y.push(A+"="+i[A]);break;case"target":case"noopener":case"noreferrer":break;default:y.push(A+"="+(i[A]?1:0))}var A=y.join(",");if((Te("iPhone")&&!Te("iPod")&&!Te("iPad")||Te("iPad")||Te("iPod"))&&m.navigator&&m.navigator.standalone&&f&&f!="_self"?(A=Wc(document,"A"),An(A,"HTMLAnchorElement"),a=a instanceof Qn?a:a0(a),A.href=qc(a),A.setAttribute("target",f),i.noreferrer&&A.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,m,1),A.dispatchEvent(i),A={}):i.noreferrer?(A=c0("",m,f,A),i=qc(a),A&&(sx&&fe(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),A.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+gp(i)+'">',i=(m=n0())?m.createHTML(i):i,i=new Xs(i,null,l0),m=A.document)&&(m.write(nx(i)),m.close())):(A=c0(a,m,f,A))&&i.noopener&&(A.opener=null),A)try{A.focus()}catch{}return A}function Fx(i){return new rt(function(a){function f(){Js(2e3).then(function(){if(!i||i.closed)a();else return f()})}return f()})}var Vx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ux=/^[^@]+@[^@]+$/;function ef(){var i=null;return new rt(function(a){c.document.readyState=="complete"?a():(i=function(){a()},Np(window,"load",i))}).o(function(a){throw dr(window,"load",i),a})}function jx(){return jp(void 0)?ef().then(function(){return new rt(function(i,a){var f=c.document,m=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);f.addEventListener("deviceready",function(){clearTimeout(m),i()},!1)})}):xt(Error("Cordova must run in an Android or iOS file scheme."))}function jp(i){return i=i||vn(),!(ra()!=="file:"&&ra()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function $p(){var i=c.window;try{return!(!i||i==i.top)}catch{return!1}}function Fr(){return typeof c.WorkerGlobalScope<"u"&&typeof c.importScripts=="function"}function ni(){return Me.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Me.INTERNAL.hasOwnProperty("node")?"Node":Fr()?"Worker":"Browser"}function nw(){var i=ni();return i==="ReactNative"||i==="Node"}function $x(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var Bp="Firefox",rw="Chrome";function ta(i){var a=i.toLowerCase();if(fe(a,"opera/")||fe(a,"opr/")||fe(a,"opios/"))return"Opera";if(fe(a,"iemobile"))return"IEMobile";if(fe(a,"msie")||fe(a,"trident/"))return"IE";if(fe(a,"edge/"))return"Edge";if(fe(a,"firefox/"))return Bp;if(fe(a,"silk/"))return"Silk";if(fe(a,"blackberry"))return"Blackberry";if(fe(a,"webos"))return"Webos";if(!fe(a,"safari/")||fe(a,"chrome/")||fe(a,"crios/")||fe(a,"android"))if(!fe(a,"chrome/")&&!fe(a,"crios/")||fe(a,"edge/")){if(fe(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return rw;else return"Safari";return"Other"}var iw={md:"FirebaseCore-web",od:"FirebaseUI-web"};function na(i,a){a=a||[];var f=[],m={},y;for(y in iw)m[iw[y]]=!0;for(y=0;y<a.length;y++)typeof m[a[y]]<"u"&&(delete m[a[y]],f.push(a[y]));return f.sort(),a=f,a.length||(a=["FirebaseCore-web"]),f=ni(),f==="Browser"?(m=vn(),f=ta(m)):f==="Worker"&&(m=vn(),f=ta(m)+"-"+f),f+"/JsCore/"+i+"/"+a.join(",")}function vn(){return c.navigator&&c.navigator.userAgent||""}function Rt(i,a){i=i.split("."),a=a||c;for(var f=0;f<i.length&&typeof a=="object"&&a!=null;f++)a=a[i[f]];return f!=i.length&&(a=void 0),a}function qp(){try{var i=c.localStorage,a=Xo();if(i)return i.setItem(a,"1"),i.removeItem(a),Up()?!!c.indexedDB:!0}catch{return Fr()&&!!c.indexedDB}return!1}function Yo(){return(tf()||ra()==="chrome-extension:"||jp())&&!nw()&&qp()&&!Fr()}function tf(){return ra()==="http:"||ra()==="https:"}function ra(){return c.location&&c.location.protocol||null}function Du(i){return i=i||vn(),!(ew(i)||ta(i)==Bp)}function Lu(i){return typeof i>"u"?null:Y0(i)}function ow(i){var a={},f;for(f in i)i.hasOwnProperty(f)&&i[f]!==null&&i[f]!==void 0&&(a[f]=i[f]);return a}function ia(i){if(i!==null)return JSON.parse(i)}function Xo(i){return i||Math.floor(1e9*Math.random()).toString()}function sw(i){return i=i||vn(),!(ta(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function aw(){var i=c.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var f=0;f<i.CP.length;f++)i.CP[f]=null}}function Gi(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=vn(),a=ni(),this.b=ew(i)||a==="ReactNative"}Gi.prototype.get=function(){var i=c.navigator;return!(i&&typeof i.onLine=="boolean"&&(tf()||ra()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Hp(){var i=c.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function Bx(){var i=c.document,a=null;return Hp()||!i?Pe():new rt(function(f){a=function(){Hp()&&(i.removeEventListener("visibilitychange",a,!1),f())},i.addEventListener("visibilitychange",a,!1)}).o(function(f){throw i.removeEventListener("visibilitychange",a,!1),f})}function Mu(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function uw(){return!(!Rt("fireauth.oauthhelper",c)&&!Rt("fireauth.iframe",c))}function qx(){var i=c.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function Hx(){var i=c.navigator;return i&&i.serviceWorker?Pe().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Pe(null)}var lw={};function Wp(i){lw[i]||(lw[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var Kp;try{var Gp={};Object.defineProperty(Gp,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gp,"abcd",{configurable:!0,enumerable:!0,value:2}),Kp=Gp.abcd==2}catch{Kp=!1}function Se(i,a,f){Kp?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:f}):i[a]=f}function jn(i,a){if(a)for(var f in a)a.hasOwnProperty(f)&&Se(i,f,a[f])}function ri(i){var a={};return jn(a,i),a}function Wx(i){var a={},f;for(f in i)i.hasOwnProperty(f)&&(a[f]=i[f]);return a}function Kx(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var f=0;f<a.length;f++){var m=i[a[f]];if(m==null||m==="")return!1}return!0}function zp(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var f in i)Se(a,f,zp(i[f]))}return a}function Yp(i){var a=i&&(i[Zp]?"phone":null);if(a&&i&&i[Jp]){Se(this,"uid",i[Jp]),Se(this,"displayName",i[cw]||null);var f=null;i[Qp]&&(f=new Date(i[Qp]).toUTCString()),Se(this,"enrollmentTime",f),Se(this,"factorId",a)}else throw new N("internal-error","Internal assert: invalid MultiFactorInfo object")}Yp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Xp(i){try{var a=new Fu(i)}catch{a=null}return a}var cw="displayName",Qp="enrolledAt",Jp="mfaEnrollmentId",Zp="phoneInfo";function Fu(i){Yp.call(this,i),Se(this,"phoneNumber",i[Zp])}$(Fu,Yp),Fu.prototype.w=function(){var i=Fu.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function Gx(i){var a={},f=i[zx],m=i[Xx],y=i[Qx];if(i=Xp(i[Yx]),!y||y!=nf&&y!=Vu&&!f||y==Vu&&!m||y==em&&!i)throw Error("Invalid checkActionCode response!");y==Vu?(a[hw]=f||null,a[dw]=f||null,a[fw]=m):(a[hw]=m||null,a[dw]=m||null,a[fw]=f||null),a[Jx]=i||null,Se(this,eR,y),Se(this,Zx,zp(a))}var em="REVERT_SECOND_FACTOR_ADDITION",nf="EMAIL_SIGNIN",Vu="VERIFY_AND_CHANGE_EMAIL",zx="email",Yx="mfaInfo",Xx="newEmail",Qx="requestType",fw="email",hw="fromEmail",Jx="multiFactorInfo",dw="previousEmail",Zx="data",eR="operation";function tm(i){i=Zn(i);var a=kr(i,pw)||null,f=kr(i,mw)||null,m=kr(i,gw)||null;if(m=m&&iR[m]||null,!a||!f||!m)throw new N("argument-error",pw+", "+mw+"and "+gw+" are required in a valid action code URL.");jn(this,{apiKey:a,operation:m,code:f,continueUrl:kr(i,tR)||null,languageCode:kr(i,nR)||null,tenantId:kr(i,rR)||null})}var pw="apiKey",mw="oobCode",tR="continueUrl",nR="languageCode",gw="mode",rR="tenantId",iR={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:em,signIn:nf,verifyAndChangeEmail:Vu,verifyEmail:"VERIFY_EMAIL"};function vw(i){try{return new tm(i)}catch{return null}}function rf(i){var a=i[oR];if(typeof a>"u")throw new N("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new N("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var f=i[yw];if(f&&typeof f=="object"){a=f[Tw];var m=f[ww];if(f=f[Ew],typeof a=="string"&&a.length){if(this.a=a,typeof m<"u"&&typeof m!="boolean")throw new N("argument-error",ww+" property must be a boolean when specified.");if(this.g=!!m,typeof f<"u"&&(typeof f!="string"||typeof f=="string"&&!f.length))throw new N("argument-error",Ew+" property must be a non empty string when specified.");this.b=f||null}else{if(typeof a<"u")throw new N("argument-error",Tw+" property must be a non empty string when specified.");if(typeof m<"u"||typeof f<"u")throw new N("missing-android-pkg-name")}}else if(typeof f<"u")throw new N("argument-error",yw+" property must be a non null object when specified.");if(this.f=null,(a=i[bw])&&typeof a=="object"){if(a=a[Iw],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new N("argument-error",Iw+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new N("argument-error",bw+" property must be a non null object when specified.");if(a=i[nm],typeof a<"u"&&typeof a!="boolean")throw new N("argument-error",nm+" property must be a boolean when specified.");if(this.c=!!a,i=i[_w],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new N("argument-error",_w+" property must be a non empty string when specified.");this.i=i||null}var yw="android",_w="dynamicLinkDomain",nm="handleCodeInApp",bw="iOS",oR="url",ww="installApp",Ew="minimumVersion",Tw="packageName",Iw="bundleId";function of(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var f in a)a[f]===null&&delete a[f];return a}function sR(i){return De(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Uu=null;function aR(i){var a=[];return uR(i,function(f){a.push(f)}),a}function uR(i,a){function f(z){for(;m<i.length;){var te=i.charAt(m++),We=Uu[te];if(We!=null)return We;if(!/^[\s\xa0]*$/.test(te))throw Error("Unknown base64 encoding at char: "+te)}return z}lR();for(var m=0;;){var y=f(-1),E=f(0),A=f(64),x=f(64);if(x===64&&y===-1)break;a(y<<2|E>>4),A!=64&&(a(E<<4&240|A>>2),x!=64&&a(A<<6&192|x))}}function lR(){if(!Uu){Uu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],f=0;5>f;f++)for(var m=i.concat(a[f].split("")),y=0;y<m.length;y++){var E=m[y];Uu[E]===void 0&&(Uu[E]=y)}}}function sf(i){var a=Sw(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}sf.prototype.T=function(){return this.f},sf.prototype.l=function(){return this.c},sf.prototype.toString=function(){return this.h};function af(i){try{return new sf(i)}catch{return null}}function Sw(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,f=0;f<a;f++)i+=".";try{var m=aR(i);for(i=[],f=a=0;a<m.length;){var y=m[a++];if(128>y)i[f++]=String.fromCharCode(y);else if(191<y&&224>y){var E=m[a++];i[f++]=String.fromCharCode((y&31)<<6|E&63)}else if(239<y&&365>y){E=m[a++];var A=m[a++],x=m[a++],z=((y&7)<<18|(E&63)<<12|(A&63)<<6|x&63)-65536;i[f++]=String.fromCharCode(55296+(z>>10)),i[f++]=String.fromCharCode(56320+(z&1023))}else E=m[a++],A=m[a++],i[f++]=String.fromCharCode((y&15)<<12|(E&63)<<6|A&63)}return JSON.parse(i.join(""))}catch{}return null}var Aw="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),uf=["client_id","response_type","scope","redirect_uri","state"],rm={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:uf},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:uf},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:uf},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Aw},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function im(i){for(var a in rm)if(rm[a].fa==i)return rm[a];return null}function kw(i){var a={};a["facebook.com"]=Ow,a["google.com"]=Pw,a["github.com"]=Nw,a["twitter.com"]=xw;var f=i&&i[Cw];try{if(f)return a[f]?new a[f](i):new ii(i);if(typeof i[om]<"u")return new sm(i)}catch{}return null}var om="idToken",Cw="providerId";function sm(i){var a=i[Cw];if(!a&&i[om]){var f=af(i[om]);f&&f.b&&(a=f.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),f=!1,typeof i.isNewUser<"u"?f=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(f=!0),Se(this,"providerId",a),Se(this,"isNewUser",f)}function ii(i){sm.call(this,i),i=ia(i.rawUserInfo||"{}"),Se(this,"profile",zp(i||{}))}$(ii,sm);function Ow(i){if(ii.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}$(Ow,ii);function Nw(i){if(ii.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");Se(this,"username",this.profile&&this.profile.login||null)}$(Nw,ii);function Pw(i){if(ii.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}$(Pw,ii);function xw(i){if(ii.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");Se(this,"username",i.screenName||null)}$(xw,ii);function Rw(i){var a=Zn(i),f=kr(a,"link"),m=kr(Zn(f),"link");return a=kr(a,"deep_link_id"),kr(Zn(a),"link")||a||m||f||i}function lf(i,a){if(!i&&!a)throw new N("internal-error","Internal assert: no raw session string available");if(i&&a)throw new N("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?ju:cf}var ju="enroll",cf="signin";lf.prototype.Ha=function(){return this.a?Pe(this.a):Pe(this.b)},lf.prototype.w=function(){return this.type==ju?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function oa(){}oa.prototype.ka=function(){},oa.prototype.b=function(){},oa.prototype.c=function(){},oa.prototype.w=function(){};function sa(i,a){return i.then(function(f){if(f[jr]){var m=af(f[jr]);if(!m||a!=m.i)throw new N("user-mismatch");return f}throw new N("user-mismatch")}).o(function(f){throw f&&f.code&&f.code==ne+"user-not-found"?new N("user-mismatch"):f})}function Qo(i,a){if(a)this.a=a;else throw new N("internal-error","failed to construct a credential");Se(this,"providerId",i),Se(this,"signInMethod",i)}Qo.prototype.ka=function(i){return Nm(i,am(this))},Qo.prototype.b=function(i,a){var f=am(this);return f.idToken=a,Pm(i,f)},Qo.prototype.c=function(i,a){return sa(xm(i,am(this)),a)};function am(i){return{pendingToken:i.a,requestUri:"http://localhost"}}Qo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function cR(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new Qo(i.providerId,i.pendingToken)}catch{}return null}function Ei(i,a,f){if(this.a=null,a.idToken||a.accessToken)a.idToken&&Se(this,"idToken",a.idToken),a.accessToken&&Se(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&Se(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)Se(this,"accessToken",a.oauthToken),Se(this,"secret",a.oauthTokenSecret);else throw new N("internal-error","failed to construct a credential");Se(this,"providerId",i),Se(this,"signInMethod",f)}Ei.prototype.ka=function(i){return Nm(i,um(this))},Ei.prototype.b=function(i,a){var f=um(this);return f.idToken=a,Pm(i,f)},Ei.prototype.c=function(i,a){var f=um(this);return sa(xm(i,f),a)};function um(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:K0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}Ei.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function fR(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new Ei(i.providerId,a,i.signInMethod)}catch{}}return null}function Jo(i,a){this.Qc=a||[],jn(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(im(i)||{}).Ja||null,this.pb=null}Jo.prototype.Ka=function(i){return this.Jb=qe(i),this};function Dw(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new N("argument-error",'SAML provider IDs must be prefixed with "saml."');Jo.call(this,i,[])}$(Dw,Jo);function pr(i){Jo.call(this,i,uf),this.a=[]}$(pr,Jo),pr.prototype.Ca=function(i){return T(this.a,i)||this.a.push(i),this},pr.prototype.Rb=function(){return J(this.a)},pr.prototype.credential=function(i,a){var f;if(S(i)?f={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:f={idToken:i||null,accessToken:a||null},!f.idToken&&!f.accessToken)throw new N("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ei(this.providerId,f,this.providerId)};function Zo(){pr.call(this,"facebook.com")}$(Zo,pr),Se(Zo,"PROVIDER_ID","facebook.com"),Se(Zo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function Lw(i){if(!i)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return S(i)&&(a=i.accessToken),new Zo().credential({accessToken:a})}function es(){pr.call(this,"github.com")}$(es,pr),Se(es,"PROVIDER_ID","github.com"),Se(es,"GITHUB_SIGN_IN_METHOD","github.com");function Mw(i){if(!i)throw new N("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return S(i)&&(a=i.accessToken),new es().credential({accessToken:a})}function ts(){pr.call(this,"google.com"),this.Ca("profile")}$(ts,pr),Se(ts,"PROVIDER_ID","google.com"),Se(ts,"GOOGLE_SIGN_IN_METHOD","google.com");function Fw(i,a){var f=i;return S(i)&&(f=i.idToken,a=i.accessToken),new ts().credential({idToken:f,accessToken:a})}function aa(){Jo.call(this,"twitter.com",Aw)}$(aa,Jo),Se(aa,"PROVIDER_ID","twitter.com"),Se(aa,"TWITTER_SIGN_IN_METHOD","twitter.com");function Vw(i,a){var f=i;if(S(f)||(f={oauthToken:i,oauthTokenSecret:a}),!f.oauthToken||!f.oauthTokenSecret)throw new N("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ei("twitter.com",f,"twitter.com")}function zi(i,a,f){this.a=i,this.f=a,Se(this,"providerId","password"),Se(this,"signInMethod",f===Cr.EMAIL_LINK_SIGN_IN_METHOD?Cr.EMAIL_LINK_SIGN_IN_METHOD:Cr.EMAIL_PASSWORD_SIGN_IN_METHOD)}zi.prototype.ka=function(i){return this.signInMethod==Cr.EMAIL_LINK_SIGN_IN_METHOD?it(i,YR,{email:this.a,oobCode:this.f}):it(i,hE,{email:this.a,password:this.f})},zi.prototype.b=function(i,a){return this.signInMethod==Cr.EMAIL_LINK_SIGN_IN_METHOD?it(i,XR,{idToken:a,email:this.a,oobCode:this.f}):it(i,fE,{idToken:a,email:this.a,password:this.f})},zi.prototype.c=function(i,a){return sa(this.ka(i),a)},zi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function hR(i){return i&&i.email&&i.password?new zi(i.email,i.password,i.signInMethod):null}function Cr(){jn(this,{providerId:"password",isOAuthProvider:!1})}function Uw(i,a){if(a=lm(a),!a)throw new N("argument-error","Invalid email link!");return new zi(i,a.code,Cr.EMAIL_LINK_SIGN_IN_METHOD)}function lm(i){return i=Rw(i),(i=vw(i))&&i.operation===nf?i:null}jn(Cr,{PROVIDER_ID:"password"}),jn(Cr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),jn(Cr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Yi(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new N("internal-error");this.a=i,Se(this,"providerId","phone"),this.fa="phone",Se(this,"signInMethod","phone")}Yi.prototype.ka=function(i){return i.gb($u(this))},Yi.prototype.b=function(i,a){var f=$u(this);return f.idToken=a,it(i,gD,f)},Yi.prototype.c=function(i,a){var f=$u(this);return f.operation="REAUTH",i=it(i,vD,f),sa(i,a)},Yi.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function dR(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return Y(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(f){i[f]&&(a[f]=i[f])}),new Yi(a)}return null}function $u(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function Ti(i){try{this.a=i||Me.auth()}catch{throw new N("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}jn(this,{providerId:"phone",isOAuthProvider:!1})}Ti.prototype.gb=function(i,a){var f=this.a.a;return Pe(a.verify()).then(function(m){if(typeof m!="string")throw new N("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var y=S(i)?i.session:null,E=S(i)?i.phoneNumber:i,A;return y&&y.type==ju?A=y.Ha().then(function(x){return jR(f,{idToken:x,phoneEnrollmentInfo:{phoneNumber:E,recaptchaToken:m}})}):y&&y.type==cf?A=y.Ha().then(function(x){return $R(f,{mfaPendingCredential:x,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:m}})}):A=UR(f,{phoneNumber:E,recaptchaToken:m}),A.then(function(x){return typeof a.reset=="function"&&a.reset(),x},function(x){throw typeof a.reset=="function"&&a.reset(),x});default:throw new N("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function jw(i,a){if(!i)throw new N("missing-verification-id");if(!a)throw new N("missing-verification-code");return new Yi({fb:i,eb:a})}jn(Ti,{PROVIDER_ID:"phone"}),jn(Ti,{PHONE_SIGN_IN_METHOD:"phone"});function cm(i){if(i.temporaryProof&&i.phoneNumber)return new Yi({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var f=i&&i.oauthAccessToken,m=i&&i.oauthTokenSecret,y=i&&i.nonce,E=i&&i.oauthIdToken,A=i&&i.pendingToken;try{switch(a){case"google.com":return Fw(E,f);case"facebook.com":return Lw(f);case"github.com":return Mw(f);case"twitter.com":return Vw(f,m);default:return f||m||E||A?A?a.indexOf("saml.")==0?new Qo(a,A):new Ei(a,{pendingToken:A,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new pr(a).credential({idToken:E,accessToken:f,rawNonce:y}):null}}catch{return null}}function fm(i){if(!i.isOAuthProvider)throw new N("invalid-oauth-provider")}function Vr(i,a,f,m,y,E,A){if(this.c=i,this.b=a||null,this.g=f||null,this.f=m||null,this.i=E||null,this.h=A||null,this.a=y||null,this.g||this.a){if(this.g&&this.a)throw new N("invalid-auth-event");if(this.g&&!this.f)throw new N("invalid-auth-event")}else throw new N("invalid-auth-event")}Vr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},Vr.prototype.T=function(){return this.h},Vr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function $w(i){return i=i||{},i.type?new Vr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&ke(i.error),i.postBody,i.tenantId):null}function pR(){this.b=null,this.a=[]}var hm=null;function mR(i){var a=hm;a.a.push(i),a.b||(a.b=function(f){for(var m=0;m<a.a.length;m++)a.a[m](f)},i=Rt("universalLinks.subscribe",c),typeof i=="function"&&i(null,a.b))}function dm(i){var a="unauthorized-domain",f=void 0,m=Zn(i);i=m.a,m=m.c,m=="chrome-extension"?f=f0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):m=="http"||m=="https"?f=f0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",N.call(this,a,f)}$(dm,N);function Bu(i,a,f){N.call(this,i,f),i=a||{},i.Kb&&Se(this,"email",i.Kb),i.ea&&Se(this,"phoneNumber",i.ea),i.credential&&Se(this,"credential",i.credential),i.$b&&Se(this,"tenantId",i.$b)}$(Bu,N),Bu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&Ke(i,a),i},Bu.prototype.toJSON=function(){return this.w()};function ff(i){if(i.code){var a=i.code||"";a.indexOf(ne)==0&&(a=a.substring(ne.length));var f={credential:cm(i),$b:i.tenantId};if(i.email)f.Kb=i.email;else if(i.phoneNumber)f.ea=i.phoneNumber;else if(!f.credential)return new N(a,i.message||void 0);return new Bu(a,f,i.message)}return null}function qu(){}qu.prototype.c=null;function Bw(i){return i.c||(i.c=i.b())}var pm;function hf(){}$(hf,qu),hf.prototype.a=function(){var i=qw(this);return i?new ActiveXObject(i):new XMLHttpRequest},hf.prototype.b=function(){var i={};return qw(this)&&(i[0]=!0,i[1]=!0),i};function qw(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],f=0;f<a.length;f++){var m=a[f];try{return new ActiveXObject(m),i.f=m}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}pm=new hf;function df(){}$(df,qu),df.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new Hw;throw Error("Unsupported browser")},df.prototype.b=function(){return{}};function Hw(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=L(this.qc,this),this.a.onerror=L(this.Tb,this),this.a.onprogress=L(this.rc,this),this.a.ontimeout=L(this.vc,this)}e=Hw.prototype,e.open=function(i,a,f){if(f!=null&&!f)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,mm(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",mm(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,mm(this,1)};function mm(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function gm(i,a,f){this.reset(i,a,f,void 0,void 0)}gm.prototype.a=null,gm.prototype.reset=function(i,a,f,m,y){delete this.a};function vm(i){this.f=i,this.b=this.c=this.a=null}function Hu(i,a){this.name=i,this.value=a}Hu.prototype.toString=function(){return this.name};var Ww=new Hu("SEVERE",1e3),ym=new Hu("WARNING",900),gR=new Hu("CONFIG",700),vR=new Hu("FINE",500);function Kw(i){return i.c?i.c:i.a?Kw(i.a):(mt("Root logger has no level set."),null)}vm.prototype.log=function(i,a,f){if(i.value>=Kw(this).value)for(w(a)&&(a=a()),i=new gm(i,String(a),this.f),f&&(i.a=f),f=this;f;)f=f.a};var _m={},pf=null;function bm(i){pf||(pf=new vm(""),_m[""]=pf,pf.c=gR);var a;if(!(a=_m[i])){a=new vm(i);var f=i.lastIndexOf("."),m=i.substr(f+1);f=bm(i.substr(0,f)),f.b||(f.b={}),f.b[m]=a,a.a=f,_m[i]=a}return a}function Or(i,a){i&&i.log(vR,a,void 0)}function mf(i){this.f=i}$(mf,qu),mf.prototype.a=function(){return new gf(this.f)},mf.prototype.b=function(i){return function(){return i}}({});function gf(i){Un.call(this),this.u=i,this.h=void 0,this.readyState=wm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=bm("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}$(gf,Un);var wm=0;e=gf.prototype,e.open=function(i,a){if(this.readyState!=wm)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,Ku(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Wu(this)),this.readyState=wm},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,Ku(this)),this.a&&(this.readyState=3,Ku(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof c.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,Gw(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Gw(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?Wu(this):Ku(this),this.readyState==3&&Gw(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,Wu(this))},e.sc=function(i){this.a&&(this.response=i,Wu(this))},e.Va=function(i){var a=this.i;a&&a.log(ym,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&Wu(this)};function Wu(i){i.readyState=4,i.g=null,i.c=null,i.m=null,Ku(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(ym,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(ym,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),f=a.next();!f.done;)f=f.value,i.push(f[0]+": "+f[1]),f=a.next();return i.join(`\r
`)};function Ku(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(gf.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function Gu(i){Un.call(this),this.headers=new Zs,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=zw,this.u=this.S=!1}$(Gu,Un);var zw="";Gu.prototype.b=bm("goog.net.XhrIo");var yR=/^https?$/i,_R=["POST","PUT"];function bR(i,a,f,m,y){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);f=f?f.toUpperCase():"GET",i.l=a,i.h="",i.P=f,i.J=!1,i.c=!0,i.a=i.D?i.D.a():pm.a(),i.C=i.D?Bw(i.D):Bw(pm),i.a.onreadystatechange=L(i.Wb,i);try{Or(i.b,Ii(i,"Opening Xhr")),i.N=!0,i.a.open(f,String(a),!0),i.N=!1}catch(A){Or(i.b,Ii(i,"Error opening Xhr: "+A.message)),Yw(i,A);return}a=m||"";var E=new Zs(i.headers);y&&Ax(y,function(A,x){E.set(x,A)}),y=I(E.Y()),m=c.FormData&&a instanceof c.FormData,!T(_R,f)||y||m||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),E.forEach(function(A,x){this.a.setRequestHeader(x,A)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{Jw(i),0<i.g&&(i.u=wR(i.a),Or(i.b,Ii(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=L(i.Ma,i)):i.s=Dp(i.Ma,i.g,i)),Or(i.b,Ii(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(A){Or(i.b,Ii(i,"Send error: "+A.message)),Yw(i,A)}}function wR(i){return Mr&&m0(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function ER(i){return i.toLowerCase()=="content-type"}e=Gu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Or(this.b,Ii(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Yw(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,Xw(i),vf(i)}function Xw(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(Or(this.b,Ii(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),vf(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),vf(this,!0)),Gu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Qw(this):this.Jc())},e.Jc=function(){Qw(this)};function Qw(i){if(i.c&&typeof l<"u"){if(i.C[1]&&zu(i)==4&&yf(i)==2)Or(i.b,Ii(i,"Local request error detected and ignored"));else if(i.i&&zu(i)==4)Dp(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),zu(i)==4){Or(i.b,Ii(i,"Request complete")),i.c=!1;try{var a=yf(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var y;if(y=a===0){var E=String(i.l).match(H0)[1]||null;if(!E&&c.self&&c.self.location){var A=c.self.location.protocol;E=A.substr(0,A.length-1)}y=!yR.test(E?E.toLowerCase():"")}m=y}if(m)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var x=2<zu(i)?i.a.statusText:""}catch(z){Or(i.b,"Can not get status: "+z.message),x=""}i.h=x+" ["+yf(i)+"]",Xw(i)}}finally{vf(i)}}}}function vf(i,a){if(i.a){Jw(i);var f=i.a,m=i.C[0]?p:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{f.onreadystatechange=m}catch(y){(i=i.b)&&i.log(Ww,"Problem encountered resetting onreadystatechange: "+y.message,void 0)}}}function Jw(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(c.clearTimeout(i.s),i.s=null)}function zu(i){return i.a?i.a.readyState:0}function yf(i){try{return 2<zu(i)?i.a.status:-1}catch{return-1}}function TR(i){try{return i.a?i.a.responseText:""}catch(a){return Or(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case zw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(Ww,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return Or(this.b,"Can not get response: "+a.message),null}};function Ii(i,a){return a+" ["+i.P+" "+i.l+" "+yf(i)+"]"}function ns(i){var a=AR;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ns.prototype.cancel=function(i){if(this.a)this.c instanceof ns&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new Xu,_f(this),Yu(this,!1,i))}},ns.prototype.m=function(i,a){this.i=!1,Yu(this,i,a)};function Yu(i,a,f){i.a=!0,i.c=f,i.f=!a,eE(i)}function _f(i){if(i.a){if(!i.v)throw new bf;i.v=!1}}function IR(i,a){Em(i,null,a,void 0)}function Em(i,a,f,m){i.g.push([a,f,m]),i.a&&eE(i)}ns.prototype.then=function(i,a,f){var m,y,E=new rt(function(A,x){m=A,y=x});return Em(this,m,function(A){A instanceof Xu?E.cancel():y(A)}),E.then(i,a,f)},ns.prototype.$goog_Thenable=!0;function Zw(i){return P(i.g,function(a){return w(a[1])})}function eE(i){if(i.h&&i.a&&Zw(i)){var a=i.h,f=wf[a];f&&(c.clearTimeout(f.a),delete wf[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var m=f=!1;i.g.length&&!i.i;){var y=i.g.shift(),E=y[0],A=y[1];if(y=y[2],E=i.f?A:E)try{var x=E.call(y||i.s,a);x!==void 0&&(i.f=i.f&&(x==a||x instanceof Error),i.c=a=x),(Fe(a)||typeof c.Promise=="function"&&a instanceof c.Promise)&&(m=!0,i.i=!0)}catch(z){a=z,i.f=!0,Zw(i)||(f=!0)}}i.c=a,m&&(x=L(i.m,i,!0),m=L(i.m,i,!1),a instanceof ns?(Em(a,x,m),a.C=!0):a.then(x,m)),f&&(a=new tE(a),wf[a.a]=a,i.h=a.a)}function bf(){ve.call(this)}$(bf,ve),bf.prototype.message="Deferred has already fired",bf.prototype.name="AlreadyCalledError";function Xu(){ve.call(this)}$(Xu,ve),Xu.prototype.message="Deferred was canceled",Xu.prototype.name="CanceledError";function tE(i){this.a=c.setTimeout(L(this.c,this),0),this.b=i}tE.prototype.c=function(){throw delete wf[this.a],this.b};var wf={};function Tm(i){var a={},f=a.document||document,m=r0(i).toString(),y=Wc(document,"SCRIPT"),E={Xb:y,Ma:void 0},A=new ns(E),x=null,z=a.timeout!=null?a.timeout:5e3;return 0<z&&(x=window.setTimeout(function(){Ef(y,!0);var te=new Im(CR,"Timeout reached for loading script "+m);_f(A),Yu(A,!1,te)},z),E.Ma=x),y.onload=y.onreadystatechange=function(){y.readyState&&y.readyState!="loaded"&&y.readyState!="complete"||(Ef(y,a.xd||!1,x),_f(A),Yu(A,!0,null))},y.onerror=function(){Ef(y,!0,x);var te=new Im(kR,"Error while loading script "+m);_f(A),Yu(A,!1,te)},E=a.attributes||{},Ke(E,{type:"text/javascript",charset:"UTF-8"}),v0(y,E),rx(y,i),SR(f).appendChild(y),A}function SR(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function AR(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&Ef(i,!0,this.Ma)}}function Ef(i,a,f){f!=null&&c.clearTimeout(f),i.onload=p,i.onerror=p,i.onreadystatechange=p,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var kR=0,CR=1;function Im(i,a){var f="Jsloader error (code #"+i+")";a&&(f+=": "+a),ve.call(this,f),this.code=i}$(Im,ve);function Tf(i){this.f=i}$(Tf,qu),Tf.prototype.a=function(){return new this.f},Tf.prototype.b=function(){return{}};function Ur(i,a,f){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||OR,this.g=qe(i.secureTokenHeaders||NR),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||PR,this.a=qe(i.firebaseHeaders||xR),f&&(this.a["X-Client-Version"]=f,this.g["X-Client-Version"]=f),f=ni()=="Node",f=c.XMLHttpRequest||f&&Me.INTERNAL.node&&Me.INTERNAL.node.XMLHttpRequest,!f&&!Fr())throw new N("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Fr()?this.f=new mf(self):nw()?this.f=new Tf(f):this.f=new df,this.b=null}var Sm,jr="idToken",OR=new Gi(3e4,6e4),NR={"Content-Type":"application/x-www-form-urlencoded"},PR=new Gi(3e4,6e4),xR={"Content-Type":"application/json"};function nE(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function If(i,a){a&&(i.l=Am("https://securetoken.googleapis.com/v1/token",a),i.h=Am("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Am("https://identitytoolkit.googleapis.com/v2/",a))}function Am(i,a){return i=Zn(i),a=Zn(a.url),i.f=i.a+i.f,Ou(i,a.c),i.a=a.a,Nu(i,a.g),i.toString()}function rE(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}Ur.prototype.T=function(){return this.b};function iE(i,a,f,m,y,E,A){Mx()||Fr()?i=L(i.u,i):(Sm||(Sm=new rt(function(x,z){DR(x,z)})),i=L(i.s,i)),i(a,f,m,y,E,A)}Ur.prototype.u=function(i,a,f,m,y,E){if(Fr()&&(typeof c.fetch>"u"||typeof c.Headers>"u"||typeof c.Request>"u"))throw new N("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var A=new Gu(this.f);if(E){A.g=Math.max(0,E);var x=setTimeout(function(){A.dispatchEvent("timeout")},E)}$0(A,"complete",function(){x&&clearTimeout(x);var z=null;try{z=JSON.parse(TR(this))||null}catch{z=null}a&&a(z)}),Rp(A,"ready",function(){x&&clearTimeout(x),D0(this)}),Rp(A,"timeout",function(){x&&clearTimeout(x),D0(this),a&&a(null)}),bR(A,i,f,m,y)};var RR=new kn($c,"https://apis.google.com/js/client.js?onload=%{onload}"),oE="__fcb"+Math.floor(1e6*Math.random()).toString();function DR(i,a){if(((window.gapi||{}).client||{}).request)i();else{c[oE]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var f=mp(RR,{onload:oE});IR(Tm(f),function(){a(Error("CORS_UNSUPPORTED"))})}}Ur.prototype.s=function(i,a,f,m,y){var E=this;Sm.then(function(){window.gapi.client.setApiKey(E.c);var A=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:f,body:m,headers:y,authType:"none",callback:function(x){window.gapi.auth.setToken(A),a&&a(x)}})}).o(function(A){a&&a({error:{message:A&&A.message||"CORS_UNSUPPORTED"}})})};function LR(i,a){return new rt(function(f,m){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?iE(i,i.l+"?key="+encodeURIComponent(i.c),function(y){y?y.error?m(Dm(y)):y.access_token&&y.refresh_token?f(y):m(new N("internal-error")):m(new N("network-request-failed"))},"POST",K0(a).toString(),i.g,i.m.get()):m(new N("internal-error"))})}function sE(i,a,f,m,y,E,A){var x=Zn(a+f);Wt(x,"key",i.c),A&&Wt(x,"cb",Date.now().toString());var z=m=="GET";if(z)for(var te in y)y.hasOwnProperty(te)&&Wt(x,te,y[te]);return new rt(function(We,gt){iE(i,x.toString(),function(ct){ct?ct.error?gt(Dm(ct,E||{})):We(ct):gt(new N("network-request-failed"))},m,z?void 0:Y0(ow(y)),i.a,i.v.get())})}function rs(i){if(i=i.email,typeof i!="string"||!Ux.test(i))throw new N("invalid-email")}function aE(i){"email"in i&&rs(i)}function MR(i,a){return it(i,KR,{identifier:a,continueUri:tf()?Ru():"http://localhost"}).then(function(f){return f.signinMethods||[]})}function FR(i){return it(i,iD,{}).then(function(a){return a.authorizedDomains||[]})}function er(i){if(!i[jr])throw i.mfaPendingCredential?new N("multi-factor-auth-required",null,qe(i)):new N("internal-error")}function km(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new N("internal-error")}else{if(!i.sessionInfo)throw new N("missing-verification-id");if(!i.code)throw new N("missing-verification-code")}}Ur.prototype.Ab=function(){return it(this,uD,{})},Ur.prototype.Cb=function(i,a){return it(this,cE,{idToken:i,email:a})},Ur.prototype.Db=function(i,a){return it(this,fE,{idToken:i,password:a})};var VR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Ur.prototype,e.Eb=function(i,a){var f={idToken:i},m=[];return je(VR,function(y,E){var A=a[E];A===null?m.push(y):E in a&&(f[E]=A)}),m.length&&(f.deleteAttribute=m),it(this,cE,f)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},Ke(i,a),it(this,rD,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},Ke(i,a),it(this,eD,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},Ke(i,a),it(this,tD,i)},e.Fb=function(i,a,f){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},Ke(i,f),it(this,nD,i)};function UR(i,a){return it(i,aD,a)}e.gb=function(i){return it(this,mD,i)};function jR(i,a){return it(i,lD,a).then(function(f){return f.phoneSessionInfo.sessionInfo})}function uE(i){if(!i.phoneVerificationInfo)throw new N("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new N("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new N("missing-verification-code")}function $R(i,a){return it(i,cD,a).then(function(f){return f.phoneResponseInfo.sessionInfo})}function BR(i,a,f){return it(i,zR,{idToken:a,deleteProvider:f})}function Cm(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new N("internal-error")}function Om(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new Go(i.postBody),Fp(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function lE(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=ff(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=ff(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=ff(i)):i.errorMessage&&(a=dE(i.errorMessage)),a)throw a;er(i)}function Nm(i,a){return a.returnIdpCredential=!0,it(i,fD,a)}function Pm(i,a){return a.returnIdpCredential=!0,it(i,dD,a)}function xm(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,it(i,hD,a)}function Rm(i){if(!i.oobCode)throw new N("invalid-action-code")}e.ob=function(i,a){return it(this,sD,{oobCode:i,newPassword:a})},e.Sa=function(i){return it(this,HR,{oobCode:i})},e.kb=function(i){return it(this,qR,{oobCode:i})};var qR={endpoint:"setAccountInfo",A:Rm,Z:"email",B:!0},HR={endpoint:"resetPassword",A:Rm,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},B:!0},WR={endpoint:"signupNewUser",A:function(i){if(rs(i),!i.password)throw new N("weak-password")},G:er,V:!0,B:!0},KR={endpoint:"createAuthUri",B:!0},GR={endpoint:"deleteAccount",O:["idToken"]},zR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new N("internal-error")}},YR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:rs,G:er,V:!0,B:!0},XR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:rs,G:er,V:!0},QR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:uE,G:er,B:!0,Na:!0},JR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:uE,G:er,B:!0,Na:!0},ZR={endpoint:"getAccountInfo"},eD={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new N("internal-error");rs(i)},Z:"email",B:!0},tD={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new N("internal-error")},Z:"email",B:!0},nD={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new N("internal-error")},Z:"email",B:!0},rD={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new N("internal-error");rs(i)},Z:"email",B:!0},iD={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},oD={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new N("internal-error")}},sD={endpoint:"resetPassword",A:Rm,Z:"email",B:!0},aD={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},cE={endpoint:"setAccountInfo",O:["idToken"],A:aE,V:!0},fE={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(aE(i),!i.password)throw new N("weak-password")},G:er,V:!0},uD={endpoint:"signupNewUser",G:er,V:!0,B:!0},lD={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new N("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new N("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},cD={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new N("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new N("internal-error")},B:!0,Na:!0},fD={endpoint:"verifyAssertion",A:Cm,Za:Om,G:lE,V:!0,B:!0},hD={endpoint:"verifyAssertion",A:Cm,Za:Om,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new N("user-not-found");if(i.errorMessage)throw dE(i.errorMessage);er(i)},V:!0,B:!0},dD={endpoint:"verifyAssertion",A:function(i){if(Cm(i),!i.idToken)throw new N("internal-error")},Za:Om,G:lE,V:!0},pD={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new N("invalid-custom-token")},G:er,V:!0,B:!0},hE={endpoint:"verifyPassword",A:function(i){if(rs(i),!i.password)throw new N("wrong-password")},G:er,V:!0,B:!0},mD={endpoint:"verifyPhoneNumber",A:km,G:er,B:!0},gD={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new N("internal-error");km(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",ff(i);er(i)}},vD={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:km,G:er,B:!0},yD={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[jr]^!!i.refreshToken)throw new N("internal-error")},B:!0,Na:!0};function it(i,a,f){if(!Kx(f,a.O))return xt(new N("internal-error"));var m=!!a.Na,y=a.Vb||"POST",E;return Pe(f).then(a.A).then(function(){return a.V&&(f.returnSecureToken=!0),a.B&&i.b&&typeof f.tenantId>"u"&&(f.tenantId=i.b),m?sE(i,i.i,a.endpoint,y,f,a.Ib,a.mb||!1):sE(i,i.h,a.endpoint,y,f,a.Ib,a.mb||!1)}).then(function(A){return E=A,a.Za?a.Za(f,E):E}).then(a.G).then(function(){if(!a.Z)return E;if(!(a.Z in E))throw new N("internal-error");return E[a.Z]})}function dE(i){return Dm({error:{errors:[{message:i}],code:400,message:i}})}function Dm(i,a){var f=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",m={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(f=m[f]?new N(m[f]):null)return f;f=i.error&&i.error.message||"",m={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ke(m,a||{}),a=(a=f.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var y in m)if(f.indexOf(y)===0)return new N(m[y],a);return!a&&i&&(a=Lu(i)),new N("internal-error",a)}function _D(i){this.b=i,this.a=null,this.sb=bD(this)}function bD(i){return AD().then(function(){return new rt(function(a,f){Rt("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Rt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(m){function y(){clearTimeout(E),a()}i.a=m,i.a.restyle({setHideOnLeave:!1});var E=setTimeout(function(){f(Error("Network Error"))},SD.get());m.ping(y).then(y,function(){f(Error("Network Error"))})})})})}function wD(i,a){return i.sb.then(function(){return new rt(function(f){i.a.send(a.type,a,f,Rt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function ED(i,a){i.sb.then(function(){i.a.register("authEvent",a,Rt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var TD=new kn($c,"https://apis.google.com/js/api.js?onload=%{onload}"),ID=new Gi(3e4,6e4),SD=new Gi(5e3,15e3),Sf=null;function AD(){return Sf||(Sf=new rt(function(i,a){function f(){aw(),Rt("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){aw(),a(Error("Network Error"))},timeout:ID.get()})}if(Rt("gapi.iframes.Iframe"))i();else if(Rt("gapi.load"))f();else{var m="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[m]=function(){Rt("gapi.load")?f():a(Error("Network Error"))},m=mp(TD,{onload:m}),Pe(Tm(m)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw Sf=null,i}))}function pE(i,a,f,m){this.l=i,this.h=a,this.i=f,this.g=m,this.f=null,this.g?(i=Zn(this.g.url),i=Zc(i.c,i.a,i.g,"/emulator/auth/iframe")):i=Zc("https",this.l,null,"/__/auth/iframe"),this.a=i,Wt(this.a,"apiKey",this.h),Wt(this.a,"appName",this.i),this.b=null,this.c=[]}pE.prototype.toString=function(){return this.f?Wt(this.a,"v",this.f):ti(this.a.b,"v"),this.b?Wt(this.a,"eid",this.b):ti(this.a.b,"eid"),this.c.length?Wt(this.a,"fw",this.c.join(",")):ti(this.a.b,"fw"),this.a.toString()};function Lm(i,a,f,m,y,E){this.u=i,this.s=a,this.c=f,this.m=m,this.v=E,this.i=this.g=this.l=null,this.a=y,this.h=this.f=null}Lm.prototype.zb=function(i){return this.h=i,this},Lm.prototype.toString=function(){if(this.v){var i=Zn(this.v.url);i=Zc(i.c,i.a,i.g,"/emulator/auth/handler")}else i=Zc("https",this.u,null,"/__/auth/handler");if(Wt(i,"apiKey",this.s),Wt(i,"appName",this.c),Wt(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var f=Me.app(this.c).auth().la()}catch{f=null}a.pb=f,Wt(i,"providerId",this.a.providerId),f=this.a,a=ow(f.Jb);for(var m in a)a[m]=a[m].toString();m=f.Qc,a=qe(a);for(var y=0;y<m.length;y++){var E=m[y];E in a&&delete a[E]}f.qb&&f.pb&&!a[f.qb]&&(a[f.qb]=f.pb),Qe(a)||Wt(i,"customParameters",Lu(a))}if(typeof this.a.Rb=="function"&&(f=this.a.Rb(),f.length&&Wt(i,"scopes",f.join(","))),this.l?Wt(i,"redirectUrl",this.l):ti(i.b,"redirectUrl"),this.g?Wt(i,"eventId",this.g):ti(i.b,"eventId"),this.i?Wt(i,"v",this.i):ti(i.b,"v"),this.b)for(var A in this.b)this.b.hasOwnProperty(A)&&!kr(i,A)&&Wt(i,A,this.b[A]);return this.h?Wt(i,"tid",this.h):ti(i.b,"tid"),this.f?Wt(i,"eid",this.f):ti(i.b,"eid"),A=Mm(this.c),A.length&&Wt(i,"fw",A.join(",")),i.toString()};function Mm(i){try{return Me.app(i).auth().Ga()}catch{return[]}}function mE(i,a,f,m,y,E){this.s=i,this.g=a,this.b=f,this.f=E,this.c=m||null,this.i=y||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function gE(i){var a=Ru();return FR(i).then(function(f){e:{var m=Zn(a),y=m.c;m=m.a;for(var E=0;E<f.length;E++){var A=f[E],x=m,z=y;if(A.indexOf("chrome-extension://")==0?x=Zn(A).a==x&&z=="chrome-extension":z!="http"&&z!="https"?x=!1:Vx.test(A)?x=x==A:(A=A.split(".").join("\\."),x=new RegExp("^(.+\\."+A+"|"+A+")$","i").test(x)),x){f=!0;break e}}f=!1}if(!f)throw new dm(Ru())})}function vE(i){return i.m||(i.m=ef().then(function(){if(!i.u){var a=i.c,f=i.i,m=Mm(i.b),y=new pE(i.s,i.g,i.b,i.f);y.f=a,y.b=f,y.c=J(m||[]),i.u=y.toString()}i.v=new _D(i.u),kD(i)})),i.m}e=mE.prototype,e.Pb=function(i,a,f){var m=new N("popup-closed-by-user"),y=new N("web-storage-unsupported"),E=this,A=!1;return this.ma().then(function(){CD(E).then(function(x){x||(i&&zo(i),a(y),A=!0)})}).o(function(){}).then(function(){if(!A)return Fx(i)}).then(function(){if(!A)return Js(f).then(function(){a(m)})})},e.Yb=function(){var i=vn();return!Du(i)&&!sw(i)},e.Ub=function(){return!1},e.Nb=function(i,a,f,m,y,E,A,x){if(!i)return xt(new N("popup-blocked"));if(A&&!Du())return this.ma().o(function(te){zo(i),y(te)}),m(),Pe();this.a||(this.a=gE(yE(this)));var z=this;return this.a.then(function(){var te=z.ma().o(function(We){throw zo(i),y(We),We});return m(),te}).then(function(){if(fm(f),!A){var te=Qu(z.s,z.g,z.b,a,f,null,E,z.c,void 0,z.i,x,z.f);J0(te,i)}}).o(function(te){throw te.code=="auth/network-request-failed"&&(z.a=null),te})};function yE(i){return i.l||(i.C=i.c?na(i.c,Mm(i.b)):null,i.l=new Ur(i.g,Be(i.i),i.C),i.f&&If(i.l,i.f)),i.l}e.Ob=function(i,a,f,m){this.a||(this.a=gE(yE(this)));var y=this;return this.a.then(function(){fm(a);var E=Qu(y.s,y.g,y.b,i,a,Ru(),f,y.c,void 0,y.i,m,y.f);J0(E)}).o(function(E){throw E.code=="auth/network-request-failed"&&(y.a=null),E})},e.ma=function(){var i=this;return vE(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new N("network-request-failed")})},e.ac=function(){return!0};function Qu(i,a,f,m,y,E,A,x,z,te,We,gt){return i=new Lm(i,a,f,m,y,gt),i.l=E,i.g=A,i.i=x,i.b=qe(z||null),i.f=te,i.zb(We).toString()}function kD(i){if(!i.v)throw Error("IfcHandler must be initialized!");ED(i.v,function(a){var f={};if(a&&a.authEvent){var m=!1;for(a=$w(a.authEvent),f=0;f<i.h.length;f++)m=i.h[f](a)||m;return f={},f.status=m?"ACK":"ERROR",Pe(f)}return f.status="ERROR",Pe(f)})}function CD(i){var a={type:"webStorageSupport"};return vE(i).then(function(){return wD(i.v,a)}).then(function(f){if(f&&f.length&&typeof f[0].webStorageSupport<"u")return f[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){M(this.h,function(a){return a==i})};function _E(i){if(this.a=i||Me.INTERNAL.reactNative&&Me.INTERNAL.reactNative.AsyncStorage,!this.a)throw new N("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=_E.prototype,e.get=function(i){return Pe(this.a.getItem(i)).then(function(a){return a&&ia(a)})},e.set=function(i,a){return Pe(this.a.setItem(i,Lu(a)))},e.U=function(i){return Pe(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function bE(i){this.b=i,this.a={},this.f=L(this.c,this)}var wE=[];function OD(){var i=Fr()?self:null;if(Y(wE,function(f){f.b==i&&(a=f)}),!a){var a=new bE(i);wE.push(a)}return a}bE.prototype.c=function(i){var a=i.data.eventType,f=i.data.eventId,m=this.a[a];if(m&&0<m.length){i.ports[0].postMessage({status:"ack",eventId:f,eventType:a,response:null});var y=[];Y(m,function(E){y.push(Pe().then(function(){return E(i.origin,i.data.data)}))}),S0(y).then(function(E){var A=[];Y(E,function(x){A.push({fulfilled:x.Qb,value:x.value,reason:x.reason?x.reason.message:void 0})}),Y(A,function(x){for(var z in x)typeof x[z]>"u"&&delete x[z]}),i.ports[0].postMessage({status:"done",eventId:f,eventType:a,response:A})})}};function EE(i,a,f){Qe(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(f)}function TE(i){this.a=i}TE.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function IE(i){this.c=i,this.b=!1,this.a=[]}function SE(i,a,f,m){var y,E=f||{},A,x,z,te=null;if(i.b)return xt(Error("connection_unavailable"));var We=m?800:50,gt=typeof MessageChannel<"u"?new MessageChannel:null;return new rt(function(ct,dn){gt?(y=Math.floor(Math.random()*Math.pow(10,20)).toString(),gt.port1.start(),x=setTimeout(function(){dn(Error("unsupported_event"))},We),A=function(Si){Si.data.eventId===y&&(Si.data.status==="ack"?(clearTimeout(x),z=setTimeout(function(){dn(Error("timeout"))},3e3)):Si.data.status==="done"?(clearTimeout(z),typeof Si.data.response<"u"?ct(Si.data.response):dn(Error("unknown_error"))):(clearTimeout(x),clearTimeout(z),dn(Error("invalid_response"))))},te={messageChannel:gt,onMessage:A},i.a.push(te),gt.port1.addEventListener("message",A),i.c.postMessage({eventType:a,eventId:y,data:E},[gt.port2])):dn(Error("connection_unavailable"))}).then(function(ct){return Fm(i,te),ct}).o(function(ct){throw Fm(i,te),ct})}function Fm(i,a){if(a){var f=a.messageChannel,m=a.onMessage;f&&(f.port1.removeEventListener("message",m),f.port1.close()),M(i.a,function(y){return y==a})}}IE.prototype.close=function(){for(;0<this.a.length;)Fm(this,this.a[0]);this.b=!0};function AE(){if(!jm())throw new N("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;Fr()&&self?(this.v=OD(),EE(this.v,"keyChanged",function(a,f){return OE(i).then(function(m){return 0<m.length&&Y(i.a,function(y){y(m)}),{keyProcessed:T(m,f.key)}})}),EE(this.v,"ping",function(){return Pe(["keyChanged"])})):Hx().then(function(a){(i.h=a)&&(i.g=new IE(new TE(a)),SE(i.g,"ping",null,!0).then(function(f){f[0].fulfilled&&T(f[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Vm;function ND(i){return new rt(function(a,f){var m=i.m.deleteDatabase("firebaseLocalStorageDb");m.onsuccess=function(){a()},m.onerror=function(y){f(Error(y.target.error))}})}function kE(i){return new rt(function(a,f){var m=i.m.open("firebaseLocalStorageDb",1);m.onerror=function(y){try{y.preventDefault()}catch{}f(Error(y.target.error))},m.onupgradeneeded=function(y){y=y.target.result;try{y.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(E){f(E)}},m.onsuccess=function(y){y=y.target.result,y.objectStoreNames.contains("firebaseLocalStorage")?a(y):ND(i).then(function(){return kE(i)}).then(function(E){a(E)}).o(function(E){f(E)})}})}function Um(i){return i.i||(i.i=kE(i)),i.i}function Af(i,a){function f(y,E){Um(i).then(a).then(y).o(function(A){if(3<++m)E(A);else return Um(i).then(function(x){return x.close(),i.i=void 0,f(y,E)}).o(function(x){E(x)})})}var m=0;return new rt(f)}function jm(){try{return!!c.indexedDB}catch{return!1}}function Ju(i){return i.objectStore("firebaseLocalStorage")}function Zu(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function ua(i){return new rt(function(a,f){i.onsuccess=function(m){m&&m.target?a(m.target.result):a()},i.onerror=function(m){f(m.target.error)}})}e=AE.prototype,e.set=function(i,a){var f=this,m=!1;return Af(this,function(y){return y=Ju(Zu(y,!0)),ua(y.get(i))}).then(function(y){return Af(f,function(E){if(E=Ju(Zu(E,!0)),y)return y.value=a,ua(E.put(y));f.b++,m=!0;var A={};return A.fbase_key=i,A.value=a,ua(E.add(A))})}).then(function(){return f.c[i]=a,CE(f,i)}).oa(function(){m&&f.b--})};function CE(i,a){return i.g&&i.h&&qx()===i.h?SE(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Pe()}e.get=function(i){return Af(this,function(a){return ua(Ju(Zu(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,f=!1;return Af(this,function(m){return f=!0,a.b++,ua(Ju(Zu(m,!0)).delete(i))}).then(function(){return delete a.c[i],CE(a,i)}).oa(function(){f&&a.b--})};function OE(i){return Um(i).then(function(a){var f=Ju(Zu(a,!1));return f.getAll?ua(f.getAll()):new rt(function(m,y){var E=[],A=f.openCursor();A.onsuccess=function(x){(x=x.target.result)?(E.push(x.value),x.continue()):m(E)},A.onerror=function(x){y(x.target.error)}})}).then(function(a){var f={},m=[];if(i.b==0){for(m=0;m<a.length;m++)f[a[m].fbase_key]=a[m].value;m=Z0(i.c,f),i.c=f}return m})}e.ca=function(i){this.a.length==0&&PD(this),this.a.push(i)},e.ia=function(i){M(this.a,function(a){return a==i}),this.a.length==0&&NE(this)};function PD(i){function a(){i.f=setTimeout(function(){i.l=OE(i).then(function(f){0<f.length&&Y(i.a,function(m){m(f)})}).then(function(){a()}).o(function(f){f.message!="STOP_EVENT"&&a()})},800)}NE(i),a()}function NE(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function PE(i){var a=this,f=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Pe().then(function(){if(jm()){var m=Xo(),y="__sak"+m;return Vm||(Vm=new AE),f=Vm,f.set(y,m).then(function(){return f.get(y)}).then(function(E){if(E!==m)throw Error("indexedDB not supported!");return f.U(y)}).then(function(){return f}).o(function(){return a.c})}return a.c}).then(function(m){return a.type=m.type,m.ca(function(y){Y(a.a,function(E){E(y)})}),m})}e=PE.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(f){return f.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){M(this.a,function(a){return a==i})};function el(){this.a={},this.type="inMemory"}e=el.prototype,e.get=function(i){return Pe(this.a[i])},e.set=function(i,a){return this.a[i]=a,Pe()},e.U=function(i){return delete this.a[i],Pe()},e.ca=function(){},e.ia=function(){};function kf(){if(!xD())throw ni()=="Node"?new N("internal-error","The LocalStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=xE()||Me.INTERNAL.node.localStorage,this.type="localStorage"}function xE(){try{var i=c.localStorage,a=Xo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function xD(){var i=ni()=="Node";if(i=xE()||i&&Me.INTERNAL.node&&Me.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=kf.prototype,e.get=function(i){var a=this;return Pe().then(function(){var f=a.a.getItem(i);return ia(f)})},e.set=function(i,a){var f=this;return Pe().then(function(){var m=Lu(a);m===null?f.U(i):f.a.setItem(i,m)})},e.U=function(i){var a=this;return Pe().then(function(){a.a.removeItem(i)})},e.ca=function(i){c.window&&Ar(c.window,"storage",i)},e.ia=function(i){c.window&&dr(c.window,"storage",i)};function $m(){this.type="nullStorage"}e=$m.prototype,e.get=function(){return Pe(null)},e.set=function(){return Pe()},e.U=function(){return Pe()},e.ca=function(){},e.ia=function(){};function Bm(){if(!RD())throw ni()=="Node"?new N("internal-error","The SessionStorage compatibility library was not found."):new N("web-storage-unsupported");this.a=RE()||Me.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function RE(){try{var i=c.sessionStorage,a=Xo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function RD(){var i=ni()=="Node";if(i=RE()||i&&Me.INTERNAL.node&&Me.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Bm.prototype,e.get=function(i){var a=this;return Pe().then(function(){var f=a.a.getItem(i);return ia(f)})},e.set=function(i,a){var f=this;return Pe().then(function(){var m=Lu(a);m===null?f.U(i):f.a.setItem(i,m)})},e.U=function(i){var a=this;return Pe().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function DD(){var i={};i.Browser=LD,i.Node=MD,i.ReactNative=FD,i.Worker=VD,this.a=i[ni()]}var qm,LD={F:kf,cb:Bm},MD={F:kf,cb:Bm},FD={F:_E,cb:$m},VD={F:kf,cb:$m},la={rd:"local",NONE:"none",td:"session"};function UD(i){var a=new N("invalid-persistence-type"),f=new N("unsupported-persistence-type");e:{for(m in la)if(la[m]==i){var m=!0;break e}m=!1}if(!m||typeof i!="string")throw a;switch(ni()){case"ReactNative":if(i==="session")throw f;break;case"Node":if(i!=="none")throw f;break;case"Worker":if(i==="session"||!jm()&&i!=="none")throw f;break;default:if(!qp()&&i!=="none")throw f}}function DE(){var i=!!(!sw(vn())&&$p()),a=Du(),f=qp();this.m=i,this.h=a,this.l=f,this.a={},qm||(qm=new DD),i=qm;try{this.g=!Up()&&uw()||!c.indexedDB?new i.a.F:new PE(Fr()?new el:new i.a.F)}catch{this.g=new el,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new el}this.v=new el,this.f=L(this.Zb,this),this.b={}}var Hm;function tl(){return Hm||(Hm=new DE),Hm}function is(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function ca(i,a){return"firebase:"+i.name+(a?":"+a:"")}function jD(i,a,f){var m=ca(a,f),y=is(i,a.F);return i.get(a,f).then(function(E){var A=null;try{A=ia(c.localStorage.getItem(m))}catch{}if(A&&!E)return c.localStorage.removeItem(m),i.set(a,A,f);A&&E&&y.type!="localStorage"&&c.localStorage.removeItem(m)})}e=DE.prototype,e.get=function(i,a){return is(this,i.F).get(ca(i,a))};function fa(i,a,f){return f=ca(a,f),a.F=="local"&&(i.b[f]=null),is(i,a.F).U(f)}e.set=function(i,a,f){var m=ca(i,f),y=this,E=is(this,i.F);return E.set(m,a).then(function(){return E.get(m)}).then(function(A){i.F=="local"&&(y.b[m]=A)})},e.addListener=function(i,a,f){i=ca(i,a),this.l&&(this.b[i]=c.localStorage.getItem(i)),Qe(this.a)&&(is(this,"local").ca(this.f),this.h||(Up()||!uw())&&c.indexedDB||!this.l||$D(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(f)},e.removeListener=function(i,a,f){i=ca(i,a),this.a[i]&&(M(this.a[i],function(m){return m==f}),this.a[i].length==0&&delete this.a[i]),Qe(this.a)&&(is(this,"local").ia(this.f),Wm(this))};function $D(i){Wm(i),i.c=setInterval(function(){for(var a in i.a){var f=c.localStorage.getItem(a),m=i.b[a];f!=m&&(i.b[a]=f,f=new Wo({type:"storage",key:a,target:window,oldValue:m,newValue:f,a:!0}),i.Zb(f))}},1e3)}function Wm(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var f in this.a){var m=this.b[f];typeof m>"u"&&(m=null);var y=c.localStorage.getItem(f);y!==m&&(this.b[f]=y,this.nb(f))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?is(this,"local").ia(this.f):Wm(this),this.m){if(f=c.localStorage.getItem(a),m=i.a.newValue,m!==f)m!==null?c.localStorage.setItem(a,m):c.localStorage.removeItem(a);else if(this.b[a]===m&&typeof i.a.a>"u")return}var E=this;f=function(){(typeof i.a.a<"u"||E.b[a]!==c.localStorage.getItem(a))&&(E.b[a]=c.localStorage.getItem(a),E.nb(a))},Mr&&Hi&&Hi==10&&c.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(f,10):f()}}else Y(i,L(this.nb,this))},e.nb=function(i){this.a[i]&&Y(this.a[i],function(a){a()})};function BD(i){this.a=i,this.b=tl()}var Km={name:"authEvent",F:"local"};function qD(i){return i.b.get(Km,i.a).then(function(a){return $w(a)})}function HD(){this.a=tl()}function WD(){this.b=-1}function Cf(i,a){this.b=LE,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=c.Int32Array?new Int32Array(64):Array(64),Of===void 0&&(c.Int32Array?Of=new Int32Array(VE):Of=VE),this.reset()}var Of;$(Cf,WD);for(var LE=64,KD=LE-1,ME=[],Gm=0;Gm<KD;Gm++)ME[Gm]=0;var FE=q(128,ME);Cf.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):J(this.h)};function zm(i){for(var a=i.f,f=i.l,m=0,y=0;y<a.length;)f[m++]=a[y]<<24|a[y+1]<<16|a[y+2]<<8|a[y+3],y=4*m;for(a=16;64>a;a++){y=f[a-15]|0,m=f[a-2]|0;var E=(f[a-16]|0)+((y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3)|0,A=(f[a-7]|0)+((m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10)|0;f[a]=E+A|0}m=i.a[0]|0,y=i.a[1]|0;var x=i.a[2]|0,z=i.a[3]|0,te=i.a[4]|0,We=i.a[5]|0,gt=i.a[6]|0;for(E=i.a[7]|0,a=0;64>a;a++){var ct=((m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10))+(m&y^m&x^y&x)|0;A=te&We^~te&gt,E=E+((te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7))|0,A=A+(Of[a]|0)|0,A=E+(A+(f[a]|0)|0)|0,E=gt,gt=We,We=te,te=z+A|0,z=x,x=y,y=m,m=A+ct|0}i.a[0]=i.a[0]+m|0,i.a[1]=i.a[1]+y|0,i.a[2]=i.a[2]+x|0,i.a[3]=i.a[3]+z|0,i.a[4]=i.a[4]+te|0,i.a[5]=i.a[5]+We|0,i.a[6]=i.a[6]+gt|0,i.a[7]=i.a[7]+E|0}function Ym(i,a,f){f===void 0&&(f=a.length);var m=0,y=i.c;if(typeof a=="string")for(;m<f;)i.f[y++]=a.charCodeAt(m++),y==i.b&&(zm(i),y=0);else if(_(a))for(;m<f;){var E=a[m++];if(!(typeof E=="number"&&0<=E&&255>=E&&E==(E|0)))throw Error("message must be a byte array");i.f[y++]=E,y==i.b&&(zm(i),y=0)}else throw Error("message must be string or array");i.c=y,i.g+=f}var VE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function UE(){Cf.call(this,8,GD)}$(UE,Cf);var GD=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function jE(i,a,f,m,y,E){this.v=i,this.i=a,this.l=f,this.m=m||null,this.u=y||null,this.s=E,this.h=a+":"+f,this.C=new HD,this.g=new BD(this.h),this.f=null,this.b=[],this.a=this.c=null}function Nf(i){return new N("invalid-cordova-configuration",i)}e=jE.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=jx().then(function(){if(typeof Rt("universalLinks.subscribe",c)!="function")throw Nf("cordova-universal-links-plugin-fix is not installed");if(typeof Rt("BuildInfo.packageName",c)>"u")throw Nf("cordova-plugin-buildinfo is not installed");if(typeof Rt("cordova.plugins.browsertab.openUrl",c)!="function")throw Nf("cordova-plugin-browsertab is not installed");if(typeof Rt("cordova.InAppBrowser.open",c)!="function")throw Nf("cordova-plugin-inappbrowser is not installed")},function(){throw new N("cordova-not-ready")})};function zD(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function YD(i){var a=new UE;Ym(a,i),i=[];var f=8*a.g;56>a.c?Ym(a,FE,56-a.c):Ym(a,FE,a.b-(a.c-56));for(var m=63;56<=m;m--)a.f[m]=f&255,f/=256;for(zm(a),m=f=0;m<a.i;m++)for(var y=24;0<=y;y-=8)i[f++]=a.a[m]>>y&255;return sR(i)}e.Pb=function(i,a){return a(new N("operation-not-supported-in-this-environment")),Pe()},e.Nb=function(){return xt(new N("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,f,m){if(this.c)return xt(new N("redirect-operation-pending"));var y=this,E=c.document,A=null,x=null,z=null,te=null;return this.c=Pe().then(function(){return fm(a),BE(y)}).then(function(){return XD(y,i,a,f,m)}).then(function(){return new rt(function(We,gt){x=function(){var ct=Rt("cordova.plugins.browsertab.close",c);return We(),typeof ct=="function"&&ct(),y.a&&typeof y.a.close=="function"&&(y.a.close(),y.a=null),!1},y.Ea(x),z=function(){A||(A=Js(2e3).then(function(){gt(new N("redirect-cancelled-by-user"))}))},te=function(){Hp()&&z()},E.addEventListener("resume",z,!1),vn().toLowerCase().match(/android/)||E.addEventListener("visibilitychange",te,!1)}).o(function(We){return Xm(y).then(function(){throw We})})}).oa(function(){z&&E.removeEventListener("resume",z,!1),te&&E.removeEventListener("visibilitychange",te,!1),A&&A.cancel(),x&&y.Ta(x),y.c=null})};function XD(i,a,f,m,y){var E=zD(),A=new Vr(a,m,null,E,new N("no-auth-event"),null,y),x=Rt("BuildInfo.packageName",c);if(typeof x!="string")throw new N("invalid-cordova-configuration");var z=Rt("BuildInfo.displayName",c),te={};if(vn().toLowerCase().match(/iphone|ipad|ipod/))te.ibi=x;else if(vn().toLowerCase().match(/android/))te.apn=x;else return xt(new N("operation-not-supported-in-this-environment"));z&&(te.appDisplayName=z),E=YD(E),te.sessionId=E;var We=Qu(i.v,i.i,i.l,a,f,null,m,i.m,te,i.u,y,i.s);return i.ma().then(function(){var gt=i.h;return i.C.a.set(Km,A.w(),gt)}).then(function(){var gt=Rt("cordova.plugins.browsertab.isAvailable",c);if(typeof gt!="function")throw new N("invalid-cordova-configuration");var ct=null;gt(function(dn){if(dn){if(ct=Rt("cordova.plugins.browsertab.openUrl",c),typeof ct!="function")throw new N("invalid-cordova-configuration");ct(We)}else{if(ct=Rt("cordova.InAppBrowser.open",c),typeof ct!="function")throw new N("invalid-cordova-configuration");dn=vn(),i.a=ct(We,dn.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||dn.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function $E(i,a){for(var f=0;f<i.b.length;f++)try{i.b[f](a)}catch{}}function BE(i){return i.f||(i.f=i.ma().then(function(){return new rt(function(a){function f(m){return a(m),i.Ta(f),!1}i.Ea(f),QD(i)})})),i.f}function Xm(i){var a=null;return qD(i.g).then(function(f){return a=f,f=i.g,fa(f.b,Km,f.a)}).then(function(){return a})}function QD(i){function a(A){m=!0,y&&y.cancel(),Xm(i).then(function(x){var z=f;if(x&&A&&A.url){var te=null;z=Rw(A.url),z.indexOf("/__/auth/callback")!=-1&&(te=Zn(z),te=ia(kr(te,"firebaseError")||null),te=(te=typeof te=="object"?ke(te):null)?new Vr(x.c,x.b,null,null,te,null,x.T()):new Vr(x.c,x.b,z,x.f,null,null,x.T())),z=te||f}$E(i,z)})}var f=new Vr("unknown",null,null,null,new N("no-auth-event")),m=!1,y=Js(500).then(function(){return Xm(i).then(function(){m||$E(i,f)})}),E=c.handleOpenURL;c.handleOpenURL=function(A){if(A.toLowerCase().indexOf(Rt("BuildInfo.packageName",c).toLowerCase()+"://")==0&&a({url:A}),typeof E=="function")try{E(A)}catch(x){console.error(x)}},hm||(hm=new pR),mR(a)}e.Ea=function(i){this.b.push(i),BE(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Vr("unknown",null,null,null,new N("no-auth-event")),i(a))})},e.Ta=function(i){M(this.b,function(a){return a==i})};function JD(i){this.a=i,this.b=tl()}var Qm={name:"pendingRedirect",F:"session"};function ZD(i){return i.b.set(Qm,"pending",i.a)}function Jm(i){return fa(i.b,Qm,i.a)}function eL(i){return i.b.get(Qm,i.a).then(function(a){return a=="pending"})}function Pf(i,a,f,m){this.i={},this.u=0,this.D=i,this.v=a,this.m=f,this.J=m,this.h=[],this.f=!1,this.l=L(this.s,this),this.b=new Rf,this.C=new JE,this.g=new JD(YE(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=qE(this.D,this.v,this.m,ce,this.J)}function qE(i,a,f,m,y){var E=Me.SDK_VERSION||null;return jp()?new jE(i,a,f,E,m,y):new mE(i,a,f,E,m,y)}Pf.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=qE(this.D,this.v,this.m,null,this.J),this.i={}};function HE(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(f){throw i.a==a&&i.reset(),f})}function WE(i){i.a.Yb()&&HE(i).o(function(a){var f=new Vr("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));eg(a)&&i.s(f)}),i.a.Ub()||XE(i.b)}function xf(i,a){T(i.h,a)||i.h.push(a),i.f||eL(i.g).then(function(f){f?Jm(i.g).then(function(){HE(i).o(function(m){var y=new Vr("unknown",null,null,null,new N("operation-not-supported-in-this-environment"));eg(m)&&i.s(y)})}):WE(i)}).o(function(){WE(i)})}function Zm(i,a){M(i.h,function(f){return f==a})}Pf.prototype.s=function(i){if(!i)throw new N("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,f=0;f<this.h.length;f++){var m=this.h[f];if(m.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,m),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return XE(this.b),a};var tL=new Gi(2e3,1e4),nL=new Gi(3e4,6e4);Pf.prototype.ra=function(){return this.b.ra()};function KE(i,a,f,m,y,E,A){return i.a.Nb(a,f,m,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},y,E,A)}function eg(i){return!!(i&&i.code=="auth/cordova-not-ready")}function GE(i,a,f,m,y){var E;return ZD(i.g).then(function(){return i.a.Ob(a,f,m,y).o(function(A){if(eg(A))throw new N("operation-not-supported-in-this-environment");return E=A,Jm(i.g).then(function(){throw E})}).then(function(){return i.a.ac()?new rt(function(){}):Jm(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function zE(i,a,f,m,y){return i.a.Pb(m,function(E){a.na(f,null,E,y)},tL.get())}var tg={};function YE(i,a,f){return i=i+":"+a,f&&(i=i+":"+f.url),i}function ng(i,a,f,m){var y=YE(a,f,m);return tg[y]||(tg[y]=new Pf(i,a,f,m)),tg[y]}function Rf(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Rf.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Rf.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var f=i.c,m=i.b,y=i.a&&i.a.code=="auth/web-storage-unsupported",E=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!y&&!E),f!="unknown"||y||E?i.a?(os(this,!0,null,i.a),Pe()):a.Fa(f,m)?rL(this,i,a):xt(new N("invalid-auth-event")):(os(this,!1,null,null),Pe())}else xt(new N("invalid-auth-event"))};function XE(i){i.g||(i.g=!0,os(i,!1,null,null))}function Df(i){i.g&&!i.i&&os(i,!1,null,null)}function rL(i,a,f){f=f.Fa(a.c,a.b);var m=a.g,y=a.f,E=a.i,A=a.T(),x=!!a.c.match(/Redirect$/);f(m,y,A,E).then(function(z){os(i,x,z,null)}).o(function(z){os(i,x,null,z)})}function iL(i,a){if(i.b=function(){return xt(a)},i.c.length)for(var f=0;f<i.c.length;f++)i.c[f](a)}function QE(i,a){if(i.b=function(){return Pe(a)},i.f.length)for(var f=0;f<i.f.length;f++)i.f[f](a)}function os(i,a,f,m){a?m?iL(i,m):QE(i,f):QE(i,{user:null}),i.f=[],i.c=[]}Rf.prototype.ra=function(){var i=this;return new rt(function(a,f){i.b?i.b().then(a,f):(i.f.push(a),i.c.push(f),oL(i))})};function oL(i){var a=new N("timeout");i.a&&i.a.cancel(),i.a=Js(nL.get()).then(function(){i.b||(i.g=!0,os(i,!0,null,a))})}function JE(){}JE.prototype.h=function(i,a){if(i){var f=i.c,m=i.b;i.a?(a.na(i.c,null,i.a,i.b),Pe()):a.Fa(f,m)?sL(i,a):xt(new N("invalid-auth-event"))}else xt(new N("invalid-auth-event"))};function sL(i,a){var f=i.b,m=i.c;a.Fa(m,f)(i.g,i.f,i.T(),i.i).then(function(y){a.na(m,y,null,f)}).o(function(y){a.na(m,null,y,f)})}function ZE(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function rg(i,a){this.a=a,Se(this,"verificationId",i)}rg.prototype.confirm=function(i){return i=jw(this.verificationId,i),this.a(i)};function ig(i,a,f,m){return new Ti(i).gb(a,f).then(function(y){return new rg(y,m)})}function aL(i){var a=Sw(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new N("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");jn(this,{token:i,expirationTime:Mu(1e3*a.exp),authTime:Mu(1e3*a.auth_time),issuedAtTime:Mu(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function og(i,a,f){var m=a&&a[t1];if(!m)throw new N("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=qe(a),this.g=f,this.c=new lf(null,m),this.b=[];var y=this;Y(a[e1]||[],function(E){(E=Xp(E))&&y.b.push(E)}),Se(this,"auth",this.a),Se(this,"session",this.c),Se(this,"hints",this.b)}var e1="mfaInfo",t1="mfaPendingCredential";og.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(f){var m=qe(a.f);return delete m[e1],delete m[t1],Ke(m,f),a.g(m)})};function sg(i,a,f,m){N.call(this,"multi-factor-auth-required",m,a),this.b=new og(i,a,f),Se(this,"resolver",this.b)}$(sg,N);function n1(i,a,f){if(i&&S(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new sg(a,i.serverResponse,f,i.message)}catch{}return null}function r1(){}r1.prototype.tb=function(i,a,f){return a.type==ju?uL(this,i,a,f):lL(this,i,a)};function uL(i,a,f,m){return f.Ha().then(function(y){return y={idToken:y},typeof m<"u"&&(y.displayName=m),Ke(y,{phoneVerificationInfo:$u(i.a)}),it(a,QR,y)})}function lL(i,a,f){return f.Ha().then(function(m){return m={mfaPendingCredential:m},Ke(m,{phoneVerificationInfo:$u(i.a)}),it(a,JR,m)})}function ag(i){Se(this,"factorId",i.fa),this.a=i}$(ag,r1);function i1(i){if(ag.call(this,i),this.a.fa!=Ti.PROVIDER_ID)throw new N("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}$(i1,ag);function ha(i,a){Jn.call(this,i);for(var f in a)this[f]=a[f]}$(ha,Jn);function ug(i,a){this.a=i,this.b=[],this.c=L(this.yc,this),Ar(this.a,"userReloaded",this.c);var f=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&Y(a.multiFactor.enrolledFactors,function(m){var y=null,E={};if(m){m.uid&&(E[Jp]=m.uid),m.displayName&&(E[cw]=m.displayName),m.enrollmentTime&&(E[Qp]=new Date(m.enrollmentTime).toISOString()),m.phoneNumber&&(E[Zp]=m.phoneNumber);try{y=new Fu(E)}catch{}m=y}else m=null;m&&f.push(m)}),Lf(this,f)}function cL(i){var a=[];return Y(i.mfaInfo||[],function(f){(f=Xp(f))&&a.push(f)}),a}e=ug.prototype,e.yc=function(i){Lf(this,cL(i.hd))};function Lf(i,a){i.b=a,Se(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new lf(i,null)})},e.fc=function(i,a){var f=this,m=this.a.a;return this.Sb().then(function(y){return i.tb(m,y,a)}).then(function(y){return oi(f.a,y),f.a.reload()})},e.bd=function(i){var a=this,f=typeof i=="string"?i:i.uid,m=this.a.a;return this.a.I().then(function(y){return it(m,yD,{idToken:y,mfaEnrollmentId:f})}).then(function(y){var E=he(a.b,function(A){return A.uid!=f});return Lf(a,E),oi(a.a,y),a.a.reload().o(function(A){if(A.code!="auth/user-token-expired")throw A})})},e.w=function(){return{multiFactor:{enrolledFactors:De(this.b,function(i){return i.w()})}}};function lg(i,a,f){if(this.h=i,this.i=a,this.g=f,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}lg.prototype.start=function(){this.a=this.c,cg(this,!0)};function fL(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function cg(i,a){i.stop(),i.b=Js(fL(i,a)).then(function(){return Bx()}).then(function(){return i.h()}).then(function(){cg(i,!0)}).o(function(f){i.i(f)&&cg(i,!1)})}lg.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function fg(i){this.f=i,this.b=this.a=null,this.c=Date.now()}fg.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function o1(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function s1(i,a){i.b=af(a[jr]||""),i.a=a.refreshToken,a=a.expiresIn,o1(i,typeof a<"u"?Number(a):void 0)}function hL(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function dL(i,a){return LR(i.f,a).then(function(f){return i.b=af(f.access_token),i.a=f.refresh_token,o1(i,f.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(f){throw f.code=="auth/user-token-expired"&&(i.a=null),f})}fg.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?xt(new N("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?dL(this,{grant_type:"refresh_token",refresh_token:this.a}):Pe(null):Pe({accessToken:this.b.toString(),refreshToken:this.a})};function Mf(i,a){this.a=i||null,this.b=a||null,jn(this,{lastSignInTime:Mu(a||null),creationTime:Mu(i||null)})}function pL(i){return new Mf(i.a,i.b)}Mf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function mL(i,a,f,m,y,E){jn(this,{uid:i,displayName:m||null,photoURL:y||null,email:f||null,phoneNumber:E||null,providerId:a})}function mr(i,a,f){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var m=Me.SDK_VERSION?na(Me.SDK_VERSION):null;this.a=new Ur(this.l,Be(ce),m),(this.u=i.emulatorConfig||null)&&If(this.a,this.u),this.h=new fg(this.a),yg(this,a[jr]),s1(this.h,a),Se(this,"refreshToken",this.h.a),u1(this,f||{}),Un.call(this),this.P=!1,this.s&&Yo()&&(this.b=ng(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=gL(this),this.ba=L(this.ib,this);var y=this;this.za=null,this.Pa=function(E){y.xa(E.h)},this.qa=null,this.Ba=function(E){hg(y,E.c)},this.$=null,this.aa=[],this.Oa=function(E){nl(y,E.f)},this.ja=null,this.S=new ug(this,f),Se(this,"multiFactor",this.S)}$(mr,Un),mr.prototype.xa=function(i){this.za=i,nE(this.a,i)};function hg(i,a){i.u=a,If(i.a,a),i.b&&(a=i.b,i.b=ng(i.s,i.l,i.m,i.u),i.P&&(Zm(a,i),xf(i.b,i)))}mr.prototype.la=function(){return this.za};function dg(i,a){i.qa&&dr(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&Ar(a,"languageCodeChanged",i.Pa)}function pg(i,a){i.$&&dr(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&Ar(a,"emulatorConfigChanged",i.Ba)}function nl(i,a){i.aa=a,rE(i.a,Me.SDK_VERSION?na(Me.SDK_VERSION,i.aa):null)}mr.prototype.Ga=function(){return J(this.aa)};function mg(i,a){i.ja&&dr(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&Ar(a,"frameworkChanged",i.Oa)}mr.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function gg(i){try{return Me.app(i.m).auth()}catch{throw new N("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function gL(i){return new lg(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function a1(i){i.J||i.D.b||(i.D.start(),dr(i,"tokenChanged",i.ba),Ar(i,"tokenChanged",i.ba))}function vg(i){dr(i,"tokenChanged",i.ba),i.D.stop()}function yg(i,a){i.Aa=a,Se(i,"_lat",a)}function vL(i,a){M(i.W,function(f){return f==a})}function ss(i){for(var a=[],f=0;f<i.W.length;f++)a.push(i.W[f](i));return S0(a).then(function(){return i})}function rl(i){i.b&&!i.P&&(i.P=!0,xf(i.b,i))}function u1(i,a){jn(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Mf(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}Se(mr.prototype,"providerId","firebase");function l1(){}function _g(i){return Pe().then(function(){if(i.J)throw new N("app-deleted")})}function bg(i){return De(i.providerData,function(a){return a.providerId})}function wg(i,a){a&&(c1(i,a.providerId),i.providerData.push(a))}function c1(i,a){M(i.providerData,function(f){return f.providerId==a})}function Xi(i,a,f){(a!="uid"||f)&&i.hasOwnProperty(a)&&Se(i,a,f)}function Ff(i,a){i!=a&&(jn(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?Se(i,"metadata",pL(a.metadata)):Se(i,"metadata",new Mf),Y(a.providerData,function(f){wg(i,f)}),hL(i.h,a.h),Se(i,"refreshToken",i.h.a),Lf(i.S,a.S.b))}e=mr.prototype,e.reload=function(){var i=this;return sn(this,_g(this).then(function(){return Eg(i).then(function(){return ss(i)}).then(l1)}))};function Eg(i){return i.I().then(function(a){var f=i.isAnonymous;return yL(i,a).then(function(){return f||Xi(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new aL(a)})},e.I=function(i){var a=this;return sn(this,_g(this).then(function(){return a.h.getToken(i)}).then(function(f){if(!f)throw new N("internal-error");return f.accessToken!=a.Aa&&(yg(a,f.accessToken),a.dispatchEvent(new ha("tokenChanged"))),Xi(a,"refreshToken",f.refreshToken),f.accessToken}))};function oi(i,a){a[jr]&&i.Aa!=a[jr]&&(s1(i.h,a),i.dispatchEvent(new ha("tokenChanged")),yg(i,a[jr]),Xi(i,"refreshToken",i.h.a))}function yL(i,a){return it(i.a,ZR,{idToken:a}).then(L(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new N("internal-error");i=i[0],u1(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=_L(i),f=0;f<a.length;f++)wg(this,a[f]);Xi(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ha("userReloaded",{hd:i}))};function _L(i){return(i=i.providerUserInfo)&&i.length?De(i,function(a){return new mL(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return Wp("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,f=null;return sn(this,i.c(this.a,this.uid).then(function(m){return oi(a,m),f=il(a,m,"reauthenticate"),a.i=null,a.reload()}).then(function(){return f}),!0)};function Vf(i,a){return Eg(i).then(function(){if(T(bg(i),a))return ss(i).then(function(){throw new N("provider-already-linked")})})}e.Cc=function(i){return Wp("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,f=null;return sn(this,Vf(this,i.providerId).then(function(){return a.I()}).then(function(m){return i.b(a.a,m)}).then(function(m){return f=il(a,m,"link"),f1(a,m)}).then(function(){return f}))},e.Dc=function(i,a){var f=this;return sn(this,Vf(this,"phone").then(function(){return ig(gg(f),i,a,L(f.rb,f))}))},e.Mc=function(i,a){var f=this;return sn(this,Pe().then(function(){return ig(gg(f),i,a,L(f.ub,f))}),!0)};function il(i,a,f){var m=cm(a);return a=kw(a),ri({user:i,credential:m,additionalUserInfo:a,operationType:f})}function f1(i,a){return oi(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return sn(this,this.I().then(function(f){return a.a.Cb(f,i)}).then(function(f){return oi(a,f),a.reload()}))},e.ed=function(i){var a=this;return sn(this,this.I().then(function(f){return i.b(a.a,f)}).then(function(f){return oi(a,f),a.reload()}))},e.Db=function(i){var a=this;return sn(this,this.I().then(function(f){return a.a.Db(f,i)}).then(function(f){return oi(a,f),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return _g(this);var a=this;return sn(this,this.I().then(function(f){return a.a.Eb(f,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(f){return oi(a,f),Xi(a,"displayName",f.displayName||null),Xi(a,"photoURL",f.photoUrl||null),Y(a.providerData,function(m){m.providerId==="password"&&(Se(m,"displayName",a.displayName),Se(m,"photoURL",a.photoURL))}),ss(a)}).then(l1))},e.cd=function(i){var a=this;return sn(this,Eg(this).then(function(f){return T(bg(a),i)?BR(a.a,f,[i]).then(function(m){var y={};return Y(m.providerUserInfo||[],function(E){y[E.providerId]=!0}),Y(bg(a),function(E){y[E]||c1(a,E)}),y[Ti.PROVIDER_ID]||Se(a,"phoneNumber",null),ss(a)}):ss(a).then(function(){throw new N("no-such-provider")})}))},e.delete=function(){var i=this;return sn(this,this.I().then(function(a){return it(i.a,GR,{idToken:a})}).then(function(){i.dispatchEvent(new ha("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");dg(i,null),pg(i,null),mg(i,null),i.N=[],i.J=!0,vg(i),Se(i,"refreshToken",null),i.b&&Zm(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,f,m){i!="linkViaPopup"&&i!="reauthViaPopup"||m!=(this.g||null)||(f&&this.C?this.C(f):a&&!f&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?L(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?L(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?L(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?L(this.Mb,this):null},e.Ec=function(i){var a=this;return h1(this,"linkViaPopup",i,function(){return Vf(a,i.providerId).then(function(){return ss(a)})},!1)},e.Nc=function(i){return h1(this,"reauthViaPopup",i,function(){return Pe()},!0)};function h1(i,a,f,m,y){if(!Yo())return xt(new N("operation-not-supported-in-this-environment"));if(i.i&&!y)return xt(i.i);var E=im(f.providerId),A=Xo(i.uid+":::"),x=null;(!Du()||$p())&&i.s&&f.isOAuthProvider&&(x=Qu(i.s,i.l,i.m,a,f,null,A,Me.SDK_VERSION||null,null,null,i.tenantId,i.u));var z=tw(x,E&&E.va,E&&E.ua);return m=m().then(function(){if(p1(i),!y)return i.I().then(function(){})}).then(function(){return KE(i.b,z,a,f,A,!!x,i.tenantId)}).then(function(){return new rt(function(te,We){i.na(a,null,new N("cancelled-popup-request"),i.g||null),i.f=te,i.C=We,i.g=A,i.c=zE(i.b,i,a,z,A)})}).then(function(te){return z&&zo(z),te?ri(te):null}).o(function(te){throw z&&zo(z),te}),sn(i,m,y)}e.Fc=function(i){var a=this;return d1(this,"linkViaRedirect",i,function(){return Vf(a,i.providerId)},!1)},e.Oc=function(i){return d1(this,"reauthViaRedirect",i,function(){return Pe()},!0)};function d1(i,a,f,m,y){if(!Yo())return xt(new N("operation-not-supported-in-this-environment"));if(i.i&&!y)return xt(i.i);var E=null,A=Xo(i.uid+":::");return m=m().then(function(){if(p1(i),!y)return i.I().then(function(){})}).then(function(){return i.ga=A,ss(i)}).then(function(x){return i.ha&&(x=i.ha,x=x.b.set(Tg,i.w(),x.a)),x}).then(function(){return GE(i.b,a,f,A,i.tenantId)}).o(function(x){if(E=x,i.ha)return g1(i.ha);throw E}).then(function(){if(E)throw E}),sn(i,m,y)}function p1(i){if(!i.b||!i.P)throw i.b&&!i.P?new N("internal-error"):new N("auth-domain-config-required")}e.Lb=function(i,a,f,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var E=null;return f=this.I().then(function(A){return Pm(y.a,{requestUri:i,postBody:m,sessionId:a,idToken:A})}).then(function(A){return E=il(y,A,"link"),f1(y,A)}).then(function(){return E}),sn(this,f)},e.Mb=function(i,a,f,m){var y=this;this.c&&(this.c.cancel(),this.c=null);var E=null,A=Pe().then(function(){return sa(xm(y.a,{requestUri:i,sessionId:a,postBody:m,tenantId:f}),y.uid)}).then(function(x){return E=il(y,x,"reauthenticate"),oi(y,x),y.i=null,y.reload()}).then(function(){return E});return sn(this,A,!0)},e.vb=function(i){var a=this,f=null;return sn(this,this.I().then(function(m){return f=m,typeof i>"u"||Qe(i)?{}:of(new rf(i))}).then(function(m){return a.a.vb(f,m)}).then(function(m){if(a.email!=m)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var f=this,m=null;return sn(this,this.I().then(function(y){return m=y,typeof a>"u"||Qe(a)?{}:of(new rf(a))}).then(function(y){return f.a.Fb(m,i,y)}).then(function(y){if(f.email!=y)return f.reload()}).then(function(){}))};function sn(i,a,f){var m=bL(i,a,f);return i.N.push(m),m.oa(function(){O(i.N,m)}),m.o(function(y){var E=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(E=n1(y.w(),gg(i),L(i.jc,i))),E||y})}e.jc=function(i){var a=null,f=this;return i=sa(Pe(i),f.uid).then(function(m){return a=il(f,m,"reauthenticate"),oi(f,m),f.i=null,f.reload()}).then(function(){return a}),sn(this,i,!0)};function bL(i,a,f){return i.i&&!f?(a.cancel(),xt(i.i)):a.o(function(m){throw!m||m.code!="auth/user-disabled"&&m.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new ha("userInvalidated")),i.i=m),m})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ke(i,this.metadata.w()),Y(this.providerData,function(a){i.providerData.push(Wx(a))}),Ke(i,this.S.w()),i};function m1(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},f={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){f[jr]=i.stsTokenManager.accessToken,f.refreshToken=i.stsTokenManager.refreshToken||null;var m=i.stsTokenManager.expirationTime;m&&(f.expiresIn=(m-Date.now())/1e3)}else return null;var y=new mr(a,f,i);return i.providerData&&Y(i.providerData,function(E){E&&wg(y,ri(E))}),i.redirectEventId&&(y.ga=i.redirectEventId),y}function wL(i,a,f,m){var y=new mr(i,a);return f&&(y.ha=f),m&&nl(y,m),y.reload().then(function(){return y})}function EL(i,a,f,m){var y=i.h,E={};return E[jr]=y.b&&y.b.toString(),E.refreshToken=y.a,a=new mr(a||{apiKey:i.l,authDomain:i.s,appName:i.m},E),f&&(a.ha=f),m&&nl(a,m),Ff(a,i),a}function TL(i){this.a=i,this.b=tl()}var Tg={name:"redirectUser",F:"session"};function g1(i){return fa(i.b,Tg,i.a)}function IL(i,a){return i.b.get(Tg,i.a).then(function(f){return f&&a&&(f.authDomain=a),m1(f||{})})}function Ig(i){this.a=i,this.b=tl(),this.c=null,this.f=SL(this),this.b.addListener(si("local"),this.a,L(this.g,this))}Ig.prototype.g=function(){var i=this,a=si("local");da(this,function(){return Pe().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(f){if(f)return Sg(i,"local").then(function(){i.c=a})})})};function Sg(i,a){var f=[],m;for(m in la)la[m]!==a&&f.push(fa(i.b,si(la[m]),i.a));return f.push(fa(i.b,Ag,i.a)),px(f)}function SL(i){var a=si("local"),f=si("session"),m=si("none");return jD(i.b,a,i.a).then(function(){return i.b.get(f,i.a)}).then(function(y){return y?f:i.b.get(m,i.a).then(function(E){return E?m:i.b.get(a,i.a).then(function(A){return A?a:i.b.get(Ag,i.a).then(function(x){return x?si(x):a})})})}).then(function(y){return i.c=y,Sg(i,y.F)}).o(function(){i.c||(i.c=a)})}var Ag={name:"persistence",F:"session"};function si(i){return{name:"authUser",F:i}}Ig.prototype.yb=function(i){var a=null,f=this;return UD(i),da(this,function(){return i!=f.c.F?f.b.get(f.c,f.a).then(function(m){return a=m,Sg(f,i)}).then(function(){if(f.c=si(i),a)return f.b.set(f.c,a,f.a)}):Pe()})};function AL(i){return da(i,function(){return i.b.set(Ag,i.c.F,i.a)})}function v1(i,a){return da(i,function(){return i.b.set(i.c,a.w(),i.a)})}function y1(i){return da(i,function(){return fa(i.b,i.c,i.a)})}function _1(i,a,f){return da(i,function(){return i.b.get(i.c,i.a).then(function(m){return m&&a&&(m.authDomain=a),m&&f&&(m.emulatorConfig=f),m1(m||{})})})}function da(i,a){return i.f=i.f.then(a,a),i.f}function $r(i){if(this.l=!1,Se(this,"settings",new ZE),Se(this,"app",i),_t(this).options&&_t(this).options.apiKey)i=Me.SDK_VERSION?na(Me.SDK_VERSION):null,this.a=new Ur(_t(this).options&&_t(this).options.apiKey,Be(ce),i);else throw new N("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Me.INTERNAL.createSubscribe(L(this.zc,this)),this.W=void 0,this.ib=Me.INTERNAL.createSubscribe(L(this.Ac,this)),pa(this,null),this.i=new Ig(_t(this).options.apiKey+":"+_t(this).name),this.D=new TL(_t(this).options.apiKey+":"+_t(this).name),this.$=Bt(this,xL(this)),this.h=Bt(this,RL(this)),this.ba=!1,this.ja=L(this.Zc,this),this.Ba=L(this.da,this),this.qa=L(this.mc,this),this.za=L(this.wc,this),this.Aa=L(this.xc,this),this.b=null,OL(this),this.INTERNAL={},this.INTERNAL.delete=L(this.delete,this),this.INTERNAL.logFramework=L(this.Gc,this),this.u=0,Un.call(this),CL(this),this.J=[],this.R=null}$($r,Un);function b1(i){Jn.call(this,"languageCodeChanged"),this.h=i}$(b1,Jn);function w1(i){Jn.call(this,"emulatorConfigChanged"),this.c=i}$(w1,Jn);function E1(i){Jn.call(this,"frameworkChanged"),this.f=i}$(E1,Jn),e=$r.prototype,e.yb=function(i){return i=this.i.yb(i),Bt(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,nE(this.a,this.aa),this.dispatchEvent(new b1(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=c.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new N("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,kL(a),this.R={url:i,ec:a},this.settings.jb=!0,If(this.a,this.R),this.dispatchEvent(new w1(this.R))}};function kL(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!i&&ef().then(function(){var a=c.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),c.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),rE(this.a,Me.SDK_VERSION?na(Me.SDK_VERSION,this.J):null),this.dispatchEvent(new E1(this.J))},e.Ga=function(){return J(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function CL(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=Zn(this.R.url);a=ri({protocol:a.c,host:a.a,port:a.g,options:ri({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:_t(this).options.apiKey,authDomain:_t(this).options.authDomain,appName:_t(this).name,currentUser:Je(this)&&Je(this).w()}};function kg(i){return i.Oa||xt(new N("auth-domain-config-required"))}function OL(i){var a=_t(i).options.authDomain,f=_t(i).options.apiKey;a&&Yo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=ng(a,f,_t(i).name,i.R),xf(i.b,i),Je(i)&&rl(Je(i)),i.m){rl(i.m);var m=i.m;m.xa(i.la()),dg(m,i),m=i.m,nl(m,i.J),mg(m,i),m=i.m,hg(m,i.R),pg(m,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,f,m){i=="signInViaPopup"&&this.g==m&&(f&&this.C?this.C(f):a&&!f&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?L(this.ic,this):null},e.ic=function(i,a,f,m){var y=this,E={requestUri:i,postBody:m,sessionId:a,tenantId:f};return this.c&&(this.c.cancel(),this.c=null),y.$.then(function(){return as(y,Nm(y.a,E))})},e.Xc=function(i){if(!Yo())return xt(new N("operation-not-supported-in-this-environment"));var a=this,f=im(i.providerId),m=Xo(),y=null;(!Du()||$p())&&_t(this).options.authDomain&&i.isOAuthProvider&&(y=Qu(_t(this).options.authDomain,_t(this).options.apiKey,_t(this).name,"signInViaPopup",i,null,m,Me.SDK_VERSION||null,null,null,this.T(),this.R));var E=tw(y,f&&f.va,f&&f.ua);return f=kg(this).then(function(A){return KE(A,E,"signInViaPopup",i,m,!!y,a.T())}).then(function(){return new rt(function(A,x){a.na("signInViaPopup",null,new N("cancelled-popup-request"),a.g),a.f=A,a.C=x,a.g=m,a.c=zE(a.b,a,"signInViaPopup",E,m)})}).then(function(A){return E&&zo(E),A?ri(A):null}).o(function(A){throw E&&zo(E),A}),Bt(this,f)},e.Yc=function(i){if(!Yo())return xt(new N("operation-not-supported-in-this-environment"));var a=this,f=kg(this).then(function(){return AL(a.i)}).then(function(){return GE(a.b,"signInViaRedirect",i,void 0,a.T())});return Bt(this,f)};function T1(i){if(!Yo())return xt(new N("operation-not-supported-in-this-environment"));var a=kg(i).then(function(){return i.b.ra()}).then(function(f){return f?ri(f):null});return Bt(i,a)}e.ra=function(){var i=this;return T1(this).then(function(a){return i.b&&Df(i.b.b),a}).o(function(a){throw i.b&&Df(i.b.b),a})},e.dd=function(i){if(!i)return xt(new N("null-user"));if(this.S!=i.tenantId)return xt(new N("tenant-id-mismatch"));var a=this,f={};f.apiKey=_t(this).options.apiKey,f.authDomain=_t(this).options.authDomain,f.appName=_t(this).name;var m=EL(i,f,a.D,a.Ga());return Bt(this,this.h.then(function(){if(_t(a).options.apiKey!=i.l)return m.reload()}).then(function(){return Je(a)&&i.uid==Je(a).uid?(Ff(Je(a),i),a.da(i)):(pa(a,m),rl(m),a.da(m))}).then(function(){ol(a)}))};function NL(i,a){var f={};return f.apiKey=_t(i).options.apiKey,f.authDomain=_t(i).options.authDomain,f.appName=_t(i).name,i.R&&(f.emulatorConfig=i.R),i.$.then(function(){return wL(f,a,i.D,i.Ga())}).then(function(m){return Je(i)&&m.uid==Je(i).uid?(Ff(Je(i),m),i.da(m)):(pa(i,m),rl(m),i.da(m))}).then(function(){ol(i)})}function pa(i,a){Je(i)&&(vL(Je(i),i.Ba),dr(Je(i),"tokenChanged",i.qa),dr(Je(i),"userDeleted",i.za),dr(Je(i),"userInvalidated",i.Aa),vg(Je(i))),a&&(a.W.push(i.Ba),Ar(a,"tokenChanged",i.qa),Ar(a,"userDeleted",i.za),Ar(a,"userInvalidated",i.Aa),0<i.u&&a1(a)),Se(i,"currentUser",a),a&&(a.xa(i.la()),dg(a,i),nl(a,i.J),mg(a,i),hg(a,i.R),pg(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&Df(i.b.b),Je(i)?(pa(i,null),y1(i.i).then(function(){ol(i)})):Pe()});return Bt(this,a)};function PL(i){var a=IL(i.D,_t(i).options.authDomain).then(function(f){return(i.m=f)&&(f.ha=i.D),g1(i.D)});return Bt(i,a)}function xL(i){var a=_t(i).options.authDomain,f=PL(i).then(function(){return _1(i.i,a,i.R)}).then(function(m){return m?(m.ha=i.D,i.m&&(i.m.ga||null)==(m.ga||null)?m:m.reload().then(function(){return v1(i.i,m).then(function(){return m})}).o(function(y){return y.code=="auth/network-request-failed"?m:y1(i.i)})):null}).then(function(m){pa(i,m||null)});return Bt(i,f)}function RL(i){return i.$.then(function(){return T1(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(si("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return _1(this.i,_t(this).options.authDomain).then(function(a){if(!i.l){var f;if(f=Je(i)&&a){f=Je(i).uid;var m=a.uid;f=f==null||f===""||m===void 0||m===null||m===""?!1:f==m}if(f)return Ff(Je(i),a),Je(i).I();(Je(i)||a)&&(pa(i,a),a&&(rl(a),a.ha=i.D),i.b&&xf(i.b,i),ol(i))}})},e.da=function(i){return v1(this.i,i)},e.mc=function(){ol(this),this.da(Je(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function as(i,a){var f=null,m=null;return Bt(i,a.then(function(y){return f=cm(y),m=kw(y),NL(i,y)},function(y){var E=null;throw y&&y.code==="auth/multi-factor-auth-required"&&(E=n1(y.w(),i,L(i.kc,i))),E||y}).then(function(){return ri({user:Je(i),credential:f,additionalUserInfo:m,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return as(a,Pe(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(Je(a))})},e.Ac=function(i){var a=this;DL(this,function(){i.next(Je(a))})},e.Ic=function(i,a,f){var m=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Je(m)):typeof i.next=="function"&&i.next(Je(m))}),this.Pa(i,a,f)},e.Hc=function(i,a,f){var m=this;return this.ba&&Promise.resolve().then(function(){m.W=m.getUid(),typeof i=="function"?i(Je(m)):typeof i.next=="function"&&i.next(Je(m))}),this.ib(i,a,f)},e.nc=function(i){var a=this,f=this.h.then(function(){return Je(a)?Je(a).I(i).then(function(m){return{accessToken:m}}):null});return Bt(this,f)},e.Tc=function(i){var a=this;return this.h.then(function(){return as(a,it(a.a,pD,{token:i}))}).then(function(f){var m=f.user;return Xi(m,"isAnonymous",!1),a.da(m),f})},e.Uc=function(i,a){var f=this;return this.h.then(function(){return as(f,it(f.a,hE,{email:i,password:a}))})},e.dc=function(i,a){var f=this;return this.h.then(function(){return as(f,it(f.a,WR,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return as(a,i.ka(a.a))})},e.Sc=function(i){return Wp("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=Je(i);if(a&&a.isAnonymous){var f=ri({providerId:null,isNewUser:!1});return ri({user:a,credential:null,additionalUserInfo:f,operationType:"signIn"})}return as(i,i.a.Ab()).then(function(m){var y=m.user;return Xi(y,"isAnonymous",!0),i.da(y),m})})};function _t(i){return i.app}function Je(i){return i.currentUser}e.getUid=function(){return Je(this)&&Je(this).uid||null};function Uf(i){return Je(i)&&Je(i)._lat||null}function ol(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](Uf(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](Uf(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Je(this)&&a1(Je(this))},e.Pc=function(i){var a=this;Y(this.s,function(f){f==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&Je(this)&&vg(Je(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),Bt(this,this.h.then(function(){a.l||T(a.s,i)&&i(Uf(a))}))},e.removeAuthTokenListener=function(i){M(this.s,function(a){return a==i})};function DL(i,a){i.N.push(a),Bt(i,i.h.then(function(){!i.l&&T(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(Uf(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(si("local"),i.a,this.ja)),this.b&&(Zm(this.b,this),Df(this.b.b)),Promise.resolve()};function Bt(i,a){return i.P.push(a),a.oa(function(){O(i.P,a)}),a}e.hc=function(i){return Bt(this,MR(this.a,i))},e.Bc=function(i){return!!lm(i)},e.xb=function(i,a){var f=this;return Bt(this,Pe().then(function(){var m=new rf(a);if(!m.c)throw new N("argument-error",nm+" must be true when sending sign in link to email");return of(m)}).then(function(m){return f.a.xb(i,m)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return Bt(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return Bt(this,this.a.Sa(i).then(function(a){return new Gx(a)}))},e.kb=function(i){return Bt(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var f=this;return Bt(this,Pe().then(function(){return typeof a>"u"||Qe(a)?{}:of(new rf(a))}).then(function(m){return f.a.wb(i,m)}).then(function(){}))},e.Wc=function(i,a){return Bt(this,ig(this,i,a,L(this.ab,this)))},e.Vc=function(i,a){var f=this;return Bt(this,Pe().then(function(){var m=a||Ru(),y=Uw(i,m);if(m=lm(m),!m)throw new N("argument-error","Invalid email link!");if(m.tenantId!==f.T())throw new N("tenant-id-mismatch");return f.ab(y)}))};function sl(){}sl.prototype.render=function(){},sl.prototype.reset=function(){},sl.prototype.getResponse=function(){},sl.prototype.execute=function(){};function ma(){this.a={},this.b=1e12}var Cg=null;ma.prototype.render=function(i,a){return this.a[this.b.toString()]=new jf(i,a),this.b++},ma.prototype.reset=function(i){var a=Og(this,i);i=I1(i),a&&i&&(a.delete(),delete this.a[i])},ma.prototype.getResponse=function(i){return(i=Og(this,i))?i.getResponse():null},ma.prototype.execute=function(i){(i=Og(this,i))&&i.execute()};function Og(i,a){return(a=I1(a))&&i.a[a]||null}function I1(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function jf(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Au(i);var f=this;this.i=function(){f.execute()},this.h?this.execute():Ar(this.f,"click",this.i)}jf.prototype.getResponse=function(){return Ng(this),this.b},jf.prototype.execute=function(){Ng(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=$x();var a=i.c.callback,f=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,f)try{f()}catch{}i.h&&i.execute()},6e4)},500))},jf.prototype.delete=function(){Ng(this),this.g=!0,clearTimeout(this.a),this.a=null,dr(this.f,"click",this.i)};function Ng(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function Pg(){}Se(Pg,"FACTOR_ID","phone");function xg(){}xg.prototype.g=function(){return Cg||(Cg=new ma),Pe(Cg)},xg.prototype.c=function(){};var Rg=null;function Dg(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var LL=new kn($c,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),ML=new Gi(3e4,6e4);Dg.prototype.g=function(i){var a=this;return new rt(function(f,m){var y=setTimeout(function(){m(new N("network-request-failed"))},ML.get());if(!c.grecaptcha||i!==a.f&&!a.b){c[a.a]=function(){if(c.grecaptcha){a.f=i;var A=c.grecaptcha.render;c.grecaptcha.render=function(x,z){return x=A(x,z),a.b++,x},clearTimeout(y),f(c.grecaptcha)}else clearTimeout(y),m(new N("internal-error"));delete c[a.a]};var E=mp(LL,{onload:a.a,hl:i||""});Pe(Tm(E)).o(function(){clearTimeout(y),m(new N("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(y),f(c.grecaptcha)})},Dg.prototype.c=function(){this.b--};var Lg=null;function Mg(i,a,f,m,y,E,A){if(Se(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,A?(Rg||(Rg=new xg),A=Rg):(Lg||(Lg=new Dg),A=Lg),this.m=A,this.a=f||{theme:"light",type:"image"},this.h=[],this.a[k1])throw new N("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[FL]==="invisible",!c.document)throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Au(a)||!this.i&&Au(a).hasChildNodes())throw new N("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ur(i,E||null,y||null),this.u=m||function(){return null};var x=this;this.l=[];var z=this.a[S1];this.a[S1]=function(We){if(C1(x,We),typeof z=="function")z(We);else if(typeof z=="string"){var gt=Rt(z,c);typeof gt=="function"&&gt(We)}};var te=this.a[A1];this.a[A1]=function(){if(C1(x,null),typeof te=="function")te();else if(typeof te=="string"){var We=Rt(te,c);typeof We=="function"&&We()}}}var S1="callback",A1="expired-callback",k1="sitekey",FL="size";function C1(i,a){for(var f=0;f<i.l.length;f++)try{i.l[f](a)}catch{}}function VL(i,a){M(i.l,function(f){return f==a})}function Fg(i,a){return i.h.push(a),a.oa(function(){O(i.h,a)}),a}e=Mg.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=Fg(this,Pe().then(function(){if(tf()&&!Fr())return ef();throw new N("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,it(i.s,oD,{})}).then(function(a){i.a[k1]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){$f(this);var i=this;return Fg(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var f=Au(a);a=cx("DIV"),f.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){$f(this);var i=this;return Fg(this,this.render().then(function(a){return new rt(function(f){var m=i.g.getResponse(a);if(m)f(m);else{var y=function(E){E&&(VL(i,y),f(E))};i.l.push(y),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){$f(this),this.c!==null&&this.g.reset(this.c)};function $f(i){if(i.J)throw new N("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){$f(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Au(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function Vg(i,a,f){var m=!1;try{this.b=f||Me.app()}catch{throw new N("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)f=this.b.options.apiKey;else throw new N("invalid-api-key");var y=this,E=null;try{E=this.b.auth().Ga()}catch{}try{m=this.b.auth().settings.appVerificationDisabledForTesting}catch{}E=Me.SDK_VERSION?na(Me.SDK_VERSION,E):null,Mg.call(this,f,i,a,function(){try{var A=y.b.auth().la()}catch{A=null}return A},E,Be(ce),m)}$(Vg,Mg);function O1(i,a,f,m){e:{f=Array.prototype.slice.call(f);for(var y=0,E=!1,A=0;A<a.length;A++)if(a[A].optional)E=!0;else{if(E)throw new N("internal-error","Argument validator encountered a required argument after an optional argument.");y++}if(E=a.length,f.length<y||E<f.length)m="Expected "+(y==E?y==1?"1 argument":y+" arguments":y+"-"+E+" arguments")+" but got "+f.length+".";else{for(y=0;y<f.length;y++)if(E=a[y].optional&&f[y]===void 0,!a[y].M(f[y])&&!E){if(a=a[y],0>y||y>=N1.length)throw new N("internal-error","Argument validator received an unsupported number of arguments.");f=N1[y],m=(m?"":f+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}m=null}}if(m)throw new N("argument-error",i+" failed: "+m)}var N1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Ie(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(f){return typeof f=="string"}}}function Ug(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(f){return typeof f=="boolean"}}}function Qt(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:S}}function ga(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(f){return typeof f=="function"}}}function ai(i,a){return{name:i||"",K:"null",optional:!!a,M:function(f){return f===null}}}function UL(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function jL(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof $r)}}}function $L(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Me.app.App)}}}function Qi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var f=!i||a.providerId===i;return!(!a.ka||!f)}}}function P1(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function va(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function jg(i,a){return S(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function x1(i){return S(i)&&typeof i.uid=="string"}function Bf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Kt(i,a,f,m){return{name:f||"",K:i.K+" or "+a.K,optional:!!m,M:function(y){return i.M(y)||a.M(y)}}}function Vt(i,a){for(var f in a){var m=a[f].name;i[m]=D1(m,i[f],a[f].j)}}function R1(i,a){for(var f in a){var m=a[f].name;m!==f&&Object.defineProperty(i,m,{get:B(function(y){return this[y]},f),set:B(function(y,E,A,x){O1(y,[A],[x],!0),this[E]=x},m,f,a[f].lb),enumerable:!0})}}function Gt(i,a,f,m){i[a]=D1(a,f,m)}function D1(i,a,f){function m(){var A=Array.prototype.slice.call(arguments);return O1(y,f,A),a.apply(this,A)}if(!f)return a;var y=BL(i),E;for(E in a)m[E]=a[E];for(E in a.prototype)m.prototype[E]=a.prototype[E];return m}function BL(i){return i=i.split("."),i[i.length-1]}Vt($r.prototype,{kb:{name:"applyActionCode",j:[Ie("code")]},Sa:{name:"checkActionCode",j:[Ie("code")]},ob:{name:"confirmPasswordReset",j:[Ie("code"),Ie("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Ie("email"),Ie("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Ie("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Ie("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Kt(Qt(),ga(),"nextOrObserver"),ga("opt_error",!0),ga("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Kt(Qt(),ga(),"nextOrObserver"),ga("opt_error",!0),ga("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Ie("email"),Kt(Qt("opt_actionCodeSettings",!0),ai(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Ie("email"),Qt("actionCodeSettings")]},yb:{name:"setPersistence",j:[Ie("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Qi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Qi()]},Tc:{name:"signInWithCustomToken",j:[Ie("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Ie("email"),Ie("password")]},Vc:{name:"signInWithEmailLink",j:[Ie("email"),Ie("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Ie("phoneNumber"),Bf()]},Xc:{name:"signInWithPopup",j:[va()]},Yc:{name:"signInWithRedirect",j:[va()]},dd:{name:"updateCurrentUser",j:[Kt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof mr)}}}(),ai(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Ie(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Ie("url"),Qt("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Ie("code")]}}),R1($r.prototype,{lc:{name:"languageCode",lb:Kt(Ie(),ai(),"languageCode")},ti:{name:"tenantId",lb:Kt(Ie(),ai(),"tenantId")}}),$r.Persistence=la,$r.Persistence.LOCAL="local",$r.Persistence.SESSION="session",$r.Persistence.NONE="none",Vt(mr.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Ug("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Ug("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Qi()]},rb:{name:"linkWithCredential",j:[Qi()]},Dc:{name:"linkWithPhoneNumber",j:[Ie("phoneNumber"),Bf()]},Ec:{name:"linkWithPopup",j:[va()]},Fc:{name:"linkWithRedirect",j:[va()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Qi()]},ub:{name:"reauthenticateWithCredential",j:[Qi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Ie("phoneNumber"),Bf()]},Nc:{name:"reauthenticateWithPopup",j:[va()]},Oc:{name:"reauthenticateWithRedirect",j:[va()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Kt(Qt("opt_actionCodeSettings",!0),ai(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Ie(null,!0)]},cd:{name:"unlink",j:[Ie("provider")]},Cb:{name:"updateEmail",j:[Ie("email")]},Db:{name:"updatePassword",j:[Ie("password")]},ed:{name:"updatePhoneNumber",j:[Qi("phone")]},Eb:{name:"updateProfile",j:[Qt("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Ie("email"),Kt(Qt("opt_actionCodeSettings",!0),ai(null,!0),"opt_actionCodeSettings",!0)]}}),Vt(ma.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vt(sl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vt(rt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),R1(ZE.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Ug("appVerificationDisabledForTesting")}}),Vt(rg.prototype,{confirm:{name:"confirm",j:[Ie("verificationCode")]}}),Gt(oa,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,f=[fR,hR,dR,cR],m=0;m<f.length;m++)if(a=f[m](i))return a;return null},[Kt(Ie(),Qt(),"json")]),Gt(Cr,"credential",function(i,a){return new zi(i,a)},[Ie("email"),Ie("password")]),Vt(zi.prototype,{w:{name:"toJSON",j:[Ie(null,!0)]}}),Vt(Zo.prototype,{Ca:{name:"addScope",j:[Ie("scope")]},Ka:{name:"setCustomParameters",j:[Qt("customOAuthParameters")]}}),Gt(Zo,"credential",Lw,[Kt(Ie(),Qt(),"token")]),Gt(Cr,"credentialWithLink",Uw,[Ie("email"),Ie("emailLink")]),Vt(es.prototype,{Ca:{name:"addScope",j:[Ie("scope")]},Ka:{name:"setCustomParameters",j:[Qt("customOAuthParameters")]}}),Gt(es,"credential",Mw,[Kt(Ie(),Qt(),"token")]),Vt(ts.prototype,{Ca:{name:"addScope",j:[Ie("scope")]},Ka:{name:"setCustomParameters",j:[Qt("customOAuthParameters")]}}),Gt(ts,"credential",Fw,[Kt(Ie(),Kt(Qt(),ai()),"idToken"),Kt(Ie(),ai(),"accessToken",!0)]),Vt(aa.prototype,{Ka:{name:"setCustomParameters",j:[Qt("customOAuthParameters")]}}),Gt(aa,"credential",Vw,[Kt(Ie(),Qt(),"token"),Ie("secret",!0)]),Vt(pr.prototype,{Ca:{name:"addScope",j:[Ie("scope")]},credential:{name:"credential",j:[Kt(Ie(),Kt(Qt(),ai()),"optionsOrIdToken"),Kt(Ie(),ai(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Qt("customOAuthParameters")]}}),Vt(Ei.prototype,{w:{name:"toJSON",j:[Ie(null,!0)]}}),Vt(Qo.prototype,{w:{name:"toJSON",j:[Ie(null,!0)]}}),Gt(Ti,"credential",jw,[Ie("verificationId"),Ie("verificationCode")]),Vt(Ti.prototype,{gb:{name:"verifyPhoneNumber",j:[Kt(Ie(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(f){return f?f.session&&f.phoneNumber?jg(f.session,ju)&&typeof f.phoneNumber=="string":f.session&&f.multiFactorHint?jg(f.session,cf)&&x1(f.multiFactorHint):f.session&&f.multiFactorUid?jg(f.session,cf)&&typeof f.multiFactorUid=="string":f.phoneNumber?typeof f.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Bf()]}}),Vt(Yi.prototype,{w:{name:"toJSON",j:[Ie(null,!0)]}}),Vt(N.prototype,{toJSON:{name:"toJSON",j:[Ie(null,!0)]}}),Vt(Bu.prototype,{toJSON:{name:"toJSON",j:[Ie(null,!0)]}}),Vt(dm.prototype,{toJSON:{name:"toJSON",j:[Ie(null,!0)]}}),Vt(sg.prototype,{toJSON:{name:"toJSON",j:[Ie(null,!0)]}}),Vt(og.prototype,{Rc:{name:"resolveSignIn",j:[P1()]}}),Vt(ug.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[P1(),Ie("displayName",!0)]},bd:{name:"unenroll",j:[Kt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:x1},Ie(),"multiFactorInfoIdentifier")]}}),Vt(Vg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Gt(tm,"parseLink",vw,[Ie("link")]),Gt(Pg,"assertion",function(i){return new i1(i)},[Qi("phone")]),function(){if(typeof Me<"u"&&Me.INTERNAL&&Me.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:nf,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:em,VERIFY_AND_CHANGE_EMAIL:Vu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:$r,AuthCredential:oa,Error:N};Gt(i,"EmailAuthProvider",Cr,[]),Gt(i,"FacebookAuthProvider",Zo,[]),Gt(i,"GithubAuthProvider",es,[]),Gt(i,"GoogleAuthProvider",ts,[]),Gt(i,"TwitterAuthProvider",aa,[]),Gt(i,"OAuthProvider",pr,[Ie("providerId")]),Gt(i,"SAMLAuthProvider",Dw,[Ie("providerId")]),Gt(i,"PhoneAuthProvider",Ti,[jL()]),Gt(i,"RecaptchaVerifier",Vg,[Kt(Ie(),UL(),"recaptchaContainer"),Qt("recaptchaParameters",!0),$L()]),Gt(i,"ActionCodeURL",tm,[]),Gt(i,"PhoneMultiFactorGenerator",Pg,[]),Me.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new $r(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),Me.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:L(a.getUid,a),getToken:L(a.nc,a),addAuthTokenListener:L(a.cc,a),removeAuthTokenListener:L(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Me.registerVersion("@firebase/auth","0.16.8"),Me.INTERNAL.extendNamespace({User:mr})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hv=function(e,t){return Hv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},Hv(e,t)};function A2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Hv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Nk(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var k2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we,E_=E_||{},Ge=k2||self;function Nh(){}function Wv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function wc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function C2(e){return Object.prototype.hasOwnProperty.call(e,Jg)&&e[Jg]||(e[Jg]=++O2)}var Jg="closure_uid_"+(1e9*Math.random()>>>0),O2=0;function N2(e,t,n){return e.call.apply(e.bind,arguments)}function P2(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function En(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?En=N2:En=P2,En.apply(null,arguments)}function Xf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Sn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(r,u)}}function Lo(){this.s=this.s,this.o=this.o}var x2=0;Lo.prototype.s=!1;Lo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),x2!=0)&&C2(this)};Lo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Pk=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},xk=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function R2(e){e:{for(var t=IU,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function IT(e){return Array.prototype.concat.apply([],arguments)}function T_(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ph(e){return/^[\s\xa0]*$/.test(e)}var ST=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Kn(e,t){return e.indexOf(t)!=-1}function Zg(e,t){return e<t?-1:e>t?1:0}var Gn;e:{var AT=Ge.navigator;if(AT){var kT=AT.userAgent;if(kT){Gn=kT;break e}}Gn=""}function I_(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Rk(e){var t={};for(var n in e)t[n]=e[n];return t}var CT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dk(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<CT.length;s++)n=CT[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S_(e){return S_[" "](e),e}S_[" "]=Nh;function D2(e){var t=F2;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var L2=Kn(Gn,"Opera"),Ba=Kn(Gn,"Trident")||Kn(Gn,"MSIE"),Lk=Kn(Gn,"Edge"),Kv=Lk||Ba,Mk=Kn(Gn,"Gecko")&&!(Kn(Gn.toLowerCase(),"webkit")&&!Kn(Gn,"Edge"))&&!(Kn(Gn,"Trident")||Kn(Gn,"MSIE"))&&!Kn(Gn,"Edge"),M2=Kn(Gn.toLowerCase(),"webkit")&&!Kn(Gn,"Edge");function Fk(){var e=Ge.document;return e?e.documentMode:void 0}var xh;e:{var ev="",tv=function(){var e=Gn;if(Mk)return/rv:([^\);]+)(\)|;)/.exec(e);if(Lk)return/Edge\/([\d\.]+)/.exec(e);if(Ba)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(M2)return/WebKit\/(\S+)/.exec(e);if(L2)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(tv&&(ev=tv?tv[1]:""),Ba){var nv=Fk();if(nv!=null&&nv>parseFloat(ev)){xh=String(nv);break e}}xh=ev}var F2={};function V2(){return D2(function(){for(var e=0,t=ST(String(xh)).split("."),n=ST("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=Zg(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||Zg(s[2].length==0,u[2].length==0)||Zg(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Gv;if(Ge.document&&Ba){var OT=Fk();Gv=OT||parseInt(xh,10)||void 0}else Gv=void 0;var U2=Gv,j2=function(){if(!Ge.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ge.addEventListener("test",Nh,t),Ge.removeEventListener("test",Nh,t)}catch{}return e}();function Ln(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ln.prototype.h=function(){this.defaultPrevented=!0};function Hl(e,t){if(Ln.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Mk){e:{try{S_(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:$2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Hl.Z.h.call(this)}}Sn(Hl,Ln);var $2={2:"touch",3:"pen",4:"mouse"};Hl.prototype.h=function(){Hl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ec="closure_listenable_"+(1e6*Math.random()|0),B2=0;function q2(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++B2,this.ca=this.fa=!1}function Ad(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function kd(e){this.src=e,this.g={},this.h=0}kd.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=Yv(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new q2(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function zv(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=Pk(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Ad(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Yv(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var A_="closure_lm_"+(1e6*Math.random()|0),rv={};function Vk(e,t,n,r,o){if(r&&r.once)return jk(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Vk(e,t[s],n,r,o);return null}return n=O_(n),e&&e[Ec]?e.N(t,n,wc(r)?!!r.capture:!!r,o):Uk(e,t,n,!1,r,o)}function Uk(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=wc(o)?!!o.capture:!!o,l=C_(e);if(l||(e[A_]=l=new kd(e)),n=l.add(t,n,r,u,s),n.proxy)return n;if(r=H2(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)j2||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(Bk(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function H2(){function e(n){return t.call(e.src,e.listener,n)}var t=W2;return e}function jk(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)jk(e,t[s],n,r,o);return null}return n=O_(n),e&&e[Ec]?e.O(t,n,wc(r)?!!r.capture:!!r,o):Uk(e,t,n,!0,r,o)}function $k(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)$k(e,t[s],n,r,o);else r=wc(r)?!!r.capture:!!r,n=O_(n),e&&e[Ec]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=Yv(s,n,r,o),-1<n&&(Ad(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=C_(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Yv(t,n,r,o)),(n=-1<e?t[e]:null)&&k_(n))}function k_(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Ec])zv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Bk(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=C_(t))?(zv(n,e),n.h==0&&(n.src=null,t[A_]=null)):Ad(e)}}}function Bk(e){return e in rv?rv[e]:rv[e]="on"+e}function W2(e,t){if(e.ca)e=!0;else{t=new Hl(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&k_(e),e=n.call(r,t)}return e}function C_(e){return e=e[A_],e instanceof kd?e:null}var iv="__closure_events_fn_"+(1e9*Math.random()>>>0);function O_(e){return typeof e=="function"?e:(e[iv]||(e[iv]=function(t){return e.handleEvent(t)}),e[iv])}function gn(){Lo.call(this),this.i=new kd(this),this.P=this,this.I=null}Sn(gn,Lo);gn.prototype[Ec]=!0;gn.prototype.removeEventListener=function(e,t,n,r){$k(this,e,t,n,r)};function Tn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new Ln(t,e);else if(t instanceof Ln)t.target=t.target||e;else{var o=t;t=new Ln(r,e),Dk(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=Qf(u,r,!0,t)&&o}if(u=t.g=e,o=Qf(u,r,!0,t)&&o,o=Qf(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=Qf(u,r,!1,t)&&o}gn.prototype.M=function(){if(gn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ad(n[r]);delete e.g[t],e.h--}}this.I=null};gn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};gn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Qf(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,c=u.ia||u.src;u.fa&&zv(e.i,u),o=l.call(c,r)!==!1&&o}}return o&&!r.defaultPrevented}var N_=Ge.JSON.stringify;function K2(){var e=Hk,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var G2=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=qk.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),qk=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new z2},function(e){return e.reset()}),z2=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Y2(e){Ge.setTimeout(function(){throw e},0)}function P_(e,t){Xv||X2(),Qv||(Xv(),Qv=!0),Hk.add(e,t)}var Xv;function X2(){var e=Ge.Promise.resolve(void 0);Xv=function(){e.then(Q2)}}var Qv=!1,Hk=new G2;function Q2(){for(var e;e=K2();){try{e.h.call(e.g)}catch(n){Y2(n)}var t=qk;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Qv=!1}function Cd(e,t){gn.call(this),this.h=e||1,this.g=t||Ge,this.j=En(this.kb,this),this.l=Date.now()}Sn(Cd,gn);we=Cd.prototype;we.da=!1;we.S=null;we.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Tn(this,"tick"),this.da&&(x_(this),this.start()))}};we.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function x_(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}we.M=function(){Cd.Z.M.call(this),x_(this),delete this.g};function R_(e,t,n){if(typeof e=="function")n&&(e=En(e,n));else if(e&&typeof e.handleEvent=="function")e=En(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ge.setTimeout(e,t||0)}function Wk(e){e.g=R_(function(){e.g=null,e.i&&(e.i=!1,Wk(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var J2=function(e){A2(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:Wk(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Ge.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Lo);function Wl(e){Lo.call(this),this.h=e,this.g={}}Sn(Wl,Lo);var NT=[];function Kk(e,t,n,r){Array.isArray(n)||(n&&(NT[0]=n.toString()),n=NT);for(var o=0;o<n.length;o++){var s=Vk(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Gk(e){I_(e.g,function(t,n){this.g.hasOwnProperty(n)&&k_(t)},e),e.g={}}Wl.prototype.M=function(){Wl.Z.M.call(this),Gk(this)};Wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Od(){this.g=!0}Od.prototype.Aa=function(){this.g=!1};function Z2(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),c=0;c<l.length;c++){var d=l[c].split("=");if(1<d.length){var g=d[0];d=d[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+d+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function eU(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function Oa(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+nU(e,n)+(r?" "+r:"")})}function tU(e,t){e.info(function(){return"TIMEOUT: "+t})}Od.prototype.info=function(){};function nU(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return N_(n)}catch{return t}}var $s={},PT=null;function Nd(){return PT=PT||new gn}$s.Ma="serverreachability";function zk(e){Ln.call(this,$s.Ma,e)}Sn(zk,Ln);function Kl(e){var t=Nd();Tn(t,new zk(t))}$s.STAT_EVENT="statevent";function Yk(e,t){Ln.call(this,$s.STAT_EVENT,e),this.stat=t}Sn(Yk,Ln);function zn(e){var t=Nd();Tn(t,new Yk(t,e))}$s.Na="timingevent";function Xk(e,t){Ln.call(this,$s.Na,e),this.size=t}Sn(Xk,Ln);function Tc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Ge.setTimeout(function(){e()},t)}var Pd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Qk={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function D_(){}D_.prototype.h=null;function xT(e){return e.h||(e.h=e.i())}function Jk(){}var Ic={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function L_(){Ln.call(this,"d")}Sn(L_,Ln);function M_(){Ln.call(this,"c")}Sn(M_,Ln);var Jv;function xd(){}Sn(xd,D_);xd.prototype.g=function(){return new XMLHttpRequest};xd.prototype.i=function(){return{}};Jv=new xd;function Sc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Wl(this),this.P=rU,e=Kv?125:void 0,this.W=new Cd(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Zk}function Zk(){this.i=null,this.g="",this.h=!1}var rU=45e3,Zv={},Rh={};we=Sc.prototype;we.setTimeout=function(e){this.P=e};function ey(e,t,n){e.K=1,e.v=Dd(Vi(t)),e.s=n,e.U=!0,eC(e,null)}function eC(e,t){e.F=Date.now(),Ac(e),e.A=Vi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),aC(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Zk,e.g=kC(e.l,n?t:null,!e.s),0<e.O&&(e.L=new J2(En(e.Ia,e,e.g),e.O)),Kk(e.V,e.g,"readystatechange",e.gb),t=e.H?Rk(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Kl(),Z2(e.j,e.u,e.A,e.m,e.X,e.s)}we.gb=function(e){e=e.target;var t=this.L;t&&Pi(e)==3?t.l():this.Ia(e)};we.Ia=function(e){try{if(e==this.g)e:{var t=Pi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Kv||this.g&&(this.h.h||this.g.ga()||MT(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?Kl(3):Kl(2)),Rd(this);var o=this.g.ba();this.N=o;t:if(tC(this)){var s=MT(this.g);e="";var u=s.length,l=Pi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),Il(this);var c="";break t}this.h.i=new Ge.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=o==200,eU(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ph(d)){var h=d;break t}}h=null}if(o=h)Oa(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ty(this,o);else{this.i=!1,this.o=3,zn(12),bs(this),Il(this);break e}}this.U?(nC(this,t,c),Kv&&this.i&&t==3&&(Kk(this.V,this.W,"tick",this.fb),this.W.start())):(Oa(this.j,this.m,c,null),ty(this,c)),t==4&&bs(this),this.i&&!this.I&&(t==4?TC(this.l,this):(this.i=!1,Ac(this)))}else o==400&&0<c.indexOf("Unknown SID")?(this.o=3,zn(12)):(this.o=0,zn(13)),bs(this),Il(this)}}}catch{}finally{}};function tC(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function nC(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=iU(e,n),o==Rh){t==4&&(e.o=4,zn(14),r=!1),Oa(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Zv){e.o=4,zn(15),Oa(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Oa(e.j,e.m,o,null),ty(e,o);tC(e)&&o!=Rh&&o!=Zv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,zn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),W_(t),t.L=!0,zn(11))):(Oa(e.j,e.m,n,"[Invalid Chunked Response]"),bs(e),Il(e))}we.fb=function(){if(this.g){var e=Pi(this.g),t=this.g.ga();this.C<t.length&&(Rd(this),nC(this,e,t),this.i&&e!=4&&Ac(this))}};function iU(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Rh:(n=Number(t.substring(n,r)),isNaN(n)?Zv:(r+=1,r+n>t.length?Rh:(t=t.substr(r,n),e.C=r+n,t)))}we.cancel=function(){this.I=!0,bs(this)};function Ac(e){e.Y=Date.now()+e.P,rC(e,e.P)}function rC(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Tc(En(e.eb,e),t)}function Rd(e){e.B&&(Ge.clearTimeout(e.B),e.B=null)}we.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(tU(this.j,this.A),this.K!=2&&(Kl(),zn(17)),bs(this),this.o=2,Il(this)):rC(this,this.Y-e)};function Il(e){e.l.G==0||e.I||TC(e.l,e)}function bs(e){Rd(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,x_(e.W),Gk(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ty(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||ny(n.i,e))){if(n.I=e.N,!e.J&&ny(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Fh(n),Fd(n);else break e;H_(n),zn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Tc(En(n.ab,n),6e3));if(1>=cC(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else ws(n,11)}else if((e.J||n.g==e)&&Fh(n),!Ph(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var c=s[5];c!=null&&typeof c=="number"&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=r.i;!h.g&&(Kn(g,"spdy")||Kn(g,"quic")||Kn(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(U_(h,h.h),h.h=null))}if(r.D){var p=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;p&&(r.sa=p,Mt(r.F,r.D,p))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var v=e;if(r.oa=AC(r,r.H?r.la:null,r.W),v.J){fC(r.i,v);var _=v,w=r.K;w&&_.setTimeout(w),_.B&&(Rd(_),Ac(_)),r.g=v}else wC(r);0<n.l.length&&Vd(n)}else s[0]!="stop"&&s[0]!="close"||ws(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?ws(n,7):q_(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Kl(4)}catch{}}function oU(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Wv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function F_(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Wv(e)||typeof e=="string")xk(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Wv(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=oU(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function pu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof pu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}we=pu.prototype;we.R=function(){V_(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};we.T=function(){return V_(this),this.g.concat()};function V_(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Rs(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],Rs(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}we.get=function(e,t){return Rs(this.h,e)?this.h[e]:t};we.set=function(e,t){Rs(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};we.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Rs(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var iC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function sU(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Ds(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ds){this.g=t!==void 0?t:e.g,Dh(this,e.j),this.s=e.s,Lh(this,e.i),Mh(this,e.m),this.l=e.l,t=e.h;var n=new Gl;n.i=t.i,t.g&&(n.g=new pu(t.g),n.h=t.h),RT(this,n),this.o=e.o}else e&&(n=String(e).match(iC))?(this.g=!!t,Dh(this,n[1]||"",!0),this.s=Sl(n[2]||""),Lh(this,n[3]||"",!0),Mh(this,n[4]),this.l=Sl(n[5]||"",!0),RT(this,n[6]||"",!0),this.o=Sl(n[7]||"")):(this.g=!!t,this.h=new Gl(null,this.g))}Ds.prototype.toString=function(){var e=[],t=this.j;t&&e.push(yl(t,DT,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(yl(t,DT,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(yl(n,n.charAt(0)=="/"?fU:cU,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",yl(n,dU)),e.join("")};function Vi(e){return new Ds(e)}function Dh(e,t,n){e.j=n?Sl(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lh(e,t,n){e.i=n?Sl(t,!0):t}function Mh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function RT(e,t,n){t instanceof Gl?(e.h=t,pU(e.h,e.g)):(n||(t=yl(t,hU)),e.h=new Gl(t,e.g))}function Mt(e,t,n){e.h.set(t,n)}function Dd(e){return Mt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function aU(e){return e instanceof Ds?Vi(e):new Ds(e,void 0)}function uU(e,t,n,r){var o=new Ds(null,void 0);return e&&Dh(o,e),t&&Lh(o,t),n&&Mh(o,n),r&&(o.l=r),o}function Sl(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function yl(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,lU),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lU(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var DT=/[#\/\?@]/g,cU=/[#\?:]/g,fU=/[#\?]/g,hU=/[#\?@]/g,dU=/#/g;function Gl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Mo(e){e.g||(e.g=new pu,e.h=0,e.i&&sU(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}we=Gl.prototype;we.add=function(e,t){Mo(this),this.i=null,e=mu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function oC(e,t){Mo(e),t=mu(e,t),Rs(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Rs(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&V_(e)))}function sC(e,t){return Mo(e),t=mu(e,t),Rs(e.g.h,t)}we.forEach=function(e,t){Mo(this),this.g.forEach(function(n,r){xk(n,function(o){e.call(t,o,r,this)},this)},this)};we.T=function(){Mo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};we.R=function(e){Mo(this);var t=[];if(typeof e=="string")sC(this,e)&&(t=IT(t,this.g.get(mu(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=IT(t,e[n])}return t};we.set=function(e,t){return Mo(this),this.i=null,e=mu(this,e),sC(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};we.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function aC(e,t,n){oC(e,t),0<n.length&&(e.i=null,e.g.set(mu(e,t),T_(n)),e.h+=n.length)}we.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function mu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function pU(e,t){t&&!e.j&&(Mo(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(oC(this,r),aC(this,o,n))},e)),e.j=t}var mU=function(){function e(t,n){this.h=t,this.g=n}return e}();function uC(e){this.l=e||gU,Ge.PerformanceNavigationTiming?(e=Ge.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Ge.g&&Ge.g.Ea&&Ge.g.Ea()&&Ge.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gU=10;function lC(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function cC(e){return e.h?1:e.g?e.g.size:0}function ny(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function U_(e,t){e.g?e.g.add(t):e.h=t}function fC(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}uC.prototype.cancel=function(){var e,t;if(this.i=hC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=Nk(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function hC(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=Nk(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return T_(e.i)}function j_(){}j_.prototype.stringify=function(e){return Ge.JSON.stringify(e,void 0)};j_.prototype.parse=function(e){return Ge.JSON.parse(e,void 0)};function vU(){this.g=new j_}function yU(e,t,n){var r=n||"";try{F_(e,function(o,s){var u=o;wc(o)&&(u=N_(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function _U(e,t){var n=new Od;if(Ge.Image){var r=new Image;r.onload=Xf(Jf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Xf(Jf,n,r,"TestLoadImage: error",!1,t),r.onabort=Xf(Jf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Xf(Jf,n,r,"TestLoadImage: timeout",!1,t),Ge.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function Jf(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function kc(e){this.l=e.$b||null,this.j=e.ib||!1}Sn(kc,D_);kc.prototype.g=function(){return new Ld(this.l,this.j)};kc.prototype.i=function(e){return function(){return e}}({});function Ld(e,t){gn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=$_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sn(Ld,gn);var $_=0;we=Ld.prototype;we.open=function(e,t){if(this.readyState!=$_)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,zl(this)};we.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ge).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};we.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cc(this)),this.readyState=$_};we.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ge.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dC(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function dC(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}we.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cc(this):zl(this),this.readyState==3&&dC(this)}};we.Ua=function(e){this.g&&(this.response=this.responseText=e,Cc(this))};we.Ta=function(e){this.g&&(this.response=e,Cc(this))};we.ha=function(){this.g&&Cc(this)};function Cc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,zl(e)}we.setRequestHeader=function(e,t){this.v.append(e,t)};we.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};we.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function zl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Ld.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var bU=Ge.JSON.parse;function rn(e){gn.call(this),this.headers=new pu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pC,this.K=this.L=!1}Sn(rn,gn);var pC="",wU=/^https?$/i,EU=["POST","PUT"];we=rn.prototype;we.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jv.g(),this.C=this.u?xT(this.u):xT(Jv),this.g.onreadystatechange=En(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){LT(this,s);return}e=n||"";var o=new pu(this.headers);r&&F_(r,function(s,u){o.set(u,s)}),r=R2(o.T()),n=Ge.FormData&&e instanceof Ge.FormData,!(0<=Pk(EU,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vC(this),0<this.B&&((this.K=TU(this.g))?(this.g.timeout=this.B,this.g.ontimeout=En(this.pa,this)):this.A=R_(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){LT(this,s)}};function TU(e){return Ba&&V2()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function IU(e){return e.toLowerCase()=="content-type"}we.pa=function(){typeof E_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Tn(this,"timeout"),this.abort(8))};function LT(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,mC(e),Md(e)}function mC(e){e.D||(e.D=!0,Tn(e,"complete"),Tn(e,"error"))}we.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Tn(this,"complete"),Tn(this,"abort"),Md(this))};we.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Md(this,!0)),rn.Z.M.call(this)};we.Fa=function(){this.s||(this.F||this.v||this.l?gC(this):this.cb())};we.cb=function(){gC(this)};function gC(e){if(e.h&&typeof E_<"u"&&(!e.C[1]||Pi(e)!=4||e.ba()!=2)){if(e.v&&Pi(e)==4)R_(e.Fa,0,e);else if(Tn(e,"readystatechange"),Pi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(iC)[1]||null;if(!s&&Ge.self&&Ge.self.location){var u=Ge.self.location.protocol;s=u.substr(0,u.length-1)}o=!wU.test(s?s.toLowerCase():"")}r=o}if(r)Tn(e,"complete"),Tn(e,"success");else{e.m=6;try{var l=2<Pi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",mC(e)}}finally{Md(e)}}}}function Md(e,t){if(e.g){vC(e);var n=e.g,r=e.C[0]?Nh:null;e.g=null,e.C=null,t||Tn(e,"ready");try{n.onreadystatechange=r}catch{}}}function vC(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ge.clearTimeout(e.A),e.A=null)}function Pi(e){return e.g?e.g.readyState:0}we.ba=function(){try{return 2<Pi(this)?this.g.status:-1}catch{return-1}};we.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};we.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),bU(t)}};function MT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case pC:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}we.Da=function(){return this.m};we.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function SU(e){var t="";return I_(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function B_(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=SU(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Mt(e,t,n))}function ll(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yC(e){this.za=0,this.l=[],this.h=new Od,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ll("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ll("baseRetryDelayMs",5e3,e),this.$a=ll("retryDelaySeedMs",1e4,e),this.Ya=ll("forwardChannelMaxRetries",2,e),this.ra=ll("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new uC(e&&e.concurrentRequestLimit),this.Ca=new vU,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}we=yC.prototype;we.ma=8;we.G=1;function q_(e){if(_C(e),e.G==3){var t=e.V++,n=Vi(e.F);Mt(n,"SID",e.J),Mt(n,"RID",t),Mt(n,"TYPE","terminate"),Oc(e,n),t=new Sc(e,e.h,t,void 0),t.K=2,t.v=Dd(Vi(n)),n=!1,Ge.navigator&&Ge.navigator.sendBeacon&&(n=Ge.navigator.sendBeacon(t.v.toString(),"")),!n&&Ge.Image&&(new Image().src=t.v,n=!0),n||(t.g=kC(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ac(t)}SC(e)}we.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Fd(e){e.g&&(W_(e),e.g.cancel(),e.g=null)}function _C(e){Fd(e),e.u&&(Ge.clearTimeout(e.u),e.u=null),Fh(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Ge.clearTimeout(e.m),e.m=null)}function ov(e,t){e.l.push(new mU(e.Za++,t)),e.G==3&&Vd(e)}function Vd(e){lC(e.i)||e.m||(e.m=!0,P_(e.Ha,e),e.C=0)}function AU(e,t){return cC(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Tc(En(e.Ha,e,t),IC(e,e.C)),e.C++,!0)}we.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Sc(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=Rk(n),Dk(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=bC(this,t,r),o=Vi(this.F),Mt(o,"RID",e),Mt(o,"CVER",22),this.D&&Mt(o,"X-HTTP-Session-Id",this.D),Oc(this,o),this.o&&n&&B_(o,this.o,n),U_(this.i,t),this.Ra&&Mt(o,"TYPE","init"),this.ja?(Mt(o,"$req",r),Mt(o,"SID","null"),t.$=!0,ey(t,o,null)):ey(t,o,r),this.G=2}}else this.G==3&&(e?FT(this,e):this.l.length==0||lC(this.i)||FT(this))};function FT(e,t){var n;t?n=t.m:n=e.V++;var r=Vi(e.F);Mt(r,"SID",e.J),Mt(r,"RID",n),Mt(r,"AID",e.U),Oc(e,r),e.o&&e.s&&B_(r,e.o,e.s),n=new Sc(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=bC(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),U_(e.i,n),ey(n,r,t)}function Oc(e,t){e.j&&F_({},function(n,r){Mt(t,r,n)})}function bC(e,t,n){n=Math.min(e.l.length,n);var r=e.j?En(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,c=0;c<n;c++){var d=o[c].h,g=o[c].g;if(d-=s,0>d)s=Math.max(0,o[c].h-100),l=!1;else try{yU(g,u,"req"+d+"_")}catch{r&&r(g)}}if(l){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function wC(e){e.g||e.u||(e.Y=1,P_(e.Ga,e),e.A=0)}function H_(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Tc(En(e.Ga,e),IC(e,e.A)),e.A++,!0)}we.Ga=function(){if(this.u=null,EC(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Tc(En(this.bb,this),e)}};we.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,zn(10),Fd(this),EC(this))};function W_(e){e.B!=null&&(Ge.clearTimeout(e.B),e.B=null)}function EC(e){e.g=new Sc(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=Vi(e.oa);Mt(t,"RID","rpc"),Mt(t,"SID",e.J),Mt(t,"CI",e.N?"0":"1"),Mt(t,"AID",e.U),Oc(e,t),Mt(t,"TYPE","xmlhttp"),e.o&&e.s&&B_(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Dd(Vi(t)),n.s=null,n.U=!0,eC(n,e)}we.ab=function(){this.v!=null&&(this.v=null,Fd(this),H_(this),zn(19))};function Fh(e){e.v!=null&&(Ge.clearTimeout(e.v),e.v=null)}function TC(e,t){var n=null;if(e.g==t){Fh(e),W_(e),e.g=null;var r=2}else if(ny(e.i,t))n=t.D,fC(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=Nd(),Tn(r,new Xk(r,n)),Vd(e)}else wC(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&AU(e,t)||r==2&&H_(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:ws(e,5);break;case 4:ws(e,10);break;case 3:ws(e,6);break;default:ws(e,2)}}}function IC(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function ws(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=En(e.jb,e);n||(n=new Ds("//www.google.com/images/cleardot.gif"),Ge.location&&Ge.location.protocol=="http"||Dh(n,"https"),Dd(n)),_U(n.toString(),r)}else zn(2);e.G=0,e.j&&e.j.va(t),SC(e),_C(e)}we.jb=function(e){e?(this.h.info("Successfully pinged google.com"),zn(2)):(this.h.info("Failed to ping google.com"),zn(1))};function SC(e){e.G=0,e.I=-1,e.j&&((hC(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,T_(e.l),e.l.length=0),e.j.ua())}function AC(e,t,n){var r=aU(n);if(r.i!="")t&&Lh(r,t+"."+r.i),Mh(r,r.m);else{var o=Ge.location;r=uU(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&I_(e.aa,function(s,u){Mt(r,u,s)}),t=e.D,n=e.sa,t&&n&&Mt(r,t,n),Mt(r,"VER",e.ma),Oc(e,r),r}function kC(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new rn(new kc({ib:!0})):new rn(e.qa),t.L=e.H,t}function CC(){}we=CC.prototype;we.xa=function(){};we.wa=function(){};we.va=function(){};we.ua=function(){};we.Oa=function(){};function Vh(){if(Ba&&!(10<=Number(U2)))throw Error("Environmental error: no available transport.")}Vh.prototype.g=function(e,t){return new Sr(e,t)};function Sr(e,t){gn.call(this),this.g=new yC(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ph(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ph(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new gu(this)}Sn(Sr,gn);Sr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),P_(En(e.hb,e,t))),zn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=AC(e,null,e.W),Vd(e)};Sr.prototype.close=function(){q_(this.g)};Sr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,ov(this.g,t)}else this.v?(t={},t.__data__=N_(e),ov(this.g,t)):ov(this.g,e)};Sr.prototype.M=function(){this.g.j=null,delete this.j,q_(this.g),delete this.g,Sr.Z.M.call(this)};function OC(e){L_.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Sn(OC,L_);function NC(){M_.call(this),this.status=1}Sn(NC,M_);function gu(e){this.g=e}Sn(gu,CC);gu.prototype.xa=function(){Tn(this.g,"a")};gu.prototype.wa=function(e){Tn(this.g,new OC(e))};gu.prototype.va=function(e){Tn(this.g,new NC)};gu.prototype.ua=function(){Tn(this.g,"b")};Vh.prototype.createWebChannel=Vh.prototype.g;Sr.prototype.send=Sr.prototype.u;Sr.prototype.open=Sr.prototype.m;Sr.prototype.close=Sr.prototype.close;Pd.NO_ERROR=0;Pd.TIMEOUT=8;Pd.HTTP_ERROR=6;Qk.COMPLETE="complete";Jk.EventType=Ic;Ic.OPEN="a";Ic.CLOSE="b";Ic.ERROR="c";Ic.MESSAGE="d";gn.prototype.listen=gn.prototype.N;rn.prototype.listenOnce=rn.prototype.O;rn.prototype.getLastError=rn.prototype.La;rn.prototype.getLastErrorCode=rn.prototype.Da;rn.prototype.getStatus=rn.prototype.ba;rn.prototype.getResponseJson=rn.prototype.Qa;rn.prototype.getResponseText=rn.prototype.ga;rn.prototype.send=rn.prototype.ea;var kU=function(){return new Vh},CU=function(){return Nd()},sv=Pd,OU=Qk,NU=$s,VT={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},PU=kc,Zf=Jk,xU=rn;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();wr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ie=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Le(t,e),t}(Error),Yr=new Ak("@firebase/firestore");function ry(){return Yr.logLevel}function le(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Yr.logLevel<=ft.DEBUG){var r=t.map(K_);Yr.debug.apply(Yr,Lt(["Firestore (8.10.1): "+e],r))}}function tn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Yr.logLevel<=ft.ERROR){var r=t.map(K_);Yr.error.apply(Yr,Lt(["Firestore (8.10.1): "+e],r))}}function Uh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Yr.logLevel<=ft.WARN){var r=t.map(K_);Yr.warn.apply(Yr,Lt(["Firestore (8.10.1): "+e],r))}}function K_(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw tn(t),new Error(t)}function $e(e,t){e||Oe()}function ge(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RU(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PC=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=RU(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function ot(e,t){return e<t?-1:e>t?1:0}function qa(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function xC(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ie(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?ot(this.nanoseconds,t.nanoseconds):ot(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),nt=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ur(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function RC(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DC=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&Oe(),r===void 0?r=t.length-n:r>t.length-n&&Oe(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),dt=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Le(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new ie(K.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(c){return c.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(DC),DU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Zr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Le(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return DU.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var c=n[s];if(c==="\\"){if(s+1===n.length)throw new ie(K.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ie(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(o+=c,s++):(u(),s++)}if(u(),l)throw new ie(K.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(DC),Ha=function(){function e(t){this.fields=t,t.sort(Zr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return qa(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),cr=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return ot(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();cr.EMPTY_BYTE_STRING=new cr("");var LU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(e){if($e(!!e),typeof e=="string"){var t=0,n=LU.exec(e);if($e(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:en(e.seconds),nanos:en(e.nanos)}}function en(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Wa(e){return typeof e=="string"?cr.fromBase64String(e):cr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function LC(e){var t=e.mapValue.fields.__previous_value__;return G_(t)?LC(t):t}function Yl(e){var t=No(e.mapValue.fields.__local_write_time__.timestampValue);return new ur(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(e){return e==null}function jh(e){return e===0&&1/e==-1/0}function MC(e){return typeof e=="number"&&Number.isInteger(e)&&!jh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(dt.fromString(t))},e.fromName=function(t){return new e(dt.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&dt.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return dt.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new dt(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?G_(e)?4:10:Oe()}function _i(e,t){var n=Ls(e);if(n!==Ls(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Yl(e).isEqual(Yl(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=No(r.timestampValue),u=No(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Wa(r.bytesValue).isEqual(Wa(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return en(r.geoPointValue.latitude)===en(o.geoPointValue.latitude)&&en(r.geoPointValue.longitude)===en(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return en(r.integerValue)===en(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=en(r.doubleValue),u=en(o.doubleValue);return s===u?jh(s)===jh(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return qa(e.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(UT(s)!==UT(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!_i(s[l],u[l])))return!1;return!0}(e,t);default:return Oe()}}function Xl(e,t){return(e.values||[]).find(function(n){return _i(n,t)})!==void 0}function Ka(e,t){var n=Ls(e),r=Ls(t);if(n!==r)return ot(n,r);switch(n){case 0:return 0;case 1:return ot(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=en(o.integerValue||o.doubleValue),l=en(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return jT(e.timestampValue,t.timestampValue);case 4:return jT(Yl(e),Yl(t));case 5:return ot(e.stringValue,t.stringValue);case 6:return function(o,s){var u=Wa(o),l=Wa(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),c=0;c<u.length&&c<l.length;c++){var d=ot(u[c],l[c]);if(d!==0)return d}return ot(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=ot(en(o.latitude),en(s.latitude));return u!==0?u:ot(en(o.longitude),en(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],c=0;c<u.length&&c<l.length;++c){var d=Ka(u[c],l[c]);if(d)return d}return ot(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),c=s.fields||{},d=Object.keys(c);l.sort(),d.sort();for(var g=0;g<l.length&&g<d.length;++g){var h=ot(l[g],d[g]);if(h!==0)return h;var p=Ka(u[l[g]],c[d[g]]);if(p!==0)return p}return ot(l.length,d.length)}(e.mapValue,t.mapValue);default:throw Oe()}}function jT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ot(e,t);var n=No(e),r=No(t),o=ot(n.seconds,r.seconds);return o!==0?o:ot(n.nanos,r.nanos)}function z_(e){return iy(e)}function iy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=No(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Wa(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Ne.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,l=r.values||[];u<l.length;u++)s?s=!1:o+=",",o+=iy(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var c=l[u];s?s=!1:o+=",",o+=c+":"+iy(r.fields[c])}return o+"}"}(e.mapValue):Oe();var t,n}function $h(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function oy(e){return!!e&&"integerValue"in e}function Y_(e){return!!e&&"arrayValue"in e}function $T(e){return!!e&&"nullValue"in e}function BT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gh(e){return!!e&&"mapValue"in e}function Al(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Bs(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Al(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Al(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var br=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!gh(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Al(n)},e.prototype.setAll=function(t){var n=this,r=Zr.emptyPath(),o={},s=[];t.forEach(function(l,c){if(!r.isImmediateParentOf(c)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=c.popLast()}l?o[c.lastSegment()]=Al(l):s.push(c.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return _i(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){Bs(n,function(l,c){return t[l]=c});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Al(this.value))},e}();function FC(e){var t=[];return Bs(e.fields,function(n,r){var o=new Zr([n]);if(gh(r)){var s=FC(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var c=l[u];t.push(o.child(c))}}else t.push(o)}),new Ha(t)}var Mn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,nt.min(),br.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,br.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,br.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=br.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=br.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),MU=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new MU(e,t,n,r,o,s,u)}function Nc(e){var t=ge(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+z_(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),qs(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=qh(t.startAt)),t.endAt&&(n+="|ub:",n+=qh(t.endAt)),t.h=n}return t.h}function Ud(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!HU(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!_i(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!WT(e.startAt,t.startAt)&&WT(e.endAt,t.endAt)}function Bh(e){return Ne.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Er=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Le(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new FU(n,r,o):r==="array-contains"?new jU(n,o):r==="in"?new $U(n,o):r==="not-in"?new BU(n,o):r==="array-contains-any"?new qU(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new VU(n,o):new UU(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(Ka(r,this.value)):r!==null&&Ls(this.value)===Ls(r)&&this.m(Ka(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return Oe()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),FU=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Ne.fromName(o.referenceValue),s}return Le(t,e),t.prototype.matches=function(n){var r=Ne.comparator(n.key,this.key);return this.m(r)},t}(Er),VU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=VC("in",r),o}return Le(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(Er),UU=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=VC("not-in",r),o}return Le(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(Er);function VC(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Ne.fromName(r.referenceValue)})}var jU=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Le(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Y_(r)&&Xl(r.arrayValue,this.value)},t}(Er),$U=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Le(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&Xl(this.value.arrayValue,r)},t}(Er),BU=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Le(t,e),t.prototype.matches=function(n){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!Xl(this.value.arrayValue,r)},t}(Er),qU=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Le(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!Y_(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return Xl(r.value.arrayValue,s)})},t}(Er),Ql=function(e,t){this.position=e,this.before=t};function qh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return z_(t)}).join(",")}var Ma=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function HU(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function HT(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Ne.comparator(Ne.fromName(u.referenceValue),n.key):Ka(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function WT(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!_i(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $i=function(e,t,n,r,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function UC(e,t,n,r,o,s,u,l){return new $i(e,t,n,r,o,s,u,l)}function Pc(e){return new $i(e)}function vh(e){return!qs(e.limit)&&e.limitType==="F"}function Hh(e){return!qs(e.limit)&&e.limitType==="L"}function X_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Q_(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function J_(e){return e.collectionGroup!==null}function Ga(e){var t=ge(e);if(t.p===null){t.p=[];var n=Q_(t),r=X_(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Ma(n)),t.p.push(new Ma(Zr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ma(Zr.keyField(),c))}}}return t.p}function bi(e){var t=ge(e);if(!t.T)if(t.limitType==="F")t.T=qT(t.path,t.collectionGroup,Ga(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=Ga(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Ma(s.field,u))}var l=t.endAt?new Ql(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Ql(t.startAt.position,!t.startAt.before):null;t.T=qT(t.path,t.collectionGroup,n,t.filters,t.limit,l,c)}return t.T}function jC(e,t,n){return new $i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xc(e,t){return Ud(bi(e),bi(t))&&e.limitType===t.limitType}function $C(e){return Nc(bi(e))+"|lt:"+e.limitType}function sy(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+z_(o.value);var o}).join(", ")+"]"),qs(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+qh(t.startAt)),t.endAt&&(n+=", endAt: "+qh(t.endAt)),"Target("+n+")"}(bi(e))+"; limitType="+e.limitType+")"}function Rc(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Ne.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!HT(n.startAt,Ga(n),r))&&(!n.endAt||!HT(n.endAt,Ga(n),r))}(e,t)}function BC(e){return function(t,n){for(var r=!1,o=0,s=Ga(e);o<s.length;o++){var u=s[o],l=WU(u,t,n);if(l!==0)return l;r=r||u.field.isKeyField()}return 0}}function WU(e,t,n){var r=e.field.isKeyField()?Ne.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),c=u.data.field(o);return l!==null&&c!==null?Ka(l,c):Oe()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Oe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(t)?"-0":t}}function HC(e){return{integerValue:""+e}}function WC(e,t){return MC(t)?HC(t):qC(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jd=function(){this._=void 0};function KU(e,t,n){return e instanceof za?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Ms?GC(e,t):e instanceof Fs?zC(e,t):function(r,o){var s=KC(r,o),u=KT(s)+KT(r.A);return oy(s)&&oy(r.A)?HC(u):qC(r.R,u)}(e,t)}function GU(e,t,n){return e instanceof Ms?GC(e,t):e instanceof Fs?zC(e,t):n}function KC(e,t){return e instanceof Ya?oy(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var za=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Le(t,e),t}(jd),Ms=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Le(t,e),t}(jd);function GC(e,t){for(var n=YC(t),r=function(u){n.some(function(l){return _i(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Fs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Le(t,e),t}(jd);function zC(e,t){for(var n=YC(t),r=function(u){n=n.filter(function(l){return!_i(l,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var Ya=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Le(t,e),t}(jd);function KT(e){return en(e.integerValue||e.doubleValue)}function YC(e){return Y_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dc=function(e,t){this.field=e,this.transform=t},zU=function(e,t){this.version=e,this.transformResults=t},Dn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function yh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var $d=function(){};function YU(e,t,n){e instanceof Lc?function(r,o,s){var u=r.value.clone(),l=YT(r.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof Fo?function(r,o,s){if(yh(r.precondition,o)){var u=YT(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(XC(r)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function ay(e,t,n){e instanceof Lc?function(r,o,s){if(yh(r.precondition,o)){var u=r.value.clone(),l=XT(r.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(zT(o),u).setHasLocalMutations()}}(e,t,n):e instanceof Fo?function(r,o,s){if(yh(r.precondition,o)){var u=XT(r.fieldTransforms,s,o),l=o.data;l.setAll(XC(r)),l.setAll(u),o.convertToFoundDocument(zT(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){yh(r.precondition,o)&&o.convertToNoDocument(nt.min())}(e,t)}function XU(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),l=KC(s.transform,u||null);l!=null&&(n==null&&(n=br.empty()),n.set(s.field,l))}return n||null}function GT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&qa(n,r,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(c,d){return c instanceof Ms&&d instanceof Ms||c instanceof Fs&&d instanceof Fs?qa(c.elements,d.elements,_i):c instanceof Ya&&d instanceof Ya?_i(c.A,d.A):c instanceof za&&d instanceof za}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function zT(e){return e.isFoundDocument()?e.version:nt.min()}var Lc=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Le(t,e),t}($d),Fo=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return Le(t,e),t}($d);function XC(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function YT(e,t,n){var r=new Map;$e(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);r.set(s.field,GU(u,l,n[o]))}return r}function XT(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,c=n.data.field(u.field);r.set(u.field,KU(l,c,t))}return r}var Jt,at,Mc=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Le(t,e),t}($d),Z_=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Le(t,e),t}($d),QU=function(e){this.count=e};function QC(e){switch(e){case K.OK:return Oe();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return Oe()}}function JC(e){if(e===void 0)return tn("GRPC error has no .code"),K.UNKNOWN;switch(e){case Jt.OK:return K.OK;case Jt.CANCELLED:return K.CANCELLED;case Jt.UNKNOWN:return K.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return K.INTERNAL;case Jt.UNAVAILABLE:return K.UNAVAILABLE;case Jt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Jt.NOT_FOUND:return K.NOT_FOUND;case Jt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Jt.ABORTED:return K.ABORTED;case Jt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Jt.DATA_LOSS:return K.DATA_LOSS;default:return Oe()}}(at=Jt||(Jt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fn=function(){function e(t,n){this.comparator=t,this.root=n||ho.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ho.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ho.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new eh(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new eh(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new eh(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new eh(this.root,t,this.comparator,!0)},e}(),eh=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),ho=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Oe();var t=this.left.check();if(t!==this.right.check())throw Oe();return t+(this.isRed()?0:1)},e}();ho.EMPTY=null,ho.RED=!0,ho.BLACK=!1,ho.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Oe()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new ho(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn=function(){function e(t){this.comparator=t,this.data=new Fn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new QT(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new QT(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),QT=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),JU=new Fn(Ne.comparator);function Xr(){return JU}var ZU=new Fn(Ne.comparator);function uy(){return ZU}var ej=new Fn(Ne.comparator);function tj(){return ej}var nj=new fn(Ne.comparator);function kt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=nj,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var rj=new fn(ot);function Bd(){return rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eb=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,tb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(nt.min(),r,Bd(),Xr(),kt())},e}(),tb=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(cr.EMPTY_BYTE_STRING,n,kt(),kt(),kt())},e}(),_h=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},ZC=function(e,t){this.targetId=e,this.V=t},eO=function(e,t,n,r){n===void 0&&(n=cr.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},JT=function(){function e(){this.S=0,this.D=eI(),this.C=cr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=kt(),n=kt(),r=kt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Oe()}}),new tb(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=eI()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ij=function(){function e(t){this.W=t,this.G=new Map,this.H=Xr(),this.J=ZT(),this.Y=new fn(ot)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:Oe()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Bh(s))if(r===0){var u=new Ne(s.path);this.tt(n,u,Mn.newNoDocument(u,nt.min()))}else $e(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,l){var c=n.ot(l);if(c){if(u.current&&Bh(c.target)){var d=new Ne(c.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,Mn.newNoDocument(d,t))}u.$&&(r.set(l,u.M()),u.L())}});var o=kt();this.J.forEach(function(u,l){var c=!0;l.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(c=!1,!1)}),c&&(o=o.add(u))});var s=new eb(t,r,this.Y,this.H,o);return this.H=Xr(),this.J=ZT(),this.Y=new fn(ot),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new JT,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new fn(ot),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||le("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new JT),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function ZT(){return new Fn(Ne.comparator)}function eI(){return new Fn(Ne.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oj={asc:"ASCENDING",desc:"DESCENDING"},sj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aj=function(e,t){this.databaseId=e,this.I=t};function Jl(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function tO(e,t){return e.I?t.toBase64():t.toUint8Array()}function uj(e,t){return Jl(e,t.toTimestamp())}function Yn(e){return $e(!!e),nt.fromTimestamp(function(t){var n=No(t);return new ur(n.seconds,n.nanos)}(e))}function nb(e,t){return function(n){return new dt(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function nO(e){var t=dt.fromString(e);return $e(lO(t)),t}function Zl(e,t){return nb(e.databaseId,t.path)}function Ri(e,t){var n=nO(t);if(n.get(1)!==e.databaseId.projectId)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ie(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ne(iO(n))}function ly(e,t){return nb(e.databaseId,t)}function rO(e){var t=nO(e);return t.length===4?dt.emptyPath():iO(t)}function ec(e){return new dt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function iO(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function tI(e,t,n){return{name:Zl(e,t),fields:n.value.mapValue.fields}}function lj(e,t,n){var r=Ri(e,t.name),o=Yn(t.updateTime),s=new br({mapValue:{fields:t.fields}}),u=Mn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Wh(e,t){var n;if(t instanceof Lc)n={update:tI(e,t.key,t.value)};else if(t instanceof Mc)n={delete:Zl(e,t.key)};else if(t instanceof Fo)n={update:tI(e,t.key,t.data),updateMask:pj(t.fieldMask)};else{if(!(t instanceof Z_))return Oe();n={verify:Zl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof za)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ms)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Fs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ya)return{fieldPath:s.field.canonicalString(),increment:u.A};throw Oe()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:uj(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Oe()}(e,t.precondition)),n}function nI(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?Dn.updateTime(Yn(d.updateTime)):d.exists!==void 0?Dn.exists(d.exists):Dn.none()}(t.currentDocument):Dn.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(g,h){var p=null;if("setToServerValue"in h)$e(h.setToServerValue==="REQUEST_TIME"),p=new za;else if("appendMissingElements"in h){var v=h.appendMissingElements.values||[];p=new Ms(v)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];p=new Fs(_)}else"increment"in h?p=new Ya(g,h.increment):Oe();var w=Zr.fromServerFormat(h.fieldPath);return new Dc(w,p)}(e,d)}):[];if(t.update){t.update.name;var o=Ri(e,t.update.name),s=new br({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(d){var g=d.fieldPaths||[];return new Ha(g.map(function(h){return Zr.fromServerFormat(h)}))}(t.updateMask);return new Fo(o,s,u,n,r)}return new Lc(o,s,n,r)}if(t.delete){var l=Ri(e,t.delete);return new Mc(l,n)}if(t.verify){var c=Ri(e,t.verify);return new Z_(c,n)}return Oe()}function oO(e,t){return{documents:[ly(e,t.path)]}}function sO(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=ly(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ly(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var c=l.map(function(d){return function(g){if(g.op==="=="){if(BT(g.value))return{unaryFilter:{field:ba(g.field),op:"IS_NAN"}};if($T(g.value))return{unaryFilter:{field:ba(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(BT(g.value))return{unaryFilter:{field:ba(g.field),op:"IS_NOT_NAN"}};if($T(g.value))return{unaryFilter:{field:ba(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(g.field),op:fj(g.op),value:g.value}}}(d)});return c.length===1?c[0]:{compositeFilter:{op:"AND",filters:c}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(c){return function(d){return{field:ba(d.field),direction:cj(d.dir)}}(c)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,c){return l.I||qs(c)?c:{value:c}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=rI(t.startAt)),t.endAt&&(n.structuredQuery.endAt=rI(t.endAt)),n}function aO(e){var t=rO(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){$e(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=uO(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(p){return new Ma(Na(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h)}));var c=null;n.limit&&(c=function(h){var p;return qs(p=typeof h=="object"?h.value:h)?null:p}(n.limit));var d=null;n.startAt&&(d=iI(n.startAt));var g=null;return n.endAt&&(g=iI(n.endAt)),UC(t,o,l,u,c,"F",d,g)}function uO(e){return e?e.unaryFilter!==void 0?[dj(e)]:e.fieldFilter!==void 0?[hj(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return uO(t)}).reduce(function(t,n){return t.concat(n)}):Oe():[]}function rI(e){return{before:e.before,values:e.position}}function iI(e){var t=!!e.before,n=e.values||[];return new Ql(n,t)}function cj(e){return oj[e]}function fj(e){return sj[e]}function ba(e){return{fieldPath:e.canonicalString()}}function Na(e){return Zr.fromServerFormat(e.fieldPath)}function hj(e){return Er.create(Na(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Oe()}}(e.fieldFilter.op),e.fieldFilter.value)}function dj(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Na(e.unaryFilter.field);return Er.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Na(e.unaryFilter.field);return Er.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Na(e.unaryFilter.field);return Er.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Na(e.unaryFilter.field);return Er.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Oe()}}function pj(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function lO(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=oI(t)),t=mj(e.get(n),t);return oI(t)}function mj(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function oI(e){return e+""}function xi(e){var t=e.length;if($e(t>=2),t===2)return $e(e.charAt(0)===""&&e.charAt(1)===""),dt.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&Oe(),e.charAt(u+1)){case"":var l=e.substring(s,u),c=void 0;o.length===0?c=l:(c=o+=l,o=""),r.push(c);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:Oe()}s=u+2}return new dt(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gj=function(e,t){this.seconds=e,this.nanoseconds=t},yr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};yr.store="owner",yr.key="owner";var To=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};To.store="mutationQueues",To.keyPath="userId";var Ot=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};Ot.store="mutations",Ot.keyPath="batchId",Ot.userMutationsIndex="userMutationsIndex",Ot.userMutationsKeyPath=["userId","batchId"];var Pn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Qr(n)]},e.key=function(t,n,r){return[t,Qr(n),r]},e}();Pn.store="documentMutations",Pn.PLACEHOLDER=new Pn;var vj=function(e,t){this.path=e,this.readTime=t},yj=function(e,t){this.path=e,this.version=t},qt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};qt.store="remoteDocuments",qt.readTimeIndex="readTimeIndex",qt.readTimeIndexPath="readTime",qt.collectionReadTimeIndex="collectionReadTimeIndex",qt.collectionReadTimeIndexPath=["parentPath","readTime"];var di=function(e){this.byteSize=e};di.store="remoteDocumentGlobal",di.key="remoteDocumentGlobalKey";var ar=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};ar.store="targets",ar.keyPath="targetId",ar.queryTargetsIndexName="queryTargetsIndex",ar.queryTargetsKeyPath=["canonicalId","targetId"];var bn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};bn.store="targetDocuments",bn.keyPath=["targetId","path"],bn.documentTargetsIndex="documentTargetsIndex",bn.documentTargetsKeyPath=["path","targetId"];var _r=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};_r.key="targetGlobalKey",_r.store="targetGlobal";var ks=function(e,t){this.collectionId=e,this.parent=t};ks.store="collectionParents",ks.keyPath=["collectionId","parent"];var Di=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Di.store="clientMetadata",Di.keyPath="clientId";var Xa=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Xa.store="bundles",Xa.keyPath="bundleId";var Qa=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Qa.store="namedQueries",Qa.keyPath="name";var _j=Lt(Lt([],Lt(Lt([],Lt(Lt([],Lt(Lt([],[To.store,Ot.store,Pn.store,qt.store,ar.store,yr.store,_r.store,bn.store]),[Di.store])),[di.store])),[ks.store])),[Xa.store,Qa.store]),cO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fO=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),fr=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ae=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(c){return r(c)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),hO=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new fr,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new kl(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=rb(o.target.error);r.ft.reject(new kl(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new kl(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(le("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new wj(n)},e}(),Ja=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(xs())===12.2&&tn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return le("SimpleDb","Removing database:",t),ys(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=xs(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return Q(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(le("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(c){var d=c.target.result;s(d)},l.onblocked=function(){u(new kl(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(c){var d=c.target.error;d.name==="VersionError"?u(new ie(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new kl(t,d))},l.onupgradeneeded=function(c){le("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',c.oldVersion);var d=c.target.result;r.wt.Rt(d,l.transaction,c.oldVersion,r.version).next(function(){le("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return Z(this,void 0,void 0,function(){var s,u,l,c,d;return Q(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,l=function(){var h,p,v,_,w;return Q(this,function(S){switch(S.label){case 0:++u,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,c.At(t)];case 2:return c.db=S.sent(),h=hO.open(c.db,t,s?"readonly":"readwrite",r),p=o(h).catch(function(b){return h.abort(b),ae.reject(b)}).toPromise(),v={},p.catch(function(){}),[4,h.dt];case 3:return[2,(v.value=(S.sent(),p),v)];case 4:return _=S.sent(),w=_.name!=="FirebaseError"&&u<3,le("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),c.close(),w?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},c=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),bj=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ys(this.Pt.delete())},e}(),kl=function(e){function t(n,r){var o=this;return(o=e.call(this,K.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Le(t,e),t}(ie);function Hs(e){return e.name==="IndexedDbTransactionError"}var wj=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(le("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(le("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),ys(r)},e.prototype.add=function(t){return le("SimpleDb","ADD",this.store.name,t,t),ys(this.store.add(t))},e.prototype.get=function(t){var n=this;return ys(this.store.get(t)).next(function(r){return r===void 0&&(r=null),le("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return le("SimpleDb","DELETE",this.store.name,t),ys(this.store.delete(t))},e.prototype.count=function(){return le("SimpleDb","COUNT",this.store.name),ys(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){le("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ae(function(r,o){n.onerror=function(s){var u=rb(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ae(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var c=new bj(l),d=n(l.primaryKey,l.value,c);if(d instanceof ae){var g=d.catch(function(h){return c.done(),ae.reject(h)});r.push(g)}c.isDone?o():c.Dt===null?l.continue():l.continue(c.Dt)}else o()}}).next(function(){return ae.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ys(e){return new ae(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=rb(r.target.error);n(o)}})}var sI=!1;function rb(e){var t=Ja._t(xs());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ie("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return sI||(sI=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aI=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Le(t,e),t}(fO);function hr(e,t){var n=ge(e);return Ja.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ib=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&YU(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&ay(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&ay(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(nt.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},kt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,function(n,r){return GT(n,r)})&&qa(this.baseMutations,t.baseMutations,function(n,r){return GT(n,r)})},e}(),Ej=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){$e(t.mutations.length===r.length);for(var o=tj(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),qd=function(){function e(t,n,r,o,s,u,l){s===void 0&&(s=nt.min()),u===void 0&&(u=nt.min()),l===void 0&&(l=cr.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),dO=function(e){this.Lt=e};function cy(e,t){if(t.document)return lj(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Ne.fromSegments(t.noDocument.path),r=eu(t.noDocument.readTime),o=Mn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Ne.fromSegments(t.unknownDocument.path);return r=eu(t.unknownDocument.version),Mn.newUnknownDocument(s,r)}return Oe()}function uI(e,t,n){var r=ob(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,p){return{name:Zl(h,p.key),fields:p.data.value.mapValue.fields,updateTime:Jl(h,p.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new qt(null,null,s,u,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),c=Za(t.version);return u=t.hasCommittedMutations,new qt(null,new vj(l,c),null,u,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),g=Za(t.version);return new qt(new yj(d,g),null,null,!0,r,o)}return Oe()}function ob(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pO(e){var t=new ur(e[0],e[1]);return nt.fromTimestamp(t)}function Za(e){var t=e.toTimestamp();return new gj(t.seconds,t.nanoseconds)}function eu(e){var t=new ur(e.seconds,e.nanoseconds);return nt.fromTimestamp(t)}function Sa(e,t){for(var n=(t.baseMutations||[]).map(function(c){return nI(e.Lt,c)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(c){return nI(e.Lt,c)}),l=ur.fromMillis(t.localWriteTimeMs);return new ib(t.batchId,l,n,u)}function _l(e){var t,n,r=eu(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?eu(e.lastLimboFreeSnapshotVersion):nt.min();return e.query.documents!==void 0?($e((n=e.query).documents.length===1),t=bi(Pc(rO(n.documents[0])))):t=function(s){return bi(aO(s))}(e.query),new qd(t,e.targetId,0,e.lastListenSequenceNumber,r,o,cr.fromBase64String(e.resumeToken))}function mO(e,t){var n,r=Za(t.snapshotVersion),o=Za(t.lastLimboFreeSnapshotVersion);n=Bh(t.target)?oO(e.Lt,t.target):sO(e.Lt,t.target);var s=t.resumeToken.toBase64();return new ar(t.targetId,Nc(t.target),r,s,t.sequenceNumber,o,n)}function gO(e){var t=aO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?jC(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tj=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return lI(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:eu(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return lI(t).put({bundleId:(r=n).id,createTime:Za(Yn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return cI(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:gO(o.bundledQuery),readTime:eu(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return cI(t).put(function(r){return{name:r.name,readTime:Za(Yn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function lI(e){return hr(e,Xa.store)}function cI(e){return hr(e,Qa.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ij=function(){function e(){this.Bt=new sb}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ae.resolve()},e.prototype.getCollectionParents=function(t,n){return ae.resolve(this.Bt.getEntries(n))},e}(),sb=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new fn(dt.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new fn(dt.comparator)).toArray()},e}(),Sj=function(){function e(){this.qt=new sb}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:Qr(s)};return fI(t).put(u)}return ae.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[xC(n),""],!1,!0);return fI(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var c=l[u];if(c.collectionId!==n)break;r.push(xi(c.parent))}return r})},e}();function fI(e){return hr(e,ks.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ci=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(e,t,n){var r=e.store(Ot.store),o=e.store(Pn.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,c=r.$t({range:u},function(_,w,S){return l++,S.delete()});s.push(c.next(function(){$e(l===1)}));for(var d=[],g=0,h=n.mutations;g<h.length;g++){var p=h[g],v=Pn.key(t,p.key.path,n.batchId);s.push(o.delete(v)),d.push(p.key)}return ae.waitFor(s).next(function(){return d})}function Kh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Oe();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(41943040,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);var Aj=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return $e(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return no(t).$t({index:Ot.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=Aa(t),l=no(t);return l.add({}).next(function(c){$e(typeof c=="number");for(var d=new ib(c,n,r,o),g=function(b,k,R){var C=R.baseMutations.map(function(L){return Wh(b.Lt,L)}),U=R.mutations.map(function(L){return Wh(b.Lt,L)});return new Ot(k,R.batchId,R.localWriteTime.toMillis(),C,U)}(s.R,s.userId,d),h=[],p=new fn(function(b,k){return ot(b.canonicalString(),k.canonicalString())}),v=0,_=o;v<_.length;v++){var w=_[v],S=Pn.key(s.userId,w.key.path,c);p=p.add(w.key.path.popLast()),h.push(l.put(g)),h.push(u.put(S,Pn.PLACEHOLDER))}return p.forEach(function(b){h.push(s.Ut.addToCollectionParentIndex(t,b))}),t.addOnCommittedListener(function(){s.Kt[c]=d.keys()}),ae.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return no(t).get(n).next(function(o){return o?($e(o.userId===r.userId),Sa(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ae.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return no(t).$t({index:Ot.userMutationsIndex,range:s},function(l,c,d){c.userId===r.userId&&($e(c.batchId>=o),u=Sa(r.R,c)),d.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return no(t).$t({index:Ot.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return no(t).Nt(Ot.userMutationsIndex,r).next(function(o){return o.map(function(s){return Sa(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=Pn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return Aa(t).$t({range:s},function(l,c,d){var g=l[0],h=l[1],p=l[2],v=xi(h);if(g===r.userId&&n.path.isEqual(v))return no(t).get(p).next(function(_){if(!_)throw Oe();$e(_.userId===r.userId),u.push(Sa(r.R,_))});d.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new fn(ot),s=[];return n.forEach(function(u){var l=Pn.prefixForPath(r.userId,u.path),c=IDBKeyRange.lowerBound(l),d=Aa(t).$t({range:c},function(g,h,p){var v=g[0],_=g[1],w=g[2],S=xi(_);v===r.userId&&u.path.isEqual(S)?o=o.add(w):p.done()});s.push(d)}),ae.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=Pn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),c=new fn(ot);return Aa(t).$t({range:l},function(d,g,h){var p=d[0],v=d[1],_=d[2],w=xi(v);p===r.userId&&o.isPrefixOf(w)?w.length===s&&(c=c.add(_)):h.done()}).next(function(){return r.Wt(t,c)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(no(t).get(u).next(function(l){if(l===null)throw Oe();$e(l.userId===r.userId),o.push(Sa(r.R,l))}))}),ae.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return vO(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ae.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ae.resolve();var o=IDBKeyRange.lowerBound(Pn.prefixForUser(n.userId)),s=[];return Aa(t).$t({range:o},function(u,l,c){if(u[0]===n.userId){var d=xi(u[1]);s.push(d)}else c.done()}).next(function(){$e(s.length===0)})})},e.prototype.containsKey=function(t,n){return yO(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return _O(t).get(this.userId).next(function(r){return r||new To(n.userId,-1,"")})},e}();function yO(e,t,n){var r=Pn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return Aa(e).$t({range:s,Ft:!0},function(l,c,d){var g=l[0],h=l[1];l[2],g===t&&h===o&&(u=!0),d.done()}).next(function(){return u})}function no(e){return hr(e,Ot.store)}function Aa(e){return hr(e,Pn.store)}function _O(e){return hr(e,To.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gh=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),kj=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new Gh(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return nt.fromTimestamp(new ur(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return wa(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return $e(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return wa(t).$t(function(l,c){var d=_l(c);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,u.push(o.removeTargetData(t,d)))}).next(function(){return ae.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return wa(t).$t(function(r,o){var s=_l(o);n(s)})},e.prototype.Xt=function(t){return dI(t).get(_r.key).next(function(n){return $e(n!==null),n})},e.prototype.Zt=function(t,n){return dI(t).put(_r.key,n)},e.prototype.te=function(t,n){return wa(t).put(mO(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Nc(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return wa(t).$t({range:o,index:ar.queryTargetsIndexName},function(u,l,c){var d=_l(l);Ud(n,d.target)&&(s=d,c.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=po(t);return n.forEach(function(l){var c=Qr(l.path);s.push(u.put(new bn(r,c))),s.push(o.referenceDelegate.addReference(t,r,l))}),ae.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=po(t);return ae.forEach(n,function(u){var l=Qr(u.path);return ae.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=po(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=po(t),s=kt();return o.$t({range:r,Ft:!0},function(u,l,c){var d=xi(u[1]),g=new Ne(d);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Qr(n.path),o=IDBKeyRange.bound([r],[xC(r)],!1,!0),s=0;return po(t).$t({index:bn.documentTargetsIndex,Ft:!0,range:o},function(u,l,c){var d=u[0];u[1],d!==0&&(s++,c.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return wa(t).get(n).next(function(r){return r?_l(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(e){return hr(e,ar.store)}function dI(e){return hr(e,_r.store)}function po(e){return hr(e,bn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(e){return Z(this,void 0,void 0,function(){return Q(this,function(t){if(e.code!==K.FAILED_PRECONDITION||e.message!==cO)throw e;return le("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=ot(n,o);return u===0?ot(r,s):u}var Cj=function(){function e(t){this.ne=t,this.buffer=new fn(pI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();pI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Oj=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;le("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return Z(n,void 0,void 0,function(){var o;return Q(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Hs(o=s.sent())?(le("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Ws(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),Nj=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ae.resolve(wr.o);var o=new Cj(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(hI)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),hI):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,l,c,d,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(p){return p>g.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+p),o=g.params.maximumSequenceNumbersToCollect):o=p,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(p){return r=p,l=Date.now(),g.removeTargets(t,r,n)}).next(function(p){return s=p,c=Date.now(),g.removeOrphanedDocuments(t,r)}).next(function(p){return d=Date.now(),ry()<=ft.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(c-l)+`ms
	Removed `+p+" documents in "+(d-c)+`ms
Total Duration: `+(d-h)+"ms"),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:p})})},e}(),Pj=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new Nj(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return th(t,r)},e.prototype.removeReference=function(t,n,r){return th(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return th(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return _O(r).Ot(function(u){return yO(r,u,o).next(function(l){return l&&(s=!0),ae.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,c){if(c<=n){var d=r._e(t,l).next(function(g){if(!g)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),po(t).delete([0,Qr(l.path)])})});s.push(d)}}).next(function(){return ae.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return th(t,n)},e.prototype.we=function(t,n){var r,o=po(t),s=wr.o;return o.$t({index:bn.documentTargetsIndex},function(u,l){var c=u[0];u[1];var d=l.path,g=l.sequenceNumber;c===0?(s!==wr.o&&n(new Ne(xi(r)),s),s=g,r=d):s=wr.o}).next(function(){s!==wr.o&&n(new Ne(xi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function th(e,t){return po(e).put(function(n,r){return new bn(0,Qr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vu=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],c=u[1];if(this.equalsFn(l,t))return c}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Bs(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],c=u[1];t(l,c)}})},e.prototype.isEmpty=function(){return RC(this.inner)},e}(),bO=function(){function e(){this.changes=new vu(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:nt.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Mn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ae.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),xj=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return lo(t).put(nh(n),r)},e.prototype.removeEntry=function(t,n){var r=lo(t),o=nh(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return lo(t).get(nh(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return lo(t).get(nh(n)).next(function(o){return{document:r.ye(n,o),size:Kh(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Xr();return this.pe(t,n,function(s,u){var l=r.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Xr(),s=new Fn(Ne.comparator);return this.pe(t,n,function(u,l){var c=r.ye(u,l);o=o.insert(u,c),s=s.insert(u,Kh(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ae.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return lo(t).$t({range:o},function(l,c,d){for(var g=Ne.fromSegments(l);u&&Ne.comparator(u,g)<0;)r(u,null),u=s.getNext();u&&u.isEqual(g)&&(r(u,c),u=s.hasNext()?s.getNext():null),u?d.Ct(u.path.toArray()):d.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Xr(),u=n.path.length+1,l={};if(r.isEqual(nt.min())){var c=n.path.toArray();l.range=IDBKeyRange.lowerBound(c)}else{var d=n.path.toArray(),g=ob(r);l.range=IDBKeyRange.lowerBound([d,g],!0),l.index=qt.collectionReadTimeIndex}return lo(t).$t(l,function(h,p,v){if(h.length===u){var _=cy(o.R,p);n.path.isPrefixOf(_.key.path)?Rc(n,_)&&(s=s.insert(_.key,_)):v.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new Rj(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return mI(t).get(di.key).next(function(n){return $e(!!n),n})},e.prototype.me=function(t,n){return mI(t).put(di.key,n)},e.prototype.ye=function(t,n){if(n){var r=cy(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(nt.min()))return r}return Mn.newInvalidDocument(t)},e}(),Rj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new vu(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Le(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new fn(function(l,c){return ot(l.canonicalString(),c.canonicalString())});return this.changes.forEach(function(l,c){var d=r.Ae.get(l);if(c.document.isValidDocument()){var g=uI(r.Ie.R,c.document,r.getReadTime(l));u=u.add(l.path.popLast());var h=Kh(g);s+=h-d,o.push(r.Ie.addEntry(n,l,g))}else if(s-=d,r.trackRemovals){var p=uI(r.Ie.R,Mn.newNoDocument(l,nt.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,p))}else o.push(r.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ae.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(l,c){o.Ae.set(l,c)}),u})},t}(bO);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(e){return hr(e,di.store)}function lo(e){return hr(e,qt.store)}function nh(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dj=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;$e(r<o&&r>=0&&o<=11);var u=new hO("createOrUpgrade",n);r<1&&o>=1&&(function(c){c.createObjectStore(yr.store)}(t),function(c){c.createObjectStore(To.store,{keyPath:To.keyPath}),c.createObjectStore(Ot.store,{keyPath:Ot.keyPath,autoIncrement:!0}).createIndex(Ot.userMutationsIndex,Ot.userMutationsKeyPath,{unique:!0}),c.createObjectStore(Pn.store)}(t),gI(t),function(c){c.createObjectStore(qt.store)}(t));var l=ae.resolve();return r<3&&o>=3&&(r!==0&&(function(c){c.deleteObjectStore(bn.store),c.deleteObjectStore(ar.store),c.deleteObjectStore(_r.store)}(t),gI(t)),l=l.next(function(){return function(c){var d=c.store(_r.store),g=new _r(0,0,nt.min().toTimestamp(),0);return d.put(_r.key,g)}(u)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(c,d){return d.store(Ot.store).Nt().next(function(g){c.deleteObjectStore(Ot.store),c.createObjectStore(Ot.store,{keyPath:Ot.keyPath,autoIncrement:!0}).createIndex(Ot.userMutationsIndex,Ot.userMutationsKeyPath,{unique:!0});var h=d.store(Ot.store),p=g.map(function(v){return h.put(v)});return ae.waitFor(p)})}(t,u)})),l=l.next(function(){(function(c){c.createObjectStore(Di.store,{keyPath:Di.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),r<6&&o>=6&&(l=l.next(function(){return function(c){c.createObjectStore(di.store)}(t),s.be(u)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(l=l.next(function(){(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(t),function(c){var d=c.objectStore(qt.store);d.createIndex(qt.readTimeIndex,qt.readTimeIndexPath,{unique:!1}),d.createIndex(qt.collectionReadTimeIndex,qt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),r<11&&o>=11&&(l=l.next(function(){(function(c){c.createObjectStore(Xa.store,{keyPath:Xa.keyPath})})(t),function(c){c.createObjectStore(Qa.store,{keyPath:Qa.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(qt.store).$t(function(r,o){n+=Kh(o)}).next(function(){var r=new di(n);return t.store(di.store).put(di.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(To.store),o=t.store(Ot.store);return r.Nt().next(function(s){return ae.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(Ot.userMutationsIndex,l).next(function(c){return ae.forEach(c,function(d){$e(d.userId===u.userId);var g=Sa(n.R,d);return vO(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(bn.store),r=t.store(qt.store);return t.store(_r.store).get(_r.key).next(function(o){var s=[];return r.$t(function(u,l){var c=new dt(u),d=function(g){return[0,Qr(g)]}(c);s.push(n.get(d).next(function(g){return g?ae.resolve():function(h){return n.put(new bn(0,Qr(h),o.highestListenSequenceNumber))}(c)}))}).next(function(){return ae.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(ks.store,{keyPath:ks.keyPath});var r=n.store(ks.store),o=new sb,s=function(u){if(o.add(u)){var l=u.lastSegment(),c=u.popLast();return r.put({collectionId:l,parent:Qr(c)})}};return n.store(qt.store).$t({Ft:!0},function(u,l){var c=new dt(u);return s(c.popLast())}).next(function(){return n.store(Pn.store).$t({Ft:!0},function(u,l){u[0];var c=u[1];u[2];var d=xi(c);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(ar.store);return r.$t(function(o,s){var u=_l(s),l=mO(n.R,u);return r.put(l)})},e}();function gI(e){e.createObjectStore(bn.store,{keyPath:bn.keyPath}).createIndex(bn.documentTargetsIndex,bn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ar.store,{keyPath:ar.keyPath}).createIndex(ar.queryTargetsIndexName,ar.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(_r.store)}var av="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Lj=function(){function e(t,n,r,o,s,u,l,c,d,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=l,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new ie(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pj(this,o),this.Le=n+"main",this.R=new dO(c),this.Be=new Ja(this.Le,11,new Dj(this.R)),this.qe=new kj(this.referenceDelegate,this.R),this.Ut=new Sj,this.Ue=function(h,p){return new xj(h,p)}(this.R,this.Ut),this.Ke=new Tj,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&tn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new ie(K.FAILED_PRECONDITION,av);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new wr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return Z(n,void 0,void 0,function(){return Q(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return Z(n,void 0,void 0,function(){return Q(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return rh(n).put(new Di(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Hs(n))return le("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return le("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return cl(t).get(yr.key).next(function(r){return ae.resolve(n.tn(r))})},e.prototype.en=function(t){return rh(t).delete(this.clientId)},e.prototype.nn=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s=this;return Q(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var c=hr(l,Di.store);return c.Nt().next(function(d){var g=s.rn(d,18e5),h=d.filter(function(p){return g.indexOf(p)===-1});return ae.forEach(h,function(p){return c.delete(p.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ae.resolve(!0):cl(t).get(yr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new ie(K.FAILED_PRECONDITION,av);return!1}}return!(!n.networkEnabled||!n.inForeground)||rh(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,c=n.networkEnabled===s.networkEnabled;if(u||l&&c)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&le("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return Z(this,void 0,void 0,function(){var t=this;return Q(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[yr.store,Di.store],function(r){var o=new aI(r,wr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return rh(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return Aj.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;le("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,_j,function(l){return s=new aI(l,o.Ne?o.Ne.next():wr.o),n==="readwrite-primary"?o.Je(s).next(function(c){return!!c||o.Ye(s)}).next(function(c){if(!c)throw tn("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new ie(K.FAILED_PRECONDITION,cO);return r(s)}).next(function(c){return o.Ze(s).next(function(){return c})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return cl(t).get(yr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new ie(K.FAILED_PRECONDITION,av)})},e.prototype.Ze=function(t){var n=new yr(this.clientId,this.allowTabSynchronization,Date.now());return cl(t).put(yr.key,n)},e.yt=function(){return Ja.yt()},e.prototype.Xe=function(t){var n=this,r=cl(t);return r.get(yr.key).next(function(o){return n.tn(o)?(le("IndexedDbPersistence","Releasing primary lease."),r.delete(yr.key)):ae.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(tn("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),BV()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return le("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return tn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){tn("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function cl(e){return hr(e,yr.store)}function rh(e){return hr(e,Di.store)}function ab(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var wO=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):J_(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Ne(n)).next(function(r){var o=uy();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=uy();return this.Ut.getCollectionParents(t,s).next(function(l){return ae.forEach(l,function(c){var d=function(g,h){return new $i(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(s));return o.An(t,d,r).next(function(g){g.forEach(function(h,p){u=u.insert(h,p)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(c){o=c;for(var d=0,g=s;d<g.length;d++)for(var h=g[d],p=0,v=h.mutations;p<v.length;p++){var _=v[p],w=_.key,S=o.get(w);S==null&&(S=Mn.newInvalidDocument(w),o=o.insert(w,S)),ay(_,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(w))}})}).next(function(){return o.forEach(function(l,c){Rc(n,c)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=kt(),s=0,u=n;s<u.length;s++)for(var l=0,c=u[s].mutations;l<c.length;l++){var d=c[l];d instanceof Fo&&r.get(d.key)===null&&(o=o.add(d.key))}var g=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(p,v){v.isFoundDocument()&&(g=g.insert(p,v))}),g})},e}(),Mj=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=kt(),o=kt(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),EO=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(nt.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(vh(n)||Hh(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(ry()<=ft.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sy(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(c){return l.forEach(function(d){c=c.insert(d.key,d)}),c}))})},e.prototype.Cn=function(t,n){var r=new fn(BC(t));return n.forEach(function(o,s){Rc(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return ry()<=ft.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",sy(n)),this.Sn.getDocumentsMatchingQuery(t,n,nt.min())},e}(),Fj=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new Fn(ot),this.Fn=new vu(function(s){return Nc(s)},Ud),this.$n=nt.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new wO(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(e,t,n,r){return new Fj(e,t,n,r)}function IO(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s;return Q(this,function(u){switch(u.label){case 0:return n=ge(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var c;return n._n.getAllMutationBatches(l).next(function(d){return c=d,r=n.persistence.getMutationQueue(t),o=new wO(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(d){for(var g=[],h=[],p=kt(),v=0,_=c;v<_.length;v++){var w=_[v];g.push(w.batchId);for(var S=0,b=w.mutations;S<b.length;S++){var k=b[S];p=p.add(k.key)}}for(var R=0,C=d;R<C.length;R++){var U=C[R];h.push(U.batchId);for(var L=0,B=U.mutations;L<B.length;L++){var $=B[L];p=p.add($.key)}}return o.pn(l,p).next(function(H){return{Ln:H,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function Vj(e,t){var n=ge(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,c,d){var g=c.batch,h=g.keys(),p=ae.resolve();return h.forEach(function(v){p=p.next(function(){return d.getEntry(l,v)}).next(function(_){var w=c.docVersions.get(v);$e(w!==null),_.version.compareTo(w)<0&&(g.applyToRemoteDocument(_,c),_.isValidDocument()&&d.addEntry(_,c.commitVersion))})}),p.next(function(){return u._n.removeMutationBatch(l,g)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function SO(e){var t=ge(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function Uj(e,t){var n=ge(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(g,h){var p=o.get(h);if(p){l.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var v=g.resumeToken;if(v.approximateByteSize()>0){var _=p.withResumeToken(v,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(w,S,b){return $e(S.resumeToken.approximateByteSize()>0),w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,_,g)&&l.push(n.qe.updateTargetData(s,_))}}});var c=Xr();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(jj(s,u,t.documentUpdates,r,void 0).next(function(g){c=g})),!r.isEqual(nt.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(d)}return ae.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,c)}).next(function(){return c})}).then(function(s){return n.kn=o,s})}function jj(e,t,n,r,o){var s=kt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=Xr();return n.forEach(function(c,d){var g=u.get(c),h=(o==null?void 0:o.get(c))||r;d.isNoDocument()&&d.version.isEqual(nt.min())?(t.removeEntry(c,h),l=l.insert(c,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(d,h),l=l.insert(c,d)):le("LocalStore","Ignoring outdated watch update for ",c,". Current version:",g.version," Watch version:",d.version)}),l})}function $j(e,t){var n=ge(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function zh(e,t){var n=ge(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ae.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new qd(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function tu(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return Q(this,function(l){switch(l.label){case 0:r=ge(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(c){return r.persistence.referenceDelegate.removeTarget(c,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Hs(u=l.sent()))throw u;return le("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function Yh(e,t,n){var r=ge(e),o=nt.min(),s=kt();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,c,d){var g=ge(l),h=g.Fn.get(d);return h!==void 0?ae.resolve(g.kn.get(h)):g.qe.getTargetData(c,d)}(r,u,bi(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(c){s=c})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:nt.min(),n?s:kt())}).next(function(l){return{documents:l,Bn:s}})})}function AO(e,t){var n=ge(e),r=ge(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function kO(e){var t=ge(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=ge(r),l=Xr(),c=ob(s),d=lo(o),g=IDBKeyRange.lowerBound(c,!0);return d.$t({index:qt.readTimeIndex,range:g},function(h,p){var v=cy(u.R,p);l=l.insert(v.key,v),c=p.readTime}).next(function(){return{wn:l,readTime:pO(c)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function Bj(e){return Z(this,void 0,void 0,function(){var t;return Q(this,function(n){return[2,(t=ge(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=lo(o),u=nt.min();return s.$t({index:qt.readTimeIndex,reverse:!0},function(l,c,d){c.readTime&&(u=pO(c.readTime)),d.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qj=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ae.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Yn(r.createTime)}),ae.resolve()},e.prototype.getNamedQuery=function(t,n){return ae.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:gO(r.bundledQuery),readTime:Yn(r.readTime)}}(n)),ae.resolve()},e}(),ub=function(){function e(){this.Wn=new fn(pn.Gn),this.zn=new fn(pn.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new pn(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new pn(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Ne(new dt([])),o=new pn(r,t),s=new pn(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Ne(new dt([])),r=new pn(n,t),o=new pn(n,t+1),s=kt();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new pn(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),pn=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Ne.comparator(t.key,n.key)||ot(t.ns,n.ns)},e.Hn=function(t,n){return ot(t.ns,n.ns)||Ne.comparator(t.key,n.key)},e}(),Hj=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new fn(pn.Gn)}return e.prototype.checkEmpty=function(t){return ae.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new ib(s,n,r,o);this._n.push(u);for(var l=0,c=o;l<c.length;l++){var d=c[l];this.rs=this.rs.add(new pn(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return ae.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ae.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ae.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ae.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ae.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new pn(n,0),s=new pn(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var c=r.os(l.ns);u.push(c)}),ae.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new fn(ot);return n.forEach(function(s){var u=new pn(s,0),l=new pn(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,l],function(c){o=o.add(c.ns)})}),ae.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Ne.isDocumentKey(s)||(s=s.child(""));var u=new pn(new Ne(s),0),l=new fn(ot);return this.rs.forEachWhile(function(c){var d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(l=l.add(c.ns)),!0)},u),ae.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;$e(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ae.forEach(n.mutations,function(s){var u=new pn(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new pn(n,0),o=this.rs.firstAfterOrEqual(r);return ae.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ae.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),Wj=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Fn(Ne.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ae.resolve(r?r.document.clone():Mn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Xr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():Mn.newInvalidDocument(s))}),ae.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Xr(),s=new Ne(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),c=l.key,d=l.value,g=d.document,h=d.readTime;if(!n.path.isPrefixOf(c.path))break;h.compareTo(r)<=0||Rc(n,g)&&(o=o.insert(g.key,g.clone()))}return ae.resolve(o)},e.prototype.fs=function(t,n){return ae.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new Kj(this)},e.prototype.getSize=function(t){return ae.resolve(this.size)},e}(),Kj=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Le(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ae.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(bO),Gj=function(){function e(t){this.persistence=t,this.ds=new vu(function(n){return Nc(n)},Ud),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.ws=0,this._s=new ub,this.targetCount=0,this.ys=Gh.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ae.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ae.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ae.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ae.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ae.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new Gh(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ae.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ae.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ae.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(l,c){c.sequenceNumber<=n&&r.get(c.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,c.targetId)),s++)}),ae.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ae.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ae.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ae.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ae.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ae.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ae.resolve(r)},e.prototype.containsKey=function(t,n){return ae.resolve(this._s.containsKey(n))},e}(),zj=function(){function e(t,n){var r=this;this.gs={},this.Ne=new wr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Gj(this),this.Ut=new Ij,this.Ue=function(o,s){return new Wj(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new dO(n),this.Ke=new qj(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new Hj(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;le("MemoryPersistence","Starting transaction:",t);var s=new Yj(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ae.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),Yj=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Le(t,e),t}(fO),Xj=function(){function e(t){this.persistence=t,this.As=new ub,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Oe()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ae.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ae.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ae.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.vs,function(o){var s=Ne.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ae.or([function(){return ae.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),yn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(e,t){return"firestore_clients_"+e+"_"+t}function yI(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function uv(e,t){return"firestore_targets_"+e+"_"+t}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");var _I=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new ie(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(tn("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),lv=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new ie(o.error.code,o.error.message)),s?new e(t,o.state,r):(tn("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),bI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Bd(),u=0;o&&u<r.activeTargetIds.length;++u)o=MC(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(tn("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),Qj=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(tn("SharedClientState","Failed to parse online state: "+t),null)},e}(),fy=function(){function e(){this.activeTargetIds=Bd()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),cv=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Fn(ot),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=vI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new fy),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return Z(this,void 0,void 0,function(){var t,n,r,o,s,u,l,c,d,g,h,p=this;return Q(this,function(v){switch(v.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=v.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(vI(this.persistenceKey,o)))&&(u=bI.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(c=this.js(l))&&this.Ws(c),d=0,g=this.$s;d<g.length;d++)h=g[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return p.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(uv(this.persistenceKey,t));if(r){var o=lv.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(uv(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return le("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){le("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){le("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(le("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void tn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Z(n,void 0,void 0,function(){var o,s,u,l,c,d;return Q(this,function(g){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(c=this.js(r.newValue)))return[2,this.Ws(c)]}else if(r.key===this.Ms)(d=function(h){var p=wr.o;if(h!=null)try{var v=JSON.parse(h);$e(typeof v=="number"),p=v}catch(_){tn("SharedClientState","Failed to read sequence number from WebStorage",_)}return p}(r.newValue))!==wr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new _I(this.currentUser,t,n,r),s=yI(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=yI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=uv(this.persistenceKey,t),s=new lv(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return bI.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return _I.Vs(new yn(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return lv.Vs(o,n)},e.prototype.js=function(t){return Qj.Vs(t)},e.prototype.ii=function(t){return Z(this,void 0,void 0,function(){return Q(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(le("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],c=[];return u.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){u.has(d)||c.push(d)}),this.syncEngine.hi(l,c).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Bd();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),CO=function(){function e(){this.li=new fy,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new fy,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),Jj=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),wI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),Zj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},e$=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),t$=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Le(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,l){var c=new xU;c.listenOnce(OU.COMPLETE,function(){try{switch(c.getLastErrorCode()){case sv.NO_ERROR:var g=c.getResponseJson();le("Connection","XHR received:",JSON.stringify(g)),u(g);break;case sv.TIMEOUT:le("Connection",'RPC "'+n+'" timed out'),l(new ie(K.DEADLINE_EXCEEDED,"Request time out"));break;case sv.HTTP_ERROR:var h=c.getStatus();if(le("Connection",'RPC "'+n+'" failed with status:',h,"response text:",c.getResponseText()),h>0){var p=c.getResponseJson().error;if(p&&p.status&&p.message){var v=function(_){var w=_.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(w)>=0?w:K.UNKNOWN}(p.status);l(new ie(v,p.message))}else l(new ie(K.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ie(K.UNAVAILABLE,"Connection failed."));break;default:Oe()}}finally{le("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);c.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=kU(),u=CU(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new PU({})),this.ki(l.initMessageHeaders,r),LV()||VV()||UV()||jV()||$V()||FV()||(l.httpHeadersOverwriteParam="$httpHeaders");var c=o.join("");le("Connection","Creating WebChannel: "+c,l);var d=s.createWebChannel(c,l),g=!1,h=!1,p=new e$({Ei:function(_){h?le("Connection","Not sending because WebChannel is closed:",_):(g||(le("Connection","Opening WebChannel transport."),d.open(),g=!0),le("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),v=function(_,w,S){_.listen(w,function(b){try{S(b)}catch(k){setTimeout(function(){throw k},0)}})};return v(d,Zf.EventType.OPEN,function(){h||le("Connection","WebChannel transport opened.")}),v(d,Zf.EventType.CLOSE,function(){h||(h=!0,le("Connection","WebChannel transport closed"),p.Vi())}),v(d,Zf.EventType.ERROR,function(_){h||(h=!0,Uh("Connection","WebChannel transport errored:",_),p.Vi(new ie(K.UNAVAILABLE,"The operation could not be completed")))}),v(d,Zf.EventType.MESSAGE,function(_){var w;if(!h){var S=_.data[0];$e(!!S);var b=S,k=b.error||((w=b[0])===null||w===void 0?void 0:w.error);if(k){le("Connection","WebChannel received error:",k);var R=k.status,C=function(L){var B=Jt[L];if(B!==void 0)return JC(B)}(R),U=k.message;C===void 0&&(C=K.INTERNAL,U="Unknown error status: "+R+" with message "+k.message),h=!0,p.Vi(new ie(C,U)),d.close()}else le("Connection","WebChannel received:",S),p.Si(S)}}),v(u,NU.STAT_EVENT,function(_){_.stat===VT.PROXY?le("Connection","Detected buffering proxy"):_.stat===VT.NOPROXY&&le("Connection","Detected no buffering proxy")}),setTimeout(function(){p.Pi()},0),p},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);le("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(l){return le("RestConnection","Received: ",l),l},function(l){throw Uh("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=Zj[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return typeof window<"u"?window:null}function bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(e){return new aj(e,!0)}var lb=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&le("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),NO=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new lb(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return Z(this,void 0,void 0,function(){return Q(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return Z(this,void 0,void 0,function(){return Q(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return Z(this,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(tn(n.toString()),tn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===K.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new ie(K.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Z(t,void 0,void 0,function(){return Q(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return le("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),n$=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,l}return Le(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var l;if("targetChange"in u){u.targetChange;var c=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:Oe()}(u.targetChange.targetChangeType||"NO_CHANGE"),d=u.targetChange.targetIds||[],g=function(S,b){return S.I?($e(b===void 0||typeof b=="string"),cr.fromBase64String(b||"")):($e(b===void 0||b instanceof Uint8Array),cr.fromUint8Array(b||new Uint8Array))}(s,u.targetChange.resumeToken),h=(p=u.targetChange.cause)&&function(S){var b=S.code===void 0?K.UNKNOWN:JC(S.code);return new ie(b,S.message||"")}(p);l=new eO(c,d,g,h||null)}else if("documentChange"in u){u.documentChange,(c=u.documentChange).document,c.document.name,c.document.updateTime,d=Ri(s,c.document.name),g=Yn(c.document.updateTime);var p=new br({mapValue:{fields:c.document.fields}}),v=(h=Mn.newFoundDocument(d,g,p),c.targetIds||[]),_=c.removedTargetIds||[];l=new _h(v,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(c=u.documentDelete).document,d=Ri(s,c.document),g=c.readTime?Yn(c.readTime):nt.min(),p=Mn.newNoDocument(d,g),h=c.removedTargetIds||[],l=new _h([],h,p.key,p);else if("documentRemove"in u)u.documentRemove,(c=u.documentRemove).document,d=Ri(s,c.document),g=c.removedTargetIds||[],l=new _h([],g,d,null);else{if(!("filter"in u))return Oe();u.filter;var w=u.filter;w.targetId,c=w.count||0,d=new QU(c),g=w.targetId,l=new ZC(g,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return nt.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?nt.min():u.readTime?Yn(u.readTime):nt.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=ec(this.R),r.addTarget=function(s,u){var l,c=u.target;return(l=Bh(c)?{documents:oO(s,c)}:{query:sO(s,c)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=tO(s,u.resumeToken):u.snapshotVersion.compareTo(nt.min())>0&&(l.readTime=Jl(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(c,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Oe()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=ec(this.R),r.removeTarget=n,this.cr(r)},t}(NO),r$=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,l.gr=!1,l}return Le(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if($e(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?($e(u!==void 0),s.map(function(l){return function(c,d){var g=c.updateTime?Yn(c.updateTime):Yn(d);return g.isEqual(nt.min())&&(g=Yn(d)),new zU(g,c.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=Yn(n.commitTime);return this.listener.Tr(o,r)}return $e(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=ec(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Wh(r.R,s)})};this.cr(o)},t}(NO),i$=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Le(t,e),t.prototype.br=function(){if(this.Rr)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new ie(K.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===K.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new ie(K.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),o$=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(tn(n),this.Vr=!1):le("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),s$=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return Z(s,void 0,void 0,function(){return Q(this,function(l){switch(l.label){case 0:return Vo(this)?(le("RemoteStore","Restarting streams for network reachability change."),[4,function(c){return Z(this,void 0,void 0,function(){var d;return Q(this,function(g){switch(g.label){case 0:return(d=ge(c)).Or.add(4),[4,yu(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Fc(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new o$(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(e){return Z(this,void 0,void 0,function(){var t,n;return Q(this,function(r){switch(r.label){case 0:if(!Vo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function yu(e){return Z(this,void 0,void 0,function(){var t,n;return Q(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Wd(e,t){var n=ge(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),hb(n)?fb(n):bu(n).er()&&cb(n,t))}function tc(e,t){var n=ge(e),r=bu(n);n.$r.delete(t),r.er()&&PO(n,t),n.$r.size===0&&(r.er()?r.ir():Vo(n)&&n.Br.set("Unknown"))}function cb(e,t){e.qr.U(t.targetId),bu(e).mr(t)}function PO(e,t){e.qr.U(t),bu(e).yr(t)}function fb(e){e.qr=new ij({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),bu(e).start(),e.Br.Sr()}function hb(e){return Vo(e)&&!bu(e).tr()&&e.$r.size>0}function Vo(e){return ge(e).Or.size===0}function xO(e){e.qr=void 0}function a$(e){return Z(this,void 0,void 0,function(){return Q(this,function(t){return e.$r.forEach(function(n,r){cb(e,n)}),[2]})})}function u$(e,t){return Z(this,void 0,void 0,function(){return Q(this,function(n){return xO(e),hb(e)?(e.Br.Nr(t),fb(e)):e.Br.set("Unknown"),[2]})})}function l$(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s;return Q(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof eO&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,c){return Z(this,void 0,void 0,function(){var d,g,h,p;return Q(this,function(v){switch(v.label){case 0:d=c.cause,g=0,h=c.targetIds,v.label=1;case 1:return g<h.length?(p=h[g],l.$r.has(p)?[4,l.remoteSyncer.rejectListen(p,d)]:[3,3]):[3,5];case 2:v.sent(),l.$r.delete(p),l.qr.removeTarget(p),v.label=3;case 3:v.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),le("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Xh(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof _h?e.qr.X(t):t instanceof ZC?e.qr.rt(t):e.qr.et(t),n.isEqual(nt.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,SO(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,c){var d=l.qr.ut(c);return d.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var p=l.$r.get(h);p&&l.$r.set(h,p.withResumeToken(g.resumeToken,c))}}),d.targetMismatches.forEach(function(g){var h=l.$r.get(g);if(h){l.$r.set(g,h.withResumeToken(cr.EMPTY_BYTE_STRING,h.snapshotVersion)),PO(l,g);var p=new qd(h.target,g,1,h.sequenceNumber);cb(l,p)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return le("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Xh(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Xh(e,t,n){return Z(this,void 0,void 0,function(){var r=this;return Q(this,function(o){switch(o.label){case 0:if(!Hs(t))throw t;return e.Or.add(1),[4,yu(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return SO(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return Q(this,function(s){switch(s.label){case 0:return le("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Fc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function RO(e,t){return t().catch(function(n){return Xh(e,n,t)})}function _u(e){return Z(this,void 0,void 0,function(){var t,n,r,o,s;return Q(this,function(u){switch(u.label){case 0:t=ge(e),n=Po(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return Vo(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,$j(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,c){l.Fr.push(c);var d=Po(l);d.er()&&d.pr&&d.Er(c.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Xh(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return DO(t)&&LO(t),[2]}})})}function DO(e){return Vo(e)&&!Po(e).tr()&&e.Fr.length>0}function LO(e){Po(e).start()}function c$(e){return Z(this,void 0,void 0,function(){return Q(this,function(t){return Po(e).Ar(),[2]})})}function f$(e){return Z(this,void 0,void 0,function(){var t,n,r,o;return Q(this,function(s){for(t=Po(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function h$(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return Q(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=Ej.from(r,t,n),[4,RO(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,_u(e)];case 2:return s.sent(),[2]}})})}function d$(e,t){return Z(this,void 0,void 0,function(){return Q(this,function(n){switch(n.label){case 0:return t&&Po(e).pr?[4,function(r,o){return Z(this,void 0,void 0,function(){var s,u;return Q(this,function(l){switch(l.label){case 0:return QC(u=o.code)&&u!==K.ABORTED?(s=r.Fr.shift(),Po(r).sr(),[4,RO(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,_u(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return DO(e)&&LO(e),[2]}})})}function hy(e,t){return Z(this,void 0,void 0,function(){var n;return Q(this,function(r){switch(r.label){case 0:return n=ge(e),t?(n.Or.delete(2),[4,Fc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,yu(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function bu(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=ge(n);return s.br(),new n$(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:a$.bind(null,e),Ri:u$.bind(null,e),_r:l$.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),hb(e)?fb(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),xO(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Po(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=ge(n);return s.br(),new r$(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:c$.bind(null,e),Ri:d$.bind(null,e),Ir:f$.bind(null,e),Tr:h$.bind(null,e)}),e.Mr.push(function(n){return Z(t,void 0,void 0,function(){return Q(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,_u(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(le("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var p$=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function wu(e,t){if(tn("AsyncQueue",t+": "+e),Hs(e))return new ie(K.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MO=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Ne.comparator(n.key,r.key)}:function(n,r){return Ne.comparator(n.key,r.key)},this.keyedMap=uy(),this.sortedSet=new Fn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),EI=function(){function e(){this.Qr=new Fn(Ne.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):Oe():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),Qh=function(){function e(t,n,r,o,s,u,l,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=c}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,MO.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),m$=function(){this.Wr=void 0,this.listeners=[]},g$=function(){this.queries=new vu(function(e){return $C(e)},xc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,l,c;return Q(this,function(d){switch(d.label){case 0:if(n=ge(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new m$),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=d.sent(),[3,4];case 3:return l=d.sent(),c=wu(l,"Initialization of query '"+sy(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&mb(n),[2]}})})}function pb(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u;return Q(this,function(l){return n=ge(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function v$(e,t){for(var n=ge(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,c=n.queries.get(l);if(c){for(var d=0,g=c.listeners;d<g.length;d++)g[d].Hr(u)&&(r=!0);c.Wr=u}}r&&mb(n)}function y$(e,t,n){var r=ge(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function mb(e){e.Gr.forEach(function(t){t.next()})}var gb=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new Qh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=Qh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FO=function(e){this.key=e},VO=function(e){this.key=e},UO=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=kt(),this.mutatedKeys=kt(),this.lo=BC(t),this.fo=new MO(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new EI,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1,d=vh(this.query)&&s.size===this.query.limit?s.last():null,g=Hh(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(p,v){var _=s.get(p),w=Rc(r.query,v)?v:null,S=!!_&&r.mutatedKeys.has(_.key),b=!!w&&(w.hasLocalMutations||r.mutatedKeys.has(w.key)&&w.hasCommittedMutations),k=!1;_&&w?_.data.isEqual(w.data)?S!==b&&(o.track({type:3,doc:w}),k=!0):r.yo(_,w)||(o.track({type:2,doc:w}),k=!0,(d&&r.lo(w,d)>0||g&&r.lo(w,g)<0)&&(c=!0)):!_&&w?(o.track({type:0,doc:w}),k=!0):_&&!w&&(o.track({type:1,doc:_}),k=!0,(d||g)&&(c=!0)),k&&(w?(l=l.add(w),u=b?u.add(p):u.delete(p)):(l=l.delete(p),u=u.delete(p)))}),vh(this.query)||Hh(this.query))for(;l.size>this.query.limit;){var h=vh(this.query)?l.last():l.first();l=l.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:c,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(p,v){var _=function(w){switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe()}};return _(p)-_(v)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],c=this.ho.size===0&&this.current?1:0,d=c!==this.ao;return this.ao=c,u.length!==0||d?{snapshot:new Qh(this.query,t.fo,s,u,t.mutatedKeys,c===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new EI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=kt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new VO(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new FO(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=kt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return Qh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),_$=function(e,t,n){this.query=e,this.targetId=t,this.view=n},b$=function(e){this.key=e,this.bo=!1},w$=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new vu(function(l){return $C(l)},xc),this.Vo=new Map,this.So=new Set,this.Do=new Fn(Ne.comparator),this.Co=new Map,this.No=new ub,this.xo={},this.ko=new Map,this.Fo=Gh.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function E$(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,l;return Q(this,function(c){switch(c.label){case 0:return n=wb(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,zh(n.localStore,bi(t))];case 2:return u=c.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,vb(n,t,r,l==="current")];case 3:o=c.sent(),n.isPrimaryClient&&Wd(n.remoteStore,u),c.label=4;case 4:return[2,o]}})})}function vb(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,u,l,c,d;return Q(this,function(g){switch(g.label){case 0:return e.Oo=function(h,p,v){return function(_,w,S,b){return Z(this,void 0,void 0,function(){var k,R,C;return Q(this,function(U){switch(U.label){case 0:return k=w.view._o(S),k.Nn?[4,Yh(_.localStore,w.query,!1).then(function(L){var B=L.documents;return w.view._o(B,k)})]:[3,2];case 1:k=U.sent(),U.label=2;case 2:return R=b&&b.targetChanges.get(w.targetId),C=w.view.applyChanges(k,_.isPrimaryClient,R),[2,(dy(_,w.targetId,C.To),C.snapshot)]}})})}(e,h,p,v)},[4,Yh(e.localStore,t,!0)];case 1:return o=g.sent(),s=new UO(t,o.Bn),u=s._o(o.documents),l=tb.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),c=s.applyChanges(u,e.isPrimaryClient,l),dy(e,n,c.To),d=new _$(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function T$(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return Q(this,function(s){switch(s.label){case 0:return n=ge(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!xc(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,tu(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),tc(n.remoteStore,r.targetId),nu(n,r.targetId)}).catch(Ws)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return nu(n,r.targetId),[4,tu(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function I$(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return Q(this,function(l){switch(l.label){case 0:r=Eb(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(c,d){var g,h=ge(c),p=ur.now(),v=d.reduce(function(_,w){return _.add(w.key)},kt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,v).next(function(w){g=w;for(var S=[],b=0,k=d;b<k.length;b++){var R=k[b],C=XU(R,g.get(R.key));C!=null&&S.push(new Fo(R.key,C,FC(C.value.mapValue),Dn.exists(!0)))}return h._n.addMutationBatch(_,p,S,d)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(c,d,g){var h=c.xo[c.currentUser.toKey()];h||(h=new Fn(ot)),h=h.insert(d,g),c.xo[c.currentUser.toKey()]=h}(r,o.batchId,n),[4,Uo(r,o.changes)];case 3:return l.sent(),[4,_u(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=wu(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function jO(e,t){return Z(this,void 0,void 0,function(){var n,r;return Q(this,function(o){switch(o.label){case 0:n=ge(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Uj(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&($e(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?$e(l.bo):s.removedDocuments.size>0&&($e(l.bo),l.bo=!1))}),[4,Uo(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,Ws(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function TI(e,t,n){var r=ge(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=ge(s);l.onlineState=u;var c=!1;l.queries.forEach(function(d,g){for(var h=0,p=g.listeners;h<p.length;h++)p[h].zr(u)&&(c=!0)}),c&&mb(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function S$(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,l,c;return Q(this,function(d){switch(d.label){case 0:return(r=ge(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new Fn(Ne.comparator)).insert(s,Mn.newNoDocument(s,nt.min())),l=kt().add(s),c=new eb(nt.min(),new Map,new fn(ot),u,l),[4,jO(r,c)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),bb(r),[3,4];case 2:return[4,tu(r.localStore,t,!1).then(function(){return nu(r,t,n)}).catch(Ws)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function A$(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return Q(this,function(s){switch(s.label){case 0:n=ge(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,Vj(n.localStore,t)];case 2:return o=s.sent(),_b(n,r,null),yb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Uo(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Ws(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function k$(e,t,n){return Z(this,void 0,void 0,function(){var r,o;return Q(this,function(s){switch(s.label){case 0:r=ge(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var c=ge(u);return c.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return c._n.lookupMutationBatch(d,l).next(function(h){return $e(h!==null),g=h.keys(),c._n.removeMutationBatch(d,h)}).next(function(){return c._n.performConsistencyCheck(d)}).next(function(){return c.Mn.pn(d,g)})})}(r.localStore,t)];case 2:return o=s.sent(),_b(r,t,n),yb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Uo(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,Ws(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function C$(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u;return Q(this,function(l){switch(l.label){case 0:Vo((n=ge(e)).remoteStore)||le("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(c){var d=ge(c);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),u=wu(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function yb(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function _b(e,t,n){var r=ge(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function nu(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||$O(e,u)})}function $O(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(tc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),bb(e))}function dy(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof FO?(e.No.addReference(s.key,t),O$(e,s)):s instanceof VO?(le("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||$O(e,s.key)):Oe()}}function O$(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(le("SyncEngine","New document in limbo: "+n),e.So.add(r),bb(e))}function bb(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Ne(dt.fromString(t)),r=e.Fo.next();e.Co.set(r,new b$(n)),e.Do=e.Do.insert(n,r),Wd(e.remoteStore,new qd(bi(Pc(n.path)),r,2,wr.o))}}function Uo(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return Q(this,function(l){switch(l.label){case 0:return r=ge(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(c,d){u.push(r.Oo(d,t,n).then(function(g){if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=Mj.Pn(d.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.vo._r(o),[4,function(c,d){return Z(this,void 0,void 0,function(){var g,h,p,v,_,w,S,b,k;return Q(this,function(R){switch(R.label){case 0:g=ge(c),R.label=1;case 1:return R.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(C){return ae.forEach(d,function(U){return ae.forEach(U.bn,function(L){return g.persistence.referenceDelegate.addReference(C,U.targetId,L)}).next(function(){return ae.forEach(U.vn,function(L){return g.persistence.referenceDelegate.removeReference(C,U.targetId,L)})})})})];case 2:return R.sent(),[3,4];case 3:if(!Hs(h=R.sent()))throw h;return le("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(p=0,v=d;p<v.length;p++)_=v[p],w=_.targetId,_.fromCache||(S=g.kn.get(w),b=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(b),g.kn=g.kn.insert(w,k));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function N$(e,t){return Z(this,void 0,void 0,function(){var n,r;return Q(this,function(o){switch(o.label){case 0:return(n=ge(e)).currentUser.isEqual(t)?[3,3]:(le("SyncEngine","User change. New user:",t.toKey()),[4,IO(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(c){c.reject(new ie(K.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Uo(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function P$(e,t){var n=ge(e),r=n.Co.get(t);if(r&&r.bo)return kt().add(r.key);var o=kt(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var c=l[u],d=n.Po.get(c);o=o.unionWith(d.view.wo)}return o}function x$(e,t){return Z(this,void 0,void 0,function(){var n,r,o;return Q(this,function(s){switch(s.label){case 0:return[4,Yh((n=ge(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&dy(n,t.targetId,o.To),o)]}})})}function R$(e){return Z(this,void 0,void 0,function(){var t;return Q(this,function(n){return[2,kO((t=ge(e)).localStore).then(function(r){return Uo(t,r)})]})})}function D$(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s;return Q(this,function(u){switch(u.label){case 0:return[4,function(l,c){var d=ge(l),g=ge(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,c).next(function(p){return p?d.Mn.pn(h,p):ae.resolve(null)})})}((o=ge(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,_u(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(_b(o,t,r||null),yb(o,t),function(l,c){ge(ge(l)._n).Gt(c)}(o.localStore,t)):Oe(),u.label=4;case 4:return[4,Uo(o,s)];case 5:return u.sent(),[3,7];case 6:le("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function L$(e,t){return Z(this,void 0,void 0,function(){var n,r,o,s,u,l,c,d;return Q(this,function(g){switch(g.label){case 0:return wb(n=ge(e)),Eb(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,II(n,r.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,hy(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)l=u[s],Wd(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(c=[],d=Promise.resolve(),n.Vo.forEach(function(h,p){n.sharedClientState.isLocalQueryTarget(p)?c.push(p):d=d.then(function(){return nu(n,p),tu(n.localStore,p,!0)}),tc(n.remoteStore,p)}),[4,d]);case 4:return g.sent(),[4,II(n,c)];case 5:return g.sent(),function(h){var p=ge(h);p.Co.forEach(function(v,_){tc(p.remoteStore,_)}),p.No.ts(),p.Co=new Map,p.Do=new Fn(Ne.comparator)}(n),n.$o=!1,[4,hy(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function II(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,l,c,d,g,h,p,v,_,w,S;return Q(this,function(b){switch(b.label){case 0:r=ge(e),o=[],s=[],u=0,l=t,b.label=1;case 1:return u<l.length?(c=l[u],d=void 0,(g=r.Vo.get(c))&&g.length!==0?[4,zh(r.localStore,bi(g[0]))]:[3,7]):[3,13];case 2:d=b.sent(),h=0,p=g,b.label=3;case 3:return h<p.length?(v=p[h],_=r.Po.get(v),[4,x$(r,_)]):[3,6];case 4:(w=b.sent()).snapshot&&s.push(w.snapshot),b.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,AO(r.localStore,c)];case 8:return S=b.sent(),[4,zh(r.localStore,S)];case 9:return d=b.sent(),[4,vb(r,BO(S),c,!1)];case 10:b.sent(),b.label=11;case 11:o.push(d),b.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function BO(e){return UC(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function M$(e){var t=ge(e);return ge(ge(t.localStore).persistence).fn()}function F$(e,t,n,r){return Z(this,void 0,void 0,function(){var o,s,u;return Q(this,function(l){switch(l.label){case 0:return(o=ge(e)).$o?(le("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,kO(o.localStore)];case 3:return s=l.sent(),u=eb.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Uo(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,tu(o.localStore,t,!0)];case 6:return l.sent(),nu(o,t,r),[3,8];case 7:Oe(),l.label=8;case 8:return[2]}})})}function V$(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u,l,c,d,g,h,p;return Q(this,function(v){switch(v.label){case 0:if(!(r=wb(e)).$o)return[3,10];o=0,s=t,v.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(le("SyncEngine","Adding an already active target "+u),[3,5]):[4,AO(r.localStore,u)]):[3,6];case 2:return l=v.sent(),[4,zh(r.localStore,l)];case 3:return c=v.sent(),[4,vb(r,BO(l),c.targetId,!1)];case 4:v.sent(),Wd(r.remoteStore,c),v.label=5;case 5:return o++,[3,1];case 6:d=function(_){return Q(this,function(w){switch(w.label){case 0:return r.Vo.has(_)?[4,tu(r.localStore,_,!1).then(function(){tc(r.remoteStore,_),nu(r,_)}).catch(Ws)]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})},g=0,h=n,v.label=7;case 7:return g<h.length?(p=h[g],[5,d(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function wb(e){var t=ge(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jO.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=P$.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=S$.bind(null,t),t.vo._r=v$.bind(null,t.eventManager),t.vo.Mo=y$.bind(null,t.eventManager),t}function Eb(e){var t=ge(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=A$.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=k$.bind(null,t),t}var qO=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return Z(this,void 0,void 0,function(){return Q(this,function(n){switch(n.label){case 0:return this.R=Hd(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return TO(this.persistence,new EO,t.initialUser,this.R)},e.prototype.qo=function(t){return new zj(Xj.bs,this.R)},e.prototype.Bo=function(t){return new CO},e.prototype.terminate=function(){return Z(this,void 0,void 0,function(){return Q(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),HO=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Le(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r=this;return Q(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,Bj(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Eb(this.Qo.syncEngine)];case 4:return o.sent(),[4,_u(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return TO(this.persistence,new EO,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new Oj(r,n.asyncQueue)},t.prototype.qo=function(n){var r=ab(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new Lj(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,OO(),bh(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new CO},t}(qO),U$=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Le(t,e),t.prototype.initialize=function(n){return Z(this,void 0,void 0,function(){var r,o=this;return Q(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof cv?(this.sharedClientState.syncEngine={ui:D$.bind(null,r),ai:F$.bind(null,r),hi:V$.bind(null,r),fn:M$.bind(null,r),ci:R$.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return Z(o,void 0,void 0,function(){return Q(this,function(l){switch(l.label){case 0:return[4,L$(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=OO();if(!cv.yt(r))throw new ie(K.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=ab(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new cv(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(HO),py=function(){function e(){}return e.prototype.initialize=function(t,n){return Z(this,void 0,void 0,function(){var r=this;return Q(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return TI(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=N$.bind(null,this.syncEngine),[4,hy(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new g$},e.prototype.createDatastore=function(t){var n,r=Hd(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new t$(n));return function(s,u,l){return new i$(s,u,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(c){return TI(l.syncEngine,c,0)},u=wI.yt()?new wI:new Jj,new s$(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,l,c,d){var g=new w$(r,o,s,u,l,c);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return Z(this,void 0,void 0,function(){var n;return Q(this,function(r){switch(r.label){case 0:return n=ge(t),le("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,yu(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kd=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),j$=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return Z(this,void 0,void 0,function(){var n,r=this;return Q(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ie(K.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return Z(this,void 0,void 0,function(){var l,c,d,g,h,p;return Q(this,function(v){switch(v.label){case 0:return l=ge(s),c=ec(l.R)+"/documents",d={documents:u.map(function(_){return Zl(l.R,_)})},[4,l.$i("BatchGetDocuments",c,d)];case 1:return g=v.sent(),h=new Map,g.forEach(function(_){var w=function(S,b){return"found"in b?function(k,R){$e(!!R.found),R.found.name,R.found.updateTime;var C=Ri(k,R.found.name),U=Yn(R.found.updateTime),L=new br({mapValue:{fields:R.found.fields}});return Mn.newFoundDocument(C,U,L)}(S,b):"missing"in b?function(k,R){$e(!!R.missing),$e(!!R.readTime);var C=Ri(k,R.missing),U=Yn(R.readTime);return Mn.newNoDocument(C,U)}(S,b):Oe()}(l.R,_);h.set(w.key.toString(),w)}),p=[],[2,(u.forEach(function(_){var w=h.get(_.toString());$e(!!w),p.push(w)}),p)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Mc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return Z(this,void 0,void 0,function(){var t,n=this;return Q(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Ne.fromPath(s);n.mutations.push(new Z_(u,n.precondition(u)))}),[4,function(o,s){return Z(this,void 0,void 0,function(){var u,l,c;return Q(this,function(d){switch(d.label){case 0:return u=ge(o),l=ec(u.R)+"/documents",c={writes:s.map(function(g){return Wh(u.R,g)})},[4,u.Ni("Commit",l,c)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw Oe();n=nt.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new ie(K.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?Dn.updateTime(n):Dn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(nt.min()))throw new ie(K.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Dn.updateTime(n)}return Dn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),$$=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new lb(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Z(t,void 0,void 0,function(){var n,r,o=this;return Q(this,function(s){return n=new j$(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!qs(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!QC(n)}return!1},e}(),B$=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=yn.UNAUTHENTICATED,this.clientId=PC.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return Z(o,void 0,void 0,function(){return Q(this,function(u){switch(u.label){case 0:return le("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return Z(this,void 0,void 0,function(){return Q(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ie(K.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Z(t,void 0,void 0,function(){var r,o;return Q(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=wu(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(e,t){return Z(this,void 0,void 0,function(){var n,r,o=this;return Q(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return Z(o,void 0,void 0,function(){return Q(this,function(l){switch(l.label){case 0:return r.isEqual(u)?[3,2]:[4,IO(t.localStore,u)];case 1:l.sent(),r=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function KO(e,t){return Z(this,void 0,void 0,function(){var n,r;return Q(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Tb(e)];case 1:return n=o.sent(),le("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return Z(this,void 0,void 0,function(){var c,d;return Q(this,function(g){switch(g.label){case 0:return(c=ge(u)).asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials"),d=Vo(c),c.Or.add(3),[4,yu(c)];case 1:return g.sent(),d&&c.Br.set("Unknown"),[4,c.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),c.Or.delete(3),[4,Fc(c)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Tb(e){return Z(this,void 0,void 0,function(){return Q(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(le("FirestoreClient","Using default OfflineComponentProvider"),[4,WO(e,new qO)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function Gd(e){return Z(this,void 0,void 0,function(){return Q(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(le("FirestoreClient","Using default OnlineComponentProvider"),[4,KO(e,new py)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function SI(e){return Tb(e).then(function(t){return t.persistence})}function GO(e){return Tb(e).then(function(t){return t.localStore})}function AI(e){return Gd(e).then(function(t){return t.remoteStore})}function zO(e){return Gd(e).then(function(t){return t.syncEngine})}function ru(e){return Z(this,void 0,void 0,function(){var t,n;return Q(this,function(r){switch(r.label){case 0:return[4,Gd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=E$.bind(null,t.syncEngine),n.onUnlisten=T$.bind(null,t.syncEngine),n)]}})})}function kI(e,t,n){var r=this;n===void 0&&(n={});var o=new fr;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return Q(this,function(u){switch(u.label){case 0:return s=function(l,c,d,g,h){var p=new Kd({next:function(_){c.enqueueAndForget(function(){return pb(l,v)});var w=_.docs.has(d);!w&&_.fromCache?h.reject(new ie(K.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&g&&g.source==="server"?h.reject(new ie(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),v=new gb(Pc(d.path),p,{includeMetadataChanges:!0,so:!0});return db(l,v)},[4,ru(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function CI(e,t,n){var r=this;n===void 0&&(n={});var o=new fr;return e.asyncQueue.enqueueAndForget(function(){return Z(r,void 0,void 0,function(){var s;return Q(this,function(u){switch(u.label){case 0:return s=function(l,c,d,g,h){var p=new Kd({next:function(_){c.enqueueAndForget(function(){return pb(l,v)}),_.fromCache&&g.source==="server"?h.reject(new ie(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),v=new gb(d,p,{includeMetadataChanges:!0,so:!0});return db(l,v)},[4,ru(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var q$=function(e,t,n,r,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},Jh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),OI=new Map,YO=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},NI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(yn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),H$=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),W$=function(){function e(t){var n=this;this.currentUser=yn.UNAUTHENTICATED,this.oc=new fr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){le("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(le("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(le("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?($e(typeof o.accessToken=="string"),new YO(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return Z(r,void 0,void 0,function(){return Q(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new yn(t)},e}(),K$=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=yn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),G$=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new K$(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(yn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(e,t,n){if(!n)throw new ie(K.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Sb(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new ie(K.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function XO(e,t,n,r){if(t===!0&&r===!0)throw new ie(K.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function PI(e){if(!Ne.isDocumentKey(e))throw new ie(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function xI(e){if(Ne.isDocumentKey(e))throw new ie(K.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function zd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":Oe()}function pt(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ie(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zd(e);throw new ie(K.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function RI(e,t){if(t<=0)throw new ie(K.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new ie(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ie(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,XO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),nc=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DI({}),this._settingsFrozen=!1,t instanceof Jh?(this._databaseId=t,this._credentials=new NI):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ie(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jh(r.options.projectId)}(t),this._credentials=new W$(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new NI;switch(n.type){case"gapi":var r=n.client;return $e(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new G$(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new ie(K.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=OI.get(t))&&(le("ComponentProvider","Removing Datastore"),OI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),$t=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Io(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Ir=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Io=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Pc(o))||this)._path=o,s.type="collection",s}return Le(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new $t(this.firestore,null,new Ne(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(Ir);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=It(e),Ib("collection","path",t),e instanceof nc)return xI(n=dt.fromString.apply(dt,Lt([t],r))),new Io(e,null,n);if(!(e instanceof $t||e instanceof Io))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xI(n=dt.fromString.apply(dt,Lt([e.path],r)).child(dt.fromString(t))),new Io(e.firestore,null,n)}function wh(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=It(e),arguments.length===1&&(t=PC.u()),Ib("doc","path",t),e instanceof nc)return PI(n=dt.fromString.apply(dt,Lt([t],r))),new $t(e,null,new Ne(n));if(!(e instanceof $t||e instanceof Io))throw new ie(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return PI(n=e._path.child(dt.fromString.apply(dt,Lt([t],r)))),new $t(e.firestore,e instanceof Io?e.converter:null,new Ne(n))}function JO(e,t){return e=It(e),t=It(t),(e instanceof $t||e instanceof Io)&&(t instanceof $t||t instanceof Io)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function ZO(e,t){return e=It(e),t=It(t),e instanceof Ir&&t instanceof Ir&&e.firestore===t.firestore&&xc(e._query,t._query)&&e.converter===t.converter}var z$=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new lb(this,"async_queue_retry"),this.Ic=function(){var r=bh();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=bh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=bh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new fr;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return Z(this,void 0,void 0,function(){var t,n=this;return Q(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Hs(t=r.sent()))throw t;return le("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,tn("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=p$.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&Oe()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return Z(this,void 0,void 0,function(){var t;return Q(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function iu(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var Y$=-1,cn=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new z$,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Le(t,e),t.prototype._terminate=function(){return this._firestoreClient||eN(this),this._firestoreClient.terminate()},t}(nc);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(e){return e._firestoreClient||eN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function eN(e){var t,n=e._freezeSettings(),r=function(o,s,u,l){return new q$(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new B$(e._credentials,e._queue,r)}function LI(e,t,n){var r=this,o=new fr;return e.asyncQueue.enqueue(function(){return Z(r,void 0,void 0,function(){var s;return Q(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,WO(e,n)];case 1:return u.sent(),[4,KO(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function MI(e){if(e._initialized||e._terminated)throw new ie(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),Vs=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(cr.fromBase64String(t))}catch(n){throw new ie(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(cr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),Ks=function(e){this._methodName=e},Yd=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new ie(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ie(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return ot(this._lat,t._lat)||ot(this._long,t._long)},e}(),X$=/^__.*__$/,Q$=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Fo(t,this.data,this.fieldMask,n,this.fieldTransforms):new Lc(t,this.data,n,this.fieldTransforms)},e}(),tN=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new Fo(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe()}}var rN=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Zh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(nN(this.Nc)&&X$.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),J$=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Hd(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new rN({Nc:t,methodName:n,qc:r,path:Zr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Gs(e){var t=e._freezeSettings(),n=Hd(e._databaseId);return new J$(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Xd(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Ob("Data must be an object, but it was:",u,r);var l,c,d=sN(r,u);if(s.merge)l=new Ha(u.fieldMask),c=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,p=s.mergeFields;h<p.length;h++){var v=my(t,p[h],n);if(!u.contains(v))throw new ie(K.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");uN(g,v)||g.push(v)}l=new Ha(g),c=u.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,c=u.fieldTransforms;return new Q$(new br(d),l,c)}var Ab=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Le(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(Ks);function iN(e,t,n){return new rN({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Z$=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Le(t,e),t.prototype._toFieldTransform=function(n){return new Dc(n.path,new za)},t.prototype.isEqual=function(n){return n instanceof t},t}(Ks),eB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Le(t,e),t.prototype._toFieldTransform=function(n){var r=iN(this,n,!0),o=this.Kc.map(function(u){return zs(u,r)}),s=new Ms(o);return new Dc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ks),tB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Le(t,e),t.prototype._toFieldTransform=function(n){var r=iN(this,n,!0),o=this.Kc.map(function(u){return zs(u,r)}),s=new Fs(o);return new Dc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(Ks),nB=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Le(t,e),t.prototype._toFieldTransform=function(n){var r=new Ya(n.R,WC(n.R,this.Qc));return new Dc(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(Ks);function kb(e,t,n,r){var o=e.Uc(1,t,n);Ob("Data must be an object, but it was:",o,r);var s=[],u=br.empty();Bs(r,function(c,d){var g=Nb(t,c,n);d=It(d);var h=o.Oc(g);if(d instanceof Ab)s.push(g);else{var p=zs(d,h);p!=null&&(s.push(g),u.set(g,p))}});var l=new Ha(s);return new tN(u,l,o.fieldTransforms)}function Cb(e,t,n,r,o,s){var u=e.Uc(1,t,n),l=[my(t,r,n)],c=[o];if(s.length%2!=0)throw new ie(K.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(my(t,s[d])),c.push(s[d+1]);for(var g=[],h=br.empty(),p=l.length-1;p>=0;--p)if(!uN(g,l[p])){var v=l[p],_=c[p];_=It(_);var w=u.Oc(v);if(_ instanceof Ab)g.push(v);else{var S=zs(_,w);S!=null&&(g.push(v),h.set(v,S))}}var b=new Ha(g);return new tN(h,b,u.fieldTransforms)}function oN(e,t,n,r){return r===void 0&&(r=!1),zs(n,e.Uc(r?4:3,t))}function zs(e,t){if(aN(e=It(e)))return Ob("Unsupported field value:",t,e),sN(e,t);if(e instanceof Ks)return function(n,r){if(!nN(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var c=zs(l[u],r.Mc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=It(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WC(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=ur.fromDate(n);return{timestampValue:Jl(r.R,o)}}if(n instanceof ur)return o=new ur(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Jl(r.R,o)};if(n instanceof Yd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vs)return{bytesValue:tO(r.R,n._byteString)};if(n instanceof $t){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:nb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+zd(n))}(e,t)}function sN(e,t){var n={};return RC(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(e,function(r,o){var s=zs(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function aN(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ur||e instanceof Yd||e instanceof Vs||e instanceof $t||e instanceof Ks)}function Ob(e,t,n){if(!aN(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=zd(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function my(e,t,n){if((t=It(t))instanceof pi)return t._internalPath;if(typeof t=="string")return Nb(e,t);throw Zh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var rB=new RegExp("[~\\*/\\[\\]]");function Nb(e,t,n){if(t.search(rB)>=0)throw Zh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(pi.bind.apply(pi,Lt([void 0],t.split("."))))()._internalPath}catch{throw Zh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Zh(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var c="";return(s||u)&&(c+=" (found",s&&(c+=" in field "+r),u&&(c+=" in document "+o),c+=")"),new ie(K.INVALID_ARGUMENT,(l+=". ")+e+c)}function uN(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rc=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new $t(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new iB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(ed("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),iB=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Le(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(rc);function ed(e,t){return typeof t=="string"?Nb(e,t):t instanceof pi?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Es=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),Li=function(e){function t(n,r,o,s,u,l){var c=this;return(c=e.call(this,n,r,o,s,l)||this)._firestore=n,c._firestoreImpl=n,c.metadata=u,c}return Le(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(ed("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(rc),Cl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Le(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(Li),mo=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Es(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Cl(r._firestore,r._userDataWriter,o.key,o,new Es(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Cl(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Es(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var c=new Cl(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Es(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,g=-1;return l.type!==0&&(d=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(g=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:oB(l.type),doc:c,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function oB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe()}}function lN(e,t){return e instanceof Li&&t instanceof Li?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof mo&&t instanceof mo&&e._firestore===t._firestore&&ZO(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(e){if(Hh(e)&&e.explicitOrderBy.length===0)throw new ie(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Vc=function(){};function ro(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var sB=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Le(t,e),t.prototype._apply=function(n){var r=Gs(n.firestore),o=function(s,u,l,c,d,g,h){var p;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ie(K.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){$I(h,g);for(var v=[],_=0,w=h;_<w.length;_++){var S=w[_];v.push(jI(c,s,S))}p={arrayValue:{values:v}}}else p=jI(c,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||$I(h,g),p=oN(l,"where",h,g==="in"||g==="not-in");var b=Er.create(d,g,p);return function(k,R){if(R.g()){var C=Q_(k);if(C!==null&&!C.isEqual(R.field))throw new ie(K.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+C.toString()+"' and '"+R.field.toString()+"'");var U=X_(k);U!==null&&hN(k,R.field,U)}var L=function(B,$){for(var H=0,N=B.filters;H<N.length;H++){var ke=N[H];if($.indexOf(ke.op)>=0)return ke.op}return null}(k,function(B){switch(B){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(L!==null)throw L===R.op?new ie(K.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+R.op.toString()+"' filter."):new ie(K.INVALID_ARGUMENT,"Invalid query. You cannot use '"+R.op.toString()+"' filters with '"+L.toString()+"' filters.")}(s,b),b}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ir(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new $i(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Vc),aB=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Le(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ie(K.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ma(s,u);return function(c,d){if(X_(c)===null){var g=Q_(c);g!==null&&hN(c,g,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Ir(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new $i(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(Vc),FI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Le(t,e),t.prototype._apply=function(n){return new Ir(n.firestore,n.converter,jC(n._query,this.Hc,this.Jc))},t}(Vc),VI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Le(t,e),t.prototype._apply=function(n){var r=fN(n,this.type,this.Yc,this.Xc);return new Ir(n.firestore,n.converter,function(o,s){return new $i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(Vc),UI=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Le(t,e),t.prototype._apply=function(n){var r=fN(n,this.type,this.Yc,this.Xc);return new Ir(n.firestore,n.converter,function(o,s){return new $i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(Vc);function fN(e,t,n,r){if(n[0]=It(n[0]),n[0]instanceof rc)return function(s,u,l,c,d){if(!c)throw new ie(K.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],h=0,p=Ga(s);h<p.length;h++){var v=p[h];if(v.field.isKeyField())g.push($h(u,c.key));else{var _=c.data.field(v.field);if(G_(_))throw new ie(K.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var w=v.field.canonicalString();throw new ie(K.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+w+"' (used as the orderBy) does not exist.")}g.push(_)}}return new Ql(g,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=Gs(e.firestore);return function(s,u,l,c,d,g){var h=s.explicitOrderBy;if(d.length>h.length)throw new ie(K.INVALID_ARGUMENT,"Too many arguments provided to "+c+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var p=[],v=0;v<d.length;v++){var _=d[v];if(h[v].field.isKeyField()){if(typeof _!="string")throw new ie(K.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+c+"(), but got a "+typeof _);if(!J_(s)&&_.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+c+"() must be a plain document ID, but '"+_+"' contains a slash.");var w=s.path.child(dt.fromString(_));if(!Ne.isDocumentKey(w))throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+c+"() must result in a valid document path, but '"+w+"' is not because it contains an odd number of segments.");var S=new Ne(w);p.push($h(u,S))}else{var b=oN(l,c,_);p.push(b)}}return new Ql(p,g)}(e._query,e.firestore._databaseId,o,t,n,r)}function jI(e,t,n){if(typeof(n=It(n))=="string"){if(n==="")throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!J_(t)&&n.indexOf("/")!==-1)throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(dt.fromString(n));if(!Ne.isDocumentKey(r))throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return $h(e,new Ne(r))}if(n instanceof $t)return $h(e,n._key);throw new ie(K.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zd(n)+".")}function $I(e,t){if(!Array.isArray(e)||e.length===0)throw new ie(K.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ie(K.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function hN(e,t,n){if(!n.isEqual(t))throw new ie(K.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pb=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ls(t)){case 0:return null;case 1:return t.booleanValue;case 2:return en(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Wa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw Oe()}},e.prototype.convertObject=function(t,n){var r=this,o={};return Bs(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new Yd(en(t.latitude),en(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=LC(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yl(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=No(t);return new ur(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=dt.fromString(t);$e(lO(r));var o=new Jh(r.get(1),r.get(3)),s=new Ne(r.popFirst(5));return o.isEqual(n)||tn("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var uB=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Le(t,e),t.prototype.convertBytes=function(n){return new Vs(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new $t(this.firestore,null,r)},t}(Pb),lB=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gs(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=go(t,this._firestore),s=Qd(o.converter,n,r),u=Xd(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,Dn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=go(t,this._firestore);return u=typeof(n=It(n))=="string"||n instanceof pi?Cb(this._dataReader,"WriteBatch.update",l._key,n,r,o):kb(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,Dn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=go(t,this._firestore);return this._mutations=this._mutations.concat(new Mc(n._key,Dn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ie(K.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(e,t){if((e=It(e)).firestore!==t)throw new ie(K.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cs=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Le(t,e),t.prototype.convertBytes=function(n){return new Vs(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new $t(this.firestore,null,r)},t}(Pb);function BI(e,t,n){e=pt(e,$t);var r=pt(e.firestore,cn),o=Qd(e.converter,t,n);return Uc(r,[Xd(Gs(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,Dn.none())])}function qI(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=pt(e,$t);var s=pt(e.firestore,cn),u=Gs(s);return Uc(s,[(typeof(t=It(t))=="string"||t instanceof pi?Cb(u,"updateDoc",e._key,t,n,r):kb(u,"updateDoc",e._key,t)).toMutation(e._key,Dn.exists(!0))])}function dN(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=It(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||iu(o[l])||(u=o[l],l++);var c,d,g,h={includeMetadataChanges:u.includeMetadataChanges};if(iu(o[l])){var p=o[l];o[l]=(t=p.next)===null||t===void 0?void 0:t.bind(p),o[l+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),o[l+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}if(e instanceof $t)d=pt(e.firestore,cn),g=Pc(e._key.path),c={next:function(w){o[l]&&o[l](gy(d,e,w))},error:o[l+1],complete:o[l+2]};else{var v=pt(e,Ir);d=pt(v.firestore,cn),g=v._query;var _=new Cs(d);c={next:function(w){o[l]&&o[l](new mo(d,_,v,w))},error:o[l+1],complete:o[l+2]},cN(e._query)}return function(w,S,b,k){var R=this,C=new Kd(k),U=new gb(S,C,b);return w.asyncQueue.enqueueAndForget(function(){return Z(R,void 0,void 0,function(){var L;return Q(this,function(B){switch(B.label){case 0:return L=db,[4,ru(w)];case 1:return[2,L.apply(void 0,[B.sent(),U])]}})})}),function(){C.Wo(),w.asyncQueue.enqueueAndForget(function(){return Z(R,void 0,void 0,function(){var L;return Q(this,function(B){switch(B.label){case 0:return L=pb,[4,ru(w)];case 1:return[2,L.apply(void 0,[B.sent(),U])]}})})})}}(xn(d),g,h,c)}function Uc(e,t){return function(n,r){var o=this,s=new fr;return n.asyncQueue.enqueueAndForget(function(){return Z(o,void 0,void 0,function(){var u;return Q(this,function(l){switch(l.label){case 0:return u=I$,[4,zO(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(xn(e),t)}function gy(e,t,n){var r=n.docs.get(t._key),o=new Cs(e);return new Li(e,o,t._key,r,new Es(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cB=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Le(t,e),t.prototype.get=function(n){var r=this,o=go(n,this._firestore),s=new Cs(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new Li(r._firestore,s,o._key,u._document,new Es(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Gs(t)}return e.prototype.get=function(t){var n=this,r=go(t,this._firestore),o=new uB(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return Oe();var u=s[0];if(u.isFoundDocument())return new rc(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new rc(n._firestore,o,r._key,null,r.converter);throw Oe()})},e.prototype.set=function(t,n,r){var o=go(t,this._firestore),s=Qd(o.converter,n,r),u=Xd(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=go(t,this._firestore);return u=typeof(n=It(n))=="string"||n instanceof pi?Cb(this._dataReader,"Transaction.update",l._key,n,r,o):kb(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=go(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(){if(typeof Uint8Array>"u")throw new ie(K.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function WI(){if(typeof atob>"u")throw new ie(K.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pN=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return WI(),new e(Vs.fromBase64String(t))},e.fromUint8Array=function(t){return HI(),new e(Vs.fromUint8Array(t))},e.prototype.toBase64=function(){return WI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return HI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),fB=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){MI(r=pt(r,cn));var s=xn(r),u=r._freezeSettings(),l=new py;return LI(s,l,new HO(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){MI(n=pt(n,cn));var r=xn(n),o=n._freezeSettings(),s=new py;return LI(r,s,new U$(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new ie(K.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new fr;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return Z(r,void 0,void 0,function(){var s;return Q(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return Z(this,void 0,void 0,function(){var c;return Q(this,function(d){switch(d.label){case 0:return Ja.yt()?(c=l+"main",[4,Ja.delete(c)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(ab(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),mN=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Jh||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Uh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,l){var c;l===void 0&&(l={});var d=(o=pt(o,nc))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Uh("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+u,ssl:!1})),l.mockUserToken){var g,h;if(typeof l.mockUserToken=="string")g=l.mockUserToken,h=yn.MOCK_USER;else{g=Ek(l.mockUserToken,(c=o._app)===null||c===void 0?void 0:c.options.projectId);var p=l.mockUserToken.sub||l.mockUserToken.user_id;if(!p)throw new ie(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new yn(p)}o._credentials=new H$(new YO(g,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return Q(this,function(s){switch(s.label){case 0:return[4,SI(t)];case 1:return r=s.sent(),[4,AI(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var l=ge(u);return l.Or.delete(0),Fc(l)}(o))]}})})})}(xn(pt(this._delegate,cn)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return Z(n,void 0,void 0,function(){var r,o;return Q(this,function(s){switch(s.label){case 0:return[4,SI(t)];case 1:return r=s.sent(),[4,AI(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return Z(this,void 0,void 0,function(){var l;return Q(this,function(c){switch(c.label){case 0:return(l=ge(u)).Or.add(0),[4,yu(l)];case 1:return c.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(xn(pt(this._delegate,cn)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&XO("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new fr;return t.asyncQueue.enqueueAndForget(function(){return Z(n,void 0,void 0,function(){var o;return Q(this,function(s){switch(s.label){case 0:return o=C$,[4,zO(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(xn(pt(this._delegate,cn)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,l=new Kd(s);return o.asyncQueue.enqueueAndForget(function(){return Z(u,void 0,void 0,function(){var c;return Q(this,function(d){switch(d.label){case 0:return c=function(g,h){ge(g).Gr.add(h),h.next()},[4,ru(o)];case 1:return[2,c.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return Z(u,void 0,void 0,function(){var c;return Q(this,function(d){switch(d.label){case 0:return c=function(g,h){ge(g).Gr.delete(h)},[4,ru(o)];case 1:return[2,c.apply(void 0,[d.sent(),l])]}})})})}}(xn(n=pt(n,cn)),iu(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new ie(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new td(this,QO(this._delegate,t))}catch(n){throw Hn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Os(this,wh(this._delegate,t))}catch(n){throw Hn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ep(this,function(n,r){if(n=pt(n,nc),Ib("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new ie(K.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ir(n,null,function(o){return new $i(dt.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Hn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var l=this,c=new fr;return s.asyncQueue.enqueueAndForget(function(){return Z(l,void 0,void 0,function(){var d;return Q(this,function(g){switch(g.label){case 0:return[4,function(h){return Gd(h).then(function(p){return p.datastore})}(s)];case 1:return d=g.sent(),new $$(s.asyncQueue,d,u,c).run(),[2]}})})}),c.promise}(xn(r),function(s){return o(new cB(r,s))})}(this._delegate,function(r){return t(new gN(n,r))})},e.prototype.batch=function(){var t=this;return xn(this._delegate),new vN(new lB(this._delegate,function(n){return Uc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new ie(K.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new ie(K.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Jd=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Le(t,e),t.prototype.convertBytes=function(n){return new pN(new Vs(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Os.eu(r,this.firestore,null)},t}(Pb);function hB(e){var t;t=e,Yr.setLogLevel(t)}var gN=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Jd(t)}return e.prototype.get=function(t){var n=this,r=Ts(t);return this._delegate.get(r).then(function(o){return new ic(n._firestore,new Li(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=Ts(t);return r?(Sb("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Ts(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Lt([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ts(t);return this._delegate.delete(n),this},e}(),vN=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=Ts(t);return r?(Sb("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Ts(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Lt([l,n,r],s)),this},e.prototype.delete=function(t){var n=Ts(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Zd=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Cl(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new oc(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new Jd(t),n),o.set(n,s)),s},e}();Zd.su=new WeakMap;var Os=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Jd(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new ie(K.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new $t(n._delegate,r,new Ne(t)))},e.eu=function(t,n,r){return new e(n,new $t(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new td(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new td(this.firestore,QO(this._delegate,t))}catch(n){throw Hn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=It(t))instanceof $t&&JO(this._delegate,t)},e.prototype.set=function(t,n){n=Sb("DocumentReference.set",n);try{return n?BI(this._delegate,t,n):BI(this._delegate,t)}catch(r){throw Hn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?qI(this._delegate,t):qI.apply(void 0,Lt([this._delegate,t,n],r))}catch(s){throw Hn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Uc(pt((t=this._delegate).firestore,cn),[new Mc(t._key,Dn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=yN(n),s=_N(n,function(u){return new ic(t.firestore,new Li(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return dN(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=pt(r,$t);var o=pt(r.firestore,cn),s=xn(o),u=new Cs(o);return function(l,c){var d=this,g=new fr;return l.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return Q(this,function(p){switch(p.label){case 0:return h=function(v,_,w){return Z(this,void 0,void 0,function(){var S,b;return Q(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,function(R,C){var U=ge(R);return U.persistence.runTransaction("read document","readonly",function(L){return U.Mn.mn(L,C)})}(v,_)];case 1:return(b=k.sent()).isFoundDocument()?w.resolve(b):b.isNoDocument()?w.resolve(null):w.reject(new ie(K.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=k.sent(),b=wu(S,"Failed to get document '"+_+" from cache"),w.reject(b),[3,3];case 3:return[2]}})})},[4,GO(l)];case 1:return[2,h.apply(void 0,[p.sent(),c,g])]}})})}),g.promise}(s,r._key).then(function(l){return new Li(o,u,r._key,l,new Es(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=pt(r,$t);var o=pt(r.firestore,cn);return kI(xn(o),r._key,{source:"server"}).then(function(s){return gy(o,r,s)})}(this._delegate):function(r){r=pt(r,$t);var o=pt(r.firestore,cn);return kI(xn(o),r._key).then(function(s){return gy(o,r,s)})}(this._delegate)).then(function(r){return new ic(n.firestore,new Li(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Zd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Hn(e,t,n){return e.message=e.message.replace(t,n),e}function yN(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!iu(r))return r}return{}}function _N(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=iu(e[0])?e[0]:iu(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var ic=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Os(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return lN(this._delegate,t._delegate)},e}(),oc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Le(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(ic),ep=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Jd(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,ro(this._delegate,function(o,s,u){var l=s,c=ed("where",o);return new sB(c,l,u)}(t,n,r)))}catch(o){throw Hn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ro(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=ed("orderBy",r);return new aB(u,s)}(t,n)))}catch(r){throw Hn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ro(this._delegate,function(n){return RI("limit",n),new FI("limit",n,"F")}(t)))}catch(n){throw Hn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ro(this._delegate,function(n){return RI("limitToLast",n),new FI("limitToLast",n,"L")}(t)))}catch(n){throw Hn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ro(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new VI("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Hn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ro(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new VI("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Hn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ro(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new UI("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Hn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ro(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new UI("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Hn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ZO(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=pt(r,Ir);var o=pt(r.firestore,cn),s=xn(o),u=new Cs(o);return function(l,c){var d=this,g=new fr;return l.asyncQueue.enqueueAndForget(function(){return Z(d,void 0,void 0,function(){var h;return Q(this,function(p){switch(p.label){case 0:return h=function(v,_,w){return Z(this,void 0,void 0,function(){var S,b,k,R,C;return Q(this,function(U){switch(U.label){case 0:return U.trys.push([0,2,,3]),[4,Yh(v,_,!0)];case 1:return C=U.sent(),S=new UO(_,C.Bn),b=S._o(C.documents),k=S.applyChanges(b,!1),w.resolve(k.snapshot),[3,3];case 2:return R=U.sent(),C=wu(R,"Failed to execute query '"+_+" against cache"),w.reject(C),[3,3];case 3:return[2]}})})},[4,GO(l)];case 1:return[2,h.apply(void 0,[p.sent(),c,g])]}})})}),g.promise}(s,r._query).then(function(l){return new mo(o,u,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=pt(r,Ir);var o=pt(r.firestore,cn),s=xn(o),u=new Cs(o);return CI(s,r._query,{source:"server"}).then(function(l){return new mo(o,u,r,l)})}(this._delegate):function(r){r=pt(r,Ir);var o=pt(r.firestore,cn),s=xn(o),u=new Cs(o);return cN(r._query),CI(s,r._query).then(function(l){return new mo(o,u,r,l)})}(this._delegate)).then(function(r){return new vy(n.firestore,new mo(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=yN(n),s=_N(n,function(u){return new vy(t.firestore,new mo(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return dN(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Zd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),dB=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new oc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),vy=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ep(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new oc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new dB(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new oc(r._firestore,o))})},e.prototype.isEqual=function(t){return lN(this._delegate,t._delegate)},e}(),td=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Le(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Os(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Os(this.firestore,n===void 0?wh(this._delegate):wh(this._delegate,n))}catch(r){throw Hn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=pt(o.firestore,cn),l=wh(o),c=Qd(o.converter,s);return Uc(u,[Xd(Gs(o.firestore),"addDoc",l._key,c,o.converter!==null,{}).toMutation(l._key,Dn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Os(r.firestore,o)})},t.prototype.isEqual=function(n){return JO(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Zd.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(ep);function Ts(e){return pt(e,$t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pB=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(pi.bind.apply(pi,Lt([void 0],t)))}return e.documentId=function(){return new e(Zr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=It(t))instanceof pi&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),mB=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Z$("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Ab("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new eB("arrayUnion",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new tB("arrayRemove",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new nB("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),gB={Firestore:mN,GeoPoint:Yd,Timestamp:ur,Blob:pN,Transaction:gN,WriteBatch:vN,DocumentReference:Os,DocumentSnapshot:ic,Query:ep,QueryDocumentSnapshot:oc,QuerySnapshot:vy,CollectionReference:td,FieldPath:pB,FieldValue:mB,setLogLevel:hB,CACHE_SIZE_UNLIMITED:Y$};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(e){(function(t,n){t.INTERNAL.registerComponent(new bc("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},gB)))})(e,function(t,n){return new mN(t,new cn(t,n),new fB)}),e.registerVersion("@firebase/firestore","2.4.1")}vB(Me);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bN="firebasestorage.googleapis.com",wN="storageBucket",yB=2*60*1e3,_B=10*60*1e3,on=function(e){Le(t,e);function t(n,r){var o=e.call(this,fv(n),"Firebase Storage: "+r+" ("+fv(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return fv(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(Ik);function fv(e){return"storage/"+e}function xb(){var e="An unknown error occurred, please check the error payload for server response.";return new on("unknown",e)}function bB(e){return new on("object-not-found","Object '"+e+"' does not exist.")}function wB(e){return new on("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function EB(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new on("unauthenticated",e)}function TB(){return new on("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function IB(e){return new on("unauthorized","User does not have permission to access '"+e+"'.")}function SB(){return new on("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function EN(){return new on("canceled","User canceled the upload/download.")}function AB(e){return new on("invalid-url","Invalid URL '"+e+"'.")}function kB(e){return new on("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function CB(){return new on("no-default-bucket","No default bucket found. Did you set the '"+wN+"' property when initializing the app?")}function TN(){return new on("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function OB(){return new on("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function NB(){return new on("no-download-url","The given file does not have any download URLs.")}function Fa(e){return new on("invalid-argument",e)}function IN(){return new on("app-deleted","The Firebase app was deleted.")}function SN(e){return new on("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ol(e,t){return new on("invalid-format","String does not match format '"+e+"': "+t)}function ih(e){throw new on("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hv=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function AN(e,t){switch(e){case Rr.RAW:return new hv(kN(t));case Rr.BASE64:case Rr.BASE64URL:return new hv(CN(e,t));case Rr.DATA_URL:return new hv(RB(t),DB(t))}throw xb()}function kN(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function xB(e){var t;try{t=decodeURIComponent(e)}catch{throw Ol(Rr.DATA_URL,"Malformed data URL.")}return kN(t)}function CN(e,t){switch(e){case Rr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw Ol(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case Rr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw Ol(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=PB(t)}catch{throw Ol(e,"Invalid character found")}for(var c=new Uint8Array(l.length),d=0;d<l.length;d++)c[d]=l.charCodeAt(d);return c}var ON=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ol(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=LB(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function RB(e){var t=new ON(e);return t.base64?CN(Rr.BASE64,t.rest):xB(t.rest)}function DB(e){var t=new ON(e);return t.contentType}function LB(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MB={STATE_CHANGED:"state_changed"},Wn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function dv(e){switch(e){case"running":case"pausing":case"canceling":return Wn.RUNNING;case"paused":return Wn.PAUSED;case"success":return Wn.SUCCESS;case"canceled":return Wn.CANCELED;case"error":return Wn.ERROR;default:return Wn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Ns||(Ns={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FB=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ns.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ns.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ns.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw ih("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ih("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ih("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ih("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function VB(){return new FB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UB=function(){function e(){}return e.prototype.createConnection=function(){return VB()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw kB(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}var u="(/(.*))?$",l=new RegExp("^gs://"+o+u,"i"),c={bucket:1,path:3};function d(H){H.path_=decodeURIComponent(H.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+p,"i"),_={bucket:1,path:3},w=n===bN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",b=new RegExp("^https?://"+w+"/"+o+"/"+S,"i"),k={bucket:1,path:2},R=[{regex:l,indices:c,postModify:s},{regex:v,indices:_,postModify:d},{regex:b,indices:k,postModify:d}],C=0;C<R.length;C++){var U=R[C],L=U.regex.exec(t);if(L){var B=L[U.indices.bucket],$=L[U.indices.path];$||($=""),r=new e(B,$),U.postModify(r);break}}if(r==null)throw AB(t);return r},e}(),jB=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(e,t,n){var r=1,o=null,s=!1,u=0;function l(){return u===2}var c=!1;function d(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];c||(c=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];if(!c){if(_){d.call.apply(d,Lt([null,_],w));return}var b=l()||s;if(b){d.call.apply(d,Lt([null,_],w));return}r<64&&(r*=2);var k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,g(k)}}var p=!1;function v(_){p||(p=!0,!c&&(o!==null?(_||(u=2),clearTimeout(o),g(0)):_||(u=1)))}return g(0),setTimeout(function(){s=!0,v(!0)},n),v}function BB(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qB(e){return e!==void 0}function HB(e){return typeof e=="function"}function WB(e){return typeof e=="object"&&!Array.isArray(e)}function tp(e){return typeof e=="string"||e instanceof String}function KI(e){return Rb()&&e instanceof Blob}function Rb(){return typeof Blob<"u"}function yy(e,t,n,r){if(r<t)throw Fa("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Fa("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function NN(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var KB=function(){function e(t,n,r,o,s,u,l,c,d,g,h){var p=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=c,this.progressCallback_=g,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(v,_){p.resolve_=v,p.reject_=_,p.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new oh(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function l(c){var d=c.loaded,g=c.lengthComputable?c.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,g)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(l),t.pendingConnection_=null;var c=u.getErrorCode()===Ns.NO_ERROR,d=u.getStatus();if(!c||t.isRetryStatusCode_(d)){var g=u.getErrorCode()===Ns.ABORT;o(!1,new oh(!1,null,g));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new oh(h,u))})}function r(o,s){var u=t.resolve_,l=t.reject_,c=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(c,c.getResponseText());qB(d)?u(d):u()}catch(h){l(h)}else if(c!==null){var g=xb();g.serverResponse=c.getResponseText(),t.errorCallback_?l(t.errorCallback_(c,g)):l(g)}else if(s.canceled){var g=t.appDelete_?IN():EN();l(g)}else{var g=SB();l(g)}}this.canceled_?r(!1,new oh(!1,null,!0)):this.backoffId_=$B(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&BB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),oh=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function GB(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function zB(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function YB(e,t){t&&(e["X-Firebase-GMPID"]=t)}function XB(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function QB(e,t,n,r,o,s){var u=NN(e.urlParams),l=e.url+u,c=Object.assign({},e.headers);return YB(c,t),GB(c,n),zB(c,s),XB(c,r),new KB(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=JB();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(Rb())return new Blob(e);throw new on("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function e3(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Db=function(){function e(t,n){var r=0,o="";KI(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(KI(this.data_)){var r=this.data_,o=e3(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Rb()){var r=t.map(function(c){return c instanceof e?c.data_:c});return new e(ZB.apply(null,r))}else{var o=t.map(function(c){return tp(c)?AN(Rr.RAW,c).data:c.data_}),s=0;o.forEach(function(c){s+=c.byteLength});var u=new Uint8Array(s),l=0;return o.forEach(function(c){for(var d=0;d<c.length;d++)u[l++]=c[d]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(e){var t;try{t=JSON.parse(e)}catch{return null}return WB(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function n3(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function PN(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(e,t){return t}var $n=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||r3}return e}(),sh=null;function i3(e){return!tp(e)||e.length<2?e:PN(e)}function np(){if(sh)return sh;var e=[];e.push(new $n("bucket")),e.push(new $n("generation")),e.push(new $n("metageneration")),e.push(new $n("name","fullPath",!0));function t(s,u){return i3(u)}var n=new $n("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new $n("size");return o.xform=r,e.push(o),e.push(new $n("timeCreated")),e.push(new $n("updated")),e.push(new $n("md5Hash",null,!0)),e.push(new $n("cacheControl",null,!0)),e.push(new $n("contentDisposition",null,!0)),e.push(new $n("contentEncoding",null,!0)),e.push(new $n("contentLanguage",null,!0)),e.push(new $n("contentType",null,!0)),e.push(new $n("metadata","customMetadata",!0)),sh=e,sh}function o3(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new Dr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function s3(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return o3(r,e),r}function xN(e,t,n){var r=Lb(t);if(r===null)return null;var o=r;return s3(e,o,n)}function a3(e,t,n){var r=Lb(t);if(r===null||!tp(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),l=u.map(function(c){var d=e.bucket,g=e.fullPath,h="/b/"+s(d)+"/o/"+s(g),p=jo(h,n),v=NN({alt:"media",token:c});return p+v});return l[0]}function Mb(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var GI="prefixes",zI="items";function u3(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[GI])for(var o=0,s=n[GI];o<s.length;o++){var u=s[o],l=u.replace(/\/$/,""),c=e._makeStorageReference(new Dr(t,l));r.prefixes.push(c)}if(n[zI])for(var d=0,g=n[zI];d<g.length;d++){var h=g[d],c=e._makeStorageReference(new Dr(t,h.name));r.items.push(c)}return r}function l3(e,t,n){var r=Lb(n);if(r===null)return null;var o=r;return u3(e,t,o)}var Bi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(e){if(!e)throw xb()}function rp(e,t){function n(r,o){var s=xN(e,o,t);return mi(s!==null),s}return n}function c3(e,t){function n(r,o){var s=l3(e,t,o);return mi(s!==null),s}return n}function f3(e,t){function n(r,o){var s=xN(e,o,t);return mi(s!==null),a3(s,o,e.host)}return n}function Eu(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=TB():o=EB():n.getStatus()===402?o=wB(e.bucket):n.getStatus()===403?o=IB(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function ip(e){var t=Eu(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=bB(e.path)),s.serverResponse=o.serverResponse,s}return n}function RN(e,t,n){var r=t.fullServerUrl(),o=jo(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new Bi(o,s,rp(e,n),u);return l.errorHandler=ip(t),l}function h3(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),l=jo(u,e.host),c="GET",d=e.maxOperationRetryTime,g=new Bi(l,c,c3(e,t.bucket),d);return g.urlParams=s,g.errorHandler=Eu(t),g}function d3(e,t,n){var r=t.fullServerUrl(),o=jo(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new Bi(o,s,f3(e,n),u);return l.errorHandler=ip(t),l}function p3(e,t,n,r){var o=t.fullServerUrl(),s=jo(o,e.host),u="PATCH",l=Mb(n,r),c={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,g=new Bi(s,u,rp(e,r),d);return g.headers=c,g.body=l,g.errorHandler=ip(t),g}function m3(e,t){var n=t.fullServerUrl(),r=jo(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(c,d){}var l=new Bi(r,o,u,s);return l.successCodes=[200,204],l.errorHandler=ip(t),l}function g3(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function DN(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=g3(null,t)),r}function v3(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var R="",C=0;C<2;C++)R=R+Math.random().toString().slice(2);return R}var c=l();u["Content-Type"]="multipart/related; boundary="+c;var d=DN(t,r,o),g=Mb(d,n),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",v=Db.getBlob(h,r,p);if(v===null)throw TN();var _={name:d.fullPath},w=jo(s,e.host),S="POST",b=e.maxUploadRetryTime,k=new Bi(w,S,rp(e,n),b);return k.urlParams=_,k.headers=u,k.body=v.uploadData(),k.errorHandler=Eu(t),k}var nd=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function Fb(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{mi(!1)}var r=t||["active"];return mi(!!n&&r.indexOf(n)!==-1),n}function y3(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=DN(t,r,o),l={name:u.fullPath},c=jo(s,e.host),d="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=Mb(u,n),p=e.maxUploadRetryTime;function v(w){Fb(w);var S;try{S=w.getResponseHeader("X-Goog-Upload-URL")}catch{mi(!1)}return mi(tp(S)),S}var _=new Bi(c,d,v,p);return _.urlParams=l,_.headers=g,_.body=h,_.errorHandler=Eu(t),_}function _3(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var g=Fb(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{mi(!1)}h||mi(!1);var p=Number(h);return mi(!isNaN(p)),new nd(p,r.size(),g==="final")}var u="POST",l=e.maxUploadRetryTime,c=new Bi(n,u,s,l);return c.headers=o,c.errorHandler=Eu(t),c}var YI=256*1024;function b3(e,t,n,r,o,s,u,l){var c=new nd(0,0);if(u?(c.current=u.current,c.total=u.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw OB();var d=c.total-c.current,g=d;o>0&&(g=Math.min(g,o));var h=c.current,p=h+g,v=g===d?"upload, finalize":"upload",_={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":""+c.current},w=r.slice(h,p);if(w===null)throw TN();function S(C,U){var L=Fb(C,["active","final"]),B=c.current+g,$=r.size(),H;return L==="final"?H=rp(t,s)(C,U):H=null,new nd(B,$,L==="final",H)}var b="POST",k=t.maxUploadRetryTime,R=new Bi(n,b,S,k);return R.headers=_,R.body=w.uploadData(),R.progressCallback=l||null,R.errorHandler=Eu(e),R}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w3=function(){function e(t,n,r){var o=HB(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LN=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=np(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=y3(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=_3(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=YI*this._chunkMultiplier,r=new nd(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var l;try{l=b3(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var c=t._ref.storage._makeRequest(l,s,u);t._request=c,c.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=YI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=RN(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=v3(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=EN(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=dv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new w3(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(dv(this._state)){case Wn.SUCCESS:Ea(this._resolve.bind(null,this.snapshot))();break;case Wn.CANCELED:case Wn.ERROR:var n=this._reject;Ea(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=dv(this._state);switch(n){case Wn.RUNNING:case Wn.PAUSED:t.next&&Ea(t.next.bind(t,this.snapshot))();break;case Wn.SUCCESS:t.complete&&Ea(t.complete.bind(t))();break;case Wn.CANCELED:case Wn.ERROR:t.error&&Ea(t.error.bind(t,this._error))();break;default:t.error&&Ea(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var op=function(){function e(t,n){this._service=t,n instanceof Dr?this._location=n:this._location=Dr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new Dr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return PN(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=t3(this._location.path);if(t===null)return null;var n=new Dr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw SN(t)},e}();function E3(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new LN(e,new Db(t),n)}function T3(e){var t={prefixes:[],items:[]};return MN(e,t).then(function(){return t})}function MN(e,t,n){return Z(this,void 0,void 0,function(){var r,o,s,u;return Q(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,FN(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,MN(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function FN(e,t){return Z(this,void 0,void 0,function(){var n,r;return Q(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&yy("options.maxResults",1,1e3,t.maxResults),n=t||{},r=h3(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function I3(e){return Z(this,void 0,void 0,function(){var t;return Q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=RN(e.storage,e._location,np()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function S3(e,t){return Z(this,void 0,void 0,function(){var n;return Q(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=p3(e.storage,e._location,t,np()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function A3(e){return Z(this,void 0,void 0,function(){var t;return Q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=d3(e.storage,e._location,np()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw NB();return r})]}})})}function k3(e){return Z(this,void 0,void 0,function(){var t;return Q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=m3(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function VN(e,t){var n=n3(e._location.path,t),r=new Dr(e._location.bucket,n);return new op(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e){return/^[A-Za-z]+:\/\//.test(e)}function C3(e,t){return new op(e,t)}function UN(e,t){if(e instanceof sp){var n=e;if(n._bucket==null)throw CB();var r=new op(n,n._bucket);return t!=null?UN(r,t):r}else return t!==void 0?VN(e,t):e}function O3(e,t){if(t&&_y(t)){if(e instanceof sp)return C3(e,t);throw Fa("To use ref(service, url), the first argument must be a Storage instance.")}else return UN(e,t)}function XI(e,t){var n=t==null?void 0:t[wN];return n==null?null:Dr.makeFromBucketSpec(n,e)}function N3(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:Ek(o,e.app.options.projectId))}var sp=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=bN,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yB,this._maxUploadRetryTime=_B,this._requests=new Set,s!=null?this._bucket=Dr.makeFromBucketSpec(s,this._host):this._bucket=XI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=Dr.makeFromBucketSpec(this._url,t):this._bucket=XI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){yy("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){yy("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return Z(this,void 0,void 0,function(){var t,n;return Q(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return Z(this,void 0,void 0,function(){var t,n;return Q(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new op(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new jB(IN());var s=QB(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return Z(this,void 0,void 0,function(){var n,r,o;return Q(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(e,t,n){return e=It(e),E3(e,t,n)}function x3(e){return e=It(e),I3(e)}function R3(e,t){return e=It(e),S3(e,t)}function D3(e,t){return e=It(e),FN(e,t)}function L3(e){return e=It(e),T3(e)}function M3(e){return e=It(e),A3(e)}function F3(e){return e=It(e),k3(e)}function QI(e,t){return e=It(e),O3(e,t)}function V3(e,t){return VN(e,t)}function U3(e,t,n,r){r===void 0&&(r={}),N3(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ah=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new ah(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new ah(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new ah(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new ah(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),ZI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new sc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new sc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=V3(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new JI(P3(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=Rr.RAW),this._throwIfRoot("putString");var o=AN(n,t),s=ja({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new JI(new LN(this._delegate,new Db(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return L3(this._delegate).then(function(n){return new ZI(n,t.storage)})},e.prototype.list=function(t){var n=this;return D3(this._delegate,t||void 0).then(function(r){return new ZI(r,n.storage)})},e.prototype.getMetadata=function(){return x3(this._delegate)},e.prototype.updateMetadata=function(t){return R3(this._delegate,t)},e.prototype.getDownloadURL=function(){return M3(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),F3(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw SN(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j3=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(_y(t))throw Fa("ref() expected a child path but got a URL, use refFromURL instead.");return new sc(QI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!_y(t))throw Fa("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Dr.makeFromUrl(t,this._delegate.host)}catch{throw Fa("refFromUrl() expected a valid full URL but got an invalid one.")}return new sc(QI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),U3(this._delegate,t,n,r)},e}(),$3="@firebase/storage",B3="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q3="storage";function H3(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new j3(r,new sp(r,o,s,new UB,n,Me.SDK_VERSION));return u}function W3(e){var t={TaskState:Wn,TaskEvent:MB,StringFormat:Rr,Storage:sp,Reference:sc};e.INTERNAL.registerComponent(new bc(q3,H3,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion($3,B3)}W3(Me);const K3={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};Me.initializeApp(K3);const an=Me.auth(),Vb=Me.firestore(),jN=Me.storage(),{FieldValue:$N}=Me.firestore,ap=Vb.collection("users"),gi=Vb.collection("songs"),by=Vb.collection("comments"),Ui=_k("user",{state:()=>{var e;return{userLoggedIn:!1,username:((e=an.currentUser)==null?void 0:e.displayName)??"Anonymous"}},actions:{async register(e){const t=await an.createUserWithEmailAndPassword(e.email,e.password),n={name:e.name,email:e.email,birthdate:e.birthdate,country:e.country,phone:e.phone};Object.keys(n).forEach(r=>{n[r]??delete n[r]}),await ap.doc(t.user.uid).set({userData:n}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0,this.username=an.currentUser.displayName},async authenticate(e){await an.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0,this.username=an.currentUser.displayName},async signOut(){await an.signOut(),this.userLoggedIn=!1,this.username="Anonymous"}}}),Vn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},G3={name:"AppHeader",computed:{...Ps(Ui,["userLoggedIn"])},methods:{...js(Ui,{firebaseSignOut:"signOut"}),signOut(){this.firebaseSignOut(),this.$route.meta.requiresAuth?this.$router.go({name:"auth"}):this.$router.go()}}},z3={id:"header",class:"fixed top-0 left-0 z-40 w-full bg-black font-circular-black font-semibold"},Y3={class:"flex items-center justify-between py-5 px-10"},X3={class:"flex gap-2 items-center text-white text-base"},Q3={class:"md:hover:scale-105"},J3=D("i",{class:"fa-solid fa-house"},null,-1),Z3={class:"hidden md:block"},e4={class:"md:hover:scale-105"},t4=D("i",{class:"fa-regular fa-circle-question"},null,-1),n4={class:"hidden md:block"},r4={class:"md:hover:scale-105"},i4=D("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6"},[D("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),D("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),o4={class:"hidden md:block"},s4={class:"md:hover:scale-105"},a4=D("i",{class:"fa-regular fa-user"},null,-1),u4={class:"hidden md:block"},l4=D("i",{class:"fa-regular fa-user"},null,-1),c4={class:"hidden md:block"},f4=D("div",null,null,-1),h4={class:"md:hover:scale-105"},d4={class:"flex items-center gap-1",href:"https://www.spotify.com/es/download/",target:"_blank"},p4=D("i",{class:"fa-regular fa-circle-down"},null,-1),m4={class:"hidden md:block"};function g4(e,t,n,r,o,s){const u=Et("RouterLink");return He(),Ze("header",z3,[D("nav",Y3,[Ae(u,{class:"text-[#1ed760] font-circular-thin text-2xl justify-center hover:scale-105",to:{name:"home"},"exact-active-class":"no-active"},{default:Ht(()=>[rr(" Musicfy ")]),_:1}),D("ul",X3,[D("li",Q3,[Ae(u,{class:"flex items-center gap-1",to:{name:"home"}},{default:Ht(()=>[J3,D("span",Z3,me(e.$t("header.home")),1)]),_:1})]),D("li",e4,[Ae(u,{class:"flex items-center gap-1",to:{name:"about"}},{default:Ht(()=>[t4,D("span",n4,me(e.$t("header.about")),1)]),_:1})]),ko(D("li",r4,[Ae(u,{class:"flex items-center gap-1",to:{name:"manage"}},{default:Ht(()=>[i4,D("span",o4,me(e.$t("header.manage")),1)]),_:1})],512),[[Ch,this.userLoggedIn]]),D("li",s4,[e.userLoggedIn?(He(),Ze("a",{key:1,class:"flex gap-1 items-center",href:"#",onClick:t[0]||(t[0]=Zt(l=>s.signOut(),["prevent"]))},[l4,D("span",c4,me(e.$t("header.logout")),1)])):(He(),Co(u,{key:0,class:"flex items-center gap-1",to:{name:"auth"}},{default:Ht(()=>[a4,D("span",u4,me(e.$t("header.login")),1)]),_:1})),f4]),D("li",h4,[D("a",d4,[p4,D("span",m4,me(e.$t("header.install")),1)])])])])])}const v4=Vn(G3,[["render",g4]]);var fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wy={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var p=this||n;if(h=parseFloat(h),p.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(p._volume=h,p._muted)return p;p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var v=0;v<p._howls.length;v++)if(!p._howls[v]._webAudio)for(var _=p._howls[v]._getSoundIds(),w=0;w<_.length;w++){var S=p._howls[v]._soundById(_[w]);S&&S._node&&(S._node.volume=S._volume*h)}return p}return p._volume},mute:function(h){var p=this||n;p.ctx||g(),p._muted=h,p.usingWebAudio&&p.masterGain.gain.setValueAtTime(h?0:p._volume,n.ctx.currentTime);for(var v=0;v<p._howls.length;v++)if(!p._howls[v]._webAudio)for(var _=p._howls[v]._getSoundIds(),w=0;w<_.length;w++){var S=p._howls[v]._soundById(_[w]);S&&S._node&&(S._node.muted=h?!0:S._muted)}return p},stop:function(){for(var h=this||n,p=0;p<h._howls.length;p++)h._howls[p].stop();return h},unload:function(){for(var h=this||n,p=h._howls.length-1;p>=0;p--)h._howls[p].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var p=new Audio;typeof p.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var p=new Audio;p.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,p=null;try{p=typeof Audio<"u"?new Audio:null}catch{return h}if(!p||typeof p.canPlayType!="function")return h;var v=p.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",w=_.match(/OPR\/(\d+)/g),S=w&&parseInt(w[0].split("/")[1],10)<33,b=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,k=_.match(/Version\/(.*?) /),R=b&&k&&parseInt(k[1],10)<15;return h._codecs={mp3:!!(!S&&(v||p.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!v,opus:!!p.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(p.canPlayType('audio/wav; codecs="1"')||p.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!p.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!p.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(p.canPlayType("audio/x-m4b;")||p.canPlayType("audio/m4b;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(p.canPlayType("audio/x-mp4;")||p.canPlayType("audio/mp4;")||p.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!R&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!R&&p.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!p.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(p.canPlayType("audio/x-flac;")||p.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var p=function(v){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var w=0;w<h._howls.length;w++)if(!h._howls[w]._webAudio)for(var S=h._howls[w]._getSoundIds(),b=0;b<S.length;b++){var k=h._howls[w]._soundById(S[b]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}h._autoResume();var R=h.ctx.createBufferSource();R.buffer=h._scratchBuffer,R.connect(h.ctx.destination),typeof R.start>"u"?R.noteOn(0):R.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),R.onended=function(){R.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",p,!0),document.removeEventListener("touchend",p,!0),document.removeEventListener("click",p,!0),document.removeEventListener("keydown",p,!0);for(var C=0;C<h._howls.length;C++)h._howls[C]._emit("unlock")}};return document.addEventListener("touchstart",p,!0),document.addEventListener("touchend",p,!0),document.addEventListener("click",p,!0),document.addEventListener("keydown",p,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var p=new Audio().play();return p&&typeof Promise<"u"&&(p instanceof Promise||typeof p.then=="function")&&p.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var p=this||n;return h._unlocked&&p._html5AudioPool.push(h),p},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var p=0;p<h._howls.length;p++)if(h._howls[p]._webAudio){for(var v=0;v<h._howls[p]._sounds.length;v++)if(!h._howls[p]._sounds[v]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var p=0;p<h._howls.length;p++)h._howls[p]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var p=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}p.init(h)};r.prototype={init:function(h){var p=this;return n.ctx||g(),p._autoplay=h.autoplay||!1,p._format=typeof h.format!="string"?h.format:[h.format],p._html5=h.html5||!1,p._muted=h.mute||!1,p._loop=h.loop||!1,p._pool=h.pool||5,p._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,p._rate=h.rate||1,p._sprite=h.sprite||{},p._src=typeof h.src!="string"?h.src:[h.src],p._volume=h.volume!==void 0?h.volume:1,p._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},p._duration=0,p._state="unloaded",p._sounds=[],p._endTimers={},p._queue=[],p._playLock=!1,p._onend=h.onend?[{fn:h.onend}]:[],p._onfade=h.onfade?[{fn:h.onfade}]:[],p._onload=h.onload?[{fn:h.onload}]:[],p._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],p._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],p._onpause=h.onpause?[{fn:h.onpause}]:[],p._onplay=h.onplay?[{fn:h.onplay}]:[],p._onstop=h.onstop?[{fn:h.onstop}]:[],p._onmute=h.onmute?[{fn:h.onmute}]:[],p._onvolume=h.onvolume?[{fn:h.onvolume}]:[],p._onrate=h.onrate?[{fn:h.onrate}]:[],p._onseek=h.onseek?[{fn:h.onseek}]:[],p._onunlock=h.onunlock?[{fn:h.onunlock}]:[],p._onresume=[],p._webAudio=n.usingWebAudio&&!p._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(p),p._autoplay&&p._queue.push({event:"play",action:function(){p.play()}}),p._preload&&p._preload!=="none"&&p.load(),p},load:function(){var h=this,p=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var v=0;v<h._src.length;v++){var _,w;if(h._format&&h._format[v])_=h._format[v];else{if(w=h._src[v],typeof w!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(w),_||(_=/\.([^.]+)$/.exec(w.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){p=h._src[v];break}}if(!p){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=p,h._state="loading",window.location.protocol==="https:"&&p.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,p){var v=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&v._state==="loaded"&&!v._sprite[h])return null;if(typeof h>"u"&&(h="__default",!v._playLock)){for(var w=0,S=0;S<v._sounds.length;S++)v._sounds[S]._paused&&!v._sounds[S]._ended&&(w++,_=v._sounds[S]._id);w===1?h=null:_=null}}var b=_?v._soundById(_):v._inactiveSound();if(!b)return null;if(_&&!h&&(h=b._sprite||"__default"),v._state!=="loaded"){b._sprite=h,b._ended=!1;var k=b._id;return v._queue.push({event:"play",action:function(){v.play(k)}}),k}if(_&&!b._paused)return p||v._loadQueue("play"),b._id;v._webAudio&&n._autoResume();var R=Math.max(0,b._seek>0?b._seek:v._sprite[h][0]/1e3),C=Math.max(0,(v._sprite[h][0]+v._sprite[h][1])/1e3-R),U=C*1e3/Math.abs(b._rate),L=v._sprite[h][0]/1e3,B=(v._sprite[h][0]+v._sprite[h][1])/1e3;b._sprite=h,b._ended=!1;var $=function(){b._paused=!1,b._seek=R,b._start=L,b._stop=B,b._loop=!!(b._loop||v._sprite[h][2])};if(R>=B){v._ended(b);return}var H=b._node;if(v._webAudio){var N=function(){v._playLock=!1,$(),v._refreshBuffer(b);var Re=b._muted||v._muted?0:b._volume;H.gain.setValueAtTime(Re,n.ctx.currentTime),b._playStart=n.ctx.currentTime,typeof H.bufferSource.start>"u"?b._loop?H.bufferSource.noteGrainOn(0,R,86400):H.bufferSource.noteGrainOn(0,R,C):b._loop?H.bufferSource.start(0,R,86400):H.bufferSource.start(0,R,C),U!==1/0&&(v._endTimers[b._id]=setTimeout(v._ended.bind(v,b),U)),p||setTimeout(function(){v._emit("play",b._id),v._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?N():(v._playLock=!0,v.once("resume",N),v._clearTimer(b._id))}else{var ke=function(){H.currentTime=R,H.muted=b._muted||v._muted||n._muted||H.muted,H.volume=b._volume*n.volume(),H.playbackRate=b._rate;try{var Re=H.play();if(Re&&typeof Promise<"u"&&(Re instanceof Promise||typeof Re.then=="function")?(v._playLock=!0,$(),Re.then(function(){v._playLock=!1,H._unlocked=!0,p?v._loadQueue():v._emit("play",b._id)}).catch(function(){v._playLock=!1,v._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),b._ended=!0,b._paused=!0})):p||(v._playLock=!1,$(),v._emit("play",b._id)),H.playbackRate=b._rate,H.paused){v._emit("playerror",b._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||b._loop?v._endTimers[b._id]=setTimeout(v._ended.bind(v,b),U):(v._endTimers[b._id]=function(){v._ended(b),H.removeEventListener("ended",v._endTimers[b._id],!1)},H.addEventListener("ended",v._endTimers[b._id],!1))}catch(Be){v._emit("playerror",b._id,Be)}};H.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(H.src=v._src,H.load());var ne=window&&window.ejecta||!H.readyState&&n._navigator.isCocoonJS;if(H.readyState>=3||ne)ke();else{v._playLock=!0,v._state="loading";var Ee=function(){v._state="loaded",ke(),H.removeEventListener(n._canPlayEvent,Ee,!1)};H.addEventListener(n._canPlayEvent,Ee,!1),v._clearTimer(b._id)}}return b._id},pause:function(h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"pause",action:function(){p.pause(h)}}),p;for(var v=p._getSoundIds(h),_=0;_<v.length;_++){p._clearTimer(v[_]);var w=p._soundById(v[_]);if(w&&!w._paused&&(w._seek=p.seek(v[_]),w._rateSeek=0,w._paused=!0,p._stopFade(v[_]),w._node))if(p._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),p._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||p._emit("pause",w?w._id:null)}return p},stop:function(h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"stop",action:function(){v.stop(h)}}),v;for(var _=v._getSoundIds(h),w=0;w<_.length;w++){v._clearTimer(_[w]);var S=v._soundById(_[w]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,v._stopFade(_[w]),S._node&&(v._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),v._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&v._clearSound(S._node))),p||v._emit("stop",S._id))}return v},mute:function(h,p){var v=this;if(v._state!=="loaded"||v._playLock)return v._queue.push({event:"mute",action:function(){v.mute(h,p)}}),v;if(typeof p>"u")if(typeof h=="boolean")v._muted=h;else return v._muted;for(var _=v._getSoundIds(p),w=0;w<_.length;w++){var S=v._soundById(_[w]);S&&(S._muted=h,S._interval&&v._stopFade(S._id),v._webAudio&&S._node?S._node.gain.setValueAtTime(h?0:S._volume,n.ctx.currentTime):S._node&&(S._node.muted=n._muted?!0:h),v._emit("mute",S._id))}return v},volume:function(){var h=this,p=arguments,v,_;if(p.length===0)return h._volume;if(p.length===1||p.length===2&&typeof p[1]>"u"){var w=h._getSoundIds(),S=w.indexOf(p[0]);S>=0?_=parseInt(p[0],10):v=parseFloat(p[0])}else p.length>=2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));var b;if(typeof v<"u"&&v>=0&&v<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,p)}}),h;typeof _>"u"&&(h._volume=v),_=h._getSoundIds(_);for(var k=0;k<_.length;k++)b=h._soundById(_[k]),b&&(b._volume=v,p[2]||h._stopFade(_[k]),h._webAudio&&b._node&&!b._muted?b._node.gain.setValueAtTime(v,n.ctx.currentTime):b._node&&!b._muted&&(b._node.volume=v*n.volume()),h._emit("volume",b._id))}else return b=_?h._soundById(_):h._sounds[0],b?b._volume:0;return h},fade:function(h,p,v,_){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(h,p,v,_)}}),w;h=Math.min(Math.max(0,parseFloat(h)),1),p=Math.min(Math.max(0,parseFloat(p)),1),v=parseFloat(v),w.volume(h,_);for(var S=w._getSoundIds(_),b=0;b<S.length;b++){var k=w._soundById(S[b]);if(k){if(_||w._stopFade(S[b]),w._webAudio&&!k._muted){var R=n.ctx.currentTime,C=R+v/1e3;k._volume=h,k._node.gain.setValueAtTime(h,R),k._node.gain.linearRampToValueAtTime(p,C)}w._startFadeInterval(k,h,p,v,S[b],typeof _>"u")}}return w},_startFadeInterval:function(h,p,v,_,w,S){var b=this,k=p,R=v-p,C=Math.abs(R/.01),U=Math.max(4,C>0?_/C:_),L=Date.now();h._fadeTo=v,h._interval=setInterval(function(){var B=(Date.now()-L)/_;L=Date.now(),k+=R*B,k=Math.round(k*100)/100,R<0?k=Math.max(v,k):k=Math.min(v,k),b._webAudio?h._volume=k:b.volume(k,h._id,!0),S&&(b._volume=k),(v<p&&k<=v||v>p&&k>=v)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,b.volume(v,h._id),b._emit("fade",h._id))},U)},_stopFade:function(h){var p=this,v=p._soundById(h);return v&&v._interval&&(p._webAudio&&v._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(v._interval),v._interval=null,p.volume(v._fadeTo,h),v._fadeTo=null,p._emit("fade",h)),p},loop:function(){var h=this,p=arguments,v,_,w;if(p.length===0)return h._loop;if(p.length===1)if(typeof p[0]=="boolean")v=p[0],h._loop=v;else return w=h._soundById(parseInt(p[0],10)),w?w._loop:!1;else p.length===2&&(v=p[0],_=parseInt(p[1],10));for(var S=h._getSoundIds(_),b=0;b<S.length;b++)w=h._soundById(S[b]),w&&(w._loop=v,h._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=v,v&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,h.playing(S[b])&&(h.pause(S[b],!0),h.play(S[b],!0)))));return h},rate:function(){var h=this,p=arguments,v,_;if(p.length===0)_=h._sounds[0]._id;else if(p.length===1){var w=h._getSoundIds(),S=w.indexOf(p[0]);S>=0?_=parseInt(p[0],10):v=parseFloat(p[0])}else p.length===2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));var b;if(typeof v=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,p)}}),h;typeof _>"u"&&(h._rate=v),_=h._getSoundIds(_);for(var k=0;k<_.length;k++)if(b=h._soundById(_[k]),b){h.playing(_[k])&&(b._rateSeek=h.seek(_[k]),b._playStart=h._webAudio?n.ctx.currentTime:b._playStart),b._rate=v,h._webAudio&&b._node&&b._node.bufferSource?b._node.bufferSource.playbackRate.setValueAtTime(v,n.ctx.currentTime):b._node&&(b._node.playbackRate=v);var R=h.seek(_[k]),C=(h._sprite[b._sprite][0]+h._sprite[b._sprite][1])/1e3-R,U=C*1e3/Math.abs(b._rate);(h._endTimers[_[k]]||!b._paused)&&(h._clearTimer(_[k]),h._endTimers[_[k]]=setTimeout(h._ended.bind(h,b),U)),h._emit("rate",b._id)}}else return b=h._soundById(_),b?b._rate:h._rate;return h},seek:function(){var h=this,p=arguments,v,_;if(p.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(p.length===1){var w=h._getSoundIds(),S=w.indexOf(p[0]);S>=0?_=parseInt(p[0],10):h._sounds.length&&(_=h._sounds[0]._id,v=parseFloat(p[0]))}else p.length===2&&(v=parseFloat(p[0]),_=parseInt(p[1],10));if(typeof _>"u")return 0;if(typeof v=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,p)}}),h;var b=h._soundById(_);if(b)if(typeof v=="number"&&v>=0){var k=h.playing(_);k&&h.pause(_,!0),b._seek=v,b._ended=!1,h._clearTimer(_),!h._webAudio&&b._node&&!isNaN(b._node.duration)&&(b._node.currentTime=v);var R=function(){k&&h.play(_,!0),h._emit("seek",_)};if(k&&!h._webAudio){var C=function(){h._playLock?setTimeout(C,0):R()};setTimeout(C,0)}else R()}else if(h._webAudio){var U=h.playing(_)?n.ctx.currentTime-b._playStart:0,L=b._rateSeek?b._rateSeek-b._seek:0;return b._seek+(L+U*Math.abs(b._rate))}else return b._node.currentTime;return h},playing:function(h){var p=this;if(typeof h=="number"){var v=p._soundById(h);return v?!v._paused:!1}for(var _=0;_<p._sounds.length;_++)if(!p._sounds[_]._paused)return!0;return!1},duration:function(h){var p=this,v=p._duration,_=p._soundById(h);return _&&(v=p._sprite[_._sprite][1]/1e3),v},state:function(){return this._state},unload:function(){for(var h=this,p=h._sounds,v=0;v<p.length;v++)p[v]._paused||h.stop(p[v]._id),h._webAudio||(h._clearSound(p[v]._node),p[v]._node.removeEventListener("error",p[v]._errorFn,!1),p[v]._node.removeEventListener(n._canPlayEvent,p[v]._loadFn,!1),p[v]._node.removeEventListener("ended",p[v]._endFn,!1),n._releaseHtml5Audio(p[v]._node)),delete p[v]._node,h._clearTimer(p[v]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var w=!0;for(v=0;v<n._howls.length;v++)if(n._howls[v]._src===h._src||h._src.indexOf(n._howls[v]._src)>=0){w=!1;break}return s&&w&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,p,v,_){var w=this,S=w["_on"+h];return typeof p=="function"&&S.push(_?{id:v,fn:p,once:_}:{id:v,fn:p}),w},off:function(h,p,v){var _=this,w=_["_on"+h],S=0;if(typeof p=="number"&&(v=p,p=null),p||v)for(S=0;S<w.length;S++){var b=v===w[S].id;if(p===w[S].fn&&b||!p&&b){w.splice(S,1);break}}else if(h)_["_on"+h]=[];else{var k=Object.keys(_);for(S=0;S<k.length;S++)k[S].indexOf("_on")===0&&Array.isArray(_[k[S]])&&(_[k[S]]=[])}return _},once:function(h,p,v){var _=this;return _.on(h,p,v,1),_},_emit:function(h,p,v){for(var _=this,w=_["_on"+h],S=w.length-1;S>=0;S--)(!w[S].id||w[S].id===p||h==="load")&&(setTimeout((function(b){b.call(this,p,v)}).bind(_,w[S].fn),0),w[S].once&&_.off(h,w[S].fn,w[S].id));return _._loadQueue(h),_},_loadQueue:function(h){var p=this;if(p._queue.length>0){var v=p._queue[0];v.event===h&&(p._queue.shift(),p._loadQueue()),h||v.action()}return p},_ended:function(h){var p=this,v=h._sprite;if(!p._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(p._ended.bind(p,h),100),p;var _=!!(h._loop||p._sprite[v][2]);if(p._emit("end",h._id),!p._webAudio&&_&&p.stop(h._id,!0).play(h._id),p._webAudio&&_){p._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var w=(h._stop-h._start)*1e3/Math.abs(h._rate);p._endTimers[h._id]=setTimeout(p._ended.bind(p,h),w)}return p._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,p._clearTimer(h._id),p._cleanBuffer(h._node),n._autoSuspend()),!p._webAudio&&!_&&p.stop(h._id,!0),p},_clearTimer:function(h){var p=this;if(p._endTimers[h]){if(typeof p._endTimers[h]!="function")clearTimeout(p._endTimers[h]);else{var v=p._soundById(h);v&&v._node&&v._node.removeEventListener("ended",p._endTimers[h],!1)}delete p._endTimers[h]}return p},_soundById:function(h){for(var p=this,v=0;v<p._sounds.length;v++)if(h===p._sounds[v]._id)return p._sounds[v];return null},_inactiveSound:function(){var h=this;h._drain();for(var p=0;p<h._sounds.length;p++)if(h._sounds[p]._ended)return h._sounds[p].reset();return new o(h)},_drain:function(){var h=this,p=h._pool,v=0,_=0;if(!(h._sounds.length<p)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&v++;for(_=h._sounds.length-1;_>=0;_--){if(v<=p)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),v--)}}},_getSoundIds:function(h){var p=this;if(typeof h>"u"){for(var v=[],_=0;_<p._sounds.length;_++)v.push(p._sounds[_]._id);return v}else return[h]},_refreshBuffer:function(h){var p=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[p._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),p},_cleanBuffer:function(h){var p=this,v=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return p;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),v))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,p},_clearSound:function(h){var p=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);p||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,p._sounds.push(h),h.create(),h},create:function(){var h=this,p=h._parent,v=n._muted||h._muted||h._parent._muted?0:h._volume;return p._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(v,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=p._src,h._node.preload=p._preload===!0?"auto":p._preload,h._node.volume=v*n.volume(),h._node.load()),h},reset:function(){var h=this,p=h._parent;return h._muted=p._muted,h._loop=p._loop,h._volume=p._volume,h._rate=p._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,p=h._parent;p._duration=Math.ceil(h._node.duration*10)/10,Object.keys(p._sprite).length===0&&(p._sprite={__default:[0,p._duration*1e3]}),p._state!=="loaded"&&(p._state="loaded",p._emit("load"),p._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,p=h._parent;p._duration===1/0&&(p._duration=Math.ceil(h._node.duration*10)/10,p._sprite.__default[1]===1/0&&(p._sprite.__default[1]=p._duration*1e3),p._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var p=h._src;if(s[p]){h._duration=s[p].duration,d(h);return}if(/^data:[^;]+;base64,/.test(p)){for(var v=atob(p.split(",")[1]),_=new Uint8Array(v.length),w=0;w<v.length;++w)_[w]=v.charCodeAt(w);c(_.buffer,h)}else{var S=new XMLHttpRequest;S.open(h._xhr.method,p,!0),S.withCredentials=h._xhr.withCredentials,S.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(b){S.setRequestHeader(b,h._xhr.headers[b])}),S.onload=function(){var b=(S.status+"")[0];if(b!=="0"&&b!=="2"&&b!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}c(S.response,h)},S.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[p],h.load())},l(S)}},l=function(h){try{h.send()}catch{h.onerror()}},c=function(h,p){var v=function(){p._emit("loaderror",null,"Decoding audio data failed.")},_=function(w){w&&p._sounds.length>0?(s[p._src]=w,d(p,w)):v()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(v):n.ctx.decodeAudioData(h,_,v)},d=function(h,p){p&&!h._duration&&(h._duration=p.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),p=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),v=p?parseInt(p[1],10):null;if(h&&v&&v<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof fl<"u"?(fl.HowlerGlobal=t,fl.Howler=n,fl.Howl=r,fl.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,l){var c=this;if(!c.ctx||!c.ctx.listener)return c;var d=c._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,u=typeof u!="number"?d[4]:u,l=typeof l!="number"?d[5]:l,typeof n=="number")c._orientation=[n,r,o,s,u,l],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(n,r,o,s,u,l);else return d;return c},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),l=0;l<u.length;l++){var c=o._soundById(u[l]);if(c)if(typeof n=="number")c._stereo=n,c._pos=[n,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&t(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(n,0,0):c._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",c._id);else return c._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var l=u._getSoundIds(s),c=0;c<l.length;c++){var d=u._soundById(l[c]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),u._emit("pos",d._id);else return d._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var l=u._getSoundIds(s),c=0;c<l.length;c++){var d=u._soundById(l[c]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=u._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),u._emit("orientation",d._id);else return d._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),c=0;c<l.length;c++)if(u=n._soundById(l[c]),u){var d=u._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var g=u._panner;g||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),g=u._panner),g.coneInnerAngle=d.coneInnerAngle,g.coneOuterAngle=d.coneOuterAngle,g.coneOuterGain=d.coneOuterGain,g.distanceModel=d.distanceModel,g.maxDistance=d.maxDistance,g.refDistance=d.refDistance,g.rolloffFactor=d.rolloffFactor,g.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(wy);/*!
  * shared v9.7.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const Ey=typeof window<"u",$o=(e,t=!1)=>t?Symbol.for(e):Symbol(e),y4=(e,t,n)=>_4({l:e,k:t,s:n}),_4=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ln=e=>typeof e=="number"&&isFinite(e),b4=e=>qN(e)==="[object Date]",xo=e=>qN(e)==="[object RegExp]",up=e=>ze(e)&&Object.keys(e).length===0,In=Object.assign;let eS;const Ni=()=>eS||(eS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tS(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const w4=Object.prototype.hasOwnProperty;function ac(e,t){return w4.call(e,t)}const Pt=Array.isArray,jt=e=>typeof e=="function",pe=e=>typeof e=="string",tt=e=>typeof e=="boolean",yt=e=>e!==null&&typeof e=="object",BN=Object.prototype.toString,qN=e=>BN.call(e),ze=e=>{if(!yt(e))return!1;const t=Object.getPrototypeOf(e);return t===null||t.constructor===Object},E4=e=>e==null?"":Pt(e)||ze(e)&&e.toString===BN?JSON.stringify(e,null,2):String(e);function T4(e,t=""){return e.reduce((n,r,o)=>o===0?n+r:n+t+r,"")}function Ub(e){let t=e;return()=>++t}function I4(e,t){typeof console<"u"&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const uh=e=>!yt(e)||Pt(e);function Nl(e,t){if(uh(e)||uh(t))throw new Error("Invalid value");for(const n in e)ac(e,n)&&(uh(e[n])||uh(t[n])?t[n]=e[n]:Nl(e[n],t[n]))}/*!
  * message-compiler v9.7.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function S4(e,t,n){return{line:e,column:t,offset:n}}function Ty(e,t,n){const r={start:e,end:t};return n!=null&&(r.source=n),r}const A4=/\{([0-9a-zA-Z]+)\}/g;function k4(e,...t){return t.length===1&&C4(t[0])&&(t=t[0]),(!t||!t.hasOwnProperty)&&(t={}),e.replace(A4,(n,r)=>t.hasOwnProperty(r)?t[r]:"")}const HN=Object.assign,nS=e=>typeof e=="string",C4=e=>e!==null&&typeof e=="object";function WN(e,t=""){return e.reduce((n,r,o)=>o===0?n+r:n+t+r,"")}const Ue={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},O4={[Ue.EXPECTED_TOKEN]:"Expected token: '{0}'",[Ue.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Ue.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Ue.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Ue.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Ue.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Ue.EMPTY_PLACEHOLDER]:"Empty placeholder",[Ue.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Ue.INVALID_LINKED_FORMAT]:"Invalid linked format",[Ue.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Ue.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Ue.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Ue.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Ue.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Tu(e,t,n={}){const{domain:r,messages:o,args:s}=n,u=k4((o||O4)[e]||"",...s||[]),l=new SyntaxError(String(u));return l.code=e,t&&(l.location=t),l.domain=r,l}function N4(e){throw e}const Ai=" ",P4="\r",qn=`
`,x4=String.fromCharCode(8232),R4=String.fromCharCode(8233);function D4(e){const t=e;let n=0,r=1,o=1,s=0;const u=B=>t[B]===P4&&t[B+1]===qn,l=B=>t[B]===qn,c=B=>t[B]===R4,d=B=>t[B]===x4,g=B=>u(B)||l(B)||c(B)||d(B),h=()=>n,p=()=>r,v=()=>o,_=()=>s,w=B=>u(B)||c(B)||d(B)?qn:t[B],S=()=>w(n),b=()=>w(n+s);function k(){return s=0,g(n)&&(r++,o=0),u(n)&&n++,n++,o++,t[n]}function R(){return u(n+s)&&s++,s++,t[n+s]}function C(){n=0,r=1,o=1,s=0}function U(B=0){s=B}function L(){const B=n+s;for(;B!==n;)k();s=0}return{index:h,line:p,column:v,peekOffset:_,charAt:w,currentChar:S,currentPeek:b,next:k,peek:R,reset:C,resetPeek:U,skipToPeek:L}}const io=void 0,L4=".",rS="'",M4="tokenizer";function F4(e,t={}){const n=t.location!==!1,r=D4(e),o=()=>r.index(),s=()=>S4(r.line(),r.column(),r.index()),u=s(),l=o(),c={currentType:14,offset:l,startLoc:u,endLoc:u,lastType:14,lastOffset:l,lastStartLoc:u,lastEndLoc:u,braceNest:0,inLinked:!1,text:""},d=()=>c,{onError:g}=t;function h(I,T,O,...M){const q=d();if(T.column+=O,T.offset+=O,g){const J=n?Ty(q.startLoc,T):null,ee=Tu(I,J,{domain:M4,args:M});g(ee)}}function p(I,T,O){I.endLoc=s(),I.currentType=T;const M={type:T};return n&&(M.loc=Ty(I.startLoc,I.endLoc)),O!=null&&(M.value=O),M}const v=I=>p(I,14);function _(I,T){return I.currentChar()===T?(I.next(),T):(h(Ue.EXPECTED_TOKEN,s(),0,T),"")}function w(I){let T="";for(;I.currentPeek()===Ai||I.currentPeek()===qn;)T+=I.currentPeek(),I.peek();return T}function S(I){const T=w(I);return I.skipToPeek(),T}function b(I){if(I===io)return!1;const T=I.charCodeAt(0);return T>=97&&T<=122||T>=65&&T<=90||T===95}function k(I){if(I===io)return!1;const T=I.charCodeAt(0);return T>=48&&T<=57}function R(I,T){const{currentType:O}=T;if(O!==2)return!1;w(I);const M=b(I.currentPeek());return I.resetPeek(),M}function C(I,T){const{currentType:O}=T;if(O!==2)return!1;w(I);const M=I.currentPeek()==="-"?I.peek():I.currentPeek(),q=k(M);return I.resetPeek(),q}function U(I,T){const{currentType:O}=T;if(O!==2)return!1;w(I);const M=I.currentPeek()===rS;return I.resetPeek(),M}function L(I,T){const{currentType:O}=T;if(O!==8)return!1;w(I);const M=I.currentPeek()===".";return I.resetPeek(),M}function B(I,T){const{currentType:O}=T;if(O!==9)return!1;w(I);const M=b(I.currentPeek());return I.resetPeek(),M}function $(I,T){const{currentType:O}=T;if(!(O===8||O===12))return!1;w(I);const M=I.currentPeek()===":";return I.resetPeek(),M}function H(I,T){const{currentType:O}=T;if(O!==10)return!1;const M=()=>{const J=I.currentPeek();return J==="{"?b(I.peek()):J==="@"||J==="%"||J==="|"||J===":"||J==="."||J===Ai||!J?!1:J===qn?(I.peek(),M()):b(J)},q=M();return I.resetPeek(),q}function N(I){w(I);const T=I.currentPeek()==="|";return I.resetPeek(),T}function ke(I){const T=w(I),O=I.currentPeek()==="%"&&I.peek()==="{";return I.resetPeek(),{isModulo:O,hasSpace:T.length>0}}function ne(I,T=!0){const O=(q=!1,J="",ee=!1)=>{const oe=I.currentPeek();return oe==="{"?J==="%"?!1:q:oe==="@"||!oe?J==="%"?!0:q:oe==="%"?(I.peek(),O(q,"%",!0)):oe==="|"?J==="%"||ee?!0:!(J===Ai||J===qn):oe===Ai?(I.peek(),O(!0,Ai,ee)):oe===qn?(I.peek(),O(!0,qn,ee)):!0},M=O();return T&&I.resetPeek(),M}function Ee(I,T){const O=I.currentChar();return O===io?io:T(O)?(I.next(),O):null}function Re(I){return Ee(I,O=>{const M=O.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===95||M===36})}function Be(I){return Ee(I,O=>{const M=O.charCodeAt(0);return M>=48&&M<=57})}function ce(I){return Ee(I,O=>{const M=O.charCodeAt(0);return M>=48&&M<=57||M>=65&&M<=70||M>=97&&M<=102})}function Fe(I){let T="",O="";for(;T=Be(I);)O+=T;return O}function ve(I){S(I);const T=I.currentChar();return T!=="%"&&h(Ue.EXPECTED_TOKEN,s(),0,T),I.next(),"%"}function et(I){let T="";for(;;){const O=I.currentChar();if(O==="{"||O==="}"||O==="@"||O==="|"||!O)break;if(O==="%")if(ne(I))T+=O,I.next();else break;else if(O===Ai||O===qn)if(ne(I))T+=O,I.next();else{if(N(I))break;T+=O,I.next()}else T+=O,I.next()}return T}function mt(I){S(I);let T="",O="";for(;T=Re(I);)O+=T;return I.currentChar()===io&&h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),O}function Ct(I){S(I);let T="";return I.currentChar()==="-"?(I.next(),T+=`-${Fe(I)}`):T+=Fe(I),I.currentChar()===io&&h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),T}function St(I){S(I),_(I,"'");let T="",O="";const M=J=>J!==rS&&J!==qn;for(;T=Ee(I,M);)T==="\\"?O+=ht(I):O+=T;const q=I.currentChar();return q===qn||q===io?(h(Ue.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),q===qn&&(I.next(),_(I,"'")),O):(_(I,"'"),O)}function ht(I){const T=I.currentChar();switch(T){case"\\":case"'":return I.next(),`\\${T}`;case"u":return Xt(I,T,4);case"U":return Xt(I,T,6);default:return h(Ue.UNKNOWN_ESCAPE_SEQUENCE,s(),0,T),""}}function Xt(I,T,O){_(I,T);let M="";for(let q=0;q<O;q++){const J=ce(I);if(!J){h(Ue.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${T}${M}${I.currentChar()}`);break}M+=J}return`\\${T}${M}`}function ye(I){S(I);let T="",O="";const M=q=>q!=="{"&&q!=="}"&&q!==Ai&&q!==qn;for(;T=Ee(I,M);)O+=T;return O}function be(I){let T="",O="";for(;T=Re(I);)O+=T;return O}function W(I){const T=(O=!1,M)=>{const q=I.currentChar();return q==="{"||q==="%"||q==="@"||q==="|"||q==="("||q===")"||!q||q===Ai?M:q===qn||q===L4?(M+=q,I.next(),T(O,M)):(M+=q,I.next(),T(!0,M))};return T(!1,"")}function Y(I){S(I);const T=_(I,"|");return S(I),T}function se(I,T){let O=null;switch(I.currentChar()){case"{":return T.braceNest>=1&&h(Ue.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),I.next(),O=p(T,2,"{"),S(I),T.braceNest++,O;case"}":return T.braceNest>0&&T.currentType===2&&h(Ue.EMPTY_PLACEHOLDER,s(),0),I.next(),O=p(T,3,"}"),T.braceNest--,T.braceNest>0&&S(I),T.inLinked&&T.braceNest===0&&(T.inLinked=!1),O;case"@":return T.braceNest>0&&h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),O=he(I,T)||v(T),T.braceNest=0,O;default:let q=!0,J=!0,ee=!0;if(N(I))return T.braceNest>0&&h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),O=p(T,1,Y(I)),T.braceNest=0,T.inLinked=!1,O;if(T.braceNest>0&&(T.currentType===5||T.currentType===6||T.currentType===7))return h(Ue.UNTERMINATED_CLOSING_BRACE,s(),0),T.braceNest=0,De(I,T);if(q=R(I,T))return O=p(T,5,mt(I)),S(I),O;if(J=C(I,T))return O=p(T,6,Ct(I)),S(I),O;if(ee=U(I,T))return O=p(T,7,St(I)),S(I),O;if(!q&&!J&&!ee)return O=p(T,13,ye(I)),h(Ue.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,O.value),S(I),O;break}return O}function he(I,T){const{currentType:O}=T;let M=null;const q=I.currentChar();switch((O===8||O===9||O===12||O===10)&&(q===qn||q===Ai)&&h(Ue.INVALID_LINKED_FORMAT,s(),0),q){case"@":return I.next(),M=p(T,8,"@"),T.inLinked=!0,M;case".":return S(I),I.next(),p(T,9,".");case":":return S(I),I.next(),p(T,10,":");default:return N(I)?(M=p(T,1,Y(I)),T.braceNest=0,T.inLinked=!1,M):L(I,T)||$(I,T)?(S(I),he(I,T)):B(I,T)?(S(I),p(T,12,be(I))):H(I,T)?(S(I),q==="{"?se(I,T)||M:p(T,11,W(I))):(O===8&&h(Ue.INVALID_LINKED_FORMAT,s(),0),T.braceNest=0,T.inLinked=!1,De(I,T))}}function De(I,T){let O={type:14};if(T.braceNest>0)return se(I,T)||v(T);if(T.inLinked)return he(I,T)||v(T);switch(I.currentChar()){case"{":return se(I,T)||v(T);case"}":return h(Ue.UNBALANCED_CLOSING_BRACE,s(),0),I.next(),p(T,3,"}");case"@":return he(I,T)||v(T);default:if(N(I))return O=p(T,1,Y(I)),T.braceNest=0,T.inLinked=!1,O;const{isModulo:q,hasSpace:J}=ke(I);if(q)return J?p(T,0,et(I)):p(T,4,ve(I));if(ne(I))return p(T,0,et(I));break}return O}function P(){const{currentType:I,offset:T,startLoc:O,endLoc:M}=c;return c.lastType=I,c.lastOffset=T,c.lastStartLoc=O,c.lastEndLoc=M,c.offset=o(),c.startLoc=s(),r.currentChar()===io?p(c,14):De(r,c)}return{nextToken:P,currentOffset:o,currentPosition:s,context:d}}const V4="parser",U4=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function j4(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function $4(e={}){const t=e.location!==!1,{onError:n}=e;function r(b,k,R,C,...U){const L=b.currentPosition();if(L.offset+=C,L.column+=C,n){const B=t?Ty(R,L):null,$=Tu(k,B,{domain:V4,args:U});n($)}}function o(b,k,R){const C={type:b};return t&&(C.start=k,C.end=k,C.loc={start:R,end:R}),C}function s(b,k,R,C){C&&(b.type=C),t&&(b.end=k,b.loc&&(b.loc.end=R))}function u(b,k){const R=b.context(),C=o(3,R.offset,R.startLoc);return C.value=k,s(C,b.currentOffset(),b.currentPosition()),C}function l(b,k){const R=b.context(),{lastOffset:C,lastStartLoc:U}=R,L=o(5,C,U);return L.index=parseInt(k,10),b.nextToken(),s(L,b.currentOffset(),b.currentPosition()),L}function c(b,k){const R=b.context(),{lastOffset:C,lastStartLoc:U}=R,L=o(4,C,U);return L.key=k,b.nextToken(),s(L,b.currentOffset(),b.currentPosition()),L}function d(b,k){const R=b.context(),{lastOffset:C,lastStartLoc:U}=R,L=o(9,C,U);return L.value=k.replace(U4,j4),b.nextToken(),s(L,b.currentOffset(),b.currentPosition()),L}function g(b){const k=b.nextToken(),R=b.context(),{lastOffset:C,lastStartLoc:U}=R,L=o(8,C,U);return k.type!==12?(r(b,Ue.UNEXPECTED_EMPTY_LINKED_MODIFIER,R.lastStartLoc,0),L.value="",s(L,C,U),{nextConsumeToken:k,node:L}):(k.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,li(k)),L.value=k.value||"",s(L,b.currentOffset(),b.currentPosition()),{node:L})}function h(b,k){const R=b.context(),C=o(7,R.offset,R.startLoc);return C.value=k,s(C,b.currentOffset(),b.currentPosition()),C}function p(b){const k=b.context(),R=o(6,k.offset,k.startLoc);let C=b.nextToken();if(C.type===9){const U=g(b);R.modifier=U.node,C=U.nextConsumeToken||b.nextToken()}switch(C.type!==10&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(C)),C=b.nextToken(),C.type===2&&(C=b.nextToken()),C.type){case 11:C.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(C)),R.key=h(b,C.value||"");break;case 5:C.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(C)),R.key=c(b,C.value||"");break;case 6:C.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(C)),R.key=l(b,C.value||"");break;case 7:C.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(C)),R.key=d(b,C.value||"");break;default:r(b,Ue.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const U=b.context(),L=o(7,U.offset,U.startLoc);return L.value="",s(L,U.offset,U.startLoc),R.key=L,s(R,U.offset,U.startLoc),{nextConsumeToken:C,node:R}}return s(R,b.currentOffset(),b.currentPosition()),{node:R}}function v(b){const k=b.context(),R=k.currentType===1?b.currentOffset():k.offset,C=k.currentType===1?k.endLoc:k.startLoc,U=o(2,R,C);U.items=[];let L=null;do{const H=L||b.nextToken();switch(L=null,H.type){case 0:H.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(H)),U.items.push(u(b,H.value||""));break;case 6:H.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(H)),U.items.push(l(b,H.value||""));break;case 5:H.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(H)),U.items.push(c(b,H.value||""));break;case 7:H.value==null&&r(b,Ue.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,li(H)),U.items.push(d(b,H.value||""));break;case 8:const N=p(b);U.items.push(N.node),L=N.nextConsumeToken||null;break}}while(k.currentType!==14&&k.currentType!==1);const B=k.currentType===1?k.lastOffset:b.currentOffset(),$=k.currentType===1?k.lastEndLoc:b.currentPosition();return s(U,B,$),U}function _(b,k,R,C){const U=b.context();let L=C.items.length===0;const B=o(1,k,R);B.cases=[],B.cases.push(C);do{const $=v(b);L||(L=$.items.length===0),B.cases.push($)}while(U.currentType!==14);return L&&r(b,Ue.MUST_HAVE_MESSAGES_IN_PLURAL,R,0),s(B,b.currentOffset(),b.currentPosition()),B}function w(b){const k=b.context(),{offset:R,startLoc:C}=k,U=v(b);return k.currentType===14?U:_(b,R,C,U)}function S(b){const k=F4(b,HN({},e)),R=k.context(),C=o(0,R.offset,R.startLoc);return t&&C.loc&&(C.loc.source=b),C.body=w(k),e.onCacheKey&&(C.cacheKey=e.onCacheKey(b)),R.currentType!==14&&r(k,Ue.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,b[R.offset]||""),s(C,k.currentOffset(),k.currentPosition()),C}return{parse:S}}function li(e){if(e.type===14)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"…":t}function B4(e,t={}){const n={ast:e,helpers:new Set};return{context:()=>n,helper:s=>(n.helpers.add(s),s)}}function iS(e,t){for(let n=0;n<e.length;n++)jb(e[n],t)}function jb(e,t){switch(e.type){case 1:iS(e.cases,t),t.helper("plural");break;case 2:iS(e.items,t);break;case 6:jb(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named");break}}function q4(e,t={}){const n=B4(e);n.helper("normalize"),e.body&&jb(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function H4(e){const t=e.body;return t.type===2?oS(t):t.cases.forEach(n=>oS(n)),e}function oS(e){if(e.items.length===1){const t=e.items[0];(t.type===3||t.type===9)&&(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;t.push(r.value)}if(t.length===e.items.length){e.static=WN(t);for(let n=0;n<e.items.length;n++){const r=e.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const W4="minifier";function ka(e){switch(e.t=e.type,e.type){case 0:const t=e;ka(t.body),t.b=t.body,delete t.body;break;case 1:const n=e,r=n.cases;for(let g=0;g<r.length;g++)ka(r[g]);n.c=r,delete n.cases;break;case 2:const o=e,s=o.items;for(let g=0;g<s.length;g++)ka(s[g]);o.i=s,delete o.items,o.static&&(o.s=o.static,delete o.static);break;case 3:case 9:case 8:case 7:const u=e;u.value&&(u.v=u.value,delete u.value);break;case 6:const l=e;ka(l.key),l.k=l.key,delete l.key,l.modifier&&(ka(l.modifier),l.m=l.modifier,delete l.modifier);break;case 5:const c=e;c.i=c.index,delete c.index;break;case 4:const d=e;d.k=d.key,delete d.key;break;default:throw Tu(Ue.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:W4,args:[e.type]})}delete e.type}const K4="parser";function G4(e,t){const{sourceMap:n,filename:r,breakLineCode:o,needIndent:s}=t,u=t.location!==!1,l={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:o,needIndent:s,indentLevel:0};u&&e.loc&&(l.source=e.loc.source);const c=()=>l;function d(S,b){l.code+=S}function g(S,b=!0){const k=b?o:"";d(s?k+"  ".repeat(S):k)}function h(S=!0){const b=++l.indentLevel;S&&g(b)}function p(S=!0){const b=--l.indentLevel;S&&g(b)}function v(){g(l.indentLevel)}return{context:c,push:d,indent:h,deindent:p,newline:v,helper:S=>`_${S}`,needIndent:()=>l.needIndent}}function z4(e,t){const{helper:n}=e;e.push(`${n("linked")}(`),ou(e,t.key),t.modifier?(e.push(", "),ou(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}function Y4(e,t){const{helper:n,needIndent:r}=e;e.push(`${n("normalize")}([`),e.indent(r());const o=t.items.length;for(let s=0;s<o&&(ou(e,t.items[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}function X4(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push(`${n("plural")}([`),e.indent(r());const o=t.cases.length;for(let s=0;s<o&&(ou(e,t.cases[s]),s!==o-1);s++)e.push(", ");e.deindent(r()),e.push("])")}}function Q4(e,t){t.body?ou(e,t.body):e.push("null")}function ou(e,t){const{helper:n}=e;switch(t.type){case 0:Q4(e,t);break;case 1:X4(e,t);break;case 2:Y4(e,t);break;case 6:z4(e,t);break;case 8:e.push(JSON.stringify(t.value),t);break;case 7:e.push(JSON.stringify(t.value),t);break;case 5:e.push(`${n("interpolate")}(${n("list")}(${t.index}))`,t);break;case 4:e.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(t.key)}))`,t);break;case 9:e.push(JSON.stringify(t.value),t);break;case 3:e.push(JSON.stringify(t.value),t);break;default:throw Tu(Ue.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:K4,args:[t.type]})}}const J4=(e,t={})=>{const n=nS(t.mode)?t.mode:"normal",r=nS(t.filename)?t.filename:"message.intl",o=!!t.sourceMap,s=t.breakLineCode!=null?t.breakLineCode:n==="arrow"?";":`
`,u=t.needIndent?t.needIndent:n!=="arrow",l=e.helpers||[],c=G4(e,{mode:n,filename:r,sourceMap:o,breakLineCode:s,needIndent:u});c.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),c.indent(u),l.length>0&&(c.push(`const { ${WN(l.map(h=>`${h}: _${h}`),", ")} } = ctx`),c.newline()),c.push("return "),ou(c,e),c.deindent(u),c.push("}"),delete e.helpers;const{code:d,map:g}=c.context();return{ast:e,code:d,map:g?g.toJSON():void 0}};function Z4(e,t={}){const n=HN({},t),r=!!n.jit,o=!!n.minify,s=n.optimize==null?!0:n.optimize,l=$4(n).parse(e);return r?(s&&H4(l),o&&ka(l),{ast:l,code:""}):(q4(l,n),J4(l,n))}/*!
  * core-base v9.7.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function eq(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ni().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ni().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ni().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Bo=[];Bo[0]={w:[0],i:[3,0],"[":[4],o:[7]};Bo[1]={w:[1],".":[2],"[":[4],o:[7]};Bo[2]={w:[2],i:[3,0],0:[3,0]};Bo[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Bo[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Bo[5]={"'":[4,0],o:8,l:[5,0]};Bo[6]={'"':[4,0],o:8,l:[6,0]};const tq=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function nq(e){return tq.test(e)}function rq(e){const t=e.charCodeAt(0),n=e.charCodeAt(e.length-1);return t===n&&(t===34||t===39)?e.slice(1,-1):e}function iq(e){if(e==null)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function oq(e){const t=e.trim();return e.charAt(0)==="0"&&isNaN(parseInt(e))?!1:nq(t)?rq(t):"*"+t}function sq(e){const t=[];let n=-1,r=0,o=0,s,u,l,c,d,g,h;const p=[];p[0]=()=>{u===void 0?u=l:u+=l},p[1]=()=>{u!==void 0&&(t.push(u),u=void 0)},p[2]=()=>{p[0](),o++},p[3]=()=>{if(o>0)o--,r=4,p[0]();else{if(o=0,u===void 0||(u=oq(u),u===!1))return!1;p[1]()}};function v(){const _=e[n+1];if(r===5&&_==="'"||r===6&&_==='"')return n++,l="\\"+_,p[0](),!0}for(;r!==null;)if(n++,s=e[n],!(s==="\\"&&v())){if(c=iq(s),h=Bo[r],d=h[c]||h.l||8,d===8||(r=d[0],d[1]!==void 0&&(g=p[d[1]],g&&(l=s,g()===!1))))return;if(r===7)return t}}const sS=new Map;function aq(e,t){return yt(e)?e[t]:null}function uq(e,t){if(!yt(e))return null;let n=sS.get(t);if(n||(n=sq(t),n&&sS.set(t,n)),!n)return null;const r=n.length;let o=e,s=0;for(;s<r;){const u=o[n[s]];if(u===void 0||jt(o))return null;o=u,s++}return o}const lq=e=>e,cq=e=>"",fq="text",hq=e=>e.length===0?"":T4(e),dq=E4;function aS(e,t){return e=Math.abs(e),t===2?e?e>1?1:0:1:e?Math.min(e,2):0}function pq(e){const t=ln(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(ln(e.named.count)||ln(e.named.n))?ln(e.named.count)?e.named.count:ln(e.named.n)?e.named.n:t:t}function mq(e,t){t.count||(t.count=e),t.n||(t.n=e)}function gq(e={}){const t=e.locale,n=pq(e),r=yt(e.pluralRules)&&pe(t)&&jt(e.pluralRules[t])?e.pluralRules[t]:aS,o=yt(e.pluralRules)&&pe(t)&&jt(e.pluralRules[t])?aS:void 0,s=b=>b[r(n,b.length,o)],u=e.list||[],l=b=>u[b],c=e.named||{};ln(e.pluralIndex)&&mq(n,c);const d=b=>c[b];function g(b){const k=jt(e.messages)?e.messages(b):yt(e.messages)?e.messages[b]:!1;return k||(e.parent?e.parent.message(b):cq)}const h=b=>e.modifiers?e.modifiers[b]:lq,p=ze(e.processor)&&jt(e.processor.normalize)?e.processor.normalize:hq,v=ze(e.processor)&&jt(e.processor.interpolate)?e.processor.interpolate:dq,_=ze(e.processor)&&pe(e.processor.type)?e.processor.type:fq,S={list:l,named:d,plural:s,linked:(b,...k)=>{const[R,C]=k;let U="text",L="";k.length===1?yt(R)?(L=R.modifier||L,U=R.type||U):pe(R)&&(L=R||L):k.length===2&&(pe(R)&&(L=R||L),pe(C)&&(U=C||U));const B=g(b)(S),$=U==="vnode"&&Pt(B)&&L?B[0]:B;return L?h(L)($,U):$},message:g,type:_,interpolate:v,normalize:p,values:In({},u,c)};return S}let uc=null;function vq(e){uc=e}function yq(e,t,n){uc&&uc.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}const _q=bq("function:translate");function bq(e){return t=>uc&&uc.emit(e,t)}const wq={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function $b(e,t){return t.locale!=null?uS(t.locale):uS(e.locale)}let pv;function uS(e){return pe(e)?e:pv!=null&&e.resolvedOnce?pv:pv=e()}function Eq(e,t,n){return[...new Set([n,...Pt(t)?t:yt(t)?Object.keys(t):pe(t)?[t]:[n]])]}function KN(e,t,n){const r=pe(n)?n:su,o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let s=o.__localeChainCache.get(r);if(!s){s=[];let u=[n];for(;Pt(u);)u=lS(s,u,t);const l=Pt(t)||!ze(t)?t:t.default?t.default:null;u=pe(l)?[l]:l,Pt(u)&&lS(s,u,!1),o.__localeChainCache.set(r,s)}return s}function lS(e,t,n){let r=!0;for(let o=0;o<t.length&&tt(r);o++){const s=t[o];pe(s)&&(r=Tq(e,t[o],n))}return r}function Tq(e,t,n){let r;const o=t.split("-");do{const s=o.join("-");r=Iq(e,s,n),o.splice(-1,1)}while(o.length&&r===!0);return r}function Iq(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r=t[t.length-1]!=="!";const o=t.replace(/!/g,"");e.push(o),(Pt(n)||ze(n))&&n[o]&&(r=n[o])}return r}const Sq="9.7.1",lp=-1,su="en-US",cS="",fS=e=>`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`;function Aq(){return{upper:(e,t)=>t==="text"&&pe(e)?e.toUpperCase():t==="vnode"&&yt(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>t==="text"&&pe(e)?e.toLowerCase():t==="vnode"&&yt(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>t==="text"&&pe(e)?fS(e):t==="vnode"&&yt(e)&&"__v_isVNode"in e?fS(e.children):e}}let GN;function hS(e){GN=e}let zN;function kq(e){zN=e}let YN;function Cq(e){YN=e}let XN=null;const Oq=e=>{XN=e},Nq=()=>XN;let QN=null;const dS=e=>{QN=e},Pq=()=>QN;let pS=0;function xq(e={}){const t=jt(e.onWarn)?e.onWarn:I4,n=pe(e.version)?e.version:Sq,r=pe(e.locale)||jt(e.locale)?e.locale:su,o=jt(r)?su:r,s=Pt(e.fallbackLocale)||ze(e.fallbackLocale)||pe(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:o,u=ze(e.messages)?e.messages:{[o]:{}},l=ze(e.datetimeFormats)?e.datetimeFormats:{[o]:{}},c=ze(e.numberFormats)?e.numberFormats:{[o]:{}},d=In({},e.modifiers||{},Aq()),g=e.pluralRules||{},h=jt(e.missing)?e.missing:null,p=tt(e.missingWarn)||xo(e.missingWarn)?e.missingWarn:!0,v=tt(e.fallbackWarn)||xo(e.fallbackWarn)?e.fallbackWarn:!0,_=!!e.fallbackFormat,w=!!e.unresolving,S=jt(e.postTranslation)?e.postTranslation:null,b=ze(e.processor)?e.processor:null,k=tt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,R=!!e.escapeParameter,C=jt(e.messageCompiler)?e.messageCompiler:GN,U=jt(e.messageResolver)?e.messageResolver:zN||aq,L=jt(e.localeFallbacker)?e.localeFallbacker:YN||Eq,B=yt(e.fallbackContext)?e.fallbackContext:void 0,$=e,H=yt($.__datetimeFormatters)?$.__datetimeFormatters:new Map,N=yt($.__numberFormatters)?$.__numberFormatters:new Map,ke=yt($.__meta)?$.__meta:{};pS++;const ne={version:n,cid:pS,locale:r,fallbackLocale:s,messages:u,modifiers:d,pluralRules:g,missing:h,missingWarn:p,fallbackWarn:v,fallbackFormat:_,unresolving:w,postTranslation:S,processor:b,warnHtmlMessage:k,escapeParameter:R,messageCompiler:C,messageResolver:U,localeFallbacker:L,fallbackContext:B,onWarn:t,__meta:ke};return ne.datetimeFormats=l,ne.numberFormats=c,ne.__datetimeFormatters=H,ne.__numberFormatters=N,__INTLIFY_PROD_DEVTOOLS__&&yq(ne,n,ke),ne}function Bb(e,t,n,r,o){const{missing:s,onWarn:u}=e;if(s!==null){const l=s(e,n,t,o);return pe(l)?l:t}else return t}function hl(e,t,n){const r=e;r.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function mv(e){return n=>Rq(n,e)}function Rq(e,t){const n=t.b||t.body;if((n.t||n.type)===1){const r=n,o=r.c||r.cases;return e.plural(o.reduce((s,u)=>[...s,mS(e,u)],[]))}else return mS(e,n)}function mS(e,t){const n=t.s||t.static;if(n)return e.type==="text"?n:e.normalize([n]);{const r=(t.i||t.items).reduce((o,s)=>[...o,Iy(e,s)],[]);return e.normalize(r)}}function Iy(e,t){const n=t.t||t.type;switch(n){case 3:const r=t;return r.v||r.value;case 9:const o=t;return o.v||o.value;case 4:const s=t;return e.interpolate(e.named(s.k||s.key));case 5:const u=t;return e.interpolate(e.list(u.i!=null?u.i:u.index));case 6:const l=t,c=l.m||l.modifier;return e.linked(Iy(e,l.k||l.key),c?Iy(e,c):void 0,e.type);case 7:const d=t;return d.v||d.value;case 8:const g=t;return g.v||g.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const JN=Ue.__EXTEND_POINT__,lh=Ub(JN),_o={INVALID_ARGUMENT:JN,INVALID_DATE_ARGUMENT:lh(),INVALID_ISO_DATE_ARGUMENT:lh(),NOT_SUPPORT_NON_STRING_MESSAGE:lh(),__EXTEND_POINT__:lh()};function Is(e){return Tu(e,null,void 0)}const ZN=e=>e;let Pa=Object.create(null);const au=e=>yt(e)&&(e.t===0||e.type===0)&&("b"in e||"body"in e);function eP(e,t={}){let n=!1;const r=t.onError||N4;return t.onError=o=>{n=!0,r(o)},{...Z4(e,t),detectError:n}}const Dq=(e,t)=>{if(!pe(e))throw Is(_o.NOT_SUPPORT_NON_STRING_MESSAGE);{tt(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||ZN)(e),o=Pa[r];if(o)return o;const{code:s,detectError:u}=eP(e,t),l=new Function(`return ${s}`)();return u?l:Pa[r]=l}};function Lq(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&pe(e)){tt(t.warnHtmlMessage)&&t.warnHtmlMessage;const r=(t.onCacheKey||ZN)(e),o=Pa[r];if(o)return o;const{ast:s,detectError:u}=eP(e,{...t,location:!1,jit:!0}),l=mv(s);return u?l:Pa[r]=l}else{const n=e.cacheKey;if(n){const r=Pa[n];return r||(Pa[n]=mv(e))}else return mv(e)}}const gS=()=>"",xr=e=>jt(e);function vS(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:o,messageCompiler:s,fallbackLocale:u,messages:l}=e,[c,d]=Sy(...t),g=tt(d.missingWarn)?d.missingWarn:e.missingWarn,h=tt(d.fallbackWarn)?d.fallbackWarn:e.fallbackWarn,p=tt(d.escapeParameter)?d.escapeParameter:e.escapeParameter,v=!!d.resolvedMessage,_=pe(d.default)||tt(d.default)?tt(d.default)?s?c:()=>c:d.default:n?s?c:()=>c:"",w=n||_!=="",S=$b(e,d);p&&Mq(d);let[b,k,R]=v?[c,S,l[S]||{}]:tP(e,c,S,u,h,g),C=b,U=c;if(!v&&!(pe(C)||au(C)||xr(C))&&w&&(C=_,U=C),!v&&(!(pe(C)||au(C)||xr(C))||!pe(k)))return o?lp:c;let L=!1;const B=()=>{L=!0},$=xr(C)?C:nP(e,c,k,C,U,B);if(L)return C;const H=Uq(e,k,R,d),N=gq(H),ke=Fq(e,$,N),ne=r?r(ke,c):ke;if(__INTLIFY_PROD_DEVTOOLS__){const Ee={timestamp:Date.now(),key:pe(c)?c:xr(C)?C.key:"",locale:k||(xr(C)?C.locale:""),format:pe(C)?C:xr(C)?C.source:"",message:ne};Ee.meta=In({},e.__meta,Nq()||{}),_q(Ee)}return ne}function Mq(e){Pt(e.list)?e.list=e.list.map(t=>pe(t)?tS(t):t):yt(e.named)&&Object.keys(e.named).forEach(t=>{pe(e.named[t])&&(e.named[t]=tS(e.named[t]))})}function tP(e,t,n,r,o,s){const{messages:u,onWarn:l,messageResolver:c,localeFallbacker:d}=e,g=d(e,r,n);let h={},p,v=null;const _="translate";for(let w=0;w<g.length&&(p=g[w],h=u[p]||{},(v=c(h,t))===null&&(v=h[t]),!(pe(v)||au(v)||xr(v)));w++){const S=Bb(e,t,p,s,_);S!==t&&(v=S)}return[v,p,h]}function nP(e,t,n,r,o,s){const{messageCompiler:u,warnHtmlMessage:l}=e;if(xr(r)){const d=r;return d.locale=d.locale||n,d.key=d.key||t,d}if(u==null){const d=()=>r;return d.locale=n,d.key=t,d}const c=u(r,Vq(e,n,o,r,l,s));return c.locale=n,c.key=t,c.source=r,c}function Fq(e,t,n){return t(n)}function Sy(...e){const[t,n,r]=e,o={};if(!pe(t)&&!ln(t)&&!xr(t)&&!au(t))throw Is(_o.INVALID_ARGUMENT);const s=ln(t)?String(t):(xr(t),t);return ln(n)?o.plural=n:pe(n)?o.default=n:ze(n)&&!up(n)?o.named=n:Pt(n)&&(o.list=n),ln(r)?o.plural=r:pe(r)?o.default=r:ze(r)&&In(o,r),[s,o]}function Vq(e,t,n,r,o,s){return{locale:t,key:n,warnHtmlMessage:o,onError:u=>{throw s&&s(u),u},onCacheKey:u=>y4(t,n,u)}}function Uq(e,t,n,r){const{modifiers:o,pluralRules:s,messageResolver:u,fallbackLocale:l,fallbackWarn:c,missingWarn:d,fallbackContext:g}=e,p={locale:t,modifiers:o,pluralRules:s,messages:v=>{let _=u(n,v);if(_==null&&g){const[,,w]=tP(g,v,t,l,c,d);_=u(w,v)}if(pe(_)||au(_)){let w=!1;const b=nP(e,v,t,_,v,()=>{w=!0});return w?gS:b}else return xr(_)?_:gS}};return e.processor&&(p.processor=e.processor),r.list&&(p.list=r.list),r.named&&(p.named=r.named),ln(r.plural)&&(p.pluralIndex=r.plural),p}function yS(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:u}=e,{__datetimeFormatters:l}=e,[c,d,g,h]=Ay(...t),p=tt(g.missingWarn)?g.missingWarn:e.missingWarn;tt(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const v=!!g.part,_=$b(e,g),w=u(e,o,_);if(!pe(c)||c==="")return new Intl.DateTimeFormat(_,h).format(d);let S={},b,k=null;const R="datetime format";for(let L=0;L<w.length&&(b=w[L],S=n[b]||{},k=S[c],!ze(k));L++)Bb(e,c,b,p,R);if(!ze(k)||!pe(b))return r?lp:c;let C=`${b}__${c}`;up(h)||(C=`${C}__${JSON.stringify(h)}`);let U=l.get(C);return U||(U=new Intl.DateTimeFormat(b,In({},k,h)),l.set(C,U)),v?U.formatToParts(d):U.format(d)}const rP=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Ay(...e){const[t,n,r,o]=e,s={};let u={},l;if(pe(t)){const c=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Is(_o.INVALID_ISO_DATE_ARGUMENT);const d=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();l=new Date(d);try{l.toISOString()}catch{throw Is(_o.INVALID_ISO_DATE_ARGUMENT)}}else if(b4(t)){if(isNaN(t.getTime()))throw Is(_o.INVALID_DATE_ARGUMENT);l=t}else if(ln(t))l=t;else throw Is(_o.INVALID_ARGUMENT);return pe(n)?s.key=n:ze(n)&&Object.keys(n).forEach(c=>{rP.includes(c)?u[c]=n[c]:s[c]=n[c]}),pe(r)?s.locale=r:ze(r)&&(u=r),ze(o)&&(u=o),[s.key||"",l,s,u]}function _S(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;r.__datetimeFormatters.has(s)&&r.__datetimeFormatters.delete(s)}}function bS(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:o,onWarn:s,localeFallbacker:u}=e,{__numberFormatters:l}=e,[c,d,g,h]=ky(...t),p=tt(g.missingWarn)?g.missingWarn:e.missingWarn;tt(g.fallbackWarn)?g.fallbackWarn:e.fallbackWarn;const v=!!g.part,_=$b(e,g),w=u(e,o,_);if(!pe(c)||c==="")return new Intl.NumberFormat(_,h).format(d);let S={},b,k=null;const R="number format";for(let L=0;L<w.length&&(b=w[L],S=n[b]||{},k=S[c],!ze(k));L++)Bb(e,c,b,p,R);if(!ze(k)||!pe(b))return r?lp:c;let C=`${b}__${c}`;up(h)||(C=`${C}__${JSON.stringify(h)}`);let U=l.get(C);return U||(U=new Intl.NumberFormat(b,In({},k,h)),l.set(C,U)),v?U.formatToParts(d):U.format(d)}const iP=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function ky(...e){const[t,n,r,o]=e,s={};let u={};if(!ln(t))throw Is(_o.INVALID_ARGUMENT);const l=t;return pe(n)?s.key=n:ze(n)&&Object.keys(n).forEach(c=>{iP.includes(c)?u[c]=n[c]:s[c]=n[c]}),pe(r)?s.locale=r:ze(r)&&(u=r),ze(o)&&(u=o),[s.key||"",l,s,u]}function wS(e,t,n){const r=e;for(const o in n){const s=`${t}__${o}`;r.__numberFormatters.has(s)&&r.__numberFormatters.delete(s)}}eq();/*!
  * vue-i18n v9.7.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const jq="9.7.1";function $q(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Ni().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Ni().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Ni().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Ni().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Ni().__INTLIFY_PROD_DEVTOOLS__=!1)}const oP=wq.__EXTEND_POINT__,oo=Ub(oP);oo(),oo(),oo(),oo(),oo(),oo(),oo(),oo();const sP=_o.__EXTEND_POINT__,tr=Ub(sP),hn={UNEXPECTED_RETURN_TYPE:sP,INVALID_ARGUMENT:tr(),MUST_BE_CALL_SETUP_TOP:tr(),NOT_INSTALLED:tr(),NOT_AVAILABLE_IN_LEGACY_MODE:tr(),REQUIRED_VALUE:tr(),INVALID_VALUE:tr(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:tr(),NOT_INSTALLED_WITH_PROVIDE:tr(),UNEXPECTED_ERROR:tr(),NOT_COMPATIBLE_LEGACY_VUE_I18N:tr(),BRIDGE_SUPPORT_VUE_2_ONLY:tr(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:tr(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:tr(),__EXTEND_POINT__:tr()};function mn(e,...t){return Tu(e,null,void 0)}const Cy=$o("__translateVNode"),Oy=$o("__datetimeParts"),Ny=$o("__numberParts"),aP=$o("__setPluralRules"),uP=$o("__injectWithOption"),Py=$o("__dispose");function lc(e){if(!yt(e))return e;for(const t in e)if(ac(e,t))if(!t.includes("."))yt(e[t])&&lc(e[t]);else{const n=t.split("."),r=n.length-1;let o=e,s=!1;for(let u=0;u<r;u++){if(n[u]in o||(o[n[u]]={}),!yt(o[n[u]])){s=!0;break}o=o[n[u]]}s||(o[n[r]]=e[t],delete e[t]),yt(o[n[r]])&&lc(o[n[r]])}return e}function cp(e,t){const{messages:n,__i18n:r,messageResolver:o,flatJson:s}=t,u=ze(n)?n:Pt(r)?{}:{[e]:{}};if(Pt(r)&&r.forEach(l=>{if("locale"in l&&"resource"in l){const{locale:c,resource:d}=l;c?(u[c]=u[c]||{},Nl(d,u[c])):Nl(d,u)}else pe(l)&&Nl(JSON.parse(l),u)}),o==null&&s)for(const l in u)ac(u,l)&&lc(u[l]);return u}function lP(e){return e.type}function cP(e,t,n){let r=yt(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=cp(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const o=Object.keys(r);o.length&&o.forEach(s=>{e.mergeLocaleMessage(s,r[s])});{if(yt(t.datetimeFormats)){const s=Object.keys(t.datetimeFormats);s.length&&s.forEach(u=>{e.mergeDateTimeFormat(u,t.datetimeFormats[u])})}if(yt(t.numberFormats)){const s=Object.keys(t.numberFormats);s.length&&s.forEach(u=>{e.mergeNumberFormat(u,t.numberFormats[u])})}}}function ES(e){return Ae(_c,null,e,0)}const TS="__INTLIFY_META__",IS=()=>[],Bq=()=>!1;let SS=0;function AS(e){return(t,n,r,o)=>e(n,r,Jr()||void 0,o)}const qq=()=>{const e=Jr();let t=null;return e&&(t=lP(e)[TS])?{[TS]:t}:null};function qb(e={},t){const{__root:n,__injectWithOption:r}=e,o=n===void 0,s=e.flatJson;let u=tt(e.inheritLocale)?e.inheritLocale:!0;const l=bt(n&&u?n.locale.value:pe(e.locale)?e.locale:su),c=bt(n&&u?n.fallbackLocale.value:pe(e.fallbackLocale)||Pt(e.fallbackLocale)||ze(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:l.value),d=bt(cp(l.value,e)),g=bt(ze(e.datetimeFormats)?e.datetimeFormats:{[l.value]:{}}),h=bt(ze(e.numberFormats)?e.numberFormats:{[l.value]:{}});let p=n?n.missingWarn:tt(e.missingWarn)||xo(e.missingWarn)?e.missingWarn:!0,v=n?n.fallbackWarn:tt(e.fallbackWarn)||xo(e.fallbackWarn)?e.fallbackWarn:!0,_=n?n.fallbackRoot:tt(e.fallbackRoot)?e.fallbackRoot:!0,w=!!e.fallbackFormat,S=jt(e.missing)?e.missing:null,b=jt(e.missing)?AS(e.missing):null,k=jt(e.postTranslation)?e.postTranslation:null,R=n?n.warnHtmlMessage:tt(e.warnHtmlMessage)?e.warnHtmlMessage:!0,C=!!e.escapeParameter;const U=n?n.modifiers:ze(e.modifiers)?e.modifiers:{};let L=e.pluralRules||n&&n.pluralRules,B;B=(()=>{o&&dS(null);const j={version:jq,locale:l.value,fallbackLocale:c.value,messages:d.value,modifiers:U,pluralRules:L,missing:b===null?void 0:b,missingWarn:p,fallbackWarn:v,fallbackFormat:w,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:R,escapeParameter:C,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};j.datetimeFormats=g.value,j.numberFormats=h.value,j.__datetimeFormatters=ze(B)?B.__datetimeFormatters:void 0,j.__numberFormatters=ze(B)?B.__numberFormatters:void 0;const G=xq(j);return o&&dS(G),G})(),hl(B,l.value,c.value);function H(){return[l.value,c.value,d.value,g.value,h.value]}const N=Ve({get:()=>l.value,set:j=>{l.value=j,B.locale=l.value}}),ke=Ve({get:()=>c.value,set:j=>{c.value=j,B.fallbackLocale=c.value,hl(B,l.value,j)}}),ne=Ve(()=>d.value),Ee=Ve(()=>g.value),Re=Ve(()=>h.value);function Be(){return jt(k)?k:null}function ce(j){k=j,B.postTranslation=j}function Fe(){return S}function ve(j){j!==null&&(b=AS(j)),S=j,B.missing=b}const et=(j,G,_e,fe,V,F)=>{H();let X;try{__INTLIFY_PROD_DEVTOOLS__,o||(B.fallbackContext=n?Pq():void 0),X=j(B)}finally{__INTLIFY_PROD_DEVTOOLS__,o||(B.fallbackContext=void 0)}if(_e!=="translate exists"&&ln(X)&&X===lp||_e==="translate exists"&&!X){const[de,Te]=G();return n&&_?fe(n):V(de)}else{if(F(X))return X;throw mn(hn.UNEXPECTED_RETURN_TYPE)}};function mt(...j){return et(G=>Reflect.apply(vS,null,[G,...j]),()=>Sy(...j),"translate",G=>Reflect.apply(G.t,G,[...j]),G=>G,G=>pe(G))}function Ct(...j){const[G,_e,fe]=j;if(fe&&!yt(fe))throw mn(hn.INVALID_ARGUMENT);return mt(G,_e,In({resolvedMessage:!0},fe||{}))}function St(...j){return et(G=>Reflect.apply(yS,null,[G,...j]),()=>Ay(...j),"datetime format",G=>Reflect.apply(G.d,G,[...j]),()=>cS,G=>pe(G))}function ht(...j){return et(G=>Reflect.apply(bS,null,[G,...j]),()=>ky(...j),"number format",G=>Reflect.apply(G.n,G,[...j]),()=>cS,G=>pe(G))}function Xt(j){return j.map(G=>pe(G)||ln(G)||tt(G)?ES(String(G)):G)}const be={normalize:Xt,interpolate:j=>j,type:"vnode"};function W(...j){return et(G=>{let _e;const fe=G;try{fe.processor=be,_e=Reflect.apply(vS,null,[fe,...j])}finally{fe.processor=null}return _e},()=>Sy(...j),"translate",G=>G[Cy](...j),G=>[ES(G)],G=>Pt(G))}function Y(...j){return et(G=>Reflect.apply(bS,null,[G,...j]),()=>ky(...j),"number format",G=>G[Ny](...j),IS,G=>pe(G)||Pt(G))}function se(...j){return et(G=>Reflect.apply(yS,null,[G,...j]),()=>Ay(...j),"datetime format",G=>G[Oy](...j),IS,G=>pe(G)||Pt(G))}function he(j){L=j,B.pluralRules=L}function De(j,G){return et(()=>{if(!j)return!1;const _e=pe(G)?G:l.value,fe=T(_e),V=B.messageResolver(fe,j);return au(V)||xr(V)||pe(V)},()=>[j],"translate exists",_e=>Reflect.apply(_e.te,_e,[j,G]),Bq,_e=>tt(_e))}function P(j){let G=null;const _e=KN(B,c.value,l.value);for(let fe=0;fe<_e.length;fe++){const V=d.value[_e[fe]]||{},F=B.messageResolver(V,j);if(F!=null){G=F;break}}return G}function I(j){const G=P(j);return G??(n?n.tm(j)||{}:{})}function T(j){return d.value[j]||{}}function O(j,G){if(s){const _e={[j]:G};for(const fe in _e)ac(_e,fe)&&lc(_e[fe]);G=_e[j]}d.value[j]=G,B.messages=d.value}function M(j,G){d.value[j]=d.value[j]||{};const _e={[j]:G};for(const fe in _e)ac(_e,fe)&&lc(_e[fe]);G=_e[j],Nl(G,d.value[j]),B.messages=d.value}function q(j){return g.value[j]||{}}function J(j,G){g.value[j]=G,B.datetimeFormats=g.value,_S(B,j,G)}function ee(j,G){g.value[j]=In(g.value[j]||{},G),B.datetimeFormats=g.value,_S(B,j,G)}function oe(j){return h.value[j]||{}}function re(j,G){h.value[j]=G,B.numberFormats=h.value,wS(B,j,G)}function Ce(j,G){h.value[j]=In(h.value[j]||{},G),B.numberFormats=h.value,wS(B,j,G)}SS++,n&&Ey&&(wn(n.locale,j=>{u&&(l.value=j,B.locale=j,hl(B,l.value,c.value))}),wn(n.fallbackLocale,j=>{u&&(c.value=j,B.fallbackLocale=j,hl(B,l.value,c.value))}));const ue={id:SS,locale:N,fallbackLocale:ke,get inheritLocale(){return u},set inheritLocale(j){u=j,j&&n&&(l.value=n.locale.value,c.value=n.fallbackLocale.value,hl(B,l.value,c.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:ne,get modifiers(){return U},get pluralRules(){return L||{}},get isGlobal(){return o},get missingWarn(){return p},set missingWarn(j){p=j,B.missingWarn=p},get fallbackWarn(){return v},set fallbackWarn(j){v=j,B.fallbackWarn=v},get fallbackRoot(){return _},set fallbackRoot(j){_=j},get fallbackFormat(){return w},set fallbackFormat(j){w=j,B.fallbackFormat=w},get warnHtmlMessage(){return R},set warnHtmlMessage(j){R=j,B.warnHtmlMessage=j},get escapeParameter(){return C},set escapeParameter(j){C=j,B.escapeParameter=j},t:mt,getLocaleMessage:T,setLocaleMessage:O,mergeLocaleMessage:M,getPostTranslationHandler:Be,setPostTranslationHandler:ce,getMissingHandler:Fe,setMissingHandler:ve,[aP]:he};return ue.datetimeFormats=Ee,ue.numberFormats=Re,ue.rt=Ct,ue.te=De,ue.tm=I,ue.d=St,ue.n=ht,ue.getDateTimeFormat=q,ue.setDateTimeFormat=J,ue.mergeDateTimeFormat=ee,ue.getNumberFormat=oe,ue.setNumberFormat=re,ue.mergeNumberFormat=Ce,ue[uP]=r,ue[Cy]=W,ue[Oy]=se,ue[Ny]=Y,ue}function Hq(e){const t=pe(e.locale)?e.locale:su,n=pe(e.fallbackLocale)||Pt(e.fallbackLocale)||ze(e.fallbackLocale)||e.fallbackLocale===!1?e.fallbackLocale:t,r=jt(e.missing)?e.missing:void 0,o=tt(e.silentTranslationWarn)||xo(e.silentTranslationWarn)?!e.silentTranslationWarn:!0,s=tt(e.silentFallbackWarn)||xo(e.silentFallbackWarn)?!e.silentFallbackWarn:!0,u=tt(e.fallbackRoot)?e.fallbackRoot:!0,l=!!e.formatFallbackMessages,c=ze(e.modifiers)?e.modifiers:{},d=e.pluralizationRules,g=jt(e.postTranslation)?e.postTranslation:void 0,h=pe(e.warnHtmlInMessage)?e.warnHtmlInMessage!=="off":!0,p=!!e.escapeParameterHtml,v=tt(e.sync)?e.sync:!0;let _=e.messages;if(ze(e.sharedMessages)){const U=e.sharedMessages;_=Object.keys(U).reduce((B,$)=>{const H=B[$]||(B[$]={});return In(H,U[$]),B},_||{})}const{__i18n:w,__root:S,__injectWithOption:b}=e,k=e.datetimeFormats,R=e.numberFormats,C=e.flatJson;return{locale:t,fallbackLocale:n,messages:_,flatJson:C,datetimeFormats:k,numberFormats:R,missing:r,missingWarn:o,fallbackWarn:s,fallbackRoot:u,fallbackFormat:l,modifiers:c,pluralRules:d,postTranslation:g,warnHtmlMessage:h,escapeParameter:p,messageResolver:e.messageResolver,inheritLocale:v,__i18n:w,__root:S,__injectWithOption:b}}function xy(e={},t){{const n=qb(Hq(e)),{__extender:r}=e,o={id:n.id,get locale(){return n.locale.value},set locale(s){n.locale.value=s},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(s){n.fallbackLocale.value=s},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return n.getMissingHandler()},set missing(s){n.setMissingHandler(s)},get silentTranslationWarn(){return tt(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(s){n.missingWarn=tt(s)?!s:s},get silentFallbackWarn(){return tt(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(s){n.fallbackWarn=tt(s)?!s:s},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(s){n.fallbackFormat=s},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(s){n.setPostTranslationHandler(s)},get sync(){return n.inheritLocale},set sync(s){n.inheritLocale=s},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){n.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(s){n.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...s){const[u,l,c]=s,d={};let g=null,h=null;if(!pe(u))throw mn(hn.INVALID_ARGUMENT);const p=u;return pe(l)?d.locale=l:Pt(l)?g=l:ze(l)&&(h=l),Pt(c)?g=c:ze(c)&&(h=c),Reflect.apply(n.t,n,[p,g||h||{},d])},rt(...s){return Reflect.apply(n.rt,n,[...s])},tc(...s){const[u,l,c]=s,d={plural:1};let g=null,h=null;if(!pe(u))throw mn(hn.INVALID_ARGUMENT);const p=u;return pe(l)?d.locale=l:ln(l)?d.plural=l:Pt(l)?g=l:ze(l)&&(h=l),pe(c)?d.locale=c:Pt(c)?g=c:ze(c)&&(h=c),Reflect.apply(n.t,n,[p,g||h||{},d])},te(s,u){return n.te(s,u)},tm(s){return n.tm(s)},getLocaleMessage(s){return n.getLocaleMessage(s)},setLocaleMessage(s,u){n.setLocaleMessage(s,u)},mergeLocaleMessage(s,u){n.mergeLocaleMessage(s,u)},d(...s){return Reflect.apply(n.d,n,[...s])},getDateTimeFormat(s){return n.getDateTimeFormat(s)},setDateTimeFormat(s,u){n.setDateTimeFormat(s,u)},mergeDateTimeFormat(s,u){n.mergeDateTimeFormat(s,u)},n(...s){return Reflect.apply(n.n,n,[...s])},getNumberFormat(s){return n.getNumberFormat(s)},setNumberFormat(s,u){n.setNumberFormat(s,u)},mergeNumberFormat(s,u){n.mergeNumberFormat(s,u)},getChoiceIndex(s,u){return-1}};return o.__extender=r,o}}const Hb={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>e==="parent"||e==="global",default:"parent"},i18n:{type:Object}};function Wq({slots:e},t){return t.length===1&&t[0]==="default"?(e.default?e.default():[]).reduce((r,o)=>[...r,...o.type===zt?o.children:[o]],[]):t.reduce((n,r)=>{const o=e[r];return o&&(n[r]=o()),n},{})}function fP(e){return zt}const Kq=Do({name:"i18n-t",props:In({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>ln(e)||!isNaN(e)}},Hb),setup(e,t){const{slots:n,attrs:r}=t,o=e.i18n||Wb({useScope:e.scope,__useComponent:!0});return()=>{const s=Object.keys(n).filter(h=>h!=="_"),u={};e.locale&&(u.locale=e.locale),e.plural!==void 0&&(u.plural=pe(e.plural)?+e.plural:e.plural);const l=Wq(t,s),c=o[Cy](e.keypath,l,u),d=In({},r),g=pe(e.tag)||yt(e.tag)?e.tag:fP();return Fi(g,d,c)}}}),Ry=Kq,Gq=Ry;function zq(e){return Pt(e)&&!pe(e[0])}function hP(e,t,n,r){const{slots:o,attrs:s}=t;return()=>{const u={part:!0};let l={};e.locale&&(u.locale=e.locale),pe(e.format)?u.key=e.format:yt(e.format)&&(pe(e.format.key)&&(u.key=e.format.key),l=Object.keys(e.format).reduce((p,v)=>n.includes(v)?In({},p,{[v]:e.format[v]}):p,{}));const c=r(e.value,u,l);let d=[u.key];Pt(c)?d=c.map((p,v)=>{const _=o[p.type],w=_?_({[p.type]:p.value,index:v,parts:c}):[p.value];return zq(w)&&(w[0].key=`${p.type}-${v}`),w}):pe(c)&&(d=[c]);const g=In({},s),h=pe(e.tag)||yt(e.tag)?e.tag:fP();return Fi(h,g,d)}}const Yq=Do({name:"i18n-n",props:In({value:{type:Number,required:!0},format:{type:[String,Object]}},Hb),setup(e,t){const n=e.i18n||Wb({useScope:"parent",__useComponent:!0});return hP(e,t,iP,(...r)=>n[Ny](...r))}}),kS=Yq,Xq=Do({name:"i18n-d",props:In({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},Hb),setup(e,t){const n=e.i18n||Wb({useScope:"parent",__useComponent:!0});return hP(e,t,rP,(...r)=>n[Oy](...r))}}),CS=Xq;function Qq(e,t){const n=e;if(e.mode==="composition")return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return r!=null?r.__composer:e.global.__composer}}function Jq(e){const t=u=>{const{instance:l,modifiers:c,value:d}=u;if(!l||!l.$)throw mn(hn.UNEXPECTED_ERROR);const g=Qq(e,l.$),h=OS(d);return[Reflect.apply(g.t,g,[...NS(h)]),g]};return{created:(u,l)=>{const[c,d]=t(l);Ey&&e.global===d&&(u.__i18nWatcher=wn(d.locale,()=>{l.instance&&l.instance.$forceUpdate()})),u.__composer=d,u.textContent=c},unmounted:u=>{Ey&&u.__i18nWatcher&&(u.__i18nWatcher(),u.__i18nWatcher=void 0,delete u.__i18nWatcher),u.__composer&&(u.__composer=void 0,delete u.__composer)},beforeUpdate:(u,{value:l})=>{if(u.__composer){const c=u.__composer,d=OS(l);u.textContent=Reflect.apply(c.t,c,[...NS(d)])}},getSSRProps:u=>{const[l]=t(u);return{textContent:l}}}}function OS(e){if(pe(e))return{path:e};if(ze(e)){if(!("path"in e))throw mn(hn.REQUIRED_VALUE,"path");return e}else throw mn(hn.INVALID_VALUE)}function NS(e){const{path:t,locale:n,args:r,choice:o,plural:s}=e,u={},l=r||{};return pe(n)&&(u.locale=n),ln(o)&&(u.plural=o),ln(s)&&(u.plural=s),[t,l,u]}function Zq(e,t,...n){const r=ze(n[0])?n[0]:{},o=!!r.useI18nComponentName;(tt(r.globalInstall)?r.globalInstall:!0)&&([o?"i18n":Ry.name,"I18nT"].forEach(u=>e.component(u,Ry)),[kS.name,"I18nN"].forEach(u=>e.component(u,kS)),[CS.name,"I18nD"].forEach(u=>e.component(u,CS))),e.directive("t",Jq(t))}function eH(e,t,n){return{beforeCreate(){const r=Jr();if(!r)throw mn(hn.UNEXPECTED_ERROR);const o=this.$options;if(o.i18n){const s=o.i18n;if(o.__i18n&&(s.__i18n=o.__i18n),s.__root=t,this===this.$root)this.$i18n=PS(e,s);else{s.__injectWithOption=!0,s.__extender=n.__vueI18nExtend,this.$i18n=xy(s);const u=this.$i18n;u.__extender&&(u.__disposer=u.__extender(this.$i18n))}}else if(o.__i18n)if(this===this.$root)this.$i18n=PS(e,o);else{this.$i18n=xy({__i18n:o.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=e;o.__i18nGlobal&&cP(t,o,o),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,u)=>this.$i18n.te(s,u),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=Jr();if(!r)throw mn(hn.UNEXPECTED_ERROR);const o=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__disposer&&(o.__disposer(),delete o.__disposer,delete o.__extender),n.__deleteInstance(r),delete this.$i18n}}}function PS(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[aP](t.pluralizationRules||e.pluralizationRules);const n=cp(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(r=>e.mergeLocaleMessage(r,n[r])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(r=>e.mergeDateTimeFormat(r,t.datetimeFormats[r])),t.numberFormats&&Object.keys(t.numberFormats).forEach(r=>e.mergeNumberFormat(r,t.numberFormats[r])),e}const tH=$o("global-vue-i18n");function nH(e={},t){const n=__VUE_I18N_LEGACY_API__&&tt(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,r=tt(e.globalInjection)?e.globalInjection:!0,o=__VUE_I18N_LEGACY_API__&&n?!!e.allowComposition:!0,s=new Map,[u,l]=rH(e,n),c=$o("");function d(p){return s.get(p)||null}function g(p,v){s.set(p,v)}function h(p){s.delete(p)}{const p={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return o},async install(v,..._){if(v.__VUE_I18N_SYMBOL__=c,v.provide(v.__VUE_I18N_SYMBOL__,p),ze(_[0])){const b=_[0];p.__composerExtend=b.__composerExtend,p.__vueI18nExtend=b.__vueI18nExtend}let w=null;!n&&r&&(w=hH(v,p.global)),__VUE_I18N_FULL_INSTALL__&&Zq(v,p,..._),__VUE_I18N_LEGACY_API__&&n&&v.mixin(eH(l,l.__composer,p));const S=v.unmount;v.unmount=()=>{w&&w(),p.dispose(),S()}},get global(){return l},dispose(){u.stop()},__instances:s,__getInstance:d,__setInstance:g,__deleteInstance:h};return p}}function Wb(e={}){const t=Jr();if(t==null)throw mn(hn.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&t.appContext.app!=null&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw mn(hn.NOT_INSTALLED);const n=iH(t),r=sH(n),o=lP(t),s=oH(e,o);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!e.__useComponent){if(!n.allowComposition)throw mn(hn.NOT_AVAILABLE_IN_LEGACY_MODE);return cH(t,s,r,e)}if(s==="global")return cP(r,e,o),r;if(s==="parent"){let c=aH(n,t,e.__useComponent);return c==null&&(c=r),c}const u=n;let l=u.__getInstance(t);if(l==null){const c=In({},e);"__i18n"in o&&(c.__i18n=o.__i18n),r&&(c.__root=r),l=qb(c),u.__composerExtend&&(l[Py]=u.__composerExtend(l)),lH(u,t,l),u.__setInstance(t,l)}return l}function rH(e,t,n){const r=Qy();{const o=__VUE_I18N_LEGACY_API__&&t?r.run(()=>xy(e)):r.run(()=>qb(e));if(o==null)throw mn(hn.UNEXPECTED_ERROR);return[r,o]}}function iH(e){{const t=Tr(e.isCE?tH:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw mn(e.isCE?hn.NOT_INSTALLED_WITH_PROVIDE:hn.UNEXPECTED_ERROR);return t}}function oH(e,t){return up(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}function sH(e){return e.mode==="composition"?e.global:e.global.__composer}function aH(e,t,n=!1){let r=null;const o=t.root;let s=uH(t,n);for(;s!=null;){const u=e;if(e.mode==="composition")r=u.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const l=u.__getInstance(s);l!=null&&(r=l.__composer,n&&r&&!r[uP]&&(r=null))}if(r!=null||o===s)break;s=s.parent}return r}function uH(e,t=!1){return e==null?null:t&&e.vnode.ctx||e.parent}function lH(e,t,n){du(()=>{},t),c_(()=>{const r=n;e.__deleteInstance(t);const o=r[Py];o&&(o(),delete r[Py])},t)}function cH(e,t,n,r={}){const o=t==="local",s=o_(null);if(o&&e.proxy&&!(e.proxy.$options.i18n||e.proxy.$options.__i18n))throw mn(hn.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const u=tt(r.inheritLocale)?r.inheritLocale:!pe(r.locale),l=bt(!o||u?n.locale.value:pe(r.locale)?r.locale:su),c=bt(!o||u?n.fallbackLocale.value:pe(r.fallbackLocale)||Pt(r.fallbackLocale)||ze(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:l.value),d=bt(cp(l.value,r)),g=bt(ze(r.datetimeFormats)?r.datetimeFormats:{[l.value]:{}}),h=bt(ze(r.numberFormats)?r.numberFormats:{[l.value]:{}}),p=o?n.missingWarn:tt(r.missingWarn)||xo(r.missingWarn)?r.missingWarn:!0,v=o?n.fallbackWarn:tt(r.fallbackWarn)||xo(r.fallbackWarn)?r.fallbackWarn:!0,_=o?n.fallbackRoot:tt(r.fallbackRoot)?r.fallbackRoot:!0,w=!!r.fallbackFormat,S=jt(r.missing)?r.missing:null,b=jt(r.postTranslation)?r.postTranslation:null,k=o?n.warnHtmlMessage:tt(r.warnHtmlMessage)?r.warnHtmlMessage:!0,R=!!r.escapeParameter,C=o?n.modifiers:ze(r.modifiers)?r.modifiers:{},U=r.pluralRules||o&&n.pluralRules;function L(){return[l.value,c.value,d.value,g.value,h.value]}const B=Ve({get:()=>s.value?s.value.locale.value:l.value,set:T=>{s.value&&(s.value.locale.value=T),l.value=T}}),$=Ve({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:T=>{s.value&&(s.value.fallbackLocale.value=T),c.value=T}}),H=Ve(()=>s.value?s.value.messages.value:d.value),N=Ve(()=>g.value),ke=Ve(()=>h.value);function ne(){return s.value?s.value.getPostTranslationHandler():b}function Ee(T){s.value&&s.value.setPostTranslationHandler(T)}function Re(){return s.value?s.value.getMissingHandler():S}function Be(T){s.value&&s.value.setMissingHandler(T)}function ce(T){return L(),T()}function Fe(...T){return s.value?ce(()=>Reflect.apply(s.value.t,null,[...T])):ce(()=>"")}function ve(...T){return s.value?Reflect.apply(s.value.rt,null,[...T]):""}function et(...T){return s.value?ce(()=>Reflect.apply(s.value.d,null,[...T])):ce(()=>"")}function mt(...T){return s.value?ce(()=>Reflect.apply(s.value.n,null,[...T])):ce(()=>"")}function Ct(T){return s.value?s.value.tm(T):{}}function St(T,O){return s.value?s.value.te(T,O):!1}function ht(T){return s.value?s.value.getLocaleMessage(T):{}}function Xt(T,O){s.value&&(s.value.setLocaleMessage(T,O),d.value[T]=O)}function ye(T,O){s.value&&s.value.mergeLocaleMessage(T,O)}function be(T){return s.value?s.value.getDateTimeFormat(T):{}}function W(T,O){s.value&&(s.value.setDateTimeFormat(T,O),g.value[T]=O)}function Y(T,O){s.value&&s.value.mergeDateTimeFormat(T,O)}function se(T){return s.value?s.value.getNumberFormat(T):{}}function he(T,O){s.value&&(s.value.setNumberFormat(T,O),h.value[T]=O)}function De(T,O){s.value&&s.value.mergeNumberFormat(T,O)}const P={get id(){return s.value?s.value.id:-1},locale:B,fallbackLocale:$,messages:H,datetimeFormats:N,numberFormats:ke,get inheritLocale(){return s.value?s.value.inheritLocale:u},set inheritLocale(T){s.value&&(s.value.inheritLocale=T)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(d.value)},get modifiers(){return s.value?s.value.modifiers:C},get pluralRules(){return s.value?s.value.pluralRules:U},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:p},set missingWarn(T){s.value&&(s.value.missingWarn=T)},get fallbackWarn(){return s.value?s.value.fallbackWarn:v},set fallbackWarn(T){s.value&&(s.value.missingWarn=T)},get fallbackRoot(){return s.value?s.value.fallbackRoot:_},set fallbackRoot(T){s.value&&(s.value.fallbackRoot=T)},get fallbackFormat(){return s.value?s.value.fallbackFormat:w},set fallbackFormat(T){s.value&&(s.value.fallbackFormat=T)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:k},set warnHtmlMessage(T){s.value&&(s.value.warnHtmlMessage=T)},get escapeParameter(){return s.value?s.value.escapeParameter:R},set escapeParameter(T){s.value&&(s.value.escapeParameter=T)},t:Fe,getPostTranslationHandler:ne,setPostTranslationHandler:Ee,getMissingHandler:Re,setMissingHandler:Be,rt:ve,d:et,n:mt,tm:Ct,te:St,getLocaleMessage:ht,setLocaleMessage:Xt,mergeLocaleMessage:ye,getDateTimeFormat:be,setDateTimeFormat:W,mergeDateTimeFormat:Y,getNumberFormat:se,setNumberFormat:he,mergeNumberFormat:De};function I(T){T.locale.value=l.value,T.fallbackLocale.value=c.value,Object.keys(d.value).forEach(O=>{T.mergeLocaleMessage(O,d.value[O])}),Object.keys(g.value).forEach(O=>{T.mergeDateTimeFormat(O,g.value[O])}),Object.keys(h.value).forEach(O=>{T.mergeNumberFormat(O,h.value[O])}),T.escapeParameter=R,T.fallbackFormat=w,T.fallbackRoot=_,T.fallbackWarn=v,T.missingWarn=p,T.warnHtmlMessage=k}return ZA(()=>{if(e.proxy==null||e.proxy.$i18n==null)throw mn(hn.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const T=s.value=e.proxy.$i18n.__composer;t==="global"?(l.value=T.locale.value,c.value=T.fallbackLocale.value,d.value=T.messages.value,g.value=T.datetimeFormats.value,h.value=T.numberFormats.value):o&&I(T)}),P}const fH=["locale","fallbackLocale","availableLocales"],xS=["t","rt","d","n","tm","te"];function hH(e,t){const n=Object.create(null);return fH.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s)throw mn(hn.UNEXPECTED_ERROR);const u=wt(s.value)?{get(){return s.value.value},set(l){s.value.value=l}}:{get(){return s.get&&s.get()}};Object.defineProperty(n,o,u)}),e.config.globalProperties.$i18n=n,xS.forEach(o=>{const s=Object.getOwnPropertyDescriptor(t,o);if(!s||!s.value)throw mn(hn.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,`$${o}`,s)}),()=>{delete e.config.globalProperties.$i18n,xS.forEach(o=>{delete e.config.globalProperties[`$${o}`]})}}$q();__INTLIFY_JIT_COMPILATION__?hS(Lq):hS(Dq);kq(uq);Cq(KN);if(__INTLIFY_PROD_DEVTOOLS__){const e=Ni();e.__INTLIFY__=!0,vq(e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const dH={home:"Home",about:"About",manage:"Manage",login:"Login",logout:"Logout",install:"Install app"},pH={playlist:"Playlist",liked:"Liked Songs",songs:"songs",title:"Title",genre:"Genre",comments:"Comments",unknown:"Unknown"},mH={upload:"Upload",mySongs:"My Songs",dropHintMsg1:"Drop your mp3 files here",dropHintMsg2:"click here to browse",form:{titleLabel:"Title",artistLabel:"Artist",genreLabel:"Genre",buttons:{save:"Save",cancel:"Cancel"}}},gH={account:"Your account",tab:{login:"Log In",register:"Sign Up"},button:{login:"Login",register:"Create account"},form:{mandatoryTooltip:"Mandatory field",emailPlaceholder:"your{'@'}email.com",passwordLabel:"Password",passwordPlaceholder:"Your password",confirmPasswordLabel:"Confirm password",confirmPasswordPlaceholder:"Confirm your password",nameLabel:"Name",namePlaceholder:"Your name",phoneLabel:"Phone",phonePlaceholder:"Your phone",birthdateLabel:"Birthdate",countryLabel:"Country",accept:"I agree with the {0}",tos:"Terms of Service"}},vH={commentCount:"No comments | 1 comment | {count} comments",noComments:"No comments yet",viewTitle:"Song",latest:"Latest",oldest:"Oldest",publish:"Publish",loginMsg:"Login to leave a comment",commentPlaceholder:"Leave a comment...",secondsAgo:"0| 1 second ago | {count} seconds ago",minutesAgo:"0| 1 minute ago | {count} minutes ago",hoursAgo:"0| 1 hour ago | {count} hours ago",daysAgo:"0| 1 day ago | {count} days ago",monthsAgo:"0| 1 month ago | {count} months ago",yearsAgo:"0| 1 year ago | {count} years ago"},yH={header:dH,home:pH,manage:mH,auth:gH,song:vH},_H={home:"Inicio",about:"Acerca de",manage:"Administrar",login:"Iniciar sesión",logout:"Cerrar sesión",install:"Instalar app"},bH={playlist:"Lista",liked:"Canciones que me gustan",songs:"canciones",title:"Título",genre:"Género",comments:"Comentarios",unknown:"Desconocido"},wH={upload:"Subir",mySongs:"Mis canciones",dropHintMsg1:"Suelta tus archivos mp3 aquí",dropHintMsg2:"haz click para explorar",form:{titleLabel:"Título",artistLabel:"Artista",genreLabel:"Género",buttons:{save:"Guardar",cancel:"Cancelar"}}},EH={account:"Tu cuenta",tab:{login:"Iniciar sesión",register:"Registrarse"},button:{login:"Acceder",register:"Crear cuenta"},form:{mandatoryTooltip:"Campo obligatorio",emailPlaceholder:"tu{'@'}email.com",passwordLabel:"Contraseña",passwordPlaceholder:"Tu contraseña",confirmPasswordLabel:"Confirmar contraseña",confirmPasswordPlaceholder:"Repite tu contraseña",nameLabel:"Nombre",namePlaceholder:"Tu nombre",phoneLabel:"Teléfono",phonePlaceholder:"Tu teléfono",birthdateLabel:"Fecha de nacimiento",countryLabel:"País",accept:"Acepto los {0}",tos:"Términos y condiciones"}},TH={commentCount:"Sin comentarios | 1 comentario | {count} commentarios",noComments:"No hay comentarios aún. ¡Sé el primero!",viewTitle:"Canción",latest:"Más recientes",oldest:"Más antiguos",publish:"Publicar",loginMsg:"Inicia sesión para comentar",commentPlaceholder:"Añade un comentario...",secondsAgo:"0| hace 1 segundo | hace {count} segundos",minutesAgo:"0| hace 1 minuto | hace {count} minutos",hoursAgo:"0| hace 1 hora | hace {count} horas",daysAgo:"0| hace 1 día | hace {count} días",monthsAgo:"0| hace 1 mes | hace {count} meses",yearsAgo:"0| hace 1 año | hace {count} años"},IH={header:_H,home:bH,manage:wH,auth:EH,song:TH},dP=nH({locale:"es",fallbackLocale:"en",messages:{en:yH,es:IH}}),Ta=dP.global.t,cc={formatTime(e){const t=Math.floor(e),n=Math.floor(t/60)||0,r=t%60;return`${n}:${r.toString().padStart(2,"0")}`},calculateTimeAgo(e){const n=new Date-new Date(e),r=Math.floor(n/1e3);if(r<60)return Ta("song.secondsAgo",{count:r});const o=Math.floor(r/60);if(o<60)return Ta("song.minutesAgo",{count:o});const s=Math.floor(o/60);if(s<24)return Ta("song.hoursAgo",{count:s});const u=Math.floor(s/24);if(u<30)return Ta("song.daysAgo",{count:u});const l=Math.floor(u/30);if(l<12)return Ta("song.monthsAgo",{count:l});const c=Math.floor(l/12);return Ta("song.yearsAgo",{count:c})}},So=_k("player",{state:()=>({currentSong:{},sound:{},seek:"0:00",displayDuration:"0:00",duration:0,playerProgress:0,volume:50,isDragging:!1}),actions:{async play(e){this.sound instanceof wy.Howl&&this.sound.unload(),this.currentSong=e,this.isDragging=!1,this.sound=new wy.Howl({src:[e.url],html5:!0,volume:this.volume/100}),this.sound.play(),this.sound.on("play",()=>{this.duration=this.sound.duration(),this.displayDuration=cc.formatTime(this.duration),requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.isDragging||(this.seek=cc.formatTime(this.sound.seek()),this.playerProgress=this.sound.seek()/this.sound.duration()*100),this.sound.playing()&&requestAnimationFrame(this.progress)},updateVolume(e){this.sound.playing&&this.sound.volume(e/100)},updateSeek(e){if(!this.sound.playing)return;const t=e/100,n=this.sound.duration()*t;this.sound.seek(n),this.sound.once("seek",()=>{requestAnimationFrame(this.progress)})},setIsDragging(e){this.isDragging=e}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1,isSongInPlayer:e=>t=>e.currentSong&&e.currentSong===t,isSongPlaying:e=>t=>e.isSongInPlayer(t)?e.playing:!1,playerHasSong:e=>e.sound.playing}});function gv(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Kb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,l;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,l=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(u)throw l}}}}function SH(e){return CH(e)||kH(e)||Kb(e)||AH()}function AH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CH(e){if(Array.isArray(e))return Dy(e)}function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function vv(e,t){return PH(e)||NH(e,t)||Kb(e,t)||OH()}function OH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kb(e,t){if(e){if(typeof e=="string")return Dy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dy(e,t)}}function Dy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],c=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(g){d=!0,o=g}finally{try{if(!c&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function PH(e){if(Array.isArray(e))return e}var vo={innerWidth:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)},getWindowScrollLeft:function(){var t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)},getOuterWidth:function(t,n){if(t){var r=t.offsetWidth;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}return 0},getOuterHeight:function(t,n){if(t){var r=t.offsetHeight;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}return 0},getClientHeight:function(t,n){if(t){var r=t.clientHeight;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}return 0},getViewport:function(){var t=window,n=document,r=n.documentElement,o=n.getElementsByTagName("body")[0],s=t.innerWidth||r.clientWidth||o.clientWidth,u=t.innerHeight||r.clientHeight||o.clientHeight;return{width:s,height:u}},getOffset:function(t){if(t){var n=t.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(t){if(t)for(var n=t.parentNode.childNodes,r=0,o=0;o<n.length;o++){if(n[o]===t)return r;n[o].nodeType===1&&r++}return-1},addMultipleClasses:function(t,n){var r=this;t&&n&&[n].flat().filter(Boolean).forEach(function(o){return o.split(" ").forEach(function(s){return r.addClass(t,s)})})},removeMultipleClasses:function(t,n){var r=this;t&&n&&[n].flat().filter(Boolean).forEach(function(o){return o.split(" ").forEach(function(s){return r.removeClass(t,s)})})},addClass:function(t,n){t&&n&&!this.hasClass(t,n)&&(t.classList?t.classList.add(n):t.className+=" "+n)},removeClass:function(t,n){t&&n&&(t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(t,n){return t?t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className):!1},addStyles:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t&&Object.entries(n).forEach(function(r){var o=vv(r,2),s=o[0],u=o[1];return t.style[s]=u})},find:function(t,n){return this.isElement(t)?t.querySelectorAll(n):[]},findSingle:function(t,n){return this.isElement(t)?t.querySelector(n):null},createElement:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var r=document.createElement(t);this.setAttributes(r,n);for(var o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];return r.append.apply(r,s),r}},setAttribute:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(n,r)},setAttributes:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(t)){var o=function s(u,l){var c,d,g=t!=null&&(c=t.$attrs)!==null&&c!==void 0&&c[u]?[t==null||(d=t.$attrs)===null||d===void 0?void 0:d[u]]:[];return[l].flat().reduce(function(h,p){if(p!=null){var v=Pl(p);if(v==="string"||v==="number")h.push(p);else if(v==="object"){var _=Array.isArray(p)?s(u,p):Object.entries(p).map(function(w){var S=vv(w,2),b=S[0],k=S[1];return u==="style"&&(k||k===0)?"".concat(b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(k):k?b:void 0});h=_.length?h.concat(_.filter(function(w){return!!w})):h}}return h},g)};Object.entries(r).forEach(function(s){var u=vv(s,2),l=u[0],c=u[1];if(c!=null){var d=l.match(/^on(.+)/);d?t.addEventListener(d[1].toLowerCase(),c):l==="p-bind"?n.setAttributes(t,c):(c=l==="class"?SH(new Set(o("class",c))).join(" ").trim():l==="style"?o("style",c).join(";").trim():c,(t.$attrs=t.$attrs||{})&&(t.$attrs[l]=c),t.setAttribute(l,c))}})}},getAttribute:function(t,n){if(this.isElement(t)){var r=t.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(t,n,r){return this.isElement(t)?this.getAttribute(t,n)===r:!1},isAttributeNotEquals:function(t,n,r){return!this.isAttributeEquals(t,n,r)},getHeight:function(t){if(t){var n=t.offsetHeight,r=getComputedStyle(t);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(t,n){if(t){var r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.height,s=r.width,u=n.offsetHeight,l=n.offsetWidth,c=n.getBoundingClientRect(),d=this.getWindowScrollTop(),g=this.getWindowScrollLeft(),h=this.getViewport(),p,v;c.top+u+o>h.height?(p=c.top+d-o,t.style.transformOrigin="bottom",p<0&&(p=d)):(p=u+c.top+d,t.style.transformOrigin="top"),c.left+s>h.width?v=Math.max(0,c.left+g+l-s):v=c.left+g,t.style.top=p+"px",t.style.left=v+"px"}},relativePosition:function(t,n){if(t){var r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=n.offsetHeight,s=n.getBoundingClientRect(),u=this.getViewport(),l,c;s.top+o+r.height>u.height?(l=-1*r.height,t.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,t.style.transformOrigin="top"),r.width>u.width?c=s.left*-1:s.left+r.width>u.width?c=(s.left+r.width-u.width)*-1:c=0,t.style.top=l+"px",t.style.left=c+"px"}},getParents:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.parentNode===null?n:this.getParents(t.parentNode,n.concat([t.parentNode]))},getScrollableParents:function(t){var n=[];if(t){var r=this.getParents(t),o=/(auto|scroll)/,s=function(S){try{var b=window.getComputedStyle(S,null);return o.test(b.getPropertyValue("overflow"))||o.test(b.getPropertyValue("overflowX"))||o.test(b.getPropertyValue("overflowY"))}catch{return!1}},u=gv(r),l;try{for(u.s();!(l=u.n()).done;){var c=l.value,d=c.nodeType===1&&c.dataset.scrollselectors;if(d){var g=d.split(","),h=gv(g),p;try{for(h.s();!(p=h.n()).done;){var v=p.value,_=this.findSingle(c,v);_&&s(_)&&n.push(_)}}catch(w){h.e(w)}finally{h.f()}}c.nodeType!==9&&s(c)&&n.push(c)}}catch(w){u.e(w)}finally{u.f()}}return n},getHiddenElementOuterHeight:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var n=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var n=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(t){if(t){var n={};return t.style.visibility="hidden",t.style.display="block",n.width=t.offsetWidth,n.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",n}return 0},fadeIn:function(t,n){if(t){t.style.opacity=0;var r=+new Date,o=0,s=function u(){o=+t.style.opacity+(new Date().getTime()-r)/n,t.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};s()}},fadeOut:function(t,n){if(t)var r=1,o=50,s=n,u=o/s,l=setInterval(function(){r-=u,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},o)},getUserAgent:function(){return navigator.userAgent},appendChild:function(t,n){if(this.isElement(n))n.appendChild(t);else if(n.el&&n.elElement)n.elElement.appendChild(t);else throw new Error("Cannot append "+n+" to "+t)},isElement:function(t){return(typeof HTMLElement>"u"?"undefined":Pl(HTMLElement))==="object"?t instanceof HTMLElement:t&&Pl(t)==="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},scrollInView:function(t,n){var r=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),u=s?parseFloat(s):0,l=t.getBoundingClientRect(),c=n.getBoundingClientRect(),d=c.top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-u,g=t.scrollTop,h=t.clientHeight,p=this.getOuterHeight(n);d<0?t.scrollTop=g+d:d+p>h&&(t.scrollTop=g+d-h+p)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var t=document.createElement("div");this.addStyles(t,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var t=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(t){return t&&t.offsetParent!=null},invokeElementMethod:function(t,n,r){t[n].apply(t,r)},isExist:function(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode)},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(t,n){t&&document.activeElement!==t&&t.focus(n)},isFocusableElement:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(t)?t.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),o=[],s=gv(r),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;getComputedStyle(l).display!="none"&&getComputedStyle(l).visibility!="hidden"&&o.push(l)}}catch(c){s.e(c)}finally{s.f()}return o},getFirstFocusableElement:function(t,n){var r=this.getFocusableElements(t,n);return r.length>0?r[0]:null},getLastFocusableElement:function(t,n){var r=this.getFocusableElements(t,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(t,n,r){var o=this.getFocusableElements(t,r),s=o.length>0?o.findIndex(function(l){return l===n}):-1,u=s>-1&&o.length>=s+1?s+1:-1;return u>-1?o[u]:null},isClickable:function(t){if(t){var n=t.nodeName,r=t.parentElement&&t.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!t.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(t,n){if(typeof n=="string")t.style.cssText=n;else for(var r in n)t.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(t){if(t){var n=getComputedStyle(t),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(t){if(t){var n=getComputedStyle(t),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(t,n){var r=new Blob([t],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var o=document.createElement("a");o.download!==void 0?(o.setAttribute("href",URL.createObjectURL(r)),o.setAttribute("download",n+".csv"),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)):(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}},blockBodyScroll:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)},unblockBodyScroll:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}};function xH(e,t){return LH(e)||DH(e,t)||Gb(e,t)||RH()}function RH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],c=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(g){d=!0,o=g}finally{try{if(!c&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function LH(e){if(Array.isArray(e))return e}function RS(e){return VH(e)||FH(e)||Gb(e)||MH()}function MH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FH(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VH(e){if(Array.isArray(e))return Ly(e)}function yv(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,l;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,l=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(u)throw l}}}}function Gb(e,t){if(e){if(typeof e=="string")return Ly(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ly(e,t)}}function Ly(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xl(e){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xl(e)}var On={equals:function(t,n,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(n,r):this.deepEquals(t,n)},deepEquals:function(t,n){if(t===n)return!0;if(t&&n&&xl(t)=="object"&&xl(n)=="object"){var r=Array.isArray(t),o=Array.isArray(n),s,u,l;if(r&&o){if(u=t.length,u!=n.length)return!1;for(s=u;s--!==0;)if(!this.deepEquals(t[s],n[s]))return!1;return!0}if(r!=o)return!1;var c=t instanceof Date,d=n instanceof Date;if(c!=d)return!1;if(c&&d)return t.getTime()==n.getTime();var g=t instanceof RegExp,h=n instanceof RegExp;if(g!=h)return!1;if(g&&h)return t.toString()==n.toString();var p=Object.keys(t);if(u=p.length,u!==Object.keys(n).length)return!1;for(s=u;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,p[s]))return!1;for(s=u;s--!==0;)if(l=p[s],!this.deepEquals(t[l],n[l]))return!1;return!0}return t!==t&&n!==n},resolveFieldData:function(t,n){if(!t||!n)return null;try{var r=t[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(t).length){if(this.isFunction(n))return n(t);if(n.indexOf(".")===-1)return t[n];for(var o=n.split("."),s=t,u=0,l=o.length;u<l;++u){if(s==null)return null;s=s[o[u]]}return s}return null},getItemValue:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.isFunction(t)?t.apply(void 0,r):t},filter:function(t,n,r){var o=[];if(t){var s=yv(t),u;try{for(s.s();!(u=s.n()).done;){var l=u.value,c=yv(n),d;try{for(c.s();!(d=c.n()).done;){var g=d.value;if(String(this.resolveFieldData(l,g)).toLowerCase().indexOf(r.toLowerCase())>-1){o.push(l);break}}}catch(h){c.e(h)}finally{c.f()}}}catch(h){s.e(h)}finally{s.f()}}return o},reorderArray:function(t,n,r){t&&n!==r&&(r>=t.length&&(r%=t.length,n%=t.length),t.splice(r,0,t.splice(n,1)[0]))},findIndexInList:function(t,n){var r=-1;if(n){for(var o=0;o<n.length;o++)if(n[o]===t){r=o;break}}return r},contains:function(t,n){if(t!=null&&n&&n.length){var r=yv(n),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;if(this.equals(t,s))return!0}}catch(u){r.e(u)}finally{r.f()}}return!1},insertIntoOrderedArray:function(t,n,r,o){if(r.length>0){for(var s=!1,u=0;u<r.length;u++){var l=this.findIndexInList(r[u],o);if(l>n){r.splice(u,0,t),s=!0;break}}s||r.push(t)}else r.push(t)},removeAccents:function(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t},getVNodeProp:function(t,n){var r=t.props;if(r){var o=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,o)?o:n;return t.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}return null},toFlatCase:function(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t},toKebabCase:function(t){return this.isString(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():t},toCapitalCase:function(t){return this.isString(t,{empty:!1})?t[0].toUpperCase()+t.slice(1):t},isEmpty:function(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&xl(t)==="object"&&Object.keys(t).length===0},isNotEmpty:function(t){return!this.isEmpty(t)},isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},isObject:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t instanceof Object&&t.constructor===Object&&(n||Object.keys(t).length!==0)},isDate:function(t){return t instanceof Date&&t.constructor===Date},isArray:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(t)&&(n||t.length!==0)},isString:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof t=="string"&&(n||t!=="")},isPrintableCharacter:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)},findLast:function(t,n){var r;if(this.isNotEmpty(t))try{r=t.findLast(n)}catch{r=RS(t).reverse().find(n)}return r},findLastIndex:function(t,n){var r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(n)}catch{r=t.lastIndexOf(RS(t).reverse().find(n))}return r},sort:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=this.compare(t,n,o,r),l=r;return(this.isEmpty(t)||this.isEmpty(n))&&(l=s===1?r:s),l*u},compare:function(t,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,u=this.isEmpty(t),l=this.isEmpty(n);return u&&l?s=0:u?s=o:l?s=-o:typeof t=="string"&&typeof n=="string"?s=r(t,n):s=t<n?-1:t>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(o,s){var u=xH(s,2),l=u[0],c=u[1],d=r?"".concat(r,".").concat(l):l;return t.isObject(c)?o=o.concat(t.nestedKeys(c,d)):o.push(d),o},[])}};function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function DS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function LS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(n),!0).forEach(function(r){UH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UH(e,t,n){return t=jH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=$H(e,"string");return fc(t)==="symbol"?t:String(t)}function $H(e,t){if(fc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(fc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BH(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Jr()?du(e):t?e():qr(e)}var qH=0;function pP(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=bt(!1),r=bt(e),o=bt(null),s=vo.isClient()?window.document:void 0,u=t.document,l=u===void 0?s:u,c=t.immediate,d=c===void 0?!0:c,g=t.manual,h=g===void 0?!1:g,p=t.name,v=p===void 0?"style_".concat(++qH):p,_=t.id,w=_===void 0?void 0:_,S=t.media,b=S===void 0?void 0:S,k=t.nonce,R=k===void 0?void 0:k,C=t.props,U=C===void 0?{}:C,L=function(){},B=function(N){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l){var ne=LS(LS({},U),ke),Ee=ne.name||v,Re=ne.id||w,Be=ne.nonce||R;o.value=l.querySelector('style[data-primevue-style-id="'.concat(Ee,'"]'))||l.getElementById(Re)||l.createElement("style"),o.value.isConnected||(r.value=N||e,vo.setAttributes(o.value,{type:"text/css",id:Re,media:b,nonce:Be}),l.head.appendChild(o.value),vo.setAttribute(o.value,"data-primevue-style-id",v),vo.setAttributes(o.value,ne)),!n.value&&(L=wn(r,function(ce){o.value.textContent=ce},{immediate:!0}),n.value=!0)}},$=function(){!l||!n.value||(L(),vo.isExist(o.value)&&l.head.removeChild(o.value),n.value=!1)};return d&&!h&&BH(B),{id:w,name:v,css:r,unload:$,load:B,isLoaded:md(n)}}function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function HH(e,t){return zH(e)||GH(e,t)||KH(e,t)||WH()}function WH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KH(e,t){if(e){if(typeof e=="string")return MS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MS(e,t)}}function MS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GH(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],c=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(g){d=!0,o=g}finally{try{if(!c&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function zH(e){if(Array.isArray(e))return e}function FS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function _v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(n),!0).forEach(function(r){YH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YH(e,t,n){return t=XH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XH(e){var t=QH(e,"string");return hc(t)==="symbol"?t:String(t)}function QH(e,t){if(hc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JH=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,ZH={},eW={},zb={name:"base",css:JH,classes:ZH,inlineStyles:eW,loadStyle:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?pP(this.css,_v({name:this.name},t)):{}},getStyleSheet:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(o,s){var u=HH(s,2),l=u[0],c=u[1];return o.push("".concat(l,'="').concat(c,'"'))&&o},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(t,"</style>")}return""},extend:function(t){return _v(_v({},this),{},{css:void 0},t)}};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function VS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function tW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(n),!0).forEach(function(r){nW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nW(e,t,n){return t=rW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rW(e){var t=iW(e,"string");return dc(t)==="symbol"?t:String(t)}function iW(e,t){if(dc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oW=`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-buttonset .p-button {
    margin: 0;
}

.p-buttonset .p-button:not(:last-child), .p-buttonset .p-button:not(:last-child):hover {
    border-right: 0 none;
}

.p-buttonset .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-buttonset .p-button:first-of-type:not(:only-of-type) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-buttonset .p-button:last-of-type:not(:only-of-type) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-buttonset .p-button:focus {
    position: relative;
    z-index: 1;
}
`,sW=`
.p-checkbox {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    vertical-align: bottom;
    position: relative;
}

.p-checkbox.p-checkbox-disabled {
    cursor: default;
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
}
`,aW=`
.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label {
    top: -.75rem;
    font-size: 12px;
}


.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-left > svg,
.p-input-icon-right > i,
.p-input-icon-right > svg {
    position: absolute;
    top: 50%;
    margin-top: -.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,uW=`
.p-radiobutton {
    position: relative;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    vertical-align: bottom;
}

.p-radiobutton.p-radiobutton-disabled {
    cursor: default;
}

.p-radiobutton-box {
    display: flex;
    justify-content: center;
    align-items: center;
}

.p-radiobutton-icon {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    transform: translateZ(0) scale(.1);
    border-radius: 50%;
    visibility: hidden;
}

.p-radiobutton-box.p-highlight .p-radiobutton-icon {
    transform: translateZ(0) scale(1.0, 1.0);
    visibility: visible;
}
`,lW=`
@layer primevue {
.p-component, .p-component * {
    box-sizing: border-box;
}

.p-hidden-space {
    visibility: hidden;
}

.p-reset {
    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    text-decoration: none;
    font-size: 100%;
    list-style: none;
}

.p-disabled, .p-disabled * {
    cursor: default !important;
    pointer-events: none;
    user-select: none;
}

.p-component-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-unselectable-text {
    user-select: none;
}

.p-sr-only {
    border: 0;
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
    word-wrap: normal !important;
}

.p-link {
	text-align: left;
	background-color: transparent;
	margin: 0;
	padding: 0;
	border: none;
    cursor: pointer;
    user-select: none;
}

.p-link:disabled {
	cursor: default;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity .1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity .1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}
`.concat(oW,`
`).concat(sW,`
`).concat(aW,`
`).concat(uW,`
}
`),bv=zb.extend({name:"common",css:lW,loadGlobalStyle:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return pP(t,tW({name:"global"},n))}});function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function US(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?US(Object(n),!0).forEach(function(r){My(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):US(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function My(e,t,n){return t=cW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cW(e){var t=fW(e,"string");return pc(t)==="symbol"?t:String(t)}function fW(e,t){if(pc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hW={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(t){if(!t){var n,r;bv.loadStyle({nonce:(n=this.$config)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var t,n,r,o,s,u,l,c,d,g,h,p=(t=this.pt)===null||t===void 0?void 0:t._usept,v=p?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,_=p?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(o=_||v)===null||o===void 0||(o=o.hooks)===null||o===void 0||(s=o.onBeforeCreate)===null||s===void 0||s.call(o);var w=(u=this.$config)===null||u===void 0||(u=u.pt)===null||u===void 0?void 0:u._usept,S=w?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.originalValue:void 0,b=w?(c=this.$primevue)===null||c===void 0||(c=c.config)===null||c===void 0||(c=c.pt)===null||c===void 0?void 0:c.value:(d=this.$primevue)===null||d===void 0||(d=d.config)===null||d===void 0?void 0:d.pt;(g=b||S)===null||g===void 0||(g=g[this.$.type.name])===null||g===void 0||(g=g.hooks)===null||g===void 0||(h=g.onBeforeCreate)===null||h===void 0||h.call(g)},created:function(){this._hook("onCreated")},beforeMount:function(){var t;zb.loadStyle({nonce:(t=this.$config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(t){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(t)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(t));n==null||n(),r==null||r()}},_loadGlobalStyles:function(){var t,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);On.isNotEmpty(n)&&bv.loadGlobalStyle(n,{nonce:(t=this.$config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce})},_getHostInstance:function(t){return t?this.$options.hostName?t.$.type.name===this.$options.hostName?t:this._getHostInstance(t.$parentInstance):t.$parentInstance:void 0},_getPropValue:function(t){var n;return this[t]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[t])},_getOptionValue:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=On.toFlatCase(n).split("."),s=o.shift();return s?On.isObject(t)?this._getOptionValue(On.getItemValue(t[Object.keys(t).find(function(u){return On.toFlatCase(u)===s})||""],r),o.join("."),r):void 0:On.getItemValue(t,r)},_getPTValue:function(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u="data-pc-",l=/./g.test(r)&&!!o[r.split(".")[0]],c=this._getPropValue("ptOptions")||((t=this.$config)===null||t===void 0?void 0:t.ptOptions)||{},d=c.mergeSections,g=d===void 0?!0:d,h=c.mergeProps,p=h===void 0?!1:h,v=s?l?this._useGlobalPT(this._getPTClassValue,r,o):this._useDefaultPT(this._getPTClassValue,r,o):void 0,_=l?void 0:this._usePT(this._getPT(n,this.$name),this._getPTClassValue,r,Dt(Dt({},o),{},{global:v||{}})),w=r!=="transition"&&Dt(Dt({},r==="root"&&My({},"".concat(u,"name"),On.toFlatCase(this.$.type.name))),{},My({},"".concat(u,"section"),On.toFlatCase(r)));return g||!g&&_?p?ir(v,_,w):Dt(Dt(Dt({},v),_),w):Dt(Dt({},_),w)},_getPTClassValue:function(){var t=this._getOptionValue.apply(this,arguments);return On.isString(t)||On.isArray(t)?{class:t}:t},_getPT:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,s=function(l){var c,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=o?o(l):l,h=On.toFlatCase(r),p=On.toFlatCase(n.$name);return(c=d?h!==p?g==null?void 0:g[h]:void 0:g==null?void 0:g[h])!==null&&c!==void 0?c:g};return t!=null&&t.hasOwnProperty("_usept")?{_usept:t._usept,originalValue:s(t.originalValue),value:s(t.value)}:s(t,!0)},_usePT:function(t,n,r,o){var s=function(w){return n(w,r,o)};if(t!=null&&t.hasOwnProperty("_usept")){var u,l=t._usept||((u=this.$config)===null||u===void 0?void 0:u.ptOptions)||{},c=l.mergeSections,d=c===void 0?!0:c,g=l.mergeProps,h=g===void 0?!1:g,p=s(t.originalValue),v=s(t.value);return p===void 0&&v===void 0?void 0:On.isString(v)?v:On.isString(p)?p:d||!d&&v?h?ir(p,v):Dt(Dt({},p),v):v}return s(t)},_useGlobalPT:function(t,n,r){return this._usePT(this.globalPT,t,n,r)},_useDefaultPT:function(t,n,r){return this._usePT(this.defaultPT,t,n,r)},ptm:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,t,Dt(Dt({},this.$params),n))},ptmo:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(t,n,Dt({instance:this},r),!1)},cx:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,t,Dt(Dt({},this.$params),n))},sx:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var o=this._getOptionValue(this.$style.inlineStyles,t,Dt(Dt({},this.$params),r)),s=this._getOptionValue(bv.inlineStyles,t,Dt(Dt({},this.$params),r));return[s,o]}}},computed:{globalPT:function(){var t,n=this;return this._getPT((t=this.$config)===null||t===void 0?void 0:t.pt,void 0,function(r){return On.getItemValue(r,{instance:n})})},defaultPT:function(){var t,n=this;return this._getPT((t=this.$config)===null||t===void 0?void 0:t.pt,void 0,function(r){return n._getOptionValue(r,n.$name,Dt({},n.$params))||On.getItemValue(r,Dt({},n.$params))})},isUnstyled:function(){var t;return this.unstyled!==void 0?this.unstyled:(t=this.$config)===null||t===void 0?void 0:t.unstyled},$params:function(){return{instance:this,props:this.$props,state:this.$data,parentInstance:this.$parentInstance}},$style:function(){return Dt(Dt({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var t;return(t=this.$primevue)===null||t===void 0?void 0:t.config},$name:function(){return this.$options.hostName||this.$.type.name}}},dW=`
@layer primevue {
    .p-slider {
        position: relative;
    }

    .p-slider .p-slider-handle {
        cursor: grab;
        touch-action: none;
        display: block;
    }

    .p-slider-range {
        display: block;
    }

    .p-slider-horizontal .p-slider-range {
        top: 0;
        left: 0;
        height: 100%;
    }

    .p-slider-horizontal .p-slider-handle {
        top: 50%;
    }

    .p-slider-vertical {
        height: 100px;
    }

    .p-slider-vertical .p-slider-handle {
        left: 50%;
    }

    .p-slider-vertical .p-slider-range {
        bottom: 0;
        left: 0;
        width: 100%;
    }
}
`,pW={handle:{position:"absolute"},range:{position:"absolute"}},mW={root:function(t){var n=t.props;return["p-slider p-component",{"p-disabled":n.disabled,"p-slider-horizontal":n.orientation==="horizontal","p-slider-vertical":n.orientation==="vertical"}]},range:"p-slider-range",handle:"p-slider-handle"},gW=zb.extend({name:"slider",css:dW,classes:mW,inlineStyles:pW}),vW={name:"BaseSlider",extends:hW,props:{modelValue:[Number,Array],min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},style:gW,provide:function(){return{$parentInstance:this}}};function yW(e){return EW(e)||wW(e)||bW(e)||_W()}function _W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bW(e,t){if(e){if(typeof e=="string")return Fy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fy(e,t)}}function wW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EW(e){if(Array.isArray(e))return Fy(e)}function Fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mP={name:"Slider",extends:vW,emits:["update:modelValue","change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,beforeUnmount:function(){this.unbindDragListeners()},methods:{updateDomData:function(){var t=this.$el.getBoundingClientRect();this.initX=t.left+vo.getWindowScrollLeft(),this.initY=t.top+vo.getWindowScrollTop(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(t){var n,r=t.touches?t.touches[0].pageX:t.pageX,o=t.touches?t.touches[0].pageY:t.pageY;this.orientation==="horizontal"?n=(r-this.initX)*100/this.barWidth:n=(this.initY+this.barHeight-o)*100/this.barHeight;var s=(this.max-this.min)*(n/100)+this.min;if(this.step){var u=this.range?this.modelValue[this.handleIndex]:this.modelValue,l=s-u;l<0?s=u+Math.ceil(s/this.step-u/this.step)*this.step:l>0&&(s=u+Math.floor(s/this.step-u/this.step)*this.step)}else s=Math.floor(s);this.updateModel(t,s)},updateModel:function(t,n){var r=parseFloat(n.toFixed(10)),o;this.range?(o=this.modelValue?yW(this.modelValue):[],this.handleIndex==0?(r<this.min?r=this.min:r>=this.max&&(r=this.max),o[0]=r):(r>this.max?r=this.max:r<=this.min&&(r=this.min),o[1]=r)):(r<this.min?r=this.min:r>this.max&&(r=this.max),o=r),this.$emit("update:modelValue",o),this.$emit("change",o)},onDragStart:function(t,n){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.range&&this.modelValue[0]===this.max?this.handleIndex=0:this.handleIndex=n,t.currentTarget.focus(),t.preventDefault())},onDrag:function(t){this.dragging&&(this.setValue(t),t.preventDefault())},onDragEnd:function(t){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:t,value:this.modelValue}))},onBarClick:function(t){this.disabled||vo.getAttribute(t.target,"data-pc-section")!=="handle"&&(this.updateDomData(),this.setValue(t))},onMouseDown:function(t,n){this.bindDragListeners(),this.onDragStart(t,n)},onKeyDown:function(t,n){switch(this.handleIndex=n,t.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(t,n),t.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(t,n),t.preventDefault();break;case"PageDown":this.decrementValue(t,n,!0),t.preventDefault();break;case"PageUp":this.incrementValue(t,n,!0),t.preventDefault();break;case"Home":this.updateModel(t,this.min),t.preventDefault();break;case"End":this.updateModel(t,this.max),t.preventDefault();break}},decrementValue:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;this.range?this.step?o=this.modelValue[n]-this.step:o=this.modelValue[n]-1:this.step?o=this.modelValue-this.step:!this.step&&r?o=this.modelValue-10:o=this.modelValue-1,this.updateModel(t,o),t.preventDefault()},incrementValue:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;this.range?this.step?o=this.modelValue[n]+this.step:o=this.modelValue[n]+1:this.step?o=this.modelValue+this.step:!this.step&&r?o=this.modelValue+10:o=this.modelValue+1,this.updateModel(t,o),t.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)}},computed:{horizontal:function(){return this.orientation==="horizontal"},vertical:function(){return this.orientation==="vertical"},rangeStyle:function(){if(this.range){var t=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,n=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?{left:n+"%",width:t+"%"}:{bottom:n+"%",height:t+"%"}}else return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?{left:this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},handlePosition:function(){return this.modelValue<this.min?0:this.modelValue>this.max?100:(this.modelValue-this.min)*100/(this.max-this.min)},rangeStartPosition:function(){return this.modelValue&&this.modelValue[0]?(this.modelValue[0]<this.min?0:this.modelValue[0]-this.min)*100/(this.max-this.min):0},rangeEndPosition:function(){return this.modelValue&&this.modelValue.length===2?(this.modelValue[1]>this.max?100:this.modelValue[1]-this.min)*100/(this.max-this.min):100},rangeStartHandleStyle:function(){return this.horizontal?{left:this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?{left:this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}}}},TW=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],IW=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],SW=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"];function AW(e,t,n,r,o,s){return He(),Ze("div",ir({class:e.cx("root"),onClick:t[15]||(t[15]=function(){return s.onBarClick&&s.onBarClick.apply(s,arguments)})},e.ptm("root"),{"data-p-sliding":!1,"data-pc-name":"slider"}),[D("span",ir({class:e.cx("range"),style:[e.sx("range"),s.rangeStyle]},e.ptm("range")),null,16),e.range?zr("",!0):(He(),Ze("span",ir({key:0,class:e.cx("handle"),style:[e.sx("handle"),s.handleStyle],onTouchstart:t[0]||(t[0]=function(u){return s.onDragStart(u)}),onTouchmove:t[1]||(t[1]=function(u){return s.onDrag(u)}),onTouchend:t[2]||(t[2]=function(u){return s.onDragEnd(u)}),onMousedown:t[3]||(t[3]=function(u){return s.onMouseDown(u)}),onKeydown:t[4]||(t[4]=function(u){return s.onKeyDown(u)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("handle")),null,16,TW)),e.range?(He(),Ze("span",ir({key:1,class:e.cx("handle"),style:[e.sx("handle"),s.rangeStartHandleStyle],onTouchstart:t[5]||(t[5]=function(u){return s.onDragStart(u,0)}),onTouchmove:t[6]||(t[6]=function(u){return s.onDrag(u)}),onTouchend:t[7]||(t[7]=function(u){return s.onDragEnd(u)}),onMousedown:t[8]||(t[8]=function(u){return s.onMouseDown(u,0)}),onKeydown:t[9]||(t[9]=function(u){return s.onKeyDown(u,0)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[0]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("startHandler")),null,16,IW)):zr("",!0),e.range?(He(),Ze("span",ir({key:2,class:e.cx("handle"),style:[e.sx("handle"),s.rangeEndHandleStyle],onTouchstart:t[10]||(t[10]=function(u){return s.onDragStart(u,1)}),onTouchmove:t[11]||(t[11]=function(u){return s.onDrag(u)}),onTouchend:t[12]||(t[12]=function(u){return s.onDragEnd(u)}),onMousedown:t[13]||(t[13]=function(u){return s.onMouseDown(u,1)}),onKeydown:t[14]||(t[14]=function(u){return s.onKeyDown(u,1)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[1]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("endHandler")),null,16,SW)):zr("",!0)],16)}mP.render=AW;const kW={name:"AppPlayer",components:{Slider:mP},data(){return{volumeOld:0,isDragging:!1,slideEndValue:0}},computed:{...Ps(So,["playing","currentSong","displayDuration","duration","playerHasSong"]),...bk(So,["playerProgress","volume","seek"])},methods:{...js(So,["toggleAudio","updateSeek","updateVolume","setIsDragging"]),toggleVolume(){this.volume>=1?this.volume=0:this.volume=this.volumeOld},updateDisplaySeek(e){const t=e/100,n=this.duration*t;this.seek=cc.formatTime(n)},handleSliderChange(e){this.isDragging=!0,this.updateDisplaySeek(e),this.slideEndValue=e},handleSlideEnd(){this.isDragging=!1,this.updateSeek(this.slideEndValue)},handleSliderClick(){this.isDragging=!1,this.updateSeek(this.slideEndValue)}},watch:{volume(e,t){this.volumeOld=t,this.updateVolume(e)},isDragging(e){this.setIsDragging(e)}}},CW={class:"fixed bottom-0 left-0 w-full bg-black h-24 z-10 px-8 py-2 flex flex-col lg:flex-row lg:justify-between justify-center items-center select-none"},OW={class:"text-white flex flex-col items-center flex-1 font-circular-thin lg:order-2"},NW={type:"button",class:""},PW={class:"flex flex-nowrap gap-3 justify-center items-center"},xW={class:"player-currenttime text-xs secondary-text font-sans"},RW={class:"player-duration text-xs secondary-text font-sans"},DW={class:"flex-1 font-circular-thin lg:order-1"},LW={class:"sm:flex items-center gap-5 h-6 lg:h-16 whitespace-nowrap"},MW={class:"text-white flex lg:flex-col gap-2 lg:gap-0 justify-center items-center sm:items-center lg:items-start font-circular-thin h-8 lg:h-16 w-56 sm:w-auto"},FW={class:"song-title overflow-x-clip text-ellipsis"},VW={class:"hidden sm:block song-artist secondary-text overflow-x-clip text-ellipsis"},UW=D("i",{class:"!hidden lg:!block fa-solid fa-heart text-green-500"},null,-1),jW={class:"hidden text-white lg:flex items-center justify-end flex-1 order-3"};function $W(e,t,n,r,o,s){const u=Et("Slider");return He(),Ze("section",CW,[D("section",OW,[D("button",NW,[D("i",{class:Ft(["text-white text-3xl hover:scale-105",{"fa fa-play-circle":!e.playing,"fa fa-pause-circle":e.playing}]),onClick:t[0]||(t[0]=Zt(l=>e.toggleAudio(),["prevent"]))},null,2)]),D("div",PW,[D("div",xW,me(e.seek),1),Ae(u,{modelValue:e.playerProgress,"onUpdate:modelValue":t[1]||(t[1]=l=>e.playerProgress=l),onChange:t[2]||(t[2]=l=>s.handleSliderChange(e.playerProgress)),onSlideend:t[3]||(t[3]=l=>s.handleSlideEnd()),onClick:t[4]||(t[4]=Zt(l=>s.handleSliderClick(),["prevent"])),pt:{root:{class:"w-60 sm:w-96 h-1 bg-neutral-700 group hover:cursor-pointer"},handle:{class:"bg-white opacity-0 group-hover:opacity-100 hover:cursor-grab group-active:opacity-100"},range:{class:"bg-white group-hover:bg-green-500 group-active:bg-green-500"}}},null,8,["modelValue"]),D("div",RW,me(e.displayDuration),1)])]),D("section",DW,[ko(D("article",LW,[D("div",MW,[D("p",FW,me(e.currentSong.modified_name),1),D("p",VW,me(e.currentSong.artist||"Unknown artist"),1)]),UW],512),[[Ch,e.playerHasSong]])]),D("section",jW,[D("i",{onClick:t[5]||(t[5]=Zt((...l)=>s.toggleVolume&&s.toggleVolume(...l),["prevent"])),class:Ft(["fa-solid hover:cursor-pointer p-3",{"fa-volume-high":e.volume>50,"fa-volume-low":e.volume>=1,"fa-volume-xmark":e.volume<1}])},null,2),Ae(u,{modelValue:e.volume,"onUpdate:modelValue":t[6]||(t[6]=l=>e.volume=l),pt:{root:{class:"w-40 h-1 bg-neutral-700 group hover:cursor-grab"},handle:{class:"bg-white opacity-0 group-hover:opacity-100 group-active:opacity-100"},range:{class:"bg-white group-hover:bg-green-500 group-active:bg-green-500"}}},null,8,["modelValue"])])])}const gP=Vn(kW,[["render",$W]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ca=typeof window<"u";function BW(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const vt=Object.assign;function wv(e,t){const n={};for(const r in t){const o=t[r];n[r]=ei(o)?o.map(e):e(o)}return n}const Rl=()=>{},ei=Array.isArray,qW=/\/$/,HW=e=>e.replace(qW,"");function Ev(e,t,n="/"){let r,o={},s="",u="";const l=t.indexOf("#");let c=t.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=t.slice(0,c),s=t.slice(c+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=zW(r??t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function WW(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function jS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function KW(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&uu(t.matched[r],n.matched[o])&&vP(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function uu(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function vP(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!GW(e[n],t[n]))return!1;return!0}function GW(e,t){return ei(e)?$S(e,t):ei(t)?$S(t,e):e===t}function $S(e,t){return ei(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function zW(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,l;for(u=0;u<r.length;u++)if(l=r[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var mc;(function(e){e.pop="pop",e.push="push"})(mc||(mc={}));var Dl;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Dl||(Dl={}));function YW(e){if(!e)if(Ca){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),HW(e)}const XW=/^[^#]+#/;function QW(e,t){return e.replace(XW,"#")+t}function JW(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const fp=()=>({left:window.pageXOffset,top:window.pageYOffset});function ZW(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=JW(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function BS(e,t){return(history.state?history.state.position-t:-1)+e}const Vy=new Map;function e6(e,t){Vy.set(e,t)}function t6(e){const t=Vy.get(e);return Vy.delete(e),t}let n6=()=>location.protocol+"//"+location.host;function yP(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,c=o.slice(l);return c[0]!=="/"&&(c="/"+c),jS(c,"")}return jS(n,e)+r+o}function r6(e,t,n,r){let o=[],s=[],u=null;const l=({state:p})=>{const v=yP(e,location),_=n.value,w=t.value;let S=0;if(p){if(n.value=v,t.value=p,u&&u===_){u=null;return}S=w?p.position-w.position:0}else r(v);o.forEach(b=>{b(n.value,_,{delta:S,type:mc.pop,direction:S?S>0?Dl.forward:Dl.back:Dl.unknown})})};function c(){u=n.value}function d(p){o.push(p);const v=()=>{const _=o.indexOf(p);_>-1&&o.splice(_,1)};return s.push(v),v}function g(){const{history:p}=window;p.state&&p.replaceState(vt({},p.state,{scroll:fp()}),"")}function h(){for(const p of s)p();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:c,listen:d,destroy:h}}function qS(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?fp():null}}function i6(e){const{history:t,location:n}=window,r={value:yP(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(c,d,g){const h=e.indexOf("#"),p=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+c:n6()+e+c;try{t[g?"replaceState":"pushState"](d,"",p),o.value=d}catch(v){console.error(v),n[g?"replace":"assign"](p)}}function u(c,d){const g=vt({},t.state,qS(o.value.back,c,o.value.forward,!0),d,{position:o.value.position});s(c,g,!0),r.value=c}function l(c,d){const g=vt({},o.value,t.state,{forward:c,scroll:fp()});s(g.current,g,!0);const h=vt({},qS(r.value,c,null),{position:g.position+1},d);s(c,h,!1),r.value=c}return{location:r,state:o,push:l,replace:u}}function o6(e){e=YW(e);const t=i6(e),n=r6(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=vt({location:"",base:e,go:r,createHref:QW.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function s6(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),o6(e)}function a6(e){return typeof e=="string"||e&&typeof e=="object"}function _P(e){return typeof e=="string"||typeof e=="symbol"}const so={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},bP=Symbol("");var HS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(HS||(HS={}));function lu(e,t){return vt(new Error,{type:e,[bP]:!0},t)}function ki(e,t){return e instanceof Error&&bP in e&&(t==null||!!(e.type&t))}const WS="[^/]+?",u6={sensitive:!1,strict:!1,start:!0,end:!0},l6=/[.+*?^${}()[\]/\\]/g;function c6(e,t){const n=vt({},u6,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const p=d[h];let v=40+(n.sensitive?.25:0);if(p.type===0)h||(o+="/"),o+=p.value.replace(l6,"\\$&"),v+=40;else if(p.type===1){const{value:_,repeatable:w,optional:S,regexp:b}=p;s.push({name:_,repeatable:w,optional:S});const k=b||WS;if(k!==WS){v+=10;try{new RegExp(`(${k})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${_}" (${k}): `+C.message)}}let R=w?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(R=S&&d.length<2?`(?:/${R})`:"/"+R),S&&(R+="?"),o+=R,v+=20,S&&(v+=-8),w&&(v+=-20),k===".*"&&(v+=-50)}g.push(v)}r.push(g)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(d){const g=d.match(u),h={};if(!g)return null;for(let p=1;p<g.length;p++){const v=g[p]||"",_=s[p-1];h[_.name]=v&&_.repeatable?v.split("/"):v}return h}function c(d){let g="",h=!1;for(const p of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const v of p)if(v.type===0)g+=v.value;else if(v.type===1){const{value:_,repeatable:w,optional:S}=v,b=_ in d?d[_]:"";if(ei(b)&&!w)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const k=ei(b)?b.join("/"):b;if(!k)if(S)p.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=k}}return g||"/"}return{re:u,score:r,keys:s,parse:l,stringify:c}}function f6(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function h6(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=f6(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(KS(r))return 1;if(KS(o))return-1}return o.length-r.length}function KS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const d6={type:0,value:""},p6=/[a-zA-Z0-9_]/;function m6(e){if(!e)return[[]];if(e==="/")return[[d6]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(v){throw new Error(`ERR (${n})/"${d}": ${v}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let l=0,c,d="",g="";function h(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:g,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):t("Invalid state to consume buffer"),d="")}function p(){d+=c}for(;l<e.length;){if(c=e[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(d&&h(),u()):c===":"?(h(),n=1):p();break;case 4:p(),n=r;break;case 1:c==="("?n=2:p6.test(c)?p():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+c:n=3:g+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),u(),o}function g6(e,t,n){const r=c6(m6(e.path),n),o=vt(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function v6(e,t){const n=[],r=new Map;t=YS({strict:!1,end:!0,sensitive:!1},t);function o(g){return r.get(g)}function s(g,h,p){const v=!p,_=y6(g);_.aliasOf=p&&p.record;const w=YS(t,g),S=[_];if("alias"in g){const R=typeof g.alias=="string"?[g.alias]:g.alias;for(const C of R)S.push(vt({},_,{components:p?p.record.components:_.components,path:C,aliasOf:p?p.record:_}))}let b,k;for(const R of S){const{path:C}=R;if(h&&C[0]!=="/"){const U=h.record.path,L=U[U.length-1]==="/"?"":"/";R.path=h.record.path+(C&&L+C)}if(b=g6(R,h,w),p?p.alias.push(b):(k=k||b,k!==b&&k.alias.push(b),v&&g.name&&!zS(b)&&u(g.name)),_.children){const U=_.children;for(let L=0;L<U.length;L++)s(U[L],b,p&&p.children[L])}p=p||b,(b.record.components&&Object.keys(b.record.components).length||b.record.name||b.record.redirect)&&c(b)}return k?()=>{u(k)}:Rl}function u(g){if(_P(g)){const h=r.get(g);h&&(r.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&r.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function l(){return n}function c(g){let h=0;for(;h<n.length&&h6(g,n[h])>=0&&(g.record.path!==n[h].record.path||!wP(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!zS(g)&&r.set(g.record.name,g)}function d(g,h){let p,v={},_,w;if("name"in g&&g.name){if(p=r.get(g.name),!p)throw lu(1,{location:g});w=p.record.name,v=vt(GS(h.params,p.keys.filter(k=>!k.optional).map(k=>k.name)),g.params&&GS(g.params,p.keys.map(k=>k.name))),_=p.stringify(v)}else if("path"in g)_=g.path,p=n.find(k=>k.re.test(_)),p&&(v=p.parse(_),w=p.record.name);else{if(p=h.name?r.get(h.name):n.find(k=>k.re.test(h.path)),!p)throw lu(1,{location:g,currentLocation:h});w=p.record.name,v=vt({},h.params,g.params),_=p.stringify(v)}const S=[];let b=p;for(;b;)S.unshift(b.record),b=b.parent;return{name:w,path:_,params:v,matched:S,meta:b6(S)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:d,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function GS(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function y6(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:_6(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function _6(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function zS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function b6(e){return e.reduce((t,n)=>vt(t,n.meta),{})}function YS(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function wP(e,t){return t.children.some(n=>n===e||wP(e,n))}const EP=/#/g,w6=/&/g,E6=/\//g,T6=/=/g,I6=/\?/g,TP=/\+/g,S6=/%5B/g,A6=/%5D/g,IP=/%5E/g,k6=/%60/g,SP=/%7B/g,C6=/%7C/g,AP=/%7D/g,O6=/%20/g;function Yb(e){return encodeURI(""+e).replace(C6,"|").replace(S6,"[").replace(A6,"]")}function N6(e){return Yb(e).replace(SP,"{").replace(AP,"}").replace(IP,"^")}function Uy(e){return Yb(e).replace(TP,"%2B").replace(O6,"+").replace(EP,"%23").replace(w6,"%26").replace(k6,"`").replace(SP,"{").replace(AP,"}").replace(IP,"^")}function P6(e){return Uy(e).replace(T6,"%3D")}function x6(e){return Yb(e).replace(EP,"%23").replace(I6,"%3F")}function R6(e){return e==null?"":x6(e).replace(E6,"%2F")}function rd(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function D6(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(TP," "),u=s.indexOf("="),l=rd(u<0?s:s.slice(0,u)),c=u<0?null:rd(s.slice(u+1));if(l in t){let d=t[l];ei(d)||(d=t[l]=[d]),d.push(c)}else t[l]=c}return t}function XS(e){let t="";for(let n in e){const r=e[n];if(n=P6(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(ei(r)?r.map(s=>s&&Uy(s)):[r&&Uy(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function L6(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=ei(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const M6=Symbol(""),QS=Symbol(""),Xb=Symbol(""),kP=Symbol(""),jy=Symbol("");function dl(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function co(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const c=h=>{h===!1?l(lu(4,{from:n,to:t})):h instanceof Error?l(h):a6(h)?l(lu(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},d=e.call(r&&r.instances[o],t,n,c);let g=Promise.resolve(d);e.length<3&&(g=g.then(c)),g.catch(h=>l(h))})}function Tv(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let l=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(F6(l)){const d=(l.__vccOpts||l)[t];d&&o.push(co(d,n,r,s,u))}else{let c=l();o.push(()=>c.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=BW(d)?d.default:d;s.components[u]=g;const p=(g.__vccOpts||g)[t];return p&&co(p,n,r,s,u)()}))}}return o}function F6(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function JS(e){const t=Tr(Xb),n=Tr(kP),r=Ve(()=>t.resolve(st(e.to))),o=Ve(()=>{const{matched:c}=r.value,{length:d}=c,g=c[d-1],h=n.matched;if(!g||!h.length)return-1;const p=h.findIndex(uu.bind(null,g));if(p>-1)return p;const v=ZS(c[d-2]);return d>1&&ZS(g)===v&&h[h.length-1].path!==v?h.findIndex(uu.bind(null,c[d-2])):p}),s=Ve(()=>o.value>-1&&j6(n.params,r.value.params)),u=Ve(()=>o.value>-1&&o.value===n.matched.length-1&&vP(n.params,r.value.params));function l(c={}){return U6(c)?t[st(e.replace)?"replace":"push"](st(e.to)).catch(Rl):Promise.resolve()}return{route:r,href:Ve(()=>r.value.href),isActive:s,isExactActive:u,navigate:l}}const V6=Do({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:JS,setup(e,{slots:t}){const n=yi(JS(e)),{options:r}=Tr(Xb),o=Ve(()=>({[eA(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[eA(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Fi("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),CP=V6;function U6(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function j6(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!ei(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function ZS(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const eA=(e,t,n)=>e??t??n,$6=Do({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=Tr(jy),o=Ve(()=>e.route||r.value),s=Tr(QS,0),u=Ve(()=>{let d=st(s);const{matched:g}=o.value;let h;for(;(h=g[d])&&!h.components;)d++;return d}),l=Ve(()=>o.value.matched[u.value]);La(QS,Ve(()=>u.value+1)),La(M6,l),La(jy,o);const c=bt();return wn(()=>[c.value,l.value,e.name],([d,g,h],[p,v,_])=>{g&&(g.instances[h]=d,v&&v!==g&&d&&d===p&&(g.leaveGuards.size||(g.leaveGuards=v.leaveGuards),g.updateGuards.size||(g.updateGuards=v.updateGuards))),d&&g&&(!v||!uu(g,v)||!p)&&(g.enterCallbacks[h]||[]).forEach(w=>w(d))},{flush:"post"}),()=>{const d=o.value,g=e.name,h=l.value,p=h&&h.components[g];if(!p)return tA(n.default,{Component:p,route:d});const v=h.props[g],_=v?v===!0?d.params:typeof v=="function"?v(d):v:null,S=Fi(p,vt({},_,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(h.instances[g]=null)},ref:c}));return tA(n.default,{Component:S,route:d})||S}}});function tA(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const OP=$6;function B6(e){const t=v6(e.routes,e),n=e.parseQuery||D6,r=e.stringifyQuery||XS,o=e.history,s=dl(),u=dl(),l=dl(),c=o_(so);let d=so;Ca&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=wv.bind(null,W=>""+W),h=wv.bind(null,R6),p=wv.bind(null,rd);function v(W,Y){let se,he;return _P(W)?(se=t.getRecordMatcher(W),he=Y):he=W,t.addRoute(he,se)}function _(W){const Y=t.getRecordMatcher(W);Y&&t.removeRoute(Y)}function w(){return t.getRoutes().map(W=>W.record)}function S(W){return!!t.getRecordMatcher(W)}function b(W,Y){if(Y=vt({},Y||c.value),typeof W=="string"){const T=Ev(n,W,Y.path),O=t.resolve({path:T.path},Y),M=o.createHref(T.fullPath);return vt(T,O,{params:p(O.params),hash:rd(T.hash),redirectedFrom:void 0,href:M})}let se;if("path"in W)se=vt({},W,{path:Ev(n,W.path,Y.path).path});else{const T=vt({},W.params);for(const O in T)T[O]==null&&delete T[O];se=vt({},W,{params:h(T)}),Y.params=h(Y.params)}const he=t.resolve(se,Y),De=W.hash||"";he.params=g(p(he.params));const P=WW(r,vt({},W,{hash:N6(De),path:he.path})),I=o.createHref(P);return vt({fullPath:P,hash:De,query:r===XS?L6(W.query):W.query||{}},he,{redirectedFrom:void 0,href:I})}function k(W){return typeof W=="string"?Ev(n,W,c.value.path):vt({},W)}function R(W,Y){if(d!==W)return lu(8,{from:Y,to:W})}function C(W){return B(W)}function U(W){return C(vt(k(W),{replace:!0}))}function L(W){const Y=W.matched[W.matched.length-1];if(Y&&Y.redirect){const{redirect:se}=Y;let he=typeof se=="function"?se(W):se;return typeof he=="string"&&(he=he.includes("?")||he.includes("#")?he=k(he):{path:he},he.params={}),vt({query:W.query,hash:W.hash,params:"path"in he?{}:W.params},he)}}function B(W,Y){const se=d=b(W),he=c.value,De=W.state,P=W.force,I=W.replace===!0,T=L(se);if(T)return B(vt(k(T),{state:typeof T=="object"?vt({},De,T.state):De,force:P,replace:I}),Y||se);const O=se;O.redirectedFrom=Y;let M;return!P&&KW(r,he,se)&&(M=lu(16,{to:O,from:he}),Ct(he,he,!0,!1)),(M?Promise.resolve(M):N(O,he)).catch(q=>ki(q)?ki(q,2)?q:mt(q):ve(q,O,he)).then(q=>{if(q){if(ki(q,2))return B(vt({replace:I},k(q.to),{state:typeof q.to=="object"?vt({},De,q.to.state):De,force:P}),Y||O)}else q=ne(O,he,!0,I,De);return ke(O,he,q),q})}function $(W,Y){const se=R(W,Y);return se?Promise.reject(se):Promise.resolve()}function H(W){const Y=Xt.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(W):W()}function N(W,Y){let se;const[he,De,P]=q6(W,Y);se=Tv(he.reverse(),"beforeRouteLeave",W,Y);for(const T of he)T.leaveGuards.forEach(O=>{se.push(co(O,W,Y))});const I=$.bind(null,W,Y);return se.push(I),be(se).then(()=>{se=[];for(const T of s.list())se.push(co(T,W,Y));return se.push(I),be(se)}).then(()=>{se=Tv(De,"beforeRouteUpdate",W,Y);for(const T of De)T.updateGuards.forEach(O=>{se.push(co(O,W,Y))});return se.push(I),be(se)}).then(()=>{se=[];for(const T of P)if(T.beforeEnter)if(ei(T.beforeEnter))for(const O of T.beforeEnter)se.push(co(O,W,Y));else se.push(co(T.beforeEnter,W,Y));return se.push(I),be(se)}).then(()=>(W.matched.forEach(T=>T.enterCallbacks={}),se=Tv(P,"beforeRouteEnter",W,Y),se.push(I),be(se))).then(()=>{se=[];for(const T of u.list())se.push(co(T,W,Y));return se.push(I),be(se)}).catch(T=>ki(T,8)?T:Promise.reject(T))}function ke(W,Y,se){l.list().forEach(he=>H(()=>he(W,Y,se)))}function ne(W,Y,se,he,De){const P=R(W,Y);if(P)return P;const I=Y===so,T=Ca?history.state:{};se&&(he||I?o.replace(W.fullPath,vt({scroll:I&&T&&T.scroll},De)):o.push(W.fullPath,De)),c.value=W,Ct(W,Y,se,I),mt()}let Ee;function Re(){Ee||(Ee=o.listen((W,Y,se)=>{if(!ye.listening)return;const he=b(W),De=L(he);if(De){B(vt(De,{replace:!0}),he).catch(Rl);return}d=he;const P=c.value;Ca&&e6(BS(P.fullPath,se.delta),fp()),N(he,P).catch(I=>ki(I,12)?I:ki(I,2)?(B(I.to,he).then(T=>{ki(T,20)&&!se.delta&&se.type===mc.pop&&o.go(-1,!1)}).catch(Rl),Promise.reject()):(se.delta&&o.go(-se.delta,!1),ve(I,he,P))).then(I=>{I=I||ne(he,P,!1),I&&(se.delta&&!ki(I,8)?o.go(-se.delta,!1):se.type===mc.pop&&ki(I,20)&&o.go(-1,!1)),ke(he,P,I)}).catch(Rl)}))}let Be=dl(),ce=dl(),Fe;function ve(W,Y,se){mt(W);const he=ce.list();return he.length?he.forEach(De=>De(W,Y,se)):console.error(W),Promise.reject(W)}function et(){return Fe&&c.value!==so?Promise.resolve():new Promise((W,Y)=>{Be.add([W,Y])})}function mt(W){return Fe||(Fe=!W,Re(),Be.list().forEach(([Y,se])=>W?se(W):Y()),Be.reset()),W}function Ct(W,Y,se,he){const{scrollBehavior:De}=e;if(!Ca||!De)return Promise.resolve();const P=!se&&t6(BS(W.fullPath,0))||(he||!se)&&history.state&&history.state.scroll||null;return qr().then(()=>De(W,Y,P)).then(I=>I&&ZW(I)).catch(I=>ve(I,W,Y))}const St=W=>o.go(W);let ht;const Xt=new Set,ye={currentRoute:c,listening:!0,addRoute:v,removeRoute:_,hasRoute:S,getRoutes:w,resolve:b,options:e,push:C,replace:U,go:St,back:()=>St(-1),forward:()=>St(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:ce.add,isReady:et,install(W){const Y=this;W.component("RouterLink",CP),W.component("RouterView",OP),W.config.globalProperties.$router=Y,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>st(c)}),Ca&&!ht&&c.value===so&&(ht=!0,C(o.location).catch(De=>{}));const se={};for(const De in so)Object.defineProperty(se,De,{get:()=>c.value[De],enumerable:!0});W.provide(Xb,Y),W.provide(kP,MA(se)),W.provide(jy,c);const he=W.unmount;Xt.add(W),W.unmount=function(){Xt.delete(W),Xt.size<1&&(d=so,Ee&&Ee(),Ee=null,c.value=so,ht=!1,Fe=!1),he()}}};function be(W){return W.reduce((Y,se)=>Y.then(()=>H(se)),Promise.resolve())}return ye}function q6(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(d=>uu(d,l))?r.push(l):n.push(l));const c=e.matched[u];c&&(t.matched.find(d=>uu(d,c))||o.push(c))}return[n,r,o]}const H6={name:"App",components:{AppHeader:v4,RouterView:OP,AppPlayer:gP},computed:{...bk(Ui,["userLoggedIn"])},created(){an.currentUser&&(this.userLoggedIn=!0)}};function W6(e,t,n,r,o,s){const u=Et("AppHeader"),l=Et("RouterView"),c=Et("AppPlayer");return He(),Ze(zt,null,[Ae(u),Ae(l,null,{default:Ht(({Component:d})=>[Ae(y_,{name:"fade",mode:"out-in"},{default:Ht(()=>[(He(),Co(Ed(d)))]),_:2},1024)]),_:1}),e.userLoggedIn?(He(),Co(c,{key:0})):zr("",!0)],64)}const K6=Vn(H6,[["render",W6],["__scopeId","data-v-c993c7e7"]]),G6="/musicfy/assets/img/equaliser-animated-green.gif",z6={name:"SongItem",props:{song:{type:Object,required:!0},index:{type:Number,required:!0},inPlayer:{type:Boolean,required:!0},playing:{type:Boolean,required:!0},isSelected:{type:Boolean,required:!0}},emits:["double-click"],methods:{...js(So,["play","toggleAudio"]),getDuration(){return cc.formatTime(this.song.duration??0)},handleDblClick(e){this.$emit("double-click"),this.play(e)}},components:{RouterLink:CP}},Y6={class:"hidden sm:flex justify-center items-center"},X6={key:0,class:"group-hover:hidden"},Q6={key:1,src:G6,alt:"Sound wave",class:"group-hover:hidden w-3.5"},J6={class:"overflow-x-clip text-ellipsis"},Z6=["onClick"],eK={class:"flex justify-end items-center gap-4"},tK=D("i",{class:"!hidden sm:!block fa-solid fa-heart text-green-500"},null,-1),nK={class:"hidden sm:block w-9"};function rK(e,t,n,r,o,s){const u=Et("RouterLink");return He(),Ze("tr",{class:Ft(["group hover:cursor-pointer",{"bg-white bg-opacity-30 ":n.isSelected,"sm:hover:bg-white sm:hover:bg-opacity-10 sm:hover:text-white secondary-text":!n.isSelected}])},[D("td",{id:"index",class:Ft(["hidden sm:table-cell rounded-l-md",{"text-green-500":n.inPlayer,"text-secondary":!n.inPlayer}])},[D("div",Y6,[D("i",{class:Ft(["!hidden group-hover:!block fa-solid text-white text-sm",{"fa-pause ":n.playing,"fa-play":!n.playing}]),onClick:t[0]||(t[0]=Zt(l=>n.inPlayer?e.toggleAudio():e.play(n.song),["prevent"]))},null,2),n.playing?(He(),Ze("img",Q6)):(He(),Ze("p",X6,me(n.index+1),1))])],2),D("td",{id:"title",onDblclick:t[1]||(t[1]=l=>s.handleDblClick(n.song)),class:"rounded-l-md sm:rounded-none px-2"},[Ae(u,{to:{name:"song",params:{id:n.song.docID}},class:"text-white w-max border-b border-b-transparent hover:border-b-white"},{default:Ht(()=>[D("span",{class:Ft(["overflow-x-clip text-ellipsis",{"text-white":!n.inPlayer,"text-green-500":n.inPlayer}])},me(n.song.modified_name),3)]),_:1},8,["to"]),Ae(u,{to:{name:"song",params:{id:n.song.docID}},class:"block w-max border-b border-b-transparent hover:border-b-white text-sm"},{default:Ht(()=>[D("span",J6,me(n.song.artist||e.$t("home.unknown")),1)]),_:1},8,["to"])],32),D("td",{id:"genre",onDblclick:t[2]||(t[2]=l=>s.handleDblClick(n.song)),class:"hidden sm:table-cell"},me(n.song.genre||e.$t("home.unknown")),33),D("td",{id:"comments",onDblclick:t[3]||(t[3]=l=>s.handleDblClick(n.song)),class:"hidden sm:table-cell"},[Ae(u,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:Ht(({navigate:l})=>[D("span",{onClick:l,class:"hover:underline"},me(n.song.comment_count),9,Z6)]),_:1},8,["to"])],32),D("td",{id:"duration",onDblclick:t[5]||(t[5]=l=>s.handleDblClick(n.song)),class:"rounded-r-md px-2"},[D("div",eK,[tK,D("i",{class:Ft(["sm:!hidden fa-solid text-white text-xl",{"fa-pause":n.playing,"fa-play":!n.playing}]),onClick:t[4]||(t[4]=Zt(l=>n.inPlayer?e.toggleAudio():e.play(n.song),["prevent"]))},null,2),D("p",nK,me(s.getDuration()),1)])],32)],2)}const iK=Vn(z6,[["render",rK]]),$y="/musicfy/assets/img/liked-songs-300.webp",nA="/musicfy/assets/img/liked-songs-640.webp",oK={name:"AppPlaylist",components:{SongItem:iK},props:{songs:{type:Array,required:!0},songsCount:{type:Number,required:!0}},data(){return{selectedSong:""}},computed:{...Ps(So,["playing","songInPlayer","isSongInPlayer","isSongPlaying","playerHasSong"]),...Ps(Ui,["username"])},methods:{...js(So,["play","toggleAudio"]),isSongSelected(e){return this.selectedSong===e},selectSong(e){this.selectedSong=this.selectedSong===e?null:e},handleDblClick(e){this.selectSong(e.docID),this.play(e)}}},sK=$y+" 150w, "+$y+" 300w, "+nA+" 320w, "+nA+" 640w",aK={class:"mx-4 pt-32 sm:pt-40 pb-6 text-white text-center font-circular-thin"},uK={class:"container flex justify-between sm:justify-start sm:gap-6"},lK=D("img",{"aria-hidden":"false",draggable:"false",loading:"eager",src:$y,alt:"Liked songs",class:"shadow-3xl order-2 sm:order-1 w-28 h-28 sm:w-auto sm:h-auto",srcset:sK,sizes:"(min-width: 1280px) 232px, 192px"},null,-1),cK={class:"text-white main-header-content flex flex-col sm:grow gap-1 sm:gap-4 justify-center items-start order-1"},fK={class:"text-xs sm:text-base"},hK={class:"text-xl sm:text-4xl lg:text-7xl font-circular-black"},dK={class:"text-xs sm:text-base"},pK={class:"font-circular-regular"},mK={class:"py-5 bg-zinc-900 bg-opacity-30 font-circular-thin min-h-[50vh]"},gK={type:"button",class:"mx-4 sm:mx-8"},vK={class:"mx-4 sm:mx-8 mt-4"},yK={id:"playlist",class:"w-full text-left mb-40"},_K={class:"border-b border-zinc-400 border-opacity-10 secondary-text"},bK=D("th",{class:"hidden sm:table-cell px-4 sm:w-8 font-light"},"#",-1),wK={class:"sm:w-2/5 p-1 font-light"},EK={class:"hidden sm:table-cell w-1/3 font-light"},TK={class:"hidden sm:table-cell w-1/5 font-light"},IK=D("th",{class:"hidden sm:table-cell w-2/12 font-light"},[D("div",{class:"flex justify-end mr-2 font-light"},[D("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 secondary-text","aria-label":"duration"},[D("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1),SK={class:"text-white"},AK=D("tr",{class:"h-2"},null,-1),kK={colspan:"5"},CK={key:0};function OK(e,t,n,r,o,s){const u=Et("SongItem"),l=h_("icon");return He(),Ze(zt,null,[D("section",aK,[D("div",uK,[lK,D("div",cK,[D("h4",fK,me(e.$t("home.playlist")),1),D("h1",hK,me(e.$t("home.liked")),1),D("p",dK,[D("span",pK,me(e.username)+" º "+me(n.songsCount)+" "+me(e.$t("home.songs")),1)])])])]),D("section",mK,[D("button",gK,[ko(D("i",{class:"text-[#1ed760] text-5xl bg-black rounded-full",onClick:t[0]||(t[0]=Zt(c=>e.playerHasSong?e.toggleAudio():e.play(this.songs[0]),["prevent"]))},null,512),[[l,e.playing?"pause-circle":"play-circle",void 0,{button:!0}]])]),D("div",vK,[D("table",yK,[D("thead",_K,[D("tr",null,[bK,D("th",wK,me(e.$t("home.title")),1),D("th",EK,me(e.$t("home.genre")),1),D("th",TK,me(e.$t("home.comments")),1),IK])]),D("tbody",SK,[AK,(He(!0),Ze(zt,null,yc(n.songs,(c,d)=>(He(),Co(u,{key:c.docID,song:c,index:d,"in-player":e.isSongInPlayer(c),playing:e.isSongPlaying(c),"is-selected":s.isSongSelected(c.docID),onClick:g=>s.selectSong(c.docID),onDoubleClick:g=>s.handleDblClick(c)},null,8,["song","index","in-player","playing","is-selected","onClick","onDoubleClick"]))),128))]),D("tfoot",null,[D("tr",null,[D("td",kK,[n.songs.length===0?(He(),Ze("span",CK,"Empty playlist. Go to Manage to add some more")):zr("",!0)])])])])])])],64)}const NK=Vn(oK,[["render",OK]]),PK={name:"Home",components:{AppPlaylist:NK,AppPlayer:gP},data(){return{songs:[],maxPerPage:10,pendingReq:!1,songsCount:0}},computed:{...Ps(Ui,["userLoggedIn"])},async created(){await this.getSongs(),await this.getSongsCount(),window.addEventListener("scroll",this.handleScroll)},methods:{async getSongs(){if(this.pendingReq||!this.userLoggedIn)return;this.pendingReq=!0;let e;if(this.songs.length){const t=await gi.doc(this.songs[this.songs.length-1].docID).get();e=await gi.where("uid","==",an.currentUser.uid).orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await gi.where("uid","==",an.currentUser.uid).orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingReq=!1},async getSongsCount(){this.userLoggedIn&&await ap.doc(an.currentUser.uid).get().then(e=>{this.songsCount=e.data().songsCount??0}).catch(()=>{this.songsCount=0,console.error("Error getting user's songs count ")})},handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.ceil(e)+n>=t&&this.getSongs()}},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},xK={class:"view-gradient"};function RK(e,t,n,r,o,s){const u=Et("AppPlaylist"),l=Et("AppPlayer");return He(),Ze("main",xK,[Ae(u,{songs:o.songs,songsCount:o.songsCount},null,8,["songs","songsCount"]),Ae(l)])}const DK=Vn(PK,[["render",RK]]),LK={name:"LoginForm",emits:["login-success"],data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},togglePassword:!1,login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Logging in."}},methods:{...js(Ui,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.$refs.loginForm.resetForm(),this.login_show_alert=!1,this.login_in_submission=!1,this.$emit("login-success")}}},MK={class:"mb-3"},FK=D("label",{class:"inline-block mb-2"},"Email",-1),VK={class:"mb-3"},UK={class:"inline-block mb-2"},jK={class:"flex items-center"},$K=["type","placeholder"],BK=["disabled"];function qK(e,t,n,r,o,s){const u=Et("VeeField"),l=Et("ErrorMessage"),c=Et("VeeForm");return He(),Ze(zt,null,[o.login_show_alert?(He(),Ze("div",{key:0,class:Ft(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},me(o.login_alert_msg),3)):zr("",!0),Ae(c,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:s.login,ref:"loginForm"},{default:Ht(()=>[D("div",MK,[FK,Ae(u,{id:"emailField",name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:e.$t("auth.form.emailPlaceholder"),autocomplete:"email"},null,8,["placeholder"]),Ae(l,{class:"text-red-600 block",name:"email"})]),D("div",VK,[D("label",UK,me(e.$t("auth.form.passwordLabel")),1),Ae(u,{name:"password",bails:!1},{default:Ht(({field:d,errors:g})=>[D("div",jK,[D("input",ir(d,{type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:e.$t("auth.form.passwordLabel"),autocomplete:"current-password"}),null,16,$K),D("i",{onClick:t[0]||(t[0]=h=>o.togglePassword=!o.togglePassword),class:Ft(["absolute -right-0 mr-12 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),Ae(l,ir(g,{class:"text-red-600 block",name:"password"}),null,16)]),_:1})]),D("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission},me(e.$t("auth.button.login")),9,BK)]),_:1},8,["validation-schema","onSubmit"])],64)}const HK=Vn(LK,[["render",qK]]),WK={name:"RegisterForm",emits:["register-success"],components:{I18nT:Gq},data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},togglePassword:!1,toggleConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(e){this.initRegisterAlert();try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.$refs.registerForm.resetForm(),this.reg_show_alert=!1,this.reg_in_submission=!1,this.$emit("register-success")},...js(Ui,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},KK={class:""},GK={class:"select-none group"},zK=D("sup",null,"*",-1),YK={class:"invisible group-hover:visible"},XK={class:""},QK={class:"select-none group"},JK=D("sup",null,"*",-1),ZK={class:"invisible group-hover:visible"},e5={class:""},t5={class:"select-none"},n5={class:""},r5={class:"select-none group"},i5=D("sup",null,"*",-1),o5={class:"invisible group-hover:visible"},s5={class:""},a5={class:"select-none group"},u5=D("sup",null,"*",-1),l5={class:"invisible group-hover:visible"},c5={class:"flex items-center"},f5=["placeholder","type"],h5={class:""},d5={class:"select-none group"},p5=D("sup",null,"*",-1),m5={class:"invisible group-hover:visible"},g5={class:"flex items-center"},v5=["type","placeholder"],y5={class:""},_5={class:"select-none group"},b5=D("sup",null,"*",-1),w5={class:"invisible group-hover:visible"},E5=D("option",{value:"Argentina"},"Argentina",-1),T5=D("option",{value:"United States"},"United States",-1),I5=D("option",{value:"Spain"},"Spain",-1),S5=D("option",{value:"Germany"},"Germany",-1),A5=D("option",{value:"Antarctica"},"Antarctica",-1),k5=D("option",{value:"Other"},"Other",-1),C5={class:"mb-3 pl-6"},O5={class:"hover:underline",href:"https://www.google.es",target:"_blank"},N5={type:"submit",class:"block self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"};function P5(e,t,n,r,o,s){const u=Et("VeeField"),l=Et("ErrorMessage"),c=Et("I18nT"),d=Et("VeeForm");return He(),Ze(zt,null,[o.reg_show_alert?(He(),Ze("div",{key:0,class:Ft(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},me(o.reg_alert_msg),3)):zr("",!0),Ae(d,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:s.register,"initial-values":o.userData,ref:"registerForm"},{default:Ht(()=>[D("div",KK,[D("label",GK,[rr(me(e.$t("auth.form.nameLabel"))+" ",1),zK,D("sup",YK,me(e.$t("auth.form.mandatoryTooltip")),1)]),Ae(u,{id:"nameField",name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:e.$t("auth.form.namePlaceholder")},null,8,["placeholder"]),Ae(l,{class:"text-red-600",name:"name"})]),D("div",XK,[D("label",QK,[rr("Email "),JK,D("sup",ZK,me(e.$t("auth.form.mandatoryTooltip")),1)]),Ae(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:e.$t("auth.form.emailPlaceholder")},null,8,["placeholder"]),Ae(l,{class:"text-red-600",name:"email"})]),D("div",e5,[D("label",t5,me(e.$t("auth.form.phoneLabel")),1),Ae(u,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:e.$t("auth.form.phonePlaceholder")},null,8,["placeholder"]),Ae(l,{class:"text-red-600",name:"phone"})]),D("div",n5,[D("label",r5,[rr(me(e.$t("auth.form.birthdateLabel"))+" ",1),i5,D("sup",o5,me(e.$t("auth.form.mandatoryTooltip")),1)]),Ae(u,{name:"birthdate",type:"date",min:"1900-01-01",max:s.maxBirthdate,class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),Ae(l,{class:"text-red-600",name:"birthdate"})]),D("div",s5,[D("label",a5,[rr(me(e.$t("auth.form.passwordLabel"))+" ",1),u5,D("sup",l5,me(e.$t("auth.form.mandatoryTooltip")),1)]),Ae(u,{name:"password",bails:!1},{default:Ht(({field:g,errors:h})=>[D("div",c5,[D("input",ir(g,{placeholder:e.$t("auth.form.passwordPlaceholder"),type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,f5),D("i",{onClick:t[0]||(t[0]=p=>o.togglePassword=!o.togglePassword),class:Ft(["absolute -right-0 mr-12 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":!o.togglePassword,"fa-regular fa-eye":o.togglePassword}])},null,2)]),(He(!0),Ze(zt,null,yc(h,p=>(He(),Ze("div",{class:"text-red-600",key:p},me(p),1))),128))]),_:1})]),D("div",h5,[D("label",d5,[rr(me(e.$t("auth.form.confirmPasswordLabel"))+" ",1),p5,D("sup",m5,me(e.$t("auth.form.mandatoryTooltip")),1)]),Ae(u,{name:"confirmPassword",bails:!1},{default:Ht(({field:g})=>[D("div",g5,[D("input",ir(g,{type:o.toggleConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:e.$t("auth.form.confirmPasswordPlaceholder")}),null,16,v5),D("i",{onClick:t[1]||(t[1]=h=>o.toggleConfirmPassword=!o.toggleConfirmPassword),class:Ft(["absolute -right-0 mr-12 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":!o.toggleConfirmPassword,"fa-regular fa-eye":o.toggleConfirmPassword}])},null,2)])]),_:1}),Ae(l,{class:"text-red-600",name:"confirmPassword"})]),D("div",y5,[D("label",_5,[rr(me(e.$t("auth.form.countryLabel"))+" ",1),b5,D("sup",w5,me(e.$t("auth.form.mandatoryTooltip")),1)]),Ae(u,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:Ht(()=>[E5,T5,I5,S5,A5,k5]),_:1}),Ae(l,{class:"text-red-600",name:"country"})]),D("div",C5,[Ae(u,{name:"tos",bails:!1},{default:Ht(({field:g,errors:h})=>[D("input",ir(g,{type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded",id:"tos"}),null,16),Ae(c,{keypath:"auth.form.accept",tag:"label",for:"tos"},{default:Ht(()=>[D("a",O5,me(e.$t("auth.form.tos")),1)]),_:1}),Ae(l,ir(h,{class:"text-red-600 block",name:"tos"}),null,16)]),_:1})]),D("button",N5,me(e.$t("auth.button.register")),1)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const x5=Vn(WK,[["render",P5]]),R5={name:"AuthModal",components:{LoginForm:HK,RegisterForm:x5},data(){return{tab:"login"}},methods:{handleLoginTab(){this.tab="login",this.$nextTick(()=>document.getElementById("emailField").focus())},handleRegisterTab(){this.tab="register",this.$nextTick(()=>document.getElementById("nameField").focus())},handleSuccess(){this.$router.push({name:"home"})}}},D5={class:"grid place-content-center min-h-screen",id:"modal"},L5={class:"flex flex-col bg-neutral-950 rounded-lg w-96 text-left text-white overflow-hidden py-10 px-12 shadow-xl transform transition-all"},M5={class:"text-2xl font-bold pb-4"},F5={class:"flex flex-wrap mb-4 gap-4 pb-4"},V5={class:"flex-auto text-center"},U5={class:"flex-auto text-center"};function j5(e,t,n,r,o,s){const u=Et("LoginForm"),l=Et("RegisterForm");return He(),Ze("div",D5,[D("div",L5,[D("p",M5,me(e.$t("auth.account")),1),D("ul",F5,[D("li",V5,[D("button",{class:Ft(["w-full rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),onClick:t[0]||(t[0]=Zt(c=>s.handleLoginTab(),["prevent"]))},me(e.$t("auth.tab.login")),3)]),D("li",U5,[D("button",{class:Ft(["w-full rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),onClick:t[1]||(t[1]=Zt(c=>s.handleRegisterTab(),["prevent"]))},me(e.$t("auth.tab.register")),3)])]),o.tab==="login"?(He(),Co(u,{key:0,onLoginSuccess:t[2]||(t[2]=c=>s.handleSuccess())})):(He(),Co(l,{key:1,onRegisterSuccess:t[3]||(t[3]=c=>s.handleSuccess())}))])])}const $5=Vn(R5,[["render",j5]]),B5={name:"AuthView",components:{AuthModal:$5}};function q5(e,t,n,r,o,s){const u=Et("AuthModal");return He(),Ze("main",null,[Ae(u)])}const H5=Vn(B5,[["render",q5]]),W5={name:"About"},K5={class:"view-gradient"},G5=D("article",{class:"pt-40 text-white text-center font-circular-thin"},[D("h1",{class:""},"About musicfy"),D("h4",null,"This application is for educational purposes only"),D("h6",null,[rr(" To see the real Spotify visit "),D("a",{class:"underline",href:"https://www.spotify.com"},"www.spotify.com")])],-1),z5=[G5];function Y5(e,t,n,r,o,s){return He(),Ze("main",K5,z5)}const X5=Vn(W5,[["render",Y5]]),Q5={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){this.is_dragover=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(async n=>{if(n.type!="audio/mpeg"){alert("file type invalid");return}const s=jN.ref().child("songs").child(`${n.name}`);if(await this.fileExists(n)){alert("Song already existing:",n.name);return}const l=s.put(n),c=this.uploads.push({task:l,current_progress:0,name:n.name,variant:"progress-bar bg-blue-400",icon:"fa-solid fa-spinner fa-spin",text_class:"",hide_class:""})-1;l.on("state_changed",d=>{const g=d.bytesTransferred/d.totalBytes*100;this.uploads[c].current_progress=g},()=>{this.uploads[c].variant="bg-red-400",this.uploads[c].icon="fas fa-times",this.uploads[c].text_class="text-red-400",console.error("Error uploading the song")},async()=>{const d=await l.snapshot.ref.getDownloadURL(),g=new Audio(d),h=await new Promise(w=>{g.addEventListener("loadedmetadata",()=>{w(g.duration)})}),p={uid:an.currentUser.uid,displayName:an.currentUser.displayName,original_name:l.snapshot.ref.name,modified_name:this.getFileNameWithoutExtension(l.snapshot.ref.name),genre:"",artist:"",comment_count:0,duration:h,url:d};let v="";await gi.add(p).then(w=>{v=w,ap.doc(an.currentUser.uid).update({songsCount:$N.increment(1)})}).catch(async()=>{this.uploads[c].variant="bg-red-400",this.uploads[c].icon="fas fa-times",this.uploads[c].text_class="text-red-400",console.error("Error uploading the song"),await s.delete()});const _=await v.get();this.addSong(_),this.uploads[c].variant="bg-green-400",this.uploads[c].icon="fas fa-check",this.uploads[c].text_class="text-green-400",setTimeout(()=>{this.uploads[c].hide_class="hidden"},1e3)})})},getFileNameWithoutExtension(e){return e.replace(/\.[^.]+$/,"")},async fileExists(e){return(await gi.where("uid","==",an.currentUser.uid).where("original_name","==",e.name).get()).size!==0},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})},openInputFile(){this.$refs.inputFile.click()}},beforeUnmount(){this.cancelUploads()}},J5={class:"col-span-1"},Z5={class:"bg-zinc-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},eG={class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},tG={class:"card-title"},nG=D("i",{class:"fas fa-upload float-right text-green-400 text-2xl"},null,-1),rG={class:"p-6"},iG={class:"block text-sm"},oG=D("hr",{class:"my-6 border-slate-400"},null,-1),sG={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function aG(e,t,n,r,o,s){return He(),Ze("main",J5,[D("div",Z5,[D("div",eG,[D("span",tG,me(e.$t("manage.upload")),1),nG]),D("div",rG,[D("div",{class:Ft(["hidden sm:block w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-zinc-700 hover:border-solid",{"bg-zinc-700 text-white border border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Zt(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Zt(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Zt(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Zt(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Zt(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Zt(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Zt(u=>s.upload(u),["prevent","stop"])),onClick:t[7]||(t[7]=Zt((...u)=>s.openInputFile&&s.openInputFile(...u),["prevent"]))},[D("h5",null,[rr(me(e.$t("manage.dropHintMsg1")),1),D("span",iG,me(e.$t("manage.dropHintMsg2")),1)])],34),D("input",{type:"file",multiple:"",ref:"inputFile",onChange:t[8]||(t[8]=u=>s.upload(u)),class:"md:hidden w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:font-semibold file:bg-green-500 hover:file:bg-green-400 bg-gray-800 hover:cursor-pointer"},null,544),oG,(He(!0),Ze(zt,null,yc(o.uploads,u=>(He(),Ze("div",{class:Ft(["mb-4",u.hide_class]),key:u.name},[D("div",{class:Ft(["font-bold text-sm",u.text_class])},[D("i",{class:Ft(u.icon)},null,2),rr(me(u.name),1)],2),D("div",sG,[D("div",{class:Ft(["transition-all",u.variant]),style:hd({width:u.current_progress+"%"})},null,6)])],2))),128))])])])}const uG=Vn(Q5,[["render",aG]]),lG={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},index:{type:Number,required:!0},updateHasChanges:{type:Function}},data(){return{showForm:!1,songSchema:{modified_name:"required",genre:"alpha_spaces",artist:""},initialValues:{modified_name:this.song.modified_name,artist:this.song.artist,genre:this.song.genre},in_submission:!1,show_alert:!1,alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",error_variant:"bg-red-500",success_variant:"bg-[#1ed760]",alert_msg:"",initial_msg:"Please wait! Updating song. ",success_msg:"Success! Your song info was updated."}},methods:{async deleteSong(){this.in_submission=!0,await jN.ref().child(`songs/${this.song.original_name}`).delete().then(()=>{ap.doc(an.currentUser.uid).update({songsCount:$N.increment(-1)}),by.where("songID","==",this.song.docID).get().then(r=>{r.forEach(o=>{o.ref.delete()})})}).catch(()=>{console.error("Error deleting song"),this.in_submission=!1}),await gi.doc(this.song.docID).delete().then(()=>{}).catch(()=>{console.error("Error deleting song"),this.in_submission=!1}),this.removeSong(this.index),this.in_submission=!1},async editSong(e){this.initAlert();try{if(!this.hasChanges(e)){this.show_alert=!1,this.showForm=!1;return}await gi.doc(this.song.docID).update({modified_name:e.modified_name,artist:e.artist??"",genre:e.genre??""})}catch{this.alert_variant=this.error_variant,this.alert_msg="Something went wrong! Try again later.";return}finally{this.in_submission=!1}this.updateSong(this.index,e),this.updateHasChanges(!1),this.alert_variant=this.success_variant,this.alert_msg=this.success_msg,this.show_alert=!1,this.showForm=!1},initAlert(){this.show_alert=!0,this.in_submission=!0,this.alert_variant=this.progress_variant,this.alert_msg=this.initial_msg},hasChanges(e){for(const t in e)if(e[t]!==this.song[t])return this.updateHasChanges(!0),!0;return this.updateHasChanges(!1),!1}}},cG={class:"border border-slate-500 p-3 mb-4 w-full rounded flex justify-between items-center gap-5"},fG={class:"inline-block text-base md:text-2xl lg:text-3xl font-semibold overflow-hidden text-ellipsis whitespace-nowrap"},hG={class:""},dG=["disabled"],pG=D("i",{class:"fa fa-times"},null,-1),mG=[pG],gG=D("i",{class:"fa-solid fa-pen-to-square"},null,-1),vG=[gG],yG={class:"mb-4 w-full"},_G={id:"form-field",class:"mb-3"},bG={class:"inline-block mb-2"},wG={id:"form-field",class:"mb-3"},EG={class:"inline-block mb-2"},TG={id:"form-field",class:"mb-3"},IG={class:"inline-block mb-2"},SG={id:"form-buttons"},AG=["disabled"],kG=["disabled"];function CG(e,t,n,r,o,s){const u=Et("VeeField"),l=Et("ErrorMessage"),c=Et("VeeForm");return He(),Ze("main",null,[ko(D("section",cG,[D("h4",fG,me(n.song.modified_name),1),D("div",hG,[D("button",{class:"ml-1 py-1 px-2 text-sm rounded text-red-600 float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[0]||(t[0]=Zt((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"])),disabled:o.in_submission},mG,8,dG),D("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[1]||(t[1]=d=>o.showForm=!0)},vG)])],512),[[Ch,!o.showForm]]),ko(D("section",yG,[o.show_alert?(He(),Ze("p",{key:0,class:Ft(["text-black text-center font-bold rounded",o.alert_variant])},me(o.alert_msg),3)):zr("",!0),Ae(c,{"validation-schema":o.songSchema,initialValues:o.initialValues,onSubmit:s.editSong},{default:Ht(()=>[D("div",_G,[D("label",bG,me(e.$t("manage.form.titleLabel")),1),Ae(u,{name:"modified_name",label:"Song",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateHasChanges(!0))}),Ae(l,{class:"text-red-600",name:"modified_name"})]),D("div",wG,[D("label",EG,me(e.$t("manage.form.artistLabel")),1),Ae(u,{name:"artist",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Artist",onInput:t[3]||(t[3]=d=>n.updateHasChanges(!0))}),Ae(l,{class:"text-red-600",name:"artist"})]),D("div",TG,[D("label",IG,me(e.$t("manage.form.genreLabel")),1),Ae(u,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[4]||(t[4]=d=>n.updateHasChanges(!0))}),Ae(l,{class:"text-red-600",name:"genre"})]),D("div",SG,[D("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o.in_submission},me(e.$t("manage.form.buttons.save")),9,AG),D("button",{type:"button",class:"ml-2 py-1.5 px-3 rounded text-white bg-gray-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-pointer",onClick:t[5]||(t[5]=Zt(d=>o.showForm=!1,["prevent"])),disabled:o.in_submission},me(e.$t("manage.form.buttons.cancel")),9,kG)])]),_:1},8,["validation-schema","initialValues","onSubmit"])],512),[[Ch,o.showForm]])])}const OG=Vn(lG,[["render",CG]]),NG={name:"Manage",components:{AppUpload:uG,CompositionItem:OG},data(){return{songs:[],hasChanges:!1}},async created(){(await gi.where("uid","==",an.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre,this.songs[e].artist=t.artist},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateHasChanges(e){this.hasChanges=e}},beforeRouteLeave(e,t,n){if(!this.hasChanges)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},PG={class:"view-gradient"},xG={class:"md:grid md:grid-cols-3 md:gap-4 px-20 pt-32 py-1 mb-24"},RG={class:"col-span-2 bg-neutral-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},DG={class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},LG={class:"card-title"},MG=D("i",{class:"fa-solid fa-music float-right text-green-400 text-2xl"},null,-1),FG={class:"p-6"},VG={key:0},UG=D("p",{class:"text-center"},"Playlist empty.",-1),jG=[UG];function $G(e,t,n,r,o,s){const u=Et("AppUpload"),l=Et("CompositionItem");return He(),Ze("main",PG,[D("div",xG,[Ae(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"]),D("section",RG,[D("div",DG,[D("span",LG,me(e.$t("manage.mySongs")+" ("+o.songs.length+")"),1),MG]),D("div",FG,[o.songs.length===0?(He(),Ze("div",VG,jG)):(He(!0),Ze(zt,{key:1},yc(o.songs,(c,d)=>(He(),Co(l,{class:"flex flex-col",key:c.docID,song:c,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateHasChanges:s.updateHasChanges},null,8,["song","updateSong","index","removeSong","updateHasChanges"]))),128))])])])])}const BG=Vn(NG,[["render",$G]]),qG={beforeMount(e,t){rA(e,t)},updated(e,t){rA(e,t)}};function rA(e,t){e.classList=e.className.split(" ").filter(n=>!n.startsWith("fa")).join(" "),e.classList.add("fa",`fa-${t.value.icon}`),t.value.full&&(e.classList="",e.classList.add(t.value)),t.value.button&&e.classList.add("hover:scale-110")}const HG={name:"Song",directives:{"icon-secondary":qG},data(){return{song:{},comments:[],sort:"1",schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"",comment_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",comment_error_variant:"bg-red-500",comment_success_variant:"bg-[#1ed760]",comment_alert_msg:"",initial_msg:"Publishing your comment... ",success_msg:"Your comment has been published."}},computed:{...Ps(Ui,["userLoggedIn"]),...Ps(So,["playing"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.date)-new Date(e.date):new Date(e.date)-new Date(t.date))}},async created(){const e=await gi.doc(this.$route.params.id).get();e.exists||this.$router.push({name:"home"});const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},methods:{...js(So,["play","toggleAudio"]),async publishComment(e,{resetForm:t}){this.initCommentAlert();const n={content:e.comment,date:new Date().toString(),songID:this.$route.params.id,name:an.currentUser.displayName,uid:an.currentUser.uid};await by.add(n),this.song.comment_count+=1,await gi.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant=this.comment_success_variant,this.comment_alert_msg=this.success_msg,t(),setTimeout(()=>{this.comment_show_alert=!1},1e3)},initCommentAlert(){this.comment_show_alert=!0,this.comment_in_submission=!0,this.comment_alert_variant=this.comment_progress_variant,this.comment_alert_msg=this.initial_msg},async getComments(){const e=await by.where("songID","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})},getCommentPublishDate(e){return cc.calculateTimeAgo(e.date)}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},WG={class:"view-gradient"},KG={class:"relative z-10 w-full px-6 pt-40 pb-6 text-white text-center"},GG={class:"container mx-auto flex items-center"},zG={class:"text-[#1ed760] text-8xl bg-black rounded-full"},YG={class:"z-50 text-left px-4"},XG={class:"text-sm font-circular-black"},QG={class:"text-2xl md:text-4xl lg:text-6xl font-circular-black"},JG={class:"text-sm font-circular-black"},ZG={class:"font-circular-thin"},e8={id:"comments",class:"relative z-10 py-5 mb-20 bg-zinc-900 bg-opacity-30 font-circular-thin min-h-[50vh] text-white"},t8={class:"flex flex-col"},n8={class:"px-6 pt-6 pb-5 font-bold border-b border-slate-500"},r8={class:"card-title"},i8=D("i",{class:"fa-regular fa-comment float-right text-2xl"},null,-1),o8={class:"p-6"},s8=["disabled"],a8={value:"1"},u8={value:"2"},l8={class:"z-10 px-6 font-circular-thin min-h-[50vh] text-white"},c8={key:0,class:"p-6 border border-slate-500"},f8={key:0},h8={class:"mb-5"},d8={class:"font-bold"},p8={class:"text-sm"};function m8(e,t,n,r,o,s){const u=Et("VeeField"),l=Et("ErrorMessage"),c=Et("VeeForm"),d=h_("icon-secondary");return He(),Ze("main",WG,[D("section",KG,[D("div",GG,[D("button",{onClick:t[0]||(t[0]=Zt(g=>e.play(o.song),["prevent"])),type:"button"},[ko(D("i",zG,null,512),[[d,{icon:"play-circle",button:!0}]])]),D("div",YG,[D("div",XG,me(e.$t("song.viewTitle")),1),D("div",QG,me(o.song.modified_name),1),D("div",JG,[rr(me(o.song.artist??"Unknown artist")+" ",1),D("span",ZG,me(o.song.genre??"Unknown Genre"),1)])])])]),D("section",e8,[D("section",null,[D("div",t8,[D("div",n8,[D("span",r8,me(e.$tc("song.commentCount",{count:o.song.comment_count})),1),i8]),D("div",o8,[o.comment_show_alert?(He(),Ze("div",{key:0,class:Ft(["text-white text-center p-4 mb-4",o.comment_alert_variant])},me(o.comment_alert_msg),3)):zr("",!0),Ae(c,{"validation-schema":o.schema,onSubmit:s.publishComment},{default:Ht(()=>[Ae(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded mb-4",placeholder:e.$t("song.commentPlaceholder")},null,8,["placeholder"]),Ae(l,{class:"text-red-600",name:"comment"}),D("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission},me(e.$t("song.publish")),9,s8)]),_:1},8,["validation-schema","onSubmit"]),ko(D("select",{class:"block mt-6 py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded","onUpdate:modelValue":t[1]||(t[1]=g=>o.sort=g)},[D("option",a8,me(e.$t("song.latest")),1),D("option",u8,me(e.$t("song.oldest")),1)],512),[[mV,o.sort]])])])]),D("section",null,[D("ul",l8,[o.comments.length===0?(He(),Ze("li",c8,[rr(me(e.$t("song.noComments"))+" ",1),e.userLoggedIn?zr("",!0):(He(),Ze("span",f8," Login or Register to leave a comment."))])):zr("",!0),(He(!0),Ze(zt,null,yc(s.sortedComments,g=>(He(),Ze("li",{class:"p-6 border border-slate-500",key:g.docID},[D("div",h8,[D("div",d8,me(g.name),1),D("time",p8,me(this.getCommentPublishDate(g)),1)]),D("p",null,me(g.content),1)]))),128))])])])])}const g8=Vn(HG,[["render",m8]]);const v8={name:"Error404"},NP=e=>(KM("data-v-56c2fc1e"),e=e(),GM(),e),y8={class:"view-gradient"},_8={class:"flex flex-col gap-5 justify-center items-center pt-32"},b8=NP(()=>D("h1",null,"Melody not found",-1)),w8=NP(()=>D("h4",null,"We didn't found the page you are looking for",-1));function E8(e,t,n,r,o,s){const u=Et("RouterLink"),l=h_("icon");return He(),Ze("main",y8,[D("div",_8,[b8,w8,Ae(u,{to:{name:"home"}},{default:Ht(()=>[rr("Take me home! "),ko(D("i",null,null,512),[[l,"house"]])]),_:1})])])}const T8=Vn(v8,[["render",E8],["__scopeId","data-v-56c2fc1e"]]),I8=[{name:"auth",path:"/auth",component:H5},{name:"home",path:"/",component:DK,meta:{requiresAuth:!0}},{name:"about",path:"/about",component:X5},{name:"manage",path:"/manage/music",component:BG,meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:g8,meta:{requiresAuth:!0}},{name:"error",path:"/:catchAll(.*)*",component:T8}],PP=B6({history:s6("/musicfy/"),routes:I8,linkExactActiveClass:"text-green-600"});PP.beforeEach((e,t,n)=>{const r=e.meta.requiresAuth,o=Ui();if(!r||o.userLoggedIn){n();return}else n({name:"auth"})});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function _n(e){return typeof e=="function"}function xP(e){return e==null}const Us=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Qb(e){return Number(e)>=0}function S8(e){const t=parseFloat(e);return isNaN(t)?e:t}function A8(e){return typeof e=="object"&&e!==null}function k8(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function C8(e){if(!A8(e)||k8(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function id(e,t){return Object.keys(t).forEach(n=>{if(C8(t[n])){e[n]||(e[n]={}),id(e[n],t[n]);return}e[n]=t[n]}),e}function bl(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(Qb(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const RP={};function gr(e,t){N8(e,t),RP[e]=t}function O8(e){return RP[e]}function N8(e,t){if(!_n(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function iA(e,t,n){typeof n.value=="object"&&(n.value=At(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function At(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(At(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,l){o.set(At(l),At(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(At(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)iA(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||iA(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const hp=Symbol("vee-validate-form"),P8=Symbol("vee-validate-field-instance"),od=Symbol("Default empty value"),x8=typeof window<"u";function By(e){return _n(e)&&!!e.__locatorRef}function Ro(e){return!!e&&_n(e.parse)&&e.__type==="VVTypedSchema"}function sd(e){return!!e&&_n(e.validate)}function jc(e){return e==="checkbox"||e==="radio"}function R8(e){return Us(e)||Array.isArray(e)}function D8(e){return Array.isArray(e)?e.length===0:Us(e)&&Object.keys(e).length===0}function dp(e){return/^\[.+\]$/i.test(e)}function L8(e){return DP(e)&&e.multiple}function DP(e){return e.tagName==="SELECT"}function M8(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function F8(e,t){return!M8(e,t)&&t.type!=="file"&&!jc(t.type)}function LP(e){return Jb(e)&&e.target&&"submit"in e.target}function Jb(e){return e?!!(typeof Event<"u"&&_n(Event)&&e instanceof Event||e&&e.srcElement):!1}function oA(e,t){return t in e&&e[t]!==od}function Xn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Xn(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Xn(r[1],t.get(r[0])))return!1;return!0}if(sA(e)&&sA(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,r=n;r--!==0;){var s=o[r];if(!Xn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function sA(e){return x8?e instanceof File:!1}function Zb(e){return dp(e)?e.replace(/\[|\]/gi,""):e}function or(e,t,n){return e?dp(t)?e[Zb(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>R8(o)&&s in o?o[s]:n,e):n}function ps(e,t,n){if(dp(t)){e[Zb(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||xP(o[r[s]]))&&(o[r[s]]=Qb(r[s+1])?[]:{}),o=o[r[s]]}}function Iv(e,t){if(Array.isArray(e)&&Qb(t)){e.splice(Number(t),1);return}Us(e)&&delete e[t]}function aA(e,t){if(dp(t)){delete e[Zb(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Iv(r,n[s]);break}if(!(n[s]in r)||xP(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>or(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(D8(o[s])){if(s===0){Iv(e,n[0]);continue}Iv(o[s-1],n[s-1])}}function Pr(e){return Object.keys(e)}function MP(e,t=void 0){const n=Jr();return(n==null?void 0:n.provides[e])||Tr(e,t)}function uA(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Xn(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Xn(e,t)?n:t}function lA(e,t=0){let n=null,r=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function V8(e,t){return Us(t)&&t.number?S8(e):e}function qy(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function Hy(e){return Array.isArray(e)?e:e?[e]:[]}function pl(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function U8(e){let t=null,n=[];return function(...r){const o=qr(()=>{if(t!==o)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}function e0(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default}function Sv(e){if(FP(e))return e._value}function FP(e){return"_value"in e}function j8(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function ad(e){if(!Jb(e))return e;const t=e.target;if(jc(t.type)&&FP(t))return Sv(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(L8(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Sv);if(DP(t)){const n=Array.from(t.options).find(r=>r.selected);return n?Sv(n):t.value}return j8(t)}function VP(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Us(e)&&e._$$isNormalized?e:Us(e)?Object.keys(e).reduce((n,r)=>{const o=$8(e[r]);return e[r]!==!1&&(n[r]=cA(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=B8(r);return o.name&&(n[o.name]=cA(o.params)),n},t):t}function $8(e){return e===!0?[]:Array.isArray(e)||Us(e)?e:[e]}function cA(e){const t=n=>typeof n=="string"&&n[0]==="@"?q8(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const B8=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function q8(e){const t=n=>or(n,e)||n[e];return t.__locatorRef=e,t}function H8(e){return Array.isArray(e)?e.filter(By):Pr(e).filter(t=>By(e[t])).map(t=>e[t])}const W8={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Wy=Object.assign({},W8);const yo=()=>Wy,K8=e=>{Wy=Object.assign(Object.assign({},Wy),e)},G8=K8;async function UP(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},u=(await z8(o,e)).errors;return{errors:u,valid:!u.length}}async function z8(e,t){if(Ro(e.rules)||sd(e.rules))return X8(t,e.rules);if(_n(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],c=l.length,d=[];for(let g=0;g<c;g++){const h=l[g],p=await h(t,u);if(!(typeof p!="string"&&!Array.isArray(p)&&p)){if(Array.isArray(p))d.push(...p);else{const _=typeof p=="string"?p:$P(u);d.push(_)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:VP(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const l=o[u],c=await Q8(n,t,{name:l,params:n.rules[l]});if(c.error&&(r.push(c.error),e.bails))return{errors:r}}return{errors:r}}function Y8(e){return!!e&&e.name==="ValidationError"}function jP(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!Y8(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,l)=>{const c=l.path||"";return u[c]||(u[c]={errors:[],path:c}),u[c].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function X8(e,t){const r=await(Ro(t)?t:jP(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function Q8(e,t,n){const r=O8(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=J8(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:$P(s)}}function $P(e){const t=yo().generateMessage;return t?t(e):"Field is invalid"}function J8(e,t){const n=r=>By(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function Z8(e,t){const r=await(Ro(e)?e:jP(e)).parse(At(t)),o={},s={};for(const u of r.errors){const l=u.errors,c=(u.path||"").replace(/\["(\d+)"\]/g,(d,g)=>`[${g}]`);o[c]={valid:!l.length,errors:l},l.length&&(s[c]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function ez(e,t,n){const o=Pr(e).map(async d=>{var g,h,p;const v=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d],_=await UP(or(t,d),e[d],{name:(v==null?void 0:v.name)||d,label:v==null?void 0:v.label,values:t,bails:(p=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&p!==void 0?p:!0});return Object.assign(Object.assign({},_),{path:d})});let s=!0;const u=await Promise.all(o),l={},c={};for(const d of u)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,c[d.path]=d.errors[0]);return{valid:s,results:l,errors:c}}let fA=0;function tz(e,t){const{value:n,initialValue:r,setInitialValue:o}=nz(e,t.modelValue,t.form);if(!t.form){let p=function(_){var w;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(h.touched=(w=_.touched)!==null&&w!==void 0?w:h.touched),"initialValue"in _&&o(_.initialValue)};var l=p;const{errors:c,setErrors:d}=oz(),g=fA>=Number.MAX_SAFE_INTEGER?0:++fA,h=iz(n,r,c);return{id:g,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:c,setState:p}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=Ve(()=>s.errors);function l(c){var d,g,h;"value"in c&&(n.value=c.value),"errors"in c&&((d=t.form)===null||d===void 0||d.setFieldError(st(e),c.errors)),"touched"in c&&((g=t.form)===null||g===void 0||g.setFieldTouched(st(e),(h=c.touched)!==null&&h!==void 0?h:!1)),"initialValue"in c&&o(c.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:l}}function nz(e,t,n){const r=bt(st(t));function o(){return n?or(n.initialValues.value,st(e),st(r)):st(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(st(e),d,!0)}const u=Ve(o);if(!n)return{value:bt(o()),initialValue:u,setInitialValue:s};const l=rz(t,n,u,e);return n.stageInitialValue(st(e),l,!0),{value:Ve({get(){return or(n.values,st(e))},set(d){n.setFieldValue(st(e),d,!1)}}),initialValue:u,setInitialValue:s}}function rz(e,t,n,r){return wt(e)?st(e):e!==void 0?e:or(t.values,st(r),st(n))}function iz(e,t,n){const r=yi({touched:!1,pending:!1,valid:!0,validated:!!st(n).length,initialValue:Ve(()=>st(t)),dirty:Ve(()=>!Xn(st(e),st(t)))});return wn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function oz(){const e=bt([]);return{errors:e,setErrors:t=>{e.value=Hy(t)}}}function sz(e,t,n){return jc(n==null?void 0:n.type)?uz(e,t,n):BP(e,t,n)}function BP(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:l,label:c,validateOnValueUpdate:d,uncheckedValue:g,controlled:h,keepValueOnUnmount:p,syncVModel:v,form:_}=az(n),w=h?MP(hp):void 0,S=_||w,b=Ve(()=>bl(Ut(e))),k=Ve(()=>{if(Ut(S==null?void 0:S.schema))return;const be=st(t);return sd(be)||Ro(be)||_n(be)||Array.isArray(be)?be:VP(be)}),{id:R,value:C,initialValue:U,meta:L,setState:B,errors:$,flags:H}=tz(b,{modelValue:r,form:S,bails:s,label:c,type:u,validate:k.value?Be:void 0}),N=Ve(()=>$.value[0]);v&&lz({value:C,prop:v,handleChange:ce,shouldValidate:()=>d&&!H.pendingReset});const ke=(ye,be=!1)=>{L.touched=!0,be&&Ee()};async function ne(ye){var be,W;return S!=null&&S.validateSchema?(be=(await S.validateSchema(ye)).results[Ut(b)])!==null&&be!==void 0?be:{valid:!0,errors:[]}:k.value?UP(C.value,k.value,{name:Ut(b),label:Ut(c),values:(W=S==null?void 0:S.values)!==null&&W!==void 0?W:{},bails:s}):{valid:!0,errors:[]}}const Ee=qy(async()=>(L.pending=!0,L.validated=!0,ne("validated-only")),ye=>{if(!H.pendingUnmount[ht.id])return B({errors:ye.errors}),L.pending=!1,L.valid=ye.valid,ye}),Re=qy(async()=>ne("silent"),ye=>(L.valid=ye.valid,ye));function Be(ye){return(ye==null?void 0:ye.mode)==="silent"?Re():Ee()}function ce(ye,be=!0){const W=ad(ye);mt(W,be)}du(()=>{if(o)return Ee();(!S||!S.validateSchema)&&Re()});function Fe(ye){L.touched=ye}function ve(ye){var be;const W=ye&&"value"in ye?ye.value:U.value;B({value:At(W),initialValue:At(W),touched:(be=ye==null?void 0:ye.touched)!==null&&be!==void 0?be:!1,errors:(ye==null?void 0:ye.errors)||[]}),L.pending=!1,L.validated=!1,Re()}const et=Jr();function mt(ye,be=!0){C.value=et&&v?V8(ye,et.props.modelModifiers):ye,(be?Ee:Re)()}function Ct(ye){B({errors:Array.isArray(ye)?ye:[ye]})}const St=Ve({get(){return C.value},set(ye){mt(ye,d)}}),ht={id:R,name:b,label:c,value:St,meta:L,errors:$,errorMessage:N,type:u,checkedValue:l,uncheckedValue:g,bails:s,keepValueOnUnmount:p,resetField:ve,handleReset:()=>ve(),validate:Be,handleChange:ce,handleBlur:ke,setState:B,setTouched:Fe,setErrors:Ct,setValue:mt};if(La(P8,ht),wt(t)&&typeof st(t)!="function"&&wn(t,(ye,be)=>{Xn(ye,be)||(L.validated?Ee():Re())},{deep:!0}),!S)return ht;const Xt=Ve(()=>{const ye=k.value;return!ye||_n(ye)||sd(ye)||Ro(ye)||Array.isArray(ye)?{}:Object.keys(ye).reduce((be,W)=>{const Y=H8(ye[W]).map(se=>se.__locatorRef).reduce((se,he)=>{const De=or(S.values,he)||S.values[he];return De!==void 0&&(se[he]=De),se},{});return Object.assign(be,Y),be},{})});return wn(Xt,(ye,be)=>{if(!Object.keys(ye).length)return;!Xn(ye,be)&&(L.validated?Ee():Re())}),l_(()=>{var ye;const be=(ye=Ut(ht.keepValueOnUnmount))!==null&&ye!==void 0?ye:Ut(S.keepValuesOnUnmount),W=Ut(b);if(be||!S||H.pendingUnmount[ht.id]){S==null||S.removePathState(W,R);return}H.pendingUnmount[ht.id]=!0;const Y=S.getPathState(W);if(Array.isArray(Y==null?void 0:Y.id)&&(Y!=null&&Y.multiple)?Y!=null&&Y.id.includes(ht.id):(Y==null?void 0:Y.id)===ht.id){if(Y!=null&&Y.multiple&&Array.isArray(Y.value)){const he=Y.value.findIndex(De=>Xn(De,Ut(ht.checkedValue)));if(he>-1){const De=[...Y.value];De.splice(he,1),S.setFieldValue(W,De)}Array.isArray(Y.id)&&Y.id.splice(Y.id.indexOf(ht.id),1)}else S.unsetPathValue(Ut(b));S.removePathState(W,R)}}),ht}function az(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?Ky(Jr(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s,syncVModel:l})}function uz(e,t,n){const r=n!=null&&n.standalone?void 0:MP(hp),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const c=l.handleChange,d=Ve(()=>{const h=Ut(l.value),p=Ut(o);return Array.isArray(h)?h.findIndex(v=>Xn(v,p))>=0:Xn(p,h)});function g(h,p=!0){var v,_;if(d.value===((v=h==null?void 0:h.target)===null||v===void 0?void 0:v.checked)){p&&l.validate();return}const w=Ut(e),S=r==null?void 0:r.getPathState(w),b=ad(h);let k=(_=Ut(o))!==null&&_!==void 0?_:b;r&&(S!=null&&S.multiple)&&S.type==="checkbox"?k=uA(or(r.values,w)||[],k,void 0):(n==null?void 0:n.type)==="checkbox"&&(k=uA(Ut(l.value),k,Ut(s))),c(k,p)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(BP(e,t,n))}function lz({prop:e,value:t,handleChange:n,shouldValidate:r}){const o=Jr();if(!o||!e)return;const s=typeof e=="string"?e:"modelValue",u=`update:${s}`;s in o.props&&(wn(t,l=>{Xn(l,Ky(o,s))||o.emit(u,l)}),wn(()=>Ky(o,s),l=>{if(l===od&&t.value===void 0)return;const c=l===od?void 0:l;Xn(c,t.value)||n(c,r())}))}function Ky(e,t){if(e)return e.props[t]}const cz=Do({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>yo().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:od},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=fo(e,"rules"),r=fo(e,"name"),o=fo(e,"label"),s=fo(e,"uncheckedValue"),u=fo(e,"keepValue"),{errors:l,value:c,errorMessage:d,validate:g,handleChange:h,handleBlur:p,setTouched:v,resetField:_,handleReset:w,meta:S,checked:b,setErrors:k}=sz(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:hz(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),R=function(H,N=!0){h(H,N)},C=Ve(()=>{const{validateOnInput:$,validateOnChange:H,validateOnBlur:N,validateOnModelUpdate:ke}=fz(e);function ne(ce){p(ce,N),_n(t.attrs.onBlur)&&t.attrs.onBlur(ce)}function Ee(ce){R(ce,$),_n(t.attrs.onInput)&&t.attrs.onInput(ce)}function Re(ce){R(ce,H),_n(t.attrs.onChange)&&t.attrs.onChange(ce)}const Be={name:e.name,onBlur:ne,onInput:Ee,onChange:Re};return Be["onUpdate:modelValue"]=ce=>R(ce,ke),Be}),U=Ve(()=>{const $=Object.assign({},C.value);jc(t.attrs.type)&&b&&($.checked=b.value);const H=hA(e,t);return F8(H,t.attrs)&&($.value=c.value),$}),L=Ve(()=>Object.assign(Object.assign({},C.value),{modelValue:c.value}));function B(){return{field:U.value,componentField:L.value,value:c.value,meta:S,errors:l.value,errorMessage:d.value,validate:g,resetField:_,handleChange:R,handleInput:$=>R($,!1),handleReset:w,handleBlur:C.value.onBlur,setTouched:v,setErrors:k}}return t.expose({setErrors:k,setTouched:v,reset:_,validate:g,handleChange:h}),()=>{const $=Ed(hA(e,t)),H=e0($,t,B);return $?Fi($,Object.assign(Object.assign({},t.attrs),U.value),H):H}}});function hA(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function fz(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:c}=yo();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:c}}function hz(e,t){return jc(t.attrs.type)?oA(e,"modelValue")?e.modelValue:void 0:oA(e,"modelValue")?e.modelValue:t.attrs.value}const dz=cz;let pz=0;const ml=["bails","fieldsCount","id","multiple","type","validate"];function qP(e){const t=st(e==null?void 0:e.initialValues)||{},n=st(e==null?void 0:e.validationSchema);return n&&Ro(n)&&_n(n.cast)?At(n.cast(t)||{}):At(t)}function mz(e){var t;const n=pz++;let r=0;const o=bt(!1),s=bt(!1),u=bt(0),l=[],c=yi(qP(e)),d=bt([]),g=bt({}),h=bt({}),p=U8(()=>{h.value=d.value.reduce((V,F)=>(V[bl(Ut(F.path))]=F,V),{})});function v(V,F){const X=ce(V);if(!X){typeof V=="string"&&(g.value[bl(V)]=Hy(F));return}if(typeof V=="string"){const de=bl(V);g.value[de]&&delete g.value[de]}X.errors=Hy(F),X.valid=!X.errors.length}function _(V){Pr(V).forEach(F=>{v(F,V[F])})}e!=null&&e.initialErrors&&_(e.initialErrors);const w=Ve(()=>{const V=d.value.reduce((F,X)=>(X.errors.length&&(F[X.path]=X.errors),F),{});return Object.assign(Object.assign({},g.value),V)}),S=Ve(()=>Pr(w.value).reduce((V,F)=>{const X=w.value[F];return X!=null&&X.length&&(V[F]=X[0]),V},{})),b=Ve(()=>d.value.reduce((V,F)=>(V[F.path]={name:F.path||"",label:F.label||""},V),{})),k=Ve(()=>d.value.reduce((V,F)=>{var X;return V[F.path]=(X=F.bails)!==null&&X!==void 0?X:!0,V},{})),R=Object.assign({},(e==null?void 0:e.initialErrors)||{}),C=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:U,originalInitialValues:L,setInitialValues:B}=vz(d,c,e),$=gz(d,c,L,S),H=Ve(()=>d.value.reduce((V,F)=>{const X=or(c,F.path);return ps(V,F.path,X),V},{})),N=e==null?void 0:e.validationSchema;function ke(V,F){var X,de;const Te=Ve(()=>or(U.value,Ut(V))),je=h.value[Ut(V)];if(je){((F==null?void 0:F.type)==="checkbox"||(F==null?void 0:F.type)==="radio")&&(je.multiple=!0);const An=r++;return Array.isArray(je.id)?je.id.push(An):je.id=[je.id,An],je.fieldsCount++,je.__flags.pendingUnmount[An]=!1,je}const Qe=Ve(()=>or(c,Ut(V))),qe=Ut(V),Ye=r++,Ke=yi({id:Ye,path:V,touched:!1,pending:!1,valid:!0,validated:!!(!((X=R[qe])===null||X===void 0)&&X.length),initialValue:Te,errors:o_([]),bails:(de=F==null?void 0:F.bails)!==null&&de!==void 0?de:!1,label:F==null?void 0:F.label,type:(F==null?void 0:F.type)||"default",value:Qe,multiple:!1,__flags:{pendingUnmount:{[Ye]:!1},pendingReset:!1},fieldsCount:1,validate:F==null?void 0:F.validate,dirty:Ve(()=>!Xn(st(Qe),st(Te)))});return d.value.push(Ke),h.value[qe]=Ke,p(),S.value[qe]&&!R[qe]&&qr(()=>{oe(qe,{mode:"silent"})}),wt(V)&&wn(V,An=>{p();const kn=At(Qe.value);h.value[An]=Ke,qr(()=>{ps(c,An,kn)})}),Ke}const ne=lA(j,5),Ee=lA(j,5),Re=qy(async V=>await V==="silent"?ne():Ee(),(V,[F])=>{const X=Pr(be.errorBag.value);return[...new Set([...Pr(V.results),...d.value.map(Te=>Te.path),...X])].sort().reduce((Te,je)=>{const Qe=je,qe=ce(Qe)||Fe(Qe),Ye=(V.results[Qe]||{errors:[]}).errors,Ke={errors:Ye,valid:!Ye.length};return Te.results[Qe]=Ke,Ke.valid||(Te.errors[Qe]=Ke.errors[0]),qe&&g.value[Qe]&&delete g.value[Qe],qe?(qe.valid=Ke.valid,F==="silent"||F==="validated-only"&&!qe.validated||v(qe,Ke.errors),Te):(v(Qe,Ye),Te)},{valid:V.valid,results:{},errors:{}})});function Be(V){d.value.forEach(V)}function ce(V){const F=typeof V=="string"?bl(V):V;return typeof F=="string"?h.value[F]:F}function Fe(V){return d.value.filter(X=>V.startsWith(X.path)).reduce((X,de)=>X?de.path.length>X.path.length?de:X:de,void 0)}let ve=[],et;function mt(V){return ve.push(V),et||(et=qr(()=>{[...ve].sort().reverse().forEach(X=>{aA(c,X)}),ve=[],et=null})),et}function Ct(V){return function(X,de){return function(je){return je instanceof Event&&(je.preventDefault(),je.stopPropagation()),Be(Qe=>Qe.touched=!0),o.value=!0,u.value++,ee().then(Qe=>{const qe=At(c);if(Qe.valid&&typeof X=="function"){const Ye=At(H.value);let Ke=V?Ye:qe;return Qe.values&&(Ke=Qe.values),X(Ke,{evt:je,controlledValues:Ye,setErrors:_,setFieldError:v,setTouched:M,setFieldTouched:P,setValues:se,setFieldValue:W,resetForm:J,resetField:q})}!Qe.valid&&typeof de=="function"&&de({values:qe,evt:je,errors:Qe.errors,results:Qe.results})}).then(Qe=>(o.value=!1,Qe),Qe=>{throw o.value=!1,Qe})}}}const ht=Ct(!1);ht.withControlled=Ct(!0);function Xt(V,F){const X=d.value.findIndex(Te=>Te.path===V),de=d.value[X];if(!(X===-1||!de)){if(qr(()=>{oe(V,{mode:"silent",warn:!1})}),de.multiple&&de.fieldsCount&&de.fieldsCount--,Array.isArray(de.id)){const Te=de.id.indexOf(F);Te>=0&&de.id.splice(Te,1),delete de.__flags.pendingUnmount[F]}(!de.multiple||de.fieldsCount<=0)&&(d.value.splice(X,1),re(V),p(),delete h.value[V])}}function ye(V){return Be(F=>{F.path.startsWith(V)&&Pr(F.__flags.pendingUnmount).forEach(X=>{F.__flags.pendingUnmount[X]=!0})})}const be={formId:n,values:c,controlledValues:H,errorBag:w,errors:S,schema:N,submitCount:u,meta:$,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:C,validateSchema:st(N)?Re:void 0,validate:ee,setFieldError:v,validateField:oe,setFieldValue:W,setValues:se,setErrors:_,setFieldTouched:P,setTouched:M,resetForm:J,resetField:q,handleSubmit:ht,stageInitialValue:Ce,unsetInitialValue:re,setFieldInitialValue:ue,useFieldModel:De,createPathState:ke,getPathState:ce,unsetPathValue:mt,removePathState:Xt,initialValues:U,getAllPathStates:()=>d.value,markForUnmount:ye,isFieldTouched:I,isFieldDirty:T,isFieldValid:O};function W(V,F,X=!0){const de=At(F),Te=typeof V=="string"?V:V.path;ce(Te)||ke(Te),ps(c,Te,de),X&&oe(Te)}function Y(V,F=!0){Pr(c).forEach(X=>{delete c[X]}),Pr(V).forEach(X=>{W(X,V[X],!1)}),F&&ee()}function se(V,F=!0){id(c,V),l.forEach(X=>X&&X.reset()),F&&ee()}function he(V){const F=ce(st(V))||ke(V);return Ve({get(){return F.value},set(X){const de=st(V);W(de,X,!1),F.validated=!0,F.pending=!0,oe(de).then(()=>{F.pending=!1})}})}function De(V){return Array.isArray(V)?V.map(he):he(V)}function P(V,F){const X=ce(V);X&&(X.touched=F)}function I(V){var F;return!!(!((F=ce(V))===null||F===void 0)&&F.touched)}function T(V){var F;return!!(!((F=ce(V))===null||F===void 0)&&F.dirty)}function O(V){var F;return!!(!((F=ce(V))===null||F===void 0)&&F.valid)}function M(V){if(typeof V=="boolean"){Be(F=>{F.touched=V});return}Pr(V).forEach(F=>{P(F,!!V[F])})}function q(V,F){var X;const de=F&&"value"in F?F.value:or(U.value,V),Te=ce(V);Te&&(Te.__flags.pendingReset=!0),ue(V,At(de)),W(V,de,!1),P(V,(X=F==null?void 0:F.touched)!==null&&X!==void 0?X:!1),v(V,(F==null?void 0:F.errors)||[]),qr(()=>{Te&&(Te.__flags.pendingReset=!1)})}function J(V,F){let X=V!=null&&V.values?V.values:L.value;X=Ro(N)&&_n(N.cast)?N.cast(X):X,B(X),Be(de=>{var Te;de.__flags.pendingReset=!0,de.validated=!1,de.touched=((Te=V==null?void 0:V.touched)===null||Te===void 0?void 0:Te[de.path])||!1,W(de.path,or(X,de.path),!1),v(de.path,void 0)}),F!=null&&F.force?Y(X,!1):se(X,!1),_((V==null?void 0:V.errors)||{}),u.value=(V==null?void 0:V.submitCount)||0,qr(()=>{ee({mode:"silent"}),Be(de=>{de.__flags.pendingReset=!1})})}async function ee(V){const F=(V==null?void 0:V.mode)||"force";if(F==="force"&&Be(je=>je.validated=!0),be.validateSchema)return be.validateSchema(F);s.value=!0;const X=await Promise.all(d.value.map(je=>je.validate?je.validate(V).then(Qe=>({key:je.path,valid:Qe.valid,errors:Qe.errors})):Promise.resolve({key:je.path,valid:!0,errors:[]})));s.value=!1;const de={},Te={};for(const je of X)de[je.key]={valid:je.valid,errors:je.errors},je.errors.length&&(Te[je.key]=je.errors[0]);return{valid:X.every(je=>je.valid),results:de,errors:Te}}async function oe(V,F){var X;const de=ce(V);if(de&&(F==null?void 0:F.mode)!=="silent"&&(de.validated=!0),N){const{results:Te}=await Re((F==null?void 0:F.mode)||"validated-only");return Te[V]||{errors:[],valid:!0}}return de!=null&&de.validate?de.validate(F):(!de&&(X=F==null?void 0:F.warn),Promise.resolve({errors:[],valid:!0}))}function re(V){aA(U.value,V)}function Ce(V,F,X=!1){ue(V,F),ps(c,V,F),X&&!(e!=null&&e.initialValues)&&ps(L.value,V,At(F))}function ue(V,F){ps(U.value,V,At(F))}async function j(){const V=st(N);if(!V)return{valid:!0,results:{},errors:{}};s.value=!0;const F=sd(V)||Ro(V)?await Z8(V,c):await ez(V,c,{names:b.value,bailsMap:k.value});return s.value=!1,F}const G=ht((V,{evt:F})=>{LP(F)&&F.target.submit()});du(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&M(e.initialTouched),e!=null&&e.validateOnMount){ee();return}be.validateSchema&&be.validateSchema("silent")}),wt(N)&&wn(N,()=>{var V;(V=be.validateSchema)===null||V===void 0||V.call(be,"validated-only")}),La(hp,be);function _e(V,F){const X=ce(Ut(V))||ke(V),de=()=>_n(F)?F(pl(X,ml)):F||{};function Te(){var qe;X.touched=!0,((qe=de().validateOnBlur)!==null&&qe!==void 0?qe:yo().validateOnBlur)&&oe(X.path)}function je(qe){var Ye;const Ke=(Ye=de().validateOnModelUpdate)!==null&&Ye!==void 0?Ye:yo().validateOnModelUpdate;W(X.path,qe,Ke)}return Ve(()=>{if(_n(F)){const Ke=F(X),An=Ke.model||"modelValue";return Object.assign({onBlur:Te,[An]:X.value,[`onUpdate:${An}`]:je},Ke.props||{})}const qe=(F==null?void 0:F.model)||"modelValue",Ye={onBlur:Te,[qe]:X.value,[`onUpdate:${qe}`]:je};return F!=null&&F.mapProps?Object.assign(Object.assign({},Ye),F.mapProps(pl(X,ml))):Ye})}function fe(V,F){const X=ce(Ut(V))||ke(V),de=()=>_n(F)?F(pl(X,ml)):F||{};function Te(){var Ye;X.touched=!0,((Ye=de().validateOnBlur)!==null&&Ye!==void 0?Ye:yo().validateOnBlur)&&oe(X.path)}function je(Ye){var Ke;const An=ad(Ye),kn=(Ke=de().validateOnInput)!==null&&Ke!==void 0?Ke:yo().validateOnInput;W(X.path,An,kn)}function Qe(Ye){var Ke;const An=ad(Ye),kn=(Ke=de().validateOnChange)!==null&&Ke!==void 0?Ke:yo().validateOnChange;W(X.path,An,kn)}return Ve(()=>{const Ye={value:X.value,onChange:Qe,onInput:je,onBlur:Te};return _n(F)?Object.assign(Object.assign({},Ye),F(pl(X,ml)).attrs||{}):F!=null&&F.mapAttrs?Object.assign(Object.assign({},Ye),F.mapAttrs(pl(X,ml))):Ye})}return Object.assign(Object.assign({},be),{values:md(c),handleReset:()=>J(),submitForm:G,defineComponentBinds:_e,defineInputBinds:fe})}function gz(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=Ve(()=>!Xn(t,st(n)));function u(){const c=e.value;return Pr(o).reduce((d,g)=>{const h=o[g];return d[g]=c[h](p=>p[g]),d},{})}const l=yi(u());return eF(()=>{const c=u();l.touched=c.touched,l.valid=c.valid,l.pending=c.pending}),Ve(()=>Object.assign(Object.assign({initialValues:st(n)},l),{valid:l.valid&&!Pr(r.value).length,dirty:s.value}))}function vz(e,t,n){const r=qP(n),o=n==null?void 0:n.initialValues,s=bt(r),u=bt(At(r));function l(c,d=!1){s.value=id(At(s.value)||{},At(c)),u.value=id(At(u.value)||{},At(c)),d&&e.value.forEach(g=>{if(g.touched)return;const p=or(s.value,g.path);ps(t,g.path,At(p))})}return wt(o)&&wn(o,c=>{c&&l(c,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:l}}const yz=Do({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=fo(e,"initialValues"),r=fo(e,"validationSchema"),o=fo(e,"keepValues"),{errors:s,errorBag:u,values:l,meta:c,isSubmitting:d,isValidating:g,submitCount:h,controlledValues:p,validate:v,validateField:_,handleReset:w,resetForm:S,handleSubmit:b,setErrors:k,setFieldError:R,setFieldValue:C,setValues:U,setFieldTouched:L,setTouched:B,resetField:$}=mz({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),H=b((Fe,{evt:ve})=>{LP(ve)&&ve.target.submit()},e.onInvalidSubmit),N=e.onSubmit?b(e.onSubmit,e.onInvalidSubmit):H;function ke(Fe){Jb(Fe)&&Fe.preventDefault(),w(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function ne(Fe,ve){return b(typeof Fe=="function"&&!ve?Fe:ve,e.onInvalidSubmit)(Fe)}function Ee(){return At(l)}function Re(){return At(c.value)}function Be(){return At(s.value)}function ce(){return{meta:c.value,errors:s.value,errorBag:u.value,values:l,isSubmitting:d.value,isValidating:g.value,submitCount:h.value,controlledValues:p.value,validate:v,validateField:_,handleSubmit:ne,handleReset:w,submitForm:H,setErrors:k,setFieldError:R,setFieldValue:C,setValues:U,setFieldTouched:L,setTouched:B,resetForm:S,resetField:$,getValues:Ee,getMeta:Re,getErrors:Be}}return t.expose({setFieldError:R,setErrors:k,setFieldValue:C,setValues:U,setFieldTouched:L,setTouched:B,resetForm:S,validate:v,validateField:_,resetField:$,getValues:Ee,getMeta:Re,getErrors:Be}),function(){const ve=e.as==="form"?e.as:e.as?Ed(e.as):null,et=e0(ve,t,ce);return ve?Fi(ve,Object.assign(Object.assign(Object.assign({},ve==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:N,onReset:ke}),et):et}}}),_z=yz,bz=Do({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=Tr(hp,void 0),r=Ve(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?Ed(e.as):e.as,u=e0(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?Fi(s||"span",l,r.value):Fi(s,l,u)}}}),wz=bz;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const ch={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},Ez=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Iu(e,t){return Array.isArray(e)?e[0]:e[t]}function qi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const HP=(e,t)=>{if(qi(e))return!0;const n=Ez(t);if(Array.isArray(e))return e.every(o=>HP(o,{locale:n}));const r=String(e);return n?(ch[n]||ch.en).test(r):Object.keys(ch).some(o=>ch[o].test(r))},Tz=(e,t)=>{const n=Iu(t,"target");return String(e)===String(n)},WP=(e,t)=>{if(qi(e))return!0;const n=Iu(t,"length");if(Array.isArray(e))return e.every(o=>WP(o,{length:n}));const r=String(e);return/^[0-9]*$/.test(r)&&r.length===Number(n)},Iz=e=>{if(qi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function Sz(e){return e==null}function Az(e){return Array.isArray(e)&&e.length===0}const KP=(e,t)=>{if(qi(e))return!0;const n=Iu(t,"length");return Array.isArray(e)?e.every(r=>KP(r,{length:n})):[...String(e)].length<=Number(n)},GP=(e,t)=>{if(qi(e))return!0;const n=Iu(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>GP(r,{max:n})):Number(e)<=Number(n)},zP=(e,t)=>{if(qi(e))return!0;const n=Iu(t,"length");return Array.isArray(e)?e.every(r=>zP(r,{length:n})):[...String(e)].length>=Number(n)},YP=(e,t)=>{if(qi(e))return!0;const n=Iu(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>YP(r,{min:n})):Number(e)>=Number(n)},XP=(e,t)=>qi(e)?!0:Array.isArray(e)?e.every(n=>XP(n,t)):Array.from(t).some(n=>n==e),dA=(e,t)=>qi(e)?!0:!XP(e,t),pA=e=>Sz(e)||Az(e)||e===!1?!1:!!String(e).trim().length;function kz(e,t){const n=t[0],r=new Date(e),o=new Date;return o.setFullYear(o.getFullYear()-n),r.getTime()<=o.getTime()}const Cz={install(e){e.component("VeeForm",_z),e.component("VeeField",dz),e.component("ErrorMessage",wz),gr("required",pA),gr("tos",pA),gr("min",zP),gr("max",KP),gr("alpha_spaces",HP),gr("email",Iz),gr("min_value",YP),gr("max_value",GP),gr("passwords_missmatch",Tz),gr("excluded",dA),gr("country_excluded",dA),gr("digits",WP),gr("minAge",kz),G8({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} must have at least ${t.rule.params} characters.`,max:`The field ${t.field} maximun length is ${t.rule.params}.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} can't be under ${t.rule.params}.`,max_value:`The field ${t.field} can't be above ${t.rule.params}.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${t.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${t.field} must be a valid phone number (012345678)`,minAge:`You must be at least ${t.rule.params} years old`};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};var Nn={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Av(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){Oz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oz(e,t,n){return t=Nz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nz(e){var t=Pz(e,"string");return gc(t)==="symbol"?t:String(t)}function Pz(e,t){if(gc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(gc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gA={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[Nn.STARTS_WITH,Nn.CONTAINS,Nn.NOT_CONTAINS,Nn.ENDS_WITH,Nn.EQUALS,Nn.NOT_EQUALS],numeric:[Nn.EQUALS,Nn.NOT_EQUALS,Nn.LESS_THAN,Nn.LESS_THAN_OR_EQUAL_TO,Nn.GREATER_THAN,Nn.GREATER_THAN_OR_EQUAL_TO],date:[Nn.DATE_IS,Nn.DATE_IS_NOT,Nn.DATE_BEFORE,Nn.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},xz=Symbol();function Rz(e,t,n,r){if(e!==t){var o=document.getElementById(n),s=o.cloneNode(!0),u=o.getAttribute("href").replace(e,t);s.setAttribute("id",n+"-clone"),s.setAttribute("href",u),s.addEventListener("load",function(){o.remove(),s.setAttribute("id",n),r&&r()}),o.parentNode&&o.parentNode.insertBefore(s,o.nextSibling)}}var Dz={install:function(t,n){var r=n?Av(Av({},gA),n):Av({},gA),o={config:yi(r),changeTheme:Rz};t.config.globalProperties.$primevue=o,t.provide(xz,o)}};const Lz={beforeMount(e,t){vA(e,t)},updated(e,t){vA(e,t)}};function vA(e,t){e.classList=e.className.split(" ").filter(n=>!n.startsWith("fa")).join(" "),e.classList.add("fa",`fa-${t.value}`),t.arg==="full"&&(e.classList="",e.classList.add(t.value)),t.arg==="button"&&e.classList.add("hover:scale-110")}let Ci;an.onAuthStateChanged(()=>{Ci||(Ci=bV(K6),Ci.use(TV()),Ci.use(PP),Ci.use(Cz),Ci.use(Dz),Ci.use(dP),Ci.directive("icon",Lz),Ci.mount("#app"))});
