(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function vv(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const ye={},Es=[],dr=()=>{},qC=()=>!1,$C=/^on[^a-z]/,Ef=t=>$C.test(t),mv=t=>t.startsWith("onUpdate:"),ze=Object.assign,yv=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},KC=Object.prototype.hasOwnProperty,Yt=(t,e)=>KC.call(t,e),Ot=Array.isArray,Is=t=>If(t)==="[object Map]",yI=t=>If(t)==="[object Set]",Vt=t=>typeof t=="function",Le=t=>typeof t=="string",wv=t=>typeof t=="symbol",ge=t=>t!==null&&typeof t=="object",wI=t=>ge(t)&&Vt(t.then)&&Vt(t.catch),bI=Object.prototype.toString,If=t=>bI.call(t),HC=t=>If(t).slice(8,-1),_I=t=>If(t)==="[object Object]",bv=t=>Le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sl=vv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},zC=/-(\w)/g,Lr=Tf(t=>t.replace(zC,(e,n)=>n?n.toUpperCase():"")),GC=/\B([A-Z])/g,Ys=Tf(t=>t.replace(GC,"-$1").toLowerCase()),Sf=Tf(t=>t.charAt(0).toUpperCase()+t.slice(1)),$p=Tf(t=>t?`on${Sf(t)}`:""),da=(t,e)=>!Object.is(t,e),Kp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ml=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},WC=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Bb;const gg=()=>Bb||(Bb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function pa(t){if(Ot(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=Le(i)?JC(i):pa(i);if(o)for(const u in o)e[u]=o[u]}return e}else{if(Le(t))return t;if(ge(t))return t}}const QC=/;(?![^(]*\))/g,XC=/:([^]+)/,YC=/\/\*[^]*?\*\//g;function JC(t){const e={};return t.replace(YC,"").split(QC).forEach(n=>{if(n){const i=n.split(XC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Dr(t){let e="";if(Le(t))e=t;else if(Ot(t))for(let n=0;n<t.length;n++){const i=Dr(t[n]);i&&(e+=i+" ")}else if(ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ZC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tO=vv(ZC);function EI(t){return!!t||t===""}const vg=t=>Le(t)?t:t==null?"":Ot(t)||ge(t)&&(t.toString===bI||!Vt(t.toString))?JSON.stringify(t,II,2):String(t),II=(t,e)=>e&&e.__v_isRef?II(t,e.value):Is(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:yI(e)?{[`Set(${e.size})`]:[...e.values()]}:ge(e)&&!Ot(e)&&!_I(e)?String(e):e;let Un;class TI{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Un,!e&&Un&&(this.index=(Un.scopes||(Un.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Un;try{return Un=this,e()}finally{Un=n}}}on(){Un=this}off(){Un=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function SI(t){return new TI(t)}function eO(t,e=Un){e&&e.active&&e.effects.push(t)}function AI(){return Un}function nO(t){Un&&Un.cleanups.push(t)}const _v=t=>{const e=new Set(t);return e.w=0,e.n=0,e},NI=t=>(t.w&Oi)>0,kI=t=>(t.n&Oi)>0,rO=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Oi},iO=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];NI(o)&&!kI(o)?o.delete(t):e[n++]=o,o.w&=~Oi,o.n&=~Oi}e.length=n}},Fl=new WeakMap;let Yu=0,Oi=1;const mg=30;let fr;const yo=Symbol(""),yg=Symbol("");class Ev{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,eO(this,i)}run(){if(!this.active)return this.fn();let e=fr,n=Ai;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=fr,fr=this,Ai=!0,Oi=1<<++Yu,Yu<=mg?rO(this):qb(this),this.fn()}finally{Yu<=mg&&iO(this),Oi=1<<--Yu,fr=this.parent,Ai=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fr===this?this.deferStop=!0:this.active&&(qb(this),this.onStop&&this.onStop(),this.active=!1)}}function qb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Ai=!0;const xI=[];function Js(){xI.push(Ai),Ai=!1}function Zs(){const t=xI.pop();Ai=t===void 0?!0:t}function Rn(t,e,n){if(Ai&&fr){let i=Fl.get(t);i||Fl.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=_v()),CI(o)}}function CI(t,e){let n=!1;Yu<=mg?kI(t)||(t.n|=Oi,n=!NI(t)):n=!t.has(fr),n&&(t.add(fr),fr.deps.push(t))}function Xr(t,e,n,i,o,u){const a=Fl.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(n==="length"&&Ot(t)){const f=Number(i);a.forEach((d,g)=>{(g==="length"||g>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),e){case"add":Ot(t)?bv(n)&&l.push(a.get("length")):(l.push(a.get(yo)),Is(t)&&l.push(a.get(yg)));break;case"delete":Ot(t)||(l.push(a.get(yo)),Is(t)&&l.push(a.get(yg)));break;case"set":Is(t)&&l.push(a.get(yo));break}if(l.length===1)l[0]&&wg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);wg(_v(f))}}function wg(t,e){const n=Ot(t)?t:[...t];for(const i of n)i.computed&&$b(i);for(const i of n)i.computed||$b(i)}function $b(t,e){(t!==fr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function oO(t,e){var n;return(n=Fl.get(t))==null?void 0:n.get(e)}const sO=vv("__proto__,__v_isRef,__isVue"),OI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wv)),uO=Iv(),aO=Iv(!1,!0),cO=Iv(!0),Kb=lO();function lO(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Jt(this);for(let u=0,a=this.length;u<a;u++)Rn(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(Jt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Js();const i=Jt(this)[e].apply(this,n);return Zs(),i}}),t}function fO(t){const e=Jt(this);return Rn(e,"has",t),e.hasOwnProperty(t)}function Iv(t=!1,e=!1){return function(i,o,u){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&u===(t?e?NO:MI:e?LI:PI).get(i))return i;const a=Ot(i);if(!t){if(a&&Yt(Kb,o))return Reflect.get(Kb,o,u);if(o==="hasOwnProperty")return fO}const l=Reflect.get(i,o,u);return(wv(o)?OI.has(o):sO(o))||(t||Rn(i,"get",o),e)?l:ae(l)?a&&bv(o)?l:l.value:ge(l)?t?Av(l):Yr(l):l}}const hO=RI(),dO=RI(!0);function RI(t=!1){return function(n,i,o,u){let a=n[i];if(Ns(a)&&ae(a)&&!ae(o))return!1;if(!t&&(!Vl(o)&&!Ns(o)&&(a=Jt(a),o=Jt(o)),!Ot(n)&&ae(a)&&!ae(o)))return a.value=o,!0;const l=Ot(n)&&bv(i)?Number(i)<n.length:Yt(n,i),f=Reflect.set(n,i,o,u);return n===Jt(u)&&(l?da(o,a)&&Xr(n,"set",i,o):Xr(n,"add",i,o)),f}}function pO(t,e){const n=Yt(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Xr(t,"delete",e,void 0),i}function gO(t,e){const n=Reflect.has(t,e);return(!wv(e)||!OI.has(e))&&Rn(t,"has",e),n}function vO(t){return Rn(t,"iterate",Ot(t)?"length":yo),Reflect.ownKeys(t)}const DI={get:uO,set:hO,deleteProperty:pO,has:gO,ownKeys:vO},mO={get:cO,set(t,e){return!0},deleteProperty(t,e){return!0}},yO=ze({},DI,{get:aO,set:dO}),Tv=t=>t,Af=t=>Reflect.getPrototypeOf(t);function cl(t,e,n=!1,i=!1){t=t.__v_raw;const o=Jt(t),u=Jt(e);n||(e!==u&&Rn(o,"get",e),Rn(o,"get",u));const{has:a}=Af(o),l=i?Tv:n?kv:ga;if(a.call(o,e))return l(t.get(e));if(a.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function ll(t,e=!1){const n=this.__v_raw,i=Jt(n),o=Jt(t);return e||(t!==o&&Rn(i,"has",t),Rn(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function fl(t,e=!1){return t=t.__v_raw,!e&&Rn(Jt(t),"iterate",yo),Reflect.get(t,"size",t)}function Hb(t){t=Jt(t);const e=Jt(this);return Af(e).has.call(e,t)||(e.add(t),Xr(e,"add",t,t)),this}function zb(t,e){e=Jt(e);const n=Jt(this),{has:i,get:o}=Af(n);let u=i.call(n,t);u||(t=Jt(t),u=i.call(n,t));const a=o.call(n,t);return n.set(t,e),u?da(e,a)&&Xr(n,"set",t,e):Xr(n,"add",t,e),this}function Gb(t){const e=Jt(this),{has:n,get:i}=Af(e);let o=n.call(e,t);o||(t=Jt(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&Xr(e,"delete",t,void 0),u}function Wb(){const t=Jt(this),e=t.size!==0,n=t.clear();return e&&Xr(t,"clear",void 0,void 0),n}function hl(t,e){return function(i,o){const u=this,a=u.__v_raw,l=Jt(a),f=e?Tv:t?kv:ga;return!t&&Rn(l,"iterate",yo),a.forEach((d,g)=>i.call(o,f(d),f(g),u))}}function dl(t,e,n){return function(...i){const o=this.__v_raw,u=Jt(o),a=Is(u),l=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,d=o[t](...i),g=n?Tv:e?kv:ga;return!e&&Rn(u,"iterate",f?yg:yo),{next(){const{value:v,done:y}=d.next();return y?{value:v,done:y}:{value:l?[g(v[0]),g(v[1])]:g(v),done:y}},[Symbol.iterator](){return this}}}}function fi(t){return function(...e){return t==="delete"?!1:this}}function wO(){const t={get(u){return cl(this,u)},get size(){return fl(this)},has:ll,add:Hb,set:zb,delete:Gb,clear:Wb,forEach:hl(!1,!1)},e={get(u){return cl(this,u,!1,!0)},get size(){return fl(this)},has:ll,add:Hb,set:zb,delete:Gb,clear:Wb,forEach:hl(!1,!0)},n={get(u){return cl(this,u,!0)},get size(){return fl(this,!0)},has(u){return ll.call(this,u,!0)},add:fi("add"),set:fi("set"),delete:fi("delete"),clear:fi("clear"),forEach:hl(!0,!1)},i={get(u){return cl(this,u,!0,!0)},get size(){return fl(this,!0)},has(u){return ll.call(this,u,!0)},add:fi("add"),set:fi("set"),delete:fi("delete"),clear:fi("clear"),forEach:hl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=dl(u,!1,!1),n[u]=dl(u,!0,!1),e[u]=dl(u,!1,!0),i[u]=dl(u,!0,!0)}),[t,n,e,i]}const[bO,_O,EO,IO]=wO();function Sv(t,e){const n=e?t?IO:EO:t?_O:bO;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(Yt(n,o)&&o in i?n:i,o,u)}const TO={get:Sv(!1,!1)},SO={get:Sv(!1,!0)},AO={get:Sv(!0,!1)},PI=new WeakMap,LI=new WeakMap,MI=new WeakMap,NO=new WeakMap;function kO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xO(t){return t.__v_skip||!Object.isExtensible(t)?0:kO(HC(t))}function Yr(t){return Ns(t)?t:Nv(t,!1,DI,TO,PI)}function FI(t){return Nv(t,!1,yO,SO,LI)}function Av(t){return Nv(t,!0,mO,AO,MI)}function Nv(t,e,n,i,o){if(!ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const a=xO(t);if(a===0)return t;const l=new Proxy(t,a===2?i:n);return o.set(t,l),l}function Ni(t){return Ns(t)?Ni(t.__v_raw):!!(t&&t.__v_isReactive)}function Ns(t){return!!(t&&t.__v_isReadonly)}function Vl(t){return!!(t&&t.__v_isShallow)}function VI(t){return Ni(t)||Ns(t)}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function Nf(t){return Ml(t,"__v_skip",!0),t}const ga=t=>ge(t)?Yr(t):t,kv=t=>ge(t)?Av(t):t;function jI(t){Ai&&fr&&(t=Jt(t),CI(t.dep||(t.dep=_v())))}function UI(t,e){t=Jt(t);const n=t.dep;n&&wg(n)}function ae(t){return!!(t&&t.__v_isRef===!0)}function vn(t){return qI(t,!1)}function BI(t){return qI(t,!0)}function qI(t,e){return ae(t)?t:new CO(t,e)}class CO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Jt(e),this._value=n?e:ga(e)}get value(){return jI(this),this._value}set value(e){const n=this.__v_isShallow||Vl(e)||Ns(e);e=n?e:Jt(e),da(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ga(e),UI(this))}}function Gt(t){return ae(t)?t.value:t}function _e(t){return Vt(t)?t():Gt(t)}const OO={get:(t,e,n)=>Gt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return ae(o)&&!ae(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function $I(t){return Ni(t)?t:new Proxy(t,OO)}function RO(t){const e=Ot(t)?new Array(t.length):{};for(const n in t)e[n]=KI(t,n);return e}class DO{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return oO(Jt(this._object),this._key)}}class PO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function bi(t,e,n){return ae(t)?t:Vt(t)?new PO(t):ge(t)&&arguments.length>1?KI(t,e,n):vn(t)}function KI(t,e,n){const i=t[e];return ae(i)?i:new DO(t,e,n)}class LO{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ev(e,()=>{this._dirty||(this._dirty=!0,UI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=Jt(this);return jI(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function MO(t,e,n=!1){let i,o;const u=Vt(t);return u?(i=t,o=dr):(i=t.get,o=t.set),new LO(i,o,u||!o,n)}function ki(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){kf(u,e,n)}return o}function pr(t,e,n,i){if(Vt(t)){const u=ki(t,e,n,i);return u&&wI(u)&&u.catch(a=>{kf(a,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(pr(t[u],e,n,i));return o}function kf(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let u=e.parent;const a=e.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](t,a,l)===!1)return}u=u.parent}const f=e.appContext.config.errorHandler;if(f){ki(f,null,10,[t,a,l]);return}}FO(t,n,o,i)}function FO(t,e,n,i=!0){console.error(t)}let va=!1,bg=!1;const un=[];let Or=0;const Ts=[];let Kr=null,lo=0;const HI=Promise.resolve();let xv=null;function xr(t){const e=xv||HI;return t?e.then(this?t.bind(this):t):e}function VO(t){let e=Or+1,n=un.length;for(;e<n;){const i=e+n>>>1;ma(un[i])<t?e=i+1:n=i}return e}function Cv(t){(!un.length||!un.includes(t,va&&t.allowRecurse?Or+1:Or))&&(t.id==null?un.push(t):un.splice(VO(t.id),0,t),zI())}function zI(){!va&&!bg&&(bg=!0,xv=HI.then(WI))}function jO(t){const e=un.indexOf(t);e>Or&&un.splice(e,1)}function UO(t){Ot(t)?Ts.push(...t):(!Kr||!Kr.includes(t,t.allowRecurse?lo+1:lo))&&Ts.push(t),zI()}function Qb(t,e=va?Or+1:0){for(;e<un.length;e++){const n=un[e];n&&n.pre&&(un.splice(e,1),e--,n())}}function GI(t){if(Ts.length){const e=[...new Set(Ts)];if(Ts.length=0,Kr){Kr.push(...e);return}for(Kr=e,Kr.sort((n,i)=>ma(n)-ma(i)),lo=0;lo<Kr.length;lo++)Kr[lo]();Kr=null,lo=0}}const ma=t=>t.id==null?1/0:t.id,BO=(t,e)=>{const n=ma(t)-ma(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function WI(t){bg=!1,va=!0,un.sort(BO);const e=dr;try{for(Or=0;Or<un.length;Or++){const n=un[Or];n&&n.active!==!1&&ki(n,null,14)}}finally{Or=0,un.length=0,GI(),va=!1,xv=null,(un.length||Ts.length)&&WI()}}function qO(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ye;let o=n;const u=e.startsWith("update:"),a=u&&e.slice(7);if(a&&a in i){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:y}=i[g]||ye;y&&(o=n.map(b=>Le(b)?b.trim():b)),v&&(o=n.map(WC))}let l,f=i[l=$p(e)]||i[l=$p(Lr(e))];!f&&u&&(f=i[l=$p(Ys(e))]),f&&pr(f,t,6,o);const d=i[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,pr(d,t,6,o)}}function QI(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let a={},l=!1;if(!Vt(t)){const f=d=>{const g=QI(d,e,!0);g&&(l=!0,ze(a,g))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(ge(t)&&i.set(t,null),null):(Ot(u)?u.forEach(f=>a[f]=null):ze(a,u),ge(t)&&i.set(t,a),a)}function xf(t,e){return!t||!Ef(e)?!1:(e=e.slice(2).replace(/Once$/,""),Yt(t,e[0].toLowerCase()+e.slice(1))||Yt(t,Ys(e))||Yt(t,e))}let Hn=null,XI=null;function jl(t){const e=Hn;return Hn=t,XI=t&&t.type.__scopeId||null,e}function ys(t,e=Hn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&s_(-1);const u=jl(e);let a;try{a=t(...o)}finally{jl(u),i._d&&s_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Hp(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:g,renderCache:v,data:y,setupState:b,ctx:_,inheritAttrs:S}=t;let N,O;const P=jl(t);try{if(n.shapeFlag&4){const q=o||i;N=Cr(g.call(q,q,v,u,b,y,_)),O=f}else{const q=e;N=Cr(q.length>1?q(u,{attrs:f,slots:l,emit:d}):q(u,null)),O=e.props?f:$O(f)}}catch(q){ra.length=0,kf(q,t,1),N=Bt(Io)}let j=N;if(O&&S!==!1){const q=Object.keys(O),{shapeFlag:nt}=j;q.length&&nt&7&&(a&&q.some(mv)&&(O=KO(O,a)),j=ks(j,O))}return n.dirs&&(j=ks(j),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&(j.transition=n.transition),N=j,jl(P),N}const $O=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ef(n))&&((e||(e={}))[n]=t[n]);return e},KO=(t,e)=>{const n={};for(const i in t)(!mv(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function HO(t,e,n){const{props:i,children:o,component:u}=t,{props:a,children:l,patchFlag:f}=e,d=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Xb(i,a,d):!!a;if(f&8){const g=e.dynamicProps;for(let v=0;v<g.length;v++){const y=g[v];if(a[y]!==i[y]&&!xf(d,y))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Xb(i,a,d):!0:!!a;return!1}function Xb(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!xf(n,u))return!0}return!1}function zO({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const GO=t=>t.__isSuspense;function WO(t,e){e&&e.pendingBranch?Ot(t)?e.effects.push(...t):e.effects.push(t):UO(t)}function QO(t,e){return Ov(t,null,e)}const pl={};function Wn(t,e,n){return Ov(t,e,n)}function Ov(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=ye){var l;const f=AI()===((l=Ue)==null?void 0:l.scope)?Ue:null;let d,g=!1,v=!1;if(ae(t)?(d=()=>t.value,g=Vl(t)):Ni(t)?(d=()=>t,i=!0):Ot(t)?(v=!0,g=t.some(q=>Ni(q)||Vl(q)),d=()=>t.map(q=>{if(ae(q))return q.value;if(Ni(q))return ws(q);if(Vt(q))return ki(q,f,2)})):Vt(t)?e?d=()=>ki(t,f,2):d=()=>{if(!(f&&f.isUnmounted))return y&&y(),pr(t,f,3,[b])}:d=dr,e&&i){const q=d;d=()=>ws(q())}let y,b=q=>{y=P.onStop=()=>{ki(q,f,4)}},_;if(_a)if(b=dr,e?n&&pr(e,f,3,[d(),v?[]:void 0,b]):d(),o==="sync"){const q=jR();_=q.__watcherHandles||(q.__watcherHandles=[])}else return dr;let S=v?new Array(t.length).fill(pl):pl;const N=()=>{if(P.active)if(e){const q=P.run();(i||g||(v?q.some((nt,V)=>da(nt,S[V])):da(q,S)))&&(y&&y(),pr(e,f,3,[q,S===pl?void 0:v&&S[0]===pl?[]:S,b]),S=q)}else P.run()};N.allowRecurse=!!e;let O;o==="sync"?O=N:o==="post"?O=()=>Nn(N,f&&f.suspense):(N.pre=!0,f&&(N.id=f.uid),O=()=>Cv(N));const P=new Ev(d,O);e?n?N():S=P.run():o==="post"?Nn(P.run.bind(P),f&&f.suspense):P.run();const j=()=>{P.stop(),f&&f.scope&&yv(f.scope.effects,P)};return _&&_.push(j),j}function XO(t,e,n){const i=this.proxy,o=Le(t)?t.includes(".")?YI(i,t):()=>i[t]:t.bind(i,i);let u;Vt(e)?u=e:(u=e.handler,n=e);const a=Ue;xs(this);const l=Ov(o,u.bind(i),n);return a?xs(a):wo(),l}function YI(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function ws(t,e){if(!ge(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ae(t))ws(t.value,e);else if(Ot(t))for(let n=0;n<t.length;n++)ws(t[n],e);else if(yI(t)||Is(t))t.forEach(n=>{ws(n,e)});else if(_I(t))for(const n in t)ws(t[n],e);return t}function oo(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(Js(),pr(f,n,8,[t.el,l,t,e]),Zs())}}function Ba(t,e){return Vt(t)?(()=>ze({name:t.name},e,{setup:t}))():t}const Al=t=>!!t.type.__asyncLoader,JI=t=>t.type.__isKeepAlive;function YO(t,e){ZI(t,"a",e)}function JO(t,e){ZI(t,"da",e)}function ZI(t,e,n=Ue){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Cf(e,i,n),n){let o=n.parent;for(;o&&o.parent;)JI(o.parent.vnode)&&ZO(i,e,n,o),o=o.parent}}function ZO(t,e,n,i){const o=Cf(e,t,i,!0);e1(()=>{yv(i[e],o)},n)}function Cf(t,e,n=Ue,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Js(),xs(n);const l=pr(e,n,t,a);return wo(),Zs(),l});return i?o.unshift(u):o.push(u),u}}const Zr=t=>(e,n=Ue)=>(!_a||t==="sp")&&Cf(t,(...i)=>e(...i),n),tR=Zr("bm"),Rv=Zr("m"),eR=Zr("bu"),nR=Zr("u"),t1=Zr("bum"),e1=Zr("um"),rR=Zr("sp"),iR=Zr("rtg"),oR=Zr("rtc");function sR(t,e=Ue){Cf("ec",t,e)}const Dv="components";function $n(t,e){return r1(Dv,t,!0,e)||t}const n1=Symbol.for("v-ndc");function Pv(t){return Le(t)?r1(Dv,t,!1)||t:t||n1}function r1(t,e,n=!0,i=!1){const o=Hn||Ue;if(o){const u=o.type;if(t===Dv){const l=MR(u,!1);if(l&&(l===e||l===Lr(e)||l===Sf(Lr(e))))return u}const a=Yb(o[t]||u[t],e)||Yb(o.appContext[t],e);return!a&&i?u:a}}function Yb(t,e){return t&&(t[e]||t[Lr(e)]||t[Sf(Lr(e))])}function uR(t,e,n,i){let o;const u=n&&n[i];if(Ot(t)||Le(t)){o=new Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=e(t[a],a,void 0,u&&u[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,u&&u[a])}else if(ge(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,u&&u[l]));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=e(t[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const _g=t=>t?g1(t)?Uv(t)||t.proxy:_g(t.parent):null,na=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_g(t.parent),$root:t=>_g(t.root),$emit:t=>t.emit,$options:t=>Lv(t),$forceUpdate:t=>t.f||(t.f=()=>Cv(t.update)),$nextTick:t=>t.n||(t.n=xr.bind(t.proxy)),$watch:t=>XO.bind(t)}),zp=(t,e)=>t!==ye&&!t.__isScriptSetup&&Yt(t,e),aR={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=t;let d;if(e[0]!=="$"){const b=a[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(zp(i,e))return a[e]=1,i[e];if(o!==ye&&Yt(o,e))return a[e]=2,o[e];if((d=t.propsOptions[0])&&Yt(d,e))return a[e]=3,u[e];if(n!==ye&&Yt(n,e))return a[e]=4,n[e];Eg&&(a[e]=0)}}const g=na[e];let v,y;if(g)return e==="$attrs"&&Rn(t,"get",e),g(t);if((v=l.__cssModules)&&(v=v[e]))return v;if(n!==ye&&Yt(n,e))return a[e]=4,n[e];if(y=f.config.globalProperties,Yt(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return zp(o,e)?(o[e]=n,!0):i!==ye&&Yt(i,e)?(i[e]=n,!0):Yt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||t!==ye&&Yt(t,a)||zp(e,a)||(l=u[0])&&Yt(l,a)||Yt(i,a)||Yt(na,a)||Yt(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Yt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Jb(t){return Ot(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Eg=!0;function cR(t){const e=Lv(t),n=t.proxy,i=t.ctx;Eg=!1,e.beforeCreate&&Zb(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:g,beforeMount:v,mounted:y,beforeUpdate:b,updated:_,activated:S,deactivated:N,beforeDestroy:O,beforeUnmount:P,destroyed:j,unmounted:q,render:nt,renderTracked:V,renderTriggered:It,errorCaptured:W,serverPrefetch:ht,expose:A,inheritAttrs:Wt,components:oe,directives:se,filters:ce}=e;if(d&&lR(d,i,null),a)for(const Lt in a){const gt=a[Lt];Vt(gt)&&(i[Lt]=gt.bind(n))}if(o){const Lt=o.call(n,n);ge(Lt)&&(t.data=Yr(Lt))}if(Eg=!0,u)for(const Lt in u){const gt=u[Lt],he=Vt(gt)?gt.bind(n,n):Vt(gt.get)?gt.get.bind(n,n):dr,Ie=!Vt(gt)&&Vt(gt.set)?gt.set.bind(n):dr,Ve=qt({get:he,set:Ie});Object.defineProperty(i,Lt,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:Ce=>Ve.value=Ce})}if(l)for(const Lt in l)i1(l[Lt],i,n,Lt);if(f){const Lt=Vt(f)?f.call(n):f;Reflect.ownKeys(Lt).forEach(gt=>{Ss(gt,Lt[gt])})}g&&Zb(g,t,"c");function st(Lt,gt){Ot(gt)?gt.forEach(he=>Lt(he.bind(n))):gt&&Lt(gt.bind(n))}if(st(tR,v),st(Rv,y),st(eR,b),st(nR,_),st(YO,S),st(JO,N),st(sR,W),st(oR,V),st(iR,It),st(t1,P),st(e1,q),st(rR,ht),Ot(A))if(A.length){const Lt=t.exposed||(t.exposed={});A.forEach(gt=>{Object.defineProperty(Lt,gt,{get:()=>n[gt],set:he=>n[gt]=he})})}else t.exposed||(t.exposed={});nt&&t.render===dr&&(t.render=nt),Wt!=null&&(t.inheritAttrs=Wt),oe&&(t.components=oe),se&&(t.directives=se)}function lR(t,e,n=dr){Ot(t)&&(t=Ig(t));for(const i in t){const o=t[i];let u;ge(o)?"default"in o?u=rr(o.from||i,o.default,!0):u=rr(o.from||i):u=rr(o),ae(u)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):e[i]=u}}function Zb(t,e,n){pr(Ot(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function i1(t,e,n,i){const o=i.includes(".")?YI(n,i):()=>n[i];if(Le(t)){const u=e[t];Vt(u)&&Wn(o,u)}else if(Vt(t))Wn(o,t.bind(n));else if(ge(t))if(Ot(t))t.forEach(u=>i1(u,e,n,i));else{const u=Vt(t.handler)?t.handler.bind(n):e[t.handler];Vt(u)&&Wn(o,u,t)}}function Lv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(d=>Ul(f,d,a,!0)),Ul(f,e,a)),ge(e)&&u.set(e,f),f}function Ul(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&Ul(t,u,n,!0),o&&o.forEach(a=>Ul(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const l=fR[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const fR={data:t_,props:e_,emits:e_,methods:Ju,computed:Ju,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:Ju,directives:Ju,watch:dR,provide:t_,inject:hR};function t_(t,e){return e?t?function(){return ze(Vt(t)?t.call(this,this):t,Vt(e)?e.call(this,this):e)}:e:t}function hR(t,e){return Ju(Ig(t),Ig(e))}function Ig(t){if(Ot(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function pn(t,e){return t?[...new Set([].concat(t,e))]:e}function Ju(t,e){return t?ze(Object.create(null),t,e):e}function e_(t,e){return t?Ot(t)&&Ot(e)?[...new Set([...t,...e])]:ze(Object.create(null),Jb(t),Jb(e??{})):e}function dR(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const i in e)n[i]=pn(t[i],e[i]);return n}function o1(){return{app:null,config:{isNativeTag:qC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pR=0;function gR(t,e){return function(i,o=null){Vt(i)||(i=ze({},i)),o!=null&&!ge(o)&&(o=null);const u=o1(),a=new Set;let l=!1;const f=u.app={_uid:pR++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:UR,get config(){return u.config},set config(d){},use(d,...g){return a.has(d)||(d&&Vt(d.install)?(a.add(d),d.install(f,...g)):Vt(d)&&(a.add(d),d(f,...g))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,g){return g?(u.components[d]=g,f):u.components[d]},directive(d,g){return g?(u.directives[d]=g,f):u.directives[d]},mount(d,g,v){if(!l){const y=Bt(i,o);return y.appContext=u,g&&e?e(y,d):t(y,d,v),l=!0,f._container=d,d.__vue_app__=f,Uv(y.component)||y.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(d,g){return u.provides[d]=g,f},runWithContext(d){ya=f;try{return d()}finally{ya=null}}};return f}}let ya=null;function Ss(t,e){if(Ue){let n=Ue.provides;const i=Ue.parent&&Ue.parent.provides;i===n&&(n=Ue.provides=Object.create(i)),n[t]=e}}function rr(t,e,n=!1){const i=Ue||Hn;if(i||ya){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ya._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Vt(e)?e.call(i&&i.proxy):e}}function vR(){return!!(Ue||Hn||ya)}function mR(t,e,n,i=!1){const o={},u={};Ml(u,Rf,1),t.propsDefaults=Object.create(null),s1(t,e,o,u);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=i?o:FI(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function yR(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=t,l=Jt(o),[f]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const g=t.vnode.dynamicProps;for(let v=0;v<g.length;v++){let y=g[v];if(xf(t.emitsOptions,y))continue;const b=e[y];if(f)if(Yt(u,y))b!==u[y]&&(u[y]=b,d=!0);else{const _=Lr(y);o[_]=Tg(f,l,_,b,t,!1)}else b!==u[y]&&(u[y]=b,d=!0)}}}else{s1(t,e,o,u)&&(d=!0);let g;for(const v in l)(!e||!Yt(e,v)&&((g=Ys(v))===v||!Yt(e,g)))&&(f?n&&(n[v]!==void 0||n[g]!==void 0)&&(o[v]=Tg(f,l,v,void 0,t,!0)):delete o[v]);if(u!==l)for(const v in u)(!e||!Yt(e,v))&&(delete u[v],d=!0)}d&&Xr(t,"set","$attrs")}function s1(t,e,n,i){const[o,u]=t.propsOptions;let a=!1,l;if(e)for(let f in e){if(Sl(f))continue;const d=e[f];let g;o&&Yt(o,g=Lr(f))?!u||!u.includes(g)?n[g]=d:(l||(l={}))[g]=d:xf(t.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Jt(n),d=l||ye;for(let g=0;g<u.length;g++){const v=u[g];n[v]=Tg(o,f,v,d[v],t,!Yt(d,v))}}return a}function Tg(t,e,n,i,o,u){const a=t[n];if(a!=null){const l=Yt(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Vt(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(xs(o),i=d[n]=f.call(null,e),wo())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===Ys(n))&&(i=!0))}return i}function u1(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,a={},l=[];let f=!1;if(!Vt(t)){const g=v=>{f=!0;const[y,b]=u1(v,e,!0);ze(a,y),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!u&&!f)return ge(t)&&i.set(t,Es),Es;if(Ot(u))for(let g=0;g<u.length;g++){const v=Lr(u[g]);n_(v)&&(a[v]=ye)}else if(u)for(const g in u){const v=Lr(g);if(n_(v)){const y=u[g],b=a[v]=Ot(y)||Vt(y)?{type:y}:ze({},y);if(b){const _=o_(Boolean,b.type),S=o_(String,b.type);b[0]=_>-1,b[1]=S<0||_<S,(_>-1||Yt(b,"default"))&&l.push(v)}}}const d=[a,l];return ge(t)&&i.set(t,d),d}function n_(t){return t[0]!=="$"}function r_(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function i_(t,e){return r_(t)===r_(e)}function o_(t,e){return Ot(e)?e.findIndex(n=>i_(n,t)):Vt(e)&&i_(e,t)?0:-1}const a1=t=>t[0]==="_"||t==="$stable",Mv=t=>Ot(t)?t.map(Cr):[Cr(t)],wR=(t,e,n)=>{if(e._n)return e;const i=ys((...o)=>Mv(e(...o)),n);return i._c=!1,i},c1=(t,e,n)=>{const i=t._ctx;for(const o in t){if(a1(o))continue;const u=t[o];if(Vt(u))e[o]=wR(o,u,i);else if(u!=null){const a=Mv(u);e[o]=()=>a}}},l1=(t,e)=>{const n=Mv(e);t.slots.default=()=>n},bR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Jt(e),Ml(e,"_",n)):c1(e,t.slots={})}else t.slots={},e&&l1(t,e);Ml(t.slots,Rf,1)},_R=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,a=ye;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(ze(o,e),!n&&l===1&&delete o._):(u=!e.$stable,c1(e,o)),a=e}else e&&(l1(t,e),a={default:1});if(u)for(const l in o)!a1(l)&&!(l in a)&&delete o[l]};function Sg(t,e,n,i,o=!1){if(Ot(t)){t.forEach((y,b)=>Sg(y,e&&(Ot(e)?e[b]:e),n,i,o));return}if(Al(i)&&!o)return;const u=i.shapeFlag&4?Uv(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=t,d=e&&e.r,g=l.refs===ye?l.refs={}:l.refs,v=l.setupState;if(d!=null&&d!==f&&(Le(d)?(g[d]=null,Yt(v,d)&&(v[d]=null)):ae(d)&&(d.value=null)),Vt(f))ki(f,l,12,[a,g]);else{const y=Le(f),b=ae(f);if(y||b){const _=()=>{if(t.f){const S=y?Yt(v,f)?v[f]:g[f]:f.value;o?Ot(S)&&yv(S,u):Ot(S)?S.includes(u)||S.push(u):y?(g[f]=[u],Yt(v,f)&&(v[f]=g[f])):(f.value=[u],t.k&&(g[t.k]=f.value))}else y?(g[f]=a,Yt(v,f)&&(v[f]=a)):b&&(f.value=a,t.k&&(g[t.k]=a))};a?(_.id=-1,Nn(_,n)):_()}}}const Nn=WO;function ER(t){return IR(t)}function IR(t,e){const n=gg();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:g,parentNode:v,nextSibling:y,setScopeId:b=dr,insertStaticContent:_}=t,S=(I,T,C,M=null,F=null,z=null,et=!1,X=null,Z=!!T.dynamicChildren)=>{if(I===T)return;I&&!Hu(I,T)&&(M=R(I),Ce(I,F,z,!0),I=null),T.patchFlag===-2&&(Z=!1,T.dynamicChildren=null);const{type:Q,ref:wt,shapeFlag:at}=T;switch(Q){case Of:N(I,T,C,M);break;case Io:O(I,T,C,M);break;case Nl:I==null&&P(T,C,M,et);break;case kn:oe(I,T,C,M,F,z,et,X,Z);break;default:at&1?nt(I,T,C,M,F,z,et,X,Z):at&6?se(I,T,C,M,F,z,et,X,Z):(at&64||at&128)&&Q.process(I,T,C,M,F,z,et,X,Z,J)}wt!=null&&F&&Sg(wt,I&&I.ref,z,T||I,!T)},N=(I,T,C,M)=>{if(I==null)i(T.el=l(T.children),C,M);else{const F=T.el=I.el;T.children!==I.children&&d(F,T.children)}},O=(I,T,C,M)=>{I==null?i(T.el=f(T.children||""),C,M):T.el=I.el},P=(I,T,C,M)=>{[I.el,I.anchor]=_(I.children,T,C,M,I.el,I.anchor)},j=({el:I,anchor:T},C,M)=>{let F;for(;I&&I!==T;)F=y(I),i(I,C,M),I=F;i(T,C,M)},q=({el:I,anchor:T})=>{let C;for(;I&&I!==T;)C=y(I),o(I),I=C;o(T)},nt=(I,T,C,M,F,z,et,X,Z)=>{et=et||T.type==="svg",I==null?V(T,C,M,F,z,et,X,Z):ht(I,T,F,z,et,X,Z)},V=(I,T,C,M,F,z,et,X)=>{let Z,Q;const{type:wt,props:at,shapeFlag:mt,transition:St,dirs:Ut}=I;if(Z=I.el=a(I.type,z,at&&at.is,at),mt&8?g(Z,I.children):mt&16&&W(I.children,Z,null,M,F,z&&wt!=="foreignObject",et,X),Ut&&oo(I,null,M,"created"),It(Z,I,I.scopeId,et,M),at){for(const x in at)x!=="value"&&!Sl(x)&&u(Z,x,null,at[x],z,I.children,M,F,vt);"value"in at&&u(Z,"value",null,at.value),(Q=at.onVnodeBeforeMount)&&Nr(Q,M,I)}Ut&&oo(I,null,M,"beforeMount");const _t=(!F||F&&!F.pendingBranch)&&St&&!St.persisted;_t&&St.beforeEnter(Z),i(Z,T,C),((Q=at&&at.onVnodeMounted)||_t||Ut)&&Nn(()=>{Q&&Nr(Q,M,I),_t&&St.enter(Z),Ut&&oo(I,null,M,"mounted")},F)},It=(I,T,C,M,F)=>{if(C&&b(I,C),M)for(let z=0;z<M.length;z++)b(I,M[z]);if(F){let z=F.subTree;if(T===z){const et=F.vnode;It(I,et,et.scopeId,et.slotScopeIds,F.parent)}}},W=(I,T,C,M,F,z,et,X,Z=0)=>{for(let Q=Z;Q<I.length;Q++){const wt=I[Q]=X?mi(I[Q]):Cr(I[Q]);S(null,wt,T,C,M,F,z,et,X)}},ht=(I,T,C,M,F,z,et)=>{const X=T.el=I.el;let{patchFlag:Z,dynamicChildren:Q,dirs:wt}=T;Z|=I.patchFlag&16;const at=I.props||ye,mt=T.props||ye;let St;C&&so(C,!1),(St=mt.onVnodeBeforeUpdate)&&Nr(St,C,T,I),wt&&oo(T,I,C,"beforeUpdate"),C&&so(C,!0);const Ut=F&&T.type!=="foreignObject";if(Q?A(I.dynamicChildren,Q,X,C,M,Ut,z):et||gt(I,T,X,null,C,M,Ut,z,!1),Z>0){if(Z&16)Wt(X,T,at,mt,C,M,F);else if(Z&2&&at.class!==mt.class&&u(X,"class",null,mt.class,F),Z&4&&u(X,"style",at.style,mt.style,F),Z&8){const _t=T.dynamicProps;for(let x=0;x<_t.length;x++){const k=_t[x],B=at[k],it=mt[k];(it!==B||k==="value")&&u(X,k,B,it,F,I.children,C,M,vt)}}Z&1&&I.children!==T.children&&g(X,T.children)}else!et&&Q==null&&Wt(X,T,at,mt,C,M,F);((St=mt.onVnodeUpdated)||wt)&&Nn(()=>{St&&Nr(St,C,T,I),wt&&oo(T,I,C,"updated")},M)},A=(I,T,C,M,F,z,et)=>{for(let X=0;X<T.length;X++){const Z=I[X],Q=T[X],wt=Z.el&&(Z.type===kn||!Hu(Z,Q)||Z.shapeFlag&70)?v(Z.el):C;S(Z,Q,wt,null,M,F,z,et,!0)}},Wt=(I,T,C,M,F,z,et)=>{if(C!==M){if(C!==ye)for(const X in C)!Sl(X)&&!(X in M)&&u(I,X,C[X],null,et,T.children,F,z,vt);for(const X in M){if(Sl(X))continue;const Z=M[X],Q=C[X];Z!==Q&&X!=="value"&&u(I,X,Q,Z,et,T.children,F,z,vt)}"value"in M&&u(I,"value",C.value,M.value)}},oe=(I,T,C,M,F,z,et,X,Z)=>{const Q=T.el=I?I.el:l(""),wt=T.anchor=I?I.anchor:l("");let{patchFlag:at,dynamicChildren:mt,slotScopeIds:St}=T;St&&(X=X?X.concat(St):St),I==null?(i(Q,C,M),i(wt,C,M),W(T.children,C,wt,F,z,et,X,Z)):at>0&&at&64&&mt&&I.dynamicChildren?(A(I.dynamicChildren,mt,C,F,z,et,X),(T.key!=null||F&&T===F.subTree)&&f1(I,T,!0)):gt(I,T,C,wt,F,z,et,X,Z)},se=(I,T,C,M,F,z,et,X,Z)=>{T.slotScopeIds=X,I==null?T.shapeFlag&512?F.ctx.activate(T,C,M,et,Z):ce(T,C,M,F,z,et,Z):Qt(I,T,Z)},ce=(I,T,C,M,F,z,et)=>{const X=I.component=OR(I,M,F);if(JI(I)&&(X.ctx.renderer=J),RR(X),X.asyncDep){if(F&&F.registerDep(X,st),!I.el){const Z=X.subTree=Bt(Io);O(null,Z,T,C)}return}st(X,I,T,C,F,z,et)},Qt=(I,T,C)=>{const M=T.component=I.component;if(HO(I,T,C))if(M.asyncDep&&!M.asyncResolved){Lt(M,T,C);return}else M.next=T,jO(M.update),M.update();else T.el=I.el,M.vnode=T},st=(I,T,C,M,F,z,et)=>{const X=()=>{if(I.isMounted){let{next:wt,bu:at,u:mt,parent:St,vnode:Ut}=I,_t=wt,x;so(I,!1),wt?(wt.el=Ut.el,Lt(I,wt,et)):wt=Ut,at&&Kp(at),(x=wt.props&&wt.props.onVnodeBeforeUpdate)&&Nr(x,St,wt,Ut),so(I,!0);const k=Hp(I),B=I.subTree;I.subTree=k,S(B,k,v(B.el),R(B),I,F,z),wt.el=k.el,_t===null&&zO(I,k.el),mt&&Nn(mt,F),(x=wt.props&&wt.props.onVnodeUpdated)&&Nn(()=>Nr(x,St,wt,Ut),F)}else{let wt;const{el:at,props:mt}=T,{bm:St,m:Ut,parent:_t}=I,x=Al(T);if(so(I,!1),St&&Kp(St),!x&&(wt=mt&&mt.onVnodeBeforeMount)&&Nr(wt,_t,T),so(I,!0),at&&Rt){const k=()=>{I.subTree=Hp(I),Rt(at,I.subTree,I,F,null)};x?T.type.__asyncLoader().then(()=>!I.isUnmounted&&k()):k()}else{const k=I.subTree=Hp(I);S(null,k,C,M,I,F,z),T.el=k.el}if(Ut&&Nn(Ut,F),!x&&(wt=mt&&mt.onVnodeMounted)){const k=T;Nn(()=>Nr(wt,_t,k),F)}(T.shapeFlag&256||_t&&Al(_t.vnode)&&_t.vnode.shapeFlag&256)&&I.a&&Nn(I.a,F),I.isMounted=!0,T=C=M=null}},Z=I.effect=new Ev(X,()=>Cv(Q),I.scope),Q=I.update=()=>Z.run();Q.id=I.uid,so(I,!0),Q()},Lt=(I,T,C)=>{T.component=I;const M=I.vnode.props;I.vnode=T,I.next=null,yR(I,T.props,M,C),_R(I,T.children,C),Js(),Qb(),Zs()},gt=(I,T,C,M,F,z,et,X,Z=!1)=>{const Q=I&&I.children,wt=I?I.shapeFlag:0,at=T.children,{patchFlag:mt,shapeFlag:St}=T;if(mt>0){if(mt&128){Ie(Q,at,C,M,F,z,et,X,Z);return}else if(mt&256){he(Q,at,C,M,F,z,et,X,Z);return}}St&8?(wt&16&&vt(Q,F,z),at!==Q&&g(C,at)):wt&16?St&16?Ie(Q,at,C,M,F,z,et,X,Z):vt(Q,F,z,!0):(wt&8&&g(C,""),St&16&&W(at,C,M,F,z,et,X,Z))},he=(I,T,C,M,F,z,et,X,Z)=>{I=I||Es,T=T||Es;const Q=I.length,wt=T.length,at=Math.min(Q,wt);let mt;for(mt=0;mt<at;mt++){const St=T[mt]=Z?mi(T[mt]):Cr(T[mt]);S(I[mt],St,C,null,F,z,et,X,Z)}Q>wt?vt(I,F,z,!0,!1,at):W(T,C,M,F,z,et,X,Z,at)},Ie=(I,T,C,M,F,z,et,X,Z)=>{let Q=0;const wt=T.length;let at=I.length-1,mt=wt-1;for(;Q<=at&&Q<=mt;){const St=I[Q],Ut=T[Q]=Z?mi(T[Q]):Cr(T[Q]);if(Hu(St,Ut))S(St,Ut,C,null,F,z,et,X,Z);else break;Q++}for(;Q<=at&&Q<=mt;){const St=I[at],Ut=T[mt]=Z?mi(T[mt]):Cr(T[mt]);if(Hu(St,Ut))S(St,Ut,C,null,F,z,et,X,Z);else break;at--,mt--}if(Q>at){if(Q<=mt){const St=mt+1,Ut=St<wt?T[St].el:M;for(;Q<=mt;)S(null,T[Q]=Z?mi(T[Q]):Cr(T[Q]),C,Ut,F,z,et,X,Z),Q++}}else if(Q>mt)for(;Q<=at;)Ce(I[Q],F,z,!0),Q++;else{const St=Q,Ut=Q,_t=new Map;for(Q=Ut;Q<=mt;Q++){const kt=T[Q]=Z?mi(T[Q]):Cr(T[Q]);kt.key!=null&&_t.set(kt.key,Q)}let x,k=0;const B=mt-Ut+1;let it=!1,lt=0;const At=new Array(B);for(Q=0;Q<B;Q++)At[Q]=0;for(Q=St;Q<=at;Q++){const kt=I[Q];if(k>=B){Ce(kt,F,z,!0);continue}let Mt;if(kt.key!=null)Mt=_t.get(kt.key);else for(x=Ut;x<=mt;x++)if(At[x-Ut]===0&&Hu(kt,T[x])){Mt=x;break}Mt===void 0?Ce(kt,F,z,!0):(At[Mt-Ut]=Q+1,Mt>=lt?lt=Mt:it=!0,S(kt,T[Mt],C,null,F,z,et,X,Z),k++)}const Ft=it?TR(At):Es;for(x=Ft.length-1,Q=B-1;Q>=0;Q--){const kt=Ut+Q,Mt=T[kt],Dt=kt+1<wt?T[kt+1].el:M;At[Q]===0?S(null,Mt,C,Dt,F,z,et,X,Z):it&&(x<0||Q!==Ft[x]?Ve(Mt,C,Dt,2):x--)}}},Ve=(I,T,C,M,F=null)=>{const{el:z,type:et,transition:X,children:Z,shapeFlag:Q}=I;if(Q&6){Ve(I.component.subTree,T,C,M);return}if(Q&128){I.suspense.move(T,C,M);return}if(Q&64){et.move(I,T,C,J);return}if(et===kn){i(z,T,C);for(let at=0;at<Z.length;at++)Ve(Z[at],T,C,M);i(I.anchor,T,C);return}if(et===Nl){j(I,T,C);return}if(M!==2&&Q&1&&X)if(M===0)X.beforeEnter(z),i(z,T,C),Nn(()=>X.enter(z),F);else{const{leave:at,delayLeave:mt,afterLeave:St}=X,Ut=()=>i(z,T,C),_t=()=>{at(z,()=>{Ut(),St&&St()})};mt?mt(z,Ut,_t):_t()}else i(z,T,C)},Ce=(I,T,C,M=!1,F=!1)=>{const{type:z,props:et,ref:X,children:Z,dynamicChildren:Q,shapeFlag:wt,patchFlag:at,dirs:mt}=I;if(X!=null&&Sg(X,null,C,I,!0),wt&256){T.ctx.deactivate(I);return}const St=wt&1&&mt,Ut=!Al(I);let _t;if(Ut&&(_t=et&&et.onVnodeBeforeUnmount)&&Nr(_t,T,I),wt&6)dt(I.component,C,M);else{if(wt&128){I.suspense.unmount(C,M);return}St&&oo(I,null,T,"beforeUnmount"),wt&64?I.type.remove(I,T,C,F,J,M):Q&&(z!==kn||at>0&&at&64)?vt(Q,T,C,!1,!0):(z===kn&&at&384||!F&&wt&16)&&vt(Z,T,C),M&&de(I)}(Ut&&(_t=et&&et.onVnodeUnmounted)||St)&&Nn(()=>{_t&&Nr(_t,T,I),St&&oo(I,null,T,"unmounted")},C)},de=I=>{const{type:T,el:C,anchor:M,transition:F}=I;if(T===kn){Mn(C,M);return}if(T===Nl){q(I);return}const z=()=>{o(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(I.shapeFlag&1&&F&&!F.persisted){const{leave:et,delayLeave:X}=F,Z=()=>et(C,z);X?X(I.el,z,Z):Z()}else z()},Mn=(I,T)=>{let C;for(;I!==T;)C=y(I),o(I),I=C;o(T)},dt=(I,T,C)=>{const{bum:M,scope:F,update:z,subTree:et,um:X}=I;M&&Kp(M),F.stop(),z&&(z.active=!1,Ce(et,I,T,C)),X&&Nn(X,T),Nn(()=>{I.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},vt=(I,T,C,M=!1,F=!1,z=0)=>{for(let et=z;et<I.length;et++)Ce(I[et],T,C,M,F)},R=I=>I.shapeFlag&6?R(I.component.subTree):I.shapeFlag&128?I.suspense.next():y(I.anchor||I.el),U=(I,T,C)=>{I==null?T._vnode&&Ce(T._vnode,null,null,!0):S(T._vnode||null,I,T,null,null,null,C),Qb(),GI(),T._vnode=I},J={p:S,um:Ce,m:Ve,r:de,mt:ce,mc:W,pc:gt,pbc:A,n:R,o:t};let ut,Rt;return e&&([ut,Rt]=e(J)),{render:U,hydrate:ut,createApp:gR(U,ut)}}function so({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function f1(t,e,n=!1){const i=t.children,o=e.children;if(Ot(i)&&Ot(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=mi(o[u]),l.el=a.el),n||f1(a,l)),l.type===Of&&(l.el=a.el)}}function TR(t){const e=t.slice(),n=[0];let i,o,u,a,l;const f=t.length;for(i=0;i<f;i++){const d=t[i];if(d!==0){if(o=n[n.length-1],t[o]<d){e[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,t[n[l]]<d?u=l+1:a=l;d<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=e[a];return n}const SR=t=>t.__isTeleport,kn=Symbol.for("v-fgt"),Of=Symbol.for("v-txt"),Io=Symbol.for("v-cmt"),Nl=Symbol.for("v-stc"),ra=[];let hr=null;function He(t=!1){ra.push(hr=t?null:[])}function AR(){ra.pop(),hr=ra[ra.length-1]||null}let wa=1;function s_(t){wa+=t}function h1(t){return t.dynamicChildren=wa>0?hr||Es:null,AR(),wa>0&&hr&&hr.push(t),t}function wn(t,e,n,i,o,u){return h1(rt(t,e,n,i,o,u,!0))}function Ag(t,e,n,i,o){return h1(Bt(t,e,n,i,o,!0))}function Ng(t){return t?t.__v_isVNode===!0:!1}function Hu(t,e){return t.type===e.type&&t.key===e.key}const Rf="__vInternal",d1=({key:t})=>t??null,kl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Le(t)||ae(t)||Vt(t)?{i:Hn,r:t,k:e,f:!!n}:t:null);function rt(t,e=null,n=null,i=0,o=null,u=t===kn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&d1(e),ref:e&&kl(e),scopeId:XI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Hn};return l?(Vv(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=Le(n)?8:16),wa>0&&!a&&hr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&hr.push(f),f}const Bt=NR;function NR(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===n1)&&(t=Io),Ng(t)){const l=ks(t,e,!0);return n&&Vv(l,n),wa>0&&!u&&hr&&(l.shapeFlag&6?hr[hr.indexOf(t)]=l:hr.push(l)),l.patchFlag|=-2,l}if(FR(t)&&(t=t.__vccOpts),e){e=kR(e);let{class:l,style:f}=e;l&&!Le(l)&&(e.class=Dr(l)),ge(f)&&(VI(f)&&!Ot(f)&&(f=ze({},f)),e.style=pa(f))}const a=Le(t)?1:GO(t)?128:SR(t)?64:ge(t)?4:Vt(t)?2:0;return rt(t,e,n,i,o,a,u,!0)}function kR(t){return t?VI(t)||Rf in t?ze({},t):t:null}function ks(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=t,l=e?kg(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&d1(l),ref:e&&e.ref?n&&o?Ot(o)?o.concat(kl(e)):[o,kl(e)]:kl(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kn?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ks(t.ssContent),ssFallback:t.ssFallback&&ks(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function ba(t=" ",e=0){return Bt(Of,null,t,e)}function Fv(t,e){const n=Bt(Nl,null,t);return n.staticCount=e,n}function p1(t="",e=!1){return e?(He(),Ag(Io,null,t)):Bt(Io,null,t)}function Cr(t){return t==null||typeof t=="boolean"?Bt(Io):Ot(t)?Bt(kn,null,t.slice()):typeof t=="object"?mi(t):Bt(Of,null,String(t))}function mi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ks(t)}function Vv(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ot(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),Vv(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Rf in e)?e._ctx=Hn:o===3&&Hn&&(Hn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Vt(e)?(e={default:e,_ctx:Hn},n=32):(e=String(e),i&64?(n=16,e=[ba(e)]):n=8);t.children=e,t.shapeFlag|=n}function kg(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=Dr([e.class,i.class]));else if(o==="style")e.style=pa([e.style,i.style]);else if(Ef(o)){const u=e[o],a=i[o];a&&u!==a&&!(Ot(u)&&u.includes(a))&&(e[o]=u?[].concat(u,a):a)}else o!==""&&(e[o]=i[o])}return e}function Nr(t,e,n,i=null){pr(t,e,7,[n,i])}const xR=o1();let CR=0;function OR(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||xR,u={uid:CR++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new TI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:u1(i,o),emitsOptions:QI(i,o),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:i.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=qO.bind(null,u),t.ce&&t.ce(u),u}let Ue=null;const Df=()=>Ue||Hn;let jv,cs,u_="__VUE_INSTANCE_SETTERS__";(cs=gg()[u_])||(cs=gg()[u_]=[]),cs.push(t=>Ue=t),jv=t=>{cs.length>1?cs.forEach(e=>e(t)):cs[0](t)};const xs=t=>{jv(t),t.scope.on()},wo=()=>{Ue&&Ue.scope.off(),jv(null)};function g1(t){return t.vnode.shapeFlag&4}let _a=!1;function RR(t,e=!1){_a=e;const{props:n,children:i}=t.vnode,o=g1(t);mR(t,n,o,e),bR(t,i);const u=o?DR(t,e):void 0;return _a=!1,u}function DR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Nf(new Proxy(t.ctx,aR));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?LR(t):null;xs(t),Js();const u=ki(i,t,0,[t.props,o]);if(Zs(),wo(),wI(u)){if(u.then(wo,wo),e)return u.then(a=>{a_(t,a,e)}).catch(a=>{kf(a,t,0)});t.asyncDep=u}else a_(t,u,e)}else v1(t,e)}function a_(t,e,n){Vt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ge(e)&&(t.setupState=$I(e)),v1(t,n)}let c_;function v1(t,e,n){const i=t.type;if(!t.render){if(!e&&c_&&!i.render){const o=i.template||Lv(t).template;if(o){const{isCustomElement:u,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,d=ze(ze({isCustomElement:u,delimiters:l},a),f);i.render=c_(o,d)}}t.render=i.render||dr}xs(t),Js(),cR(t),Zs(),wo()}function PR(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Rn(t,"get","$attrs"),e[n]}}))}function LR(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return PR(t)},slots:t.slots,emit:t.emit,expose:e}}function Uv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy($I(Nf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in na)return na[n](t)},has(e,n){return n in e||n in na}}))}function MR(t,e=!0){return Vt(t)?t.displayName||t.name:t.name||e&&t.__name}function FR(t){return Vt(t)&&"__vccOpts"in t}const qt=(t,e)=>MO(t,e,_a);function Cs(t,e,n){const i=arguments.length;return i===2?ge(e)&&!Ot(e)?Ng(e)?Bt(t,null,[e]):Bt(t,e):Bt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ng(n)&&(n=[n]),Bt(t,e,n))}const VR=Symbol.for("v-scx"),jR=()=>rr(VR),UR="3.3.4",BR="http://www.w3.org/2000/svg",fo=typeof document<"u"?document:null,l_=fo&&fo.createElement("template"),qR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?fo.createElementNS(BR,t):fo.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>fo.createTextNode(t),createComment:t=>fo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>fo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,u){const a=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{l_.innerHTML=i?`<svg>${t}</svg>`:t;const l=l_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function $R(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function KR(t,e,n){const i=t.style,o=Le(n);if(n&&!o){if(e&&!Le(e))for(const u in e)n[u]==null&&xg(i,u,"");for(const u in n)xg(i,u,n[u])}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=u)}}const f_=/\s*!important$/;function xg(t,e,n){if(Ot(n))n.forEach(i=>xg(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=HR(t,e);f_.test(n)?t.setProperty(Ys(i),n.replace(f_,""),"important"):t[i]=n}}const h_=["Webkit","Moz","ms"],Gp={};function HR(t,e){const n=Gp[e];if(n)return n;let i=Lr(e);if(i!=="filter"&&i in t)return Gp[e]=i;i=Sf(i);for(let o=0;o<h_.length;o++){const u=h_[o]+i;if(u in t)return Gp[e]=u}return e}const d_="http://www.w3.org/1999/xlink";function zR(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(d_,e.slice(6,e.length)):t.setAttributeNS(d_,e,n);else{const u=tO(e);n==null||u&&!EI(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function GR(t,e,n,i,o,u,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,o,u),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const d=l==="OPTION"?t.getAttribute("value"):t.value,g=n??"";d!==g&&(t.value=g),n==null&&t.removeAttribute(e);return}let f=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=EI(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(e)}function WR(t,e,n,i){t.addEventListener(e,n,i)}function QR(t,e,n,i){t.removeEventListener(e,n,i)}function XR(t,e,n,i,o=null){const u=t._vei||(t._vei={}),a=u[e];if(i&&a)a.value=i;else{const[l,f]=YR(e);if(i){const d=u[e]=tD(i,o);WR(t,l,d,f)}else a&&(QR(t,l,a,f),u[e]=void 0)}}const p_=/(?:Once|Passive|Capture)$/;function YR(t){let e;if(p_.test(t)){e={};let i;for(;i=t.match(p_);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ys(t.slice(2)),e]}let Wp=0;const JR=Promise.resolve(),ZR=()=>Wp||(JR.then(()=>Wp=0),Wp=Date.now());function tD(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;pr(eD(i,n.value),e,5,[i])};return n.value=t,n.attached=ZR(),n}function eD(t,e){if(Ot(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const g_=/^on[a-z]/,nD=(t,e,n,i,o=!1,u,a,l,f)=>{e==="class"?$R(t,i,o):e==="style"?KR(t,n,i):Ef(e)?mv(e)||XR(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):rD(t,e,i,o))?GR(t,e,i,u,a,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),zR(t,e,i,o))};function rD(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&g_.test(e)&&Vt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||g_.test(e)&&Le(n)?!1:e in t}const iD=["ctrl","shift","alt","meta"],oD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>iD.some(n=>t[`${n}Key`]&&!e.includes(n))},Bl=(t,e)=>(n,...i)=>{for(let o=0;o<e.length;o++){const u=oD[e[o]];if(u&&u(n,e))return}return t(n,...i)},sD=ze({patchProp:nD},qR);let v_;function uD(){return v_||(v_=ER(sD))}const aD=(...t)=>{const e=uD().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=cD(i);if(!o)return;const u=e._component;!Vt(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function cD(t){return Le(t)?document.querySelector(t):t}var lD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let m1;const Pf=t=>m1=t,y1=Symbol();function Cg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var ia;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(ia||(ia={}));function fD(){const t=SI(!0),e=t.run(()=>vn({}));let n=[],i=[];const o=Nf({install(u){Pf(o),o._a=u,u.provide(y1,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!lD?i.push(u):n.push(u),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const w1=()=>{};function m_(t,e,n,i=w1){t.push(e);const o=()=>{const u=t.indexOf(e);u>-1&&(t.splice(u,1),i())};return!n&&AI()&&nO(o),o}function ls(t,...e){t.slice().forEach(n=>{n(...e)})}const hD=t=>t();function Og(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],o=t[n];Cg(o)&&Cg(i)&&t.hasOwnProperty(n)&&!ae(i)&&!Ni(i)?t[n]=Og(o,i):t[n]=i}return t}const dD=Symbol();function pD(t){return!Cg(t)||!t.hasOwnProperty(dD)}const{assign:vi}=Object;function gD(t){return!!(ae(t)&&t.effect)}function vD(t,e,n,i){const{state:o,actions:u,getters:a}=e,l=n.state.value[t];let f;function d(){l||(n.state.value[t]=o?o():{});const g=RO(n.state.value[t]);return vi(g,u,Object.keys(a||{}).reduce((v,y)=>(v[y]=Nf(qt(()=>{Pf(n);const b=n._s.get(t);return a[y].call(b,b)})),v),{}))}return f=b1(t,d,e,n,i,!0),f}function b1(t,e,n={},i,o,u){let a;const l=vi({actions:{}},n),f={deep:!0};let d,g,v=[],y=[],b;const _=i.state.value[t];!u&&!_&&(i.state.value[t]={}),vn({});let S;function N(W){let ht;d=g=!1,typeof W=="function"?(W(i.state.value[t]),ht={type:ia.patchFunction,storeId:t,events:b}):(Og(i.state.value[t],W),ht={type:ia.patchObject,payload:W,storeId:t,events:b});const A=S=Symbol();xr().then(()=>{S===A&&(d=!0)}),g=!0,ls(v,ht,i.state.value[t])}const O=u?function(){const{state:ht}=n,A=ht?ht():{};this.$patch(Wt=>{vi(Wt,A)})}:w1;function P(){a.stop(),v=[],y=[],i._s.delete(t)}function j(W,ht){return function(){Pf(i);const A=Array.from(arguments),Wt=[],oe=[];function se(st){Wt.push(st)}function ce(st){oe.push(st)}ls(y,{args:A,name:W,store:nt,after:se,onError:ce});let Qt;try{Qt=ht.apply(this&&this.$id===t?this:nt,A)}catch(st){throw ls(oe,st),st}return Qt instanceof Promise?Qt.then(st=>(ls(Wt,st),st)).catch(st=>(ls(oe,st),Promise.reject(st))):(ls(Wt,Qt),Qt)}}const q={_p:i,$id:t,$onAction:m_.bind(null,y),$patch:N,$reset:O,$subscribe(W,ht={}){const A=m_(v,W,ht.detached,()=>Wt()),Wt=a.run(()=>Wn(()=>i.state.value[t],oe=>{(ht.flush==="sync"?g:d)&&W({storeId:t,type:ia.direct,events:b},oe)},vi({},f,ht)));return A},$dispose:P},nt=Yr(q);i._s.set(t,nt);const It=(i._a&&i._a.runWithContext||hD)(()=>i._e.run(()=>(a=SI()).run(e)));for(const W in It){const ht=It[W];if(ae(ht)&&!gD(ht)||Ni(ht))u||(_&&pD(ht)&&(ae(ht)?ht.value=_[W]:Og(ht,_[W])),i.state.value[t][W]=ht);else if(typeof ht=="function"){const A=j(W,ht);It[W]=A,l.actions[W]=ht}}return vi(nt,It),vi(Jt(nt),It),Object.defineProperty(nt,"$state",{get:()=>i.state.value[t],set:W=>{N(ht=>{vi(ht,W)})}}),i._p.forEach(W=>{vi(nt,a.run(()=>W({store:nt,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(nt.$state,_),d=!0,g=!0,nt}function _1(t,e,n){let i,o;const u=typeof e=="function";typeof t=="string"?(i=t,o=u?n:e):(o=t,i=t.id);function a(l,f){const d=vR();return l=l||(d?rr(y1,null):null),l&&Pf(l),l=m1,l._s.has(i)||(u?b1(i,e,o,l):vD(i,o,l)),l._s.get(i)}return a.$id=i,a}let mD="Store";function yD(...t){return t.reduce((e,n)=>(e[n.$id+mD]=function(){return n(this.$pinia)},e),{})}function wD(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(){return t(this.$pinia)[i]},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(){const o=t(this.$pinia),u=e[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function E1(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[i](...o)},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[e[i]](...o)},n),{})}function Bv(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[i]},set(o){return t(this.$pinia)[i]=o}},n),{}):Object.keys(e).reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[e[i]]},set(o){return t(this.$pinia)[e[i]]=o}},n),{})}const ql=_1("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(t){return t.isOpen?"":"hidden"}}});var Rg=function(t,e){return Rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Rg(t,e)};function Tt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ea=function(){return Ea=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Ea.apply(this,arguments)};function H(t,e,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(g){try{d(i.next(g))}catch(v){a(v)}}function f(g){try{d(i.throw(g))}catch(v){a(v)}}function d(g){g.done?u(g.value):o(g.value).then(l,f)}d((i=i.apply(t,e||[])).next())})}function $(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(g){return f([d,g])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(g){d=[6,g],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Qp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function Ae(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I1=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bD=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=t[n++],a=t[n++],l=t[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{var u=t[n++],a=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return e.join("")},_D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var u=t[o],a=o+1<t.length,l=a?t[o+1]:0,f=o+2<t.length,d=f?t[o+2]:0,g=u>>2,v=(u&3)<<4|l>>4,y=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(y=64)),i.push(n[g],n[v],n[y],n[b])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I1(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var u=n[t.charAt(o++)],a=o<t.length,l=a?n[t.charAt(o)]:0;++o;var f=o<t.length,d=f?n[t.charAt(o)]:64;++o;var g=o<t.length,v=g?n[t.charAt(o)]:64;if(++o,u==null||l==null||d==null||v==null)throw Error();var y=u<<2|l>>4;if(i.push(y),d!==64){var b=l<<4&240|d>>2;if(i.push(b),v!==64){var _=d<<6&192|v;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ED=function(t){var e=I1(t);return _D.encodeByteArray(e,!0)},y_=function(t){return ED(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return Ia(void 0,t)}function Ia(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)!e.hasOwnProperty(i)||!TD(i)||(t[i]=Ia(t[i],e[i]));return t}function TD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SD=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Ea({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[y_(JSON.stringify(n)),y_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ND(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(To())}function T1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kD(){return typeof self=="object"&&self.self===self}function xD(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OD(){return To().indexOf("Electron/")>=0}function RD(){var t=To();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DD(){return To().indexOf("MSAppHost/")>=0}function PD(){return!T1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LD="FirebaseError",MD=function(t){Tt(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=LD,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,qv.prototype.create),u}return e}(Error),qv=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,a=this.errors[e],l=a?FD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new MD(u,f,o);return d},t}();function FD(t,e){return t.replace(VD,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var VD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jD(t,e){var n=new UD(t,e);return n.subscribe.bind(n)}var UD=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");BD(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=Xp),u.error===void 0&&(u.error=Xp),u.complete===void 0&&(u.complete=Xp);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function BD(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function Xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}var Lf=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qD=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new SD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(KD(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}try{for(var o=Qp(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=gl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(v){n={error:v}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=ao),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ae(Ae([],gl(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),gl(e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=ao),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=ao),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,i;e===void 0&&(e={});var o=e.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Qp(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=gl(d.value,2),v=g[0],y=g[1],b=this.normalizeInstanceIdentifier(v);a===b&&y.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&e(a,o),function(){u.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Qp(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(e,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,i=e.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:$D(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=ao),this.component?this.component.multipleInstances?e:ao:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function $D(t){return t===ao?void 0:t}function KD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HD=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new qD(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function lr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo,$v=[],te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));var S1={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},zD=te.INFO,GD=(uo={},uo[te.DEBUG]="log",uo[te.VERBOSE]="log",uo[te.INFO]="info",uo[te.WARN]="warn",uo[te.ERROR]="error",uo),WD=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=GD[e];if(u)console[u].apply(console,lr(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},A1=function(){function t(e){this.name=e,this._logLevel=zD,this._logHandler=WD,this._userLogHandler=null,$v.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in te))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?S1[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.DEBUG],e)),this._logHandler.apply(this,lr([this,te.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.VERBOSE],e)),this._logHandler.apply(this,lr([this,te.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.INFO],e)),this._logHandler.apply(this,lr([this,te.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.WARN],e)),this._logHandler.apply(this,lr([this,te.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.ERROR],e)),this._logHandler.apply(this,lr([this,te.ERROR],e))},t}();function QD(t){$v.forEach(function(e){e.setLogLevel(t)})}function XD(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=S1[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var g=[],v=2;v<arguments.length;v++)g[v-2]=arguments[v];var y=g.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&t({level:te[d].toLowerCase(),message:y,args:g,type:f.name})}},i=0,o=$v;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hi,YD=(hi={},hi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",hi["bad-app-name"]="Illegal App name: '{$appName}",hi["duplicate-app"]="Firebase App named '{$appName}' already exists",hi["app-deleted"]="Firebase App named '{$appName}' already deleted",hi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",hi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",hi),ps=new qv("app","Firebase",YD),N1="@firebase/app",JD="0.6.30",ZD="@firebase/analytics",tP="@firebase/app-check",eP="@firebase/auth",nP="@firebase/database",rP="@firebase/functions",iP="@firebase/installations",oP="@firebase/messaging",sP="@firebase/performance",uP="@firebase/remote-config",aP="@firebase/storage",cP="@firebase/firestore",lP="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,$l="[DEFAULT]",fP=(rn={},rn[N1]="fire-core",rn[ZD]="fire-analytics",rn[tP]="fire-app-check",rn[eP]="fire-auth",rn[nP]="fire-rtdb",rn[rP]="fire-fn",rn[iP]="fire-iid",rn[oP]="fire-fcm",rn[sP]="fire-perf",rn[uP]="fire-rc",rn[aP]="fire-gcs",rn[cP]="fire-fst",rn["fire-js"]="fire-js",rn[lP]="fire-js-all",rn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Os=new A1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xl=function(){function t(e,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=ID(e),this.container=new HD(n.name),this._addComponent(new Lf("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var i;n===void 0&&(n=$l),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=$l),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Os.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ps.create("app-deleted",{appName:this.name_})},t}();xl.prototype.name&&xl.prototype.options||xl.prototype.delete||console.log("dc");var hP="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){var e={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:QD,onLog:g,apps:null,SDK_VERSION:hP,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:v}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(y){delete e[y]}function u(y){if(y=y||$l,!w_(e,y))throw ps.create("no-app",{appName:y});return e[y]}u.App=t;function a(y,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var S=b;S.name===void 0&&(S.name=$l);var N=S.name;if(typeof N!="string"||!N)throw ps.create("bad-app-name",{appName:String(N)});if(w_(e,N))throw ps.create("duplicate-app",{appName:N});var O=new t(y,S,i);return e[N]=O,O}function l(){return Object.keys(e).map(function(y){return e[y]})}function f(y){var b=y.name;if(n.has(b))return Os.debug("There were multiple attempts to register component "+b+"."),y.type==="PUBLIC"?i[b]:null;if(n.set(b,y),y.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=u()),typeof P[b]!="function")throw ps.create("invalid-app-argument",{appName:b});return P[b]()};y.serviceProps!==void 0&&Ia(_,y.serviceProps),i[b]=_,t.prototype[b]=function(){for(var P=[],j=0;j<arguments.length;j++)P[j]=arguments[j];var q=this._getService.bind(this,b);return q.apply(this,y.multipleInstances?P:[])}}for(var S=0,N=Object.keys(e);S<N.length;S++){var O=N[S];e[O]._addComponent(y)}return y.type==="PUBLIC"?i[b]:null}function d(y,b,_){var S,N=(S=fP[y])!==null&&S!==void 0?S:y;_&&(N+="-"+_);var O=N.match(/\s|\//),P=b.match(/\s|\//);if(O||P){var j=['Unable to register library "'+N+'" with version "'+b+'":'];O&&j.push('library name "'+N+'" contains illegal characters (whitespace or "/")'),O&&P&&j.push("and"),P&&j.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Os.warn(j.join(" "));return}f(new Lf(N+"-version",function(){return{library:N,version:b}},"VERSION"))}function g(y,b){if(y!==null&&typeof y!="function")throw ps.create("invalid-log-argument");XD(y,b)}function v(y,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){var t=dP(xl);t.INTERNAL=Ea(Ea({},t.INTERNAL),{createFirebaseNamespace:k1,extendNamespace:e,createSubscribe:jD,ErrorFactory:qv,deepExtend:Ia});function e(n){Ia(t,n)}return t}var Kv=k1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pP=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(gP(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function gP(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){t.INTERNAL.registerComponent(new Lf("platform-logger",function(n){return new pP(n)},"PRIVATE")),t.registerVersion(N1,JD,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(kD()&&self.firebase!==void 0){Os.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var b_=self.firebase.SDK_VERSION;b_&&b_.indexOf("LITE")>=0&&Os.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var mP=Kv.initializeApp;Kv.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return T1()&&Os.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),mP.apply(void 0,t)};var xt=Kv;vP(xt);var yP="firebase",x1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.registerVersion(yP,x1,"app");xt.SDK_VERSION=x1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in c||(c[p]={}),c=c[p]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&e(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(L){E.reject(L)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var p=i.setTimeout;c.prototype.c=function(w){p(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var L=w[E];w[E]=null;try{L()}catch(K){this.f(K)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(K){return function(Ct){L||(L=!0,K.call(E,Ct))}}var E=this,L=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{t:switch(typeof w){case"object":var E=w!=null;break t;case"function":E=!0;break t;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(L){this.g(L);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)m.b(this.a[w]);this.a=null}};var m=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var L=this.f();try{w.call(E,L.resolve,L.reject)}catch(K){L.reject(K)}},s.prototype.then=function(w,E){function L(Zt,$e){return typeof Zt=="function"?function(qr){try{K(Zt(qr))}catch(qp){Ct(qp)}}:$e}var K,Ct,re=new s(function(Zt,$e){K=Zt,Ct=$e});return this.Ra(L(w,K),L(E,Ct)),re},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function L(){switch(K.b){case 1:w(K.c);break;case 2:E(K.c);break;default:throw Error("Unexpected state: "+K.b)}}var K=this;this.a==null?m.b(L):this.a.push(L)},s.resolve=h,s.reject=function(w){return new s(function(E,L){L(w)})},s.race=function(w){return new s(function(E,L){for(var K=a(w),Ct=K.next();!Ct.done;Ct=K.next())h(Ct.value).Ra(E,L)})},s.all=function(w){var E=a(w),L=E.next();return L.done?h([]):new s(function(K,Ct){function re(qr){return function(qp){Zt[qr]=qp,$e--,$e==0&&K(Zt)}}var Zt=[],$e=0;do Zt.push(void 0),$e++,h(L.value).Ra(re(Zt.length-1),Ct),L=E.next();while(!L.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function v(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function y(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function S(r){return b(r)=="function"}function N(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function O(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++j)}var P="closure_uid_"+(1e9*Math.random()>>>0),j=0;function q(r,s,c){return r.call.apply(r.bind,arguments)}function nt(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(s,p)}}return function(){return r.apply(s,arguments)}}function V(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=q:V=nt,V.apply(null,arguments)}function It(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function W(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ht(r){return r}function A(r,s,c){this.code=oe+r,this.message=s||se[r]||"",this.a=c||null}W(A,Error),A.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},A.prototype.toJSON=function(){return this.w()};function Wt(r){var s=r&&r.code;return s?new A(s.substring(oe.length),r.message,r.serverResponse):null}var oe="auth/",se={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ce={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Qt(r){for(var s in ce)if(ce[s].id===r)return r=ce[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var st;st=Qt("__EID__")?"__EID__":void 0;function Lt(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function gt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,gt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}W(gt,Error),gt.prototype.name="CustomError";function he(r,s){r=r.split("%s");for(var c="",h=r.length-1,p=0;p<h;p++)c+=r[p]+(p<s.length?s[p]:"%s");gt.call(this,c+r[h])}W(he,gt),he.prototype.name="AssertionError";function Ie(r,s){throw new he("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Ve(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Ve.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ce(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function de(){this.b=this.a=null}var Mn=new Ve(function(){return new vt},function(r){r.reset()});de.prototype.add=function(r,s){var c=Mn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function dt(){var r=Ay,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function vt(){this.next=this.b=this.a=null}vt.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},vt.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},U=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,p=typeof r=="string"?r.split(""):r,m=0;m<h;m++)m in p&&s.call(c,p[m],m,r)};function J(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ut=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],p=0,m=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in m){var E=m[w];s.call(void 0,E,w,r)&&(h[p++]=E)}return h},Rt=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),p=typeof r=="string"?r.split(""):r,m=0;m<c;m++)m in p&&(h[m]=s.call(void 0,p[m],m,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r))return!0;return!1};function T(r){t:{for(var s=_k,c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r)){s=p;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function C(r,s){return 0<=R(r,s)}function M(r,s){s=R(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function F(r,s){var c=0;J(r,function(h,p){s.call(void 0,h,p,r)&&Array.prototype.splice.call(r,p,1).length==1&&c++})}function z(r){return Array.prototype.concat.apply([],arguments)}function et(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var X=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},Z=/&/g,Q=/</g,wt=/>/g,at=/"/g,mt=/'/g,St=/\x00/g,Ut=/[\x00&<>"']/;function _t(r,s){return r.indexOf(s)!=-1}function x(r,s){return r<s?-1:r>s?1:0}var k;t:{var B=f.navigator;if(B){var it=B.userAgent;if(it){k=it;break t}}k=""}function lt(r){return _t(k,r)}function At(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function Ft(r){for(var s in r)return!1;return!0}function kt(r){var s={},c;for(c in r)s[c]=r[c];return s}var Mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(r,s){for(var c,h,p=1;p<arguments.length;p++){h=arguments[p];for(c in h)r[c]=h[c];for(var m=0;m<Mt.length;m++)c=Mt[m],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function en(r,s){t:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[s]<"u"&&(!r||!(r instanceof p[s])&&(r instanceof p.Location||r instanceof p.Element))){if(N(r))try{var m=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{m="<object could not be stringified>"}else m=r===void 0?"undefined":r===null?"null":typeof r;Ie("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,m)}}function nn(r,s){this.a=r===ac&&s||"",this.b=uy}nn.prototype.ta=!0,nn.prototype.sa=function(){return this.a},nn.prototype.toString=function(){return"Const{"+this.a+"}"};function gh(r){return r instanceof nn&&r.constructor===nn&&r.b===uy?r.a:(Ie("expected object of type Const, got '"+r+"'"),"type_error:Const")}var uy={},ac={},cc;function ay(){if(cc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ht,createScript:ht,createScriptURL:ht})}catch(c){f.console&&f.console.error(c.message)}cc=r}else cc=r}return cc}function Uo(r,s){this.a=s===ly?r:""}Uo.prototype.ta=!0,Uo.prototype.sa=function(){return this.a.toString()},Uo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function cy(r){return r instanceof Uo&&r.constructor===Uo?r.a:(Ie("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function vh(r,s){var c=gh(r);if(!YA.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(XA,function(h,p){if(!Object.prototype.hasOwnProperty.call(s,p))throw Error('Found marker, "'+p+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[p],h instanceof nn?gh(h):encodeURIComponent(String(h))}),JA(r)}var XA=/%{(\w+)}/g,YA=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,ly={};function JA(r){var s=ay();return r=s?s.createScriptURL(r):r,new Uo(r,ly)}function In(r,s){this.a=s===cu?r:""}In.prototype.ta=!0,In.prototype.sa=function(){return this.a.toString()},In.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function lc(r){return r instanceof In&&r.constructor===In?r.a:(Ie("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var ZA=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,tN=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,fy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function hy(r){if(r instanceof In)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),fy.test(r))r=new In(r,cu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(tN);r=s&&ZA.test(s[1])?new In(r,cu):null}return r}function dy(r){return r instanceof In?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),fy.test(r)||(r="about:invalid#zClosurez"),new In(r,cu))}var cu={},py=new In("about:invalid#zClosurez",cu);function Bo(r,s,c){this.a=c===gy?r:""}Bo.prototype.ta=!0,Bo.prototype.sa=function(){return this.a.toString()},Bo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function eN(r){return r instanceof Bo&&r.constructor===Bo?r.a:(Ie("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var gy={};function nN(r,s){en(r,"HTMLScriptElement"),r.src=cy(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=v(s.document):(g===null&&(g=v(f.document)),s=g),s&&r.setAttribute("nonce",s)}function vy(r,s,c,h){return r=r instanceof In?r:dy(r),s=s||f,c=c instanceof nn?gh(c):c||"",s.open(lc(r),c,h,void 0)}function my(r,s){for(var c=r.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<c.length;)h+=c.shift()+p.shift();return h+c.join("%s")}function mh(r){return Ut.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(Z,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(wt,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(at,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(mt,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(St,"&#0;"))),r}function yh(r){return yh[" "](r),r}yh[" "]=y;function rN(r,s){var c=uN;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var iN=lt("Opera"),ir=lt("Trident")||lt("MSIE"),yy=lt("Edge"),oN=yy||ir,wy=lt("Gecko")&&!(_t(k.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),sN=_t(k.toLowerCase(),"webkit")&&!lt("Edge");function by(){var r=f.document;return r?r.documentMode:void 0}var fc;t:{var wh="",bh=function(){var r=k;if(wy)return/rv:([^\);]+)(\)|;)/.exec(r);if(yy)return/Edge\/([\d\.]+)/.exec(r);if(ir)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(sN)return/WebKit\/(\S+)/.exec(r);if(iN)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(bh&&(wh=bh?bh[1]:""),ir){var _h=by();if(_h!=null&&_h>parseFloat(wh)){fc=String(_h);break t}}fc=wh}var uN={};function _y(r){return rN(r,function(){for(var s=0,c=X(String(fc)).split("."),h=X(String(r)).split("."),p=Math.max(c.length,h.length),m=0;s==0&&m<p;m++){var w=c[m]||"",E=h[m]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=x(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||x(w[2].length==0,E[2].length==0)||x(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var Eh;if(f.document&&ir){var Ey=by();Eh=Ey||parseInt(fc,10)||void 0}else Eh=void 0;var ri=Eh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var aN=!ir||9<=Number(ri);function lu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function Iy(r,s){At(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:Ty.hasOwnProperty(h)?r.setAttribute(Ty[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var Ty={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function cN(r,s,c){var h=arguments,p=document,m=String(h[0]),w=h[1];if(!aN&&w&&(w.name||w.type)){if(m=["<",m],w.name&&m.push(' name="',mh(w.name),'"'),w.type){m.push(' type="',mh(w.type),'"');var E={};Dt(E,w),delete E.type,w=E}m.push(">"),m=m.join("")}return m=hc(p,m),w&&(typeof w=="string"?m.className=w:Array.isArray(w)?m.className=w.join(" "):Iy(m,w)),2<h.length&&lN(p,m,h),m}function lN(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var p=2;p<c.length;p++){var m=c[p];if(!_(m)||N(m)&&0<m.nodeType)h(m);else{t:{if(m&&typeof m.length=="number"){if(N(m)){var w=typeof m.item=="function"||typeof m.item=="string";break t}if(S(m)){w=typeof m.item=="function";break t}}w=!1}U(w?et(m):m,h)}}}function hc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function Sy(r){f.setTimeout(function(){throw r},0)}var Ih;function fN(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(r=function(){var p=hc(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var m=p.contentWindow;p=m.document,p.open(),p.close();var w="callImmediate"+Math.random(),E=m.location.protocol=="file:"?"*":m.location.protocol+"//"+m.location.host;p=V(function(L){(E=="*"||L.origin==E)&&L.data==w&&this.port1.onmessage()},this),m.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){m.postMessage(w,E)}}}),typeof r<"u"&&!lt("Trident")&&!lt("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var p=c.Hb;c.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,s.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function dc(r,s){pc||hN(),Th||(pc(),Th=!0),Ay.add(r,s)}var pc;function hN(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);pc=function(){r.then(Ny)}}else pc=function(){var s=Ny;!S(f.setImmediate)||f.Window&&f.Window.prototype&&!lt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Ih||(Ih=fN()),Ih(s)):f.setImmediate(s)}}var Th=!1,Ay=new de;function Ny(){for(var r;r=dt();){try{r.a.call(r.b)}catch(s){Sy(s)}Ce(Mn,r)}Th=!1}function Kt(r,s){if(this.a=Ui,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=y)try{var c=this;r.call(s,function(h){Bi(c,fu,h)},function(h){if(!(h instanceof qo))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Bi(c,Vr,h)})}catch(h){Bi(this,Vr,h)}}var Ui=0,fu=2,Vr=3;function ky(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ky.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xy=new Ve(function(){return new ky},function(r){r.reset()});function Sh(r,s,c){var h=xy.get();return h.g=r,h.b=s,h.f=c,h}function Et(r){if(r instanceof Kt)return r;var s=new Kt(y);return Bi(s,fu,r),s}function ve(r){return new Kt(function(s,c){c(r)})}function Cy(r,s,c){Py(r,s,c,null)||dc(It(s,r))}function dN(r){return new Kt(function(s,c){var h=r.length,p=[];if(h)for(var m=function(K,Ct){h--,p[K]=Ct,h==0&&s(p)},w=function(K){c(K)},E=0,L;E<r.length;E++)L=r[E],Cy(L,It(m,E),w);else s(p)})}function Oy(r){return new Kt(function(s){var c=r.length,h=[];if(c)for(var p=function(E,L,K){c--,h[E]=L?{Qb:!0,value:K}:{Qb:!1,reason:K},c==0&&s(h)},m=0,w;m<r.length;m++)w=r[m],Cy(w,It(p,m,!0),It(p,m,!1));else s(h)})}Kt.prototype.then=function(r,s,c){return Dy(this,S(r)?r:null,S(s)?s:null,c)},Kt.prototype.$goog_Thenable=!0,t=Kt.prototype,t.oa=function(r,s){return r=Sh(r,r,s),r.c=!0,Ah(this,r),this},t.o=function(r,s){return Dy(this,null,r,s)},t.cancel=function(r){if(this.a==Ui){var s=new qo(r);dc(function(){Ry(this,s)},this)}};function Ry(r,s){if(r.a==Ui)if(r.c){var c=r.c;if(c.b){for(var h=0,p=null,m=null,w=c.b;w&&(w.c||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(m=w);p&&(c.a==Ui&&h==1?Ry(c,s):(m?(h=m,h.next==c.f&&(c.f=h),h.next=h.next.next):My(c),Fy(c,p,Vr,s)))}r.c=null}else Bi(r,Vr,s)}function Ah(r,s){r.b||r.a!=fu&&r.a!=Vr||Ly(r),r.f?r.f.next=s:r.b=s,r.f=s}function Dy(r,s,c,h){var p=Sh(null,null,null);return p.a=new Kt(function(m,w){p.g=s?function(E){try{var L=s.call(h,E);m(L)}catch(K){w(K)}}:m,p.b=c?function(E){try{var L=c.call(h,E);L===void 0&&E instanceof qo?w(E):m(L)}catch(K){w(K)}}:w}),p.a.c=r,Ah(r,p),p.a}t.$c=function(r){this.a=Ui,Bi(this,fu,r)},t.ad=function(r){this.a=Ui,Bi(this,Vr,r)};function Bi(r,s,c){r.a==Ui&&(r===c&&(s=Vr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,Py(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,Ly(r),s!=Vr||c instanceof qo||gN(r,c)))}function Py(r,s,c,h){if(r instanceof Kt)return Ah(r,Sh(s||y,c||null,h)),!0;if(Lt(r))return r.then(s,c,h),!0;if(N(r))try{var p=r.then;if(S(p))return pN(r,p,s,c,h),!0}catch(m){return c.call(h,m),!0}return!1}function pN(r,s,c,h,p){function m(L){E||(E=!0,h.call(p,L))}function w(L){E||(E=!0,c.call(p,L))}var E=!1;try{s.call(r,w,m)}catch(L){m(L)}}function Ly(r){r.h||(r.h=!0,dc(r.gc,r))}function My(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.gc=function(){for(var r;r=My(this);)Fy(this,r,this.a,this.i);this.h=!1};function Fy(r,s,c,h){if(c==Vr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Vy(s,c,h);else try{s.c?s.g.call(s.f):Vy(s,c,h)}catch(p){jy.call(null,p)}Ce(xy,s)}function Vy(r,s,c){s==fu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function gN(r,s){r.g=!0,dc(function(){r.g&&jy.call(null,s)})}var jy=Sy;function qo(r){gt.call(this,r)}W(qo,gt),qo.prototype.name="cancel";function gc(){this.ya=this.ya,this.pa=this.pa}var vN=0;gc.prototype.ya=!1;function Uy(r){!r.ya&&(r.ya=!0,r.Da(),vN!=0)&&O(r)}gc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var mN=Object.freeze||function(r){return r},By=!ir||9<=Number(ri),yN=ir&&!_y("9"),wN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",y,s),f.removeEventListener("test",y,s)}catch{}return r}();function Tn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Tn.prototype.preventDefault=function(){this.defaultPrevented=!0};function qi(r,s){if(Tn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(wy){t:{try{yh(s.nodeName);var p=!0;break t}catch{}p=!1}p||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:bN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}W(qi,Tn);var bN=mN({2:"touch",3:"pen",4:"mouse"});qi.prototype.preventDefault=function(){qi.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,yN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},qi.prototype.g=function(){return this.a};var hu="closure_listenable_"+(1e6*Math.random()|0),_N=0;function EN(r,s,c,h,p){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=p,this.key=++_N,this.wa=this.Qa=!1}function vc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function mc(r){this.src=r,this.a={},this.b=0}mc.prototype.add=function(r,s,c,h,p){var m=r.toString();r=this.a[m],r||(r=this.a[m]=[],this.b++);var w=kh(r,s,h,p);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new EN(s,this.src,m,!!h,p),s.Qa=c,r.push(s)),s};function Nh(r,s){var c=s.type;c in r.a&&M(r.a[c],s)&&(vc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function kh(r,s,c,h){for(var p=0;p<r.length;++p){var m=r[p];if(!m.wa&&m.listener==s&&m.capture==!!c&&m.Wa==h)return p}return-1}var xh="closure_lm_"+(1e6*Math.random()|0),Ch={};function Yn(r,s,c,h,p){if(h&&h.once)Oh(r,s,c,h,p);else if(Array.isArray(s))for(var m=0;m<s.length;m++)Yn(r,s[m],c,h,p);else c=Dh(c),r&&r[hu]?Gy(r,s,c,N(h)?!!h.capture:!!h,p):qy(r,s,c,!1,h,p)}function qy(r,s,c,h,p,m){if(!s)throw Error("Invalid event type");var w=N(p)?!!p.capture:!!p,E=yc(r);if(E||(r[xh]=E=new mc(r)),c=E.add(s,c,h,w,m),!c.proxy)if(h=IN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)wN||(p=w),p===void 0&&(p=!1),r.addEventListener(s.toString(),h,p);else if(r.attachEvent)r.attachEvent(Ky(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function IN(){var r=TN,s=By?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function Oh(r,s,c,h,p){if(Array.isArray(s))for(var m=0;m<s.length;m++)Oh(r,s[m],c,h,p);else c=Dh(c),r&&r[hu]?Ph(r,s,c,N(h)?!!h.capture:!!h,p):qy(r,s,c,!0,h,p)}function Fn(r,s,c,h,p){if(Array.isArray(s))for(var m=0;m<s.length;m++)Fn(r,s[m],c,h,p);else h=N(h)?!!h.capture:!!h,c=Dh(c),r&&r[hu]?(r=r.v,s=String(s).toString(),s in r.a&&(m=r.a[s],c=kh(m,c,h,p),-1<c&&(vc(m[c]),Array.prototype.splice.call(m,c,1),m.length==0&&(delete r.a[s],r.b--)))):r&&(r=yc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=kh(s,c,h,p)),(c=-1<r?s[r]:null)&&$y(c))}function $y(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[hu])Nh(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(Ky(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=yc(s))?(Nh(c,r),c.b==0&&(c.src=null,s[xh]=null)):vc(r)}}}function Ky(r){return r in Ch?Ch[r]:Ch[r]="on"+r}function Hy(r,s,c,h){var p=!0;if((r=yc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var m=s[r];m&&m.capture==c&&!m.wa&&(m=zy(m,h),p=p&&m!==!1)}return p}function zy(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&$y(r),c.call(h,s)}function TN(r,s){if(r.wa)return!0;if(!By){if(!s)t:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break t}s=c}if(h=s,s=new qi(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=s.b;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;0<=p;p--){s.b=h[p];var m=Hy(h[p],r,!0,s);c=c&&m}for(p=0;p<h.length;p++)s.b=h[p],m=Hy(h[p],r,!1,s),c=c&&m}return c}return zy(r,new qi(s,this))}function yc(r){return r=r[xh],r instanceof mc?r:null}var Rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dh(r){return S(r)?r:(r[Rh]||(r[Rh]=function(s){return r.handleEvent(s)}),r[Rh])}function hn(){gc.call(this),this.v=new mc(this),this.bc=this,this.hb=null}W(hn,gc),hn.prototype[hu]=!0,hn.prototype.addEventListener=function(r,s,c,h){Yn(this,r,s,c,h)},hn.prototype.removeEventListener=function(r,s,c,h){Fn(this,r,s,c,h)},hn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Tn(r,c);else if(r instanceof Tn)r.target=r.target||c;else{var p=r;r=new Tn(h,c),Dt(r,p)}if(p=!0,s)for(var m=s.length-1;0<=m;m--){var w=r.b=s[m];p=wc(w,h,!0,r)&&p}if(w=r.b=c,p=wc(w,h,!0,r)&&p,p=wc(w,h,!1,r)&&p,s)for(m=0;m<s.length;m++)w=r.b=s[m],p=wc(w,h,!1,r)&&p;return p},hn.prototype.Da=function(){if(hn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)vc(c[h]);delete r.a[s],r.b--}}this.hb=null};function Gy(r,s,c,h,p){r.v.add(String(s),c,!1,h,p)}function Ph(r,s,c,h,p){r.v.add(String(s),c,!0,h,p)}function wc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var p=!0,m=0;m<s.length;++m){var w=s[m];if(w&&!w.wa&&w.capture==c){var E=w.listener,L=w.Wa||w.src;w.Qa&&Nh(r.v,w),p=E.call(L,h)!==!1&&p}}return p&&!h.defaultPrevented}function Lh(r,s,c){if(S(r))c&&(r=V(r,c));else if(r&&typeof r.handleEvent=="function")r=V(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function $o(r){var s=null;return new Kt(function(c,h){s=Lh(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function Wy(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function Qy(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function SN(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")U(r,s,void 0);else for(var c=Qy(r),h=Wy(r),p=h.length,m=0;m<p;m++)s.call(void 0,h[m],c&&c[m],r)}function Ko(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof Ko)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}t=Ko.prototype,t.X=function(){Mh(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return Mh(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Mh(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];$i(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var p={};for(c=s=0;s<r.a.length;)h=r.a[s],$i(p,h)||(r.a[c++]=h,p[h]=1),s++;r.a.length=c}}t.get=function(r,s){return $i(this.b,r)?this.b[r]:s},t.set=function(r,s){$i(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var p=c[h],m=this.get(p);r.call(s,m,p,this)}};function $i(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Xy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function AN(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),p=null;if(0<=h){var m=r[c].substring(0,h);p=r[c].substring(h+1)}else m=r[c];s(m,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ii(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof ii?(this.i=s!==void 0?s:r.i,du(this,r.c),this.l=r.l,this.a=r.a,pu(this,r.g),this.f=r.f,Fh(this,t0(r.b)),this.h=r.h):r&&(c=String(r).match(Xy))?(this.i=!!s,du(this,c[1]||"",!0),this.l=gu(c[2]||""),this.a=gu(c[3]||"",!0),pu(this,c[4]),this.f=gu(c[5]||"",!0),Fh(this,c[6]||"",!0),this.h=gu(c[7]||"")):(this.i=!!s,this.b=new Ki(null,this.i))}ii.prototype.toString=function(){var r=[],s=this.c;s&&r.push(vu(s,Yy,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(vu(s,Yy,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(vu(c,c.charAt(0)=="/"?xN:kN,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",vu(c,ON)),r.join("")},ii.prototype.resolve=function(r){var s=new ii(this),c=!!r.c;c?du(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)pu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=s.f.lastIndexOf("/");p!=-1&&(h=s.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(_t(p,"./")||_t(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var m=[],w=0;w<p.length;){var E=p[w++];E=="."?h&&w==p.length&&m.push(""):E==".."?((1<m.length||m.length==1&&m[0]!="")&&m.pop(),h&&w==p.length&&m.push("")):(m.push(E),h=!0)}h=m.join("/")}else h=p}return c?s.f=h:c=r.b.toString()!=="",c?Fh(s,t0(r.b)):c=!!r.h,c&&(s.h=r.h),s};function du(r,s,c){r.c=c?gu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function pu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function Fh(r,s,c){s instanceof Ki?(r.b=s,RN(r.b,r.i)):(c||(s=vu(s,CN)),r.b=new Ki(s,r.i))}function Ne(r,s,c){r.b.set(s,c)}function Jn(r,s){return r.b.get(s)}function Sn(r){return r instanceof ii?new ii(r):new ii(r,void 0)}function bc(r,s,c,h){var p=new ii(null,void 0);return r&&du(p,r),s&&(p.a=s),c&&pu(p,c),h&&(p.f=h),p}function gu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function vu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,NN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function NN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Yy=/[#\/\?@]/g,kN=/[#\?:]/g,xN=/[#\?]/g,CN=/[#\?@]/g,ON=/#/g;function Ki(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function oi(r){r.a||(r.a=new Ko,r.b=0,r.c&&AN(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function Jy(r){var s=Qy(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new Ki(null,void 0);r=Wy(r);for(var h=0;h<s.length;h++){var p=s[h],m=r[h];Array.isArray(m)?Zy(c,p,m):c.add(p,m)}return c}t=Ki.prototype,t.add=function(r,s){oi(this),this.c=null,r=Ho(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function br(r,s){oi(r),s=Ho(r,s),$i(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,$i(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&Mh(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function Vh(r,s){return oi(r),s=Ho(r,s),$i(r.a.b,s)}t.forEach=function(r,s){oi(this),this.a.forEach(function(c,h){U(c,function(p){r.call(s,p,h,this)},this)},this)},t.Y=function(){oi(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var p=r[h],m=0;m<p.length;m++)c.push(s[h]);return c},t.X=function(r){oi(this);var s=[];if(typeof r=="string")Vh(this,r)&&(s=z(s,this.a.get(Ho(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=z(s,r[c])}return s},t.set=function(r,s){return oi(this),this.c=null,r=Ho(this,r),Vh(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Zy(r,s,c){br(r,s),0<c.length&&(r.c=null,r.a.set(Ho(r,s),et(c)),r.b+=c.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],p=encodeURIComponent(String(h));h=this.X(h);for(var m=0;m<h.length;m++){var w=p;h[m]!==""&&(w+="="+encodeURIComponent(String(h[m]))),r.push(w)}}return this.c=r.join("&")};function t0(r){var s=new Ki;return s.c=r.c,r.a&&(s.a=new Ko(r.a),s.b=r.b),s}function Ho(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function RN(r,s){s&&!r.f&&(oi(r),r.c=null,r.a.forEach(function(c,h){var p=h.toLowerCase();h!=p&&(br(this,h),Zy(this,p,c))},r)),r.f=s}function e0(r){var s=[];return jh(new DN,r,s),s.join("")}function DN(){}function jh(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var p="",m=0;m<s;m++)c.push(p),jh(r,h[m],c),p=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),p="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(m=s[h],typeof m!="function"&&(c.push(p),r0(h,c),c.push(":"),jh(r,m,c),p=","));c.push("}");return}}switch(typeof s){case"string":r0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var n0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},PN=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function r0(r,s){s.push('"',r.replace(PN,function(c){var h=n0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),n0[c]=h),h}),'"')}function Uh(){var r=We();return ir&&!!ri&&ri==11||/Edge\/\d+/.test(r)}function mu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function i0(r,s){s=s||f.window;var c="about:blank";r&&(c=lc(hy(r)||py)),s.location.href=c}function o0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<o0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function LN(){var r=We();return r=zo(r)!=c0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!ir||!ri||9<ri}function s0(r){return r=(r||We()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Hi(r){r=r||f.window;try{r.close()}catch{}}function u0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var p=(window.screen.availHeight-c)/2,m=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<p?p:0,left:0<m?m:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=We().toLowerCase(),h&&(s.target=h,_t(c,"crios/")&&(s.target="_blank")),zo(We())==$h&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof In?c:hy(typeof c.href<"u"?c.href:String(c))||py,c=r.target||c.target,p=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(r[w]?1:0))}var w=p.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=hc(document,"A"),en(w,"HTMLAnchorElement"),s=s instanceof In?s:dy(s),w.href=lc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=vy("",h,c,w),r=lc(s),w&&(oN&&_t(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+mh(r)+'">',r=(h=ay())?h.createHTML(r):r,r=new Bo(r,null,gy),h=w.document)&&(h.write(eN(r)),h.close())):(w=vy(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function MN(r){return new Kt(function(s){function c(){$o(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var FN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VN=/^[^@]+@[^@]+$/;function _c(){var r=null;return new Kt(function(s){f.document.readyState=="complete"?s():(r=function(){s()},Oh(window,"load",r))}).o(function(s){throw Fn(window,"load",r),s})}function jN(){return Bh(void 0)?_c().then(function(){return new Kt(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):ve(Error("Cordova must run in an Android or iOS file scheme."))}function Bh(r){return r=r||We(),!(Wo()!=="file:"&&Wo()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function qh(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function or(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function _r(){return xt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xt.INTERNAL.hasOwnProperty("node")?"Node":or()?"Worker":"Browser"}function a0(){var r=_r();return r==="ReactNative"||r==="Node"}function UN(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var $h="Firefox",c0="Chrome";function zo(r){var s=r.toLowerCase();if(_t(s,"opera/")||_t(s,"opr/")||_t(s,"opios/"))return"Opera";if(_t(s,"iemobile"))return"IEMobile";if(_t(s,"msie")||_t(s,"trident/"))return"IE";if(_t(s,"edge/"))return"Edge";if(_t(s,"firefox/"))return $h;if(_t(s,"silk/"))return"Silk";if(_t(s,"blackberry"))return"Blackberry";if(_t(s,"webos"))return"Webos";if(!_t(s,"safari/")||_t(s,"chrome/")||_t(s,"crios/")||_t(s,"android"))if(!_t(s,"chrome/")&&!_t(s,"crios/")||_t(s,"edge/")){if(_t(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return c0;else return"Safari";return"Other"}var l0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Go(r,s){s=s||[];var c=[],h={},p;for(p in l0)h[l0[p]]=!0;for(p=0;p<s.length;p++)typeof h[s[p]]<"u"&&(delete h[s[p]],c.push(s[p]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=_r(),c==="Browser"?(h=We(),c=zo(h)):c==="Worker"&&(h=We(),c=zo(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function We(){return f.navigator&&f.navigator.userAgent||""}function me(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Kh(){try{var r=f.localStorage,s=Gi();if(r)return r.setItem(s,"1"),r.removeItem(s),Uh()?!!f.indexedDB:!0}catch{return or()&&!!f.indexedDB}return!1}function zi(){return(Ec()||Wo()==="chrome-extension:"||Bh())&&!a0()&&Kh()&&!or()}function Ec(){return Wo()==="http:"||Wo()==="https:"}function Wo(){return f.location&&f.location.protocol||null}function yu(r){return r=r||We(),!(s0(r)||zo(r)==$h)}function wu(r){return typeof r>"u"?null:e0(r)}function f0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function Qo(r){if(r!==null)return JSON.parse(r)}function Gi(r){return r||Math.floor(1e9*Math.random()).toString()}function h0(r){return r=r||We(),!(zo(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function d0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function si(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=We(),s=_r(),this.b=s0(r)||s==="ReactNative"}si.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Ec()||Wo()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Hh(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function BN(){var r=f.document,s=null;return Hh()||!r?Et():new Kt(function(c){s=function(){Hh()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function bu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function p0(){return!(!me("fireauth.oauthhelper",f)&&!me("fireauth.iframe",f))}function qN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function $N(){var r=f.navigator;return r&&r.serviceWorker?Et().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Et(null)}var g0={};function zh(r){g0[r]||(g0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Gh;try{var Wh={};Object.defineProperty(Wh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Wh,"abcd",{configurable:!0,enumerable:!0,value:2}),Gh=Wh.abcd==2}catch{Gh=!1}function pt(r,s,c){Gh?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function dn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&pt(r,c,s[c])}function Er(r){var s={};return dn(s,r),s}function KN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function HN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Qh(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)pt(s,c,Qh(r[c]))}return s}function Xh(r){var s=r&&(r[td]?"phone":null);if(s&&r&&r[Zh]){pt(this,"uid",r[Zh]),pt(this,"displayName",r[v0]||null);var c=null;r[Jh]&&(c=new Date(r[Jh]).toUTCString()),pt(this,"enrollmentTime",c),pt(this,"factorId",s)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}Xh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Yh(r){try{var s=new _u(r)}catch{s=null}return s}var v0="displayName",Jh="enrolledAt",Zh="mfaEnrollmentId",td="phoneInfo";function _u(r){Xh.call(this,r),pt(this,"phoneNumber",r[td])}W(_u,Xh),_u.prototype.w=function(){var r=_u.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function zN(r){var s={},c=r[GN],h=r[QN],p=r[XN];if(r=Yh(r[WN]),!p||p!=Ic&&p!=Eu&&!c||p==Eu&&!h||p==ed&&!r)throw Error("Invalid checkActionCode response!");p==Eu?(s[y0]=c||null,s[w0]=c||null,s[m0]=h):(s[y0]=h||null,s[w0]=h||null,s[m0]=c||null),s[YN]=r||null,pt(this,ZN,p),pt(this,JN,Qh(s))}var ed="REVERT_SECOND_FACTOR_ADDITION",Ic="EMAIL_SIGNIN",Eu="VERIFY_AND_CHANGE_EMAIL",GN="email",WN="mfaInfo",QN="newEmail",XN="requestType",m0="email",y0="fromEmail",YN="multiFactorInfo",w0="previousEmail",JN="data",ZN="operation";function nd(r){r=Sn(r);var s=Jn(r,b0)||null,c=Jn(r,_0)||null,h=Jn(r,E0)||null;if(h=h&&rk[h]||null,!s||!c||!h)throw new A("argument-error",b0+", "+_0+"and "+E0+" are required in a valid action code URL.");dn(this,{apiKey:s,operation:h,code:c,continueUrl:Jn(r,tk)||null,languageCode:Jn(r,ek)||null,tenantId:Jn(r,nk)||null})}var b0="apiKey",_0="oobCode",tk="continueUrl",ek="languageCode",E0="mode",nk="tenantId",rk={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ed,signIn:Ic,verifyAndChangeEmail:Eu,verifyEmail:"VERIFY_EMAIL"};function I0(r){try{return new nd(r)}catch{return null}}function Tc(r){var s=r[ik];if(typeof s>"u")throw new A("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new A("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[T0];if(c&&typeof c=="object"){s=c[x0];var h=c[N0];if(c=c[k0],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new A("argument-error",N0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new A("argument-error",k0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new A("argument-error",x0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new A("missing-android-pkg-name")}}else if(typeof c<"u")throw new A("argument-error",T0+" property must be a non null object when specified.");if(this.f=null,(s=r[A0])&&typeof s=="object"){if(s=s[C0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new A("argument-error",C0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new A("argument-error",A0+" property must be a non null object when specified.");if(s=r[rd],typeof s<"u"&&typeof s!="boolean")throw new A("argument-error",rd+" property must be a boolean when specified.");if(this.c=!!s,r=r[S0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new A("argument-error",S0+" property must be a non empty string when specified.");this.i=r||null}var T0="android",S0="dynamicLinkDomain",rd="handleCodeInApp",A0="iOS",ik="url",N0="installApp",k0="minimumVersion",x0="packageName",C0="bundleId";function Sc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function ok(r){return Rt(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Iu=null;function sk(r){var s=[];return uk(r,function(c){s.push(c)}),s}function uk(r,s){function c(L){for(;h<r.length;){var K=r.charAt(h++),Ct=Iu[K];if(Ct!=null)return Ct;if(!/^[\s\xa0]*$/.test(K))throw Error("Unknown base64 encoding at char: "+K)}return L}ak();for(var h=0;;){var p=c(-1),m=c(0),w=c(64),E=c(64);if(E===64&&p===-1)break;s(p<<2|m>>4),w!=64&&(s(m<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function ak(){if(!Iu){Iu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),p=0;p<h.length;p++){var m=h[p];Iu[m]===void 0&&(Iu[m]=p)}}}function Ac(r){var s=O0(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Ac.prototype.T=function(){return this.f},Ac.prototype.l=function(){return this.c},Ac.prototype.toString=function(){return this.h};function Nc(r){try{return new Ac(r)}catch{return null}}function O0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=sk(r);for(r=[],c=s=0;s<h.length;){var p=h[s++];if(128>p)r[c++]=String.fromCharCode(p);else if(191<p&&224>p){var m=h[s++];r[c++]=String.fromCharCode((p&31)<<6|m&63)}else if(239<p&&365>p){m=h[s++];var w=h[s++],E=h[s++],L=((p&7)<<18|(m&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(L>>10)),r[c++]=String.fromCharCode(56320+(L&1023))}else m=h[s++],w=h[s++],r[c++]=String.fromCharCode((p&15)<<12|(m&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var R0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),kc=["client_id","response_type","scope","redirect_uri","state"],id={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:kc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:kc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:kc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:R0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function od(r){for(var s in id)if(id[s].fa==r)return id[s];return null}function D0(r){var s={};s["facebook.com"]=L0,s["google.com"]=F0,s["github.com"]=M0,s["twitter.com"]=V0;var c=r&&r[P0];try{if(c)return s[c]?new s[c](r):new Ir(r);if(typeof r[sd]<"u")return new ud(r)}catch{}return null}var sd="idToken",P0="providerId";function ud(r){var s=r[P0];if(!s&&r[sd]){var c=Nc(r[sd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pt(this,"providerId",s),pt(this,"isNewUser",c)}function Ir(r){ud.call(this,r),r=Qo(r.rawUserInfo||"{}"),pt(this,"profile",Qh(r||{}))}W(Ir,ud);function L0(r){if(Ir.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}W(L0,Ir);function M0(r){if(Ir.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pt(this,"username",this.profile&&this.profile.login||null)}W(M0,Ir);function F0(r){if(Ir.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}W(F0,Ir);function V0(r){if(Ir.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pt(this,"username",r.screenName||null)}W(V0,Ir);function j0(r){var s=Sn(r),c=Jn(s,"link"),h=Jn(Sn(c),"link");return s=Jn(s,"deep_link_id"),Jn(Sn(s),"link")||s||h||c||r}function xc(r,s){if(!r&&!s)throw new A("internal-error","Internal assert: no raw session string available");if(r&&s)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Tu:Cc}var Tu="enroll",Cc="signin";xc.prototype.Ha=function(){return this.a?Et(this.a):Et(this.b)},xc.prototype.w=function(){return this.type==Tu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Xo(){}Xo.prototype.ka=function(){},Xo.prototype.b=function(){},Xo.prototype.c=function(){},Xo.prototype.w=function(){};function Yo(r,s){return r.then(function(c){if(c[ar]){var h=Nc(c[ar]);if(!h||s!=h.i)throw new A("user-mismatch");return c}throw new A("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new A("user-mismatch"):c})}function Wi(r,s){if(s)this.a=s;else throw new A("internal-error","failed to construct a credential");pt(this,"providerId",r),pt(this,"signInMethod",r)}Wi.prototype.ka=function(r){return Od(r,ad(this))},Wi.prototype.b=function(r,s){var c=ad(this);return c.idToken=s,Rd(r,c)},Wi.prototype.c=function(r,s){return Yo(Dd(r,ad(this)),s)};function ad(r){return{pendingToken:r.a,requestUri:"http://localhost"}}Wi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function ck(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new Wi(r.providerId,r.pendingToken)}catch{}return null}function jr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&pt(this,"idToken",s.idToken),s.accessToken&&pt(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&pt(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)pt(this,"accessToken",s.oauthToken),pt(this,"secret",s.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");pt(this,"providerId",r),pt(this,"signInMethod",c)}jr.prototype.ka=function(r){return Od(r,cd(this))},jr.prototype.b=function(r,s){var c=cd(this);return c.idToken=s,Rd(r,c)},jr.prototype.c=function(r,s){var c=cd(this);return Yo(Dd(r,c),s)};function cd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:Jy(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}jr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function lk(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new jr(r.providerId,s,r.signInMethod)}catch{}}return null}function Qi(r,s){this.Qc=s||[],dn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(od(r)||{}).Ja||null,this.pb=null}Qi.prototype.Ka=function(r){return this.Jb=kt(r),this};function U0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Qi.call(this,r,[])}W(U0,Qi);function Vn(r){Qi.call(this,r,kc),this.a=[]}W(Vn,Qi),Vn.prototype.Ca=function(r){return C(this.a,r)||this.a.push(r),this},Vn.prototype.Rb=function(){return et(this.a)},Vn.prototype.credential=function(r,s){var c;if(N(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new jr(this.providerId,c,this.providerId)};function Xi(){Vn.call(this,"facebook.com")}W(Xi,Vn),pt(Xi,"PROVIDER_ID","facebook.com"),pt(Xi,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function B0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new Xi().credential({accessToken:s})}function Yi(){Vn.call(this,"github.com")}W(Yi,Vn),pt(Yi,"PROVIDER_ID","github.com"),pt(Yi,"GITHUB_SIGN_IN_METHOD","github.com");function q0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new Yi().credential({accessToken:s})}function Ji(){Vn.call(this,"google.com"),this.Ca("profile")}W(Ji,Vn),pt(Ji,"PROVIDER_ID","google.com"),pt(Ji,"GOOGLE_SIGN_IN_METHOD","google.com");function $0(r,s){var c=r;return N(r)&&(c=r.idToken,s=r.accessToken),new Ji().credential({idToken:c,accessToken:s})}function Jo(){Qi.call(this,"twitter.com",R0)}W(Jo,Qi),pt(Jo,"PROVIDER_ID","twitter.com"),pt(Jo,"TWITTER_SIGN_IN_METHOD","twitter.com");function K0(r,s){var c=r;if(N(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new jr("twitter.com",c,"twitter.com")}function ui(r,s,c){this.a=r,this.f=s,pt(this,"providerId","password"),pt(this,"signInMethod",c===Zn.EMAIL_LINK_SIGN_IN_METHOD?Zn.EMAIL_LINK_SIGN_IN_METHOD:Zn.EMAIL_PASSWORD_SIGN_IN_METHOD)}ui.prototype.ka=function(r){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Ht(r,Wk,{email:this.a,oobCode:this.f}):Ht(r,yw,{email:this.a,password:this.f})},ui.prototype.b=function(r,s){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Ht(r,Qk,{idToken:s,email:this.a,oobCode:this.f}):Ht(r,mw,{idToken:s,email:this.a,password:this.f})},ui.prototype.c=function(r,s){return Yo(this.ka(r),s)},ui.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function fk(r){return r&&r.email&&r.password?new ui(r.email,r.password,r.signInMethod):null}function Zn(){dn(this,{providerId:"password",isOAuthProvider:!1})}function H0(r,s){if(s=ld(s),!s)throw new A("argument-error","Invalid email link!");return new ui(r,s.code,Zn.EMAIL_LINK_SIGN_IN_METHOD)}function ld(r){return r=j0(r),(r=I0(r))&&r.operation===Ic?r:null}dn(Zn,{PROVIDER_ID:"password"}),dn(Zn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),dn(Zn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ai(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new A("internal-error");this.a=r,pt(this,"providerId","phone"),this.fa="phone",pt(this,"signInMethod","phone")}ai.prototype.ka=function(r){return r.gb(Su(this))},ai.prototype.b=function(r,s){var c=Su(this);return c.idToken=s,Ht(r,gx,c)},ai.prototype.c=function(r,s){var c=Su(this);return c.operation="REAUTH",r=Ht(r,vx,c),Yo(r,s)},ai.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function hk(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new ai(s)}return null}function Su(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Ur(r){try{this.a=r||xt.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}dn(this,{providerId:"phone",isOAuthProvider:!1})}Ur.prototype.gb=function(r,s){var c=this.a.a;return Et(s.verify()).then(function(h){if(typeof h!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var p=N(r)?r.session:null,m=N(r)?r.phoneNumber:r,w;return p&&p.type==Tu?w=p.Ha().then(function(E){return jk(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:h}})}):p&&p.type==Cc?w=p.Ha().then(function(E){return Uk(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=Vk(c,{phoneNumber:m,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function z0(r,s){if(!r)throw new A("missing-verification-id");if(!s)throw new A("missing-verification-code");return new ai({fb:r,eb:s})}dn(Ur,{PROVIDER_ID:"phone"}),dn(Ur,{PHONE_SIGN_IN_METHOD:"phone"});function fd(r){if(r.temporaryProof&&r.phoneNumber)return new ai({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,p=r&&r.nonce,m=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return $0(m,c);case"facebook.com":return B0(c);case"github.com":return q0(c);case"twitter.com":return K0(c,h);default:return c||h||m||w?w?s.indexOf("saml.")==0?new Wi(s,w):new jr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new Vn(s).credential({idToken:m,accessToken:c,rawNonce:p}):null}}catch{return null}}function hd(r){if(!r.isOAuthProvider)throw new A("invalid-oauth-provider")}function sr(r,s,c,h,p,m,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=m||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}sr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},sr.prototype.T=function(){return this.h},sr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function G0(r){return r=r||{},r.type?new sr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Wt(r.error),r.postBody,r.tenantId):null}function dk(){this.b=null,this.a=[]}var dd=null;function pk(r){var s=dd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=me("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function pd(r){var s="unauthorized-domain",c=void 0,h=Sn(r);r=h.a,h=h.c,h=="chrome-extension"?c=my("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=my("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",A.call(this,s,c)}W(pd,A);function Au(r,s,c){A.call(this,r,c),r=s||{},r.Kb&&pt(this,"email",r.Kb),r.ea&&pt(this,"phoneNumber",r.ea),r.credential&&pt(this,"credential",r.credential),r.$b&&pt(this,"tenantId",r.$b)}W(Au,A),Au.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Dt(r,s),r},Au.prototype.toJSON=function(){return this.w()};function Oc(r){if(r.code){var s=r.code||"";s.indexOf(oe)==0&&(s=s.substring(oe.length));var c={credential:fd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new A(s,r.message||void 0);return new Au(s,c,r.message)}return null}function Nu(){}Nu.prototype.c=null;function W0(r){return r.c||(r.c=r.b())}var gd;function Rc(){}W(Rc,Nu),Rc.prototype.a=function(){var r=Q0(this);return r?new ActiveXObject(r):new XMLHttpRequest},Rc.prototype.b=function(){var r={};return Q0(this)&&(r[0]=!0,r[1]=!0),r};function Q0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}gd=new Rc;function Dc(){}W(Dc,Nu),Dc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new X0;throw Error("Unsupported browser")},Dc.prototype.b=function(){return{}};function X0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}t=X0.prototype,t.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,vd(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",vd(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,vd(this,1)};function vd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function md(r,s,c){this.reset(r,s,c,void 0,void 0)}md.prototype.a=null,md.prototype.reset=function(r,s,c,h,p){delete this.a};function yd(r){this.f=r,this.b=this.c=this.a=null}function ku(r,s){this.name=r,this.value=s}ku.prototype.toString=function(){return this.name};var Y0=new ku("SEVERE",1e3),wd=new ku("WARNING",900),gk=new ku("CONFIG",700),vk=new ku("FINE",500);function J0(r){return r.c?r.c:r.a?J0(r.a):(Ie("Root logger has no level set."),null)}yd.prototype.log=function(r,s,c){if(r.value>=J0(this).value)for(S(s)&&(s=s()),r=new md(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var bd={},Pc=null;function _d(r){Pc||(Pc=new yd(""),bd[""]=Pc,Pc.c=gk);var s;if(!(s=bd[r])){s=new yd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=_d(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,bd[r]=s}return s}function tr(r,s){r&&r.log(vk,s,void 0)}function Lc(r){this.f=r}W(Lc,Nu),Lc.prototype.a=function(){return new Mc(this.f)},Lc.prototype.b=function(r){return function(){return r}}({});function Mc(r){hn.call(this),this.u=r,this.h=void 0,this.readyState=Ed,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=_d("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}W(Mc,hn);var Ed=0;t=Mc.prototype,t.open=function(r,s){if(this.readyState!=Ed)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Cu(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,xu(this)),this.readyState=Ed},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Cu(this)),this.a&&(this.readyState=3,Cu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,Z0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function Z0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}t.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?xu(this):Cu(this),this.readyState==3&&Z0(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,xu(this))},t.sc=function(r){this.a&&(this.response=r,xu(this))},t.Va=function(r){var s=this.i;s&&s.log(wd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&xu(this)};function xu(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Cu(r)}t.setRequestHeader=function(r,s){this.l.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(wd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(wd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Cu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Ou(r){hn.call(this),this.headers=new Ko,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=tw,this.u=this.S=!1}W(Ou,hn);var tw="";Ou.prototype.b=_d("goog.net.XhrIo");var mk=/^https?$/i,yk=["POST","PUT"];function wk(r,s,c,h,p){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():gd.a(),r.C=r.D?W0(r.D):W0(gd),r.a.onreadystatechange=V(r.Wb,r);try{tr(r.b,Br(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){tr(r.b,Br(r,"Error opening Xhr: "+w.message)),ew(r,w);return}s=h||"";var m=new Ko(r.headers);p&&SN(p,function(w,E){m.set(E,w)}),p=T(m.Y()),h=f.FormData&&s instanceof f.FormData,!C(yk,c)||p||h||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{iw(r),0<r.g&&(r.u=bk(r.a),tr(r.b,Br(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=V(r.Ma,r)):r.s=Lh(r.Ma,r.g,r)),tr(r.b,Br(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){tr(r.b,Br(r,"Send error: "+w.message)),ew(r,w)}}function bk(r){return ir&&_y(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function _k(r){return r.toLowerCase()=="content-type"}t=Ou.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",tr(this.b,Br(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function ew(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,nw(r),Fc(r)}function nw(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(tr(this.b,Br(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Fc(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Fc(this,!0)),Ou.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?rw(this):this.Jc())},t.Jc=function(){rw(this)};function rw(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Ru(r)==4&&Vc(r)==2)tr(r.b,Br(r,"Local request error detected and ignored"));else if(r.i&&Ru(r)==4)Lh(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Ru(r)==4){tr(r.b,Br(r,"Request complete")),r.c=!1;try{var s=Vc(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var p;if(p=s===0){var m=String(r.l).match(Xy)[1]||null;if(!m&&f.self&&f.self.location){var w=f.self.location.protocol;m=w.substr(0,w.length-1)}p=!mk.test(m?m.toLowerCase():"")}h=p}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Ru(r)?r.a.statusText:""}catch(L){tr(r.b,"Can not get status: "+L.message),E=""}r.h=E+" ["+Vc(r)+"]",nw(r)}}finally{Fc(r)}}}}function Fc(r,s){if(r.a){iw(r);var c=r.a,h=r.C[0]?y:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(p){(r=r.b)&&r.log(Y0,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function iw(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Ru(r){return r.a?r.a.readyState:0}function Vc(r){try{return 2<Ru(r)?r.a.status:-1}catch{return-1}}function Ek(r){try{return r.a?r.a.responseText:""}catch(s){return tr(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case tw:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Y0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return tr(this.b,"Can not get response: "+s.message),null}};function Br(r,s){return s+" ["+r.P+" "+r.l+" "+Vc(r)+"]"}function Zi(r){var s=Sk;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Zi.prototype.cancel=function(r){if(this.a)this.c instanceof Zi&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Pu,jc(this),Du(this,!1,r))}},Zi.prototype.m=function(r,s){this.i=!1,Du(this,r,s)};function Du(r,s,c){r.a=!0,r.c=c,r.f=!s,sw(r)}function jc(r){if(r.a){if(!r.v)throw new Uc;r.v=!1}}function Ik(r,s){Id(r,null,s,void 0)}function Id(r,s,c,h){r.g.push([s,c,h]),r.a&&sw(r)}Zi.prototype.then=function(r,s,c){var h,p,m=new Kt(function(w,E){h=w,p=E});return Id(this,h,function(w){w instanceof Pu?m.cancel():p(w)}),m.then(r,s,c)},Zi.prototype.$goog_Thenable=!0;function ow(r){return I(r.g,function(s){return S(s[1])})}function sw(r){if(r.h&&r.a&&ow(r)){var s=r.h,c=Bc[s];c&&(f.clearTimeout(c.a),delete Bc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var p=r.g.shift(),m=p[0],w=p[1];if(p=p[2],m=r.f?w:m)try{var E=m.call(p||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Lt(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(L){s=L,r.f=!0,ow(r)||(c=!0)}}r.c=s,h&&(E=V(r.m,r,!0),h=V(r.m,r,!1),s instanceof Zi?(Id(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new uw(s),Bc[s.a]=s,r.h=s.a)}function Uc(){gt.call(this)}W(Uc,gt),Uc.prototype.message="Deferred has already fired",Uc.prototype.name="AlreadyCalledError";function Pu(){gt.call(this)}W(Pu,gt),Pu.prototype.message="Deferred was canceled",Pu.prototype.name="CanceledError";function uw(r){this.a=f.setTimeout(V(this.c,this),0),this.b=r}uw.prototype.c=function(){throw delete Bc[this.a],this.b};var Bc={};function Td(r){var s={},c=s.document||document,h=cy(r).toString(),p=hc(document,"SCRIPT"),m={Xb:p,Ma:void 0},w=new Zi(m),E=null,L=s.timeout!=null?s.timeout:5e3;return 0<L&&(E=window.setTimeout(function(){qc(p,!0);var K=new Sd(Nk,"Timeout reached for loading script "+h);jc(w),Du(w,!1,K)},L),m.Ma=E),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(qc(p,s.xd||!1,E),jc(w),Du(w,!0,null))},p.onerror=function(){qc(p,!0,E);var K=new Sd(Ak,"Error while loading script "+h);jc(w),Du(w,!1,K)},m=s.attributes||{},Dt(m,{type:"text/javascript",charset:"UTF-8"}),Iy(p,m),nN(p,r),Tk(c).appendChild(p),w}function Tk(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function Sk(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&qc(r,!0,this.Ma)}}function qc(r,s,c){c!=null&&f.clearTimeout(c),r.onload=y,r.onerror=y,r.onreadystatechange=y,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var Ak=0,Nk=1;function Sd(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),gt.call(this,c),this.code=r}W(Sd,gt);function $c(r){this.f=r}W($c,Nu),$c.prototype.a=function(){return new this.f},$c.prototype.b=function(){return{}};function ur(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||kk,this.g=kt(r.secureTokenHeaders||xk),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||Ck,this.a=kt(r.firebaseHeaders||Ok),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=_r()=="Node",c=f.XMLHttpRequest||c&&xt.INTERNAL.node&&xt.INTERNAL.node.XMLHttpRequest,!c&&!or())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,or()?this.f=new Lc(self):a0()?this.f=new $c(c):this.f=new Dc,this.b=null}var Ad,ar="idToken",kk=new si(3e4,6e4),xk={"Content-Type":"application/x-www-form-urlencoded"},Ck=new si(3e4,6e4),Ok={"Content-Type":"application/json"};function aw(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function Kc(r,s){s&&(r.l=Nd("https://securetoken.googleapis.com/v1/token",s),r.h=Nd("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=Nd("https://identitytoolkit.googleapis.com/v2/",s))}function Nd(r,s){return r=Sn(r),s=Sn(s.url),r.f=r.a+r.f,du(r,s.c),r.a=s.a,pu(r,s.g),r.toString()}function cw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}ur.prototype.T=function(){return this.b};function lw(r,s,c,h,p,m,w){LN()||or()?r=V(r.u,r):(Ad||(Ad=new Kt(function(E,L){Dk(E,L)})),r=V(r.s,r)),r(s,c,h,p,m,w)}ur.prototype.u=function(r,s,c,h,p,m){if(or()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Ou(this.f);if(m){w.g=Math.max(0,m);var E=setTimeout(function(){w.dispatchEvent("timeout")},m)}Gy(w,"complete",function(){E&&clearTimeout(E);var L=null;try{L=JSON.parse(Ek(this))||null}catch{L=null}s&&s(L)}),Ph(w,"ready",function(){E&&clearTimeout(E),Uy(this)}),Ph(w,"timeout",function(){E&&clearTimeout(E),Uy(this),s&&s(null)}),wk(w,r,c,h,p)};var Rk=new nn(ac,"https://apis.google.com/js/client.js?onload=%{onload}"),fw="__fcb"+Math.floor(1e6*Math.random()).toString();function Dk(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[fw]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=vh(Rk,{onload:fw});Ik(Td(c),function(){s(Error("CORS_UNSUPPORTED"))})}}ur.prototype.s=function(r,s,c,h,p){var m=this;Ad.then(function(){window.gapi.client.setApiKey(m.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:p,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function Pk(r,s){return new Kt(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?lw(r,r.l+"?key="+encodeURIComponent(r.c),function(p){p?p.error?h(Ld(p)):p.access_token&&p.refresh_token?c(p):h(new A("internal-error")):h(new A("network-request-failed"))},"POST",Jy(s).toString(),r.g,r.m.get()):h(new A("internal-error"))})}function hw(r,s,c,h,p,m,w){var E=Sn(s+c);Ne(E,"key",r.c),w&&Ne(E,"cb",Date.now().toString());var L=h=="GET";if(L)for(var K in p)p.hasOwnProperty(K)&&Ne(E,K,p[K]);return new Kt(function(Ct,re){lw(r,E.toString(),function(Zt){Zt?Zt.error?re(Ld(Zt,m||{})):Ct(Zt):re(new A("network-request-failed"))},h,L?void 0:e0(f0(p)),r.a,r.v.get())})}function to(r){if(r=r.email,typeof r!="string"||!VN.test(r))throw new A("invalid-email")}function dw(r){"email"in r&&to(r)}function Lk(r,s){return Ht(r,Hk,{identifier:s,continueUri:Ec()?mu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function Mk(r){return Ht(r,rx,{}).then(function(s){return s.authorizedDomains||[]})}function An(r){if(!r[ar])throw r.mfaPendingCredential?new A("multi-factor-auth-required",null,kt(r)):new A("internal-error")}function kd(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new A("internal-error")}else{if(!r.sessionInfo)throw new A("missing-verification-id");if(!r.code)throw new A("missing-verification-code")}}ur.prototype.Ab=function(){return Ht(this,ux,{})},ur.prototype.Cb=function(r,s){return Ht(this,vw,{idToken:r,email:s})},ur.prototype.Db=function(r,s){return Ht(this,mw,{idToken:r,password:s})};var Fk={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=ur.prototype,t.Eb=function(r,s){var c={idToken:r},h=[];return At(Fk,function(p,m){var w=s[m];w===null?h.push(p):m in s&&(c[m]=w)}),h.length&&(c.deleteAttribute=h),Ht(this,vw,c)},t.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Dt(r,s),Ht(this,nx,r)},t.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Dt(r,s),Ht(this,Zk,r)},t.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Dt(r,s),Ht(this,tx,r)},t.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Dt(r,c),Ht(this,ex,r)};function Vk(r,s){return Ht(r,sx,s)}t.gb=function(r){return Ht(this,px,r)};function jk(r,s){return Ht(r,ax,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function pw(r){if(!r.phoneVerificationInfo)throw new A("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new A("missing-verification-code")}function Uk(r,s){return Ht(r,cx,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function Bk(r,s,c){return Ht(r,Gk,{idToken:s,deleteProvider:c})}function xd(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new A("internal-error")}function Cd(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new Ki(r.postBody),Vh(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function gw(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Oc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Oc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Oc(r)):r.errorMessage&&(s=ww(r.errorMessage)),s)throw s;An(r)}function Od(r,s){return s.returnIdpCredential=!0,Ht(r,lx,s)}function Rd(r,s){return s.returnIdpCredential=!0,Ht(r,hx,s)}function Dd(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Ht(r,fx,s)}function Pd(r){if(!r.oobCode)throw new A("invalid-action-code")}t.ob=function(r,s){return Ht(this,ox,{oobCode:r,newPassword:s})},t.Sa=function(r){return Ht(this,$k,{oobCode:r})},t.kb=function(r){return Ht(this,qk,{oobCode:r})};var qk={endpoint:"setAccountInfo",A:Pd,Z:"email",B:!0},$k={endpoint:"resetPassword",A:Pd,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},Kk={endpoint:"signupNewUser",A:function(r){if(to(r),!r.password)throw new A("weak-password")},G:An,V:!0,B:!0},Hk={endpoint:"createAuthUri",B:!0},zk={endpoint:"deleteAccount",O:["idToken"]},Gk={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new A("internal-error")}},Wk={endpoint:"emailLinkSignin",O:["email","oobCode"],A:to,G:An,V:!0,B:!0},Qk={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:to,G:An,V:!0},Xk={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:pw,G:An,B:!0,Na:!0},Yk={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:pw,G:An,B:!0,Na:!0},Jk={endpoint:"getAccountInfo"},Zk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new A("internal-error");to(r)},Z:"email",B:!0},tx={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},ex={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},nx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new A("internal-error");to(r)},Z:"email",B:!0},rx={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ix={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new A("internal-error")}},ox={endpoint:"resetPassword",A:Pd,Z:"email",B:!0},sx={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},vw={endpoint:"setAccountInfo",O:["idToken"],A:dw,V:!0},mw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(dw(r),!r.password)throw new A("weak-password")},G:An,V:!0},ux={endpoint:"signupNewUser",G:An,V:!0,B:!0},ax={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new A("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},cx={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},lx={endpoint:"verifyAssertion",A:xd,Za:Cd,G:gw,V:!0,B:!0},fx={endpoint:"verifyAssertion",A:xd,Za:Cd,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(r.errorMessage)throw ww(r.errorMessage);An(r)},V:!0,B:!0},hx={endpoint:"verifyAssertion",A:function(r){if(xd(r),!r.idToken)throw new A("internal-error")},Za:Cd,G:gw,V:!0},dx={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new A("invalid-custom-token")},G:An,V:!0,B:!0},yw={endpoint:"verifyPassword",A:function(r){if(to(r),!r.password)throw new A("wrong-password")},G:An,V:!0,B:!0},px={endpoint:"verifyPhoneNumber",A:kd,G:An,B:!0},gx={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new A("internal-error");kd(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Oc(r);An(r)}},vx={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:kd,G:An,B:!0},mx={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[ar]^!!r.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Ht(r,s,c){if(!HN(c,s.O))return ve(new A("internal-error"));var h=!!s.Na,p=s.Vb||"POST",m;return Et(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?hw(r,r.i,s.endpoint,p,c,s.Ib,s.mb||!1):hw(r,r.h,s.endpoint,p,c,s.Ib,s.mb||!1)}).then(function(w){return m=w,s.Za?s.Za(c,m):m}).then(s.G).then(function(){if(!s.Z)return m;if(!(s.Z in m))throw new A("internal-error");return m[s.Z]})}function ww(r){return Ld({error:{errors:[{message:r}],code:400,message:r}})}function Ld(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new A(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Dt(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var p in h)if(c.indexOf(p)===0)return new A(h[p],s);return!s&&r&&(s=wu(r)),new A("internal-error",s)}function yx(r){this.b=r,this.a=null,this.sb=wx(this)}function wx(r){return Sx().then(function(){return new Kt(function(s,c){me("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(m),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var m=setTimeout(function(){c(Error("Network Error"))},Tx.get());h.ping(p).then(p,function(){c(Error("Network Error"))})})})})}function bx(r,s){return r.sb.then(function(){return new Kt(function(c){r.a.send(s.type,s,c,me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function _x(r,s){r.sb.then(function(){r.a.register("authEvent",s,me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Ex=new nn(ac,"https://apis.google.com/js/api.js?onload=%{onload}"),Ix=new si(3e4,6e4),Tx=new si(5e3,15e3),Hc=null;function Sx(){return Hc||(Hc=new Kt(function(r,s){function c(){d0(),me("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){d0(),s(Error("Network Error"))},timeout:Ix.get()})}if(me("gapi.iframes.Iframe"))r();else if(me("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){me("gapi.load")?c():s(Error("Network Error"))},h=vh(Ex,{onload:h}),Et(Td(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw Hc=null,r}))}function bw(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Sn(this.g.url),r=bc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=bc("https",this.l,null,"/__/auth/iframe"),this.a=r,Ne(this.a,"apiKey",this.h),Ne(this.a,"appName",this.i),this.b=null,this.c=[]}bw.prototype.toString=function(){return this.f?Ne(this.a,"v",this.f):br(this.a.b,"v"),this.b?Ne(this.a,"eid",this.b):br(this.a.b,"eid"),this.c.length?Ne(this.a,"fw",this.c.join(",")):br(this.a.b,"fw"),this.a.toString()};function Md(r,s,c,h,p,m){this.u=r,this.s=s,this.c=c,this.m=h,this.v=m,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}Md.prototype.zb=function(r){return this.h=r,this},Md.prototype.toString=function(){if(this.v){var r=Sn(this.v.url);r=bc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=bc("https",this.u,null,"/__/auth/handler");if(Ne(r,"apiKey",this.s),Ne(r,"appName",this.c),Ne(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=xt.app(this.c).auth().la()}catch{c=null}s.pb=c,Ne(r,"providerId",this.a.providerId),c=this.a,s=f0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=kt(s);for(var p=0;p<h.length;p++){var m=h[p];m in s&&delete s[m]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),Ft(s)||Ne(r,"customParameters",wu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ne(r,"scopes",c.join(","))),this.l?Ne(r,"redirectUrl",this.l):br(r.b,"redirectUrl"),this.g?Ne(r,"eventId",this.g):br(r.b,"eventId"),this.i?Ne(r,"v",this.i):br(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Jn(r,w)&&Ne(r,w,this.b[w]);return this.h?Ne(r,"tid",this.h):br(r.b,"tid"),this.f?Ne(r,"eid",this.f):br(r.b,"eid"),w=Fd(this.c),w.length&&Ne(r,"fw",w.join(",")),r.toString()};function Fd(r){try{return xt.app(r).auth().Ga()}catch{return[]}}function _w(r,s,c,h,p,m){this.s=r,this.g=s,this.b=c,this.f=m,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Ew(r){var s=mu();return Mk(r).then(function(c){t:{var h=Sn(s),p=h.c;h=h.a;for(var m=0;m<c.length;m++){var w=c[m],E=h,L=p;if(w.indexOf("chrome-extension://")==0?E=Sn(w).a==E&&L=="chrome-extension":L!="http"&&L!="https"?E=!1:FN.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break t}}c=!1}if(!c)throw new pd(mu())})}function Iw(r){return r.m||(r.m=_c().then(function(){if(!r.u){var s=r.c,c=r.i,h=Fd(r.b),p=new bw(r.s,r.g,r.b,r.f);p.f=s,p.b=c,p.c=et(h||[]),r.u=p.toString()}r.v=new yx(r.u),Ax(r)})),r.m}t=_w.prototype,t.Pb=function(r,s,c){var h=new A("popup-closed-by-user"),p=new A("web-storage-unsupported"),m=this,w=!1;return this.ma().then(function(){Nx(m).then(function(E){E||(r&&Hi(r),s(p),w=!0)})}).o(function(){}).then(function(){if(!w)return MN(r)}).then(function(){if(!w)return $o(c).then(function(){s(h)})})},t.Yb=function(){var r=We();return!yu(r)&&!h0(r)},t.Ub=function(){return!1},t.Nb=function(r,s,c,h,p,m,w,E){if(!r)return ve(new A("popup-blocked"));if(w&&!yu())return this.ma().o(function(K){Hi(r),p(K)}),h(),Et();this.a||(this.a=Ew(Tw(this)));var L=this;return this.a.then(function(){var K=L.ma().o(function(Ct){throw Hi(r),p(Ct),Ct});return h(),K}).then(function(){if(hd(c),!w){var K=Lu(L.s,L.g,L.b,s,c,null,m,L.c,void 0,L.i,E,L.f);i0(K,r)}}).o(function(K){throw K.code=="auth/network-request-failed"&&(L.a=null),K})};function Tw(r){return r.l||(r.C=r.c?Go(r.c,Fd(r.b)):null,r.l=new ur(r.g,Qt(r.i),r.C),r.f&&Kc(r.l,r.f)),r.l}t.Ob=function(r,s,c,h){this.a||(this.a=Ew(Tw(this)));var p=this;return this.a.then(function(){hd(s);var m=Lu(p.s,p.g,p.b,r,s,mu(),c,p.c,void 0,p.i,h,p.f);i0(m)}).o(function(m){throw m.code=="auth/network-request-failed"&&(p.a=null),m})},t.ma=function(){var r=this;return Iw(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new A("network-request-failed")})},t.ac=function(){return!0};function Lu(r,s,c,h,p,m,w,E,L,K,Ct,re){return r=new Md(r,s,c,h,p,re),r.l=m,r.g=w,r.i=E,r.b=kt(L||null),r.f=K,r.zb(Ct).toString()}function Ax(r){if(!r.v)throw Error("IfcHandler must be initialized!");_x(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=G0(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Et(c)}return c.status="ERROR",Et(c)})}function Nx(r){var s={type:"webStorageSupport"};return Iw(r).then(function(){return bx(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ta=function(r){F(this.h,function(s){return s==r})};function Sw(r){if(this.a=r||xt.INTERNAL.reactNative&&xt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=Sw.prototype,t.get=function(r){return Et(this.a.getItem(r)).then(function(s){return s&&Qo(s)})},t.set=function(r,s){return Et(this.a.setItem(r,wu(s)))},t.U=function(r){return Et(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function Aw(r){this.b=r,this.a={},this.f=V(this.c,this)}var Nw=[];function kx(){var r=or()?self:null;if(U(Nw,function(c){c.b==r&&(s=c)}),!s){var s=new Aw(r);Nw.push(s)}return s}Aw.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var p=[];U(h,function(m){p.push(Et().then(function(){return m(r.origin,r.data.data)}))}),Oy(p).then(function(m){var w=[];U(m,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),U(w,function(E){for(var L in E)typeof E[L]>"u"&&delete E[L]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function kw(r,s,c){Ft(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function xw(r){this.a=r}xw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function Cw(r){this.c=r,this.b=!1,this.a=[]}function Ow(r,s,c,h){var p,m=c||{},w,E,L,K=null;if(r.b)return ve(Error("connection_unavailable"));var Ct=h?800:50,re=typeof MessageChannel<"u"?new MessageChannel:null;return new Kt(function(Zt,$e){re?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),re.port1.start(),E=setTimeout(function(){$e(Error("unsupported_event"))},Ct),w=function(qr){qr.data.eventId===p&&(qr.data.status==="ack"?(clearTimeout(E),L=setTimeout(function(){$e(Error("timeout"))},3e3)):qr.data.status==="done"?(clearTimeout(L),typeof qr.data.response<"u"?Zt(qr.data.response):$e(Error("unknown_error"))):(clearTimeout(E),clearTimeout(L),$e(Error("invalid_response"))))},K={messageChannel:re,onMessage:w},r.a.push(K),re.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:p,data:m},[re.port2])):$e(Error("connection_unavailable"))}).then(function(Zt){return Vd(r,K),Zt}).o(function(Zt){throw Vd(r,K),Zt})}function Vd(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),F(r.a,function(p){return p==s})}}Cw.prototype.close=function(){for(;0<this.a.length;)Vd(this,this.a[0]);this.b=!0};function Rw(){if(!Bd())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;or()&&self?(this.v=kx(),kw(this.v,"keyChanged",function(s,c){return Lw(r).then(function(h){return 0<h.length&&U(r.a,function(p){p(h)}),{keyProcessed:C(h,c.key)}})}),kw(this.v,"ping",function(){return Et(["keyChanged"])})):$N().then(function(s){(r.h=s)&&(r.g=new Cw(new xw(s)),Ow(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&C(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var jd;function xx(r){return new Kt(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(p){c(Error(p.target.error))}})}function Dw(r){return new Kt(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}c(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(m){c(m)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?s(p):xx(r).then(function(){return Dw(r)}).then(function(m){s(m)}).o(function(m){c(m)})}})}function Ud(r){return r.i||(r.i=Dw(r)),r.i}function zc(r,s){function c(p,m){Ud(r).then(s).then(p).o(function(w){if(3<++h)m(w);else return Ud(r).then(function(E){return E.close(),r.i=void 0,c(p,m)}).o(function(E){m(E)})})}var h=0;return new Kt(c)}function Bd(){try{return!!f.indexedDB}catch{return!1}}function Mu(r){return r.objectStore("firebaseLocalStorage")}function Fu(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function Zo(r){return new Kt(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}t=Rw.prototype,t.set=function(r,s){var c=this,h=!1;return zc(this,function(p){return p=Mu(Fu(p,!0)),Zo(p.get(r))}).then(function(p){return zc(c,function(m){if(m=Mu(Fu(m,!0)),p)return p.value=s,Zo(m.put(p));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,Zo(m.add(w))})}).then(function(){return c.c[r]=s,Pw(c,r)}).oa(function(){h&&c.b--})};function Pw(r,s){return r.g&&r.h&&qN()===r.h?Ow(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Et()}t.get=function(r){return zc(this,function(s){return Zo(Mu(Fu(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.U=function(r){var s=this,c=!1;return zc(this,function(h){return c=!0,s.b++,Zo(Mu(Fu(h,!0)).delete(r))}).then(function(){return delete s.c[r],Pw(s,r)}).oa(function(){c&&s.b--})};function Lw(r){return Ud(r).then(function(s){var c=Mu(Fu(s,!1));return c.getAll?Zo(c.getAll()):new Kt(function(h,p){var m=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(m.push(E.value),E.continue()):h(m)},w.onerror=function(E){p(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=o0(r.c,c),r.c=c}return h})}t.ca=function(r){this.a.length==0&&Cx(this),this.a.push(r)},t.ia=function(r){F(this.a,function(s){return s==r}),this.a.length==0&&Mw(this)};function Cx(r){function s(){r.f=setTimeout(function(){r.l=Lw(r).then(function(c){0<c.length&&U(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Mw(r),s()}function Mw(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Fw(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Et().then(function(){if(Bd()){var h=Gi(),p="__sak"+h;return jd||(jd=new Rw),c=jd,c.set(p,h).then(function(){return c.get(p)}).then(function(m){if(m!==h)throw Error("indexedDB not supported!");return c.U(p)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(p){U(s.a,function(m){m(p)})}),h})}t=Fw.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},t.U=function(r){return this.b.then(function(s){return s.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){F(this.a,function(s){return s==r})};function Vu(){this.a={},this.type="inMemory"}t=Vu.prototype,t.get=function(r){return Et(this.a[r])},t.set=function(r,s){return this.a[r]=s,Et()},t.U=function(r){return delete this.a[r],Et()},t.ca=function(){},t.ia=function(){};function Gc(){if(!Ox())throw _r()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Vw()||xt.INTERNAL.node.localStorage,this.type="localStorage"}function Vw(){try{var r=f.localStorage,s=Gi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Ox(){var r=_r()=="Node";if(r=Vw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Gc.prototype,t.get=function(r){var s=this;return Et().then(function(){var c=s.a.getItem(r);return Qo(c)})},t.set=function(r,s){var c=this;return Et().then(function(){var h=wu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return Et().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&Yn(f.window,"storage",r)},t.ia=function(r){f.window&&Fn(f.window,"storage",r)};function qd(){this.type="nullStorage"}t=qd.prototype,t.get=function(){return Et(null)},t.set=function(){return Et()},t.U=function(){return Et()},t.ca=function(){},t.ia=function(){};function $d(){if(!Rx())throw _r()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=jw()||xt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function jw(){try{var r=f.sessionStorage,s=Gi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Rx(){var r=_r()=="Node";if(r=jw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=$d.prototype,t.get=function(r){var s=this;return Et().then(function(){var c=s.a.getItem(r);return Qo(c)})},t.set=function(r,s){var c=this;return Et().then(function(){var h=wu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return Et().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function Dx(){var r={};r.Browser=Px,r.Node=Lx,r.ReactNative=Mx,r.Worker=Fx,this.a=r[_r()]}var Kd,Px={F:Gc,cb:$d},Lx={F:Gc,cb:$d},Mx={F:Sw,cb:qd},Fx={F:Gc,cb:qd},ts={rd:"local",NONE:"none",td:"session"};function Vx(r){var s=new A("invalid-persistence-type"),c=new A("unsupported-persistence-type");t:{for(h in ts)if(ts[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(_r()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Bd()&&r!=="none")throw c;break;default:if(!Kh()&&r!=="none")throw c}}function Uw(){var r=!!(!h0(We())&&qh()),s=yu(),c=Kh();this.m=r,this.h=s,this.l=c,this.a={},Kd||(Kd=new Dx),r=Kd;try{this.g=!Uh()&&p0()||!f.indexedDB?new r.a.F:new Fw(or()?new Vu:new r.a.F)}catch{this.g=new Vu,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new Vu}this.v=new Vu,this.f=V(this.Zb,this),this.b={}}var Hd;function ju(){return Hd||(Hd=new Uw),Hd}function eo(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function es(r,s){return"firebase:"+r.name+(s?":"+s:"")}function jx(r,s,c){var h=es(s,c),p=eo(r,s.F);return r.get(s,c).then(function(m){var w=null;try{w=Qo(f.localStorage.getItem(h))}catch{}if(w&&!m)return f.localStorage.removeItem(h),r.set(s,w,c);w&&m&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}t=Uw.prototype,t.get=function(r,s){return eo(this,r.F).get(es(r,s))};function ns(r,s,c){return c=es(s,c),s.F=="local"&&(r.b[c]=null),eo(r,s.F).U(c)}t.set=function(r,s,c){var h=es(r,c),p=this,m=eo(this,r.F);return m.set(h,s).then(function(){return m.get(h)}).then(function(w){r.F=="local"&&(p.b[h]=w)})},t.addListener=function(r,s,c){r=es(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),Ft(this.a)&&(eo(this,"local").ca(this.f),this.h||(Uh()||!p0())&&f.indexedDB||!this.l||Ux(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},t.removeListener=function(r,s,c){r=es(r,s),this.a[r]&&(F(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Ft(this.a)&&(eo(this,"local").ia(this.f),zd(this))};function Ux(r){zd(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new qi({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function zd(r){r.c&&(clearInterval(r.c),r.c=null)}t.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(c);p!==h&&(this.b[c]=p,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?eo(this,"local").ia(this.f):zd(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var m=this;c=function(){(typeof r.a.a<"u"||m.b[s]!==f.localStorage.getItem(s))&&(m.b[s]=f.localStorage.getItem(s),m.nb(s))},ir&&ri&&ri==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else U(r,V(this.nb,this))},t.nb=function(r){this.a[r]&&U(this.a[r],function(s){s()})};function Bx(r){this.a=r,this.b=ju()}var Gd={name:"authEvent",F:"local"};function qx(r){return r.b.get(Gd,r.a).then(function(s){return G0(s)})}function $x(){this.a=ju()}function Kx(){this.b=-1}function Wc(r,s){this.b=Bw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),Qc===void 0&&(f.Int32Array?Qc=new Int32Array(Kw):Qc=Kw),this.reset()}var Qc;W(Wc,Kx);for(var Bw=64,Hx=Bw-1,qw=[],Wd=0;Wd<Hx;Wd++)qw[Wd]=0;var $w=z(128,qw);Wc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):et(this.h)};function Qd(r){for(var s=r.f,c=r.l,h=0,p=0;p<s.length;)c[h++]=s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3],p=4*h;for(s=16;64>s;s++){p=c[s-15]|0,h=c[s-2]|0;var m=(c[s-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=m+w|0}h=r.a[0]|0,p=r.a[1]|0;var E=r.a[2]|0,L=r.a[3]|0,K=r.a[4]|0,Ct=r.a[5]|0,re=r.a[6]|0;for(m=r.a[7]|0,s=0;64>s;s++){var Zt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&E^p&E)|0;w=K&Ct^~K&re,m=m+((K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))|0,w=w+(Qc[s]|0)|0,w=m+(w+(c[s]|0)|0)|0,m=re,re=Ct,Ct=K,K=L+w|0,L=E,E=p,p=h,h=w+Zt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+p|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+L|0,r.a[4]=r.a[4]+K|0,r.a[5]=r.a[5]+Ct|0,r.a[6]=r.a[6]+re|0,r.a[7]=r.a[7]+m|0}function Xd(r,s,c){c===void 0&&(c=s.length);var h=0,p=r.c;if(typeof s=="string")for(;h<c;)r.f[p++]=s.charCodeAt(h++),p==r.b&&(Qd(r),p=0);else if(_(s))for(;h<c;){var m=s[h++];if(!(typeof m=="number"&&0<=m&&255>=m&&m==(m|0)))throw Error("message must be a byte array");r.f[p++]=m,p==r.b&&(Qd(r),p=0)}else throw Error("message must be string or array");r.c=p,r.g+=c}var Kw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Hw(){Wc.call(this,8,zx)}W(Hw,Wc);var zx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function zw(r,s,c,h,p,m){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=p||null,this.s=m,this.h=s+":"+c,this.C=new $x,this.g=new Bx(this.h),this.f=null,this.b=[],this.a=this.c=null}function Xc(r){return new A("invalid-cordova-configuration",r)}t=zw.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=jN().then(function(){if(typeof me("universalLinks.subscribe",f)!="function")throw Xc("cordova-universal-links-plugin-fix is not installed");if(typeof me("BuildInfo.packageName",f)>"u")throw Xc("cordova-plugin-buildinfo is not installed");if(typeof me("cordova.plugins.browsertab.openUrl",f)!="function")throw Xc("cordova-plugin-browsertab is not installed");if(typeof me("cordova.InAppBrowser.open",f)!="function")throw Xc("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function Gx(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function Wx(r){var s=new Hw;Xd(s,r),r=[];var c=8*s.g;56>s.c?Xd(s,$w,56-s.c):Xd(s,$w,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Qd(s),h=c=0;h<s.i;h++)for(var p=24;0<=p;p-=8)r[c++]=s.a[h]>>p&255;return ok(r)}t.Pb=function(r,s){return s(new A("operation-not-supported-in-this-environment")),Et()},t.Nb=function(){return ve(new A("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,s,c,h){if(this.c)return ve(new A("redirect-operation-pending"));var p=this,m=f.document,w=null,E=null,L=null,K=null;return this.c=Et().then(function(){return hd(s),Ww(p)}).then(function(){return Qx(p,r,s,c,h)}).then(function(){return new Kt(function(Ct,re){E=function(){var Zt=me("cordova.plugins.browsertab.close",f);return Ct(),typeof Zt=="function"&&Zt(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(E),L=function(){w||(w=$o(2e3).then(function(){re(new A("redirect-cancelled-by-user"))}))},K=function(){Hh()&&L()},m.addEventListener("resume",L,!1),We().toLowerCase().match(/android/)||m.addEventListener("visibilitychange",K,!1)}).o(function(Ct){return Yd(p).then(function(){throw Ct})})}).oa(function(){L&&m.removeEventListener("resume",L,!1),K&&m.removeEventListener("visibilitychange",K,!1),w&&w.cancel(),E&&p.Ta(E),p.c=null})};function Qx(r,s,c,h,p){var m=Gx(),w=new sr(s,h,null,m,new A("no-auth-event"),null,p),E=me("BuildInfo.packageName",f);if(typeof E!="string")throw new A("invalid-cordova-configuration");var L=me("BuildInfo.displayName",f),K={};if(We().toLowerCase().match(/iphone|ipad|ipod/))K.ibi=E;else if(We().toLowerCase().match(/android/))K.apn=E;else return ve(new A("operation-not-supported-in-this-environment"));L&&(K.appDisplayName=L),m=Wx(m),K.sessionId=m;var Ct=Lu(r.v,r.i,r.l,s,c,null,h,r.m,K,r.u,p,r.s);return r.ma().then(function(){var re=r.h;return r.C.a.set(Gd,w.w(),re)}).then(function(){var re=me("cordova.plugins.browsertab.isAvailable",f);if(typeof re!="function")throw new A("invalid-cordova-configuration");var Zt=null;re(function($e){if($e){if(Zt=me("cordova.plugins.browsertab.openUrl",f),typeof Zt!="function")throw new A("invalid-cordova-configuration");Zt(Ct)}else{if(Zt=me("cordova.InAppBrowser.open",f),typeof Zt!="function")throw new A("invalid-cordova-configuration");$e=We(),r.a=Zt(Ct,$e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||$e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Gw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Ww(r){return r.f||(r.f=r.ma().then(function(){return new Kt(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),Xx(r)})})),r.f}function Yd(r){var s=null;return qx(r.g).then(function(c){return s=c,c=r.g,ns(c.b,Gd,c.a)}).then(function(){return s})}function Xx(r){function s(w){h=!0,p&&p.cancel(),Yd(r).then(function(E){var L=c;if(E&&w&&w.url){var K=null;L=j0(w.url),L.indexOf("/__/auth/callback")!=-1&&(K=Sn(L),K=Qo(Jn(K,"firebaseError")||null),K=(K=typeof K=="object"?Wt(K):null)?new sr(E.c,E.b,null,null,K,null,E.T()):new sr(E.c,E.b,L,E.f,null,null,E.T())),L=K||c}Gw(r,L)})}var c=new sr("unknown",null,null,null,new A("no-auth-event")),h=!1,p=$o(500).then(function(){return Yd(r).then(function(){h||Gw(r,c)})}),m=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(me("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof m=="function")try{m(w)}catch(E){console.error(E)}},dd||(dd=new dk),pk(s)}t.Ea=function(r){this.b.push(r),Ww(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new sr("unknown",null,null,null,new A("no-auth-event")),r(s))})},t.Ta=function(r){F(this.b,function(s){return s==r})};function Yx(r){this.a=r,this.b=ju()}var Jd={name:"pendingRedirect",F:"session"};function Jx(r){return r.b.set(Jd,"pending",r.a)}function Zd(r){return ns(r.b,Jd,r.a)}function Zx(r){return r.b.get(Jd,r.a).then(function(s){return s=="pending"})}function Yc(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new Zc,this.C=new ib,this.g=new Yx(eb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Qw(this.D,this.v,this.m,st,this.J)}function Qw(r,s,c,h,p){var m=xt.SDK_VERSION||null;return Bh()?new zw(r,s,c,m,h,p):new _w(r,s,c,m,h,p)}Yc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Qw(this.D,this.v,this.m,null,this.J),this.i={}};function Xw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function Yw(r){r.a.Yb()&&Xw(r).o(function(s){var c=new sr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));ep(s)&&r.s(c)}),r.a.Ub()||nb(r.b)}function Jc(r,s){C(r.h,s)||r.h.push(s),r.f||Zx(r.g).then(function(c){c?Zd(r.g).then(function(){Xw(r).o(function(h){var p=new sr("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));ep(h)&&r.s(p)})}):Yw(r)}).o(function(){Yw(r)})}function tp(r,s){F(r.h,function(c){return c==s})}Yc.prototype.s=function(r){if(!r)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return nb(this.b),s};var tC=new si(2e3,1e4),eC=new si(3e4,6e4);Yc.prototype.ra=function(){return this.b.ra()};function Jw(r,s,c,h,p,m,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},p,m,w)}function ep(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Zw(r,s,c,h,p){var m;return Jx(r.g).then(function(){return r.a.Ob(s,c,h,p).o(function(w){if(ep(w))throw new A("operation-not-supported-in-this-environment");return m=w,Zd(r.g).then(function(){throw m})}).then(function(){return r.a.ac()?new Kt(function(){}):Zd(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function tb(r,s,c,h,p){return r.a.Pb(h,function(m){s.na(c,null,m,p)},tC.get())}var np={};function eb(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function rp(r,s,c,h){var p=eb(s,c,h);return np[p]||(np[p]=new Yc(r,s,c,h)),np[p]}function Zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,p=r.a&&r.a.code=="auth/web-storage-unsupported",m=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!m),c!="unknown"||p||m?r.a?(no(this,!0,null,r.a),Et()):s.Fa(c,h)?nC(this,r,s):ve(new A("invalid-auth-event")):(no(this,!1,null,null),Et())}else ve(new A("invalid-auth-event"))};function nb(r){r.g||(r.g=!0,no(r,!1,null,null))}function tl(r){r.g&&!r.i&&no(r,!1,null,null)}function nC(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,p=s.f,m=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,p,w,m).then(function(L){no(r,E,L,null)}).o(function(L){no(r,E,null,L)})}function rC(r,s){if(r.b=function(){return ve(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function rb(r,s){if(r.b=function(){return Et(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function no(r,s,c,h){s?h?rC(r,h):rb(r,c):rb(r,{user:null}),r.f=[],r.c=[]}Zc.prototype.ra=function(){var r=this;return new Kt(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),iC(r))})};function iC(r){var s=new A("timeout");r.a&&r.a.cancel(),r.a=$o(eC.get()).then(function(){r.b||(r.g=!0,no(r,!0,null,s))})}function ib(){}ib.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Et()):s.Fa(c,h)?oC(r,s):ve(new A("invalid-auth-event"))}else ve(new A("invalid-auth-event"))};function oC(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(p){s.na(h,p,null,c)}).o(function(p){s.na(h,null,p,c)})}function ob(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function ip(r,s){this.a=s,pt(this,"verificationId",r)}ip.prototype.confirm=function(r){return r=z0(this.verificationId,r),this.a(r)};function op(r,s,c,h){return new Ur(r).gb(s,c).then(function(p){return new ip(p,h)})}function sC(r){var s=O0(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");dn(this,{token:r,expirationTime:bu(1e3*s.exp),authTime:bu(1e3*s.auth_time),issuedAtTime:bu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function sp(r,s,c){var h=s&&s[ub];if(!h)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=kt(s),this.g=c,this.c=new xc(null,h),this.b=[];var p=this;U(s[sb]||[],function(m){(m=Yh(m))&&p.b.push(m)}),pt(this,"auth",this.a),pt(this,"session",this.c),pt(this,"hints",this.b)}var sb="mfaInfo",ub="mfaPendingCredential";sp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=kt(s.f);return delete h[sb],delete h[ub],Dt(h,c),s.g(h)})};function up(r,s,c,h){A.call(this,"multi-factor-auth-required",h,s),this.b=new sp(r,s,c),pt(this,"resolver",this.b)}W(up,A);function ab(r,s,c){if(r&&N(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new up(s,r.serverResponse,c,r.message)}catch{}return null}function cb(){}cb.prototype.tb=function(r,s,c){return s.type==Tu?uC(this,r,s,c):aC(this,r,s)};function uC(r,s,c,h){return c.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Dt(p,{phoneVerificationInfo:Su(r.a)}),Ht(s,Xk,p)})}function aC(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Dt(h,{phoneVerificationInfo:Su(r.a)}),Ht(s,Yk,h)})}function ap(r){pt(this,"factorId",r.fa),this.a=r}W(ap,cb);function lb(r){if(ap.call(this,r),this.a.fa!=Ur.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}W(lb,ap);function rs(r,s){Tn.call(this,r);for(var c in s)this[c]=s[c]}W(rs,Tn);function cp(r,s){this.a=r,this.b=[],this.c=V(this.yc,this),Yn(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&U(s.multiFactor.enrolledFactors,function(h){var p=null,m={};if(h){h.uid&&(m[Zh]=h.uid),h.displayName&&(m[v0]=h.displayName),h.enrollmentTime&&(m[Jh]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(m[td]=h.phoneNumber);try{p=new _u(m)}catch{}h=p}else h=null;h&&c.push(h)}),el(this,c)}function cC(r){var s=[];return U(r.mfaInfo||[],function(c){(c=Yh(c))&&s.push(c)}),s}t=cp.prototype,t.yc=function(r){el(this,cC(r.hd))};function el(r,s){r.b=s,pt(r,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(r){return new xc(r,null)})},t.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(p){return r.tb(h,p,s)}).then(function(p){return Tr(c.a,p),c.a.reload()})},t.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(p){return Ht(h,mx,{idToken:p,mfaEnrollmentId:c})}).then(function(p){var m=ut(s.b,function(w){return w.uid!=c});return el(s,m),Tr(s.a,p),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:Rt(this.b,function(r){return r.w()})}}};function lp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}lp.prototype.start=function(){this.a=this.c,fp(this,!0)};function lC(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function fp(r,s){r.stop(),r.b=$o(lC(r,s)).then(function(){return BN()}).then(function(){return r.h()}).then(function(){fp(r,!0)}).o(function(c){r.i(c)&&fp(r,!1)})}lp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function hp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}hp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function fb(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function hb(r,s){r.b=Nc(s[ar]||""),r.a=s.refreshToken,s=s.expiresIn,fb(r,typeof s<"u"?Number(s):void 0)}function fC(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function hC(r,s){return Pk(r.f,s).then(function(c){return r.b=Nc(c.access_token),r.a=c.refresh_token,fb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}hp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?ve(new A("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?hC(this,{grant_type:"refresh_token",refresh_token:this.a}):Et(null):Et({accessToken:this.b.toString(),refreshToken:this.a})};function nl(r,s){this.a=r||null,this.b=s||null,dn(this,{lastSignInTime:bu(s||null),creationTime:bu(r||null)})}function dC(r){return new nl(r.a,r.b)}nl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function pC(r,s,c,h,p,m){dn(this,{uid:r,displayName:h||null,photoURL:p||null,email:c||null,phoneNumber:m||null,providerId:s})}function jn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=xt.SDK_VERSION?Go(xt.SDK_VERSION):null;this.a=new ur(this.l,Qt(st),h),(this.u=r.emulatorConfig||null)&&Kc(this.a,this.u),this.h=new hp(this.a),wp(this,s[ar]),hb(this.h,s),pt(this,"refreshToken",this.h.a),pb(this,c||{}),hn.call(this),this.P=!1,this.s&&zi()&&(this.b=rp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=gC(this),this.ba=V(this.ib,this);var p=this;this.za=null,this.Pa=function(m){p.xa(m.h)},this.qa=null,this.Ba=function(m){dp(p,m.c)},this.$=null,this.aa=[],this.Oa=function(m){Uu(p,m.f)},this.ja=null,this.S=new cp(this,c),pt(this,"multiFactor",this.S)}W(jn,hn),jn.prototype.xa=function(r){this.za=r,aw(this.a,r)};function dp(r,s){r.u=s,Kc(r.a,s),r.b&&(s=r.b,r.b=rp(r.s,r.l,r.m,r.u),r.P&&(tp(s,r),Jc(r.b,r)))}jn.prototype.la=function(){return this.za};function pp(r,s){r.qa&&Fn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&Yn(s,"languageCodeChanged",r.Pa)}function gp(r,s){r.$&&Fn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&Yn(s,"emulatorConfigChanged",r.Ba)}function Uu(r,s){r.aa=s,cw(r.a,xt.SDK_VERSION?Go(xt.SDK_VERSION,r.aa):null)}jn.prototype.Ga=function(){return et(this.aa)};function vp(r,s){r.ja&&Fn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&Yn(s,"frameworkChanged",r.Oa)}jn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function mp(r){try{return xt.app(r.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function gC(r){return new lp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function db(r){r.J||r.D.b||(r.D.start(),Fn(r,"tokenChanged",r.ba),Yn(r,"tokenChanged",r.ba))}function yp(r){Fn(r,"tokenChanged",r.ba),r.D.stop()}function wp(r,s){r.Aa=s,pt(r,"_lat",s)}function vC(r,s){F(r.W,function(c){return c==s})}function ro(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return Oy(s).then(function(){return r})}function Bu(r){r.b&&!r.P&&(r.P=!0,Jc(r.b,r))}function pb(r,s){dn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new nl(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pt(jn.prototype,"providerId","firebase");function gb(){}function bp(r){return Et().then(function(){if(r.J)throw new A("app-deleted")})}function _p(r){return Rt(r.providerData,function(s){return s.providerId})}function Ep(r,s){s&&(vb(r,s.providerId),r.providerData.push(s))}function vb(r,s){F(r.providerData,function(c){return c.providerId==s})}function ci(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&pt(r,s,c)}function rl(r,s){r!=s&&(dn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?pt(r,"metadata",dC(s.metadata)):pt(r,"metadata",new nl),U(s.providerData,function(c){Ep(r,c)}),fC(r.h,s.h),pt(r,"refreshToken",r.h.a),el(r.S,s.S.b))}t=jn.prototype,t.reload=function(){var r=this;return je(this,bp(this).then(function(){return Ip(r).then(function(){return ro(r)}).then(gb)}))};function Ip(r){return r.I().then(function(s){var c=r.isAnonymous;return mC(r,s).then(function(){return c||ci(r,"isAnonymous",!1),s})})}t.oc=function(r){return this.I(r).then(function(s){return new sC(s)})},t.I=function(r){var s=this;return je(this,bp(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new A("internal-error");return c.accessToken!=s.Aa&&(wp(s,c.accessToken),s.dispatchEvent(new rs("tokenChanged"))),ci(s,"refreshToken",c.refreshToken),c.accessToken}))};function Tr(r,s){s[ar]&&r.Aa!=s[ar]&&(hb(r.h,s),r.dispatchEvent(new rs("tokenChanged")),wp(r,s[ar]),ci(r,"refreshToken",r.h.a))}function mC(r,s){return Ht(r.a,Jk,{idToken:s}).then(V(r.Kc,r))}t.Kc=function(r){if(r=r.users,!r||!r.length)throw new A("internal-error");r=r[0],pb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=yC(r),c=0;c<s.length;c++)Ep(this,s[c]);ci(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new rs("userReloaded",{hd:r}))};function yC(r){return(r=r.providerUserInfo)&&r.length?Rt(r,function(s){return new pC(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(r){return zh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var s=this,c=null;return je(this,r.c(this.a,this.uid).then(function(h){return Tr(s,h),c=qu(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function il(r,s){return Ip(r).then(function(){if(C(_p(r),s))return ro(r).then(function(){throw new A("provider-already-linked")})})}t.Cc=function(r){return zh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var s=this,c=null;return je(this,il(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=qu(s,h,"link"),mb(s,h)}).then(function(){return c}))},t.Dc=function(r,s){var c=this;return je(this,il(this,"phone").then(function(){return op(mp(c),r,s,V(c.rb,c))}))},t.Mc=function(r,s){var c=this;return je(this,Et().then(function(){return op(mp(c),r,s,V(c.ub,c))}),!0)};function qu(r,s,c){var h=fd(s);return s=D0(s),Er({user:r,credential:h,additionalUserInfo:s,operationType:c})}function mb(r,s){return Tr(r,s),r.reload().then(function(){return r})}t.Cb=function(r){var s=this;return je(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Tr(s,c),s.reload()}))},t.ed=function(r){var s=this;return je(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Tr(s,c),s.reload()}))},t.Db=function(r){var s=this;return je(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Tr(s,c),s.reload()}))},t.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return bp(this);var s=this;return je(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Tr(s,c),ci(s,"displayName",c.displayName||null),ci(s,"photoURL",c.photoUrl||null),U(s.providerData,function(h){h.providerId==="password"&&(pt(h,"displayName",s.displayName),pt(h,"photoURL",s.photoURL))}),ro(s)}).then(gb))},t.cd=function(r){var s=this;return je(this,Ip(this).then(function(c){return C(_p(s),r)?Bk(s.a,c,[r]).then(function(h){var p={};return U(h.providerUserInfo||[],function(m){p[m.providerId]=!0}),U(_p(s),function(m){p[m]||vb(s,m)}),p[Ur.PROVIDER_ID]||pt(s,"phoneNumber",null),ro(s)}):ro(s).then(function(){throw new A("no-such-provider")})}))},t.delete=function(){var r=this;return je(this,this.I().then(function(s){return Ht(r.a,zk,{idToken:s})}).then(function(){r.dispatchEvent(new rs("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");pp(r,null),gp(r,null),vp(r,null),r.N=[],r.J=!0,yp(r),pt(r,"refreshToken",null),r.b&&tp(r.b,r)})},t.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?V(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?V(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?V(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?V(this.Mb,this):null},t.Ec=function(r){var s=this;return yb(this,"linkViaPopup",r,function(){return il(s,r.providerId).then(function(){return ro(s)})},!1)},t.Nc=function(r){return yb(this,"reauthViaPopup",r,function(){return Et()},!0)};function yb(r,s,c,h,p){if(!zi())return ve(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return ve(r.i);var m=od(c.providerId),w=Gi(r.uid+":::"),E=null;(!yu()||qh())&&r.s&&c.isOAuthProvider&&(E=Lu(r.s,r.l,r.m,s,c,null,w,xt.SDK_VERSION||null,null,null,r.tenantId,r.u));var L=u0(E,m&&m.va,m&&m.ua);return h=h().then(function(){if(bb(r),!p)return r.I().then(function(){})}).then(function(){return Jw(r.b,L,s,c,w,!!E,r.tenantId)}).then(function(){return new Kt(function(K,Ct){r.na(s,null,new A("cancelled-popup-request"),r.g||null),r.f=K,r.C=Ct,r.g=w,r.c=tb(r.b,r,s,L,w)})}).then(function(K){return L&&Hi(L),K?Er(K):null}).o(function(K){throw L&&Hi(L),K}),je(r,h,p)}t.Fc=function(r){var s=this;return wb(this,"linkViaRedirect",r,function(){return il(s,r.providerId)},!1)},t.Oc=function(r){return wb(this,"reauthViaRedirect",r,function(){return Et()},!0)};function wb(r,s,c,h,p){if(!zi())return ve(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return ve(r.i);var m=null,w=Gi(r.uid+":::");return h=h().then(function(){if(bb(r),!p)return r.I().then(function(){})}).then(function(){return r.ga=w,ro(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(Tp,r.w(),E.a)),E}).then(function(){return Zw(r.b,s,c,w,r.tenantId)}).o(function(E){if(m=E,r.ha)return Eb(r.ha);throw m}).then(function(){if(m)throw m}),je(r,h,p)}function bb(r){if(!r.b||!r.P)throw r.b&&!r.P?new A("internal-error"):new A("auth-domain-config-required")}t.Lb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null;return c=this.I().then(function(w){return Rd(p.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return m=qu(p,w,"link"),mb(p,w)}).then(function(){return m}),je(this,c)},t.Mb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null,w=Et().then(function(){return Yo(Dd(p.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),p.uid)}).then(function(E){return m=qu(p,E,"reauthenticate"),Tr(p,E),p.i=null,p.reload()}).then(function(){return m});return je(this,w,!0)},t.vb=function(r){var s=this,c=null;return je(this,this.I().then(function(h){return c=h,typeof r>"u"||Ft(r)?{}:Sc(new Tc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Fb=function(r,s){var c=this,h=null;return je(this,this.I().then(function(p){return h=p,typeof s>"u"||Ft(s)?{}:Sc(new Tc(s))}).then(function(p){return c.a.Fb(h,r,p)}).then(function(p){if(c.email!=p)return c.reload()}).then(function(){}))};function je(r,s,c){var h=wC(r,s,c);return r.N.push(h),h.oa(function(){M(r.N,h)}),h.o(function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=ab(p.w(),mp(r),V(r.jc,r))),m||p})}t.jc=function(r){var s=null,c=this;return r=Yo(Et(r),c.uid).then(function(h){return s=qu(c,h,"reauthenticate"),Tr(c,h),c.i=null,c.reload()}).then(function(){return s}),je(this,r,!0)};function wC(r,s,c){return r.i&&!c?(s.cancel(),ve(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new rs("userInvalidated")),r.i=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Dt(r,this.metadata.w()),U(this.providerData,function(s){r.providerData.push(KN(s))}),Dt(r,this.S.w()),r};function _b(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[ar]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var p=new jn(s,c,r);return r.providerData&&U(r.providerData,function(m){m&&Ep(p,Er(m))}),r.redirectEventId&&(p.ga=r.redirectEventId),p}function bC(r,s,c,h){var p=new jn(r,s);return c&&(p.ha=c),h&&Uu(p,h),p.reload().then(function(){return p})}function _C(r,s,c,h){var p=r.h,m={};return m[ar]=p.b&&p.b.toString(),m.refreshToken=p.a,s=new jn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},m),c&&(s.ha=c),h&&Uu(s,h),rl(s,r),s}function EC(r){this.a=r,this.b=ju()}var Tp={name:"redirectUser",F:"session"};function Eb(r){return ns(r.b,Tp,r.a)}function IC(r,s){return r.b.get(Tp,r.a).then(function(c){return c&&s&&(c.authDomain=s),_b(c||{})})}function Sp(r){this.a=r,this.b=ju(),this.c=null,this.f=TC(this),this.b.addListener(Sr("local"),this.a,V(this.g,this))}Sp.prototype.g=function(){var r=this,s=Sr("local");is(this,function(){return Et().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return Ap(r,"local").then(function(){r.c=s})})})};function Ap(r,s){var c=[],h;for(h in ts)ts[h]!==s&&c.push(ns(r.b,Sr(ts[h]),r.a));return c.push(ns(r.b,Np,r.a)),dN(c)}function TC(r){var s=Sr("local"),c=Sr("session"),h=Sr("none");return jx(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(p){return p?c:r.b.get(h,r.a).then(function(m){return m?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(Np,r.a).then(function(E){return E?Sr(E):s})})})}).then(function(p){return r.c=p,Ap(r,p.F)}).o(function(){r.c||(r.c=s)})}var Np={name:"persistence",F:"session"};function Sr(r){return{name:"authUser",F:r}}Sp.prototype.yb=function(r){var s=null,c=this;return Vx(r),is(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,Ap(c,r)}).then(function(){if(c.c=Sr(r),s)return c.b.set(c.c,s,c.a)}):Et()})};function SC(r){return is(r,function(){return r.b.set(Np,r.c.F,r.a)})}function Ib(r,s){return is(r,function(){return r.b.set(r.c,s.w(),r.a)})}function Tb(r){return is(r,function(){return ns(r.b,r.c,r.a)})}function Sb(r,s,c){return is(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),_b(h||{})})})}function is(r,s){return r.f=r.f.then(s,s),r.f}function cr(r){if(this.l=!1,pt(this,"settings",new ob),pt(this,"app",r),ue(this).options&&ue(this).options.apiKey)r=xt.SDK_VERSION?Go(xt.SDK_VERSION):null,this.a=new ur(ue(this).options&&ue(this).options.apiKey,Qt(st),r);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xt.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=xt.INTERNAL.createSubscribe(V(this.Ac,this)),os(this,null),this.i=new Sp(ue(this).options.apiKey+":"+ue(this).name),this.D=new EC(ue(this).options.apiKey+":"+ue(this).name),this.$=Te(this,OC(this)),this.h=Te(this,RC(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,kC(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,hn.call(this),NC(this),this.J=[],this.R=null}W(cr,hn);function Ab(r){Tn.call(this,"languageCodeChanged"),this.h=r}W(Ab,Tn);function Nb(r){Tn.call(this,"emulatorConfigChanged"),this.c=r}W(Nb,Tn);function kb(r){Tn.call(this,"frameworkChanged"),this.f=r}W(kb,Tn),t=cr.prototype,t.yb=function(r){return r=this.i.yb(r),Te(this,r)},t.xa=function(r){this.aa===r||this.l||(this.aa=r,aw(this.a,this.aa),this.dispatchEvent(new Ab(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,AC(s),this.R={url:r,ec:s},this.settings.jb=!0,Kc(this.a,this.R),this.dispatchEvent(new Nb(this.R))}};function AC(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&_c().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}t.Gc=function(r){this.J.push(r),cw(this.a,xt.SDK_VERSION?Go(xt.SDK_VERSION,this.J):null),this.dispatchEvent(new kb(this.J))},t.Ga=function(){return et(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S};function NC(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Sn(this.R.url);s=Er({protocol:s.c,host:s.a,port:s.g,options:Er({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:ue(this).options.apiKey,authDomain:ue(this).options.authDomain,appName:ue(this).name,currentUser:jt(this)&&jt(this).w()}};function kp(r){return r.Oa||ve(new A("auth-domain-config-required"))}function kC(r){var s=ue(r).options.authDomain,c=ue(r).options.apiKey;s&&zi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=rp(s,c,ue(r).name,r.R),Jc(r.b,r),jt(r)&&Bu(jt(r)),r.m){Bu(r.m);var h=r.m;h.xa(r.la()),pp(h,r),h=r.m,Uu(h,r.J),vp(h,r),h=r.m,dp(h,r.R),gp(h,r),r.m=null}return r.b}}))}t.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?V(this.ic,this):null},t.ic=function(r,s,c,h){var p=this,m={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return io(p,Od(p.a,m))})},t.Xc=function(r){if(!zi())return ve(new A("operation-not-supported-in-this-environment"));var s=this,c=od(r.providerId),h=Gi(),p=null;(!yu()||qh())&&ue(this).options.authDomain&&r.isOAuthProvider&&(p=Lu(ue(this).options.authDomain,ue(this).options.apiKey,ue(this).name,"signInViaPopup",r,null,h,xt.SDK_VERSION||null,null,null,this.T(),this.R));var m=u0(p,c&&c.va,c&&c.ua);return c=kp(this).then(function(w){return Jw(w,m,"signInViaPopup",r,h,!!p,s.T())}).then(function(){return new Kt(function(w,E){s.na("signInViaPopup",null,new A("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=tb(s.b,s,"signInViaPopup",m,h)})}).then(function(w){return m&&Hi(m),w?Er(w):null}).o(function(w){throw m&&Hi(m),w}),Te(this,c)},t.Yc=function(r){if(!zi())return ve(new A("operation-not-supported-in-this-environment"));var s=this,c=kp(this).then(function(){return SC(s.i)}).then(function(){return Zw(s.b,"signInViaRedirect",r,void 0,s.T())});return Te(this,c)};function xb(r){if(!zi())return ve(new A("operation-not-supported-in-this-environment"));var s=kp(r).then(function(){return r.b.ra()}).then(function(c){return c?Er(c):null});return Te(r,s)}t.ra=function(){var r=this;return xb(this).then(function(s){return r.b&&tl(r.b.b),s}).o(function(s){throw r.b&&tl(r.b.b),s})},t.dd=function(r){if(!r)return ve(new A("null-user"));if(this.S!=r.tenantId)return ve(new A("tenant-id-mismatch"));var s=this,c={};c.apiKey=ue(this).options.apiKey,c.authDomain=ue(this).options.authDomain,c.appName=ue(this).name;var h=_C(r,c,s.D,s.Ga());return Te(this,this.h.then(function(){if(ue(s).options.apiKey!=r.l)return h.reload()}).then(function(){return jt(s)&&r.uid==jt(s).uid?(rl(jt(s),r),s.da(r)):(os(s,h),Bu(h),s.da(h))}).then(function(){$u(s)}))};function xC(r,s){var c={};return c.apiKey=ue(r).options.apiKey,c.authDomain=ue(r).options.authDomain,c.appName=ue(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return bC(c,s,r.D,r.Ga())}).then(function(h){return jt(r)&&h.uid==jt(r).uid?(rl(jt(r),h),r.da(h)):(os(r,h),Bu(h),r.da(h))}).then(function(){$u(r)})}function os(r,s){jt(r)&&(vC(jt(r),r.Ba),Fn(jt(r),"tokenChanged",r.qa),Fn(jt(r),"userDeleted",r.za),Fn(jt(r),"userInvalidated",r.Aa),yp(jt(r))),s&&(s.W.push(r.Ba),Yn(s,"tokenChanged",r.qa),Yn(s,"userDeleted",r.za),Yn(s,"userInvalidated",r.Aa),0<r.u&&db(s)),pt(r,"currentUser",s),s&&(s.xa(r.la()),pp(s,r),Uu(s,r.J),vp(s,r),dp(s,r.R),gp(s,r))}t.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&tl(r.b.b),jt(r)?(os(r,null),Tb(r.i).then(function(){$u(r)})):Et()});return Te(this,s)};function CC(r){var s=IC(r.D,ue(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),Eb(r.D)});return Te(r,s)}function OC(r){var s=ue(r).options.authDomain,c=CC(r).then(function(){return Sb(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return Ib(r.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:Tb(r.i)})):null}).then(function(h){os(r,h||null)});return Te(r,c)}function RC(r){return r.$.then(function(){return xb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Sr("local"),s.a,r.ja)}})}t.Zc=function(){var r=this;return Sb(this.i,ue(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=jt(r)&&s){c=jt(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return rl(jt(r),s),jt(r).I();(jt(r)||s)&&(os(r,s),s&&(Bu(s),s.ha=r.D),r.b&&Jc(r.b,r),$u(r))}})},t.da=function(r){return Ib(this.i,r)},t.mc=function(){$u(this),this.da(jt(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function io(r,s){var c=null,h=null;return Te(r,s.then(function(p){return c=fd(p),h=D0(p),xC(r,p)},function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=ab(p.w(),r,V(r.kc,r))),m||p}).then(function(){return Er({user:jt(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}t.kc=function(r){var s=this;return this.h.then(function(){return io(s,Et(r))})},t.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(jt(s))})},t.Ac=function(r){var s=this;DC(this,function(){r.next(jt(s))})},t.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(jt(h)):typeof r.next=="function"&&r.next(jt(h))}),this.Pa(r,s,c)},t.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(jt(h)):typeof r.next=="function"&&r.next(jt(h))}),this.ib(r,s,c)},t.nc=function(r){var s=this,c=this.h.then(function(){return jt(s)?jt(s).I(r).then(function(h){return{accessToken:h}}):null});return Te(this,c)},t.Tc=function(r){var s=this;return this.h.then(function(){return io(s,Ht(s.a,dx,{token:r}))}).then(function(c){var h=c.user;return ci(h,"isAnonymous",!1),s.da(h),c})},t.Uc=function(r,s){var c=this;return this.h.then(function(){return io(c,Ht(c.a,yw,{email:r,password:s}))})},t.dc=function(r,s){var c=this;return this.h.then(function(){return io(c,Ht(c.a,Kk,{email:r,password:s}))})},t.ab=function(r){var s=this;return this.h.then(function(){return io(s,r.ka(s.a))})},t.Sc=function(r){return zh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var s=jt(r);if(s&&s.isAnonymous){var c=Er({providerId:null,isNewUser:!1});return Er({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return io(r,r.a.Ab()).then(function(h){var p=h.user;return ci(p,"isAnonymous",!0),r.da(p),h})})};function ue(r){return r.app}function jt(r){return r.currentUser}t.getUid=function(){return jt(this)&&jt(this).uid||null};function ol(r){return jt(r)&&jt(r)._lat||null}function $u(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](ol(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](ol(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&jt(this)&&db(jt(this))},t.Pc=function(r){var s=this;U(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&jt(this)&&yp(jt(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.s.push(r),Te(this,this.h.then(function(){s.l||C(s.s,r)&&r(ol(s))}))},t.removeAuthTokenListener=function(r){F(this.s,function(s){return s==r})};function DC(r,s){r.N.push(s),Te(r,r.h.then(function(){!r.l&&C(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(ol(r)))}))}t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Sr("local"),r.a,this.ja)),this.b&&(tp(this.b,this),tl(this.b.b)),Promise.resolve()};function Te(r,s){return r.P.push(s),s.oa(function(){M(r.P,s)}),s}t.hc=function(r){return Te(this,Lk(this.a,r))},t.Bc=function(r){return!!ld(r)},t.xb=function(r,s){var c=this;return Te(this,Et().then(function(){var h=new Tc(s);if(!h.c)throw new A("argument-error",rd+" must be true when sending sign in link to email");return Sc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},t.ob=function(r,s){return Te(this,this.a.ob(r,s).then(function(){}))},t.Sa=function(r){return Te(this,this.a.Sa(r).then(function(s){return new zN(s)}))},t.kb=function(r){return Te(this,this.a.kb(r).then(function(){}))},t.wb=function(r,s){var c=this;return Te(this,Et().then(function(){return typeof s>"u"||Ft(s)?{}:Sc(new Tc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},t.Wc=function(r,s){return Te(this,op(this,r,s,V(this.ab,this)))},t.Vc=function(r,s){var c=this;return Te(this,Et().then(function(){var h=s||mu(),p=H0(r,h);if(h=ld(h),!h)throw new A("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new A("tenant-id-mismatch");return c.ab(p)}))};function Ku(){}Ku.prototype.render=function(){},Ku.prototype.reset=function(){},Ku.prototype.getResponse=function(){},Ku.prototype.execute=function(){};function ss(){this.a={},this.b=1e12}var xp=null;ss.prototype.render=function(r,s){return this.a[this.b.toString()]=new sl(r,s),this.b++},ss.prototype.reset=function(r){var s=Cp(this,r);r=Cb(r),s&&r&&(s.delete(),delete this.a[r])},ss.prototype.getResponse=function(r){return(r=Cp(this,r))?r.getResponse():null},ss.prototype.execute=function(r){(r=Cp(this,r))&&r.execute()};function Cp(r,s){return(s=Cb(s))&&r.a[s]||null}function Cb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function sl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=lu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():Yn(this.f,"click",this.i)}sl.prototype.getResponse=function(){return Op(this),this.b},sl.prototype.execute=function(){Op(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=UN();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},sl.prototype.delete=function(){Op(this),this.g=!0,clearTimeout(this.a),this.a=null,Fn(this.f,"click",this.i)};function Op(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function Rp(){}pt(Rp,"FACTOR_ID","phone");function Dp(){}Dp.prototype.g=function(){return xp||(xp=new ss),Et(xp)},Dp.prototype.c=function(){};var Pp=null;function Lp(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var PC=new nn(ac,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),LC=new si(3e4,6e4);Lp.prototype.g=function(r){var s=this;return new Kt(function(c,h){var p=setTimeout(function(){h(new A("network-request-failed"))},LC.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,L){return E=w(E,L),s.b++,E},clearTimeout(p),c(f.grecaptcha)}else clearTimeout(p),h(new A("internal-error"));delete f[s.a]};var m=vh(PC,{onload:s.a,hl:r||""});Et(Td(m)).o(function(){clearTimeout(p),h(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),c(f.grecaptcha)})},Lp.prototype.c=function(){this.b--};var Mp=null;function Fp(r,s,c,h,p,m,w){if(pt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(Pp||(Pp=new Dp),w=Pp):(Mp||(Mp=new Lp),w=Mp),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Db])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[MC]==="invisible",!f.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!lu(s)||!this.i&&lu(s).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ur(r,m||null,p||null),this.u=h||function(){return null};var E=this;this.l=[];var L=this.a[Ob];this.a[Ob]=function(Ct){if(Pb(E,Ct),typeof L=="function")L(Ct);else if(typeof L=="string"){var re=me(L,f);typeof re=="function"&&re(Ct)}};var K=this.a[Rb];this.a[Rb]=function(){if(Pb(E,null),typeof K=="function")K();else if(typeof K=="string"){var Ct=me(K,f);typeof Ct=="function"&&Ct()}}}var Ob="callback",Rb="expired-callback",Db="sitekey",MC="size";function Pb(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function FC(r,s){F(r.l,function(c){return c==s})}function Vp(r,s){return r.h.push(s),s.oa(function(){M(r.h,s)}),s}t=Fp.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=Vp(this,Et().then(function(){if(Ec()&&!or())return _c();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Ht(r.s,ix,{})}).then(function(s){r.a[Db]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},t.render=function(){ul(this);var r=this;return Vp(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=lu(s);s=cN("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){ul(this);var r=this;return Vp(this,this.render().then(function(s){return new Kt(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var p=function(m){m&&(FC(r,p),c(m))};r.l.push(p),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){ul(this),this.c!==null&&this.g.reset(this.c)};function ul(r){if(r.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){ul(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=lu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function jp(r,s,c){var h=!1;try{this.b=c||xt.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new A("invalid-api-key");var p=this,m=null;try{m=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}m=xt.SDK_VERSION?Go(xt.SDK_VERSION,m):null,Fp.call(this,c,r,s,function(){try{var w=p.b.auth().la()}catch{w=null}return w},m,Qt(st),h)}W(jp,Fp);function Lb(r,s,c,h){t:{c=Array.prototype.slice.call(c);for(var p=0,m=!1,w=0;w<s.length;w++)if(s[w].optional)m=!0;else{if(m)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(m=s.length,c.length<p||m<c.length)h="Expected "+(p==m?p==1?"1 argument":p+" arguments":p+"-"+m+" arguments")+" but got "+c.length+".";else{for(p=0;p<c.length;p++)if(m=s[p].optional&&c[p]===void 0,!s[p].M(c[p])&&!m){if(s=s[p],0>p||p>=Mb.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");c=Mb[p],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new A("argument-error",r+" failed: "+h)}var Mb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ft(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function Up(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Oe(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:N}}function us(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Ar(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function VC(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function jC(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof cr)}}}function UC(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof xt.app.App)}}}function li(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function Fb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function as(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Bp(r,s){return N(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function Vb(r){return N(r)&&typeof r.uid=="string"}function al(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function ke(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(p){return r.M(p)||s.M(p)}}}function be(r,s){for(var c in s){var h=s[c].name;r[h]=Ub(h,r[c],s[c].j)}}function jb(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:It(function(p){return this[p]},c),set:It(function(p,m,w,E){Lb(p,[w],[E],!0),this[m]=E},h,c,s[c].lb),enumerable:!0})}}function xe(r,s,c,h){r[s]=Ub(s,c,h)}function Ub(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return Lb(p,c,w),s.apply(this,w)}if(!c)return s;var p=BC(r),m;for(m in s)h[m]=s[m];for(m in s.prototype)h.prototype[m]=s.prototype[m];return h}function BC(r){return r=r.split("."),r[r.length-1]}be(cr.prototype,{kb:{name:"applyActionCode",j:[ft("code")]},Sa:{name:"checkActionCode",j:[ft("code")]},ob:{name:"confirmPasswordReset",j:[ft("code"),ft("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ft("email"),ft("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ft("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ft("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ke(Oe(),us(),"nextOrObserver"),us("opt_error",!0),us("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ke(Oe(),us(),"nextOrObserver"),us("opt_error",!0),us("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ft("email"),ke(Oe("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ft("email"),Oe("actionCodeSettings")]},yb:{name:"setPersistence",j:[ft("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[li()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[li()]},Tc:{name:"signInWithCustomToken",j:[ft("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ft("email"),ft("password")]},Vc:{name:"signInWithEmailLink",j:[ft("email"),ft("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ft("phoneNumber"),al()]},Xc:{name:"signInWithPopup",j:[as()]},Yc:{name:"signInWithRedirect",j:[as()]},dd:{name:"updateCurrentUser",j:[ke(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof jn)}}}(),Ar(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ft(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ft("url"),Oe("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ft("code")]}}),jb(cr.prototype,{lc:{name:"languageCode",lb:ke(ft(),Ar(),"languageCode")},ti:{name:"tenantId",lb:ke(ft(),Ar(),"tenantId")}}),cr.Persistence=ts,cr.Persistence.LOCAL="local",cr.Persistence.SESSION="session",cr.Persistence.NONE="none",be(jn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Up("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Up("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[li()]},rb:{name:"linkWithCredential",j:[li()]},Dc:{name:"linkWithPhoneNumber",j:[ft("phoneNumber"),al()]},Ec:{name:"linkWithPopup",j:[as()]},Fc:{name:"linkWithRedirect",j:[as()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[li()]},ub:{name:"reauthenticateWithCredential",j:[li()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ft("phoneNumber"),al()]},Nc:{name:"reauthenticateWithPopup",j:[as()]},Oc:{name:"reauthenticateWithRedirect",j:[as()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ke(Oe("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ft(null,!0)]},cd:{name:"unlink",j:[ft("provider")]},Cb:{name:"updateEmail",j:[ft("email")]},Db:{name:"updatePassword",j:[ft("password")]},ed:{name:"updatePhoneNumber",j:[li("phone")]},Eb:{name:"updateProfile",j:[Oe("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ft("email"),ke(Oe("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]}}),be(ss.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),be(Ku.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),be(Kt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),jb(ob.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Up("appVerificationDisabledForTesting")}}),be(ip.prototype,{confirm:{name:"confirm",j:[ft("verificationCode")]}}),xe(Xo,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[lk,fk,hk,ck],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[ke(ft(),Oe(),"json")]),xe(Zn,"credential",function(r,s){return new ui(r,s)},[ft("email"),ft("password")]),be(ui.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(Xi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Xi,"credential",B0,[ke(ft(),Oe(),"token")]),xe(Zn,"credentialWithLink",H0,[ft("email"),ft("emailLink")]),be(Yi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Yi,"credential",q0,[ke(ft(),Oe(),"token")]),be(Ji.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Ji,"credential",$0,[ke(ft(),ke(Oe(),Ar()),"idToken"),ke(ft(),Ar(),"accessToken",!0)]),be(Jo.prototype,{Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Jo,"credential",K0,[ke(ft(),Oe(),"token"),ft("secret",!0)]),be(Vn.prototype,{Ca:{name:"addScope",j:[ft("scope")]},credential:{name:"credential",j:[ke(ft(),ke(Oe(),Ar()),"optionsOrIdToken"),ke(ft(),Ar(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),be(jr.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(Wi.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),xe(Ur,"credential",z0,[ft("verificationId"),ft("verificationCode")]),be(Ur.prototype,{gb:{name:"verifyPhoneNumber",j:[ke(ft(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Bp(c.session,Tu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Bp(c.session,Cc)&&Vb(c.multiFactorHint):c.session&&c.multiFactorUid?Bp(c.session,Cc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),al()]}}),be(ai.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(A.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(Au.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(pd.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(up.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(sp.prototype,{Rc:{name:"resolveSignIn",j:[Fb()]}}),be(cp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Fb(),ft("displayName",!0)]},bd:{name:"unenroll",j:[ke({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Vb},ft(),"multiFactorInfoIdentifier")]}}),be(jp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xe(nd,"parseLink",I0,[ft("link")]),xe(Rp,"assertion",function(r){return new lb(r)},[li("phone")]),function(){if(typeof xt<"u"&&xt.INTERNAL&&xt.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ic,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ed,VERIFY_AND_CHANGE_EMAIL:Eu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cr,AuthCredential:Xo,Error:A};xe(r,"EmailAuthProvider",Zn,[]),xe(r,"FacebookAuthProvider",Xi,[]),xe(r,"GithubAuthProvider",Yi,[]),xe(r,"GoogleAuthProvider",Ji,[]),xe(r,"TwitterAuthProvider",Jo,[]),xe(r,"OAuthProvider",Vn,[ft("providerId")]),xe(r,"SAMLAuthProvider",U0,[ft("providerId")]),xe(r,"PhoneAuthProvider",Ur,[jC()]),xe(r,"RecaptchaVerifier",jp,[ke(ft(),VC(),"recaptchaContainer"),Oe("recaptchaParameters",!0),UC()]),xe(r,"ActionCodeURL",nd,[]),xe(r,"PhoneMultiFactorGenerator",Rp,[]),xt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new cr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),xt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:V(s.getUid,s),getToken:V(s.nc,s),addAuthTokenListener:V(s.cc,s),removeAuthTokenListener:V(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xt.registerVersion("@firebase/auth","0.16.8"),xt.INTERNAL.extendNamespace({User:jn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dg=function(t,e){return Dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Dg(t,e)};function wP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function C1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var bP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ct,Hv=Hv||{},Pt=bP||self;function Kl(){}function Pg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qa(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function _P(t){return Object.prototype.hasOwnProperty.call(t,Yp)&&t[Yp]||(t[Yp]=++EP)}var Yp="closure_uid_"+(1e9*Math.random()>>>0),EP=0;function IP(t,e,n){return t.call.apply(t.bind,arguments)}function TP(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Je=IP:Je=TP,Je.apply(null,arguments)}function vl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function tn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[o].apply(i,a)}}function Li(){this.s=this.s,this.o=this.o}var SP=0;Li.prototype.s=!1;Li.prototype.na=function(){!this.s&&(this.s=!0,this.M(),SP!=0)&&_P(this)};Li.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var O1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},R1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function AP(t){t:{for(var e=mL,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function __(t){return Array.prototype.concat.apply([],arguments)}function zv(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Hl(t){return/^[\s\xa0]*$/.test(t)}var E_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function mn(t,e){return t.indexOf(e)!=-1}function Jp(t,e){return t<e?-1:t>e?1:0}var yn;t:{var I_=Pt.navigator;if(I_){var T_=I_.userAgent;if(T_){yn=T_;break t}}yn=""}function Gv(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function D1(t){var e={};for(var n in t)e[n]=t[n];return e}var S_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P1(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<S_.length;u++)n=S_[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Wv(t){return Wv[" "](t),t}Wv[" "]=Kl;function NP(t){var e=CP;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var kP=mn(yn,"Opera"),Rs=mn(yn,"Trident")||mn(yn,"MSIE"),L1=mn(yn,"Edge"),Lg=L1||Rs,M1=mn(yn,"Gecko")&&!(mn(yn.toLowerCase(),"webkit")&&!mn(yn,"Edge"))&&!(mn(yn,"Trident")||mn(yn,"MSIE"))&&!mn(yn,"Edge"),xP=mn(yn.toLowerCase(),"webkit")&&!mn(yn,"Edge");function F1(){var t=Pt.document;return t?t.documentMode:void 0}var zl;t:{var Zp="",tg=function(){var t=yn;if(M1)return/rv:([^\);]+)(\)|;)/.exec(t);if(L1)return/Edge\/([\d\.]+)/.exec(t);if(Rs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xP)return/WebKit\/(\S+)/.exec(t);if(kP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tg&&(Zp=tg?tg[1]:""),Rs){var eg=F1();if(eg!=null&&eg>parseFloat(Zp)){zl=String(eg);break t}}zl=Zp}var CP={};function OP(){return NP(function(){for(var t=0,e=E_(String(zl)).split("."),n=E_("9").split("."),i=Math.max(e.length,n.length),o=0;t==0&&o<i;o++){var u=e[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;t=Jp(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Jp(u[2].length==0,a[2].length==0)||Jp(u[2],a[2]),u=u[3],a=a[3]}while(t==0)}return 0<=t})}var Mg;if(Pt.document&&Rs){var A_=F1();Mg=A_||parseInt(zl,10)||void 0}else Mg=void 0;var RP=Mg,DP=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pt.addEventListener("test",Kl,e),Pt.removeEventListener("test",Kl,e)}catch{}return t}();function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};function Ta(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(M1){t:{try{Wv(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ta.Z.h.call(this)}}tn(Ta,cn);var PP={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var $a="closure_listenable_"+(1e6*Math.random()|0),LP=0;function MP(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=o,this.key=++LP,this.ca=this.fa=!1}function Mf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Ff(t){this.src=t,this.g={},this.h=0}Ff.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var a=Vg(t,e,i,o);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new MP(e,this.src,u,!!i,o),e.fa=n,t.push(e)),e};function Fg(t,e){var n=e.type;if(n in t.g){var i=t.g[n],o=O1(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(Mf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Vg(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==i)return o}return-1}var Qv="closure_lm_"+(1e6*Math.random()|0),ng={};function V1(t,e,n,i,o){if(i&&i.once)return U1(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)V1(t,e[u],n,i,o);return null}return n=Jv(n),t&&t[$a]?t.N(e,n,qa(i)?!!i.capture:!!i,o):j1(t,e,n,!1,i,o)}function j1(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var a=qa(o)?!!o.capture:!!o,l=Yv(t);if(l||(t[Qv]=l=new Ff(t)),n=l.add(e,n,i,a,u),n.proxy)return n;if(i=FP(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)DP||(o=a),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(q1(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FP(){function t(n){return e.call(t.src,t.listener,n)}var e=VP;return t}function U1(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)U1(t,e[u],n,i,o);return null}return n=Jv(n),t&&t[$a]?t.O(e,n,qa(i)?!!i.capture:!!i,o):j1(t,e,n,!0,i,o)}function B1(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)B1(t,e[u],n,i,o);else i=qa(i)?!!i.capture:!!i,n=Jv(n),t&&t[$a]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=Vg(u,n,i,o),-1<n&&(Mf(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=Yv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vg(e,n,i,o)),(n=-1<t?e[t]:null)&&Xv(n))}function Xv(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[$a])Fg(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(q1(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Yv(e))?(Fg(n,t),n.h==0&&(n.src=null,e[Qv]=null)):Mf(t)}}}function q1(t){return t in ng?ng[t]:ng[t]="on"+t}function VP(t,e){if(t.ca)t=!0;else{e=new Ta(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Xv(t),t=n.call(i,e)}return t}function Yv(t){return t=t[Qv],t instanceof Ff?t:null}var rg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jv(t){return typeof t=="function"?t:(t[rg]||(t[rg]=function(e){return t.handleEvent(e)}),t[rg])}function Ge(){Li.call(this),this.i=new Ff(this),this.P=this,this.I=null}tn(Ge,Li);Ge.prototype[$a]=!0;Ge.prototype.removeEventListener=function(t,e,n,i){B1(this,t,e,n,i)};function Ze(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var o=e;e=new cn(i,t),P1(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=e.g=n[u];o=ml(a,i,!0,e)&&o}if(a=e.g=t,o=ml(a,i,!0,e)&&o,o=ml(a,i,!1,e)&&o,n)for(u=0;u<n.length;u++)a=e.g=n[u],o=ml(a,i,!1,e)&&o}Ge.prototype.M=function(){if(Ge.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Mf(n[i]);delete t.g[e],t.h--}}this.I=null};Ge.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Ge.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function ml(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var a=e[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Fg(t.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Zv=Pt.JSON.stringify;function jP(){var t=K1,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var UP=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var i=$1.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i},t}(),$1=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new BP},function(t){return t.reset()}),BP=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function qP(t){Pt.setTimeout(function(){throw t},0)}function tm(t,e){jg||$P(),Ug||(jg(),Ug=!0),K1.add(t,e)}var jg;function $P(){var t=Pt.Promise.resolve(void 0);jg=function(){t.then(KP)}}var Ug=!1,K1=new UP;function KP(){for(var t;t=jP();){try{t.h.call(t.g)}catch(n){qP(n)}var e=$1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ug=!1}function Vf(t,e){Ge.call(this),this.h=t||1,this.g=e||Pt,this.j=Je(this.kb,this),this.l=Date.now()}tn(Vf,Ge);ct=Vf.prototype;ct.da=!1;ct.S=null;ct.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ze(this,"tick"),this.da&&(em(this),this.start()))}};ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function em(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}ct.M=function(){Vf.Z.M.call(this),em(this),delete this.g};function nm(t,e,n){if(typeof t=="function")n&&(t=Je(t,n));else if(t&&typeof t.handleEvent=="function")t=Je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pt.setTimeout(t,e||0)}function H1(t){t.g=nm(function(){t.g=null,t.i&&(t.i=!1,H1(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var HP=function(t){wP(e,t);function e(n,i){var o=t.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:H1(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Li);function Sa(t){Li.call(this),this.h=t,this.g={}}tn(Sa,Li);var N_=[];function z1(t,e,n,i){Array.isArray(n)||(n&&(N_[0]=n.toString()),n=N_);for(var o=0;o<n.length;o++){var u=V1(e,n[o],i||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function G1(t){Gv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Xv(e)},t),t.g={}}Sa.prototype.M=function(){Sa.Z.M.call(this),G1(this)};Sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function jf(){this.g=!0}jf.prototype.Aa=function(){this.g=!1};function zP(t,e,n,i,o,u){t.info(function(){if(t.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var g=d[0];d=d[1];var v=g.split("_");a=2<=v.length&&v[1]=="type"?a+(g+"="+d+"&"):a+(g+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+a})}function GP(t,e,n,i,o,u,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+a})}function bs(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+QP(t,n)+(i?" "+i:"")})}function WP(t,e){t.info(function(){return"TIMEOUT: "+e})}jf.prototype.info=function(){};function QP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Zv(n)}catch{return e}}var Ro={},k_=null;function Uf(){return k_=k_||new Ge}Ro.Ma="serverreachability";function W1(t){cn.call(this,Ro.Ma,t)}tn(W1,cn);function Aa(t){var e=Uf();Ze(e,new W1(e))}Ro.STAT_EVENT="statevent";function Q1(t,e){cn.call(this,Ro.STAT_EVENT,t),this.stat=e}tn(Q1,cn);function bn(t){var e=Uf();Ze(e,new Q1(e,t))}Ro.Na="timingevent";function X1(t,e){cn.call(this,Ro.Na,t),this.size=e}tn(X1,cn);function Ka(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){t()},e)}var Bf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Y1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rm(){}rm.prototype.h=null;function x_(t){return t.h||(t.h=t.i())}function J1(){}var Ha={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function im(){cn.call(this,"d")}tn(im,cn);function om(){cn.call(this,"c")}tn(om,cn);var Bg;function qf(){}tn(qf,rm);qf.prototype.g=function(){return new XMLHttpRequest};qf.prototype.i=function(){return{}};Bg=new qf;function za(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Sa(this),this.P=XP,t=Lg?125:void 0,this.W=new Vf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Z1}function Z1(){this.i=null,this.g="",this.h=!1}var XP=45e3,qg={},Gl={};ct=za.prototype;ct.setTimeout=function(t){this.P=t};function $g(t,e,n){t.K=1,t.v=Kf(Jr(e)),t.s=n,t.U=!0,tT(t,null)}function tT(t,e){t.F=Date.now(),Ga(t),t.A=Jr(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),uT(n.h,"t",i),t.C=0,n=t.l.H,t.h=new Z1,t.g=NT(t.l,n?e:null,!t.s),0<t.O&&(t.L=new HP(Je(t.Ia,t,t.g),t.O)),z1(t.V,t.g,"readystatechange",t.gb),e=t.H?D1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Aa(),zP(t.j,t.u,t.A,t.m,t.X,t.s)}ct.gb=function(t){t=t.target;var e=this.L;e&&Hr(t)==3?e.l():this.Ia(t)};ct.Ia=function(t){try{if(t==this.g)t:{var e=Hr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(e!=3||Lg||this.g&&(this.h.h||this.g.ga()||D_(this.g)))){this.I||e!=4||n==7||(n==8||0>=i?Aa(3):Aa(2)),$f(this);var o=this.g.ba();this.N=o;e:if(eT(this)){var u=D_(this.g);t="";var a=u.length,l=Hr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),oa(this);var f="";break e}this.h.i=new Pt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,GP(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){e:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Hl(d)){var v=d;break e}}v=null}if(o=v)bs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kg(this,o);else{this.i=!1,this.o=3,bn(12),po(this),oa(this);break t}}this.U?(nT(this,e,f),Lg&&this.i&&e==3&&(z1(this.V,this.W,"tick",this.fb),this.W.start())):(bs(this.j,this.m,f,null),Kg(this,f)),e==4&&po(this),this.i&&!this.I&&(e==4?IT(this.l,this):(this.i=!1,Ga(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),po(this),oa(this)}}}catch{}finally{}};function eT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function nT(t,e,n){for(var i=!0,o;!t.I&&t.C<n.length;)if(o=YP(t,n),o==Gl){e==4&&(t.o=4,bn(14),i=!1),bs(t.j,t.m,null,"[Incomplete Response]");break}else if(o==qg){t.o=4,bn(15),bs(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else bs(t.j,t.m,o,null),Kg(t,o);eT(t)&&o!=Gl&&o!=qg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,bn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),pm(e),e.L=!0,bn(11))):(bs(t.j,t.m,n,"[Invalid Chunked Response]"),po(t),oa(t))}ct.fb=function(){if(this.g){var t=Hr(this.g),e=this.g.ga();this.C<e.length&&($f(this),nT(this,t,e),this.i&&t!=4&&Ga(this))}};function YP(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Gl:(n=Number(e.substring(n,i)),isNaN(n)?qg:(i+=1,i+n>e.length?Gl:(e=e.substr(i,n),t.C=i+n,e)))}ct.cancel=function(){this.I=!0,po(this)};function Ga(t){t.Y=Date.now()+t.P,rT(t,t.P)}function rT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ka(Je(t.eb,t),e)}function $f(t){t.B&&(Pt.clearTimeout(t.B),t.B=null)}ct.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(WP(this.j,this.A),this.K!=2&&(Aa(),bn(17)),po(this),this.o=2,oa(this)):rT(this,this.Y-t)};function oa(t){t.l.G==0||t.I||IT(t.l,t)}function po(t){$f(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,em(t.W),G1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Kg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Hg(n.i,t))){if(n.I=t.N,!t.J&&Hg(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Yl(n),Gf(n);else break t;dm(n),bn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ka(Je(n.ab,n),6e3));if(1>=lT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else go(n,11)}else if((t.J||n.g==t)&&Yl(n),!Hl(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var u=o[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=t.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var v=i.i;!v.g&&(mn(g,"spdy")||mn(g,"quic")||mn(g,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(am(v,v.h),v.h=null))}if(i.D){var y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,we(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=t;if(i.oa=AT(i,i.H?i.la:null,i.W),b.J){fT(i.i,b);var _=b,S=i.K;S&&_.setTimeout(S),_.B&&($f(_),Ga(_)),i.g=b}else _T(i);0<n.l.length&&Wf(n)}else u[0]!="stop"&&u[0]!="close"||go(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?go(n,7):hm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Aa(4)}catch{}}function JP(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Pg(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function sm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Pg(t)||typeof t=="string")R1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Pg(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=JP(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function tu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof tu)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}ct=tu.prototype;ct.R=function(){um(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};ct.T=function(){return um(this),this.g.concat()};function um(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];So(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)i=t.g[e],So(o,i)||(t.g[n++]=i,o[i]=1),e++;t.g.length=n}}ct.get=function(t,e){return So(this.h,t)?this.h[t]:e};ct.set=function(t,e){So(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};ct.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function So(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var iT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ZP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Ao(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ao){this.g=e!==void 0?e:t.g,Wl(this,t.j),this.s=t.s,Ql(this,t.i),Xl(this,t.m),this.l=t.l,e=t.h;var n=new Na;n.i=e.i,e.g&&(n.g=new tu(e.g),n.h=e.h),C_(this,n),this.o=t.o}else t&&(n=String(t).match(iT))?(this.g=!!e,Wl(this,n[1]||"",!0),this.s=sa(n[2]||""),Ql(this,n[3]||"",!0),Xl(this,n[4]),this.l=sa(n[5]||"",!0),C_(this,n[6]||"",!0),this.o=sa(n[7]||"")):(this.g=!!e,this.h=new Na(null,this.g))}Ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Zu(e,O_,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Zu(e,O_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Zu(n,n.charAt(0)=="/"?iL:rL,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Zu(n,sL)),t.join("")};function Jr(t){return new Ao(t)}function Wl(t,e,n){t.j=n?sa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ql(t,e,n){t.i=n?sa(e,!0):e}function Xl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function C_(t,e,n){e instanceof Na?(t.h=e,uL(t.h,t.g)):(n||(e=Zu(e,oL)),t.h=new Na(e,t.g))}function we(t,e,n){t.h.set(e,n)}function Kf(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tL(t){return t instanceof Ao?Jr(t):new Ao(t,void 0)}function eL(t,e,n,i){var o=new Ao(null,void 0);return t&&Wl(o,t),e&&Ql(o,e),n&&Xl(o,n),i&&(o.l=i),o}function sa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Zu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,nL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var O_=/[#\/\?@]/g,rL=/[#\?:]/g,iL=/[#\?]/g,oL=/[#\?@]/g,sL=/#/g;function Na(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Mi(t){t.g||(t.g=new tu,t.h=0,t.i&&ZP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ct=Na.prototype;ct.add=function(t,e){Mi(this),this.i=null,t=eu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oT(t,e){Mi(t),e=eu(t,e),So(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,So(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&um(t)))}function sT(t,e){return Mi(t),e=eu(t,e),So(t.g.h,e)}ct.forEach=function(t,e){Mi(this),this.g.forEach(function(n,i){R1(n,function(o){t.call(e,o,i,this)},this)},this)};ct.T=function(){Mi(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};ct.R=function(t){Mi(this);var e=[];if(typeof t=="string")sT(this,t)&&(e=__(e,this.g.get(eu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=__(e,t[n])}return e};ct.set=function(t,e){return Mi(this),this.i=null,t=eu(this,t),sT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ct.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function uT(t,e,n){oT(t,e),0<n.length&&(t.i=null,t.g.set(eu(t,e),zv(n)),t.h+=n.length)}ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),t.push(a)}}return this.i=t.join("&")};function eu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uL(t,e){e&&!t.j&&(Mi(t),t.i=null,t.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(oT(this,i),uT(this,o,n))},t)),t.j=e}var aL=function(){function t(e,n){this.h=e,this.g=n}return t}();function aT(t){this.l=t||cL,Pt.PerformanceNavigationTiming?(t=Pt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cL=10;function cT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lT(t){return t.h?1:t.g?t.g.size:0}function Hg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function am(t,e){t.g?t.g.add(e):t.h=e}function fT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aT.prototype.cancel=function(){var t,e;if(this.i=hT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=C1(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function hT(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var i=t.i;try{for(var o=C1(t.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return zv(t.i)}function cm(){}cm.prototype.stringify=function(t){return Pt.JSON.stringify(t,void 0)};cm.prototype.parse=function(t){return Pt.JSON.parse(t,void 0)};function lL(){this.g=new cm}function fL(t,e,n){var i=n||"";try{sm(t,function(o,u){var a=o;qa(o)&&(a=Zv(o)),e.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function hL(t,e){var n=new jf;if(Pt.Image){var i=new Image;i.onload=vl(yl,n,i,"TestLoadImage: loaded",!0,e),i.onerror=vl(yl,n,i,"TestLoadImage: error",!1,e),i.onabort=vl(yl,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=vl(yl,n,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function yl(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function Wa(t){this.l=t.$b||null,this.j=t.ib||!1}tn(Wa,rm);Wa.prototype.g=function(){return new Hf(this.l,this.j)};Wa.prototype.i=function(t){return function(){return t}}({});function Hf(t,e){Ge.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=lm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn(Hf,Ge);var lm=0;ct=Hf.prototype;ct.open=function(t,e){if(this.readyState!=lm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,ka(this)};ct.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qa(this)),this.readyState=lm};ct.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function dT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}ct.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qa(this):ka(this),this.readyState==3&&dT(this)}};ct.Ua=function(t){this.g&&(this.response=this.responseText=t,Qa(this))};ct.Ta=function(t){this.g&&(this.response=t,Qa(this))};ct.ha=function(){this.g&&Qa(this)};function Qa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,ka(t)}ct.setRequestHeader=function(t,e){this.v.append(t,e)};ct.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ct.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function ka(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Hf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dL=Pt.JSON.parse;function Fe(t){Ge.call(this),this.headers=new tu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pT,this.K=this.L=!1}tn(Fe,Ge);var pT="",pL=/^https?$/i,gL=["POST","PUT"];ct=Fe.prototype;ct.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bg.g(),this.C=this.u?x_(this.u):x_(Bg),this.g.onreadystatechange=Je(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){R_(this,u);return}t=n||"";var o=new tu(this.headers);i&&sm(i,function(u,a){o.set(a,u)}),i=AP(o.T()),n=Pt.FormData&&t instanceof Pt.FormData,!(0<=O1(gL,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mT(this),0<this.B&&((this.K=vL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Je(this.pa,this)):this.A=nm(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){R_(this,u)}};function vL(t){return Rs&&OP()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function mL(t){return t.toLowerCase()=="content-type"}ct.pa=function(){typeof Hv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))};function R_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gT(t),zf(t)}function gT(t){t.D||(t.D=!0,Ze(t,"complete"),Ze(t,"error"))}ct.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ze(this,"complete"),Ze(this,"abort"),zf(this))};ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zf(this,!0)),Fe.Z.M.call(this)};ct.Fa=function(){this.s||(this.F||this.v||this.l?vT(this):this.cb())};ct.cb=function(){vT(this)};function vT(t){if(t.h&&typeof Hv<"u"&&(!t.C[1]||Hr(t)!=4||t.ba()!=2)){if(t.v&&Hr(t)==4)nm(t.Fa,0,t);else if(Ze(t,"readystatechange"),Hr(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.H).match(iT)[1]||null;if(!u&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;u=a.substr(0,a.length-1)}o=!pL.test(u?u.toLowerCase():"")}i=o}if(i)Ze(t,"complete"),Ze(t,"success");else{t.m=6;try{var l=2<Hr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",gT(t)}}finally{zf(t)}}}}function zf(t,e){if(t.g){mT(t);var n=t.g,i=t.C[0]?Kl:null;t.g=null,t.C=null,e||Ze(t,"ready");try{n.onreadystatechange=i}catch{}}}function mT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Pt.clearTimeout(t.A),t.A=null)}function Hr(t){return t.g?t.g.readyState:0}ct.ba=function(){try{return 2<Hr(this)?this.g.status:-1}catch{return-1}};ct.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ct.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dL(e)}};function D_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case pT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ct.Da=function(){return this.m};ct.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function yL(t){var e="";return Gv(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function fm(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=yL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function zu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yT(t){this.za=0,this.l=[],this.h=new jf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zu("baseRetryDelayMs",5e3,t),this.$a=zu("retryDelaySeedMs",1e4,t),this.Ya=zu("forwardChannelMaxRetries",2,t),this.ra=zu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new aT(t&&t.concurrentRequestLimit),this.Ca=new lL,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}ct=yT.prototype;ct.ma=8;ct.G=1;function hm(t){if(wT(t),t.G==3){var e=t.V++,n=Jr(t.F);we(n,"SID",t.J),we(n,"RID",e),we(n,"TYPE","terminate"),Xa(t,n),e=new za(t,t.h,e,void 0),e.K=2,e.v=Kf(Jr(n)),n=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(n=Pt.navigator.sendBeacon(e.v.toString(),"")),!n&&Pt.Image&&(new Image().src=e.v,n=!0),n||(e.g=NT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ga(e)}ST(t)}ct.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Gf(t){t.g&&(pm(t),t.g.cancel(),t.g=null)}function wT(t){Gf(t),t.u&&(Pt.clearTimeout(t.u),t.u=null),Yl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Pt.clearTimeout(t.m),t.m=null)}function ig(t,e){t.l.push(new aL(t.Za++,e)),t.G==3&&Wf(t)}function Wf(t){cT(t.i)||t.m||(t.m=!0,tm(t.Ha,t),t.C=0)}function wL(t,e){return lT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ka(Je(t.Ha,t,e),TT(t,t.C)),t.C++,!0)}ct.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new za(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=D1(n),P1(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=bT(this,e,i),o=Jr(this.F),we(o,"RID",t),we(o,"CVER",22),this.D&&we(o,"X-HTTP-Session-Id",this.D),Xa(this,o),this.o&&n&&fm(o,this.o,n),am(this.i,e),this.Ra&&we(o,"TYPE","init"),this.ja?(we(o,"$req",i),we(o,"SID","null"),e.$=!0,$g(e,o,null)):$g(e,o,i),this.G=2}}else this.G==3&&(t?P_(this,t):this.l.length==0||cT(this.i)||P_(this))};function P_(t,e){var n;e?n=e.m:n=t.V++;var i=Jr(t.F);we(i,"SID",t.J),we(i,"RID",n),we(i,"AID",t.U),Xa(t,i),t.o&&t.s&&fm(i,t.o,t.s),n=new za(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=bT(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),am(t.i,n),$g(n,i,e)}function Xa(t,e){t.j&&sm({},function(n,i){we(e,i,n)})}function bT(t,e,n){n=Math.min(t.l.length,n);var i=t.j?Je(t.j.Oa,t.j,t):null;t:for(var o=t.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{fL(g,a,"req"+d+"_")}catch{i&&i(g)}}if(l){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function _T(t){t.g||t.u||(t.Y=1,tm(t.Ga,t),t.A=0)}function dm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ka(Je(t.Ga,t),TT(t,t.A)),t.A++,!0)}ct.Ga=function(){if(this.u=null,ET(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ka(Je(this.bb,this),t)}};ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bn(10),Gf(this),ET(this))};function pm(t){t.B!=null&&(Pt.clearTimeout(t.B),t.B=null)}function ET(t){t.g=new za(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Jr(t.oa);we(e,"RID","rpc"),we(e,"SID",t.J),we(e,"CI",t.N?"0":"1"),we(e,"AID",t.U),Xa(t,e),we(e,"TYPE","xmlhttp"),t.o&&t.s&&fm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Kf(Jr(e)),n.s=null,n.U=!0,tT(n,t)}ct.ab=function(){this.v!=null&&(this.v=null,Gf(this),dm(this),bn(19))};function Yl(t){t.v!=null&&(Pt.clearTimeout(t.v),t.v=null)}function IT(t,e){var n=null;if(t.g==e){Yl(t),pm(t),t.g=null;var i=2}else if(Hg(t.i,e))n=e.D,fT(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;i=Uf(),Ze(i,new X1(i,n)),Wf(t)}else _T(t);else if(o=e.o,o==3||o==0&&0<t.I||!(i==1&&wL(t,e)||i==2&&dm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:go(t,5);break;case 4:go(t,10);break;case 3:go(t,6);break;default:go(t,2)}}}function TT(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function go(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=Je(t.jb,t);n||(n=new Ao("//www.google.com/images/cleardot.gif"),Pt.location&&Pt.location.protocol=="http"||Wl(n,"https"),Kf(n)),hL(n.toString(),i)}else bn(2);t.G=0,t.j&&t.j.va(e),ST(t),wT(t)}ct.jb=function(t){t?(this.h.info("Successfully pinged google.com"),bn(2)):(this.h.info("Failed to ping google.com"),bn(1))};function ST(t){t.G=0,t.I=-1,t.j&&((hT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,zv(t.l),t.l.length=0),t.j.ua())}function AT(t,e,n){var i=tL(n);if(i.i!="")e&&Ql(i,e+"."+i.i),Xl(i,i.m);else{var o=Pt.location;i=eL(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&Gv(t.aa,function(u,a){we(i,a,u)}),e=t.D,n=t.sa,e&&n&&we(i,e,n),we(i,"VER",t.ma),Xa(t,i),i}function NT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Fe(new Wa({ib:!0})):new Fe(t.qa),e.L=t.H,e}function kT(){}ct=kT.prototype;ct.xa=function(){};ct.wa=function(){};ct.va=function(){};ct.ua=function(){};ct.Oa=function(){};function Jl(){if(Rs&&!(10<=Number(RP)))throw Error("Environmental error: no available transport.")}Jl.prototype.g=function(t,e){return new Xn(t,e)};function Xn(t,e){Ge.call(this),this.g=new yT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Hl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Hl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new nu(this)}tn(Xn,Ge);Xn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),tm(Je(t.hb,t,e))),bn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=AT(t,null,t.W),Wf(t)};Xn.prototype.close=function(){hm(this.g)};Xn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,ig(this.g,e)}else this.v?(e={},e.__data__=Zv(t),ig(this.g,e)):ig(this.g,t)};Xn.prototype.M=function(){this.g.j=null,delete this.j,hm(this.g),delete this.g,Xn.Z.M.call(this)};function xT(t){im.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tn(xT,im);function CT(){om.call(this),this.status=1}tn(CT,om);function nu(t){this.g=t}tn(nu,kT);nu.prototype.xa=function(){Ze(this.g,"a")};nu.prototype.wa=function(t){Ze(this.g,new xT(t))};nu.prototype.va=function(t){Ze(this.g,new CT)};nu.prototype.ua=function(){Ze(this.g,"b")};Jl.prototype.createWebChannel=Jl.prototype.g;Xn.prototype.send=Xn.prototype.u;Xn.prototype.open=Xn.prototype.m;Xn.prototype.close=Xn.prototype.close;Bf.NO_ERROR=0;Bf.TIMEOUT=8;Bf.HTTP_ERROR=6;Y1.COMPLETE="complete";J1.EventType=Ha;Ha.OPEN="a";Ha.CLOSE="b";Ha.ERROR="c";Ha.MESSAGE="d";Ge.prototype.listen=Ge.prototype.N;Fe.prototype.listenOnce=Fe.prototype.O;Fe.prototype.getLastError=Fe.prototype.La;Fe.prototype.getLastErrorCode=Fe.prototype.Da;Fe.prototype.getStatus=Fe.prototype.ba;Fe.prototype.getResponseJson=Fe.prototype.Qa;Fe.prototype.getResponseText=Fe.prototype.ga;Fe.prototype.send=Fe.prototype.ea;var bL=function(){return new Jl},_L=function(){return Uf()},og=Bf,EL=Y1,IL=Ro,L_={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TL=Wa,wl=J1,SL=Fe;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();zn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Tt(e,t),e}(Error),gr=new A1("@firebase/firestore");function zg(){return gr.logLevel}function tt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gr.logLevel<=te.DEBUG){var i=e.map(gm);gr.debug.apply(gr,Ae(["Firestore (8.10.1): "+t],i))}}function Pe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gr.logLevel<=te.ERROR){var i=e.map(gm);gr.error.apply(gr,Ae(["Firestore (8.10.1): "+t],i))}}function Zl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(gr.logLevel<=te.WARN){var i=e.map(gm);gr.warn.apply(gr,Ae(["Firestore (8.10.1): "+t],i))}}function gm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Pe(e),new Error(e)}function Nt(t,e){t||yt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OT=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=AL(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function zt(t,e){return t<e?-1:t>e?1:0}function Ds(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function RT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$t=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new On(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DT(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PT=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&yt(),i===void 0?i=e.length-n:i>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),ee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(PT),NL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yr=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.isValidIdentifier=function(n){return NL.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new G(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new G(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new G(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.emptyPath=function(){return new e([])},e}(PT),Ps=function(){function t(e){this.fields=e,e.sort(yr.comparator)}return t.prototype.covers=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Ds(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),Dn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return zt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Dn.EMPTY_BYTE_STRING=new Dn("");var kL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Nt(!!t),typeof t=="string"){var e=0,n=kL.exec(t);if(Nt(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ls(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function LT(t){var e=t.mapValue.fields.__previous_value__;return vm(e)?LT(e):e}function xa(t){var e=Ri(t.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){return t==null}function tf(t){return t===0&&1/t==-1/0}function MT(t){return typeof t=="number"&&Number.isInteger(t)&&!tf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(ee.fromString(e))},t.fromName=function(e){return new t(ee.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&ee.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return ee.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new ee(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vm(t)?4:10:yt()}function Mr(t,e){var n=No(t);if(n!==No(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return xa(t).isEqual(xa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Ri(i.timestampValue),a=Ri(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ls(i.bytesValue).isEqual(Ls(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=De(i.doubleValue),a=De(o.doubleValue);return u===a?tf(u)===tf(a):isNaN(u)&&isNaN(a)}return!1}(t,e);case 9:return Ds(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(M_(u)!==M_(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Mr(u[l],a[l])))return!1;return!0}(t,e);default:return yt()}}function Ca(t,e){return(t.values||[]).find(function(n){return Mr(n,e)})!==void 0}function Ms(t,e){var n=No(t),i=No(e);if(n!==i)return zt(n,i);switch(n){case 0:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(o,u){var a=De(o.integerValue||o.doubleValue),l=De(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return F_(t.timestampValue,e.timestampValue);case 4:return F_(xa(t),xa(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return function(o,u){var a=Ls(o),l=Ls(u);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=zt(a[f],l[f]);if(d!==0)return d}return zt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var a=zt(De(o.latitude),De(u.latitude));return a!==0?a:zt(De(o.longitude),De(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Ms(a[f],l[f]);if(d)return d}return zt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var g=0;g<l.length&&g<d.length;++g){var v=zt(l[g],d[g]);if(v!==0)return v;var y=Ms(a[l[g]],f[d[g]]);if(y!==0)return y}return zt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw yt()}}function F_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);var n=Ri(t),i=Ri(e),o=zt(n.seconds,i.seconds);return o!==0?o:zt(n.nanos,i.nanos)}function mm(t){return Gg(t)}function Gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=Ri(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ls(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,bt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Gg(l[a]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Gg(i.fields[f])}return o+"}"}(t.mapValue):yt();var e,n}function ef(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Wg(t){return!!t&&"integerValue"in t}function ym(t){return!!t&&"arrayValue"in t}function V_(t){return!!t&&"nullValue"in t}function j_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cl(t){return!!t&&"mapValue"in t}function ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Do(t.mapValue.fields,function(o,u){return e.mapValue.fields[o]=ua(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ua(t.arrayValue.values[i]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,i=0;i<e.length-1;++i)if(!Cl(n=(n.mapValue.fields||{})[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)},t.prototype.setAll=function(e){var n=this,i=yr.emptyPath(),o={},u=[];e.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=ua(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());Cl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Mr(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<e.length;++i){var o=n.mapValue.fields[e.get(i)];Cl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,i){Do(n,function(l,f){return e[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete e[a]}},t.prototype.clone=function(){return new t(ua(this.value))},t}();function FT(t){var e=[];return Do(t.fields,function(n,i){var o=new yr([n]);if(Cl(i)){var u=FT(i.mapValue).fields;if(u.length===0)e.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];e.push(o.child(f))}}else e.push(o)}),new Ps(e)}var ln=function(){function t(e,n,i,o,u){this.key=e,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,$t.min(),Kn.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Kn.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Kn.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),xL=function(t,e,n,i,o,u,a){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(t,e,n,i,o,u,a){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new xL(t,e,n,i,o,u,a)}function Ya(t){var e=ot(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+mm(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Po(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=rf(e.startAt)),e.endAt&&(n+="|ub:",n+=rf(e.endAt)),e.h=n}return e.h}function Qf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!FL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Mr(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!q_(t.startAt,e.startAt)&&q_(t.endAt,e.endAt)}function nf(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gn=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return Tt(e,t),e.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new CL(n,i,o):i==="array-contains"?new DL(n,o):i==="in"?new PL(n,o):i==="not-in"?new LL(n,o):i==="array-contains-any"?new ML(n,o):new e(n,i,o)},e.l=function(n,i,o){return i==="in"?new OL(n,o):new RL(n,o)},e.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Ms(i,this.value)):i!==null&&No(this.value)===No(i)&&this.m(Ms(i,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return yt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),CL=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=bt.fromName(o.referenceValue),u}return Tt(e,t),e.prototype.matches=function(n){var i=bt.comparator(n.key,this.key);return this.m(i)},e}(Gn),OL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=VT("in",i),o}return Tt(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(Gn),RL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=VT("not-in",i),o}return Tt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(Gn);function VT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return bt.fromName(i.referenceValue)})}var DL=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return ym(i)&&Ca(i.arrayValue,this.value)},e}(Gn),PL=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Ca(this.value.arrayValue,i)},e}(Gn),LL=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return Tt(e,t),e.prototype.matches=function(n){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Ca(this.value.arrayValue,i)},e}(Gn),ML=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!ym(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Ca(i.value.arrayValue,u)})},e}(Gn),Oa=function(t,e){this.position=t,this.before=e};function rf(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return mm(e)}).join(",")}var As=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function FL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function B_(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],a=t.position[o];if(i=u.field.isKeyField()?bt.comparator(bt.fromName(a.referenceValue),n.key):Ms(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function q_(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti=function(t,e,n,i,o,u,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function jT(t,e,n,i,o,u,a,l){return new ti(t,e,n,i,o,u,a,l)}function Ja(t){return new ti(t)}function Ol(t){return!Po(t.limit)&&t.limitType==="F"}function of(t){return!Po(t.limit)&&t.limitType==="L"}function wm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function bm(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function _m(t){return t.collectionGroup!==null}function Fs(t){var e=ot(t);if(e.p===null){e.p=[];var n=bm(e),i=wm(e);if(n!==null&&i===null)n.isKeyField()||e.p.push(new As(n)),e.p.push(new As(yr.keyField(),"asc"));else{for(var o=!1,u=0,a=e.explicitOrderBy;u<a.length;u++){var l=a[u];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new As(yr.keyField(),f))}}}return e.p}function Fr(t){var e=ot(t);if(!e.T)if(e.limitType==="F")e.T=U_(e.path,e.collectionGroup,Fs(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=Fs(e);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new As(u.field,a))}var l=e.endAt?new Oa(e.endAt.position,!e.endAt.before):null,f=e.startAt?new Oa(e.startAt.position,!e.startAt.before):null;e.T=U_(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.T}function UT(t,e,n){return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Za(t,e){return Qf(Fr(t),Fr(e))&&t.limitType===e.limitType}function BT(t){return Ya(Fr(t))+"|lt:"+t.limitType}function Qg(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+mm(o.value);var o}).join(", ")+"]"),Po(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+rf(e.startAt)),e.endAt&&(n+=", endAt: "+rf(e.endAt)),"Target("+n+")"}(Fr(t))+"; limitType="+t.limitType+")"}function tc(t,e){return e.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):bt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!B_(n.startAt,Fs(n),i))&&(!n.endAt||!B_(n.endAt,Fs(n),i))}(t,e)}function qT(t){return function(e,n){for(var i=!1,o=0,u=Fs(t);o<u.length;o++){var a=u[o],l=VL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function VL(t,e,n){var i=t.field.isKeyField()?bt.comparator(e.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Ms(l,f):yt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function KT(t){return{integerValue:""+t}}function HT(t,e){return MT(e)?KT(e):$T(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=function(){this._=void 0};function jL(t,e,n){return t instanceof Vs?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof ko?GT(t,e):t instanceof xo?WT(t,e):function(i,o){var u=zT(i,o),a=$_(u)+$_(i.A);return Wg(u)&&Wg(i.A)?KT(a):$T(i.R,a)}(t,e)}function UL(t,e,n){return t instanceof ko?GT(t,e):t instanceof xo?WT(t,e):n}function zT(t,e){return t instanceof js?Wg(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var Vs=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e}(Xf),ko=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return Tt(e,t),e}(Xf);function GT(t,e){for(var n=QT(e),i=function(a){n.some(function(l){return Mr(l,a)})||n.push(a)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var xo=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return Tt(e,t),e}(Xf);function WT(t,e){for(var n=QT(e),i=function(a){n=n.filter(function(l){return!Mr(l,a)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var js=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).R=n,o.A=i,o}return Tt(e,t),e}(Xf);function $_(t){return De(t.integerValue||t.doubleValue)}function QT(t){return ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ec=function(t,e){this.field=t,this.transform=e},BL=function(t,e){this.version=t,this.transformResults=e},an=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Rl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Yf=function(){};function qL(t,e,n){t instanceof nc?function(i,o,u){var a=i.value.clone(),l=z_(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fi?function(i,o,u){if(Rl(i.precondition,o)){var a=z_(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(XT(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Xg(t,e,n){t instanceof nc?function(i,o,u){if(Rl(i.precondition,o)){var a=i.value.clone(),l=G_(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(H_(o),a).setHasLocalMutations()}}(t,e,n):t instanceof Fi?function(i,o,u){if(Rl(i.precondition,o)){var a=G_(i.fieldTransforms,u,o),l=o.data;l.setAll(XT(i)),l.setAll(a),o.convertToFoundDocument(H_(o),l).setHasLocalMutations()}}(t,e,n):function(i,o){Rl(i.precondition,o)&&o.convertToNoDocument($t.min())}(t,e)}function $L(t,e){for(var n=null,i=0,o=t.fieldTransforms;i<o.length;i++){var u=o[i],a=e.data.field(u.field),l=zT(u.transform,a||null);l!=null&&(n==null&&(n=Kn.empty()),n.set(u.field,l))}return n||null}function K_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ds(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof ko&&d instanceof ko||f instanceof xo&&d instanceof xo?Ds(f.elements,d.elements,Mr):f instanceof js&&d instanceof js?Mr(f.A,d.A):f instanceof Vs&&d instanceof Vs}(a.transform,l.transform)}(o,u)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function H_(t){return t.isFoundDocument()?t.version:$t.min()}var nc=function(t){function e(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Tt(e,t),e}(Yf),Fi=function(t){function e(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Tt(e,t),e}(Yf);function XT(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function z_(t,e,n){var i=new Map;Nt(t.length===n.length);for(var o=0;o<n.length;o++){var u=t[o],a=u.transform,l=e.data.field(u.field);i.set(u.field,UL(a,l,n[o]))}return i}function G_(t,e,n){for(var i=new Map,o=0,u=t;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,jL(l,f,e))}return i}var Re,Xt,rc=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Tt(e,t),e}(Yf),Em=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Tt(e,t),e}(Yf),KL=function(t){this.count=t};function YT(t){switch(t){case D.OK:return yt();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return yt()}}function JT(t){if(t===void 0)return Pe("GRPC error has no .code"),D.UNKNOWN;switch(t){case Re.OK:return D.OK;case Re.CANCELLED:return D.CANCELLED;case Re.UNKNOWN:return D.UNKNOWN;case Re.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Re.INTERNAL:return D.INTERNAL;case Re.UNAVAILABLE:return D.UNAVAILABLE;case Re.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Re.NOT_FOUND:return D.NOT_FOUND;case Re.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Re.ABORTED:return D.ABORTED;case Re.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Re.DATA_LOSS:return D.DATA_LOSS;default:return yt()}}(Xt=Re||(Re={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn=function(){function t(e,n){this.comparator=e,this.root=n||_i.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_i.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_i.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new bl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new bl(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new bl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new bl(this.root,e,this.comparator,!0)},t}(),bl=function(){function t(e,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),_i=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i??t.RED,this.left=o??t.EMPTY,this.right=u??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();var e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)},t}();_i.EMPTY=null,_i.RED=!0,_i.BLACK=!1,_i.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw yt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.insert=function(e,n,i){return new _i(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe=function(){function t(e){this.comparator=e,this.data=new fn(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new W_(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new W_(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),W_=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),HL=new fn(bt.comparator);function vr(){return HL}var zL=new fn(bt.comparator);function Yg(){return zL}var GL=new fn(bt.comparator);function WL(){return GL}var QL=new qe(bt.comparator);function fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=QL,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var XL=new qe(zt);function Jf(){return XL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Im=function(){function t(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,Tm.createSynthesizedTargetChangeForCurrentChange(e,n)),new t($t.min(),i,Jf(),vr(),fe())},t}(),Tm=function(){function t(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Dn.EMPTY_BYTE_STRING,n,fe(),fe(),fe())},t}(),Dl=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},ZT=function(t,e){this.targetId=t,this.V=e},tS=function(t,e,n,i){n===void 0&&(n=Dn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},Q_=function(){function t(){this.S=0,this.D=Y_(),this.C=Dn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=fe(),n=fe(),i=fe();return this.D.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:yt()}}),new Tm(this.C,this.N,e,n,i)},t.prototype.L=function(){this.k=!1,this.D=Y_()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),YL=function(){function t(e){this.W=e,this.G=new Map,this.H=vr(),this.J=X_(),this.Y=new qe(zt)}return t.prototype.X=function(e){for(var n=0,i=e.v;n<i.length;n++){var o=i[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var u=0,a=e.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(i){var o=n.nt(i);switch(e.state){case 0:n.st(i)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(e.resumeToken));break;default:yt()}})},t.prototype.forEachTarget=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,i=e.V.count,o=this.ot(n);if(o){var u=o.target;if(nf(u))if(i===0){var a=new bt(u.path);this.tt(n,a,ln.newNoDocument(a,$t.min()))}else Nt(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&nf(f.target)){var d=new bt(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,ln.newNoDocument(d,e))}a.$&&(i.set(l,a.M()),a.L())}});var o=fe();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new Im(e,i,this.Y,this.H,o);return this.H=vr(),this.J=X_(),this.Y=new qe(zt),u},t.prototype.Z=function(e,n){if(this.st(e)){var i=this.at(e,n.key)?2:0;this.nt(e).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,i){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),i&&(this.H=this.H.insert(n,i))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new Q_,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new qe(zt),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new Q_),this.W.getRemoteKeysForTarget(e).forEach(function(i){n.tt(e,i,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function X_(){return new fn(bt.comparator)}function Y_(){return new fn(bt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JL={asc:"ASCENDING",desc:"DESCENDING"},ZL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tM=function(t,e){this.databaseId=t,this.I=e};function Ra(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(t,e){return t.I?e.toBase64():e.toUint8Array()}function eM(t,e){return Ra(t,e.toTimestamp())}function _n(t){return Nt(!!t),$t.fromTimestamp(function(e){var n=Ri(e);return new On(n.seconds,n.nanos)}(t))}function Sm(t,e){return function(n){return new ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function nS(t){var e=ee.fromString(t);return Nt(cS(e)),e}function Da(t,e){return Sm(t.databaseId,e.path)}function Gr(t,e){var n=nS(e);if(n.get(1)!==t.databaseId.projectId)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bt(iS(n))}function Jg(t,e){return Sm(t.databaseId,e)}function rS(t){var e=nS(t);return e.length===4?ee.emptyPath():iS(e)}function Pa(t){return new ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iS(t){return Nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function J_(t,e,n){return{name:Da(t,e),fields:n.value.mapValue.fields}}function nM(t,e,n){var i=Gr(t,e.name),o=_n(e.updateTime),u=new Kn({mapValue:{fields:e.fields}}),a=ln.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function sf(t,e){var n;if(e instanceof nc)n={update:J_(t,e.key,e.value)};else if(e instanceof rc)n={delete:Da(t,e.key)};else if(e instanceof Fi)n={update:J_(t,e.key,e.data),updateMask:uM(e.fieldMask)};else{if(!(e instanceof Em))return yt();n={verify:Da(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof Vs)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ko)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof js)return{fieldPath:u.field.canonicalString(),increment:a.A};throw yt()}(0,i)})),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:eM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(t,e.precondition)),n}function Z_(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?an.updateTime(_n(d.updateTime)):d.exists!==void 0?an.exists(d.exists):an.none()}(e.currentDocument):an.none(),i=e.updateTransforms?e.updateTransforms.map(function(d){return function(g,v){var y=null;if("setToServerValue"in v)Nt(v.setToServerValue==="REQUEST_TIME"),y=new Vs;else if("appendMissingElements"in v){var b=v.appendMissingElements.values||[];y=new ko(b)}else if("removeAllFromArray"in v){var _=v.removeAllFromArray.values||[];y=new xo(_)}else"increment"in v?y=new js(g,v.increment):yt();var S=yr.fromServerFormat(v.fieldPath);return new ec(S,y)}(t,d)}):[];if(e.update){e.update.name;var o=Gr(t,e.update.name),u=new Kn({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var g=d.fieldPaths||[];return new Ps(g.map(function(v){return yr.fromServerFormat(v)}))}(e.updateMask);return new Fi(o,u,a,n,i)}return new nc(o,u,n,i)}if(e.delete){var l=Gr(t,e.delete);return new rc(l,n)}if(e.verify){var f=Gr(t,e.verify);return new Em(f,n)}return yt()}function oS(t,e){return{documents:[Jg(t,e.path)]}}function sS(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Jg(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jg(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(g){if(g.op==="=="){if(j_(g.value))return{unaryFilter:{field:fs(g.field),op:"IS_NAN"}};if(V_(g.value))return{unaryFilter:{field:fs(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(j_(g.value))return{unaryFilter:{field:fs(g.field),op:"IS_NOT_NAN"}};if(V_(g.value))return{unaryFilter:{field:fs(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(g.field),op:iM(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:fs(d.field),direction:rM(d.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Po(f)?f:{value:f}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=tE(e.startAt)),e.endAt&&(n.structuredQuery.endAt=tE(e.endAt)),n}function uS(t){var e=rS(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Nt(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var a=[];n.where&&(a=aS(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(y){return new As(_s(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v)}));var f=null;n.limit&&(f=function(v){var y;return Po(y=typeof v=="object"?v.value:v)?null:y}(n.limit));var d=null;n.startAt&&(d=eE(n.startAt));var g=null;return n.endAt&&(g=eE(n.endAt)),jT(e,o,l,a,f,"F",d,g)}function aS(t){return t?t.unaryFilter!==void 0?[sM(t)]:t.fieldFilter!==void 0?[oM(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return aS(e)}).reduce(function(e,n){return e.concat(n)}):yt():[]}function tE(t){return{before:t.before,values:t.position}}function eE(t){var e=!!t.before,n=t.values||[];return new Oa(n,e)}function rM(t){return JL[t]}function iM(t){return ZL[t]}function fs(t){return{fieldPath:t.canonicalString()}}function _s(t){return yr.fromServerFormat(t.fieldPath)}function oM(t){return Gn.create(_s(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value)}function sM(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_s(t.unaryFilter.field);return Gn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_s(t.unaryFilter.field);return Gn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=_s(t.unaryFilter.field);return Gn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=_s(t.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return yt()}}function uM(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function cS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=nE(e)),e=aM(t.get(n),e);return nE(e)}function aM(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function nE(t){return t+""}function zr(t){var e=t.length;if(Nt(e>=2),e===2)return Nt(t.charAt(0)===""&&t.charAt(1)===""),ee.emptyPath();for(var n=e-2,i=[],o="",u=0;u<e;){var a=t.indexOf("",u);switch((a<0||a>n)&&yt(),t.charAt(a+1)){case"":var l=t.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,a),o+="\0";break;case"":o+=t.substring(u,a+1);break;default:yt()}u=a+2}return new ee(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cM=function(t,e){this.seconds=t,this.nanoseconds=e},Bn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Bn.store="owner",Bn.key="owner";var xi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};xi.store="mutationQueues",xi.keyPath="userId";var pe=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};pe.store="mutations",pe.keyPath="batchId",pe.userMutationsIndex="userMutationsIndex",pe.userMutationsKeyPath=["userId","batchId"];var on=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,mr(n)]},t.key=function(e,n,i){return[e,mr(n),i]},t}();on.store="documentMutations",on.PLACEHOLDER=new on;var lM=function(t,e){this.path=t,this.readTime=e},fM=function(t,e){this.path=t,this.version=e},Se=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Se.store="remoteDocuments",Se.readTimeIndex="readTimeIndex",Se.readTimeIndexPath="readTime",Se.collectionReadTimeIndex="collectionReadTimeIndex",Se.collectionReadTimeIndexPath=["parentPath","readTime"];var Rr=function(t){this.byteSize=t};Rr.store="remoteDocumentGlobal",Rr.key="remoteDocumentGlobalKey";var Cn=function(t,e,n,i,o,u,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Cn.store="targets",Cn.keyPath="targetId",Cn.queryTargetsIndexName="queryTargetsIndex",Cn.queryTargetsKeyPath=["canonicalId","targetId"];var Ye=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ye.store="targetDocuments",Ye.keyPath=["targetId","path"],Ye.documentTargetsIndex="documentTargetsIndex",Ye.documentTargetsKeyPath=["path","targetId"];var qn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};qn.key="targetGlobalKey",qn.store="targetGlobal";var bo=function(t,e){this.collectionId=t,this.parent=e};bo.store="collectionParents",bo.keyPath=["collectionId","parent"];var Wr=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Wr.store="clientMetadata",Wr.keyPath="clientId";var Us=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Us.store="bundles",Us.keyPath="bundleId";var Bs=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Bs.store="namedQueries",Bs.keyPath="name";var hM=Ae(Ae([],Ae(Ae([],Ae(Ae([],Ae(Ae([],[xi.store,pe.store,on.store,Se.store,Cn.store,Bn.store,qn.store,Ye.store]),[Wr.store])),[Rr.store])),[bo.store])),[Us.store,Bs.store]),lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Pn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Y=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,u){i.nextCallback=function(a){i.wrapSuccess(e,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.waitFor=function(e){return new t(function(n,i){var o=0,u=0,a=!1;e.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),i=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},t}(),hS=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Pn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new aa(e,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=Am(o.target.error);i.ft.reject(new aa(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new aa(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new pM(n)},t}(),qs=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,t._t(To())===12.2&&Pe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return tt("SimpleDb","Removing database:",e),ho(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=To(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(tt("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new aa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new G(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new aa(e,d))},l.onupgradeneeded=function(f){tt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){tt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return H(this,void 0,void 0,function(){var u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:u=n==="readonly",a=0,l=function(){var v,y,b,_,S;return $(this,function(N){switch(N.label){case 0:++a,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,f.At(e)];case 2:return f.db=N.sent(),v=hS.open(f.db,e,u?"readonly":"readwrite",i),y=o(v).catch(function(O){return v.abort(O),Y.reject(O)}).toPromise(),b={},y.catch(function(){}),[4,v.dt];case 3:return[2,(b.value=(N.sent(),y),b)];case 4:return _=N.sent(),S=_.name!=="FirebaseError"&&a<3,tt("SimpleDb","Transaction failed with error:",_.message,"Retrying:",S),f.close(),S?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),dM=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return ho(this.Pt.delete())},t}(),aa=function(t){function e(n,i){var o=this;return(o=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Tt(e,t),e}(G);function Lo(t){return t.name==="IndexedDbTransactionError"}var pM=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(tt("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ho(i)},t.prototype.add=function(e){return tt("SimpleDb","ADD",this.store.name,e,e),ho(this.store.add(e))},t.prototype.get=function(e){var n=this;return ho(this.store.get(e)).next(function(i){return i===void 0&&(i=null),tt("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return tt("SimpleDb","DELETE",this.store.name,e),ho(this.store.delete(e))},t.prototype.count=function(){return tt("SimpleDb","COUNT",this.store.name),ho(this.store.count())},t.prototype.Nt=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},t.prototype.kt=function(e,n){tt("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},t.prototype.$t=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new Y(function(i,o){n.onerror=function(u){var a=Am(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},t.prototype.xt=function(e,n){var i=[];return new Y(function(o,u){e.onerror=function(a){u(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var f=new dM(l),d=n(l.primaryKey,l.value,f);if(d instanceof Y){var g=d.catch(function(v){return f.done(),Y.reject(v)});i.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return Y.waitFor(i)})},t.prototype.options=function(e,n){var i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.Ft?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function ho(t){return new Y(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=Am(i.target.error);n(o)}})}var rE=!1;function Am(t){var e=qs._t(To());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rE||(rE=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iE=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Tt(e,t),e}(fS);function Ln(t,e){var n=ot(t);return qs.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nm=function(){function t(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(e.key)&&qL(u,e,i[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(e.key)&&Xg(a,e,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(e.key)&&Xg(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(i){var o=e.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument($t.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},fe())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,function(n,i){return K_(n,i)})&&Ds(this.baseMutations,e.baseMutations,function(n,i){return K_(n,i)})},t}(),gM=function(){function t(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return t.from=function(e,n,i){Nt(e.mutations.length===i.length);for(var o=WL(),u=e.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new t(e,n,i,o)},t}(),Zf=function(){function t(e,n,i,o,u,a,l){u===void 0&&(u=$t.min()),a===void 0&&(a=$t.min()),l===void 0&&(l=Dn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),dS=function(t){this.Lt=t};function Zg(t,e){if(e.document)return nM(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bt.fromSegments(e.noDocument.path),i=Ks(e.noDocument.readTime),o=ln.newNoDocument(n,i);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var u=bt.fromSegments(e.unknownDocument.path);return i=Ks(e.unknownDocument.version),ln.newUnknownDocument(u,i)}return yt()}function oE(t,e,n){var i=km(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u=function(v,y){return{name:Da(v,y.key),fields:y.data.value.mapValue.fields,updateTime:Ra(v,y.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Se(null,null,u,a,i,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),f=$s(e.version);return a=e.hasCommittedMutations,new Se(null,new lM(l,f),null,a,i,o)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),g=$s(e.version);return new Se(new fM(d,g),null,null,!0,i,o)}return yt()}function km(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pS(t){var e=new On(t[0],t[1]);return $t.fromTimestamp(e)}function $s(t){var e=t.toTimestamp();return new cM(e.seconds,e.nanoseconds)}function Ks(t){var e=new On(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)}function gs(t,e){for(var n=(e.baseMutations||[]).map(function(f){return Z_(t.Lt,f)}),i=0;i<e.mutations.length-1;++i){var o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){var u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map(function(f){return Z_(t.Lt,f)}),l=On.fromMillis(e.localWriteTimeMs);return new Nm(e.batchId,l,n,a)}function ta(t){var e,n,i=Ks(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?Ks(t.lastLimboFreeSnapshotVersion):$t.min();return t.query.documents!==void 0?(Nt((n=t.query).documents.length===1),e=Fr(Ja(rS(n.documents[0])))):e=function(u){return Fr(uS(u))}(t.query),new Zf(e,t.targetId,0,t.lastListenSequenceNumber,i,o,Dn.fromBase64String(t.resumeToken))}function gS(t,e){var n,i=$s(e.snapshotVersion),o=$s(e.lastLimboFreeSnapshotVersion);n=nf(e.target)?oS(t.Lt,e.target):sS(t.Lt,e.target);var u=e.resumeToken.toBase64();return new Cn(e.targetId,Ya(e.target),i,u,e.sequenceNumber,o,n)}function vS(t){var e=uS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?UT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vM=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return sE(e).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:Ks(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return sE(e).put({bundleId:(i=n).id,createTime:$s(_n(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(e,n){return uE(e).get(n).next(function(i){if(i)return{name:(o=i).name,query:vS(o.bundledQuery),readTime:Ks(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return uE(e).put(function(i){return{name:i.name,readTime:$s(_n(i.readTime)),bundledQuery:i.bundledQuery}}(n))},t}();function sE(t){return Ln(t,Us.store)}function uE(t){return Ln(t,Bs.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mM=function(){function t(){this.Bt=new xm}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),Y.resolve()},t.prototype.getCollectionParents=function(e,n){return Y.resolve(this.Bt.getEntries(n))},t}(),xm=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new qe(ee.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new qe(ee.comparator)).toArray()},t}(),yM=function(){function t(){this.qt=new xm}return t.prototype.addToCollectionParentIndex=function(e,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:mr(u)};return aE(e).put(a)}return Y.resolve()},t.prototype.getCollectionParents=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[RT(n),""],!1,!0);return aE(e).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(zr(f.parent))}return i})},t}();function aE(t){return Ln(t,bo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kr=function(){function t(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e,n){var i=t.store(pe.store),o=t.store(on.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,S,N){return l++,N.delete()});u.push(f.next(function(){Nt(l===1)}));for(var d=[],g=0,v=n.mutations;g<v.length;g++){var y=v[g],b=on.key(e,y.key.path,n.batchId);u.push(o.delete(b)),d.push(y.key)}return Y.waitFor(u).next(function(){return d})}function uf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw yt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);var wM=function(){function t(e,n,i,o){this.userId=e,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,i,o){return Nt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,i,o)},t.prototype.checkEmpty=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return di(e).$t({index:pe.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,i,o){var u=this,a=vs(e),l=di(e);return l.add({}).next(function(f){Nt(typeof f=="number");for(var d=new Nm(f,n,i,o),g=function(O,P,j){var q=j.baseMutations.map(function(V){return sf(O.Lt,V)}),nt=j.mutations.map(function(V){return sf(O.Lt,V)});return new pe(P,j.batchId,j.localWriteTime.toMillis(),q,nt)}(u.R,u.userId,d),v=[],y=new qe(function(O,P){return zt(O.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var S=_[b],N=on.key(u.userId,S.key.path,f);y=y.add(S.key.path.popLast()),v.push(l.put(g)),v.push(a.put(N,on.PLACEHOLDER))}return y.forEach(function(O){v.push(u.Ut.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),Y.waitFor(v).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var i=this;return di(e).get(n).next(function(o){return o?(Nt(o.userId===i.userId),gs(i.R,o)):null})},t.prototype.jt=function(e,n){var i=this;return this.Kt[n]?Y.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return di(e).$t({index:pe.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Nt(f.batchId>=o),a=gs(i.R,f)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return di(e).$t({index:pe.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return di(e).Nt(pe.userMutationsIndex,i).next(function(o){return o.map(function(u){return gs(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=on.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return vs(e).$t({range:u},function(l,f,d){var g=l[0],v=l[1],y=l[2],b=zr(v);if(g===i.userId&&n.path.isEqual(b))return di(e).get(y).next(function(_){if(!_)throw yt();Nt(_.userId===i.userId),a.push(gs(i.R,_))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new qe(zt),u=[];return n.forEach(function(a){var l=on.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=vs(e).$t({range:f},function(g,v,y){var b=g[0],_=g[1],S=g[2],N=zr(_);b===i.userId&&a.path.isEqual(N)?o=o.add(S):y.done()});u.push(d)}),Y.waitFor(u).next(function(){return i.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=this,o=n.path,u=o.length+1,a=on.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new qe(zt);return vs(e).$t({range:l},function(d,g,v){var y=d[0],b=d[1],_=d[2],S=zr(b);y===i.userId&&o.isPrefixOf(S)?S.length===u&&(f=f.add(_)):v.done()}).next(function(){return i.Wt(e,f)})},t.prototype.Wt=function(e,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(di(e).get(a).next(function(l){if(l===null)throw yt();Nt(l.userId===i.userId),o.push(gs(i.R,l))}))}),Y.waitFor(u).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var i=this;return mS(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){i.Gt(n.batchId)}),Y.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(i){if(!i)return Y.resolve();var o=IDBKeyRange.lowerBound(on.prefixForUser(n.userId)),u=[];return vs(e).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=zr(a[1]);u.push(d)}else f.done()}).next(function(){Nt(u.length===0)})})},t.prototype.containsKey=function(e,n){return yS(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return wS(e).get(this.userId).next(function(i){return i||new xi(n.userId,-1,"")})},t}();function yS(t,e,n){var i=on.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return vs(t).$t({range:u,Ft:!0},function(l,f,d){var g=l[0],v=l[1];l[2],g===e&&v===o&&(a=!0),d.done()}).next(function(){return a})}function di(t){return Ln(t,pe.store)}function vs(t){return Ln(t,on.store)}function wS(t){return Ln(t,xi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var af=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),bM=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(i){var o=new af(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(e,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return $t.fromTimestamp(new On(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,i){var o=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var i=this;return this.te(e,n).next(function(){return i.Xt(e).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var i=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return hs(e).delete(n.targetId)}).next(function(){return i.Xt(e)}).next(function(o){return Nt(o.targetCount>0),o.targetCount-=1,i.Zt(e,o)})},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return hs(e).$t(function(l,f){var d=ta(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(e,d)))}).next(function(){return Y.waitFor(a)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return hs(e).$t(function(i,o){var u=ta(o);n(u)})},t.prototype.Xt=function(e){return lE(e).get(qn.key).next(function(n){return Nt(n!==null),n})},t.prototype.Zt=function(e,n){return lE(e).put(qn.key,n)},t.prototype.te=function(e,n){return hs(e).put(gS(this.R,n))},t.prototype.ee=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var i=Ya(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return hs(e).$t({range:o,index:Cn.queryTargetsIndexName},function(a,l,f){var d=ta(l);Qf(n,d.target)&&(u=d,f.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,i){var o=this,u=[],a=Ei(e);return n.forEach(function(l){var f=mr(l.path);u.push(a.put(new Ye(i,f))),u.push(o.referenceDelegate.addReference(e,i,l))}),Y.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,i){var o=this,u=Ei(e);return Y.forEach(n,function(a){var l=mr(a.path);return Y.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(e,i,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var i=Ei(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Ei(e),u=fe();return o.$t({range:i,Ft:!0},function(a,l,f){var d=zr(a[1]),g=new bt(d);u=u.add(g)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var i=mr(n.path),o=IDBKeyRange.bound([i],[RT(i)],!1,!0),u=0;return Ei(e).$t({index:Ye.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return hs(e).get(n).next(function(i){return i?ta(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){return Ln(t,Cn.store)}function lE(t){return Ln(t,qn.store)}function Ei(t){return Ln(t,Ye.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return H(this,void 0,void 0,function(){return $(this,function(e){if(t.code!==D.FAILED_PRECONDITION||t.message!==lS)throw t;return tt("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],a=zt(n,o);return a===0?zt(i,u):a}var _M=function(){function t(e){this.ne=e,this.buffer=new qe(fE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();fE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),EM=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,i=this.oe?3e5:6e4;tt("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Lo(o=u.sent())?(tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Mo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),IM=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.nthSequenceNumber=function(e,n){var i=this;if(n===0)return Y.resolve(zn.o);var o=new _M(n);return this.ae.forEachTarget(e,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(e,function(u){return o.re(u)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,i){return this.ae.removeTargets(e,n,i)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(cE)):this.getCacheSize(e).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),cE):i.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var i,o,u,a,l,f,d,g=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(y){return y>g.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+y),o=g.params.maximumSequenceNumbersToCollect):o=y,a=Date.now(),g.nthSequenceNumber(e,o)}).next(function(y){return i=y,l=Date.now(),g.removeTargets(e,i,n)}).next(function(y){return u=y,f=Date.now(),g.removeOrphanedDocuments(e,i)}).next(function(y){return d=Date.now(),zg()<=te.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+y+" documents in "+(d-f)+`ms
Total Duration: `+(d-v)+"ms"),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:y})})},t}(),TM=function(){function t(e,n){this.db=e,this.garbageCollector=function(i,o){return new IM(i,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(i){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(i,o){return n(o)})},t.prototype.addReference=function(e,n,i){return _l(e,i)},t.prototype.removeReference=function(e,n,i){return _l(e,i)},t.prototype.removeTargets=function(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)},t.prototype.markPotentiallyOrphaned=function(e,n){return _l(e,n)},t.prototype._e=function(e,n){return function(i,o){var u=!1;return wS(i).Ot(function(a){return yS(i,a,o).next(function(l){return l&&(u=!0),Y.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(e,function(l,f){if(f<=n){var d=i._e(e,l).next(function(g){if(!g)return a++,o.getEntry(e,l).next(function(){return o.removeEntry(l),Ei(e).delete([0,mr(l.path)])})});u.push(d)}}).next(function(){return Y.waitFor(u)}).next(function(){return o.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},t.prototype.updateLimboDocument=function(e,n){return _l(e,n)},t.prototype.we=function(e,n){var i,o=Ei(e),u=zn.o;return o.$t({index:Ye.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,g=l.sequenceNumber;f===0?(u!==zn.o&&n(new bt(zr(i)),u),u=g,i=d):u=zn.o}).next(function(){u!==zn.o&&n(new bt(zr(i)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function _l(t,e){return Ei(t).put(function(n,i){return new Ye(0,mr(n.path),i)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ru=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.inner[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){Do(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];e(l,f)}})},t.prototype.isEmpty=function(){return DT(this.inner)},t}(),bS=function(){function t(){this.changes=new ru(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:$t.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:ln.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?Y.resolve(i.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),SM=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,i){return yi(e).put(El(n),i)},t.prototype.removeEntry=function(e,n){var i=yi(e),o=El(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.me(e,o)})},t.prototype.getEntry=function(e,n){var i=this;return yi(e).get(El(n)).next(function(o){return i.ye(n,o)})},t.prototype.ge=function(e,n){var i=this;return yi(e).get(El(n)).next(function(o){return{document:i.ye(n,o),size:uf(o)}})},t.prototype.getEntries=function(e,n){var i=this,o=vr();return this.pe(e,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var i=this,o=vr(),u=new fn(bt.comparator);return this.pe(e,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,uf(l))}).next(function(){return{documents:o,Te:u}})},t.prototype.pe=function(e,n,i){if(n.isEmpty())return Y.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return yi(e).$t({range:o},function(l,f,d){for(var g=bt.fromSegments(l);a&&bt.comparator(a,g)<0;)i(a,null),a=u.getNext();a&&a.isEqual(g)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){var o=this,u=vr(),a=n.path.length+1,l={};if(i.isEqual($t.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=km(i);l.range=IDBKeyRange.lowerBound([d,g],!0),l.index=Se.collectionReadTimeIndex}return yi(e).$t(l,function(v,y,b){if(v.length===a){var _=Zg(o.R,y);n.path.isPrefixOf(_.key.path)?tc(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new AM(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return hE(e).get(Rr.key).next(function(n){return Nt(!!n),n})},t.prototype.me=function(e,n){return hE(e).put(Rr.key,n)},t.prototype.ye=function(e,n){if(n){var i=Zg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual($t.min()))return i}return ln.newInvalidDocument(e)},t}(),AM=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new ru(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Tt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new qe(function(l,f){return zt(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var g=oE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var v=uf(g);u+=v-d,o.push(i.Ie.addEntry(n,l,g))}else if(u-=d,i.trackRemovals){var y=oE(i.Ie.R,ln.newNoDocument(l,$t.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,y))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),Y.waitFor(o)},e.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},e.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},e}(bS);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t){return Ln(t,Rr.store)}function yi(t){return Ln(t,Se.store)}function El(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NM=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,i,o){var u=this;Nt(i<o&&i>=0&&o<=11);var a=new hS("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Bn.store)}(e),function(f){f.createObjectStore(xi.store,{keyPath:xi.keyPath}),f.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0}),f.createObjectStore(on.store)}(e),dE(e),function(f){f.createObjectStore(Se.store)}(e));var l=Y.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Ye.store),f.deleteObjectStore(Cn.store),f.deleteObjectStore(qn.store)}(e),dE(e)),l=l.next(function(){return function(f){var d=f.store(qn.store),g=new qn(0,0,$t.min().toTimestamp(),0);return d.put(qn.key,g)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(pe.store).Nt().next(function(g){f.deleteObjectStore(pe.store),f.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0});var v=d.store(pe.store),y=g.map(function(b){return v.put(b)});return Y.waitFor(y)})}(e,a)})),l=l.next(function(){(function(f){f.createObjectStore(Wr.store,{keyPath:Wr.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Rr.store)}(e),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(e,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var d=f.objectStore(Se.store);d.createIndex(Se.readTimeIndex,Se.readTimeIndexPath,{unique:!1}),d.createIndex(Se.collectionReadTimeIndex,Se.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(Us.store,{keyPath:Us.keyPath})})(e),function(f){f.createObjectStore(Bs.store,{keyPath:Bs.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(Se.store).$t(function(i,o){n+=uf(o)}).next(function(){var i=new Rr(n);return e.store(Rr.store).put(Rr.key,i)})},t.prototype.Re=function(e){var n=this,i=e.store(xi.store),o=e.store(pe.store);return i.Nt().next(function(u){return Y.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(pe.userMutationsIndex,l).next(function(f){return Y.forEach(f,function(d){Nt(d.userId===a.userId);var g=gs(n.R,d);return mS(e,a.userId,g).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Ye.store),i=e.store(Se.store);return e.store(qn.store).get(qn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new ee(a),d=function(g){return[0,mr(g)]}(f);u.push(n.get(d).next(function(g){return g?Y.resolve():function(v){return n.put(new Ye(0,mr(v),o.highestListenSequenceNumber))}(f)}))}).next(function(){return Y.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(bo.store,{keyPath:bo.keyPath});var i=n.store(bo.store),o=new xm,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:mr(f)})}};return n.store(Se.store).$t({Ft:!0},function(a,l){var f=new ee(a);return u(f.popLast())}).next(function(){return n.store(on.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=zr(f);return u(d.popLast())})})},t.prototype.Ve=function(e){var n=this,i=e.store(Cn.store);return i.$t(function(o,u){var a=ta(u),l=gS(n.R,a);return i.put(l)})},t}();function dE(t){t.createObjectStore(Ye.store,{keyPath:Ye.keyPath}).createIndex(Ye.documentTargetsIndex,Ye.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Cn.store,{keyPath:Cn.keyPath}).createIndex(Cn.queryTargetsIndexName,Cn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(qn.store)}var sg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kM=function(){function t(e,n,i,o,u,a,l,f,d,g){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!t.yt())throw new G(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TM(this,o),this.Le=n+"main",this.R=new dS(f),this.Be=new qs(this.Le,11,new NM(this.R)),this.qe=new bM(this.referenceDelegate,this.R),this.Ut=new yM,this.Ue=function(v,y){return new SM(v,y)}(this.R,this.Ut),this.Ke=new vM,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Pe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,sg);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new zn(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Il(n).put(new Wr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(i){i||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(i){return e.isPrimary&&!i?e.Xe(n).next(function(){return!1}):!!i&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Lo(n))return tt("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Gu(e).get(Bn.key).next(function(i){return Y.resolve(n.tn(i))})},t.prototype.en=function(e){return Il(e).delete(this.clientId)},t.prototype.nn=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Ln(l,Wr.store);return f.Nt().next(function(d){var g=u.rn(d,18e5),v=d.filter(function(y){return g.indexOf(y)===-1});return Y.forEach(v,function(y){return f.delete(y.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,i=e;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?Y.resolve(!0):Gu(e).get(Bn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,sg);return!1}}return!(!n.networkEnabled||!n.inForeground)||Il(e).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&tt("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var e=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Bn.store,Wr.store],function(i){var o=new iE(i,zn.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var i=this;return e.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Il(n).Nt().next(function(i){return e.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return wM.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;tt("IndexedDbPersistence","Starting transaction:",e);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,hM,function(l){return u=new iE(l,o.Ne?o.Ne.next():zn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Pe("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new G(D.FAILED_PRECONDITION,lS);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return Gu(e).get(Bn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new G(D.FAILED_PRECONDITION,sg)})},t.prototype.Ze=function(e){var n=new Bn(this.clientId,this.allowTabSynchronization,Date.now());return Gu(e).put(Bn.key,n)},t.yt=function(){return qs.yt()},t.prototype.Xe=function(e){var n=this,i=Gu(e);return i.get(Bn.key).next(function(o){return n.tn(o)?(tt("IndexedDbPersistence","Releasing primary lease."),i.delete(Bn.key)):Y.resolve()})},t.prototype.sn=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(Pe("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),PD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return tt("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Pe("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Pe("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Gu(t){return Ln(t,Bn.store)}function Il(t){return Ln(t,Wr.store)}function Cm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _S=function(){function t(e,n,i){this.Ue=e,this._n=n,this.Ut=i}return t.prototype.mn=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return i.yn(e,n,o)})},t.prototype.yn=function(e,n,i){return this.Ue.getEntry(e,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},t.prototype.pn=function(e,n){var i=this;return this.Ue.getEntries(e,n).next(function(o){return i.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return i.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){return function(o){return bt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):_m(n)?this.In(e,n,i):this.An(e,n,i)},t.prototype.Tn=function(e,n){return this.mn(e,new bt(n)).next(function(i){var o=Yg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(e,n,i){var o=this,u=n.collectionGroup,a=Yg();return this.Ut.getCollectionParents(e,u).next(function(l){return Y.forEach(l,function(f){var d=function(g,v){return new ti(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(u));return o.An(e,d,i).next(function(g){g.forEach(function(v,y){a=a.insert(v,y)})})}).next(function(){return a})})},t.prototype.An=function(e,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return u=l,a.Rn(e,u,o).next(function(f){o=f;for(var d=0,g=u;d<g.length;d++)for(var v=g[d],y=0,b=v.mutations;y<b.length;y++){var _=b[y],S=_.key,N=o.get(S);N==null&&(N=ln.newInvalidDocument(S),o=o.insert(S,N)),Xg(_,N,v.localWriteTime),N.isFoundDocument()||(o=o.remove(S))}})}).next(function(){return o.forEach(function(l,f){tc(n,f)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,i){for(var o=fe(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Fi&&i.get(d.key)===null&&(o=o.add(d.key))}var g=i;return this.Ue.getEntries(e,o).next(function(v){return v.forEach(function(y,b){b.isFoundDocument()&&(g=g.insert(y,b))}),g})},t}(),xM=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.bn=i,this.vn=o}return t.Pn=function(e,n){for(var i=fe(),o=fe(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}(),ES=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual($t.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(a){var l=u.Cn(n,a);return(Ol(n)||of(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(e,n):(zg()<=te.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qg(n)),u.Sn.getDocumentsMatchingQuery(e,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},t.prototype.Cn=function(e,n){var i=new qe(qT(e));return n.forEach(function(o,u){tc(e,u)&&(i=i.add(u))}),i},t.prototype.Nn=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return zg()<=te.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Qg(n)),this.Sn.getDocumentsMatchingQuery(e,n,$t.min())},t}(),CM=function(){function t(e,n,i,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new fn(zt),this.Fn=new ru(function(u){return Ya(u)},Qf),this.$n=$t.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new _S(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e,n,i){return new CM(t,e,n,i)}function TS(t,e){return H(this,void 0,void 0,function(){var n,i,o,u;return $(this,function(a){switch(a.label){case 0:return n=ot(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(e),o=new _S(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var g=[],v=[],y=fe(),b=0,_=f;b<_.length;b++){var S=_[b];g.push(S.batchId);for(var N=0,O=S.mutations;N<O.length;N++){var P=O[N];y=y.add(P.key)}}for(var j=0,q=d;j<q.length;j++){var nt=q[j];v.push(nt.batchId);for(var V=0,It=nt.mutations;V<It.length;V++){var W=It[V];y=y.add(W.key)}}return o.pn(l,y).next(function(ht){return{Ln:ht,removedBatchIds:g,addedBatchIds:v}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function OM(t,e){var n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var g=f.batch,v=g.keys(),y=Y.resolve();return v.forEach(function(b){y=y.next(function(){return d.getEntry(l,b)}).next(function(_){var S=f.docVersions.get(b);Nt(S!==null),_.version.compareTo(S)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),y.next(function(){return a._n.removeMutationBatch(l,g)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function SS(t){var e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function RM(t,e){var n=ot(t),i=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(g,v){var y=o.get(v);if(y){l.push(n.qe.removeMatchingKeys(u,g.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(u,g.addedDocuments,v)}));var b=g.resumeToken;if(b.approximateByteSize()>0){var _=y.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(v,_),function(S,N,O){return Nt(N.resumeToken.approximateByteSize()>0),S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,_,g)&&l.push(n.qe.updateTargetData(u,_))}}});var f=vr();if(e.documentUpdates.forEach(function(g,v){e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,g))}),l.push(DM(u,a,e.documentUpdates,i,void 0).next(function(g){f=g})),!i.isEqual($t.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(g){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return Y.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function DM(t,e,n,i,o){var u=fe();return n.forEach(function(a){return u=u.add(a)}),e.getEntries(t,u).next(function(a){var l=vr();return n.forEach(function(f,d){var g=a.get(f),v=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual($t.min())?(e.removeEntry(f,v),l=l.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d,v),l=l.insert(f,d)):tt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),l})}function PM(t,e){var n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(i,e)})}function cf(t,e){var n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,e).next(function(u){return u?(o=u,Y.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Zf(e,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(e,i.targetId)),i})}function Hs(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=ot(t),o=i.kn.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Lo(a=l.sent()))throw a;return tt("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function lf(t,e,n){var i=ot(t),o=$t.min(),u=fe();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var g=ot(l),v=g.Fn.get(d);return v!==void 0?Y.resolve(g.kn.get(v)):g.qe.getTargetData(f,d)}(i,a,Fr(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,e,n?o:$t.min(),n?u:fe())}).next(function(l){return{documents:l,Bn:u}})})}function AS(t,e){var n=ot(t),i=ot(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,e).next(function(a){return a?a.target:null})})}function NS(t){var e=ot(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ot(i),l=vr(),f=km(u),d=yi(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Se.readTimeIndex,range:g},function(v,y){var b=Zg(a.R,y);l=l.insert(b.key,b),f=y.readTime}).next(function(){return{wn:l,readTime:pS(f)}})}(e.On,n,e.$n)}).then(function(n){var i=n.wn,o=n.readTime;return e.$n=o,i})}function LM(t){return H(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,(e=ot(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=yi(o),a=$t.min();return u.$t({index:Se.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=pS(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){e.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MM=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return Y.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:_n(i.createTime)}),Y.resolve()},t.prototype.getNamedQuery=function(e,n){return Y.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(i){return{name:i.name,query:vS(i.bundledQuery),readTime:_n(i.readTime)}}(n)),Y.resolve()},t}(),Om=function(){function t(){this.Wn=new qe(Ke.Gn),this.zn=new qe(Ke.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var i=new Ke(e,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(e,n){var i=this;e.forEach(function(o){return i.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Ke(e,n))},t.prototype.Xn=function(e,n){var i=this;e.forEach(function(o){return i.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,i=new bt(new ee([])),o=new Ke(i,e),u=new Ke(i,e+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new bt(new ee([])),i=new Ke(n,e),o=new Ke(n,e+1),u=fe();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},t.prototype.containsKey=function(e){var n=new Ke(e,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)},t}(),Ke=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return bt.comparator(e.key,n.key)||zt(e.ns,n.ns)},t.Hn=function(e,n){return zt(e.ns,n.ns)||bt.comparator(e.key,n.key)},t}(),FM=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new qe(Ke.Gn)}return t.prototype.checkEmpty=function(e){return Y.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Nm(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Ke(d.key,u)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return Y.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return Y.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return Y.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Y.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return Y.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=new Ke(n,0),u=new Ke(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),Y.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new qe(zt);return n.forEach(function(u){var a=new Ke(u,0),l=new Ke(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),Y.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=n.path,o=i.length+1,u=i;bt.isDocumentKey(u)||(u=u.child(""));var a=new Ke(new bt(u),0),l=new qe(zt);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),Y.resolve(this.us(l))},t.prototype.us=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},t.prototype.removeMutationBatch=function(e,n){var i=this;Nt(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return Y.forEach(n.mutations,function(u){var a=new Ke(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var i=new Ke(n,0),o=this.rs.firstAfterOrEqual(i);return Y.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,Y.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),VM=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new fn(bt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var i=this.docs.get(n);return Y.resolve(i?i.document.clone():ln.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var i=this,o=vr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():ln.newInvalidDocument(u))}),Y.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,i){for(var o=vr(),u=new bt(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,g=d.document,v=d.readTime;if(!n.path.isPrefixOf(f.path))break;v.compareTo(i)<=0||tc(n,g)&&(o=o.insert(g.key,g.clone()))}return Y.resolve(o)},t.prototype.fs=function(e,n){return Y.forEach(this.docs,function(i){return n(i)})},t.prototype.newChangeBuffer=function(e){return new jM(this)},t.prototype.getSize=function(e){return Y.resolve(this.size)},t}(),jM=function(t){function e(n){var i=this;return(i=t.call(this)||this).Ie=n,i}return Tt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),Y.waitFor(o)},e.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},e.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},e}(bS),UM=function(){function t(e){this.persistence=e,this.ds=new ru(function(n){return Ya(n)},Qf),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.ws=0,this._s=new Om,this.targetCount=0,this.ys=af.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(i,o){return n(o)}),Y.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return Y.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return Y.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Y.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),Y.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new af(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,Y.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),Y.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,Y.resolve()},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),Y.waitFor(a).next(function(){return u})},t.prototype.getTargetCount=function(e){return Y.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var i=this.ds.get(n)||null;return Y.resolve(i)},t.prototype.addMatchingKeys=function(e,n,i){return this._s.Jn(n,i),Y.resolve()},t.prototype.removeMatchingKeys=function(e,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(e,a))}),Y.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),Y.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=this._s.es(n);return Y.resolve(i)},t.prototype.containsKey=function(e,n){return Y.resolve(this._s.containsKey(n))},t}(),BM=function(){function t(e,n){var i=this;this.gs={},this.Ne=new zn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new UM(this),this.Ut=new mM,this.Ue=function(o,u){return new VM(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new dS(n),this.Ke=new MM(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new FM(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;tt("MemoryPersistence","Starting transaction:",e);var u=new qM(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return Y.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(e,n)}}))},t}(),qM=function(t){function e(n){var i=this;return(i=t.call(this)||this).currentSequenceNumber=n,i}return Tt(e,t),e}(fS),$M=function(){function t(e){this.persistence=e,this.As=new Om,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw yt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),Y.resolve()},t.prototype.removeReference=function(e,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),Y.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),Y.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.vs,function(o){var u=bt.fromPath(o);return n.Ps(e,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var i=this;return this.Ps(e,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var i=this;return Y.or([function(){return Y.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(e,n)},function(){return i.persistence.Is(e,n)}])},t}(),Qe=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t,e){return"firestore_clients_"+t+"_"+e}function gE(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function ug(t,e){return"firestore_targets_"+t+"_"+e}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var vE=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.Vs=function(e,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new G(u.error.code,u.error.message)),a?new t(e,n,u.state,o):(Pe("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),ag=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.Vs=function(e,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new G(o.error.code,o.error.message)),u?new t(e,o.state,i):(Pe("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),mE=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Jf(),a=0;o&&a<i.activeTargetIds.length;++a)o=MT(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new t(e,u):(Pe("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),KM=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Pe("SharedClientState","Failed to parse online state: "+e),null)},t}(),tv=function(){function t(){this.activeTargetIds=Jf()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),cg=function(){function t(e,n,i,o,u){this.window=e,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new fn(zt),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=pE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new tv),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u,a,l,f,d,g,v,y=this;return $(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(pE(this.persistenceKey,o)))&&(a=mE.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)v=g[d],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,i){this.zs(e,n,i),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(ug(this.persistenceKey,e));if(i){var o=ag.Vs(e,i);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(ug(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,i){this.Ys(e,n,i)},t.prototype.handleUserChange=function(e,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=e,i.forEach(function(u){o.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return tt("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){tt("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(tt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Pe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(g){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(v){var y=zn.o;if(v!=null)try{var b=JSON.parse(v);Nt(typeof b=="number"),y=b}catch(_){Pe("SharedClientState","Failed to read sequence number from WebStorage",_)}return y}(i.newValue))!==zn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,i){var o=new vE(this.currentUser,e,n,i),u=gE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ss())},t.prototype.Hs=function(e){var n=gE(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,i){var o=ug(this.persistenceKey,e),u=new ag(e,n,i);this.setItem(o,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var i=this.ti(e);return mE.Vs(i,n)},t.prototype.si=function(e,n){var i=this.Bs.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return vE.Vs(new Qe(u),o,n)},t.prototype.ri=function(e,n){var i=this.qs.exec(e),o=Number(i[1]);return ag.Vs(o,n)},t.prototype.js=function(e){return KM.Vs(e)},t.prototype.ii=function(e){return H(this,void 0,void 0,function(){return $(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(tt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var i=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Jf();return e.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),kS=function(){function t(){this.li=new tv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,i){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,i){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new tv,Promise.resolve()},t.prototype.handleUserChange=function(e,n,i){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),HM=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),yE=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),zM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},GM=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),WM=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Tt(e,t),e.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new SL;f.listenOnce(EL.COMPLETE,function(){try{switch(f.getLastErrorCode()){case og.NO_ERROR:var g=f.getResponseJson();tt("Connection","XHR received:",JSON.stringify(g)),a(g);break;case og.TIMEOUT:tt("Connection",'RPC "'+n+'" timed out'),l(new G(D.DEADLINE_EXCEEDED,"Request time out"));break;case og.HTTP_ERROR:var v=f.getStatus();if(tt("Connection",'RPC "'+n+'" failed with status:',v,"response text:",f.getResponseText()),v>0){var y=f.getResponseJson().error;if(y&&y.status&&y.message){var b=function(_){var S=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(S)>=0?S:D.UNKNOWN}(y.status);l(new G(b,y.message))}else l(new G(D.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new G(D.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{tt("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},e.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=bL(),a=_L(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new TL({})),this.ki(l.initMessageHeaders,i),ND()||CD()||OD()||RD()||DD()||xD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");tt("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),g=!1,v=!1,y=new GM({Ei:function(_){v?tt("Connection","Not sending because WebChannel is closed:",_):(g||(tt("Connection","Opening WebChannel transport."),d.open(),g=!0),tt("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,S,N){_.listen(S,function(O){try{N(O)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,wl.EventType.OPEN,function(){v||tt("Connection","WebChannel transport opened.")}),b(d,wl.EventType.CLOSE,function(){v||(v=!0,tt("Connection","WebChannel transport closed"),y.Vi())}),b(d,wl.EventType.ERROR,function(_){v||(v=!0,Zl("Connection","WebChannel transport errored:",_),y.Vi(new G(D.UNAVAILABLE,"The operation could not be completed")))}),b(d,wl.EventType.MESSAGE,function(_){var S;if(!v){var N=_.data[0];Nt(!!N);var O=N,P=O.error||((S=O[0])===null||S===void 0?void 0:S.error);if(P){tt("Connection","WebChannel received error:",P);var j=P.status,q=function(V){var It=Re[V];if(It!==void 0)return JT(It)}(j),nt=P.message;q===void 0&&(q=D.INTERNAL,nt="Unknown error status: "+j+" with message "+P.message),v=!0,y.Vi(new G(q,nt)),d.close()}else tt("Connection","WebChannel received:",N),y.Si(N)}}),b(a,IL.STAT_EVENT,function(_){_.stat===L_.PROXY?tt("Connection","Detected buffering proxy"):_.stat===L_.NOPROXY&&tt("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,i,o){var u=this.xi(e,n);tt("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(e,u,a,i).then(function(l){return tt("RestConnection","Received: ",l),l},function(l){throw Zl("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$i=function(e,n,i,o){return this.Ni(e,n,i,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(e[i]=n.authHeaders[i])},t.prototype.xi=function(e,n){var i=zM[e];return this.Di+"/v1/"+n+":"+i},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof window<"u"?window:null}function Pl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return new tM(t,!0)}var Rm=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&tt("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),CS=function(){function t(e,n,i,o,u,a){this.Se=e,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Rm(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return H(this,void 0,void 0,function(){return $(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return H(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Pe(n.toString()),Pe("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){e.Yi===i&&e.lr(o)},function(o){n(function(){var u=new G(D.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return H(e,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return tt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===e?i():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),QM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Tt(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:yt()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],g=function(N,O){return N.I?(Nt(O===void 0||typeof O=="string"),Dn.fromBase64String(O||"")):(Nt(O===void 0||O instanceof Uint8Array),Dn.fromUint8Array(O||new Uint8Array))}(u,a.targetChange.resumeToken),v=(y=a.targetChange.cause)&&function(N){var O=N.code===void 0?D.UNKNOWN:JT(N.code);return new G(O,N.message||"")}(y);l=new tS(f,d,g,v||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=Gr(u,f.document.name),g=_n(f.document.updateTime);var y=new Kn({mapValue:{fields:f.document.fields}}),b=(v=ln.newFoundDocument(d,g,y),f.targetIds||[]),_=f.removedTargetIds||[];l=new Dl(b,_,v.key,v)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=Gr(u,f.document),g=f.readTime?_n(f.readTime):$t.min(),y=ln.newNoDocument(d,g),v=f.removedTargetIds||[],l=new Dl([],v,y.key,y);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=Gr(u,f.document),g=f.removedTargetIds||[],l=new Dl([],g,d,null);else{if(!("filter"in a))return yt();a.filter;var S=a.filter;S.targetId,f=S.count||0,d=new KL(f),g=S.targetId,l=new ZT(g,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return $t.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?$t.min():a.readTime?_n(a.readTime):$t.min()}(n);return this.listener._r(i,o)},e.prototype.mr=function(n){var i={};i.database=Pa(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=nf(f)?{documents:oS(u,f)}:{query:sS(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=eS(u,a.resumeToken):a.snapshotVersion.compareTo($t.min())>0&&(l.readTime=Ra(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},e.prototype.yr=function(n){var i={};i.database=Pa(this.R),i.removeTarget=n,this.cr(i)},e}(CS),XM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Tt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Nt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Nt(a!==void 0),u.map(function(l){return function(f,d){var g=f.updateTime?_n(f.updateTime):_n(d);return g.isEqual($t.min())&&(g=_n(d)),new BL(g,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=_n(n.commitTime);return this.listener.Tr(o,i)}return Nt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Pa(this.R),this.cr(n)},e.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return sf(i.R,u)})};this.cr(o)},e}(CS),YM=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Tt(e,t),e.prototype.br=function(){if(this.Rr)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new G(D.UNKNOWN,a.toString())})},e.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new G(D.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),JM=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Pe(n),this.Vr=!1):tt("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),ZM=function(t,e,n,i,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(u,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return Vi(this)?(tt("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return $(this,function(g){switch(g.label){case 0:return(d=ot(f)).Or.add(4),[4,iu(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,ic(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new JM(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:if(!Vi(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function iu(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function eh(t,e){var n=ot(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Lm(n)?Pm(n):su(n).er()&&Dm(n,e))}function La(t,e){var n=ot(t),i=su(n);n.$r.delete(e),i.er()&&OS(n,e),n.$r.size===0&&(i.er()?i.ir():Vi(n)&&n.Br.set("Unknown"))}function Dm(t,e){t.qr.U(e.targetId),su(t).mr(e)}function OS(t,e){t.qr.U(e),su(t).yr(e)}function Pm(t){t.qr=new YL({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),su(t).start(),t.Br.Sr()}function Lm(t){return Vi(t)&&!su(t).tr()&&t.$r.size>0}function Vi(t){return ot(t).Or.size===0}function RS(t){t.qr=void 0}function tF(t){return H(this,void 0,void 0,function(){return $(this,function(e){return t.$r.forEach(function(n,i){Dm(t,n)}),[2]})})}function eF(t,e){return H(this,void 0,void 0,function(){return $(this,function(n){return RS(t),Lm(t)?(t.Br.Nr(e),Pm(t)):t.Br.set("Unknown"),[2]})})}function nF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u;return $(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof tS&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,g,v,y;return $(this,function(b){switch(b.label){case 0:d=f.cause,g=0,v=f.targetIds,b.label=1;case 1:return g<v.length?(y=v[g],l.$r.has(y)?[4,l.remoteSyncer.rejectListen(y,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(y),l.qr.removeTarget(y),b.label=3;case 3:b.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,ff(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Dl?t.qr.X(e):e instanceof ZT?t.qr.rt(e):t.qr.et(e),n.isEqual($t.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,SS(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(g,v){if(g.resumeToken.approximateByteSize()>0){var y=l.$r.get(v);y&&l.$r.set(v,y.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var v=l.$r.get(g);if(v){l.$r.set(g,v.withResumeToken(Dn.EMPTY_BYTE_STRING,v.snapshotVersion)),OS(l,g);var y=new Zf(v.target,g,1,v.sequenceNumber);Dm(l,y)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return tt("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,ff(t,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function ff(t,e,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!Lo(e))throw e;return t.Or.add(1),[4,iu(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return SS(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(u){switch(u.label){case 0:return tt("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,ic(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function DS(t,e){return e().catch(function(n){return ff(t,n,e)})}function ou(t){return H(this,void 0,void 0,function(){var e,n,i,o,u;return $(this,function(a){switch(a.label){case 0:e=ot(t),n=Di(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Vi(l)&&l.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,PM(e.localStore,i)];case 3:return(o=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Di(l);d.er()&&d.pr&&d.Er(f.mutations)}(e,o),[3,6]);case 4:return u=a.sent(),[4,ff(e,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return PS(e)&&LS(e),[2]}})})}function PS(t){return Vi(t)&&!Di(t).tr()&&t.Fr.length>0}function LS(t){Di(t).start()}function rF(t){return H(this,void 0,void 0,function(){return $(this,function(e){return Di(t).Ar(),[2]})})}function iF(t){return H(this,void 0,void 0,function(){var e,n,i,o;return $(this,function(u){for(e=Di(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function oF(t,e,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return i=t.Fr.shift(),o=gM.from(i,e,n),[4,DS(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,ou(t)];case 2:return u.sent(),[2]}})})}function sF(t,e){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return e&&Di(t).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var u,a;return $(this,function(l){switch(l.label){case 0:return YT(a=o.code)&&a!==D.ABORTED?(u=i.Fr.shift(),Di(i).sr(),[4,DS(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,ou(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return PS(t)&&LS(t),[2]}})})}function ev(t,e){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ot(t),e?(n.Or.delete(2),[4,ic(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,iu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function su(t){var e=this;return t.Ur||(t.Ur=function(n,i,o){var u=ot(n);return u.br(),new QM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:tF.bind(null,t),Ri:eF.bind(null,t),_r:nF.bind(null,t)}),t.Mr.push(function(n){return H(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Ur.sr(),Lm(t)?Pm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),RS(t),i.label=3;case 3:return[2]}})})})),t.Ur}function Di(t){var e=this;return t.Kr||(t.Kr=function(n,i,o){var u=ot(n);return u.br(),new XM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:rF.bind(null,t),Ri:sF.bind(null,t),Ir:iF.bind(null,t),Tr:oF.bind(null,t)}),t.Mr.push(function(n){return H(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Kr.sr(),[4,ou(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(tt("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var uF=function(){function t(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,i,o,u){var a=new t(e,n,Date.now()+i,o,u);return a.start(i),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function uu(t,e){if(Pe("AsyncQueue",e+": "+t),Lo(t))return new G(D.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MS=function(){function t(e){this.comparator=e?function(n,i){return e(n,i)||bt.comparator(n.key,i.key)}:function(n,i){return bt.comparator(n.key,i.key)},this.keyedMap=Yg(),this.sortedSet=new fn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),wE=function(){function t(){this.Qr=new fn(bt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,i=this.Qr.get(n);i?e.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Qr=this.Qr.remove(n):e.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):yt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,i){e.push(i)}),e},t}(),hf=function(){function t(e,n,i,o,u,a,l,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(e,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new t(e,n,MS.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),aF=function(){this.Wr=void 0,this.listeners=[]},cF=function(){this.queries=new ru(function(t){return BT(t)},Za),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:if(n=ot(t),i=e.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new aF),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=uu(l,"Initialization of query '"+Qg(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&Vm(n),[2]}})})}function Fm(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){return n=ot(t),i=e.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(e))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function lF(t,e){for(var n=ot(t),i=!1,o=0,u=e;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Vm(n)}function fF(t,e,n){var i=ot(t),o=i.queries.get(e);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(e)}function Vm(t){t.Gr.forEach(function(e){e.next()})}var jm=function(){function t(e,n,i){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new hf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=hf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FS=function(t){this.key=t},VS=function(t){this.key=t},jS=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=fe(),this.mutatedKeys=fe(),this.lo=qT(e),this.fo=new MS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var i=this,o=n?n.mo:new wE,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=Ol(this.query)&&u.size===this.query.limit?u.last():null,g=of(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(y,b){var _=u.get(y),S=tc(i.query,b)?b:null,N=!!_&&i.mutatedKeys.has(_.key),O=!!S&&(S.hasLocalMutations||i.mutatedKeys.has(S.key)&&S.hasCommittedMutations),P=!1;_&&S?_.data.isEqual(S.data)?N!==O&&(o.track({type:3,doc:S}),P=!0):i.yo(_,S)||(o.track({type:2,doc:S}),P=!0,(d&&i.lo(S,d)>0||g&&i.lo(S,g)<0)&&(f=!0)):!_&&S?(o.track({type:0,doc:S}),P=!0):_&&!S&&(o.track({type:1,doc:_}),P=!0,(d||g)&&(f=!0)),P&&(S?(l=l.add(S),a=O?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),Ol(this.query)||of(this.query))for(;l.size>this.query.limit;){var v=Ol(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),o.track({type:1,doc:v})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,i){var o=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(g,v){return function(y,b){var _=function(S){switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return _(y)-_(b)}(g.type,v.type)||o.lo(g.doc,v.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new hf(this.query,e.fo,u,a,e.mutatedKeys,f===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new wE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=fe(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var i=[];return n.forEach(function(o){e.ho.has(o)||i.push(new VS(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new FS(o))}),i},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=fe();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return hf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),hF=function(t,e,n){this.query=t,this.targetId=e,this.view=n},dF=function(t){this.key=t,this.bo=!1},pF=function(){function t(e,n,i,o,u,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new ru(function(l){return BT(l)},Za),this.Vo=new Map,this.So=new Set,this.Do=new fn(bt.comparator),this.Co=new Map,this.No=new Om,this.xo={},this.ko=new Map,this.Fo=af.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function gF(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l;return $(this,function(f){switch(f.label){case 0:return n=Km(t),(u=n.Po.get(e))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,cf(n.localStore,Fr(e))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Um(n,e,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&eh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Um(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:return t.Oo=function(v,y,b){return function(_,S,N,O){return H(this,void 0,void 0,function(){var P,j,q;return $(this,function(nt){switch(nt.label){case 0:return P=S.view._o(N),P.Nn?[4,lf(_.localStore,S.query,!1).then(function(V){var It=V.documents;return S.view._o(It,P)})]:[3,2];case 1:P=nt.sent(),nt.label=2;case 2:return j=O&&O.targetChanges.get(S.targetId),q=S.view.applyChanges(P,_.isPrimaryClient,j),[2,(nv(_,S.targetId,q.To),q.snapshot)]}})})}(t,v,y,b)},[4,lf(t.localStore,e,!0)];case 1:return o=g.sent(),u=new jS(e,o.Bn),a=u._o(o.documents),l=Tm.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),f=u.applyChanges(a,t.isPrimaryClient,l),nv(t,n,f.To),d=new hF(e,n,u),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),f.snapshot)]}})})}function vF(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return n=ot(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Za(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Hs(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),La(n.remoteStore,i.targetId),zs(n,i.targetId)}).catch(Mo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return zs(n,i.targetId),[4,Hs(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function mF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=Hm(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var g,v=ot(f),y=On.now(),b=d.reduce(function(_,S){return _.add(S.key)},fe());return v.persistence.runTransaction("Locally write mutations","readwrite",function(_){return v.Mn.pn(_,b).next(function(S){g=S;for(var N=[],O=0,P=d;O<P.length;O++){var j=P[O],q=$L(j,g.get(j.key));q!=null&&N.push(new Fi(j.key,q,FT(q.value.mapValue),an.exists(!0)))}return v._n.addMutationBatch(_,y,N,d)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(i.localStore,e)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var v=f.xo[f.currentUser.toKey()];v||(v=new fn(zt)),v=v.insert(d,g),f.xo[f.currentUser.toKey()]=v}(i,o.batchId,n),[4,ji(i,o.changes)];case 3:return l.sent(),[4,ou(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=uu(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function US(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=ot(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,RM(n.localStore,e)];case 2:return i=o.sent(),e.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Nt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Nt(l.bo):u.removedDocuments.size>0&&(Nt(l.bo),l.bo=!1))}),[4,ji(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,Mo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function bE(t,e,n){var i=ot(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ot(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,g){for(var v=0,y=g.listeners;v<y.length;v++)y[v].zr(a)&&(f=!0)}),f&&Vm(l)}(i.eventManager,e),o.length&&i.vo._r(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function yF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:return(i=ot(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(u=o&&o.key)?(a=(a=new fn(bt.comparator)).insert(u,ln.newNoDocument(u,$t.min())),l=fe().add(u),f=new Im($t.min(),new Map,new qe(zt),a,l),[4,US(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(e),$m(i),[3,4];case 2:return[4,Hs(i.localStore,e,!1).then(function(){return zs(i,e,n)}).catch(Mo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function wF(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:n=ot(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,OM(n.localStore,e)];case 2:return o=u.sent(),qm(n,i,null),Bm(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,ji(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Mo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function bF(t,e,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:i=ot(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ot(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,l).next(function(v){return Nt(v!==null),g=v.keys(),f._n.removeMutationBatch(d,v)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(i.localStore,e)];case 2:return o=u.sent(),qm(i,e,n),Bm(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,ji(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Mo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function _F(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){switch(l.label){case 0:Vi((n=ot(t)).remoteStore)||tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ot(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=uu(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Bm(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function qm(t,e,n){var i=ot(t),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.xo[i.currentUser.toKey()]=o}}function zs(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,o=t.Vo.get(e);i<o.length;i++){var u=o[i];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||BS(t,a)})}function BS(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(La(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),$m(t))}function nv(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof FS?(t.No.addReference(u.key,e),EF(t,u)):u instanceof VS?(tt("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||BS(t,u.key)):yt()}}function EF(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(tt("SyncEngine","New document in limbo: "+n),t.So.add(i),$m(t))}function $m(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bt(ee.fromString(e)),i=t.Fo.next();t.Co.set(i,new dF(n)),t.Do=t.Do.insert(n,i),eh(t.remoteStore,new Zf(Fr(Ja(n.path)),i,2,zn.o))}}function ji(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:return i=ot(t),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,e,n).then(function(g){if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var v=xM.Pn(d.targetId,g);u.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var g,v,y,b,_,S,N,O,P;return $(this,function(j){switch(j.label){case 0:g=ot(f),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(q){return Y.forEach(d,function(nt){return Y.forEach(nt.bn,function(V){return g.persistence.referenceDelegate.addReference(q,nt.targetId,V)}).next(function(){return Y.forEach(nt.vn,function(V){return g.persistence.referenceDelegate.removeReference(q,nt.targetId,V)})})})})];case 2:return j.sent(),[3,4];case 3:if(!Lo(v=j.sent()))throw v;return tt("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(y=0,b=d;y<b.length;y++)_=b[y],S=_.targetId,_.fromCache||(N=g.kn.get(S),O=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(O),g.kn=g.kn.insert(S,P));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function IF(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=ot(t)).currentUser.isEqual(e)?[3,3]:(tt("SyncEngine","User change. New user:",e.toKey()),[4,TS(n.localStore,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new G(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,ji(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function TF(t,e){var n=ot(t),i=n.Co.get(e);if(i&&i.bo)return fe().add(i.key);var o=fe(),u=n.Vo.get(e);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function SF(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return[4,lf((n=ot(t)).localStore,e.query,!0)];case 1:return i=u.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&nv(n,e.targetId,o.To),o)]}})})}function AF(t){return H(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,NS((e=ot(t)).localStore).then(function(i){return ji(e,i)})]})})}function NF(t,e,n,i){return H(this,void 0,void 0,function(){var o,u;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ot(l),g=ot(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return g.jt(v,f).next(function(y){return y?d.Mn.pn(v,y):Y.resolve(null)})})}((o=ot(t)).localStore,e)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,ou(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(qm(o,e,i||null),Bm(o,e),function(l,f){ot(ot(l)._n).Gt(f)}(o.localStore,e)):yt(),a.label=4;case 4:return[4,ji(o,u)];case 5:return a.sent(),[3,7];case 6:tt("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function kF(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:return Km(n=ot(t)),Hm(n),e!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,_E(n,i.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,ev(n.remoteStore,!0)];case 2:for(g.sent(),u=0,a=o;u<a.length;u++)l=a[u],eh(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(v,y){n.sharedClientState.isLocalQueryTarget(y)?f.push(y):d=d.then(function(){return zs(n,y),Hs(n.localStore,y,!0)}),La(n.remoteStore,y)}),[4,d]);case 4:return g.sent(),[4,_E(n,f)];case 5:return g.sent(),function(v){var y=ot(v);y.Co.forEach(function(b,_){La(y.remoteStore,_)}),y.No.ts(),y.Co=new Map,y.Do=new fn(bt.comparator)}(n),n.$o=!1,[4,ev(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function _E(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,v,y,b,_,S,N;return $(this,function(O){switch(O.label){case 0:i=ot(t),o=[],u=[],a=0,l=e,O.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(g=i.Vo.get(f))&&g.length!==0?[4,cf(i.localStore,Fr(g[0]))]:[3,7]):[3,13];case 2:d=O.sent(),v=0,y=g,O.label=3;case 3:return v<y.length?(b=y[v],_=i.Po.get(b),[4,SF(i,_)]):[3,6];case 4:(S=O.sent()).snapshot&&u.push(S.snapshot),O.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,AS(i.localStore,f)];case 8:return N=O.sent(),[4,cf(i.localStore,N)];case 9:return d=O.sent(),[4,Um(i,qS(N),f,!1)];case 10:O.sent(),O.label=11;case 11:o.push(d),O.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function qS(t){return jT(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xF(t){var e=ot(t);return ot(ot(e.localStore).persistence).fn()}function CF(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,a;return $(this,function(l){switch(l.label){case 0:return(o=ot(t)).$o?(tt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,NS(o.localStore)];case 3:return u=l.sent(),a=Im.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,ji(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,Hs(o.localStore,e,!0)];case 6:return l.sent(),zs(o,e,i),[3,8];case 7:yt(),l.label=8;case 8:return[2]}})})}function OF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,v,y;return $(this,function(b){switch(b.label){case 0:if(!(i=Km(t)).$o)return[3,10];o=0,u=e,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(tt("SyncEngine","Adding an already active target "+a),[3,5]):[4,AS(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,cf(i.localStore,l)];case 3:return f=b.sent(),[4,Um(i,qS(l),f.targetId,!1)];case 4:b.sent(),eh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return $(this,function(S){switch(S.label){case 0:return i.Vo.has(_)?[4,Hs(i.localStore,_,!1).then(function(){La(i.remoteStore,_),zs(i,_)}).catch(Mo)]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})},g=0,v=n,b.label=7;case 7:return g<v.length?(y=v[g],[5,d(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Km(t){var e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yF.bind(null,e),e.vo._r=lF.bind(null,e.eventManager),e.vo.Mo=fF.bind(null,e.eventManager),e}function Hm(t){var e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bF.bind(null,e),e}var $S=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=th(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return IS(this.persistence,new ES,e.initialUser,this.R)},t.prototype.qo=function(e){return new BM($M.bs,this.R)},t.prototype.Bo=function(e){return new kS},t.prototype.terminate=function(){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),KS=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Tt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,LM(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Hm(this.Qo.syncEngine)];case 4:return o.sent(),[4,ou(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return IS(this.persistence,new ES,n.initialUser,this.R)},e.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new EM(i,n.asyncQueue)},e.prototype.qo=function(n){var i=Cm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new kM(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,xS(),Pl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new kS},e}($S),RF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Tt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return $(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof cg?(this.sharedClientState.syncEngine={ui:NF.bind(null,i),ai:CF.bind(null,i),hi:OF.bind(null,i),fn:xF.bind(null,i),ci:AF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,kF(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var i=xS();if(!cg.yt(i))throw new G(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Cm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new cg(i,n.asyncQueue,o,n.clientId,n.initialUser)},e}(KS),rv=function(){function t(){}return t.prototype.initialize=function(e,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return bE(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=IF.bind(null,this.syncEngine),[4,ev(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new cF},t.prototype.createDatastore=function(e){var n,i=th(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new WM(n));return function(u,a,l){return new YM(u,a,l)}(e.credentials,o,i)},t.prototype.createRemoteStore=function(e){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=e.asyncQueue,u=function(f){return bE(l.syncEngine,f,0)},a=yE.yt()?new yE:new HM,new ZM(n,i,o,u,a)},t.prototype.createSyncEngine=function(e,n){return function(i,o,u,a,l,f,d){var g=new pF(i,o,u,a,l,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ot(e),tt("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,iu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nh=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}(),DF=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new G(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return H(this,void 0,void 0,function(){var l,f,d,g,v,y;return $(this,function(b){switch(b.label){case 0:return l=ot(u),f=Pa(l.R)+"/documents",d={documents:a.map(function(_){return Da(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return g=b.sent(),v=new Map,g.forEach(function(_){var S=function(N,O){return"found"in O?function(P,j){Nt(!!j.found),j.found.name,j.found.updateTime;var q=Gr(P,j.found.name),nt=_n(j.found.updateTime),V=new Kn({mapValue:{fields:j.found.fields}});return ln.newFoundDocument(q,nt,V)}(N,O):"missing"in O?function(P,j){Nt(!!j.missing),Nt(!!j.readTime);var q=Gr(P,j.missing),nt=_n(j.readTime);return ln.newNoDocument(q,nt)}(N,O):yt()}(l.R,_);v.set(S.key.toString(),S)}),y=[],[2,(a.forEach(function(_){var S=v.get(_.toString());Nt(!!S),y.push(S)}),y)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new rc(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return H(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var a=bt.fromPath(u);n.mutations.push(new Em(a,n.precondition(a)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var a,l,f;return $(this,function(d){switch(d.label){case 0:return a=ot(o),l=Pa(a.R)+"/documents",f={writes:u.map(function(g){return sf(a.R,g)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yt();n=$t.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new G(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?an.updateTime(n):an.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($t.min()))throw new G(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),PF=function(){function t(e,n,i,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new Rm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return H(e,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){return n=new DF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!Po(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!YT(n)}return!1},t}(),LF=function(){function t(e,n,i){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=OT.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return H(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return tt("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return $(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(e,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=uu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){return H(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),i=n.initialUser,t.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,TS(e.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function zS(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,zm(t)];case 1:return n=o.sent(),tt("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(u){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return $(this,function(g){switch(g.label){case 0:return(f=ot(a)).asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials"),d=Vi(f),f.Or.add(3),[4,iu(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,ic(f)];case 3:return g.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function zm(t){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(tt("FirestoreClient","Using default OfflineComponentProvider"),[4,HS(t,new $S)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function rh(t){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(tt("FirestoreClient","Using default OnlineComponentProvider"),[4,zS(t,new rv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function EE(t){return zm(t).then(function(e){return e.persistence})}function GS(t){return zm(t).then(function(e){return e.localStore})}function IE(t){return rh(t).then(function(e){return e.remoteStore})}function WS(t){return rh(t).then(function(e){return e.syncEngine})}function Gs(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:return[4,rh(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=gF.bind(null,e.syncEngine),n.onUnlisten=vF.bind(null,e.syncEngine),n)]}})})}function TE(t,e,n){var i=this;n===void 0&&(n={});var o=new Pn;return t.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,v){var y=new nh({next:function(_){f.enqueueAndForget(function(){return Fm(l,b)});var S=_.docs.has(d);!S&&_.fromCache?v.reject(new G(D.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&g&&g.source==="server"?v.reject(new G(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),b=new jm(Ja(d.path),y,{includeMetadataChanges:!0,so:!0});return Mm(l,b)},[4,Gs(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function SE(t,e,n){var i=this;n===void 0&&(n={});var o=new Pn;return t.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,v){var y=new nh({next:function(_){f.enqueueAndForget(function(){return Fm(l,b)}),_.fromCache&&g.source==="server"?v.reject(new G(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),b=new jm(d,y,{includeMetadataChanges:!0,so:!0});return Mm(l,b)},[4,Gs(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var MF=function(t,e,n,i,o,u,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},df=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),AE=new Map,QS=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},NE=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Qe.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),FF=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var i=this;this.changeListener=n,e.enqueueRetryable(function(){return n(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),VF=function(){function t(e){var n=this;this.currentUser=Qe.UNAUTHENTICATED,this.oc=new Pn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){tt("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?i(o):(tt("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.cc!==n?(tt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(Nt(typeof o.accessToken=="string"),new QS(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string"),new Qe(e)},t}(),jF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Qe.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),UF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new jF(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Qe.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t,e,n){if(!n)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Wm(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G(D.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function XS(t,e,n,i){if(e===!0&&i===!0)throw new G(D.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function kE(t){if(!bt.isDocumentKey(t))throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function xE(t){if(bt.isDocumentKey(t))throw new G(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":yt()}function ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ih(t);throw new G(D.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function CE(t,e){if(e<=0)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OE=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,XS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Ma=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OE({}),this._settingsFrozen=!1,e instanceof df?(this._databaseId=e,this._credentials=new NE):(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new G(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new df(i.options.projectId)}(e),this._credentials=new VF(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OE(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new NE;switch(n.type){case"gapi":var i=n.client;return Nt(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new UF(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new G(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=AE.get(e))&&(tt("ComponentProvider","Removing Datastore"),AE.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Ee=function(){function t(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ci(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Qn=function(){function t(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ci=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,Ja(o))||this)._path=o,u.type="collection",u}return Tt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ee(this.firestore,null,new bt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Me(t),Gm("collection","path",e),t instanceof Ma)return xE(n=ee.fromString.apply(ee,Ae([e],i))),new Ci(t,null,n);if(!(t instanceof Ee||t instanceof Ci))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xE(n=ee.fromString.apply(ee,Ae([t.path],i)).child(ee.fromString(e))),new Ci(t.firestore,null,n)}function Ll(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Me(t),arguments.length===1&&(e=OT.u()),Gm("doc","path",e),t instanceof Ma)return kE(n=ee.fromString.apply(ee,Ae([e],i))),new Ee(t,null,new bt(n));if(!(t instanceof Ee||t instanceof Ci))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kE(n=t._path.child(ee.fromString.apply(ee,Ae([e],i)))),new Ee(t.firestore,t instanceof Ci?t.converter:null,new bt(n))}function JS(t,e){return t=Me(t),e=Me(e),(t instanceof Ee||t instanceof Ci)&&(e instanceof Ee||e instanceof Ci)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ZS(t,e){return t=Me(t),e=Me(e),t instanceof Qn&&e instanceof Qn&&t.firestore===e.firestore&&Za(t._query,e._query)&&t.converter===e.converter}var BF=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Rm(this,"async_queue_retry"),this.Ic=function(){var i=Pl();i&&tt("AsyncQueue","Visibility state changed to "+i.visibilityState),e.Zi.Gi()};var n=Pl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Pl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Pn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return H(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Lo(e=i.sent()))throw e;return tt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,i=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,Pe("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(e,n,i){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=uF.createAndSchedule(this,e,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&yt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return H(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),e!=="all"&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Ws(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(t)}var qF=-1,Be=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).type="firestore",o._queue=new BF,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Tt(e,t),e.prototype._terminate=function(){return this._firestoreClient||tA(this),this._firestoreClient.terminate()},e}(Ma);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t._firestoreClient||tA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tA(t){var e,n=t._freezeSettings(),i=function(o,u,a,l){return new MF(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new LF(t._credentials,t._queue,i)}function RE(t,e,n){var i=this,o=new Pn;return t.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,HS(t,n)];case 1:return a.sent(),[4,zS(t,e)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function DE(t){if(t._initialized||t._terminated)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;++i)if(e[i].length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Co=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Dn.fromBase64String(e))}catch(n){throw new G(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Dn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Fo=function(t){this._methodName=t},oh=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return zt(this._lat,e._lat)||zt(this._long,e._long)},t}(),$F=/^__.*__$/,KF=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new nc(e,this.data,n,this.fieldTransforms)},t}(),eA=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}var rA=function(){function t(e,n,i,o,u,a){this.settings=e,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return pf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(nA(this.Nc)&&$F.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),HF=function(){function t(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=i||th(e)}return t.prototype.Uc=function(e,n,i,o){return o===void 0&&(o=!1),new rA({Nc:e,methodName:n,qc:i,path:yr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Vo(t){var e=t._freezeSettings(),n=th(t._databaseId);return new HF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sh(t,e,n,i,o,u){u===void 0&&(u={});var a=t.Uc(u.merge||u.mergeFields?2:0,e,n,o);Jm("Data must be an object, but it was:",a,i);var l,f,d=sA(i,a);if(u.merge)l=new Ps(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var g=[],v=0,y=u.mergeFields;v<y.length;v++){var b=iv(e,y[v],n);if(!a.contains(b))throw new G(D.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");aA(g,b)||g.push(b)}l=new Ps(g),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new KF(new Kn(d),l,f)}var Qm=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Fo);function iA(t,e,n){return new rA({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var zF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype._toFieldTransform=function(n){return new ec(n.path,new Vs)},e.prototype.isEqual=function(n){return n instanceof e},e}(Fo),GF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=iA(this,n,!0),o=this.Kc.map(function(a){return jo(a,i)}),u=new ko(o);return new ec(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(Fo),WF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=iA(this,n,!0),o=this.Kc.map(function(a){return jo(a,i)}),u=new xo(o);return new ec(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(Fo),QF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Qc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=new js(n.R,HT(n.R,this.Qc));return new ec(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(Fo);function Xm(t,e,n,i){var o=t.Uc(1,e,n);Jm("Data must be an object, but it was:",o,i);var u=[],a=Kn.empty();Do(i,function(f,d){var g=Zm(e,f,n);d=Me(d);var v=o.Oc(g);if(d instanceof Qm)u.push(g);else{var y=jo(d,v);y!=null&&(u.push(g),a.set(g,y))}});var l=new Ps(u);return new eA(a,l,o.fieldTransforms)}function Ym(t,e,n,i,o,u){var a=t.Uc(1,e,n),l=[iv(e,i,n)],f=[o];if(u.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(iv(e,u[d])),f.push(u[d+1]);for(var g=[],v=Kn.empty(),y=l.length-1;y>=0;--y)if(!aA(g,l[y])){var b=l[y],_=f[y];_=Me(_);var S=a.Oc(b);if(_ instanceof Qm)g.push(b);else{var N=jo(_,S);N!=null&&(g.push(b),v.set(b,N))}}var O=new Ps(g);return new eA(v,O,a.fieldTransforms)}function oA(t,e,n,i){return i===void 0&&(i=!1),jo(n,t.Uc(i?4:3,e))}function jo(t,e){if(uA(t=Me(t)))return Jm("Unsupported field value:",e,t),sA(t,e);if(t instanceof Fo)return function(n,i){if(!nA(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=jo(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return HT(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=On.fromDate(n);return{timestampValue:Ra(i.R,o)}}if(n instanceof On)return o=new On(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ra(i.R,o)};if(n instanceof oh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Co)return{bytesValue:eS(i.R,n._byteString)};if(n instanceof Ee){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Sm(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+ih(n))}(t,e)}function sA(t,e){var n={};return DT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,function(i,o){var u=jo(o,e.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function uA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof On||t instanceof oh||t instanceof Co||t instanceof Ee||t instanceof Fo)}function Jm(t,e,n){if(!uA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=ih(n);throw i==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function iv(t,e,n){if((e=Me(e))instanceof Pr)return e._internalPath;if(typeof e=="string")return Zm(t,e);throw pf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var XF=new RegExp("[~\\*/\\[\\]]");function Zm(t,e,n){if(e.search(XF)>=0)throw pf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Pr.bind.apply(Pr,Ae([void 0],e.split("."))))()._internalPath}catch{throw pf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function pf(t,e,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new G(D.INVALID_ARGUMENT,(l+=". ")+t+f)}function aA(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fa=function(){function t(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ee(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new YF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(gf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),YF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Fa);function gf(t,e){return typeof e=="string"?Zm(t,e):e instanceof Pr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Qr=function(t){function e(n,i,o,u,a,l){var f=this;return(f=t.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Tt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new ca(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(gf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},e}(Fa),ca=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Qr),Ii=function(){function t(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this._snapshot.docs.forEach(function(o){e.call(n,new ca(i._firestore,i._userDataWriter,o.key,o,new vo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new ca(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new ca(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,g=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(g=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:JF(l.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function JF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function cA(t,e){return t instanceof Qr&&e instanceof Qr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ii&&e instanceof Ii&&t._firestore===e._firestore&&ZS(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){if(of(t)&&t.explicitOrderBy.length===0)throw new G(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oc=function(){};function pi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++){var u=o[i];t=u._apply(t)}return t}var ZF=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Tt(e,t),e.prototype._apply=function(n){var i=Vo(n.firestore),o=function(u,a,l,f,d,g,v){var y;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new G(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){VE(v,g);for(var b=[],_=0,S=v;_<S.length;_++){var N=S[_];b.push(FE(f,u,N))}y={arrayValue:{values:b}}}else y=FE(f,u,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||VE(v,g),y=oA(l,"where",v,g==="in"||g==="not-in");var O=Gn.create(d,g,y);return function(P,j){if(j.g()){var q=bm(P);if(q!==null&&!q.isEqual(j.field))throw new G(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+q.toString()+"' and '"+j.field.toString()+"'");var nt=wm(P);nt!==null&&hA(P,j.field,nt)}var V=function(It,W){for(var ht=0,A=It.filters;ht<A.length;ht++){var Wt=A[ht];if(W.indexOf(Wt.op)>=0)return Wt.op}return null}(P,function(It){switch(It){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(V!==null)throw V===j.op?new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+j.op.toString()+"' filter."):new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+j.op.toString()+"' filters with '"+V.toString()+"' filters.")}(u,O),O}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Qn(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new ti(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},e}(oc),tV=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Tt(e,t),e.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new As(u,a);return function(f,d){if(wm(f)===null){var g=bm(f);g!==null&&hA(f,g,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Qn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new ti(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(oc),PE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Tt(e,t),e.prototype._apply=function(n){return new Qn(n.firestore,n.converter,UT(n._query,this.Hc,this.Jc))},e}(oc),LE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Tt(e,t),e.prototype._apply=function(n){var i=fA(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(o,u){return new ti(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},e}(oc),ME=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Tt(e,t),e.prototype._apply=function(n){var i=fA(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(o,u){return new ti(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},e}(oc);function fA(t,e,n,i){if(n[0]=Me(n[0]),n[0]instanceof Fa)return function(u,a,l,f,d){if(!f)throw new G(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],v=0,y=Fs(u);v<y.length;v++){var b=y[v];if(b.field.isKeyField())g.push(ef(a,f.key));else{var _=f.data.field(b.field);if(vm(_))throw new G(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var S=b.field.canonicalString();throw new G(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+S+"' (used as the orderBy) does not exist.")}g.push(_)}}return new Oa(g,d)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=Vo(t.firestore);return function(u,a,l,f,d,g){var v=u.explicitOrderBy;if(d.length>v.length)throw new G(D.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],b=0;b<d.length;b++){var _=d[b];if(v[b].field.isKeyField()){if(typeof _!="string")throw new G(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!_m(u)&&_.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var S=u.path.child(ee.fromString(_));if(!bt.isDocumentKey(S))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+S+"' is not because it contains an odd number of segments.");var N=new bt(S);y.push(ef(a,N))}else{var O=oA(l,f,_);y.push(O)}}return new Oa(y,g)}(t._query,t.firestore._databaseId,o,e,n,i)}function FE(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!_m(e)&&n.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(ee.fromString(n));if(!bt.isDocumentKey(i))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return ef(t,new bt(i))}if(n instanceof Ee)return ef(t,n._key);throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ih(n)+".")}function VE(t,e){if(!Array.isArray(t)||t.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new G(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function hA(t,e,n){if(!n.isEqual(e))throw new G(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ty=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw yt()}},t.prototype.convertObject=function(e,n){var i=this,o={};return Do(e.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},t.prototype.convertGeoPoint=function(e){return new oh(De(e.latitude),De(e.longitude))},t.prototype.convertArray=function(e,n){var i=this;return(e.values||[]).map(function(o){return i.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var i=LT(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(xa(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Ri(e);return new On(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var i=ee.fromString(e);Nt(cS(i));var o=new df(i.get(1),i.get(3)),u=new bt(i.popFirst(5));return o.isEqual(n)||Pe("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var eV=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new Co(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(ty),nV=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vo(e)}return t.prototype.set=function(e,n,i){this._verifyNotCommitted();var o=Ti(e,this._firestore),u=uh(o.converter,n,i),a=sh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,an.none())),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Ti(e,this._firestore);return a=typeof(n=Me(n))=="string"||n instanceof Pr?Ym(this._dataReader,"WriteBatch.update",l._key,n,i,o):Xm(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,an.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ti(e,this._firestore);return this._mutations=this._mutations.concat(new rc(n._key,an.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new G(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,e){if((t=Me(t)).firestore!==e)throw new G(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new Co(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(ty);function jE(t,e,n){t=ne(t,Ee);var i=ne(t.firestore,Be),o=uh(t.converter,e,n);return sc(i,[sh(Vo(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,an.none())])}function UE(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=ne(t,Ee);var u=ne(t.firestore,Be),a=Vo(u);return sc(u,[(typeof(e=Me(e))=="string"||e instanceof Pr?Ym(a,"updateDoc",t._key,e,n,i):Xm(a,"updateDoc",t._key,e)).toMutation(t._key,an.exists(!0))])}function dA(t){for(var e,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];t=Me(t);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ws(o[l])||(a=o[l],l++);var f,d,g,v={includeMetadataChanges:a.includeMetadataChanges};if(Ws(o[l])){var y=o[l];o[l]=(e=y.next)===null||e===void 0?void 0:e.bind(y),o[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),o[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(t instanceof Ee)d=ne(t.firestore,Be),g=Ja(t._key.path),f={next:function(S){o[l]&&o[l](ov(d,t,S))},error:o[l+1],complete:o[l+2]};else{var b=ne(t,Qn);d=ne(b.firestore,Be),g=b._query;var _=new _o(d);f={next:function(S){o[l]&&o[l](new Ii(d,_,b,S))},error:o[l+1],complete:o[l+2]},lA(t._query)}return function(S,N,O,P){var j=this,q=new nh(P),nt=new jm(N,q,O);return S.asyncQueue.enqueueAndForget(function(){return H(j,void 0,void 0,function(){var V;return $(this,function(It){switch(It.label){case 0:return V=Mm,[4,Gs(S)];case 1:return[2,V.apply(void 0,[It.sent(),nt])]}})})}),function(){q.Wo(),S.asyncQueue.enqueueAndForget(function(){return H(j,void 0,void 0,function(){var V;return $(this,function(It){switch(It.label){case 0:return V=Fm,[4,Gs(S)];case 1:return[2,V.apply(void 0,[It.sent(),nt])]}})})})}}(sn(d),g,v,f)}function sc(t,e){return function(n,i){var o=this,u=new Pn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=mF,[4,WS(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(sn(t),e)}function ov(t,e,n){var i=n.docs.get(e._key),o=new _o(t);return new Qr(t,o,e._key,i,new vo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rV=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this)._firestore=n,o}return Tt(e,t),e.prototype.get=function(n){var i=this,o=Ti(n,this._firestore),u=new _o(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Qr(i._firestore,u,o._key,a._document,new vo(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Vo(e)}return t.prototype.get=function(e){var n=this,i=Ti(e,this._firestore),o=new eV(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return yt();var a=u[0];if(a.isFoundDocument())return new Fa(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Fa(n._firestore,o,i._key,null,i.converter);throw yt()})},t.prototype.set=function(e,n,i){var o=Ti(e,this._firestore),u=uh(o.converter,n,i),a=sh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Ti(e,this._firestore);return a=typeof(n=Me(n))=="string"||n instanceof Pr?Ym(this._dataReader,"Transaction.update",l._key,n,i,o):Xm(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=Ti(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){if(typeof Uint8Array>"u")throw new G(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function qE(){if(typeof atob>"u")throw new G(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pA=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return qE(),new t(Co.fromBase64String(e))},t.fromUint8Array=function(e){return BE(),new t(Co.fromUint8Array(e))},t.prototype.toBase64=function(){return qE(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return BE(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),iV=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(i,o){DE(i=ne(i,Be));var u=sn(i),a=i._freezeSettings(),l=new rv;return RE(u,l,new KS(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){DE(n=ne(n,Be));var i=sn(n),o=n._freezeSettings(),u=new rv;return RE(i,u,new RF(u,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new G(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Pn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return qs.yt()?(f=l+"main",[4,qs.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(Cm(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),gA=function(){function t(e,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof df||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||Zl("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=ne(o,Ma))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&Zl("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var g,v;if(typeof l.mockUserToken=="string")g=l.mockUserToken,v=Qe.MOCK_USER;else{g=AD(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!y)throw new G(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Qe(y)}o._credentials=new FF(new QS(g,v))}}(this._delegate,e,n,i)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,EE(e)];case 1:return i=u.sent(),[4,IE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ot(a);return l.Or.delete(0),ic(l)}(o))]}})})})}(sn(ne(this._delegate,Be)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,EE(e)];case 1:return i=u.sent(),[4,IE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ot(a)).Or.add(0),[4,iu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(sn(ne(this._delegate,Be)))},t.prototype.enablePersistence=function(e){var n=!1,i=!1;return e&&XS("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,i=new Pn;return e.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:return o=_F,[4,WS(e)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(sn(ne(this._delegate,Be)))},t.prototype.onSnapshotsInSync=function(e){return function(n,i){return function(o,u){var a=this,l=new nh(u);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(g,v){ot(g).Gr.add(v),v.next()},[4,Gs(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(g,v){ot(g).Gr.delete(v)},[4,Gs(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(sn(n=ne(n,Be)),Ws(i)?i:{next:i})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new vf(this,YS(this._delegate,e))}catch(n){throw gn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Eo(this,Ll(this._delegate,e))}catch(n){throw gn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new lh(this,function(n,i){if(n=ne(n,Ma),Gm("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qn(n,null,function(o){return new ti(ee.emptyPath(),o)}(i))}(this._delegate,e))}catch(n){throw gn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(i,o){return function(u,a){var l=this,f=new Pn;return u.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return $(this,function(g){switch(g.label){case 0:return[4,function(v){return rh(v).then(function(y){return y.datastore})}(u)];case 1:return d=g.sent(),new PF(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(sn(i),function(u){return o(new rV(i,u))})}(this._delegate,function(i){return e(new vA(n,i))})},t.prototype.batch=function(){var e=this;return sn(this._delegate),new mA(new nV(this._delegate,function(n){return sc(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new G(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new G(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ah=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new pA(new Co(n))},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Eo.eu(i,this.firestore,null)},e}(ty);function oV(t){var e;e=t,gr.setLogLevel(e)}var vA=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ah(e)}return t.prototype.get=function(e){var n=this,i=mo(e);return this._delegate.get(i).then(function(o){return new Va(n._firestore,new Qr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(e,n,i){var o=mo(e);return i?(Wm("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=mo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ae([l,n,i],u)),this},t.prototype.delete=function(e){var n=mo(e);return this._delegate.delete(n),this},t}(),mA=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,i){var o=mo(e);return i?(Wm("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=mo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ae([l,n,i],u)),this},t.prototype.delete=function(e){var n=mo(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),ch=function(){function t(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}return t.prototype.fromFirestore=function(e,n){var i=new ca(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ja(this._firestore,i),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var i=t.su,o=i.get(e);o||(o=new WeakMap,i.set(e,o));var u=o.get(n);return u||(u=new t(e,new ah(e),n),o.set(n,u)),u},t}();ch.su=new WeakMap;var Eo=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ah(e)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ee(n._delegate,i,new bt(e)))},t.eu=function(e,n,i){return new t(n,new Ee(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new vf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new vf(this.firestore,YS(this._delegate,e))}catch(n){throw gn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Me(e))instanceof Ee&&JS(this._delegate,e)},t.prototype.set=function(e,n){n=Wm("DocumentReference.set",n);try{return n?jE(this._delegate,e,n):jE(this._delegate,e)}catch(i){throw gn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?UE(this._delegate,e):UE.apply(void 0,Ae([this._delegate,e,n],i))}catch(u){throw gn(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return sc(ne((e=this._delegate).firestore,Be),[new rc(e._key,an.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=yA(n),u=wA(n,function(a){return new Va(e.firestore,new Qr(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return dA(this._delegate,o,u)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ne(i,Ee);var o=ne(i.firestore,Be),u=sn(o),a=new _o(o);return function(l,f){var d=this,g=new Pn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var v;return $(this,function(y){switch(y.label){case 0:return v=function(b,_,S){return H(this,void 0,void 0,function(){var N,O;return $(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(j,q){var nt=ot(j);return nt.persistence.runTransaction("read document","readonly",function(V){return nt.Mn.mn(V,q)})}(b,_)];case 1:return(O=P.sent()).isFoundDocument()?S.resolve(O):O.isNoDocument()?S.resolve(null):S.reject(new G(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=P.sent(),O=uu(N,"Failed to get document '"+_+" from cache"),S.reject(O),[3,3];case 3:return[2]}})})},[4,GS(l)];case 1:return[2,v.apply(void 0,[y.sent(),f,g])]}})})}),g.promise}(u,i._key).then(function(l){return new Qr(o,a,i._key,l,new vo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ne(i,Ee);var o=ne(i.firestore,Be);return TE(sn(o),i._key,{source:"server"}).then(function(u){return ov(o,i,u)})}(this._delegate):function(i){i=ne(i,Ee);var o=ne(i.firestore,Be);return TE(sn(o),i._key).then(function(u){return ov(o,i,u)})}(this._delegate)).then(function(i){return new Va(n.firestore,new Qr(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ch.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function gn(t,e,n){return t.message=t.message.replace(e,n),t}function yA(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(typeof i=="object"&&!Ws(i))return i}return{}}function wA(t,e){var n,i,o;return{next:function(u){o.next&&o.next(e(u))},error:(n=(o=Ws(t[0])?t[0]:Ws(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Va=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Eo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return cA(this._delegate,e._delegate)},t}(),ja=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Va),lh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ah(e)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,pi(this._delegate,function(o,u,a){var l=u,f=gf("where",o);return new ZF(f,l,a)}(e,n,i)))}catch(o){throw gn(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,pi(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=gf("orderBy",i);return new tV(a,u)}(e,n)))}catch(i){throw gn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,pi(this._delegate,function(n){return CE("limit",n),new PE("limit",n,"F")}(e)))}catch(n){throw gn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,pi(this._delegate,function(n){return CE("limitToLast",n),new PE("limitToLast",n,"L")}(e)))}catch(n){throw gn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LE("startAt",i,!0)}).apply(void 0,e)))}catch(i){throw gn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LE("startAfter",i,!1)}).apply(void 0,e)))}catch(i){throw gn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new ME("endBefore",i,!0)}).apply(void 0,e)))}catch(i){throw gn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,pi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new ME("endAt",i,!1)}).apply(void 0,e)))}catch(i){throw gn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return ZS(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ne(i,Qn);var o=ne(i.firestore,Be),u=sn(o),a=new _o(o);return function(l,f){var d=this,g=new Pn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var v;return $(this,function(y){switch(y.label){case 0:return v=function(b,_,S){return H(this,void 0,void 0,function(){var N,O,P,j,q;return $(this,function(nt){switch(nt.label){case 0:return nt.trys.push([0,2,,3]),[4,lf(b,_,!0)];case 1:return q=nt.sent(),N=new jS(_,q.Bn),O=N._o(q.documents),P=N.applyChanges(O,!1),S.resolve(P.snapshot),[3,3];case 2:return j=nt.sent(),q=uu(j,"Failed to execute query '"+_+" against cache"),S.reject(q),[3,3];case 3:return[2]}})})},[4,GS(l)];case 1:return[2,v.apply(void 0,[y.sent(),f,g])]}})})}),g.promise}(u,i._query).then(function(l){return new Ii(o,a,i,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ne(i,Qn);var o=ne(i.firestore,Be),u=sn(o),a=new _o(o);return SE(u,i._query,{source:"server"}).then(function(l){return new Ii(o,a,i,l)})}(this._delegate):function(i){i=ne(i,Qn);var o=ne(i.firestore,Be),u=sn(o),a=new _o(o);return lA(i._query),SE(u,i._query).then(function(l){return new Ii(o,a,i,l)})}(this._delegate)).then(function(i){return new sv(n.firestore,new Ii(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=yA(n),u=wA(n,function(a){return new sv(e.firestore,new Ii(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return dA(this._delegate,o,u)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(ch.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),sV=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new ja(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),sv=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new lh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new ja(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(i){return new sV(n._firestore,i)})},t.prototype.forEach=function(e,n){var i=this;this._delegate.forEach(function(o){e.call(n,new ja(i._firestore,o))})},t.prototype.isEqual=function(e){return cA(this._delegate,e._delegate)},t}(),vf=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Tt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Eo(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Eo(this.firestore,n===void 0?Ll(this._delegate):Ll(this._delegate,n))}catch(i){throw gn(i,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var i=this;return function(o,u){var a=ne(o.firestore,Be),l=Ll(o),f=uh(o.converter,u);return sc(a,[sh(Vo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,an.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Eo(i.firestore,o)})},e.prototype.isEqual=function(n){return JS(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(ch.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(lh);function mo(t){return ne(t,Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uV=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Pr.bind.apply(Pr,Ae([void 0],e)))}return t.documentId=function(){return new t(yr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Me(e))instanceof Pr&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),aV=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new zF("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Qm("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new GF("arrayUnion",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new WF("arrayRemove",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(i){return new QF("increment",i)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),cV={Firestore:gA,GeoPoint:oh,Timestamp:On,Blob:pA,Transaction:vA,WriteBatch:mA,DocumentReference:Eo,DocumentSnapshot:Va,Query:lh,QueryDocumentSnapshot:ja,QuerySnapshot:sv,CollectionReference:vf,FieldPath:uV,FieldValue:aV,setLogLevel:oV,CACHE_SIZE_UNLIMITED:qF};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){(function(e,n){e.INTERNAL.registerComponent(new Lf("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},cV)))})(t,function(e,n){return new gA(e,new Be(e,n),new iV)}),t.registerVersion("@firebase/firestore","2.4.1")}lV(xt);const fV={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};xt.initializeApp(fV);const la=xt.auth(),hV=xt.firestore(),dV=hV.collection("users"),fh=_1("user",{state:()=>({userLoggedIn:!1}),actions:{async register(t){const e=await la.createUserWithEmailAndPassword(t.email,t.password),n={name:t.name,email:t.email,age:t.age,country:t.country,phone:t.phone};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]===null||n[i]==="")&&delete n[i]}),await dV.doc(e.user.uid).set({userData:n}),await e.user.updateProfile({displayName:t.name}),this.userLoggedIn=!0},async authenticate(t){await la.signInWithEmailAndPassword(t.email,t.password),this.userLoggedIn=!0},async signOut(){await la.signOut(),this.userLoggedIn=!1}}}),ei=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},pV={name:"AppHeader",computed:{...yD(ql,fh),...Bv(ql,["isOpen"])},methods:{toggleAuthModal(){this.isOpen=!this.isOpen}}},gV={id:"header",class:"w-full"},vV={class:"container mx-auto flex items-center py-5 px-4"},mV=rt("a",{class:"text-[#1ed760] font-bold text-2xl justify-center hover:scale-105",href:"#"},"Musicfy",-1),yV={class:"flex flex-grow items-center justify-end"},wV={class:"flex flex-row mt-1 gap-1"},bV=rt("li",{class:"p-1 pr-2 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},[rt("a",{class:"text-white text-sm flex gap-1 items-center",href:"https://www.spotify.com/es/download/windows/",target:"_blank"},[rt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[rt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),ba(" Install app ")])],-1),_V={key:0,class:"p-1 pr-2 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},EV=rt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[rt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),IV={class:"p-1 pr-2 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},TV=rt("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[rt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),SV=Fv('<li class="p-1 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"><a class="text-white" href="#"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></a></li>',1);function AV(t,e,n,i,o,u){return He(),wn("header",gV,[rt("nav",vV,[mV,rt("div",yV,[rt("ul",wV,[bV,t.userStore.userLoggedIn?(He(),wn(kn,{key:1},[rt("li",IV,[rt("a",{class:"text-white text-sm flex gap-1 items-center",href:"#",onClick:e[1]||(e[1]=Bl((...a)=>t.userStore.signOut&&t.userStore.signOut(...a),["prevent"]))},[TV,ba(" Logout ")])]),SV],64)):(He(),wn("li",_V,[rt("a",{class:"text-white text-sm flex gap-1 items-center",href:"#",onClick:e[0]||(e[0]=Bl((...a)=>u.toggleAuthModal&&u.toggleAuthModal(...a),["prevent"]))},[EV,ba(" Login/Register ")])]))])])])])}const NV=ei(pV,[["render",AV]]),kV={data(){return{currentTime:93,durationTime:186}},computed:{currentTimePercentage(){return this.currentTime/this.durationTime*100+"%"}}},xV={class:"fixed bottom-0 left-0 bg-black px-4 py-4 w-full flex flex-nowrap"},CV=rt("div",{class:"text-white flex flex-col justify-center items-center"},[rt("p",{class:"song-title font-bold"},"Song Title"),rt("p",{class:"song-artist"},"by Artist")],-1),OV={class:"text-white grow flex flex-col gap-0.5"},RV=rt("button",{type:"button"},[rt("p",{class:"fa fa-play-circle text-white text-3xl hover:scale-110"})],-1),DV={class:"flex flex-nowrap gap-3 justify-center items-center"},PV=rt("div",{class:"player-currenttime text-xs secondary-text"},"00:00",-1),LV={class:"group w-80 h-1 rounded bg-neutral-700 relative cursor-pointer"},MV=rt("i",{class:"fas fa-circle"},null,-1),FV=[MV],VV=rt("div",{class:"player-duration text-xs secondary-text"},"03:06",-1);function jV(t,e,n,i,o,u){return He(),wn("div",xV,[CV,rt("div",OV,[RV,rt("div",DV,[PV,rt("div",LV,[rt("span",{class:"absolute -top-1.5 -ml-2.5 text-white text-xs opacity-0 group-hover:opacity-100",style:pa({left:u.currentTimePercentage})},FV,4),rt("span",{class:"block h-1 rounded bg-white group-hover:bg-gradient-to-r from-green-500 to-green-400",style:pa({width:u.currentTimePercentage})},null,4)]),VV])])])}const UV=ei(kV,[["render",jV]]),BV={},qV={class:"container mx-auto"},$V=Fv('<div class="bg-gray900 flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-neutral-300 border-opacity-10"><span class="card-title secondary-text">Title</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 float-right secondary-text"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><ol id="playlist"><li class="flex justify-between items-center p-2 pl-6 cursor-pointer transition duration-800 rounded-md hover:bg-neutral-800"><div><a href="#" class="font-bold block text-gray-100">Song Title</a><span class="secondary-text text-sm">Artist Name</span></div><div class="text-gray-100 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 rounded-md hover:bg-neutral-800"><div><a href="#" class="font-bold block text-gray-100">Song Title</a><span class="text-gray-300 text-sm">Artist Name</span></div><div class="text-gray-100 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li></ol></div>',1),KV=[$V];function HV(t,e){return He(),wn("section",qV,KV)}const zV=ei(BV,[["render",HV]]),uv="/musicfy/assets/img/liked-songs-300.png",$E="/musicfy/assets/img/liked-songs-640.png",GV={},WV=uv+" 150w, "+uv+" 300w, "+$E+" 320w, "+$E+" 640w",QV={class:"mb-10 py-20 text-white text-center relative"},XV=Fv('<div class="container mx-auto flex"><img aria-hidden="false" draggable="false" loading="eager" src="'+uv+'" alt="Liked songs" class="" srcset="'+WV+'" sizes="(min-width: 1280px) 232px, 192px"><div class="text-white main-header-content ml-5 flex-col self-end"><h4 class="text-left text-sm">Playlist</h4><h1 class="text-left font-bold text-5xl mb-5">Liked songs</h1><p class="text-left"><span class="font-bold">Username</span> N songs</p></div></div>',1),YV=[XV];function JV(t,e){return He(),wn("section",QV,YV)}const ZV=ei(GV,[["render",JV]]),tj={name:"LoginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Your account is being created. "}},methods:{...E1(fh,["authenticate"]),async login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(t)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.login_alert_variant="bg-[#1ed760]",this.login_alert_msg="Success! Login completed.",window.location.reload()}}},ej={class:"mb-3"},nj=rt("label",{class:"inline-block mb-2"},"Email",-1),rj={class:"mb-3"},ij=rt("label",{class:"inline-block mb-2"},"Password",-1),oj=["disabled"];function sj(t,e,n,i,o,u){const a=$n("VeeField"),l=$n("ErrorMessage"),f=$n("VeeForm");return He(),wn(kn,null,[o.login_show_alert?(He(),wn("div",{key:0,class:Dr(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},vg(o.login_alert_msg),3)):p1("",!0),Bt(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:u.login},{default:ys(()=>[rt("div",ej,[nj,Bt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),Bt(l,{class:"text-red-600 block",name:"email"})]),rt("div",rj,[ij,Bt(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Password"}),Bt(l,{class:"text-red-600 block",name:"password"})]),rt("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,oj)]),_:1},8,["validation-schema","onSubmit"])],64)}const uj=ei(tj,[["render",sj]]),aj={name:"RegisterForm",data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",age:"required|min_value:14|max_value:120",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},showPassword:!1,showConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_success_msg:"Success! Your account has been created.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500",reg_success_variant:"bg-[#1ed760]"}},computed:{},methods:{async register(t){this.initRegisterAlert();try{await this.createUser(t)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.reg_alert_variant=this.reg_success_variant,this.reg_alert_msg=this.reg_success_msg,window.location.reload()},...E1(fh,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},cj={class:""},lj=rt("label",{class:"select-none"},"Name",-1),fj={class:""},hj=rt("label",{class:"select-none"},"Email",-1),dj={class:""},pj=rt("label",{class:"select-none"},"Phone",-1),gj={class:""},vj=rt("label",{class:"select-none"},"Age",-1),mj={class:""},yj=rt("label",{class:"select-none"},"Password",-1),wj={class:"flex items-center"},bj=["type"],_j={class:""},Ej=rt("label",{class:"select-none"},"Confirm Password",-1),Ij={class:"flex items-center"},Tj=["type"],Sj={class:""},Aj=rt("label",{class:"select-none"},"Country",-1),Nj=rt("option",{value:"Argentina"},"Argentina",-1),kj=rt("option",{value:"United States"},"United States",-1),xj=rt("option",{value:"Spain"},"Spain",-1),Cj=rt("option",{value:"Germany"},"Germany",-1),Oj=rt("option",{value:"Antarctica"},"Antarctica",-1),Rj={class:"mb-3 pl-6"},Dj={class:"inline-block hover:cursor-pointer"},Pj=rt("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function Lj(t,e,n,i,o,u){const a=$n("VeeField"),l=$n("ErrorMessage"),f=$n("VeeForm");return He(),wn(kn,null,[o.reg_show_alert?(He(),wn("div",{key:0,class:Dr(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},vg(o.reg_alert_msg),3)):p1("",!0),Bt(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:u.register,"initial-values":o.userData},{default:ys(()=>[rt("div",cj,[lj,Bt(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),Bt(l,{class:"text-red-600",name:"name"})]),rt("div",fj,[hj,Bt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),Bt(l,{class:"text-red-600",name:"email"})]),rt("div",dj,[pj,Bt(a,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your phone"}),Bt(l,{class:"text-red-600",name:"phone"})]),rt("div",gj,[vj,Bt(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your age"}),Bt(l,{class:"text-red-600",name:"age"})]),rt("div",mj,[yj,Bt(a,{name:"password",bails:!1},{default:ys(({field:d,errors:g})=>[rt("div",wj,[rt("input",kg(d,{placeholder:"Enter new Password",type:o.showPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,bj),rt("i",{onClick:e[0]||(e[0]=v=>o.showPassword=!o.showPassword),class:Dr(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.showPassword,"fa-regular fa-eye":!o.showPassword}])},null,2)]),(He(!0),wn(kn,null,uR(g,v=>(He(),wn("div",{class:"text-red-600",key:v},vg(v),1))),128))]),_:1})]),rt("div",_j,[Ej,Bt(a,{name:"confirmPassword",bails:!1},{default:ys(({field:d})=>[rt("div",Ij,[rt("input",kg(d,{type:o.showConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),null,16,Tj),rt("i",{onClick:e[1]||(e[1]=g=>o.showConfirmPassword=!o.showConfirmPassword),class:Dr(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.showConfirmPassword,"fa-regular fa-eye":!o.showConfirmPassword}])},null,2)])]),_:1}),Bt(l,{class:"text-red-600",name:"confirmPassword"})]),rt("div",Sj,[Aj,Bt(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:ys(()=>[Nj,kj,xj,Cj,Oj]),_:1}),Bt(l,{class:"text-red-600",name:"country"})]),rt("div",Rj,[rt("label",Dj,[Bt(a,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),ba(" Accept terms of service")]),Bt(l,{class:"text-red-600 block",name:"tos"})]),Pj]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Mj=ei(aj,[["render",Lj]]),Fj={name:"AppAuth",components:{AppLoginForm:uj,AppRegisterForm:Mj},data(){return{tab:"login"}},computed:{...wD(ql,["hiddenClass"]),...Bv(ql,{modalVisibility:"isOpen"})},methods:{}},Vj={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},jj=rt("div",{class:"fixed inset-0 transition-opacity"},[rt("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),Uj=rt("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),Bj={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},qj={class:"py-4 text-left px-6"},$j={class:"flex justify-between items-center pb-4"},Kj=rt("p",{class:"text-2xl font-bold"},"Your Account",-1),Hj=rt("i",{class:"fas fa-times"},null,-1),zj=[Hj],Gj={class:"flex flex-wrap mb-4 gap-2"},Wj={class:"flex-auto text-center"},Qj={class:"flex-auto text-center"};function Xj(t,e,n,i,o,u){const a=$n("AppLoginForm"),l=$n("AppRegisterForm");return He(),wn("div",{class:Dr(["fixed z-10 inset-0 overflow-y-auto",t.hiddenClass]),id:"modal"},[rt("div",Vj,[jj,Uj,rt("div",Bj,[rt("div",qj,[rt("div",$j,[Kj,rt("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=f=>t.modalVisibility=!1)},zj)]),rt("ul",Gj,[rt("li",Wj,[rt("a",{class:Dr(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:e[1]||(e[1]=Bl(f=>o.tab="login",["prevent"]))},"Login",2)]),rt("li",Qj,[rt("a",{class:Dr(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:e[2]||(e[2]=Bl(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(He(),Ag(a,{key:0})):(He(),Ag(l,{key:1}))])])])],2)}const Yj=ei(Fj,[["render",Xj]]),Jj={name:"App",components:{AppHeader:NV,AppPlaylistHeader:ZV,AppPlaylist:zV,AppPlayer:UV,AppAuth:Yj},computed:{...Bv(fh,["userLoggedIn"])},created(){la.currentUser&&(this.userLoggedIn=!0)}};function Zj(t,e,n,i,o,u){const a=$n("AppHeader"),l=$n("AppPlaylistHeader"),f=$n("AppPlaylist"),d=$n("AppPlayer"),g=$n("AppAuth");return He(),wn(kn,null,[Bt(a),Bt(l),Bt(f),Bt(d),Bt(g)],64)}const t2=ei(Jj,[["render",Zj]]),e2="modulepreload",n2=function(t){return"/musicfy/"+t},KE={},r2=function(e,n,i){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(u=>{if(u=n2(u),u in KE)return;KE[u]=!0;const a=u.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let g=o.length-1;g>=0;g--){const v=o[g];if(v.href===u&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":e2,a||(d.as="script",d.crossOrigin=""),d.href=u,document.head.appendChild(d),a)return new Promise((g,v)=>{d.addEventListener("load",g),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>e()).catch(u=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=u,window.dispatchEvent(a),!a.defaultPrevented)throw u})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ms=typeof window<"u";function i2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ie=Object.assign;function lg(t,e){const n={};for(const i in e){const o=e[i];n[i]=wr(o)?o.map(t):t(o)}return n}const fa=()=>{},wr=Array.isArray,o2=/\/$/,s2=t=>t.replace(o2,"");function fg(t,e,n="/"){let i,o={},u="",a="";const l=e.indexOf("#");let f=e.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=e.slice(0,f),u=e.slice(f+1,l>-1?l:e.length),o=t(u)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=l2(i??e,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function u2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function HE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function a2(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Qs(e.matched[i],n.matched[o])&&bA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Qs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function bA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!c2(t[n],e[n]))return!1;return!0}function c2(t,e){return wr(t)?zE(t,e):wr(e)?zE(e,t):t===e}function zE(t,e){return wr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function l2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var Ua;(function(t){t.pop="pop",t.push="push"})(Ua||(Ua={}));var ha;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ha||(ha={}));function f2(t){if(!t)if(ms){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),s2(t)}const h2=/^[^#]+#/;function d2(t,e){return t.replace(h2,"#")+e}function p2(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const hh=()=>({left:window.pageXOffset,top:window.pageYOffset});function g2(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=p2(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function GE(t,e){return(history.state?history.state.position-e:-1)+t}const av=new Map;function v2(t,e){av.set(t,e)}function m2(t){const e=av.get(t);return av.delete(t),e}let y2=()=>location.protocol+"//"+location.host;function _A(t,e){const{pathname:n,search:i,hash:o}=e,u=t.indexOf("#");if(u>-1){let l=o.includes(t.slice(u))?t.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),HE(f,"")}return HE(n,t)+i+o}function w2(t,e,n,i){let o=[],u=[],a=null;const l=({state:y})=>{const b=_A(t,location),_=n.value,S=e.value;let N=0;if(y){if(n.value=b,e.value=y,a&&a===_){a=null;return}N=S?y.position-S.position:0}else i(b);o.forEach(O=>{O(n.value,_,{delta:N,type:Ua.pop,direction:N?N>0?ha.forward:ha.back:ha.unknown})})};function f(){a=n.value}function d(y){o.push(y);const b=()=>{const _=o.indexOf(y);_>-1&&o.splice(_,1)};return u.push(b),b}function g(){const{history:y}=window;y.state&&y.replaceState(ie({},y.state,{scroll:hh()}),"")}function v(){for(const y of u)y();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:d,destroy:v}}function WE(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?hh():null}}function b2(t){const{history:e,location:n}=window,i={value:_A(t,n)},o={value:e.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(f,d,g){const v=t.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+f:y2()+t+f;try{e[g?"replaceState":"pushState"](d,"",y),o.value=d}catch(b){console.error(b),n[g?"replace":"assign"](y)}}function a(f,d){const g=ie({},e.state,WE(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,g,!0),i.value=f}function l(f,d){const g=ie({},o.value,e.state,{forward:f,scroll:hh()});u(g.current,g,!0);const v=ie({},WE(i.value,f,null),{position:g.position+1},d);u(f,v,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function _2(t){t=f2(t);const e=b2(t),n=w2(t,e.state,e.location,e.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=ie({location:"",base:t,go:i,createHref:d2.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function E2(t){return typeof t=="string"||t&&typeof t=="object"}function EA(t){return typeof t=="string"||typeof t=="symbol"}const gi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},IA=Symbol("");var QE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(QE||(QE={}));function Xs(t,e){return ie(new Error,{type:t,[IA]:!0},e)}function $r(t,e){return t instanceof Error&&IA in t&&(e==null||!!(t.type&e))}const XE="[^/]+?",I2={sensitive:!1,strict:!1,start:!0,end:!0},T2=/[.+*?^${}()[\]/\\]/g;function S2(t,e){const n=ie({},I2,e),i=[];let o=n.start?"^":"";const u=[];for(const d of t){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let v=0;v<d.length;v++){const y=d[v];let b=40+(n.sensitive?.25:0);if(y.type===0)v||(o+="/"),o+=y.value.replace(T2,"\\$&"),b+=40;else if(y.type===1){const{value:_,repeatable:S,optional:N,regexp:O}=y;u.push({name:_,repeatable:S,optional:N});const P=O||XE;if(P!==XE){b+=10;try{new RegExp(`(${P})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+q.message)}}let j=S?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(j=N&&d.length<2?`(?:/${j})`:"/"+j),N&&(j+="?"),o+=j,b+=20,N&&(b+=-8),S&&(b+=-20),P===".*"&&(b+=-50)}g.push(b)}i.push(g)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const g=d.match(a),v={};if(!g)return null;for(let y=1;y<g.length;y++){const b=g[y]||"",_=u[y-1];v[_.name]=b&&_.repeatable?b.split("/"):b}return v}function f(d){let g="",v=!1;for(const y of t){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const b of y)if(b.type===0)g+=b.value;else if(b.type===1){const{value:_,repeatable:S,optional:N}=b,O=_ in d?d[_]:"";if(wr(O)&&!S)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=wr(O)?O.join("/"):O;if(!P)if(N)y.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${_}"`);g+=P}}return g||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function A2(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function N2(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const u=A2(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(YE(i))return 1;if(YE(o))return-1}return o.length-i.length}function YE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const k2={type:0,value:""},x2=/[a-zA-Z0-9_]/;function C2(t){if(!t)return[[]];if(t==="/")return[[k2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",g="";function v(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),d="")}function y(){d+=f}for(;l<t.length;){if(f=t[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&v(),a()):f===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:f==="("?n=2:x2.test(f)?y():(v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),v(),a(),o}function O2(t,e,n){const i=S2(C2(t.path),n),o=ie(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function R2(t,e){const n=[],i=new Map;e=tI({strict:!1,end:!0,sensitive:!1},e);function o(g){return i.get(g)}function u(g,v,y){const b=!y,_=D2(g);_.aliasOf=y&&y.record;const S=tI(e,g),N=[_];if("alias"in g){const j=typeof g.alias=="string"?[g.alias]:g.alias;for(const q of j)N.push(ie({},_,{components:y?y.record.components:_.components,path:q,aliasOf:y?y.record:_}))}let O,P;for(const j of N){const{path:q}=j;if(v&&q[0]!=="/"){const nt=v.record.path,V=nt[nt.length-1]==="/"?"":"/";j.path=v.record.path+(q&&V+q)}if(O=O2(j,v,S),y?y.alias.push(O):(P=P||O,P!==O&&P.alias.push(O),b&&g.name&&!ZE(O)&&a(g.name)),_.children){const nt=_.children;for(let V=0;V<nt.length;V++)u(nt[V],O,y&&y.children[V])}y=y||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&f(O)}return P?()=>{a(P)}:fa}function a(g){if(EA(g)){const v=i.get(g);v&&(i.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&i.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function l(){return n}function f(g){let v=0;for(;v<n.length&&N2(g,n[v])>=0&&(g.record.path!==n[v].record.path||!TA(g,n[v]));)v++;n.splice(v,0,g),g.record.name&&!ZE(g)&&i.set(g.record.name,g)}function d(g,v){let y,b={},_,S;if("name"in g&&g.name){if(y=i.get(g.name),!y)throw Xs(1,{location:g});S=y.record.name,b=ie(JE(v.params,y.keys.filter(P=>!P.optional).map(P=>P.name)),g.params&&JE(g.params,y.keys.map(P=>P.name))),_=y.stringify(b)}else if("path"in g)_=g.path,y=n.find(P=>P.re.test(_)),y&&(b=y.parse(_),S=y.record.name);else{if(y=v.name?i.get(v.name):n.find(P=>P.re.test(v.path)),!y)throw Xs(1,{location:g,currentLocation:v});S=y.record.name,b=ie({},v.params,g.params),_=y.stringify(b)}const N=[];let O=y;for(;O;)N.unshift(O.record),O=O.parent;return{name:S,path:_,params:b,matched:N,meta:L2(N)}}return t.forEach(g=>u(g)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function JE(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function D2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:P2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function P2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function ZE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function L2(t){return t.reduce((e,n)=>ie(e,n.meta),{})}function tI(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function TA(t,e){return e.children.some(n=>n===t||TA(t,n))}const SA=/#/g,M2=/&/g,F2=/\//g,V2=/=/g,j2=/\?/g,AA=/\+/g,U2=/%5B/g,B2=/%5D/g,NA=/%5E/g,q2=/%60/g,kA=/%7B/g,$2=/%7C/g,xA=/%7D/g,K2=/%20/g;function ey(t){return encodeURI(""+t).replace($2,"|").replace(U2,"[").replace(B2,"]")}function H2(t){return ey(t).replace(kA,"{").replace(xA,"}").replace(NA,"^")}function cv(t){return ey(t).replace(AA,"%2B").replace(K2,"+").replace(SA,"%23").replace(M2,"%26").replace(q2,"`").replace(kA,"{").replace(xA,"}").replace(NA,"^")}function z2(t){return cv(t).replace(V2,"%3D")}function G2(t){return ey(t).replace(SA,"%23").replace(j2,"%3F")}function W2(t){return t==null?"":G2(t).replace(F2,"%2F")}function mf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Q2(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(AA," "),a=u.indexOf("="),l=mf(a<0?u:u.slice(0,a)),f=a<0?null:mf(u.slice(a+1));if(l in e){let d=e[l];wr(d)||(d=e[l]=[d]),d.push(f)}else e[l]=f}return e}function eI(t){let e="";for(let n in t){const i=t[n];if(n=z2(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(wr(i)?i.map(u=>u&&cv(u)):[i&&cv(i)]).forEach(u=>{u!==void 0&&(e+=(e.length?"&":"")+n,u!=null&&(e+="="+u))})}return e}function X2(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=wr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const Y2=Symbol(""),nI=Symbol(""),ny=Symbol(""),CA=Symbol(""),lv=Symbol("");function Wu(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function wi(t,e,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=v=>{v===!1?l(Xs(4,{from:n,to:e})):v instanceof Error?l(v):E2(v)?l(Xs(2,{from:e,to:v})):(u&&i.enterCallbacks[o]===u&&typeof v=="function"&&u.push(v),a())},d=t.call(i&&i.instances[o],e,n,f);let g=Promise.resolve(d);t.length<3&&(g=g.then(f)),g.catch(v=>l(v))})}function hg(t,e,n,i){const o=[];for(const u of t)for(const a in u.components){let l=u.components[a];if(!(e!=="beforeRouteEnter"&&!u.instances[a]))if(J2(l)){const d=(l.__vccOpts||l)[e];d&&o.push(wi(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const g=i2(d)?d.default:d;u.components[a]=g;const y=(g.__vccOpts||g)[e];return y&&wi(y,n,i,u,a)()}))}}return o}function J2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function rI(t){const e=rr(ny),n=rr(CA),i=qt(()=>e.resolve(Gt(t.to))),o=qt(()=>{const{matched:f}=i.value,{length:d}=f,g=f[d-1],v=n.matched;if(!g||!v.length)return-1;const y=v.findIndex(Qs.bind(null,g));if(y>-1)return y;const b=iI(f[d-2]);return d>1&&iI(g)===b&&v[v.length-1].path!==b?v.findIndex(Qs.bind(null,f[d-2])):y}),u=qt(()=>o.value>-1&&nU(n.params,i.value.params)),a=qt(()=>o.value>-1&&o.value===n.matched.length-1&&bA(n.params,i.value.params));function l(f={}){return eU(f)?e[Gt(t.replace)?"replace":"push"](Gt(t.to)).catch(fa):Promise.resolve()}return{route:i,href:qt(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const Z2=Ba({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:rI,setup(t,{slots:e}){const n=Yr(rI(t)),{options:i}=rr(ny),o=qt(()=>({[oI(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[oI(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=e.default&&e.default(n);return t.custom?u:Cs("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),tU=Z2;function eU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function nU(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!wr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function iI(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const oI=(t,e,n)=>t??e??n,rU=Ba({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=rr(lv),o=qt(()=>t.route||i.value),u=rr(nI,0),a=qt(()=>{let d=Gt(u);const{matched:g}=o.value;let v;for(;(v=g[d])&&!v.components;)d++;return d}),l=qt(()=>o.value.matched[a.value]);Ss(nI,qt(()=>a.value+1)),Ss(Y2,l),Ss(lv,o);const f=vn();return Wn(()=>[f.value,l.value,t.name],([d,g,v],[y,b,_])=>{g&&(g.instances[v]=d,b&&b!==g&&d&&d===y&&(g.leaveGuards.size||(g.leaveGuards=b.leaveGuards),g.updateGuards.size||(g.updateGuards=b.updateGuards))),d&&g&&(!b||!Qs(g,b)||!y)&&(g.enterCallbacks[v]||[]).forEach(S=>S(d))},{flush:"post"}),()=>{const d=o.value,g=t.name,v=l.value,y=v&&v.components[g];if(!y)return sI(n.default,{Component:y,route:d});const b=v.props[g],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,N=Cs(y,ie({},_,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(v.instances[g]=null)},ref:f}));return sI(n.default,{Component:N,route:d})||N}}});function sI(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const iU=rU;function oU(t){const e=R2(t.routes,t),n=t.parseQuery||Q2,i=t.stringifyQuery||eI,o=t.history,u=Wu(),a=Wu(),l=Wu(),f=BI(gi);let d=gi;ms&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=lg.bind(null,R=>""+R),v=lg.bind(null,W2),y=lg.bind(null,mf);function b(R,U){let J,ut;return EA(R)?(J=e.getRecordMatcher(R),ut=U):ut=R,e.addRoute(ut,J)}function _(R){const U=e.getRecordMatcher(R);U&&e.removeRoute(U)}function S(){return e.getRoutes().map(R=>R.record)}function N(R){return!!e.getRecordMatcher(R)}function O(R,U){if(U=ie({},U||f.value),typeof R=="string"){const C=fg(n,R,U.path),M=e.resolve({path:C.path},U),F=o.createHref(C.fullPath);return ie(C,M,{params:y(M.params),hash:mf(C.hash),redirectedFrom:void 0,href:F})}let J;if("path"in R)J=ie({},R,{path:fg(n,R.path,U.path).path});else{const C=ie({},R.params);for(const M in C)C[M]==null&&delete C[M];J=ie({},R,{params:v(C)}),U.params=v(U.params)}const ut=e.resolve(J,U),Rt=R.hash||"";ut.params=g(y(ut.params));const I=u2(i,ie({},R,{hash:H2(Rt),path:ut.path})),T=o.createHref(I);return ie({fullPath:I,hash:Rt,query:i===eI?X2(R.query):R.query||{}},ut,{redirectedFrom:void 0,href:T})}function P(R){return typeof R=="string"?fg(n,R,f.value.path):ie({},R)}function j(R,U){if(d!==R)return Xs(8,{from:U,to:R})}function q(R){return It(R)}function nt(R){return q(ie(P(R),{replace:!0}))}function V(R){const U=R.matched[R.matched.length-1];if(U&&U.redirect){const{redirect:J}=U;let ut=typeof J=="function"?J(R):J;return typeof ut=="string"&&(ut=ut.includes("?")||ut.includes("#")?ut=P(ut):{path:ut},ut.params={}),ie({query:R.query,hash:R.hash,params:"path"in ut?{}:R.params},ut)}}function It(R,U){const J=d=O(R),ut=f.value,Rt=R.state,I=R.force,T=R.replace===!0,C=V(J);if(C)return It(ie(P(C),{state:typeof C=="object"?ie({},Rt,C.state):Rt,force:I,replace:T}),U||J);const M=J;M.redirectedFrom=U;let F;return!I&&a2(i,ut,J)&&(F=Xs(16,{to:M,from:ut}),Ve(ut,ut,!0,!1)),(F?Promise.resolve(F):A(M,ut)).catch(z=>$r(z)?$r(z,2)?z:Ie(z):gt(z,M,ut)).then(z=>{if(z){if($r(z,2))return It(ie({replace:T},P(z.to),{state:typeof z.to=="object"?ie({},Rt,z.to.state):Rt,force:I}),U||M)}else z=oe(M,ut,!0,T,Rt);return Wt(M,ut,z),z})}function W(R,U){const J=j(R,U);return J?Promise.reject(J):Promise.resolve()}function ht(R){const U=Mn.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(R):R()}function A(R,U){let J;const[ut,Rt,I]=sU(R,U);J=hg(ut.reverse(),"beforeRouteLeave",R,U);for(const C of ut)C.leaveGuards.forEach(M=>{J.push(wi(M,R,U))});const T=W.bind(null,R,U);return J.push(T),vt(J).then(()=>{J=[];for(const C of u.list())J.push(wi(C,R,U));return J.push(T),vt(J)}).then(()=>{J=hg(Rt,"beforeRouteUpdate",R,U);for(const C of Rt)C.updateGuards.forEach(M=>{J.push(wi(M,R,U))});return J.push(T),vt(J)}).then(()=>{J=[];for(const C of I)if(C.beforeEnter)if(wr(C.beforeEnter))for(const M of C.beforeEnter)J.push(wi(M,R,U));else J.push(wi(C.beforeEnter,R,U));return J.push(T),vt(J)}).then(()=>(R.matched.forEach(C=>C.enterCallbacks={}),J=hg(I,"beforeRouteEnter",R,U),J.push(T),vt(J))).then(()=>{J=[];for(const C of a.list())J.push(wi(C,R,U));return J.push(T),vt(J)}).catch(C=>$r(C,8)?C:Promise.reject(C))}function Wt(R,U,J){l.list().forEach(ut=>ht(()=>ut(R,U,J)))}function oe(R,U,J,ut,Rt){const I=j(R,U);if(I)return I;const T=U===gi,C=ms?history.state:{};J&&(ut||T?o.replace(R.fullPath,ie({scroll:T&&C&&C.scroll},Rt)):o.push(R.fullPath,Rt)),f.value=R,Ve(R,U,J,T),Ie()}let se;function ce(){se||(se=o.listen((R,U,J)=>{if(!dt.listening)return;const ut=O(R),Rt=V(ut);if(Rt){It(ie(Rt,{replace:!0}),ut).catch(fa);return}d=ut;const I=f.value;ms&&v2(GE(I.fullPath,J.delta),hh()),A(ut,I).catch(T=>$r(T,12)?T:$r(T,2)?(It(T.to,ut).then(C=>{$r(C,20)&&!J.delta&&J.type===Ua.pop&&o.go(-1,!1)}).catch(fa),Promise.reject()):(J.delta&&o.go(-J.delta,!1),gt(T,ut,I))).then(T=>{T=T||oe(ut,I,!1),T&&(J.delta&&!$r(T,8)?o.go(-J.delta,!1):J.type===Ua.pop&&$r(T,20)&&o.go(-1,!1)),Wt(ut,I,T)}).catch(fa)}))}let Qt=Wu(),st=Wu(),Lt;function gt(R,U,J){Ie(R);const ut=st.list();return ut.length?ut.forEach(Rt=>Rt(R,U,J)):console.error(R),Promise.reject(R)}function he(){return Lt&&f.value!==gi?Promise.resolve():new Promise((R,U)=>{Qt.add([R,U])})}function Ie(R){return Lt||(Lt=!R,ce(),Qt.list().forEach(([U,J])=>R?J(R):U()),Qt.reset()),R}function Ve(R,U,J,ut){const{scrollBehavior:Rt}=t;if(!ms||!Rt)return Promise.resolve();const I=!J&&m2(GE(R.fullPath,0))||(ut||!J)&&history.state&&history.state.scroll||null;return xr().then(()=>Rt(R,U,I)).then(T=>T&&g2(T)).catch(T=>gt(T,R,U))}const Ce=R=>o.go(R);let de;const Mn=new Set,dt={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:N,getRoutes:S,resolve:O,options:t,push:q,replace:nt,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:st.add,isReady:he,install(R){const U=this;R.component("RouterLink",tU),R.component("RouterView",iU),R.config.globalProperties.$router=U,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Gt(f)}),ms&&!de&&f.value===gi&&(de=!0,q(o.location).catch(Rt=>{}));const J={};for(const Rt in gi)Object.defineProperty(J,Rt,{get:()=>f.value[Rt],enumerable:!0});R.provide(ny,U),R.provide(CA,FI(J)),R.provide(lv,f);const ut=R.unmount;Mn.add(R),R.unmount=function(){Mn.delete(R),Mn.size<1&&(d=gi,se&&se(),se=null,f.value=gi,de=!1,Lt=!1),ut()}}};function vt(R){return R.reduce((U,J)=>U.then(()=>ht(J)),Promise.resolve())}return dt}function sU(t,e){const n=[],i=[],o=[],u=Math.max(e.matched.length,t.matched.length);for(let a=0;a<u;a++){const l=e.matched[a];l&&(t.matched.find(d=>Qs(d,l))?i.push(l):n.push(l));const f=t.matched[a];f&&(e.matched.find(d=>Qs(d,f))||o.push(f))}return[n,i,o]}const uU={};function aU(t,e){return He(),wn("h1")}const cU=ei(uU,[["render",aU]]),lU=oU({history:_2("/musicfy/"),routes:[{path:"/",name:"home",component:cU},{path:"/about",name:"about",component:()=>r2(()=>import("./AboutView-0f8a5768.js"),[])}]});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Xe(t){return typeof t=="function"}function OA(t){return t==null}const Oo=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function ry(t){return Number(t)>=0}function fU(t){const e=parseFloat(t);return isNaN(e)?t:e}function hU(t){return typeof t=="object"&&t!==null}function dU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function pU(t){if(!hU(t)||dU(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function yf(t,e){return Object.keys(e).forEach(n=>{if(pU(e[n])){t[n]||(t[n]={}),yf(t[n],e[n]);return}t[n]=e[n]}),t}function ea(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let i=1;i<e.length;i++){if(ry(e[i])){n+=`[${e[i]}]`;continue}n+=`.${e[i]}`}return n}const RA={};function er(t,e){vU(t,e),RA[t]=e}function gU(t){return RA[t]}function vU(t,e){if(!Xe(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}function uI(t,e,n){typeof n.value=="object"&&(n.value=le(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function le(t){if(typeof t!="object")return t;var e=0,n,i,o,u=Object.prototype.toString.call(t);if(u==="[object Object]"?o=Object.create(t.__proto__||null):u==="[object Array]"?o=Array(t.length):u==="[object Set]"?(o=new Set,t.forEach(function(a){o.add(le(a))})):u==="[object Map]"?(o=new Map,t.forEach(function(a,l){o.set(le(l),le(a))})):u==="[object Date]"?o=new Date(+t):u==="[object RegExp]"?o=new RegExp(t.source,t.flags):u==="[object DataView]"?o=new t.constructor(le(t.buffer)):u==="[object ArrayBuffer]"?o=t.slice(0):u.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)uI(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,n=i[e])&&o[n]===t[n]||uI(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}const dh=Symbol("vee-validate-form"),mU=Symbol("vee-validate-field-instance"),wf=Symbol("Default empty value"),yU=typeof window<"u";function fv(t){return Xe(t)&&!!t.__locatorRef}function Pi(t){return!!t&&Xe(t.parse)&&t.__type==="VVTypedSchema"}function bf(t){return!!t&&Xe(t.validate)}function uc(t){return t==="checkbox"||t==="radio"}function wU(t){return Oo(t)||Array.isArray(t)}function bU(t){return Array.isArray(t)?t.length===0:Oo(t)&&Object.keys(t).length===0}function ph(t){return/^\[.+\]$/i.test(t)}function _U(t){return DA(t)&&t.multiple}function DA(t){return t.tagName==="SELECT"}function EU(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function IU(t,e){return!EU(t,e)&&e.type!=="file"&&!uc(e.type)}function PA(t){return iy(t)&&t.target&&"submit"in t.target}function iy(t){return t?!!(typeof Event<"u"&&Xe(Event)&&t instanceof Event||t&&t.srcElement):!1}function aI(t,e){return e in t&&t[e]!==wf}function En(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!En(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!En(i[1],e.get(i[0])))return!1;return!0}if(cI(t)&&cI(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();for(o=Object.keys(t),n=o.length,i=n;i--!==0;){var u=o[i];if(!En(t[u],e[u]))return!1}return!0}return t!==t&&e!==e}function cI(t){return yU?t instanceof File:!1}function oy(t){return ph(t)?t.replace(/\[|\]/gi,""):t}function xn(t,e,n){return t?ph(e)?t[oy(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>wU(o)&&u in o?o[u]:n,t):n}function co(t,e,n){if(ph(e)){t[oy(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let o=t;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||OA(o[i[u]]))&&(o[i[u]]=ry(i[u+1])?[]:{}),o=o[i[u]]}}function dg(t,e){if(Array.isArray(t)&&ry(e)){t.splice(Number(e),1);return}Oo(t)&&delete t[e]}function lI(t,e){if(ph(e)){delete t[oy(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let u=0;u<n.length;u++){if(u===n.length-1){dg(i,n[u]);break}if(!(n[u]in i)||OA(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>xn(t,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(bU(o[u])){if(u===0){dg(t,n[0]);continue}dg(o[u-1],n[u-1])}}function nr(t){return Object.keys(t)}function LA(t,e=void 0){const n=Df();return(n==null?void 0:n.provides[t])||rr(t,e)}function fI(t,e,n){if(Array.isArray(t)){const i=[...t],o=i.findIndex(u=>En(u,e));return o>=0?i.splice(o,1):i.push(e),i}return En(t,e)?n:e}function hI(t,e=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=t(...o);i.forEach(a=>a(u)),i=[]},e),new Promise(u=>i.push(u))}}function TU(t,e){return Oo(e)&&e.number?fU(t):t}function hv(t,e){let n;return async function(...o){const u=t(...o);n=u;const a=await u;return u!==n||(n=void 0,e(a,o)),a}}function dv(t){return Array.isArray(t)?t:t?[t]:[]}function Qu(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function SU(t){let e=null,n=[];return function(...i){const o=xr(()=>{if(e!==o)return;const u=t(...i);n.forEach(a=>a(u)),n=[],e=null});return e=o,new Promise(u=>n.push(u))}}function sy(t,e,n){return e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var i,o;return(o=(i=e.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:e.slots.default}function pg(t){if(MA(t))return t._value}function MA(t){return"_value"in t}function AU(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function _f(t){if(!iy(t))return t;const e=t.target;if(uc(e.type)&&MA(e))return pg(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(_U(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(pg);if(DA(e)){const n=Array.from(e.options).find(i=>i.selected);return n?pg(n):e.value}return AU(e)}function FA(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Oo(t)&&t._$$isNormalized?t:Oo(t)?Object.keys(t).reduce((n,i)=>{const o=NU(t[i]);return t[i]!==!1&&(n[i]=dI(o)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const o=kU(i);return o.name&&(n[o.name]=dI(o.params)),n},e):e}function NU(t){return t===!0?[]:Array.isArray(t)||Oo(t)?t:[t]}function dI(t){const e=n=>typeof n=="string"&&n[0]==="@"?xU(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const kU=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function xU(t){const e=n=>xn(n,t)||n[t];return e.__locatorRef=t,e}function CU(t){return Array.isArray(t)?t.filter(fv):nr(t).filter(e=>fv(t[e])).map(e=>t[e])}const OU={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let pv=Object.assign({},OU);const Si=()=>pv,RU=t=>{pv=Object.assign(Object.assign({},pv),t)},DU=RU;async function VA(t,e,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await PU(o,t)).errors;return{errors:a,valid:!a.length}}async function PU(t,e){if(Pi(t.rules)||bf(t.rules))return MU(e,t.rules);if(Xe(t.rules)||Array.isArray(t.rules)){const a={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},l=Array.isArray(t.rules)?t.rules:[t.rules],f=l.length,d=[];for(let g=0;g<f;g++){const v=l[g],y=await v(e,a);if(!(typeof y!="string"&&!Array.isArray(y)&&y)){if(Array.isArray(y))d.push(...y);else{const _=typeof y=="string"?y:UA(a);d.push(_)}if(t.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},t),{rules:FA(t.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await FU(n,e,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),t.bails))return{errors:i}}return{errors:i}}function LU(t){return!!t&&t.name==="ValidationError"}function jA(t){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await t.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!LU(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function MU(t,e){const i=await(Pi(e)?e:jA(e)).parse(t),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function FU(t,e,n){const i=gU(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=VU(n.params,t.formData),u={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(e,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:UA(u)}}function UA(t){const e=Si().generateMessage;return e?e(t):"Field is invalid"}function VU(t,e){const n=i=>fv(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,o)=>(i[o]=n(t[o]),i),{})}async function jU(t,e){const i=await(Pi(t)?t:jA(t)).parse(le(e)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,g)=>`[${g}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function UU(t,e,n){const o=nr(t).map(async d=>{var g,v,y;const b=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d],_=await VA(xn(e,d),t[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:e,bails:(y=(v=n==null?void 0:n.bailsMap)===null||v===void 0?void 0:v[d])!==null&&y!==void 0?y:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let pI=0;function BU(t,e){const{value:n,initialValue:i,setInitialValue:o}=qU(t,e.modelValue,e.form);if(!e.form){let y=function(b){var _;"value"in b&&(n.value=b.value),"errors"in b&&d(b.errors),"touched"in b&&(v.touched=(_=b.touched)!==null&&_!==void 0?_:v.touched),"initialValue"in b&&o(b.initialValue)};const{errors:f,setErrors:d}=HU(),g=pI>=Number.MAX_SAFE_INTEGER?0:++pI,v=KU(n,i,f);return{id:g,path:t,value:n,initialValue:i,meta:v,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:f,setState:y}}const u=e.form.createPathState(t,{bails:e.bails,label:e.label,type:e.type,validate:e.validate}),a=qt(()=>u.errors);function l(f){var d,g,v;"value"in f&&(n.value=f.value),"errors"in f&&((d=e.form)===null||d===void 0||d.setFieldError(Gt(t),f.errors)),"touched"in f&&((g=e.form)===null||g===void 0||g.setFieldTouched(Gt(t),(v=f.touched)!==null&&v!==void 0?v:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:t,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function qU(t,e,n){const i=vn(Gt(e));function o(){return n?xn(n.initialValues.value,Gt(t),Gt(i)):Gt(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(Gt(t),d,!0)}const a=qt(o);if(!n)return{value:vn(o()),initialValue:a,setInitialValue:u};const l=$U(e,n,a,t);return n.stageInitialValue(Gt(t),l,!0),{value:qt({get(){return xn(n.values,Gt(t))},set(d){n.setFieldValue(Gt(t),d,!1)}}),initialValue:a,setInitialValue:u}}function $U(t,e,n,i){return ae(t)?Gt(t):t!==void 0?t:xn(e.values,Gt(i),Gt(n))}function KU(t,e,n){const i=Yr({touched:!1,pending:!1,valid:!0,validated:!!Gt(n).length,initialValue:qt(()=>Gt(e)),dirty:qt(()=>!En(Gt(t),Gt(e)))});return Wn(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function HU(){const t=vn([]);return{errors:t,setErrors:e=>{t.value=dv(e)}}}function zU(t,e,n){return uc(n==null?void 0:n.type)?WU(t,e,n):BA(t,e,n)}function BA(t,e,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:v,keepValueOnUnmount:y,syncVModel:b,form:_}=GU(n),S=v?LA(dh):void 0,N=_||S,O=qt(()=>ea(_e(t))),P=qt(()=>{if(_e(N==null?void 0:N.schema))return;const vt=Gt(e);return bf(vt)||Pi(vt)||Xe(vt)||Array.isArray(vt)?vt:FA(vt)}),{id:j,value:q,initialValue:nt,meta:V,setState:It,errors:W,flags:ht}=BU(O,{modelValue:i,form:N,bails:u,label:f,type:a,validate:P.value?Qt:void 0}),A=qt(()=>W.value[0]);b&&QU({value:q,prop:b,handleChange:st,shouldValidate:()=>d&&!ht.pendingReset});const Wt=(dt,vt=!1)=>{V.touched=!0,vt&&se()};async function oe(dt){var vt,R;return N!=null&&N.validateSchema?(vt=(await N.validateSchema(dt)).results[_e(O)])!==null&&vt!==void 0?vt:{valid:!0,errors:[]}:P.value?VA(q.value,P.value,{name:_e(O),label:_e(f),values:(R=N==null?void 0:N.values)!==null&&R!==void 0?R:{},bails:u}):{valid:!0,errors:[]}}const se=hv(async()=>(V.pending=!0,V.validated=!0,oe("validated-only")),dt=>{if(!ht.pendingUnmount[de.id])return It({errors:dt.errors}),V.pending=!1,V.valid=dt.valid,dt}),ce=hv(async()=>oe("silent"),dt=>(V.valid=dt.valid,dt));function Qt(dt){return(dt==null?void 0:dt.mode)==="silent"?ce():se()}function st(dt,vt=!0){const R=_f(dt);Ie(R,vt)}Rv(()=>{if(o)return se();(!N||!N.validateSchema)&&ce()});function Lt(dt){V.touched=dt}function gt(dt){var vt;const R=dt&&"value"in dt?dt.value:nt.value;It({value:le(R),initialValue:le(R),touched:(vt=dt==null?void 0:dt.touched)!==null&&vt!==void 0?vt:!1,errors:(dt==null?void 0:dt.errors)||[]}),V.pending=!1,V.validated=!1,ce()}const he=Df();function Ie(dt,vt=!0){q.value=he&&b?TU(dt,he.props.modelModifiers):dt,(vt?se:ce)()}function Ve(dt){It({errors:Array.isArray(dt)?dt:[dt]})}const Ce=qt({get(){return q.value},set(dt){Ie(dt,d)}}),de={id:j,name:O,label:f,value:Ce,meta:V,errors:W,errorMessage:A,type:a,checkedValue:l,uncheckedValue:g,bails:u,keepValueOnUnmount:y,resetField:gt,handleReset:()=>gt(),validate:Qt,handleChange:st,handleBlur:Wt,setState:It,setTouched:Lt,setErrors:Ve,setValue:Ie};if(Ss(mU,de),ae(e)&&typeof Gt(e)!="function"&&Wn(e,(dt,vt)=>{En(dt,vt)||(V.validated?se():ce())},{deep:!0}),!N)return de;const Mn=qt(()=>{const dt=P.value;return!dt||Xe(dt)||bf(dt)||Pi(dt)||Array.isArray(dt)?{}:Object.keys(dt).reduce((vt,R)=>{const U=CU(dt[R]).map(J=>J.__locatorRef).reduce((J,ut)=>{const Rt=xn(N.values,ut)||N.values[ut];return Rt!==void 0&&(J[ut]=Rt),J},{});return Object.assign(vt,U),vt},{})});return Wn(Mn,(dt,vt)=>{if(!Object.keys(dt).length)return;!En(dt,vt)&&(V.validated?se():ce())}),t1(()=>{var dt;const vt=(dt=_e(de.keepValueOnUnmount))!==null&&dt!==void 0?dt:_e(N.keepValuesOnUnmount),R=_e(O);if(vt||!N||ht.pendingUnmount[de.id]){N==null||N.removePathState(R,j);return}ht.pendingUnmount[de.id]=!0;const U=N.getPathState(R);if(Array.isArray(U==null?void 0:U.id)&&(U!=null&&U.multiple)?U!=null&&U.id.includes(de.id):(U==null?void 0:U.id)===de.id){if(U!=null&&U.multiple&&Array.isArray(U.value)){const ut=U.value.findIndex(Rt=>En(Rt,_e(de.checkedValue)));if(ut>-1){const Rt=[...U.value];Rt.splice(ut,1),N.setFieldValue(R,Rt)}Array.isArray(U.id)&&U.id.splice(U.id.indexOf(de.id),1)}else N.unsetPathValue(_e(O));N.removePathState(R,j)}}),de}function GU(t){const e=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(t!=null&&t.syncVModel),i=typeof(t==null?void 0:t.syncVModel)=="string"?t.syncVModel:(t==null?void 0:t.modelPropName)||"modelValue",o=n&&!("initialValue"in(t||{}))?gv(Df(),i):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},e()),{initialValue:o});const u="valueProp"in t?t.valueProp:t.checkedValue,a="standalone"in t?!t.standalone:t.controlled,l=(t==null?void 0:t.modelPropName)||(t==null?void 0:t.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},e()),t||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function WU(t,e,n){const i=n!=null&&n.standalone?void 0:LA(dh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=qt(()=>{const v=_e(l.value),y=_e(o);return Array.isArray(v)?v.findIndex(b=>En(b,y))>=0:En(y,v)});function g(v,y=!0){var b,_;if(d.value===((b=v==null?void 0:v.target)===null||b===void 0?void 0:b.checked)){y&&l.validate();return}const S=_e(t),N=i==null?void 0:i.getPathState(S),O=_f(v);let P=(_=_e(o))!==null&&_!==void 0?_:O;i&&(N!=null&&N.multiple)&&N.type==="checkbox"?P=fI(xn(i.values,S)||[],P,void 0):(n==null?void 0:n.type)==="checkbox"&&(P=fI(_e(l.value),P,_e(u))),f(P,y)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:g})}return a(BA(t,e,n))}function QU({prop:t,value:e,handleChange:n,shouldValidate:i}){const o=Df();if(!o||!t)return;const u=typeof t=="string"?t:"modelValue",a=`update:${u}`;u in o.props&&(Wn(e,l=>{En(l,gv(o,u))||o.emit(a,l)}),Wn(()=>gv(o,u),l=>{if(l===wf&&e.value===void 0)return;const f=l===wf?void 0:l;En(f,e.value)||n(f,i())}))}function gv(t,e){if(t)return t.props[e]}const XU=Ba({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Si().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:wf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=bi(t,"rules"),i=bi(t,"name"),o=bi(t,"label"),u=bi(t,"uncheckedValue"),a=bi(t,"keepValue"),{errors:l,value:f,errorMessage:d,validate:g,handleChange:v,handleBlur:y,setTouched:b,resetField:_,handleReset:S,meta:N,checked:O,setErrors:P}=zU(i,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:JU(t,e),checkedValue:e.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:t.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),j=function(ht,A=!0){v(ht,A)},q=qt(()=>{const{validateOnInput:W,validateOnChange:ht,validateOnBlur:A,validateOnModelUpdate:Wt}=YU(t);function oe(st){y(st,A),Xe(e.attrs.onBlur)&&e.attrs.onBlur(st)}function se(st){j(st,W),Xe(e.attrs.onInput)&&e.attrs.onInput(st)}function ce(st){j(st,ht),Xe(e.attrs.onChange)&&e.attrs.onChange(st)}const Qt={name:t.name,onBlur:oe,onInput:se,onChange:ce};return Qt["onUpdate:modelValue"]=st=>j(st,Wt),Qt}),nt=qt(()=>{const W=Object.assign({},q.value);uc(e.attrs.type)&&O&&(W.checked=O.value);const ht=gI(t,e);return IU(ht,e.attrs)&&(W.value=f.value),W}),V=qt(()=>Object.assign(Object.assign({},q.value),{modelValue:f.value}));function It(){return{field:nt.value,componentField:V.value,value:f.value,meta:N,errors:l.value,errorMessage:d.value,validate:g,resetField:_,handleChange:j,handleInput:W=>j(W,!1),handleReset:S,handleBlur:q.value.onBlur,setTouched:b,setErrors:P}}return e.expose({setErrors:P,setTouched:b,reset:_,validate:g,handleChange:v}),()=>{const W=Pv(gI(t,e)),ht=sy(W,e,It);return W?Cs(W,Object.assign(Object.assign({},e.attrs),nt.value),ht):ht}}});function gI(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function YU(t){var e,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Si();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:u,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=t.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=t.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function JU(t,e){return uc(e.attrs.type)?aI(t,"modelValue")?t.modelValue:void 0:aI(t,"modelValue")?t.modelValue:e.attrs.value}const ZU=XU;let t3=0;const Xu=["bails","fieldsCount","id","multiple","type","validate"];function qA(t){const e=Gt(t==null?void 0:t.initialValues)||{},n=Gt(t==null?void 0:t.validationSchema);return n&&Pi(n)&&Xe(n.cast)?le(n.cast(e)||{}):le(e)}function e3(t){var e;const n=t3++;let i=0;const o=vn(!1),u=vn(!1),a=vn(0),l=[],f=Yr(qA(t)),d=vn([]),g=vn({}),v=vn({}),y=SU(()=>{v.value=d.value.reduce((x,k)=>(x[ea(_e(k.path))]=k,x),{})});function b(x,k){const B=st(x);if(!B){typeof x=="string"&&(g.value[ea(x)]=dv(k));return}if(typeof x=="string"){const it=ea(x);g.value[it]&&delete g.value[it]}B.errors=dv(k),B.valid=!B.errors.length}function _(x){nr(x).forEach(k=>{b(k,x[k])})}t!=null&&t.initialErrors&&_(t.initialErrors);const S=qt(()=>{const x=d.value.reduce((k,B)=>(B.errors.length&&(k[B.path]=B.errors),k),{});return Object.assign(Object.assign({},g.value),x)}),N=qt(()=>nr(S.value).reduce((x,k)=>{const B=S.value[k];return B!=null&&B.length&&(x[k]=B[0]),x},{})),O=qt(()=>d.value.reduce((x,k)=>(x[k.path]={name:k.path||"",label:k.label||""},x),{})),P=qt(()=>d.value.reduce((x,k)=>{var B;return x[k.path]=(B=k.bails)!==null&&B!==void 0?B:!0,x},{})),j=Object.assign({},(t==null?void 0:t.initialErrors)||{}),q=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:nt,originalInitialValues:V,setInitialValues:It}=r3(d,f,t),W=n3(d,f,V,N),ht=qt(()=>d.value.reduce((x,k)=>{const B=xn(f,k.path);return co(x,k.path,B),x},{})),A=t==null?void 0:t.validationSchema;function Wt(x,k){var B,it;const lt=qt(()=>xn(nt.value,_e(x))),At=v.value[_e(x)];if(At){((k==null?void 0:k.type)==="checkbox"||(k==null?void 0:k.type)==="radio")&&(At.multiple=!0);const en=i++;return Array.isArray(At.id)?At.id.push(en):At.id=[At.id,en],At.fieldsCount++,At.__flags.pendingUnmount[en]=!1,At}const Ft=qt(()=>xn(f,_e(x))),kt=_e(x),Mt=i++,Dt=Yr({id:Mt,path:x,touched:!1,pending:!1,valid:!0,validated:!!(!((B=j[kt])===null||B===void 0)&&B.length),initialValue:lt,errors:BI([]),bails:(it=k==null?void 0:k.bails)!==null&&it!==void 0?it:!1,label:k==null?void 0:k.label,type:(k==null?void 0:k.type)||"default",value:Ft,multiple:!1,__flags:{pendingUnmount:{[Mt]:!1},pendingReset:!1},fieldsCount:1,validate:k==null?void 0:k.validate,dirty:qt(()=>!En(Gt(Ft),Gt(lt)))});return d.value.push(Dt),v.value[kt]=Dt,y(),N.value[kt]&&!j[kt]&&xr(()=>{Z(kt,{mode:"silent"})}),ae(x)&&Wn(x,en=>{y();const nn=le(Ft.value);v.value[en]=Dt,xr(()=>{co(f,en,nn)})}),Dt}const oe=hI(mt,5),se=hI(mt,5),ce=hv(async x=>await x==="silent"?oe():se(),(x,[k])=>{const B=nr(vt.errorBag.value);return[...new Set([...nr(x.results),...d.value.map(lt=>lt.path),...B])].sort().reduce((lt,At)=>{const Ft=At,kt=st(Ft)||Lt(Ft),Mt=(x.results[Ft]||{errors:[]}).errors,Dt={errors:Mt,valid:!Mt.length};return lt.results[Ft]=Dt,Dt.valid||(lt.errors[Ft]=Dt.errors[0]),kt&&g.value[Ft]&&delete g.value[Ft],kt?(kt.valid=Dt.valid,k==="silent"||k==="validated-only"&&!kt.validated||b(kt,Dt.errors),lt):(b(Ft,Mt),lt)},{valid:x.valid,results:{},errors:{}})});function Qt(x){d.value.forEach(x)}function st(x){const k=typeof x=="string"?ea(x):x;return typeof k=="string"?v.value[k]:k}function Lt(x){return d.value.filter(B=>x.startsWith(B.path)).reduce((B,it)=>B?it.path.length>B.path.length?it:B:it,void 0)}let gt=[],he;function Ie(x){return gt.push(x),he||(he=xr(()=>{[...gt].sort().reverse().forEach(B=>{lI(f,B)}),gt=[],he=null})),he}function Ve(x){return function(B,it){return function(At){return At instanceof Event&&(At.preventDefault(),At.stopPropagation()),Qt(Ft=>Ft.touched=!0),o.value=!0,a.value++,X().then(Ft=>{const kt=le(f);if(Ft.valid&&typeof B=="function"){const Mt=le(ht.value);let Dt=x?Mt:kt;return Ft.values&&(Dt=Ft.values),B(Dt,{evt:At,controlledValues:Mt,setErrors:_,setFieldError:b,setTouched:F,setFieldTouched:I,setValues:J,setFieldValue:R,resetForm:et,resetField:z})}!Ft.valid&&typeof it=="function"&&it({values:kt,evt:At,errors:Ft.errors,results:Ft.results})}).then(Ft=>(o.value=!1,Ft),Ft=>{throw o.value=!1,Ft})}}}const de=Ve(!1);de.withControlled=Ve(!0);function Mn(x,k){const B=d.value.findIndex(lt=>lt.path===x),it=d.value[B];if(!(B===-1||!it)){if(xr(()=>{Z(x,{mode:"silent",warn:!1})}),it.multiple&&it.fieldsCount&&it.fieldsCount--,Array.isArray(it.id)){const lt=it.id.indexOf(k);lt>=0&&it.id.splice(lt,1),delete it.__flags.pendingUnmount[k]}(!it.multiple||it.fieldsCount<=0)&&(d.value.splice(B,1),Q(x),y(),delete v.value[x])}}function dt(x){return Qt(k=>{k.path.startsWith(x)&&nr(k.__flags.pendingUnmount).forEach(B=>{k.__flags.pendingUnmount[B]=!0})})}const vt={formId:n,values:f,controlledValues:ht,errorBag:S,errors:N,schema:A,submitCount:a,meta:W,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:q,validateSchema:Gt(A)?ce:void 0,validate:X,setFieldError:b,validateField:Z,setFieldValue:R,setValues:J,setErrors:_,setFieldTouched:I,setTouched:F,resetForm:et,resetField:z,handleSubmit:de,stageInitialValue:wt,unsetInitialValue:Q,setFieldInitialValue:at,useFieldModel:Rt,createPathState:Wt,getPathState:st,unsetPathValue:Ie,removePathState:Mn,initialValues:nt,getAllPathStates:()=>d.value,markForUnmount:dt,isFieldTouched:T,isFieldDirty:C,isFieldValid:M};function R(x,k,B=!0){const it=le(k),lt=typeof x=="string"?x:x.path;st(lt)||Wt(lt),co(f,lt,it),B&&Z(lt)}function U(x,k=!0){nr(f).forEach(B=>{delete f[B]}),nr(x).forEach(B=>{R(B,x[B],!1)}),k&&X()}function J(x,k=!0){yf(f,x),l.forEach(B=>B&&B.reset()),k&&X()}function ut(x){const k=st(Gt(x))||Wt(x);return qt({get(){return k.value},set(B){const it=Gt(x);R(it,B,!1),k.validated=!0,k.pending=!0,Z(it).then(()=>{k.pending=!1})}})}function Rt(x){return Array.isArray(x)?x.map(ut):ut(x)}function I(x,k){const B=st(x);B&&(B.touched=k)}function T(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.touched)}function C(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.dirty)}function M(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.valid)}function F(x){if(typeof x=="boolean"){Qt(k=>{k.touched=x});return}nr(x).forEach(k=>{I(k,!!x[k])})}function z(x,k){var B;const it=k&&"value"in k?k.value:xn(nt.value,x),lt=st(x);lt&&(lt.__flags.pendingReset=!0),at(x,le(it)),R(x,it,!1),I(x,(B=k==null?void 0:k.touched)!==null&&B!==void 0?B:!1),b(x,(k==null?void 0:k.errors)||[]),xr(()=>{lt&&(lt.__flags.pendingReset=!1)})}function et(x,k){let B=x!=null&&x.values?x.values:V.value;B=Pi(A)&&Xe(A.cast)?A.cast(B):B,It(B),Qt(it=>{var lt;it.__flags.pendingReset=!0,it.validated=!1,it.touched=((lt=x==null?void 0:x.touched)===null||lt===void 0?void 0:lt[it.path])||!1,R(it.path,xn(B,it.path),!1),b(it.path,void 0)}),k!=null&&k.force?U(B,!1):J(B,!1),_((x==null?void 0:x.errors)||{}),a.value=(x==null?void 0:x.submitCount)||0,xr(()=>{X({mode:"silent"}),Qt(it=>{it.__flags.pendingReset=!1})})}async function X(x){const k=(x==null?void 0:x.mode)||"force";if(k==="force"&&Qt(At=>At.validated=!0),vt.validateSchema)return vt.validateSchema(k);u.value=!0;const B=await Promise.all(d.value.map(At=>At.validate?At.validate(x).then(Ft=>({key:At.path,valid:Ft.valid,errors:Ft.errors})):Promise.resolve({key:At.path,valid:!0,errors:[]})));u.value=!1;const it={},lt={};for(const At of B)it[At.key]={valid:At.valid,errors:At.errors},At.errors.length&&(lt[At.key]=At.errors[0]);return{valid:B.every(At=>At.valid),results:it,errors:lt}}async function Z(x,k){var B;const it=st(x);if(it&&(k==null?void 0:k.mode)!=="silent"&&(it.validated=!0),A){const{results:lt}=await ce((k==null?void 0:k.mode)||"validated-only");return lt[x]||{errors:[],valid:!0}}return it!=null&&it.validate?it.validate(k):(!it&&(B=k==null?void 0:k.warn),Promise.resolve({errors:[],valid:!0}))}function Q(x){lI(nt.value,x)}function wt(x,k,B=!1){at(x,k),co(f,x,k),B&&!(t!=null&&t.initialValues)&&co(V.value,x,le(k))}function at(x,k){co(nt.value,x,le(k))}async function mt(){const x=Gt(A);if(!x)return{valid:!0,results:{},errors:{}};u.value=!0;const k=bf(x)||Pi(x)?await jU(x,f):await UU(x,f,{names:O.value,bailsMap:P.value});return u.value=!1,k}const St=de((x,{evt:k})=>{PA(k)&&k.target.submit()});Rv(()=>{if(t!=null&&t.initialErrors&&_(t.initialErrors),t!=null&&t.initialTouched&&F(t.initialTouched),t!=null&&t.validateOnMount){X();return}vt.validateSchema&&vt.validateSchema("silent")}),ae(A)&&Wn(A,()=>{var x;(x=vt.validateSchema)===null||x===void 0||x.call(vt,"validated-only")}),Ss(dh,vt);function Ut(x,k){const B=st(_e(x))||Wt(x),it=()=>Xe(k)?k(Qu(B,Xu)):k||{};function lt(){var kt;B.touched=!0,((kt=it().validateOnBlur)!==null&&kt!==void 0?kt:Si().validateOnBlur)&&Z(B.path)}function At(kt){var Mt;const Dt=(Mt=it().validateOnModelUpdate)!==null&&Mt!==void 0?Mt:Si().validateOnModelUpdate;R(B.path,kt,Dt)}return qt(()=>{if(Xe(k)){const Dt=k(B),en=Dt.model||"modelValue";return Object.assign({onBlur:lt,[en]:B.value,[`onUpdate:${en}`]:At},Dt.props||{})}const kt=(k==null?void 0:k.model)||"modelValue",Mt={onBlur:lt,[kt]:B.value,[`onUpdate:${kt}`]:At};return k!=null&&k.mapProps?Object.assign(Object.assign({},Mt),k.mapProps(Qu(B,Xu))):Mt})}function _t(x,k){const B=st(_e(x))||Wt(x),it=()=>Xe(k)?k(Qu(B,Xu)):k||{};function lt(){var Mt;B.touched=!0,((Mt=it().validateOnBlur)!==null&&Mt!==void 0?Mt:Si().validateOnBlur)&&Z(B.path)}function At(Mt){var Dt;const en=_f(Mt),nn=(Dt=it().validateOnInput)!==null&&Dt!==void 0?Dt:Si().validateOnInput;R(B.path,en,nn)}function Ft(Mt){var Dt;const en=_f(Mt),nn=(Dt=it().validateOnChange)!==null&&Dt!==void 0?Dt:Si().validateOnChange;R(B.path,en,nn)}return qt(()=>{const Mt={value:B.value,onChange:Ft,onInput:At,onBlur:lt};return Xe(k)?Object.assign(Object.assign({},Mt),k(Qu(B,Xu)).attrs||{}):k!=null&&k.mapAttrs?Object.assign(Object.assign({},Mt),k.mapAttrs(Qu(B,Xu))):Mt})}return Object.assign(Object.assign({},vt),{values:Av(f),handleReset:()=>et(),submitForm:St,defineComponentBinds:Ut,defineInputBinds:_t})}function n3(t,e,n,i){const o={touched:"some",pending:"some",valid:"every"},u=qt(()=>!En(e,Gt(n)));function a(){const f=t.value;return nr(o).reduce((d,g)=>{const v=o[g];return d[g]=f[v](y=>y[g]),d},{})}const l=Yr(a());return QO(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),qt(()=>Object.assign(Object.assign({initialValues:Gt(n)},l),{valid:l.valid&&!nr(i.value).length,dirty:u.value}))}function r3(t,e,n){const i=qA(n),o=n==null?void 0:n.initialValues,u=vn(i),a=vn(le(i));function l(f,d=!1){u.value=yf(le(u.value)||{},le(f)),a.value=yf(le(a.value)||{},le(f)),d&&t.value.forEach(g=>{if(g.touched)return;const y=xn(u.value,g.path);co(e,g.path,le(y))})}return ae(o)&&Wn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:u,originalInitialValues:a,setInitialValues:l}}const i3=Ba({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=bi(t,"initialValues"),i=bi(t,"validationSchema"),o=bi(t,"keepValues"),{errors:u,errorBag:a,values:l,meta:f,isSubmitting:d,isValidating:g,submitCount:v,controlledValues:y,validate:b,validateField:_,handleReset:S,resetForm:N,handleSubmit:O,setErrors:P,setFieldError:j,setFieldValue:q,setValues:nt,setFieldTouched:V,setTouched:It,resetField:W}=e3({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:o}),ht=O((Lt,{evt:gt})=>{PA(gt)&&gt.target.submit()},t.onInvalidSubmit),A=t.onSubmit?O(t.onSubmit,t.onInvalidSubmit):ht;function Wt(Lt){iy(Lt)&&Lt.preventDefault(),S(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function oe(Lt,gt){return O(typeof Lt=="function"&&!gt?Lt:gt,t.onInvalidSubmit)(Lt)}function se(){return le(l)}function ce(){return le(f.value)}function Qt(){return le(u.value)}function st(){return{meta:f.value,errors:u.value,errorBag:a.value,values:l,isSubmitting:d.value,isValidating:g.value,submitCount:v.value,controlledValues:y.value,validate:b,validateField:_,handleSubmit:oe,handleReset:S,submitForm:ht,setErrors:P,setFieldError:j,setFieldValue:q,setValues:nt,setFieldTouched:V,setTouched:It,resetForm:N,resetField:W,getValues:se,getMeta:ce,getErrors:Qt}}return e.expose({setFieldError:j,setErrors:P,setFieldValue:q,setValues:nt,setFieldTouched:V,setTouched:It,resetForm:N,validate:b,validateField:_,resetField:W,getValues:se,getMeta:ce,getErrors:Qt}),function(){const gt=t.as==="form"?t.as:t.as?Pv(t.as):null,he=sy(gt,e,st);return gt?Cs(gt,Object.assign(Object.assign(Object.assign({},gt==="form"?{novalidate:!0}:{}),e.attrs),{onSubmit:A,onReset:Wt}),he):he}}}),o3=i3,s3=Ba({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=rr(dh,void 0),i=qt(()=>n==null?void 0:n.errors.value[t.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=t.as?Pv(t.as):t.as,a=sy(u,e,o),l=Object.assign({role:"alert"},e.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Cs(u||"span",l,i.value):Cs(u,l,a)}}}),u3=s3;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Tl={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},a3=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function au(t,e){return Array.isArray(t)?t[0]:t[e]}function ni(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const $A=(t,e)=>{if(ni(t))return!0;const n=a3(e);if(Array.isArray(t))return t.every(o=>$A(o,{locale:n}));const i=String(t);return n?(Tl[n]||Tl.en).test(i):Object.keys(Tl).some(o=>Tl[o].test(i))},c3=(t,e)=>{const n=au(e,"target");return String(t)===String(n)},KA=(t,e)=>{if(ni(t))return!0;const n=au(e,"length");if(Array.isArray(t))return t.every(o=>KA(o,{length:n}));const i=String(t);return/^[0-9]*$/.test(i)&&i.length===Number(n)},l3=t=>{if(ni(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function f3(t){return t==null}function h3(t){return Array.isArray(t)&&t.length===0}const HA=(t,e)=>{if(ni(t))return!0;const n=au(e,"length");return Array.isArray(t)?t.every(i=>HA(i,{length:n})):[...String(t)].length<=Number(n)},zA=(t,e)=>{if(ni(t))return!0;const n=au(e,"max");return Array.isArray(t)?t.length>0&&t.every(i=>zA(i,{max:n})):Number(t)<=Number(n)},GA=(t,e)=>{if(ni(t))return!0;const n=au(e,"length");return Array.isArray(t)?t.every(i=>GA(i,{length:n})):[...String(t)].length>=Number(n)},WA=(t,e)=>{if(ni(t))return!0;const n=au(e,"min");return Array.isArray(t)?t.length>0&&t.every(i=>WA(i,{min:n})):Number(t)>=Number(n)},QA=(t,e)=>ni(t)?!0:Array.isArray(t)?t.every(n=>QA(n,e)):Array.from(e).some(n=>n==t),vI=(t,e)=>ni(t)?!0:!QA(t,e),mI=t=>f3(t)||h3(t)||t===!1?!1:!!String(t).trim().length,d3={install(t){t.component("VeeForm",o3),t.component("VeeField",ZU),t.component("ErrorMessage",u3),er("required",mI),er("tos",mI),er("min",GA),er("max",HA),er("alpha_spaces",$A),er("email",l3),er("min_value",WA),er("max_value",zA),er("passwords_missmatch",c3),er("excluded",vI),er("country_excluded",vI),er("digits",KA),DU({generateMessage:e=>{const n={required:`The field ${e.field} is required.`,min:`The field ${e.field} must have at least ${e.rule.params} characters.`,max:`The field ${e.field} maximun length is ${e.rule.params}.`,alpha_spaces:`The field ${e.field} may only contain alphabetical characters and spaces.`,email:`The field ${e.field} must be a valid email.`,min_value:`The field ${e.field} can't be under ${e.rule.params}.`,max_value:`The field ${e.field} can't be above ${e.rule.params}.`,excluded:`You are not allowed to use this value for the field ${e.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${e.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${e.field} must be a valid phone number (012345678)`};return n[e.rule.name]?n[e.rule.name]:`The field ${e.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let ds;la.onAuthStateChanged(()=>{ds||(ds=aD(t2),ds.use(fD()),ds.use(lU),ds.use(d3),ds.mount("#app"))});export{ei as _,wn as c,He as o};
