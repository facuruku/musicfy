(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Gv(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const Et={},ia=[],Nr=()=>{},IR=()=>!1,AR=/^on[^a-z]/,Sh=e=>AR.test(e),zv=e=>e.startsWith("onUpdate:"),Ht=Object.assign,Xv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},xR=Object.prototype.hasOwnProperty,rt=(e,t)=>xR.call(e,t),Ae=Array.isArray,oa=e=>Rl(e)==="[object Map]",Th=e=>Rl(e)==="[object Set]",T1=e=>Rl(e)==="[object Date]",qe=e=>typeof e=="function",Vt=e=>typeof e=="string",tl=e=>typeof e=="symbol",ht=e=>e!==null&&typeof e=="object",xT=e=>ht(e)&&qe(e.then)&&qe(e.catch),kT=Object.prototype.toString,Rl=e=>kT.call(e),kR=e=>Rl(e).slice(8,-1),CT=e=>Rl(e)==="[object Object]",Yv=e=>Vt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Af=Gv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ih=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},CR=/-(\w)/g,ti=Ih(e=>e.replace(CR,(t,n)=>n?n.toUpperCase():"")),OR=/\B([A-Z])/g,Ra=Ih(e=>e.replace(OR,"-$1").toLowerCase()),Ah=Ih(e=>e.charAt(0).toUpperCase()+e.slice(1)),nm=Ih(e=>e?`on${Ah(e)}`:""),nl=(e,t)=>!Object.is(e,t),xf=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Ff=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},OT=e=>{const t=parseFloat(e);return isNaN(t)?e:t},PR=e=>{const t=Vt(e)?Number(e):NaN;return isNaN(t)?e:t};let I1;const jm=()=>I1||(I1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function xh(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Vt(r)?LR(r):xh(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Vt(e))return e;if(ht(e))return e}}const NR=/;(?![^(]*\))/g,RR=/:([^]+)/,DR=/\/\*[^]*?\*\//g;function LR(e){const t={};return e.replace(DR,"").split(NR).forEach(n=>{if(n){const r=n.split(RR);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function vt(e){let t="";if(Vt(e))t=e;else if(Ae(e))for(let n=0;n<e.length;n++){const r=vt(e[n]);r&&(t+=r+" ")}else if(ht(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const MR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",FR=Gv(MR);function PT(e){return!!e||e===""}function VR(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=kh(e[r],t[r]);return n}function kh(e,t){if(e===t)return!0;let n=T1(e),r=T1(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=tl(e),r=tl(t),n||r)return e===t;if(n=Ae(e),r=Ae(t),n||r)return n&&r?VR(e,t):!1;if(n=ht(e),r=ht(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(l&&!f||!l&&f||!kh(e[u],t[u]))return!1}}return String(e)===String(t)}function jR(e,t){return e.findIndex(n=>kh(n,t))}const gt=e=>Vt(e)?e:e==null?"":Ae(e)||ht(e)&&(e.toString===kT||!qe(e.toString))?JSON.stringify(e,NT,2):String(e),NT=(e,t)=>t&&t.__v_isRef?NT(e,t.value):oa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Th(t)?{[`Set(${t.size})`]:[...t.values()]}:ht(t)&&!Ae(t)&&!CT(t)?String(t):t;let nr;class RT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=nr,!t&&nr&&(this.index=(nr.scopes||(nr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=nr;try{return nr=this,t()}finally{nr=n}}}on(){nr=this}off(){nr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function DT(e){return new RT(e)}function UR(e,t=nr){t&&t.active&&t.effects.push(e)}function LT(){return nr}function BR(e){nr&&nr.cleanups.push(e)}const Qv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},MT=e=>(e.w&to)>0,FT=e=>(e.n&to)>0,$R=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=to},qR=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];MT(o)&&!FT(o)?o.delete(e):t[n++]=o,o.w&=~to,o.n&=~to}t.length=n}},Vf=new WeakMap;let Fu=0,to=1;const Um=30;let Or;const Qo=Symbol(""),Bm=Symbol("");class Jv{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,UR(this,r)}run(){if(!this.active)return this.fn();let t=Or,n=Xi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Or,Or=this,Xi=!0,to=1<<++Fu,Fu<=Um?$R(this):A1(this),this.fn()}finally{Fu<=Um&&qR(this),to=1<<--Fu,Or=this.parent,Xi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Or===this?this.deferStop=!0:this.active&&(A1(this),this.onStop&&this.onStop(),this.active=!1)}}function A1(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Xi=!0;const VT=[];function Da(){VT.push(Xi),Xi=!1}function La(){const e=VT.pop();Xi=e===void 0?!0:e}function Gn(e,t,n){if(Xi&&Or){let r=Vf.get(e);r||Vf.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Qv()),jT(o)}}function jT(e,t){let n=!1;Fu<=Um?FT(e)||(e.n|=to,n=!MT(e)):n=!e.has(Or),n&&(e.add(Or),Or.deps.push(e))}function vi(e,t,n,r,o,s){const u=Vf.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&Ae(e)){const f=Number(r);u.forEach((d,m)=>{(m==="length"||m>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":Ae(e)?Yv(n)&&l.push(u.get("length")):(l.push(u.get(Qo)),oa(e)&&l.push(u.get(Bm)));break;case"delete":Ae(e)||(l.push(u.get(Qo)),oa(e)&&l.push(u.get(Bm)));break;case"set":oa(e)&&l.push(u.get(Qo));break}if(l.length===1)l[0]&&$m(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);$m(Qv(f))}}function $m(e,t){const n=Ae(e)?e:[...e];for(const r of n)r.computed&&x1(r);for(const r of n)r.computed||x1(r)}function x1(e,t){(e!==Or||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function HR(e,t){var n;return(n=Vf.get(e))==null?void 0:n.get(t)}const KR=Gv("__proto__,__v_isRef,__isVue"),UT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(tl)),WR=Zv(),GR=Zv(!1,!0),zR=Zv(!0),k1=XR();function XR(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=nt(this);for(let s=0,u=this.length;s<u;s++)Gn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(nt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Da();const r=nt(this)[t].apply(this,n);return La(),r}}),e}function YR(e){const t=nt(this);return Gn(t,"has",e),t.hasOwnProperty(e)}function Zv(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?hD:KT:t?HT:qT).get(r))return r;const u=Ae(r);if(!e){if(u&&rt(k1,o))return Reflect.get(k1,o,s);if(o==="hasOwnProperty")return YR}const l=Reflect.get(r,o,s);return(tl(o)?UT.has(o):KR(o))||(e||Gn(r,"get",o),t)?l:pt(l)?u&&Yv(o)?l:l.value:ht(l)?e?Oh(l):ni(l):l}}const QR=BT(),JR=BT(!0);function BT(e=!1){return function(n,r,o,s){let u=n[r];if(ca(u)&&pt(u)&&!pt(o))return!1;if(!e&&(!jf(o)&&!ca(o)&&(u=nt(u),o=nt(o)),!Ae(n)&&pt(u)&&!pt(o)))return u.value=o,!0;const l=Ae(n)&&Yv(r)?Number(r)<n.length:rt(n,r),f=Reflect.set(n,r,o,s);return n===nt(s)&&(l?nl(o,u)&&vi(n,"set",r,o):vi(n,"add",r,o)),f}}function ZR(e,t){const n=rt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&vi(e,"delete",t,void 0),r}function eD(e,t){const n=Reflect.has(e,t);return(!tl(t)||!UT.has(t))&&Gn(e,"has",t),n}function tD(e){return Gn(e,"iterate",Ae(e)?"length":Qo),Reflect.ownKeys(e)}const $T={get:WR,set:QR,deleteProperty:ZR,has:eD,ownKeys:tD},nD={get:zR,set(e,t){return!0},deleteProperty(e,t){return!0}},rD=Ht({},$T,{get:GR,set:JR}),ey=e=>e,Ch=e=>Reflect.getPrototypeOf(e);function sf(e,t,n=!1,r=!1){e=e.__v_raw;const o=nt(e),s=nt(t);n||(t!==s&&Gn(o,"get",t),Gn(o,"get",s));const{has:u}=Ch(o),l=r?ey:n?ry:rl;if(u.call(o,t))return l(e.get(t));if(u.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function af(e,t=!1){const n=this.__v_raw,r=nt(n),o=nt(e);return t||(e!==o&&Gn(r,"has",e),Gn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function uf(e,t=!1){return e=e.__v_raw,!t&&Gn(nt(e),"iterate",Qo),Reflect.get(e,"size",e)}function C1(e){e=nt(e);const t=nt(this);return Ch(t).has.call(t,e)||(t.add(e),vi(t,"add",e,e)),this}function O1(e,t){t=nt(t);const n=nt(this),{has:r,get:o}=Ch(n);let s=r.call(n,e);s||(e=nt(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?nl(t,u)&&vi(n,"set",e,t):vi(n,"add",e,t),this}function P1(e){const t=nt(this),{has:n,get:r}=Ch(t);let o=n.call(t,e);o||(e=nt(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&vi(t,"delete",e,void 0),s}function N1(){const e=nt(this),t=e.size!==0,n=e.clear();return t&&vi(e,"clear",void 0,void 0),n}function lf(e,t){return function(r,o){const s=this,u=s.__v_raw,l=nt(u),f=t?ey:e?ry:rl;return!e&&Gn(l,"iterate",Qo),u.forEach((d,m)=>r.call(o,f(d),f(m),s))}}function cf(e,t,n){return function(...r){const o=this.__v_raw,s=nt(o),u=oa(s),l=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,d=o[e](...r),m=n?ey:t?ry:rl;return!t&&Gn(s,"iterate",f?Bm:Qo),{next(){const{value:h,done:g}=d.next();return g?{value:h,done:g}:{value:l?[m(h[0]),m(h[1])]:m(h),done:g}},[Symbol.iterator](){return this}}}}function Pi(e){return function(...t){return e==="delete"?!1:this}}function iD(){const e={get(s){return sf(this,s)},get size(){return uf(this)},has:af,add:C1,set:O1,delete:P1,clear:N1,forEach:lf(!1,!1)},t={get(s){return sf(this,s,!1,!0)},get size(){return uf(this)},has:af,add:C1,set:O1,delete:P1,clear:N1,forEach:lf(!1,!0)},n={get(s){return sf(this,s,!0)},get size(){return uf(this,!0)},has(s){return af.call(this,s,!0)},add:Pi("add"),set:Pi("set"),delete:Pi("delete"),clear:Pi("clear"),forEach:lf(!0,!1)},r={get(s){return sf(this,s,!0,!0)},get size(){return uf(this,!0)},has(s){return af.call(this,s,!0)},add:Pi("add"),set:Pi("set"),delete:Pi("delete"),clear:Pi("clear"),forEach:lf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=cf(s,!1,!1),n[s]=cf(s,!0,!1),t[s]=cf(s,!1,!0),r[s]=cf(s,!0,!0)}),[e,n,t,r]}const[oD,sD,aD,uD]=iD();function ty(e,t){const n=t?e?uD:aD:e?sD:oD;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(rt(n,o)&&o in r?n:r,o,s)}const lD={get:ty(!1,!1)},cD={get:ty(!1,!0)},fD={get:ty(!0,!1)},qT=new WeakMap,HT=new WeakMap,KT=new WeakMap,hD=new WeakMap;function dD(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pD(e){return e.__v_skip||!Object.isExtensible(e)?0:dD(kR(e))}function ni(e){return ca(e)?e:ny(e,!1,$T,lD,qT)}function WT(e){return ny(e,!1,rD,cD,HT)}function Oh(e){return ny(e,!0,nD,fD,KT)}function ny(e,t,n,r,o){if(!ht(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=pD(e);if(u===0)return e;const l=new Proxy(e,u===2?r:n);return o.set(e,l),l}function Yi(e){return ca(e)?Yi(e.__v_raw):!!(e&&e.__v_isReactive)}function ca(e){return!!(e&&e.__v_isReadonly)}function jf(e){return!!(e&&e.__v_isShallow)}function GT(e){return Yi(e)||ca(e)}function nt(e){const t=e&&e.__v_raw;return t?nt(t):e}function Ph(e){return Ff(e,"__v_skip",!0),e}const rl=e=>ht(e)?ni(e):e,ry=e=>ht(e)?Oh(e):e;function zT(e){Xi&&Or&&(e=nt(e),jT(e.dep||(e.dep=Qv())))}function XT(e,t){e=nt(e);const n=e.dep;n&&$m(n)}function pt(e){return!!(e&&e.__v_isRef===!0)}function tn(e){return QT(e,!1)}function YT(e){return QT(e,!0)}function QT(e,t){return pt(e)?e:new gD(e,t)}class gD{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:nt(t),this._value=n?t:rl(t)}get value(){return zT(this),this._value}set value(t){const n=this.__v_isShallow||jf(t)||ca(t);t=n?t:nt(t),nl(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:rl(t),XT(this))}}function et(e){return pt(e)?e.value:e}function Ct(e){return qe(e)?e():et(e)}const mD={get:(e,t,n)=>et(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return pt(o)&&!pt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function JT(e){return Yi(e)?e:new Proxy(e,mD)}function vD(e){const t=Ae(e)?new Array(e.length):{};for(const n in e)t[n]=ZT(e,n);return t}class yD{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return HR(nt(this._object),this._key)}}class bD{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function $i(e,t,n){return pt(e)?e:qe(e)?new bD(e):ht(e)&&arguments.length>1?ZT(e,t,n):tn(e)}function ZT(e,t,n){const r=e[t];return pt(r)?r:new yD(e,t,n)}class _D{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Jv(t,()=>{this._dirty||(this._dirty=!0,XT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=nt(this);return zT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function wD(e,t,n=!1){let r,o;const s=qe(e);return s?(r=e,o=Nr):(r=e.get,o=e.set),new _D(r,o,s||!o,n)}function Qi(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){Nh(s,t,n)}return o}function _r(e,t,n,r){if(qe(e)){const s=Qi(e,t,n,r);return s&&xT(s)&&s.catch(u=>{Nh(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(_r(e[s],t,n,r));return o}function Nh(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,u,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Qi(f,null,10,[e,u,l]);return}}ED(e,n,o,r)}function ED(e,t,n,r=!0){console.error(e)}let il=!1,qm=!1;const _n=[];let Xr=0;const sa=[];let fi=null,$o=0;const eI=Promise.resolve();let iy=null;function Cr(e){const t=iy||eI;return e?t.then(this?e.bind(this):e):t}function SD(e){let t=Xr+1,n=_n.length;for(;t<n;){const r=t+n>>>1;ol(_n[r])<e?t=r+1:n=r}return t}function oy(e){(!_n.length||!_n.includes(e,il&&e.allowRecurse?Xr+1:Xr))&&(e.id==null?_n.push(e):_n.splice(SD(e.id),0,e),tI())}function tI(){!il&&!qm&&(qm=!0,iy=eI.then(rI))}function TD(e){const t=_n.indexOf(e);t>Xr&&_n.splice(t,1)}function ID(e){Ae(e)?sa.push(...e):(!fi||!fi.includes(e,e.allowRecurse?$o+1:$o))&&sa.push(e),tI()}function R1(e,t=il?Xr+1:0){for(;t<_n.length;t++){const n=_n[t];n&&n.pre&&(_n.splice(t,1),t--,n())}}function nI(e){if(sa.length){const t=[...new Set(sa)];if(sa.length=0,fi){fi.push(...t);return}for(fi=t,fi.sort((n,r)=>ol(n)-ol(r)),$o=0;$o<fi.length;$o++)fi[$o]();fi=null,$o=0}}const ol=e=>e.id==null?1/0:e.id,AD=(e,t)=>{const n=ol(e)-ol(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function rI(e){qm=!1,il=!0,_n.sort(AD);const t=Nr;try{for(Xr=0;Xr<_n.length;Xr++){const n=_n[Xr];n&&n.active!==!1&&Qi(n,null,14)}}finally{Xr=0,_n.length=0,nI(),il=!1,iy=null,(_n.length||sa.length)&&rI()}}function xD(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Et;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const m=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:g}=r[m]||Et;g&&(o=n.map(y=>Vt(y)?y.trim():y)),h&&(o=n.map(OT))}let l,f=r[l=nm(t)]||r[l=nm(ti(t))];!f&&s&&(f=r[l=nm(Ra(t))]),f&&_r(f,e,6,o);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,_r(d,e,6,o)}}function iI(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},l=!1;if(!qe(e)){const f=d=>{const m=iI(d,t,!0);m&&(l=!0,Ht(u,m))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(ht(e)&&r.set(e,null),null):(Ae(s)?s.forEach(f=>u[f]=null):Ht(u,s),ht(e)&&r.set(e,u),u)}function Rh(e,t){return!e||!Sh(t)?!1:(t=t.slice(2).replace(/Once$/,""),rt(e,t[0].toLowerCase()+t.slice(1))||rt(e,Ra(t))||rt(e,t))}let qn=null,Dh=null;function Uf(e){const t=qn;return qn=e,Dh=e&&e.type.__scopeId||null,t}function kD(e){Dh=e}function CD(){Dh=null}function nn(e,t=qn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&K1(-1);const s=Uf(t);let u;try{u=e(...o)}finally{Uf(s),r._d&&K1(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function rm(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:l,attrs:f,emit:d,render:m,renderCache:h,data:g,setupState:y,ctx:b,inheritAttrs:w}=e;let S,T;const k=Uf(e);try{if(n.shapeFlag&4){const L=o||r;S=zr(m.call(L,L,h,s,y,g,b)),T=f}else{const L=t;S=zr(L.length>1?L(s,{attrs:f,slots:l,emit:d}):L(s,null)),T=t.props?f:OD(f)}}catch(L){qu.length=0,Nh(L,e,1),S=ye(Rr)}let D=S;if(T&&w!==!1){const L=Object.keys(T),{shapeFlag:z}=D;L.length&&z&7&&(u&&L.some(zv)&&(T=PD(T,u)),D=ro(D,T))}return n.dirs&&(D=ro(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),S=D,Uf(k),S}const OD=e=>{let t;for(const n in e)(n==="class"||n==="style"||Sh(n))&&((t||(t={}))[n]=e[n]);return t},PD=(e,t)=>{const n={};for(const r in e)(!zv(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function ND(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?D1(r,u,d):!!u;if(f&8){const m=t.dynamicProps;for(let h=0;h<m.length;h++){const g=m[h];if(u[g]!==r[g]&&!Rh(d,g))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===u?!1:r?u?D1(r,u,d):!0:!!u;return!1}function D1(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!Rh(n,s))return!0}return!1}function RD({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const DD=e=>e.__isSuspense;function LD(e,t){t&&t.pendingBranch?Ae(e)?t.effects.push(...e):t.effects.push(e):ID(e)}function MD(e,t){return sy(e,null,t)}const ff={};function Kn(e,t,n){return sy(e,t,n)}function sy(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=Et){var l;const f=LT()===((l=Yt)==null?void 0:l.scope)?Yt:null;let d,m=!1,h=!1;if(pt(e)?(d=()=>e.value,m=jf(e)):Yi(e)?(d=()=>e,r=!0):Ae(e)?(h=!0,m=e.some(L=>Yi(L)||jf(L)),d=()=>e.map(L=>{if(pt(L))return L.value;if(Yi(L))return Wo(L);if(qe(L))return Qi(L,f,2)})):qe(e)?t?d=()=>Qi(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return g&&g(),_r(e,f,3,[y])}:d=Nr,t&&r){const L=d;d=()=>Wo(L())}let g,y=L=>{g=k.onStop=()=>{Qi(L,f,4)}},b;if(ul)if(y=Nr,t?n&&_r(t,f,3,[d(),h?[]:void 0,y]):d(),o==="sync"){const L=kL();b=L.__watcherHandles||(L.__watcherHandles=[])}else return Nr;let w=h?new Array(e.length).fill(ff):ff;const S=()=>{if(k.active)if(t){const L=k.run();(r||m||(h?L.some((z,j)=>nl(z,w[j])):nl(L,w)))&&(g&&g(),_r(t,f,3,[L,w===ff?void 0:h&&w[0]===ff?[]:w,y]),w=L)}else k.run()};S.allowRecurse=!!t;let T;o==="sync"?T=S:o==="post"?T=()=>Bn(S,f&&f.suspense):(S.pre=!0,f&&(S.id=f.uid),T=()=>oy(S));const k=new Jv(d,T);t?n?S():w=k.run():o==="post"?Bn(k.run.bind(k),f&&f.suspense):k.run();const D=()=>{k.stop(),f&&f.scope&&Xv(f.scope.effects,k)};return b&&b.push(D),D}function FD(e,t,n){const r=this.proxy,o=Vt(e)?e.includes(".")?oI(r,e):()=>r[e]:e.bind(r,r);let s;qe(t)?s=t:(s=t.handler,n=t);const u=Yt;fa(this);const l=sy(o,s.bind(r),n);return u?fa(u):Jo(),l}function oI(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Wo(e,t){if(!ht(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),pt(e))Wo(e.value,t);else if(Ae(e))for(let n=0;n<e.length;n++)Wo(e[n],t);else if(Th(e)||oa(e))e.forEach(n=>{Wo(n,t)});else if(CT(e))for(const n in e)Wo(e[n],t);return e}function no(e,t){const n=qn;if(n===null)return e;const r=Uh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,l,f,d=Et]=t[s];u&&(qe(u)&&(u={mounted:u,updated:u}),u.deep&&Wo(l),o.push({dir:u,instance:r,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function Do(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const l=o[u];s&&(l.oldValue=s[u].value);let f=l.dir[r];f&&(Da(),_r(f,n,8,[e.el,l,e,t]),La())}}function VD(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ll(()=>{e.isMounted=!0}),ay(()=>{e.isUnmounting=!0}),e}const pr=[Function,Array],sI={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:pr,onEnter:pr,onAfterEnter:pr,onEnterCancelled:pr,onBeforeLeave:pr,onLeave:pr,onAfterLeave:pr,onLeaveCancelled:pr,onBeforeAppear:pr,onAppear:pr,onAfterAppear:pr,onAppearCancelled:pr},jD={name:"BaseTransition",props:sI,setup(e,{slots:t}){const n=Ma(),r=VD();let o;return()=>{const s=t.default&&uI(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const w of s)if(w.type!==Rr){u=w;break}}const l=nt(e),{mode:f}=l;if(r.isLeaving)return im(u);const d=L1(u);if(!d)return im(u);const m=Hm(d,l,r,n);Km(d,m);const h=n.subTree,g=h&&L1(h);let y=!1;const{getTransitionKey:b}=d.type;if(b){const w=b();o===void 0?o=w:w!==o&&(o=w,y=!0)}if(g&&g.type!==Rr&&(!qo(d,g)||y)){const w=Hm(g,l,r,n);if(Km(g,w),f==="out-in")return r.isLeaving=!0,w.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},im(u);f==="in-out"&&d.type!==Rr&&(w.delayLeave=(S,T,k)=>{const D=aI(r,g);D[String(g.key)]=g,S._leaveCb=()=>{T(),S._leaveCb=void 0,delete m.delayedLeave},m.delayedLeave=k})}return u}}},UD=jD;function aI(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Hm(e,t,n,r){const{appear:o,mode:s,persisted:u=!1,onBeforeEnter:l,onEnter:f,onAfterEnter:d,onEnterCancelled:m,onBeforeLeave:h,onLeave:g,onAfterLeave:y,onLeaveCancelled:b,onBeforeAppear:w,onAppear:S,onAfterAppear:T,onAppearCancelled:k}=t,D=String(e.key),L=aI(n,e),z=(M,q)=>{M&&_r(M,r,9,q)},j=(M,q)=>{const x=q[1];z(M,q),Ae(M)?M.every(Ce=>Ce.length<=1)&&x():M.length<=1&&x()},ae={mode:s,persisted:u,beforeEnter(M){let q=l;if(!n.isMounted)if(o)q=w||l;else return;M._leaveCb&&M._leaveCb(!0);const x=L[D];x&&qo(e,x)&&x.el._leaveCb&&x.el._leaveCb(),z(q,[M])},enter(M){let q=f,x=d,Ce=m;if(!n.isMounted)if(o)q=S||f,x=T||d,Ce=k||m;else return;let re=!1;const ke=M._enterCb=Le=>{re||(re=!0,Le?z(Ce,[M]):z(x,[M]),ae.delayedLeave&&ae.delayedLeave(),M._enterCb=void 0)};q?j(q,[M,ke]):ke()},leave(M,q){const x=String(e.key);if(M._enterCb&&M._enterCb(!0),n.isUnmounting)return q();z(h,[M]);let Ce=!1;const re=M._leaveCb=ke=>{Ce||(Ce=!0,q(),ke?z(b,[M]):z(y,[M]),M._leaveCb=void 0,L[x]===e&&delete L[x])};L[x]=e,g?j(g,[M,re]):re()},clone(M){return Hm(M,t,n,r)}};return ae}function im(e){if(Lh(e))return e=ro(e),e.children=null,e}function L1(e){return Lh(e)?e.children?e.children[0]:void 0:e}function Km(e,t){e.shapeFlag&6&&e.component?Km(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function uI(e,t=!1,n){let r=[],o=0;for(let s=0;s<e.length;s++){let u=e[s];const l=n==null?u.key:String(n)+String(u.key!=null?u.key:s);u.type===Xt?(u.patchFlag&128&&o++,r=r.concat(uI(u.children,t,l))):(t||u.type!==Rr)&&r.push(l!=null?ro(u,{key:l}):u)}if(o>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function Dl(e,t){return qe(e)?(()=>Ht({name:e.name},t,{setup:e}))():e}const kf=e=>!!e.type.__asyncLoader,Lh=e=>e.type.__isKeepAlive;function BD(e,t){lI(e,"a",t)}function $D(e,t){lI(e,"da",t)}function lI(e,t,n=Yt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Mh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Lh(o.parent.vnode)&&qD(r,t,n,o),o=o.parent}}function qD(e,t,n,r){const o=Mh(t,e,r,!0);cI(()=>{Xv(r[t],o)},n)}function Mh(e,t,n=Yt,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;Da(),fa(n);const l=_r(t,n,e,u);return Jo(),La(),l});return r?o.unshift(s):o.push(s),s}}const bi=e=>(t,n=Yt)=>(!ul||e==="sp")&&Mh(e,(...r)=>t(...r),n),HD=bi("bm"),Ll=bi("m"),KD=bi("bu"),WD=bi("u"),ay=bi("bum"),cI=bi("um"),GD=bi("sp"),zD=bi("rtg"),XD=bi("rtc");function YD(e,t=Yt){Mh("ec",e,t)}const uy="components";function ct(e,t){return hI(uy,e,!0,t)||e}const fI=Symbol.for("v-ndc");function Fh(e){return Vt(e)?hI(uy,e,!1)||e:e||fI}function hI(e,t,n=!0,r=!1){const o=qn||Yt;if(o){const s=o.type;if(e===uy){const l=IL(s,!1);if(l&&(l===t||l===ti(t)||l===Ah(ti(t))))return s}const u=M1(o[e]||s[e],t)||M1(o.appContext[e],t);return!u&&r?s:u}}function M1(e,t){return e&&(e[t]||e[ti(t)]||e[Ah(ti(t))])}function Ml(e,t,n,r){let o;const s=n&&n[r];if(Ae(e)||Vt(e)){o=new Array(e.length);for(let u=0,l=e.length;u<l;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(ht(e))if(e[Symbol.iterator])o=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);o=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const d=u[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const Wm=e=>e?SI(e)?Uh(e)||e.proxy:Wm(e.parent):null,$u=Ht(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Wm(e.parent),$root:e=>Wm(e.root),$emit:e=>e.emit,$options:e=>ly(e),$forceUpdate:e=>e.f||(e.f=()=>oy(e.update)),$nextTick:e=>e.n||(e.n=Cr.bind(e.proxy)),$watch:e=>FD.bind(e)}),om=(e,t)=>e!==Et&&!e.__isScriptSetup&&rt(e,t),QD={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(om(r,t))return u[t]=1,r[t];if(o!==Et&&rt(o,t))return u[t]=2,o[t];if((d=e.propsOptions[0])&&rt(d,t))return u[t]=3,s[t];if(n!==Et&&rt(n,t))return u[t]=4,n[t];Gm&&(u[t]=0)}}const m=$u[t];let h,g;if(m)return t==="$attrs"&&Gn(e,"get",t),m(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==Et&&rt(n,t))return u[t]=4,n[t];if(g=f.config.globalProperties,rt(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return om(o,t)?(o[t]=n,!0):r!==Et&&rt(r,t)?(r[t]=n,!0):rt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let l;return!!n[u]||e!==Et&&rt(e,u)||om(t,u)||(l=s[0])&&rt(l,u)||rt(r,u)||rt($u,u)||rt(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:rt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function F1(e){return Ae(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Gm=!0;function JD(e){const t=ly(e),n=e.proxy,r=e.ctx;Gm=!1,t.beforeCreate&&V1(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:l,provide:f,inject:d,created:m,beforeMount:h,mounted:g,beforeUpdate:y,updated:b,activated:w,deactivated:S,beforeDestroy:T,beforeUnmount:k,destroyed:D,unmounted:L,render:z,renderTracked:j,renderTriggered:ae,errorCaptured:M,serverPrefetch:q,expose:x,inheritAttrs:Ce,components:re,directives:ke,filters:Le}=t;if(d&&ZD(d,r,null),u)for(const Be in u){const ve=u[Be];qe(ve)&&(r[Be]=ve.bind(n))}if(o){const Be=o.call(n,n);ht(Be)&&(e.data=ni(Be))}if(Gm=!0,s)for(const Be in s){const ve=s[Be],bt=qe(ve)?ve.bind(n,n):qe(ve.get)?ve.get.bind(n,n):Nr,Pt=!qe(ve)&&qe(ve.set)?ve.set.bind(n):Nr,Gt=ze({get:bt,set:Pt});Object.defineProperty(r,Be,{enumerable:!0,configurable:!0,get:()=>Gt.value,set:jt=>Gt.value=jt})}if(l)for(const Be in l)dI(l[Be],r,n,Be);if(f){const Be=qe(f)?f.call(n):f;Reflect.ownKeys(Be).forEach(ve=>{aa(ve,Be[ve])})}m&&V1(m,e,"c");function se(Be,ve){Ae(ve)?ve.forEach(bt=>Be(bt.bind(n))):ve&&Be(ve.bind(n))}if(se(HD,h),se(Ll,g),se(KD,y),se(WD,b),se(BD,w),se($D,S),se(YD,M),se(XD,j),se(zD,ae),se(ay,k),se(cI,L),se(GD,q),Ae(x))if(x.length){const Be=e.exposed||(e.exposed={});x.forEach(ve=>{Object.defineProperty(Be,ve,{get:()=>n[ve],set:bt=>n[ve]=bt})})}else e.exposed||(e.exposed={});z&&e.render===Nr&&(e.render=z),Ce!=null&&(e.inheritAttrs=Ce),re&&(e.components=re),ke&&(e.directives=ke)}function ZD(e,t,n=Nr){Ae(e)&&(e=zm(e));for(const r in e){const o=e[r];let s;ht(o)?"default"in o?s=wr(o.from||r,o.default,!0):s=wr(o.from||r):s=wr(o),pt(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function V1(e,t,n){_r(Ae(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function dI(e,t,n,r){const o=r.includes(".")?oI(n,r):()=>n[r];if(Vt(e)){const s=t[e];qe(s)&&Kn(o,s)}else if(qe(e))Kn(o,e.bind(n));else if(ht(e))if(Ae(e))e.forEach(s=>dI(s,t,n,r));else{const s=qe(e.handler)?e.handler.bind(n):t[e.handler];qe(s)&&Kn(o,s,e)}}function ly(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>Bf(f,d,u,!0)),Bf(f,t,u)),ht(t)&&s.set(t,f),f}function Bf(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&Bf(e,s,n,!0),o&&o.forEach(u=>Bf(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const l=eL[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const eL={data:j1,props:U1,emits:U1,methods:Vu,computed:Vu,beforeCreate:kn,created:kn,beforeMount:kn,mounted:kn,beforeUpdate:kn,updated:kn,beforeDestroy:kn,beforeUnmount:kn,destroyed:kn,unmounted:kn,activated:kn,deactivated:kn,errorCaptured:kn,serverPrefetch:kn,components:Vu,directives:Vu,watch:nL,provide:j1,inject:tL};function j1(e,t){return t?e?function(){return Ht(qe(e)?e.call(this,this):e,qe(t)?t.call(this,this):t)}:t:e}function tL(e,t){return Vu(zm(e),zm(t))}function zm(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function kn(e,t){return e?[...new Set([].concat(e,t))]:t}function Vu(e,t){return e?Ht(Object.create(null),e,t):t}function U1(e,t){return e?Ae(e)&&Ae(t)?[...new Set([...e,...t])]:Ht(Object.create(null),F1(e),F1(t??{})):t}function nL(e,t){if(!e)return t;if(!t)return e;const n=Ht(Object.create(null),e);for(const r in t)n[r]=kn(e[r],t[r]);return n}function pI(){return{app:null,config:{isNativeTag:IR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let rL=0;function iL(e,t){return function(r,o=null){qe(r)||(r=Ht({},r)),o!=null&&!ht(o)&&(o=null);const s=pI(),u=new Set;let l=!1;const f=s.app={_uid:rL++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:CL,get config(){return s.config},set config(d){},use(d,...m){return u.has(d)||(d&&qe(d.install)?(u.add(d),d.install(f,...m)):qe(d)&&(u.add(d),d(f,...m))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,m){return m?(s.components[d]=m,f):s.components[d]},directive(d,m){return m?(s.directives[d]=m,f):s.directives[d]},mount(d,m,h){if(!l){const g=ye(r,o);return g.appContext=s,m&&t?t(g,d):e(g,d,h),l=!0,f._container=d,d.__vue_app__=f,Uh(g.component)||g.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,m){return s.provides[d]=m,f},runWithContext(d){sl=f;try{return d()}finally{sl=null}}};return f}}let sl=null;function aa(e,t){if(Yt){let n=Yt.provides;const r=Yt.parent&&Yt.parent.provides;r===n&&(n=Yt.provides=Object.create(r)),n[e]=t}}function wr(e,t,n=!1){const r=Yt||qn;if(r||sl){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:sl._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&qe(t)?t.call(r&&r.proxy):t}}function oL(){return!!(Yt||qn||sl)}function sL(e,t,n,r=!1){const o={},s={};Ff(s,jh,1),e.propsDefaults=Object.create(null),gI(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:WT(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function aL(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,l=nt(o),[f]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const m=e.vnode.dynamicProps;for(let h=0;h<m.length;h++){let g=m[h];if(Rh(e.emitsOptions,g))continue;const y=t[g];if(f)if(rt(s,g))y!==s[g]&&(s[g]=y,d=!0);else{const b=ti(g);o[b]=Xm(f,l,b,y,e,!1)}else y!==s[g]&&(s[g]=y,d=!0)}}}else{gI(e,t,o,s)&&(d=!0);let m;for(const h in l)(!t||!rt(t,h)&&((m=Ra(h))===h||!rt(t,m)))&&(f?n&&(n[h]!==void 0||n[m]!==void 0)&&(o[h]=Xm(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!rt(t,h))&&(delete s[h],d=!0)}d&&vi(e,"set","$attrs")}function gI(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,l;if(t)for(let f in t){if(Af(f))continue;const d=t[f];let m;o&&rt(o,m=ti(f))?!s||!s.includes(m)?n[m]=d:(l||(l={}))[m]=d:Rh(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,u=!0)}if(s){const f=nt(n),d=l||Et;for(let m=0;m<s.length;m++){const h=s[m];n[h]=Xm(o,f,h,d[h],e,!rt(d,h))}}return u}function Xm(e,t,n,r,o,s){const u=e[n];if(u!=null){const l=rt(u,"default");if(l&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&qe(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(fa(o),r=d[n]=f.call(null,t),Jo())}else r=f}u[0]&&(s&&!l?r=!1:u[1]&&(r===""||r===Ra(n))&&(r=!0))}return r}function mI(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},l=[];let f=!1;if(!qe(e)){const m=h=>{f=!0;const[g,y]=mI(h,t,!0);Ht(u,g),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!s&&!f)return ht(e)&&r.set(e,ia),ia;if(Ae(s))for(let m=0;m<s.length;m++){const h=ti(s[m]);B1(h)&&(u[h]=Et)}else if(s)for(const m in s){const h=ti(m);if(B1(h)){const g=s[m],y=u[h]=Ae(g)||qe(g)?{type:g}:Ht({},g);if(y){const b=H1(Boolean,y.type),w=H1(String,y.type);y[0]=b>-1,y[1]=w<0||b<w,(b>-1||rt(y,"default"))&&l.push(h)}}}const d=[u,l];return ht(e)&&r.set(e,d),d}function B1(e){return e[0]!=="$"}function $1(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function q1(e,t){return $1(e)===$1(t)}function H1(e,t){return Ae(t)?t.findIndex(n=>q1(n,e)):qe(t)&&q1(t,e)?0:-1}const vI=e=>e[0]==="_"||e==="$stable",cy=e=>Ae(e)?e.map(zr):[zr(e)],uL=(e,t,n)=>{if(t._n)return t;const r=nn((...o)=>cy(t(...o)),n);return r._c=!1,r},yI=(e,t,n)=>{const r=e._ctx;for(const o in e){if(vI(o))continue;const s=e[o];if(qe(s))t[o]=uL(o,s,r);else if(s!=null){const u=cy(s);t[o]=()=>u}}},bI=(e,t)=>{const n=cy(t);e.slots.default=()=>n},lL=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=nt(t),Ff(t,"_",n)):yI(t,e.slots={})}else e.slots={},t&&bI(e,t);Ff(e.slots,jh,1)},cL=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=Et;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Ht(o,t),!n&&l===1&&delete o._):(s=!t.$stable,yI(t,o)),u=t}else t&&(bI(e,t),u={default:1});if(s)for(const l in o)!vI(l)&&!(l in u)&&delete o[l]};function Ym(e,t,n,r,o=!1){if(Ae(e)){e.forEach((g,y)=>Ym(g,t&&(Ae(t)?t[y]:t),n,r,o));return}if(kf(r)&&!o)return;const s=r.shapeFlag&4?Uh(r.component)||r.component.proxy:r.el,u=o?null:s,{i:l,r:f}=e,d=t&&t.r,m=l.refs===Et?l.refs={}:l.refs,h=l.setupState;if(d!=null&&d!==f&&(Vt(d)?(m[d]=null,rt(h,d)&&(h[d]=null)):pt(d)&&(d.value=null)),qe(f))Qi(f,l,12,[u,m]);else{const g=Vt(f),y=pt(f);if(g||y){const b=()=>{if(e.f){const w=g?rt(h,f)?h[f]:m[f]:f.value;o?Ae(w)&&Xv(w,s):Ae(w)?w.includes(s)||w.push(s):g?(m[f]=[s],rt(h,f)&&(h[f]=m[f])):(f.value=[s],e.k&&(m[e.k]=f.value))}else g?(m[f]=u,rt(h,f)&&(h[f]=u)):y&&(f.value=u,e.k&&(m[e.k]=u))};u?(b.id=-1,Bn(b,n)):b()}}}const Bn=LD;function fL(e){return hL(e)}function hL(e,t){const n=jm();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:l,createComment:f,setText:d,setElementText:m,parentNode:h,nextSibling:g,setScopeId:y=Nr,insertStaticContent:b}=e,w=(A,C,R,B=null,$=null,Y=null,oe=!1,Z=null,ne=!!C.dynamicChildren)=>{if(A===C)return;A&&!qo(A,C)&&(B=F(A),jt(A,$,Y,!0),A=null),C.patchFlag===-2&&(ne=!1,C.dynamicChildren=null);const{type:J,ref:Ee,shapeFlag:fe}=C;switch(J){case Vh:S(A,C,R,B);break;case Rr:T(A,C,R,B);break;case sm:A==null&&k(C,R,B,oe);break;case Xt:re(A,C,R,B,$,Y,oe,Z,ne);break;default:fe&1?z(A,C,R,B,$,Y,oe,Z,ne):fe&6?ke(A,C,R,B,$,Y,oe,Z,ne):(fe&64||fe&128)&&J.process(A,C,R,B,$,Y,oe,Z,ne,te)}Ee!=null&&$&&Ym(Ee,A&&A.ref,Y,C||A,!C)},S=(A,C,R,B)=>{if(A==null)r(C.el=l(C.children),R,B);else{const $=C.el=A.el;C.children!==A.children&&d($,C.children)}},T=(A,C,R,B)=>{A==null?r(C.el=f(C.children||""),R,B):C.el=A.el},k=(A,C,R,B)=>{[A.el,A.anchor]=b(A.children,C,R,B,A.el,A.anchor)},D=({el:A,anchor:C},R,B)=>{let $;for(;A&&A!==C;)$=g(A),r(A,R,B),A=$;r(C,R,B)},L=({el:A,anchor:C})=>{let R;for(;A&&A!==C;)R=g(A),o(A),A=R;o(C)},z=(A,C,R,B,$,Y,oe,Z,ne)=>{oe=oe||C.type==="svg",A==null?j(C,R,B,$,Y,oe,Z,ne):q(A,C,$,Y,oe,Z,ne)},j=(A,C,R,B,$,Y,oe,Z)=>{let ne,J;const{type:Ee,props:fe,shapeFlag:_e,transition:Pe,dirs:Ge}=A;if(ne=A.el=u(A.type,Y,fe&&fe.is,fe),_e&8?m(ne,A.children):_e&16&&M(A.children,ne,null,B,$,Y&&Ee!=="foreignObject",oe,Z),Ge&&Do(A,null,B,"created"),ae(ne,A,A.scopeId,oe,B),fe){for(const N in fe)N!=="value"&&!Af(N)&&s(ne,N,null,fe[N],Y,A.children,B,$,be);"value"in fe&&s(ne,"value",null,fe.value),(J=fe.onVnodeBeforeMount)&&Wr(J,B,A)}Ge&&Do(A,null,B,"beforeMount");const Te=(!$||$&&!$.pendingBranch)&&Pe&&!Pe.persisted;Te&&Pe.beforeEnter(ne),r(ne,C,R),((J=fe&&fe.onVnodeMounted)||Te||Ge)&&Bn(()=>{J&&Wr(J,B,A),Te&&Pe.enter(ne),Ge&&Do(A,null,B,"mounted")},$)},ae=(A,C,R,B,$)=>{if(R&&y(A,R),B)for(let Y=0;Y<B.length;Y++)y(A,B[Y]);if($){let Y=$.subTree;if(C===Y){const oe=$.vnode;ae(A,oe,oe.scopeId,oe.slotScopeIds,$.parent)}}},M=(A,C,R,B,$,Y,oe,Z,ne=0)=>{for(let J=ne;J<A.length;J++){const Ee=A[J]=Z?ji(A[J]):zr(A[J]);w(null,Ee,C,R,B,$,Y,oe,Z)}},q=(A,C,R,B,$,Y,oe)=>{const Z=C.el=A.el;let{patchFlag:ne,dynamicChildren:J,dirs:Ee}=C;ne|=A.patchFlag&16;const fe=A.props||Et,_e=C.props||Et;let Pe;R&&Lo(R,!1),(Pe=_e.onVnodeBeforeUpdate)&&Wr(Pe,R,C,A),Ee&&Do(C,A,R,"beforeUpdate"),R&&Lo(R,!0);const Ge=$&&C.type!=="foreignObject";if(J?x(A.dynamicChildren,J,Z,R,B,Ge,Y):oe||ve(A,C,Z,null,R,B,Ge,Y,!1),ne>0){if(ne&16)Ce(Z,C,fe,_e,R,B,$);else if(ne&2&&fe.class!==_e.class&&s(Z,"class",null,_e.class,$),ne&4&&s(Z,"style",fe.style,_e.style,$),ne&8){const Te=C.dynamicProps;for(let N=0;N<Te.length;N++){const P=Te[N],G=fe[P],ue=_e[P];(ue!==G||P==="value")&&s(Z,P,G,ue,$,A.children,R,B,be)}}ne&1&&A.children!==C.children&&m(Z,C.children)}else!oe&&J==null&&Ce(Z,C,fe,_e,R,B,$);((Pe=_e.onVnodeUpdated)||Ee)&&Bn(()=>{Pe&&Wr(Pe,R,C,A),Ee&&Do(C,A,R,"updated")},B)},x=(A,C,R,B,$,Y,oe)=>{for(let Z=0;Z<C.length;Z++){const ne=A[Z],J=C[Z],Ee=ne.el&&(ne.type===Xt||!qo(ne,J)||ne.shapeFlag&70)?h(ne.el):R;w(ne,J,Ee,null,B,$,Y,oe,!0)}},Ce=(A,C,R,B,$,Y,oe)=>{if(R!==B){if(R!==Et)for(const Z in R)!Af(Z)&&!(Z in B)&&s(A,Z,R[Z],null,oe,C.children,$,Y,be);for(const Z in B){if(Af(Z))continue;const ne=B[Z],J=R[Z];ne!==J&&Z!=="value"&&s(A,Z,J,ne,oe,C.children,$,Y,be)}"value"in B&&s(A,"value",R.value,B.value)}},re=(A,C,R,B,$,Y,oe,Z,ne)=>{const J=C.el=A?A.el:l(""),Ee=C.anchor=A?A.anchor:l("");let{patchFlag:fe,dynamicChildren:_e,slotScopeIds:Pe}=C;Pe&&(Z=Z?Z.concat(Pe):Pe),A==null?(r(J,R,B),r(Ee,R,B),M(C.children,R,Ee,$,Y,oe,Z,ne)):fe>0&&fe&64&&_e&&A.dynamicChildren?(x(A.dynamicChildren,_e,R,$,Y,oe,Z),(C.key!=null||$&&C===$.subTree)&&_I(A,C,!0)):ve(A,C,R,Ee,$,Y,oe,Z,ne)},ke=(A,C,R,B,$,Y,oe,Z,ne)=>{C.slotScopeIds=Z,A==null?C.shapeFlag&512?$.ctx.activate(C,R,B,oe,ne):Le(C,R,B,$,Y,oe,ne):Ke(A,C,ne)},Le=(A,C,R,B,$,Y,oe)=>{const Z=A.component=_L(A,B,$);if(Lh(A)&&(Z.ctx.renderer=te),wL(Z),Z.asyncDep){if($&&$.registerDep(Z,se),!A.el){const ne=Z.subTree=ye(Rr);T(null,ne,C,R)}return}se(Z,A,C,R,$,Y,oe)},Ke=(A,C,R)=>{const B=C.component=A.component;if(ND(A,C,R))if(B.asyncDep&&!B.asyncResolved){Be(B,C,R);return}else B.next=C,TD(B.update),B.update();else C.el=A.el,B.vnode=C},se=(A,C,R,B,$,Y,oe)=>{const Z=()=>{if(A.isMounted){let{next:Ee,bu:fe,u:_e,parent:Pe,vnode:Ge}=A,Te=Ee,N;Lo(A,!1),Ee?(Ee.el=Ge.el,Be(A,Ee,oe)):Ee=Ge,fe&&xf(fe),(N=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&Wr(N,Pe,Ee,Ge),Lo(A,!0);const P=rm(A),G=A.subTree;A.subTree=P,w(G,P,h(G.el),F(G),A,$,Y),Ee.el=P.el,Te===null&&RD(A,P.el),_e&&Bn(_e,$),(N=Ee.props&&Ee.props.onVnodeUpdated)&&Bn(()=>Wr(N,Pe,Ee,Ge),$)}else{let Ee;const{el:fe,props:_e}=C,{bm:Pe,m:Ge,parent:Te}=A,N=kf(C);if(Lo(A,!1),Pe&&xf(Pe),!N&&(Ee=_e&&_e.onVnodeBeforeMount)&&Wr(Ee,Te,C),Lo(A,!0),fe&&Fe){const P=()=>{A.subTree=rm(A),Fe(fe,A.subTree,A,$,null)};N?C.type.__asyncLoader().then(()=>!A.isUnmounted&&P()):P()}else{const P=A.subTree=rm(A);w(null,P,R,B,A,$,Y),C.el=P.el}if(Ge&&Bn(Ge,$),!N&&(Ee=_e&&_e.onVnodeMounted)){const P=C;Bn(()=>Wr(Ee,Te,P),$)}(C.shapeFlag&256||Te&&kf(Te.vnode)&&Te.vnode.shapeFlag&256)&&A.a&&Bn(A.a,$),A.isMounted=!0,C=R=B=null}},ne=A.effect=new Jv(Z,()=>oy(J),A.scope),J=A.update=()=>ne.run();J.id=A.uid,Lo(A,!0),J()},Be=(A,C,R)=>{C.component=A;const B=A.vnode.props;A.vnode=C,A.next=null,aL(A,C.props,B,R),cL(A,C.children,R),Da(),R1(),La()},ve=(A,C,R,B,$,Y,oe,Z,ne=!1)=>{const J=A&&A.children,Ee=A?A.shapeFlag:0,fe=C.children,{patchFlag:_e,shapeFlag:Pe}=C;if(_e>0){if(_e&128){Pt(J,fe,R,B,$,Y,oe,Z,ne);return}else if(_e&256){bt(J,fe,R,B,$,Y,oe,Z,ne);return}}Pe&8?(Ee&16&&be(J,$,Y),fe!==J&&m(R,fe)):Ee&16?Pe&16?Pt(J,fe,R,B,$,Y,oe,Z,ne):be(J,$,Y,!0):(Ee&8&&m(R,""),Pe&16&&M(fe,R,B,$,Y,oe,Z,ne))},bt=(A,C,R,B,$,Y,oe,Z,ne)=>{A=A||ia,C=C||ia;const J=A.length,Ee=C.length,fe=Math.min(J,Ee);let _e;for(_e=0;_e<fe;_e++){const Pe=C[_e]=ne?ji(C[_e]):zr(C[_e]);w(A[_e],Pe,R,null,$,Y,oe,Z,ne)}J>Ee?be(A,$,Y,!0,!1,fe):M(C,R,B,$,Y,oe,Z,ne,fe)},Pt=(A,C,R,B,$,Y,oe,Z,ne)=>{let J=0;const Ee=C.length;let fe=A.length-1,_e=Ee-1;for(;J<=fe&&J<=_e;){const Pe=A[J],Ge=C[J]=ne?ji(C[J]):zr(C[J]);if(qo(Pe,Ge))w(Pe,Ge,R,null,$,Y,oe,Z,ne);else break;J++}for(;J<=fe&&J<=_e;){const Pe=A[fe],Ge=C[_e]=ne?ji(C[_e]):zr(C[_e]);if(qo(Pe,Ge))w(Pe,Ge,R,null,$,Y,oe,Z,ne);else break;fe--,_e--}if(J>fe){if(J<=_e){const Pe=_e+1,Ge=Pe<Ee?C[Pe].el:B;for(;J<=_e;)w(null,C[J]=ne?ji(C[J]):zr(C[J]),R,Ge,$,Y,oe,Z,ne),J++}}else if(J>_e)for(;J<=fe;)jt(A[J],$,Y,!0),J++;else{const Pe=J,Ge=J,Te=new Map;for(J=Ge;J<=_e;J++){const De=C[J]=ne?ji(C[J]):zr(C[J]);De.key!=null&&Te.set(De.key,J)}let N,P=0;const G=_e-Ge+1;let ue=!1,de=0;const Ne=new Array(G);for(J=0;J<G;J++)Ne[J]=0;for(J=Pe;J<=fe;J++){const De=A[J];if(P>=G){jt(De,$,Y,!0);continue}let $e;if(De.key!=null)$e=Te.get(De.key);else for(N=Ge;N<=_e;N++)if(Ne[N-Ge]===0&&qo(De,C[N])){$e=N;break}$e===void 0?jt(De,$,Y,!0):(Ne[$e-Ge]=J+1,$e>=de?de=$e:ue=!0,w(De,C[$e],R,null,$,Y,oe,Z,ne),P++)}const He=ue?dL(Ne):ia;for(N=He.length-1,J=G-1;J>=0;J--){const De=Ge+J,$e=C[De],Ve=De+1<Ee?C[De+1].el:B;Ne[J]===0?w(null,$e,R,Ve,$,Y,oe,Z,ne):ue&&(N<0||J!==He[N]?Gt($e,R,Ve,2):N--)}}},Gt=(A,C,R,B,$=null)=>{const{el:Y,type:oe,transition:Z,children:ne,shapeFlag:J}=A;if(J&6){Gt(A.component.subTree,C,R,B);return}if(J&128){A.suspense.move(C,R,B);return}if(J&64){oe.move(A,C,R,te);return}if(oe===Xt){r(Y,C,R);for(let fe=0;fe<ne.length;fe++)Gt(ne[fe],C,R,B);r(A.anchor,C,R);return}if(oe===sm){D(A,C,R);return}if(B!==2&&J&1&&Z)if(B===0)Z.beforeEnter(Y),r(Y,C,R),Bn(()=>Z.enter(Y),$);else{const{leave:fe,delayLeave:_e,afterLeave:Pe}=Z,Ge=()=>r(Y,C,R),Te=()=>{fe(Y,()=>{Ge(),Pe&&Pe()})};_e?_e(Y,Ge,Te):Te()}else r(Y,C,R)},jt=(A,C,R,B=!1,$=!1)=>{const{type:Y,props:oe,ref:Z,children:ne,dynamicChildren:J,shapeFlag:Ee,patchFlag:fe,dirs:_e}=A;if(Z!=null&&Ym(Z,null,R,A,!0),Ee&256){C.ctx.deactivate(A);return}const Pe=Ee&1&&_e,Ge=!kf(A);let Te;if(Ge&&(Te=oe&&oe.onVnodeBeforeUnmount)&&Wr(Te,C,A),Ee&6)ge(A.component,R,B);else{if(Ee&128){A.suspense.unmount(R,B);return}Pe&&Do(A,null,C,"beforeUnmount"),Ee&64?A.type.remove(A,C,R,$,te,B):J&&(Y!==Xt||fe>0&&fe&64)?be(J,C,R,!1,!0):(Y===Xt&&fe&384||!$&&Ee&16)&&be(ne,C,R),B&&_t(A)}(Ge&&(Te=oe&&oe.onVnodeUnmounted)||Pe)&&Bn(()=>{Te&&Wr(Te,C,A),Pe&&Do(A,null,C,"unmounted")},R)},_t=A=>{const{type:C,el:R,anchor:B,transition:$}=A;if(C===Xt){Qn(R,B);return}if(C===sm){L(A);return}const Y=()=>{o(R),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(A.shapeFlag&1&&$&&!$.persisted){const{leave:oe,delayLeave:Z}=$,ne=()=>oe(R,Y);Z?Z(A.el,Y,ne):ne()}else Y()},Qn=(A,C)=>{let R;for(;A!==C;)R=g(A),o(A),A=R;o(C)},ge=(A,C,R)=>{const{bum:B,scope:$,update:Y,subTree:oe,um:Z}=A;B&&xf(B),$.stop(),Y&&(Y.active=!1,jt(oe,A,C,R)),Z&&Bn(Z,C),Bn(()=>{A.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},be=(A,C,R,B=!1,$=!1,Y=0)=>{for(let oe=Y;oe<A.length;oe++)jt(A[oe],C,R,B,$)},F=A=>A.shapeFlag&6?F(A.component.subTree):A.shapeFlag&128?A.suspense.next():g(A.anchor||A.el),K=(A,C,R)=>{A==null?C._vnode&&jt(C._vnode,null,null,!0):w(C._vnode||null,A,C,null,null,null,R),R1(),nI(),C._vnode=A},te={p:w,um:jt,m:Gt,r:_t,mt:Le,mc:M,pc:ve,pbc:x,n:F,o:e};let ce,Fe;return t&&([ce,Fe]=t(te)),{render:K,hydrate:ce,createApp:iL(K,ce)}}function Lo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function _I(e,t,n=!1){const r=e.children,o=t.children;if(Ae(r)&&Ae(o))for(let s=0;s<r.length;s++){const u=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=ji(o[s]),l.el=u.el),n||_I(u,l)),l.type===Vh&&(l.el=u.el)}}function dL(e){const t=e.slice(),n=[0];let r,o,s,u,l;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<d?s=l+1:u=l;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const pL=e=>e.__isTeleport,Xt=Symbol.for("v-fgt"),Vh=Symbol.for("v-txt"),Rr=Symbol.for("v-cmt"),sm=Symbol.for("v-stc"),qu=[];let Pr=null;function Ue(e=!1){qu.push(Pr=e?null:[])}function gL(){qu.pop(),Pr=qu[qu.length-1]||null}let al=1;function K1(e){al+=e}function wI(e){return e.dynamicChildren=al>0?Pr||ia:null,gL(),al>0&&Pr&&Pr.push(e),e}function Qe(e,t,n,r,o,s){return wI(O(e,t,n,r,o,s,!0))}function rs(e,t,n,r,o){return wI(ye(e,t,n,r,o,!0))}function Qm(e){return e?e.__v_isVNode===!0:!1}function qo(e,t){return e.type===t.type&&e.key===t.key}const jh="__vInternal",EI=({key:e})=>e??null,Cf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Vt(e)||pt(e)||qe(e)?{i:qn,r:e,k:t,f:!!n}:e:null);function O(e,t=null,n=null,r=0,o=null,s=e===Xt?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&EI(t),ref:t&&Cf(t),scopeId:Dh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:qn};return l?(fy(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Vt(n)?8:16),al>0&&!u&&Pr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Pr.push(f),f}const ye=mL;function mL(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===fI)&&(e=Rr),Qm(e)){const l=ro(e,t,!0);return n&&fy(l,n),al>0&&!s&&Pr&&(l.shapeFlag&6?Pr[Pr.indexOf(e)]=l:Pr.push(l)),l.patchFlag|=-2,l}if(AL(e)&&(e=e.__vccOpts),t){t=vL(t);let{class:l,style:f}=t;l&&!Vt(l)&&(t.class=vt(l)),ht(f)&&(GT(f)&&!Ae(f)&&(f=Ht({},f)),t.style=xh(f))}const u=Vt(e)?1:DD(e)?128:pL(e)?64:ht(e)?4:qe(e)?2:0;return O(e,t,n,r,o,u,s,!0)}function vL(e){return e?GT(e)||jh in e?Ht({},e):e:null}function ro(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,l=t?mr(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&EI(l),ref:t&&t.ref?n&&o?Ae(o)?o.concat(Cf(t)):[o,Cf(t)]:Cf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Xt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ro(e.ssContent),ssFallback:e.ssFallback&&ro(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function un(e=" ",t=0){return ye(Vh,null,e,t)}function Yr(e="",t=!1){return t?(Ue(),rs(Rr,null,e)):ye(Rr,null,e)}function zr(e){return e==null||typeof e=="boolean"?ye(Rr):Ae(e)?ye(Xt,null,e.slice()):typeof e=="object"?ji(e):ye(Vh,null,String(e))}function ji(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ro(e)}function fy(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ae(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),fy(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(jh in t)?t._ctx=qn:o===3&&qn&&(qn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else qe(t)?(t={default:t,_ctx:qn},n=32):(t=String(t),r&64?(n=16,t=[un(t)]):n=8);e.children=t,e.shapeFlag|=n}function mr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=vt([t.class,r.class]));else if(o==="style")t.style=xh([t.style,r.style]);else if(Sh(o)){const s=t[o],u=r[o];u&&s!==u&&!(Ae(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function Wr(e,t,n,r=null){_r(e,t,7,[n,r])}const yL=pI();let bL=0;function _L(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||yL,s={uid:bL++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new RT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mI(r,o),emitsOptions:iI(r,o),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:r.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=xD.bind(null,s),e.ce&&e.ce(s),s}let Yt=null;const Ma=()=>Yt||qn;let hy,Gs,W1="__VUE_INSTANCE_SETTERS__";(Gs=jm()[W1])||(Gs=jm()[W1]=[]),Gs.push(e=>Yt=e),hy=e=>{Gs.length>1?Gs.forEach(t=>t(e)):Gs[0](e)};const fa=e=>{hy(e),e.scope.on()},Jo=()=>{Yt&&Yt.scope.off(),hy(null)};function SI(e){return e.vnode.shapeFlag&4}let ul=!1;function wL(e,t=!1){ul=t;const{props:n,children:r}=e.vnode,o=SI(e);sL(e,n,o,t),lL(e,r);const s=o?EL(e,t):void 0;return ul=!1,s}function EL(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ph(new Proxy(e.ctx,QD));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?TL(e):null;fa(e),Da();const s=Qi(r,e,0,[e.props,o]);if(La(),Jo(),xT(s)){if(s.then(Jo,Jo),t)return s.then(u=>{G1(e,u,t)}).catch(u=>{Nh(u,e,0)});e.asyncDep=s}else G1(e,s,t)}else TI(e,t)}function G1(e,t,n){qe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ht(t)&&(e.setupState=JT(t)),TI(e,n)}let z1;function TI(e,t,n){const r=e.type;if(!e.render){if(!t&&z1&&!r.render){const o=r.template||ly(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,d=Ht(Ht({isCustomElement:s,delimiters:l},u),f);r.render=z1(o,d)}}e.render=r.render||Nr}fa(e),Da(),JD(e),La(),Jo()}function SL(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Gn(e,"get","$attrs"),t[n]}}))}function TL(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return SL(e)},slots:e.slots,emit:e.emit,expose:t}}function Uh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(JT(Ph(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in $u)return $u[n](e)},has(t,n){return n in t||n in $u}}))}function IL(e,t=!0){return qe(e)?e.displayName||e.name:e.name||t&&e.__name}function AL(e){return qe(e)&&"__vccOpts"in e}const ze=(e,t)=>wD(e,t,ul);function is(e,t,n){const r=arguments.length;return r===2?ht(t)&&!Ae(t)?Qm(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Qm(n)&&(n=[n]),ye(e,t,n))}const xL=Symbol.for("v-scx"),kL=()=>wr(xL),CL="3.3.4",OL="http://www.w3.org/2000/svg",Ho=typeof document<"u"?document:null,X1=Ho&&Ho.createElement("template"),PL={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?Ho.createElementNS(OL,e):Ho.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Ho.createTextNode(e),createComment:e=>Ho.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ho.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{X1.innerHTML=r?`<svg>${e}</svg>`:e;const l=X1.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function NL(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function RL(e,t,n){const r=e.style,o=Vt(n);if(n&&!o){if(t&&!Vt(t))for(const s in t)n[s]==null&&Jm(r,s,"");for(const s in n)Jm(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const Y1=/\s*!important$/;function Jm(e,t,n){if(Ae(n))n.forEach(r=>Jm(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=DL(e,t);Y1.test(n)?e.setProperty(Ra(r),n.replace(Y1,""),"important"):e[r]=n}}const Q1=["Webkit","Moz","ms"],am={};function DL(e,t){const n=am[t];if(n)return n;let r=ti(t);if(r!=="filter"&&r in e)return am[t]=r;r=Ah(r);for(let o=0;o<Q1.length;o++){const s=Q1[o]+r;if(s in e)return am[t]=s}return t}const J1="http://www.w3.org/1999/xlink";function LL(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(J1,t.slice(6,t.length)):e.setAttributeNS(J1,t,n);else{const s=FR(t);n==null||s&&!PT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function ML(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,m=n??"";d!==m&&(e.value=m),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=PT(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function II(e,t,n,r){e.addEventListener(t,n,r)}function FL(e,t,n,r){e.removeEventListener(t,n,r)}function VL(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[l,f]=jL(t);if(r){const d=s[t]=$L(r,o);II(e,l,d,f)}else u&&(FL(e,l,u,f),s[t]=void 0)}}const Z1=/(?:Once|Passive|Capture)$/;function jL(e){let t;if(Z1.test(e)){t={};let r;for(;r=e.match(Z1);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Ra(e.slice(2)),t]}let um=0;const UL=Promise.resolve(),BL=()=>um||(UL.then(()=>um=0),um=Date.now());function $L(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;_r(qL(r,n.value),t,5,[r])};return n.value=e,n.attached=BL(),n}function qL(e,t){if(Ae(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const eE=/^on[a-z]/,HL=(e,t,n,r,o=!1,s,u,l,f)=>{t==="class"?NL(e,r,o):t==="style"?RL(e,n,r):Sh(t)?zv(t)||VL(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):KL(e,t,r,o))?ML(e,t,r,s,u,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),LL(e,t,r,o))};function KL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&eE.test(t)&&qe(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||eE.test(t)&&Vt(n)?!1:t in e}const Ni="transition",Cu="animation",dy=(e,{slots:t})=>is(UD,WL(e),t);dy.displayName="Transition";const AI={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};dy.props=Ht({},sI,AI);const Mo=(e,t=[])=>{Ae(e)?e.forEach(n=>n(...t)):e&&e(...t)},tE=e=>e?Ae(e)?e.some(t=>t.length>1):e.length>1:!1;function WL(e){const t={};for(const re in e)re in AI||(t[re]=e[re]);if(e.css===!1)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:f=s,appearActiveClass:d=u,appearToClass:m=l,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=e,b=GL(o),w=b&&b[0],S=b&&b[1],{onBeforeEnter:T,onEnter:k,onEnterCancelled:D,onLeave:L,onLeaveCancelled:z,onBeforeAppear:j=T,onAppear:ae=k,onAppearCancelled:M=D}=t,q=(re,ke,Le)=>{Fo(re,ke?m:l),Fo(re,ke?d:u),Le&&Le()},x=(re,ke)=>{re._isLeaving=!1,Fo(re,h),Fo(re,y),Fo(re,g),ke&&ke()},Ce=re=>(ke,Le)=>{const Ke=re?ae:k,se=()=>q(ke,re,Le);Mo(Ke,[ke,se]),nE(()=>{Fo(ke,re?f:s),Ri(ke,re?m:l),tE(Ke)||rE(ke,r,w,se)})};return Ht(t,{onBeforeEnter(re){Mo(T,[re]),Ri(re,s),Ri(re,u)},onBeforeAppear(re){Mo(j,[re]),Ri(re,f),Ri(re,d)},onEnter:Ce(!1),onAppear:Ce(!0),onLeave(re,ke){re._isLeaving=!0;const Le=()=>x(re,ke);Ri(re,h),YL(),Ri(re,g),nE(()=>{re._isLeaving&&(Fo(re,h),Ri(re,y),tE(L)||rE(re,r,S,Le))}),Mo(L,[re,Le])},onEnterCancelled(re){q(re,!1),Mo(D,[re])},onAppearCancelled(re){q(re,!0),Mo(M,[re])},onLeaveCancelled(re){x(re),Mo(z,[re])}})}function GL(e){if(e==null)return null;if(ht(e))return[lm(e.enter),lm(e.leave)];{const t=lm(e);return[t,t]}}function lm(e){return PR(e)}function Ri(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Fo(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function nE(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let zL=0;function rE(e,t,n,r){const o=e._endId=++zL,s=()=>{o===e._endId&&r()};if(n)return setTimeout(s,n);const{type:u,timeout:l,propCount:f}=XL(e,t);if(!u)return r();const d=u+"end";let m=0;const h=()=>{e.removeEventListener(d,g),s()},g=y=>{y.target===e&&++m>=f&&h()};setTimeout(()=>{m<f&&h()},l+1),e.addEventListener(d,g)}function XL(e,t){const n=window.getComputedStyle(e),r=b=>(n[b]||"").split(", "),o=r(`${Ni}Delay`),s=r(`${Ni}Duration`),u=iE(o,s),l=r(`${Cu}Delay`),f=r(`${Cu}Duration`),d=iE(l,f);let m=null,h=0,g=0;t===Ni?u>0&&(m=Ni,h=u,g=s.length):t===Cu?d>0&&(m=Cu,h=d,g=f.length):(h=Math.max(u,d),m=h>0?u>d?Ni:Cu:null,g=m?m===Ni?s.length:f.length:0);const y=m===Ni&&/\b(transform|all)(,|$)/.test(r(`${Ni}Property`).toString());return{type:m,timeout:h,propCount:g,hasTransform:y}}function iE(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>oE(n)+oE(e[r])))}function oE(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function YL(){return document.body.offsetHeight}const sE=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ae(t)?n=>xf(t,n):t},QL={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=Th(t);II(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?OT($f(u)):$f(u));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=sE(r)},mounted(e,{value:t}){aE(e,t)},beforeUpdate(e,t,n){e._assign=sE(n)},updated(e,{value:t}){aE(e,t)}};function aE(e,t){const n=e.multiple;if(!(n&&!Ae(t)&&!Th(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],u=$f(s);if(n)Ae(t)?s.selected=jR(t,u)>-1:s.selected=t.has(u);else if(kh($f(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function $f(e){return"_value"in e?e._value:e.value}const JL=["ctrl","shift","alt","meta"],ZL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>JL.some(n=>e[`${n}Key`]&&!t.includes(n))},Ft=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=ZL[t[o]];if(s&&s(n,t))return}return e(n,...r)},os={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ou(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Ou(e,!0),r.enter(e)):r.leave(e,()=>{Ou(e,!1)}):Ou(e,t))},beforeUnmount(e,{value:t}){Ou(e,t)}};function Ou(e,t){e.style.display=t?e._vod:"none"}const eM=Ht({patchProp:HL},PL);let uE;function tM(){return uE||(uE=fL(eM))}const nM=(...e)=>{const t=tM().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=rM(r);if(!o)return;const s=t._component;!qe(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function rM(e){return Vt(e)?document.querySelector(e):e}var iM=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let xI;const Bh=e=>xI=e,kI=Symbol();function Zm(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Hu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Hu||(Hu={}));function oM(){const e=DT(!0),t=e.run(()=>tn({}));let n=[],r=[];const o=Ph({install(s){Bh(o),o._a=s,s.provide(kI,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!iM?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const CI=()=>{};function lE(e,t,n,r=CI){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&LT()&&BR(o),o}function zs(e,...t){e.slice().forEach(n=>{n(...t)})}const sM=e=>e();function ev(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Zm(o)&&Zm(r)&&e.hasOwnProperty(n)&&!pt(r)&&!Yi(r)?e[n]=ev(o,r):e[n]=r}return e}const aM=Symbol();function uM(e){return!Zm(e)||!e.hasOwnProperty(aM)}const{assign:Vi}=Object;function lM(e){return!!(pt(e)&&e.effect)}function cM(e,t,n,r){const{state:o,actions:s,getters:u}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const m=vD(n.state.value[e]);return Vi(m,s,Object.keys(u||{}).reduce((h,g)=>(h[g]=Ph(ze(()=>{Bh(n);const y=n._s.get(e);return u[g].call(y,y)})),h),{}))}return f=OI(e,d,t,n,r,!0),f}function OI(e,t,n={},r,o,s){let u;const l=Vi({actions:{}},n),f={deep:!0};let d,m,h=[],g=[],y;const b=r.state.value[e];!s&&!b&&(r.state.value[e]={}),tn({});let w;function S(M){let q;d=m=!1,typeof M=="function"?(M(r.state.value[e]),q={type:Hu.patchFunction,storeId:e,events:y}):(ev(r.state.value[e],M),q={type:Hu.patchObject,payload:M,storeId:e,events:y});const x=w=Symbol();Cr().then(()=>{w===x&&(d=!0)}),m=!0,zs(h,q,r.state.value[e])}const T=s?function(){const{state:q}=n,x=q?q():{};this.$patch(Ce=>{Vi(Ce,x)})}:CI;function k(){u.stop(),h=[],g=[],r._s.delete(e)}function D(M,q){return function(){Bh(r);const x=Array.from(arguments),Ce=[],re=[];function ke(se){Ce.push(se)}function Le(se){re.push(se)}zs(g,{args:x,name:M,store:z,after:ke,onError:Le});let Ke;try{Ke=q.apply(this&&this.$id===e?this:z,x)}catch(se){throw zs(re,se),se}return Ke instanceof Promise?Ke.then(se=>(zs(Ce,se),se)).catch(se=>(zs(re,se),Promise.reject(se))):(zs(Ce,Ke),Ke)}}const L={_p:r,$id:e,$onAction:lE.bind(null,g),$patch:S,$reset:T,$subscribe(M,q={}){const x=lE(h,M,q.detached,()=>Ce()),Ce=u.run(()=>Kn(()=>r.state.value[e],re=>{(q.flush==="sync"?m:d)&&M({storeId:e,type:Hu.direct,events:y},re)},Vi({},f,q)));return x},$dispose:k},z=ni(L);r._s.set(e,z);const ae=(r._a&&r._a.runWithContext||sM)(()=>r._e.run(()=>(u=DT()).run(t)));for(const M in ae){const q=ae[M];if(pt(q)&&!lM(q)||Yi(q))s||(b&&uM(q)&&(pt(q)?q.value=b[M]:ev(q,b[M])),r.state.value[e][M]=q);else if(typeof q=="function"){const x=D(M,q);ae[M]=x,l.actions[M]=q}}return Vi(z,ae),Vi(nt(z),ae),Object.defineProperty(z,"$state",{get:()=>r.state.value[e],set:M=>{S(q=>{Vi(q,M)})}}),r._p.forEach(M=>{Vi(z,u.run(()=>M({store:z,app:r._a,pinia:r,options:l})))}),b&&s&&n.hydrate&&n.hydrate(z.$state,b),d=!0,m=!0,z}function py(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(l,f){const d=oL();return l=l||(d?wr(kI,null):null),l&&Bh(l),l=xI,l._s.has(r)||(s?OI(r,t,o,l):cM(r,o,l)),l._s.get(r)}return u.$id=r,u}function ss(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function gs(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function $h(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const tv=py("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var nv=function(e,t){return nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},nv(e,t)};function xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");nv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ha=function(){return ha=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ha.apply(this,arguments)};function W(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(m){try{d(r.next(m))}catch(h){u(h)}}function f(m){try{d(r.throw(m))}catch(h){u(h)}}function d(m){m.done?s(m.value):o(m.value).then(l,f)}d((r=r.apply(e,t||[])).next())})}function H(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(m){return f([d,m])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(m){d=[6,m],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function cm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function hf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function At(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PI=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},fM=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},hM={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,m=s>>2,h=(s&3)<<4|l>>4,g=(l&15)<<2|d>>6,y=d&63;f||(y=64,u||(g=64)),r.push(n[m],n[h],n[g],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(PI(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):fM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var m=o<e.length,h=m?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||h==null)throw Error();var g=s<<2|l>>4;if(r.push(g),d!==64){var y=l<<4&240|d>>2;if(r.push(y),h!==64){var b=d<<6&192|h;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},dM=function(e){var t=PI(e);return hM.encodeByteArray(t,!0)},cE=function(e){return dM(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(e){return ll(void 0,e)}function ll(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!gM(r)||(e[r]=ll(e[r],t[r]));return e}function gM(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mM=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=ha({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[cE(JSON.stringify(n)),cE(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(as())}function RI(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yM(){return typeof self=="object"&&self.self===self}function bM(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function _M(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wM(){return as().indexOf("Electron/")>=0}function EM(){var e=as();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function SM(){return as().indexOf("MSAppHost/")>=0}function TM(){return!RI()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IM="FirebaseError",DI=function(e){xe(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=IM,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,gy.prototype.create),s}return t}(Error),gy=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?AM(u,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new DI(s,f,o);return d},e}();function AM(e,t){return e.replace(xM,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var xM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kM(e,t){var n=new CM(e,t);return n.subscribe.bind(n)}var CM=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OM(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=fm),s.error===void 0&&(s.error=fm),s.complete===void 0&&(s.complete=fm);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function OM(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(e){return e&&e._delegate?e._delegate:e}var Fl=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PM=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new mM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(RM(t))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}try{for(var o=cm(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=hf(s.value,2),l=u[0],f=u[1],d=this.normalizeInstanceIdentifier(l);try{var m=this.getOrInitializeService({instanceIdentifier:d});f.resolve(m)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Uo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return W(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(At(At([],hf(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),hf(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Uo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Uo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=cm(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var m=hf(d.value,2),h=m[0],g=m[1],y=this.normalizeInstanceIdentifier(h);u===y&&g.resolve(l)}}catch(b){n={error:b}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=cm(s),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NM(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Uo),this.component?this.component.multipleInstances?t:Uo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function NM(e){return e===Uo?void 0:e}function RM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DM=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new PM(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function kr(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vo,my=[],ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ot||(ot={}));var LI={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},LM=ot.INFO,MM=(Vo={},Vo[ot.DEBUG]="log",Vo[ot.VERBOSE]="log",Vo[ot.INFO]="info",Vo[ot.WARN]="warn",Vo[ot.ERROR]="error",Vo),FM=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=MM[t];if(s)console[s].apply(console,kr(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},MI=function(){function e(t){this.name=t,this._logLevel=LM,this._logHandler=FM,this._userLogHandler=null,my.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ot))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?LI[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,ot.DEBUG],t)),this._logHandler.apply(this,kr([this,ot.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,ot.VERBOSE],t)),this._logHandler.apply(this,kr([this,ot.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,ot.INFO],t)),this._logHandler.apply(this,kr([this,ot.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,ot.WARN],t)),this._logHandler.apply(this,kr([this,ot.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,kr([this,ot.ERROR],t)),this._logHandler.apply(this,kr([this,ot.ERROR],t))},e}();function VM(e){my.forEach(function(t){t.setLogLevel(e)})}function jM(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=LI[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,d){for(var m=[],h=2;h<arguments.length;h++)m[h-2]=arguments[h];var g=m.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");d>=(l??f.logLevel)&&e({level:ot[d].toLowerCase(),message:g,args:m,type:f.name})}},r=0,o=my;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Di,UM=(Di={},Di["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Di["bad-app-name"]="Illegal App name: '{$appName}",Di["duplicate-app"]="Firebase App named '{$appName}' already exists",Di["app-deleted"]="Firebase App named '{$appName}' already deleted",Di["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Di["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Di),Js=new gy("app","Firebase",UM),FI="@firebase/app",BM="0.6.30",$M="@firebase/analytics",qM="@firebase/app-check",HM="@firebase/auth",KM="@firebase/database",WM="@firebase/functions",GM="@firebase/installations",zM="@firebase/messaging",XM="@firebase/performance",YM="@firebase/remote-config",QM="@firebase/storage",JM="@firebase/firestore",ZM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn,qf="[DEFAULT]",eF=(gn={},gn[FI]="fire-core",gn[$M]="fire-analytics",gn[qM]="fire-app-check",gn[HM]="fire-auth",gn[KM]="fire-rtdb",gn[WM]="fire-fn",gn[GM]="fire-iid",gn[zM]="fire-fcm",gn[XM]="fire-perf",gn[YM]="fire-rc",gn[QM]="fire-gcs",gn[JM]="fire-fst",gn["fire-js"]="fire-js",gn[ZM]="fire-js-all",gn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var da=new MI("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Of=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=pM(t),this.container=new DM(n.name),this._addComponent(new Fl("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=qf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=qf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){da.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Js.create("app-deleted",{appName:this.name_})},e}();Of.prototype.name&&Of.prototype.options||Of.prototype.delete||console.log("dc");var tF="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:d,setLogLevel:VM,onLog:m,apps:null,SDK_VERSION:tF,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(g){delete t[g]}function s(g){if(g=g||qf,!fE(t,g))throw Js.create("no-app",{appName:g});return t[g]}s.App=e;function u(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var w=y;w.name===void 0&&(w.name=qf);var S=w.name;if(typeof S!="string"||!S)throw Js.create("bad-app-name",{appName:String(S)});if(fE(t,S))throw Js.create("duplicate-app",{appName:S});var T=new e(g,w,r);return t[S]=T,T}function l(){return Object.keys(t).map(function(g){return t[g]})}function f(g){var y=g.name;if(n.has(y))return da.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var b=function(k){if(k===void 0&&(k=s()),typeof k[y]!="function")throw Js.create("invalid-app-argument",{appName:y});return k[y]()};g.serviceProps!==void 0&&ll(b,g.serviceProps),r[y]=b,e.prototype[y]=function(){for(var k=[],D=0;D<arguments.length;D++)k[D]=arguments[D];var L=this._getService.bind(this,y);return L.apply(this,g.multipleInstances?k:[])}}for(var w=0,S=Object.keys(t);w<S.length;w++){var T=S[w];t[T]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function d(g,y,b){var w,S=(w=eF[g])!==null&&w!==void 0?w:g;b&&(S+="-"+b);var T=S.match(/\s|\//),k=y.match(/\s|\//);if(T||k){var D=['Unable to register library "'+S+'" with version "'+y+'":'];T&&D.push('library name "'+S+'" contains illegal characters (whitespace or "/")'),T&&k&&D.push("and"),k&&D.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),da.warn(D.join(" "));return}f(new Fl(S+"-version",function(){return{library:S,version:y}},"VERSION"))}function m(g,y){if(g!==null&&typeof g!="function")throw Js.create("invalid-log-argument");jM(g,y)}function h(g,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){var e=nF(Of);e.INTERNAL=ha(ha({},e.INTERNAL),{createFirebaseNamespace:VI,extendNamespace:t,createSubscribe:kM,ErrorFactory:gy,deepExtend:ll});function t(n){ll(e,n)}return e}var vy=VI();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rF=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(iF(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function iF(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(e,t){e.INTERNAL.registerComponent(new Fl("platform-logger",function(n){return new rF(n)},"PRIVATE")),e.registerVersion(FI,BM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(yM()&&self.firebase!==void 0){da.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var hE=self.firebase.SDK_VERSION;hE&&hE.indexOf("LITE")>=0&&da.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var sF=vy.initializeApp;vy.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return RI()&&da.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),sF.apply(void 0,e)};var Oe=vy;oF(Oe);var aF="firebase",jI="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oe.registerVersion(aF,jI,"app");Oe.SDK_VERSION=jI;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,c){i!=Array.prototype&&i!=Object.prototype&&(i[a]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var c=i[a];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,a){if(a){var c=r;i=i.split(".");for(var p=0;p<i.length-1;p++){var v=i[p];v in c||(c[v]={}),c=c[v]}i=i[i.length-1],p=c[i],a=a(p),a!=p&&a!=null&&t(c,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(E){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{E(I.resolve,I.reject)}catch(U){I.reject(U)}}function c(){this.a=null}function p(E){return E instanceof a?E:new a(function(I){I(E)})}if(i)return i;c.prototype.b=function(E){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(E)};var v=r.setTimeout;c.prototype.c=function(E){v(E,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var E=this.a;this.a=[];for(var I=0;I<E.length;++I){var U=E[I];E[I]=null;try{U()}catch(X){this.f(X)}}}this.a=null},c.prototype.f=function(E){this.c(function(){throw E})},a.prototype.f=function(){function E(X){return function(Me){U||(U=!0,X.call(I,Me))}}var I=this,U=!1;return{resolve:E(this.m),reject:E(this.g)}},a.prototype.m=function(E){if(E===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(E instanceof a)this.s(E);else{e:switch(typeof E){case"object":var I=E!=null;break e;case"function":I=!0;break e;default:I=!1}I?this.v(E):this.h(E)}},a.prototype.v=function(E){var I=void 0;try{I=E.then}catch(U){this.g(U);return}typeof I=="function"?this.u(I,E):this.h(E)},a.prototype.g=function(E){this.i(2,E)},a.prototype.h=function(E){this.i(1,E)},a.prototype.i=function(E,I){if(this.b!=0)throw Error("Cannot settle("+E+", "+I+"): Promise already settled in state"+this.b);this.b=E,this.c=I,this.l()},a.prototype.l=function(){if(this.a!=null){for(var E=0;E<this.a.length;++E)_.b(this.a[E]);this.a=null}};var _=new c;return a.prototype.s=function(E){var I=this.f();E.Ra(I.resolve,I.reject)},a.prototype.u=function(E,I){var U=this.f();try{E.call(I,U.resolve,U.reject)}catch(X){U.reject(X)}},a.prototype.then=function(E,I){function U(it,Zt){return typeof it=="function"?function(li){try{X(it(li))}catch(tm){Me(tm)}}:Zt}var X,Me,ut=new a(function(it,Zt){X=it,Me=Zt});return this.Ra(U(E,X),U(I,Me)),ut},a.prototype.catch=function(E){return this.then(void 0,E)},a.prototype.Ra=function(E,I){function U(){switch(X.b){case 1:E(X.c);break;case 2:I(X.c);break;default:throw Error("Unexpected state: "+X.b)}}var X=this;this.a==null?_.b(U):this.a.push(U)},a.resolve=p,a.reject=function(E){return new a(function(I,U){U(E)})},a.race=function(E){return new a(function(I,U){for(var X=u(E),Me=X.next();!Me.done;Me=X.next())p(Me.value).Ra(I,U)})},a.all=function(E){var I=u(E),U=I.next();return U.done?p([]):new a(function(X,Me){function ut(li){return function(tm){it[li]=tm,Zt--,Zt==0&&X(it)}}var it=[],Zt=0;do it.push(void 0),Zt++,p(U.value).Ra(ut(it.length-1),Me),U=I.next();while(!U.done)})},a});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,m=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function g(){}function y(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function b(i){var a=y(i);return a=="array"||a=="object"&&typeof i.length=="number"}function w(i){return y(i)=="function"}function S(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function T(i){return Object.prototype.hasOwnProperty.call(i,k)&&i[k]||(i[k]=++D)}var k="closure_uid_"+(1e9*Math.random()>>>0),D=0;function L(i,a,c){return i.call.apply(i.bind,arguments)}function z(i,a,c){if(!i)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,p),i.apply(a,v)}}return function(){return i.apply(a,arguments)}}function j(i,a,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?j=L:j=z,j.apply(null,arguments)}function ae(i,a){var c=Array.prototype.slice.call(arguments,1);return function(){var p=c.slice();return p.push.apply(p,arguments),i.apply(this,p)}}function M(i,a){function c(){}c.prototype=a.prototype,i.bb=a.prototype,i.prototype=new c,i.prototype.constructor=i}function q(i){return i}function x(i,a,c){this.code=re+i,this.message=a||ke[i]||"",this.a=c||null}M(x,Error),x.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},x.prototype.toJSON=function(){return this.w()};function Ce(i){var a=i&&i.code;return a?new x(a.substring(re.length),i.message,i.serverResponse):null}var re="auth/",ke={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Le={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ke(i){for(var a in Le)if(Le[a].id===i)return i=Le[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var se;se=Ke("__EID__")?"__EID__":void 0;function Be(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function ve(i){if(Error.captureStackTrace)Error.captureStackTrace(this,ve);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}M(ve,Error),ve.prototype.name="CustomError";function bt(i,a){i=i.split("%s");for(var c="",p=i.length-1,v=0;v<p;v++)c+=i[v]+(v<a.length?a[v]:"%s");ve.call(this,c+i[p])}M(bt,ve),bt.prototype.name="AssertionError";function Pt(i,a){throw new bt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function Gt(i,a){this.c=i,this.f=a,this.b=0,this.a=null}Gt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function jt(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function _t(){this.b=this.a=null}var Qn=new Gt(function(){return new be},function(i){i.reset()});_t.prototype.add=function(i,a){var c=Qn.get();c.set(i,a),this.b?this.b.next=c:this.a=c,this.b=c};function ge(){var i=l0,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function be(){this.next=this.b=this.a=null}be.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},be.prototype.reset=function(){this.next=this.b=this.a=null};var F=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===a)return c;return-1},K=Array.prototype.forEach?function(i,a,c){Array.prototype.forEach.call(i,a,c)}:function(i,a,c){for(var p=i.length,v=typeof i=="string"?i.split(""):i,_=0;_<p;_++)_ in v&&a.call(c,v[_],_,i)};function te(i,a){for(var c=typeof i=="string"?i.split(""):i,p=i.length-1;0<=p;--p)p in c&&a.call(void 0,c[p],p,i)}var ce=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var c=i.length,p=[],v=0,_=typeof i=="string"?i.split(""):i,E=0;E<c;E++)if(E in _){var I=_[E];a.call(void 0,I,E,i)&&(p[v++]=I)}return p},Fe=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var c=i.length,p=Array(c),v=typeof i=="string"?i.split(""):i,_=0;_<c;_++)_ in v&&(p[_]=a.call(void 0,v[_],_,i));return p},A=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var c=i.length,p=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in p&&a.call(void 0,p[v],v,i))return!0;return!1};function C(i){e:{for(var a=iP,c=i.length,p=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in p&&a.call(void 0,p[v],v,i)){a=v;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function R(i,a){return 0<=F(i,a)}function B(i,a){a=F(i,a);var c;return(c=0<=a)&&Array.prototype.splice.call(i,a,1),c}function $(i,a){var c=0;te(i,function(p,v){a.call(void 0,p,v,i)&&Array.prototype.splice.call(i,v,1).length==1&&c++})}function Y(i){return Array.prototype.concat.apply([],arguments)}function oe(i){var a=i.length;if(0<a){for(var c=Array(a),p=0;p<a;p++)c[p]=i[p];return c}return[]}var Z=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},ne=/&/g,J=/</g,Ee=/>/g,fe=/"/g,_e=/'/g,Pe=/\x00/g,Ge=/[\x00&<>"']/;function Te(i,a){return i.indexOf(a)!=-1}function N(i,a){return i<a?-1:i>a?1:0}var P;e:{var G=f.navigator;if(G){var ue=G.userAgent;if(ue){P=ue;break e}}P=""}function de(i){return Te(P,i)}function Ne(i,a){for(var c in i)a.call(void 0,i[c],c,i)}function He(i){for(var a in i)return!1;return!0}function De(i){var a={},c;for(c in i)a[c]=i[c];return a}var $e="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ve(i,a){for(var c,p,v=1;v<arguments.length;v++){p=arguments[v];for(c in p)i[c]=p[c];for(var _=0;_<$e.length;_++)c=$e[_],Object.prototype.hasOwnProperty.call(p,c)&&(i[c]=p[c])}}function dn(i,a){e:{try{var c=i&&i.ownerDocument,p=c&&(c.defaultView||c.parentWindow);if(p=p||f,p.Element&&p.Location){var v=p;break e}}catch{}v=null}if(v&&typeof v[a]<"u"&&(!i||!(i instanceof v[a])&&(i instanceof v.Location||i instanceof v.Element))){if(S(i))try{var _=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{_="<object could not be stringified>"}else _=i===void 0?"undefined":i===null?"null":typeof i;Pt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,_)}}function pn(i,a){this.a=i===ic&&a||"",this.b=Hb}pn.prototype.ta=!0,pn.prototype.sa=function(){return this.a},pn.prototype.toString=function(){return"Const{"+this.a+"}"};function kd(i){return i instanceof pn&&i.constructor===pn&&i.b===Hb?i.a:(Pt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var Hb={},ic={},oc;function Kb(){if(oc===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:q,createScript:q,createScriptURL:q})}catch(c){f.console&&f.console.error(c.message)}oc=i}else oc=i}return oc}function Ts(i,a){this.a=a===Gb?i:""}Ts.prototype.ta=!0,Ts.prototype.sa=function(){return this.a.toString()},Ts.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function Wb(i){return i instanceof Ts&&i.constructor===Ts?i.a:(Pt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function Cd(i,a){var c=kd(i);if(!DC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(RC,function(p,v){if(!Object.prototype.hasOwnProperty.call(a,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(a));return p=a[v],p instanceof pn?kd(p):encodeURIComponent(String(p))}),LC(i)}var RC=/%{(\w+)}/g,DC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Gb={};function LC(i){var a=Kb();return i=a?a.createScriptURL(i):i,new Ts(i,Gb)}function Fn(i,a){this.a=a===Ga?i:""}Fn.prototype.ta=!0,Fn.prototype.sa=function(){return this.a.toString()},Fn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function sc(i){return i instanceof Fn&&i.constructor===Fn?i.a:(Pt("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var MC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,FC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,zb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Xb(i){if(i instanceof Fn)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),zb.test(i))i=new Fn(i,Ga);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(FC);i=a&&MC.test(a[1])?new Fn(i,Ga):null}return i}function Yb(i){return i instanceof Fn?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),zb.test(i)||(i="about:invalid#zClosurez"),new Fn(i,Ga))}var Ga={},Qb=new Fn("about:invalid#zClosurez",Ga);function Is(i,a,c){this.a=c===Jb?i:""}Is.prototype.ta=!0,Is.prototype.sa=function(){return this.a.toString()},Is.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function VC(i){return i instanceof Is&&i.constructor===Is?i.a:(Pt("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var Jb={};function jC(i,a){dn(i,"HTMLScriptElement"),i.src=Wb(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(m===null&&(m=h(f.document)),a=m),a&&i.setAttribute("nonce",a)}function Zb(i,a,c,p){return i=i instanceof Fn?i:Yb(i),a=a||f,c=c instanceof pn?kd(c):c||"",a.open(sc(i),c,p,void 0)}function e0(i,a){for(var c=i.split("%s"),p="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)p+=c.shift()+v.shift();return p+c.join("%s")}function Od(i){return Ge.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(ne,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(J,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(Ee,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(fe,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(_e,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(Pe,"&#0;"))),i}function Pd(i){return Pd[" "](i),i}Pd[" "]=g;function UC(i,a){var c=HC;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=a(i)}var BC=de("Opera"),Er=de("Trident")||de("MSIE"),t0=de("Edge"),$C=t0||Er,n0=de("Gecko")&&!(Te(P.toLowerCase(),"webkit")&&!de("Edge"))&&!(de("Trident")||de("MSIE"))&&!de("Edge"),qC=Te(P.toLowerCase(),"webkit")&&!de("Edge");function r0(){var i=f.document;return i?i.documentMode:void 0}var ac;e:{var Nd="",Rd=function(){var i=P;if(n0)return/rv:([^\);]+)(\)|;)/.exec(i);if(t0)return/Edge\/([\d\.]+)/.exec(i);if(Er)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(qC)return/WebKit\/(\S+)/.exec(i);if(BC)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Rd&&(Nd=Rd?Rd[1]:""),Er){var Dd=r0();if(Dd!=null&&Dd>parseFloat(Nd)){ac=String(Dd);break e}}ac=Nd}var HC={};function i0(i){return UC(i,function(){for(var a=0,c=Z(String(ac)).split("."),p=Z(String(i)).split("."),v=Math.max(c.length,p.length),_=0;a==0&&_<v;_++){var E=c[_]||"",I=p[_]||"";do{if(E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],E[0].length==0&&I[0].length==0)break;a=N(E[1].length==0?0:parseInt(E[1],10),I[1].length==0?0:parseInt(I[1],10))||N(E[2].length==0,I[2].length==0)||N(E[2],I[2]),E=E[3],I=I[3]}while(a==0)}return 0<=a})}var Ld;if(f.document&&Er){var o0=r0();Ld=o0||parseInt(ac,10)||void 0}else Ld=void 0;var Si=Ld;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var KC=!Er||9<=Number(Si);function za(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function s0(i,a){Ne(a,function(c,p){c&&typeof c=="object"&&c.ta&&(c=c.sa()),p=="style"?i.style.cssText=c:p=="class"?i.className=c:p=="for"?i.htmlFor=c:a0.hasOwnProperty(p)?i.setAttribute(a0[p],c):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?i.setAttribute(p,c):i[p]=c})}var a0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function WC(i,a,c){var p=arguments,v=document,_=String(p[0]),E=p[1];if(!KC&&E&&(E.name||E.type)){if(_=["<",_],E.name&&_.push(' name="',Od(E.name),'"'),E.type){_.push(' type="',Od(E.type),'"');var I={};Ve(I,E),delete I.type,E=I}_.push(">"),_=_.join("")}return _=uc(v,_),E&&(typeof E=="string"?_.className=E:Array.isArray(E)?_.className=E.join(" "):s0(_,E)),2<p.length&&GC(v,_,p),_}function GC(i,a,c){function p(I){I&&a.appendChild(typeof I=="string"?i.createTextNode(I):I)}for(var v=2;v<c.length;v++){var _=c[v];if(!b(_)||S(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(S(_)){var E=typeof _.item=="function"||typeof _.item=="string";break e}if(w(_)){E=typeof _.item=="function";break e}}E=!1}K(E?oe(_):_,p)}}}function uc(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function u0(i){f.setTimeout(function(){throw i},0)}var Md;function zC(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!de("Presto")&&(i=function(){var v=uc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var _=v.contentWindow;v=_.document,v.open(),v.close();var E="callImmediate"+Math.random(),I=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;v=j(function(U){(I=="*"||U.origin==I)&&U.data==E&&this.port1.onmessage()},this),_.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(E,I)}}}),typeof i<"u"&&!de("Trident")&&!de("MSIE")){var a=new i,c={},p=c;return a.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){p.next={Hb:v},p=p.next,a.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function lc(i,a){cc||XC(),Fd||(cc(),Fd=!0),l0.add(i,a)}var cc;function XC(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);cc=function(){i.then(c0)}}else cc=function(){var a=c0;!w(f.setImmediate)||f.Window&&f.Window.prototype&&!de("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Md||(Md=zC()),Md(a)):f.setImmediate(a)}}var Fd=!1,l0=new _t;function c0(){for(var i;i=ge();){try{i.a.call(i.b)}catch(a){u0(a)}jt(Qn,i)}Fd=!1}function Ye(i,a){if(this.a=go,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=g)try{var c=this;i.call(a,function(p){mo(c,Xa,p)},function(p){if(!(p instanceof As))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}mo(c,oi,p)})}catch(p){mo(this,oi,p)}}var go=0,Xa=2,oi=3;function f0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}f0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var h0=new Gt(function(){return new f0},function(i){i.reset()});function Vd(i,a,c){var p=h0.get();return p.g=i,p.b=a,p.f=c,p}function Ie(i){if(i instanceof Ye)return i;var a=new Ye(g);return mo(a,Xa,i),a}function St(i){return new Ye(function(a,c){c(i)})}function d0(i,a,c){v0(i,a,c,null)||lc(ae(a,i))}function YC(i){return new Ye(function(a,c){var p=i.length,v=[];if(p)for(var _=function(X,Me){p--,v[X]=Me,p==0&&a(v)},E=function(X){c(X)},I=0,U;I<i.length;I++)U=i[I],d0(U,ae(_,I),E);else a(v)})}function p0(i){return new Ye(function(a){var c=i.length,p=[];if(c)for(var v=function(I,U,X){c--,p[I]=U?{Qb:!0,value:X}:{Qb:!1,reason:X},c==0&&a(p)},_=0,E;_<i.length;_++)E=i[_],d0(E,ae(v,_,!0),ae(v,_,!1));else a(p)})}Ye.prototype.then=function(i,a,c){return m0(this,w(i)?i:null,w(a)?a:null,c)},Ye.prototype.$goog_Thenable=!0,e=Ye.prototype,e.oa=function(i,a){return i=Vd(i,i,a),i.c=!0,jd(this,i),this},e.o=function(i,a){return m0(this,null,i,a)},e.cancel=function(i){if(this.a==go){var a=new As(i);lc(function(){g0(this,a)},this)}};function g0(i,a){if(i.a==go)if(i.c){var c=i.c;if(c.b){for(var p=0,v=null,_=null,E=c.b;E&&(E.c||(p++,E.a==i&&(v=E),!(v&&1<p)));E=E.next)v||(_=E);v&&(c.a==go&&p==1?g0(c,a):(_?(p=_,p.next==c.f&&(c.f=p),p.next=p.next.next):b0(c),_0(c,v,oi,a)))}i.c=null}else mo(i,oi,a)}function jd(i,a){i.b||i.a!=Xa&&i.a!=oi||y0(i),i.f?i.f.next=a:i.b=a,i.f=a}function m0(i,a,c,p){var v=Vd(null,null,null);return v.a=new Ye(function(_,E){v.g=a?function(I){try{var U=a.call(p,I);_(U)}catch(X){E(X)}}:_,v.b=c?function(I){try{var U=c.call(p,I);U===void 0&&I instanceof As?E(I):_(U)}catch(X){E(X)}}:E}),v.a.c=i,jd(i,v),v.a}e.$c=function(i){this.a=go,mo(this,Xa,i)},e.ad=function(i){this.a=go,mo(this,oi,i)};function mo(i,a,c){i.a==go&&(i===c&&(a=oi,c=new TypeError("Promise cannot resolve to itself")),i.a=1,v0(c,i.$c,i.ad,i)||(i.i=c,i.a=a,i.c=null,y0(i),a!=oi||c instanceof As||JC(i,c)))}function v0(i,a,c,p){if(i instanceof Ye)return jd(i,Vd(a||g,c||null,p)),!0;if(Be(i))return i.then(a,c,p),!0;if(S(i))try{var v=i.then;if(w(v))return QC(i,v,a,c,p),!0}catch(_){return c.call(p,_),!0}return!1}function QC(i,a,c,p,v){function _(U){I||(I=!0,p.call(v,U))}function E(U){I||(I=!0,c.call(v,U))}var I=!1;try{a.call(i,E,_)}catch(U){_(U)}}function y0(i){i.h||(i.h=!0,lc(i.gc,i))}function b0(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=b0(this);)_0(this,i,this.a,this.i);this.h=!1};function _0(i,a,c,p){if(c==oi&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,w0(a,c,p);else try{a.c?a.g.call(a.f):w0(a,c,p)}catch(v){E0.call(null,v)}jt(h0,a)}function w0(i,a,c){a==Xa?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function JC(i,a){i.g=!0,lc(function(){i.g&&E0.call(null,a)})}var E0=u0;function As(i){ve.call(this,i)}M(As,ve),As.prototype.name="cancel";function fc(){this.ya=this.ya,this.pa=this.pa}var ZC=0;fc.prototype.ya=!1;function S0(i){!i.ya&&(i.ya=!0,i.Da(),ZC!=0)&&T(i)}fc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var eO=Object.freeze||function(i){return i},T0=!Er||9<=Number(Si),tO=Er&&!i0("9"),nO=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",g,a),f.removeEventListener("test",g,a)}catch{}return i}();function Vn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}Vn.prototype.preventDefault=function(){this.defaultPrevented=!0};function vo(i,a){if(Vn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,p=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if(n0){e:{try{Pd(a.nodeName);var v=!0;break e}catch{}v=!1}v||(a=null)}}else c=="mouseover"?a=i.fromElement:c=="mouseout"&&(a=i.toElement);this.relatedTarget=a,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:rO[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}M(vo,Vn);var rO=eO({2:"touch",3:"pen",4:"mouse"});vo.prototype.preventDefault=function(){vo.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,tO)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},vo.prototype.g=function(){return this.a};var Ya="closure_listenable_"+(1e6*Math.random()|0),iO=0;function oO(i,a,c,p,v){this.listener=i,this.proxy=null,this.src=a,this.type=c,this.capture=!!p,this.Wa=v,this.key=++iO,this.wa=this.Qa=!1}function hc(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function dc(i){this.src=i,this.a={},this.b=0}dc.prototype.add=function(i,a,c,p,v){var _=i.toString();i=this.a[_],i||(i=this.a[_]=[],this.b++);var E=Bd(i,a,p,v);return-1<E?(a=i[E],c||(a.Qa=!1)):(a=new oO(a,this.src,_,!!p,v),a.Qa=c,i.push(a)),a};function Ud(i,a){var c=a.type;c in i.a&&B(i.a[c],a)&&(hc(a),i.a[c].length==0&&(delete i.a[c],i.b--))}function Bd(i,a,c,p){for(var v=0;v<i.length;++v){var _=i[v];if(!_.wa&&_.listener==a&&_.capture==!!c&&_.Wa==p)return v}return-1}var $d="closure_lm_"+(1e6*Math.random()|0),qd={};function cr(i,a,c,p,v){if(p&&p.once)Hd(i,a,c,p,v);else if(Array.isArray(a))for(var _=0;_<a.length;_++)cr(i,a[_],c,p,v);else c=Wd(c),i&&i[Ya]?O0(i,a,c,S(p)?!!p.capture:!!p,v):I0(i,a,c,!1,p,v)}function I0(i,a,c,p,v,_){if(!a)throw Error("Invalid event type");var E=S(v)?!!v.capture:!!v,I=pc(i);if(I||(i[$d]=I=new dc(i)),c=I.add(a,c,p,E,_),!c.proxy)if(p=sO(),c.proxy=p,p.src=i,p.listener=c,i.addEventListener)nO||(v=E),v===void 0&&(v=!1),i.addEventListener(a.toString(),p,v);else if(i.attachEvent)i.attachEvent(x0(a.toString()),p);else if(i.addListener&&i.removeListener)i.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function sO(){var i=aO,a=T0?function(c){return i.call(a.src,a.listener,c)}:function(c){if(c=i.call(a.src,a.listener,c),!c)return c};return a}function Hd(i,a,c,p,v){if(Array.isArray(a))for(var _=0;_<a.length;_++)Hd(i,a[_],c,p,v);else c=Wd(c),i&&i[Ya]?Gd(i,a,c,S(p)?!!p.capture:!!p,v):I0(i,a,c,!0,p,v)}function Jn(i,a,c,p,v){if(Array.isArray(a))for(var _=0;_<a.length;_++)Jn(i,a[_],c,p,v);else p=S(p)?!!p.capture:!!p,c=Wd(c),i&&i[Ya]?(i=i.v,a=String(a).toString(),a in i.a&&(_=i.a[a],c=Bd(_,c,p,v),-1<c&&(hc(_[c]),Array.prototype.splice.call(_,c,1),_.length==0&&(delete i.a[a],i.b--)))):i&&(i=pc(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Bd(a,c,p,v)),(c=-1<i?a[i]:null)&&A0(c))}function A0(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[Ya])Ud(a.v,i);else{var c=i.type,p=i.proxy;a.removeEventListener?a.removeEventListener(c,p,i.capture):a.detachEvent?a.detachEvent(x0(c),p):a.addListener&&a.removeListener&&a.removeListener(p),(c=pc(a))?(Ud(c,i),c.b==0&&(c.src=null,a[$d]=null)):hc(i)}}}function x0(i){return i in qd?qd[i]:qd[i]="on"+i}function k0(i,a,c,p){var v=!0;if((i=pc(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var _=a[i];_&&_.capture==c&&!_.wa&&(_=C0(_,p),v=v&&_!==!1)}return v}function C0(i,a){var c=i.listener,p=i.Wa||i.src;return i.Qa&&A0(i),c.call(p,a)}function aO(i,a){if(i.wa)return!0;if(!T0){if(!a)e:{a=["window","event"];for(var c=f,p=0;p<a.length;p++)if(c=c[a[p]],c==null){a=null;break e}a=c}if(p=a,a=new vo(p,this),c=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var v=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{v=!0}(v||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],v=a.b;v;v=v.parentNode)p.push(v);for(i=i.type,v=p.length-1;0<=v;v--){a.b=p[v];var _=k0(p[v],i,!0,a);c=c&&_}for(v=0;v<p.length;v++)a.b=p[v],_=k0(p[v],i,!1,a),c=c&&_}return c}return C0(i,new vo(a,this))}function pc(i){return i=i[$d],i instanceof dc?i:null}var Kd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wd(i){return w(i)?i:(i[Kd]||(i[Kd]=function(a){return i.handleEvent(a)}),i[Kd])}function In(){fc.call(this),this.v=new dc(this),this.bc=this,this.hb=null}M(In,fc),In.prototype[Ya]=!0,In.prototype.addEventListener=function(i,a,c,p){cr(this,i,a,c,p)},In.prototype.removeEventListener=function(i,a,c,p){Jn(this,i,a,c,p)},In.prototype.dispatchEvent=function(i){var a,c=this.hb;if(c)for(a=[];c;c=c.hb)a.push(c);c=this.bc;var p=i.type||i;if(typeof i=="string")i=new Vn(i,c);else if(i instanceof Vn)i.target=i.target||c;else{var v=i;i=new Vn(p,c),Ve(i,v)}if(v=!0,a)for(var _=a.length-1;0<=_;_--){var E=i.b=a[_];v=gc(E,p,!0,i)&&v}if(E=i.b=c,v=gc(E,p,!0,i)&&v,v=gc(E,p,!1,i)&&v,a)for(_=0;_<a.length;_++)E=i.b=a[_],v=gc(E,p,!1,i)&&v;return v},In.prototype.Da=function(){if(In.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var c=i.a[a],p=0;p<c.length;p++)hc(c[p]);delete i.a[a],i.b--}}this.hb=null};function O0(i,a,c,p,v){i.v.add(String(a),c,!1,p,v)}function Gd(i,a,c,p,v){i.v.add(String(a),c,!0,p,v)}function gc(i,a,c,p){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var v=!0,_=0;_<a.length;++_){var E=a[_];if(E&&!E.wa&&E.capture==c){var I=E.listener,U=E.Wa||E.src;E.Qa&&Ud(i.v,E),v=I.call(U,p)!==!1&&v}}return v&&!p.defaultPrevented}function zd(i,a,c){if(w(i))c&&(i=j(i,c));else if(i&&typeof i.handleEvent=="function")i=j(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function xs(i){var a=null;return new Ye(function(c,p){a=zd(function(){c(void 0)},i),a==-1&&p(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(a),c})}function P0(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(b(i)){for(var a=[],c=i.length,p=0;p<c;p++)a.push(i[p]);return a}a=[],c=0;for(p in i)a[c++]=i[p];return a}function N0(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(b(i)||typeof i=="string"){var a=[];i=i.length;for(var c=0;c<i;c++)a.push(c);return a}a=[],c=0;for(var p in i)a[c++]=p;return a}}function uO(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(b(i)||typeof i=="string")K(i,a,void 0);else for(var c=N0(i),p=P0(i),v=p.length,_=0;_<v;_++)a.call(void 0,p[_],c&&c[_],i)}function ks(i,a){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var p=0;p<c;p+=2)this.set(arguments[p],arguments[p+1])}else if(i)if(i instanceof ks)for(c=i.Y(),p=0;p<c.length;p++)this.set(c[p],i.get(c[p]));else for(p in i)this.set(p,i[p])}e=ks.prototype,e.X=function(){Xd(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return Xd(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Xd(i){if(i.c!=i.a.length){for(var a=0,c=0;a<i.a.length;){var p=i.a[a];yo(i.b,p)&&(i.a[c++]=p),a++}i.a.length=c}if(i.c!=i.a.length){var v={};for(c=a=0;a<i.a.length;)p=i.a[a],yo(v,p)||(i.a[c++]=p,v[p]=1),a++;i.a.length=c}}e.get=function(i,a){return yo(this.b,i)?this.b[i]:a},e.set=function(i,a){yo(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var c=this.Y(),p=0;p<c.length;p++){var v=c[p],_=this.get(v);i.call(a,_,v,this)}};function yo(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var R0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lO(i,a){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var p=i[c].indexOf("="),v=null;if(0<=p){var _=i[c].substring(0,p);v=i[c].substring(p+1)}else _=i[c];a(_,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function Ti(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof Ti?(this.i=a!==void 0?a:i.i,Qa(this,i.c),this.l=i.l,this.a=i.a,Ja(this,i.g),this.f=i.f,Yd(this,F0(i.b)),this.h=i.h):i&&(c=String(i).match(R0))?(this.i=!!a,Qa(this,c[1]||"",!0),this.l=Za(c[2]||""),this.a=Za(c[3]||"",!0),Ja(this,c[4]),this.f=Za(c[5]||"",!0),Yd(this,c[6]||"",!0),this.h=Za(c[7]||"")):(this.i=!!a,this.b=new bo(null,this.i))}Ti.prototype.toString=function(){var i=[],a=this.c;a&&i.push(eu(a,D0,!0),":");var c=this.a;return(c||a=="file")&&(i.push("//"),(a=this.l)&&i.push(eu(a,D0,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(eu(c,c.charAt(0)=="/"?hO:fO,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",eu(c,pO)),i.join("")},Ti.prototype.resolve=function(i){var a=new Ti(this),c=!!i.c;c?Qa(a,i.c):c=!!i.l,c?a.l=i.l:c=!!i.a,c?a.a=i.a:c=i.g!=null;var p=i.f;if(c)Ja(a,i.g);else if(c=!!i.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var v=a.f.lastIndexOf("/");v!=-1&&(p=a.f.substr(0,v+1)+p)}if(v=p,v==".."||v==".")p="";else if(Te(v,"./")||Te(v,"/.")){p=v.lastIndexOf("/",0)==0,v=v.split("/");for(var _=[],E=0;E<v.length;){var I=v[E++];I=="."?p&&E==v.length&&_.push(""):I==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&E==v.length&&_.push("")):(_.push(I),p=!0)}p=_.join("/")}else p=v}return c?a.f=p:c=i.b.toString()!=="",c?Yd(a,F0(i.b)):c=!!i.h,c&&(a.h=i.h),a};function Qa(i,a,c){i.c=c?Za(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function Ja(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function Yd(i,a,c){a instanceof bo?(i.b=a,gO(i.b,i.i)):(c||(a=eu(a,dO)),i.b=new bo(a,i.i))}function Dt(i,a,c){i.b.set(a,c)}function fr(i,a){return i.b.get(a)}function jn(i){return i instanceof Ti?new Ti(i):new Ti(i,void 0)}function mc(i,a,c,p){var v=new Ti(null,void 0);return i&&Qa(v,i),a&&(v.a=a),c&&Ja(v,c),p&&(v.f=p),v}function Za(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function eu(i,a,c){return typeof i=="string"?(i=encodeURI(i).replace(a,cO),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function cO(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var D0=/[#\/\?@]/g,fO=/[#\?:]/g,hO=/[#\?]/g,dO=/[#\?@]/g,pO=/#/g;function bo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function Ii(i){i.a||(i.a=new ks,i.b=0,i.c&&lO(i.c,function(a,c){i.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function L0(i){var a=N0(i);if(typeof a>"u")throw Error("Keys are undefined");var c=new bo(null,void 0);i=P0(i);for(var p=0;p<a.length;p++){var v=a[p],_=i[p];Array.isArray(_)?M0(c,v,_):c.add(v,_)}return c}e=bo.prototype,e.add=function(i,a){Ii(this),this.c=null,i=Cs(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(a),this.b+=1,this};function jr(i,a){Ii(i),a=Cs(i,a),yo(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,yo(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&Xd(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function Qd(i,a){return Ii(i),a=Cs(i,a),yo(i.a.b,a)}e.forEach=function(i,a){Ii(this),this.a.forEach(function(c,p){K(c,function(v){i.call(a,v,p,this)},this)},this)},e.Y=function(){Ii(this);for(var i=this.a.X(),a=this.a.Y(),c=[],p=0;p<a.length;p++)for(var v=i[p],_=0;_<v.length;_++)c.push(a[p]);return c},e.X=function(i){Ii(this);var a=[];if(typeof i=="string")Qd(this,i)&&(a=Y(a,this.a.get(Cs(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)a=Y(a,i[c])}return a},e.set=function(i,a){return Ii(this),this.c=null,i=Cs(this,i),Qd(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function M0(i,a,c){jr(i,a),0<c.length&&(i.c=null,i.a.set(Cs(i,a),oe(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),c=0;c<a.length;c++){var p=a[c],v=encodeURIComponent(String(p));p=this.X(p);for(var _=0;_<p.length;_++){var E=v;p[_]!==""&&(E+="="+encodeURIComponent(String(p[_]))),i.push(E)}}return this.c=i.join("&")};function F0(i){var a=new bo;return a.c=i.c,i.a&&(a.a=new ks(i.a),a.b=i.b),a}function Cs(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function gO(i,a){a&&!i.f&&(Ii(i),i.c=null,i.a.forEach(function(c,p){var v=p.toLowerCase();p!=v&&(jr(this,p),M0(this,v,c))},i)),i.f=a}function V0(i){var a=[];return Jd(new mO,i,a),a.join("")}function mO(){}function Jd(i,a,c){if(a==null)c.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var p=a;a=p.length,c.push("[");for(var v="",_=0;_<a;_++)c.push(v),Jd(i,p[_],c),v=",";c.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{c.push("{"),v="";for(p in a)Object.prototype.hasOwnProperty.call(a,p)&&(_=a[p],typeof _!="function"&&(c.push(v),U0(p,c),c.push(":"),Jd(i,_,c),v=","));c.push("}");return}}switch(typeof a){case"string":U0(a,c);break;case"number":c.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":c.push(String(a));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var j0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},vO=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function U0(i,a){a.push('"',i.replace(vO,function(c){var p=j0[c];return p||(p="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),j0[c]=p),p}),'"')}function Zd(){var i=on();return Er&&!!Si&&Si==11||/Edge\/\d+/.test(i)}function tu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function B0(i,a){a=a||f.window;var c="about:blank";i&&(c=sc(Xb(i)||Qb)),a.location.href=c}function $0(i,a){var c=[],p;for(p in i)p in a?typeof i[p]!=typeof a[p]?c.push(p):typeof i[p]=="object"&&i[p]!=null&&a[p]!=null?0<$0(i[p],a[p]).length&&c.push(p):i[p]!==a[p]&&c.push(p):c.push(p);for(p in a)p in i||c.push(p);return c}function yO(){var i=on();return i=Os(i)!=W0?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!Er||!Si||9<Si}function q0(i){return i=(i||on()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function _o(i){i=i||f.window;try{i.close()}catch{}}function H0(i,a,c){var p=Math.floor(1e9*Math.random()).toString();a=a||500,c=c||600;var v=(window.screen.availHeight-c)/2,_=(window.screen.availWidth-a)/2;a={width:a,height:c,top:0<v?v:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=on().toLowerCase(),p&&(a.target=p,Te(c,"crios/")&&(a.target="_blank")),Os(on())==np&&(i=i||"http://localhost",a.scrollbars=!0),c=i||"",(i=a)||(i={}),p=window,a=c instanceof Fn?c:Xb(typeof c.href<"u"?c.href:String(c))||Qb,c=i.target||c.target,v=[];for(E in i)switch(E){case"width":case"height":case"top":case"left":v.push(E+"="+i[E]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(E+"="+(i[E]?1:0))}var E=v.join(",");if((de("iPhone")&&!de("iPod")&&!de("iPad")||de("iPad")||de("iPod"))&&p.navigator&&p.navigator.standalone&&c&&c!="_self"?(E=uc(document,"A"),dn(E,"HTMLAnchorElement"),a=a instanceof Fn?a:Yb(a),E.href=sc(a),E.setAttribute("target",c),i.noreferrer&&E.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,p,1),E.dispatchEvent(i),E={}):i.noreferrer?(E=Zb("",p,c,E),i=sc(a),E&&($C&&Te(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),E.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Od(i)+'">',i=(p=Kb())?p.createHTML(i):i,i=new Is(i,null,Jb),p=E.document)&&(p.write(VC(i)),p.close())):(E=Zb(a,p,c,E))&&i.noopener&&(E.opener=null),E)try{E.focus()}catch{}return E}function bO(i){return new Ye(function(a){function c(){xs(2e3).then(function(){if(!i||i.closed)a();else return c()})}return c()})}var _O=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wO=/^[^@]+@[^@]+$/;function vc(){var i=null;return new Ye(function(a){f.document.readyState=="complete"?a():(i=function(){a()},Hd(window,"load",i))}).o(function(a){throw Jn(window,"load",i),a})}function EO(){return ep(void 0)?vc().then(function(){return new Ye(function(i,a){var c=f.document,p=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(p),i()},!1)})}):St(Error("Cordova must run in an Android or iOS file scheme."))}function ep(i){return i=i||on(),!(Ns()!=="file:"&&Ns()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function tp(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function Sr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Ur(){return Oe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Oe.INTERNAL.hasOwnProperty("node")?"Node":Sr()?"Worker":"Browser"}function K0(){var i=Ur();return i==="ReactNative"||i==="Node"}function SO(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var np="Firefox",W0="Chrome";function Os(i){var a=i.toLowerCase();if(Te(a,"opera/")||Te(a,"opr/")||Te(a,"opios/"))return"Opera";if(Te(a,"iemobile"))return"IEMobile";if(Te(a,"msie")||Te(a,"trident/"))return"IE";if(Te(a,"edge/"))return"Edge";if(Te(a,"firefox/"))return np;if(Te(a,"silk/"))return"Silk";if(Te(a,"blackberry"))return"Blackberry";if(Te(a,"webos"))return"Webos";if(!Te(a,"safari/")||Te(a,"chrome/")||Te(a,"crios/")||Te(a,"android"))if(!Te(a,"chrome/")&&!Te(a,"crios/")||Te(a,"edge/")){if(Te(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return W0;else return"Safari";return"Other"}var G0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ps(i,a){a=a||[];var c=[],p={},v;for(v in G0)p[G0[v]]=!0;for(v=0;v<a.length;v++)typeof p[a[v]]<"u"&&(delete p[a[v]],c.push(a[v]));return c.sort(),a=c,a.length||(a=["FirebaseCore-web"]),c=Ur(),c==="Browser"?(p=on(),c=Os(p)):c==="Worker"&&(p=on(),c=Os(p)+"-"+c),c+"/JsCore/"+i+"/"+a.join(",")}function on(){return f.navigator&&f.navigator.userAgent||""}function Tt(i,a){i=i.split("."),a=a||f;for(var c=0;c<i.length&&typeof a=="object"&&a!=null;c++)a=a[i[c]];return c!=i.length&&(a=void 0),a}function rp(){try{var i=f.localStorage,a=Eo();if(i)return i.setItem(a,"1"),i.removeItem(a),Zd()?!!f.indexedDB:!0}catch{return Sr()&&!!f.indexedDB}return!1}function wo(){return(yc()||Ns()==="chrome-extension:"||ep())&&!K0()&&rp()&&!Sr()}function yc(){return Ns()==="http:"||Ns()==="https:"}function Ns(){return f.location&&f.location.protocol||null}function nu(i){return i=i||on(),!(q0(i)||Os(i)==np)}function ru(i){return typeof i>"u"?null:V0(i)}function z0(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(a[c]=i[c]);return a}function Rs(i){if(i!==null)return JSON.parse(i)}function Eo(i){return i||Math.floor(1e9*Math.random()).toString()}function X0(i){return i=i||on(),!(Os(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function Y0(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function Ai(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=on(),a=Ur(),this.b=q0(i)||a==="ReactNative"}Ai.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(yc()||Ns()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function ip(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function TO(){var i=f.document,a=null;return ip()||!i?Ie():new Ye(function(c){a=function(){ip()&&(i.removeEventListener("visibilitychange",a,!1),c())},i.addEventListener("visibilitychange",a,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",a,!1),c})}function iu(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function Q0(){return!(!Tt("fireauth.oauthhelper",f)&&!Tt("fireauth.iframe",f))}function IO(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function AO(){var i=f.navigator;return i&&i.serviceWorker?Ie().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Ie(null)}var J0={};function op(i){J0[i]||(J0[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var sp;try{var ap={};Object.defineProperty(ap,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(ap,"abcd",{configurable:!0,enumerable:!0,value:2}),sp=ap.abcd==2}catch{sp=!1}function me(i,a,c){sp?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:c}):i[a]=c}function An(i,a){if(a)for(var c in a)a.hasOwnProperty(c)&&me(i,c,a[c])}function Br(i){var a={};return An(a,i),a}function xO(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&(a[c]=i[c]);return a}function kO(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var c=0;c<a.length;c++){var p=i[a[c]];if(p==null||p==="")return!1}return!0}function up(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var c in i)me(a,c,up(i[c]))}return a}function lp(i){var a=i&&(i[dp]?"phone":null);if(a&&i&&i[hp]){me(this,"uid",i[hp]),me(this,"displayName",i[Z0]||null);var c=null;i[fp]&&(c=new Date(i[fp]).toUTCString()),me(this,"enrollmentTime",c),me(this,"factorId",a)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}lp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function cp(i){try{var a=new ou(i)}catch{a=null}return a}var Z0="displayName",fp="enrolledAt",hp="mfaEnrollmentId",dp="phoneInfo";function ou(i){lp.call(this,i),me(this,"phoneNumber",i[dp])}M(ou,lp),ou.prototype.w=function(){var i=ou.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function CO(i){var a={},c=i[OO],p=i[NO],v=i[RO];if(i=cp(i[PO]),!v||v!=bc&&v!=su&&!c||v==su&&!p||v==pp&&!i)throw Error("Invalid checkActionCode response!");v==su?(a[t_]=c||null,a[n_]=c||null,a[e_]=p):(a[t_]=p||null,a[n_]=p||null,a[e_]=c||null),a[DO]=i||null,me(this,MO,v),me(this,LO,up(a))}var pp="REVERT_SECOND_FACTOR_ADDITION",bc="EMAIL_SIGNIN",su="VERIFY_AND_CHANGE_EMAIL",OO="email",PO="mfaInfo",NO="newEmail",RO="requestType",e_="email",t_="fromEmail",DO="multiFactorInfo",n_="previousEmail",LO="data",MO="operation";function gp(i){i=jn(i);var a=fr(i,r_)||null,c=fr(i,i_)||null,p=fr(i,o_)||null;if(p=p&&UO[p]||null,!a||!c||!p)throw new x("argument-error",r_+", "+i_+"and "+o_+" are required in a valid action code URL.");An(this,{apiKey:a,operation:p,code:c,continueUrl:fr(i,FO)||null,languageCode:fr(i,VO)||null,tenantId:fr(i,jO)||null})}var r_="apiKey",i_="oobCode",FO="continueUrl",VO="languageCode",o_="mode",jO="tenantId",UO={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:pp,signIn:bc,verifyAndChangeEmail:su,verifyEmail:"VERIFY_EMAIL"};function s_(i){try{return new gp(i)}catch{return null}}function _c(i){var a=i[BO];if(typeof a>"u")throw new x("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new x("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var c=i[a_];if(c&&typeof c=="object"){a=c[h_];var p=c[c_];if(c=c[f_],typeof a=="string"&&a.length){if(this.a=a,typeof p<"u"&&typeof p!="boolean")throw new x("argument-error",c_+" property must be a boolean when specified.");if(this.g=!!p,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new x("argument-error",f_+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof a<"u")throw new x("argument-error",h_+" property must be a non empty string when specified.");if(typeof p<"u"||typeof c<"u")throw new x("missing-android-pkg-name")}}else if(typeof c<"u")throw new x("argument-error",a_+" property must be a non null object when specified.");if(this.f=null,(a=i[l_])&&typeof a=="object"){if(a=a[d_],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new x("argument-error",d_+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new x("argument-error",l_+" property must be a non null object when specified.");if(a=i[mp],typeof a<"u"&&typeof a!="boolean")throw new x("argument-error",mp+" property must be a boolean when specified.");if(this.c=!!a,i=i[u_],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new x("argument-error",u_+" property must be a non empty string when specified.");this.i=i||null}var a_="android",u_="dynamicLinkDomain",mp="handleCodeInApp",l_="iOS",BO="url",c_="installApp",f_="minimumVersion",h_="packageName",d_="bundleId";function wc(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var c in a)a[c]===null&&delete a[c];return a}function $O(i){return Fe(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var au=null;function qO(i){var a=[];return HO(i,function(c){a.push(c)}),a}function HO(i,a){function c(U){for(;p<i.length;){var X=i.charAt(p++),Me=au[X];if(Me!=null)return Me;if(!/^[\s\xa0]*$/.test(X))throw Error("Unknown base64 encoding at char: "+X)}return U}KO();for(var p=0;;){var v=c(-1),_=c(0),E=c(64),I=c(64);if(I===64&&v===-1)break;a(v<<2|_>>4),E!=64&&(a(_<<4&240|E>>2),I!=64&&a(E<<6&192|I))}}function KO(){if(!au){au={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var p=i.concat(a[c].split("")),v=0;v<p.length;v++){var _=p[v];au[_]===void 0&&(au[_]=v)}}}function Ec(i){var a=p_(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}Ec.prototype.T=function(){return this.f},Ec.prototype.l=function(){return this.c},Ec.prototype.toString=function(){return this.h};function Sc(i){try{return new Ec(i)}catch{return null}}function p_(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,c=0;c<a;c++)i+=".";try{var p=qO(i);for(i=[],c=a=0;a<p.length;){var v=p[a++];if(128>v)i[c++]=String.fromCharCode(v);else if(191<v&&224>v){var _=p[a++];i[c++]=String.fromCharCode((v&31)<<6|_&63)}else if(239<v&&365>v){_=p[a++];var E=p[a++],I=p[a++],U=((v&7)<<18|(_&63)<<12|(E&63)<<6|I&63)-65536;i[c++]=String.fromCharCode(55296+(U>>10)),i[c++]=String.fromCharCode(56320+(U&1023))}else _=p[a++],E=p[a++],i[c++]=String.fromCharCode((v&15)<<12|(_&63)<<6|E&63)}return JSON.parse(i.join(""))}catch{}return null}var g_="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Tc=["client_id","response_type","scope","redirect_uri","state"],vp={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Tc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Tc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Tc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:g_},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function yp(i){for(var a in vp)if(vp[a].fa==i)return vp[a];return null}function m_(i){var a={};a["facebook.com"]=y_,a["google.com"]=__,a["github.com"]=b_,a["twitter.com"]=w_;var c=i&&i[v_];try{if(c)return a[c]?new a[c](i):new $r(i);if(typeof i[bp]<"u")return new _p(i)}catch{}return null}var bp="idToken",v_="providerId";function _p(i){var a=i[v_];if(!a&&i[bp]){var c=Sc(i[bp]);c&&c.b&&(a=c.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),me(this,"providerId",a),me(this,"isNewUser",c)}function $r(i){_p.call(this,i),i=Rs(i.rawUserInfo||"{}"),me(this,"profile",up(i||{}))}M($r,_p);function y_(i){if($r.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}M(y_,$r);function b_(i){if($r.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");me(this,"username",this.profile&&this.profile.login||null)}M(b_,$r);function __(i){if($r.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}M(__,$r);function w_(i){if($r.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");me(this,"username",i.screenName||null)}M(w_,$r);function E_(i){var a=jn(i),c=fr(a,"link"),p=fr(jn(c),"link");return a=fr(a,"deep_link_id"),fr(jn(a),"link")||a||p||c||i}function Ic(i,a){if(!i&&!a)throw new x("internal-error","Internal assert: no raw session string available");if(i&&a)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?uu:Ac}var uu="enroll",Ac="signin";Ic.prototype.Ha=function(){return this.a?Ie(this.a):Ie(this.b)},Ic.prototype.w=function(){return this.type==uu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ds(){}Ds.prototype.ka=function(){},Ds.prototype.b=function(){},Ds.prototype.c=function(){},Ds.prototype.w=function(){};function Ls(i,a){return i.then(function(c){if(c[Ar]){var p=Sc(c[Ar]);if(!p||a!=p.i)throw new x("user-mismatch");return c}throw new x("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==re+"user-not-found"?new x("user-mismatch"):c})}function So(i,a){if(a)this.a=a;else throw new x("internal-error","failed to construct a credential");me(this,"providerId",i),me(this,"signInMethod",i)}So.prototype.ka=function(i){return Hp(i,wp(this))},So.prototype.b=function(i,a){var c=wp(this);return c.idToken=a,Kp(i,c)},So.prototype.c=function(i,a){return Ls(Wp(i,wp(this)),a)};function wp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}So.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function WO(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new So(i.providerId,i.pendingToken)}catch{}return null}function si(i,a,c){if(this.a=null,a.idToken||a.accessToken)a.idToken&&me(this,"idToken",a.idToken),a.accessToken&&me(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&me(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)me(this,"accessToken",a.oauthToken),me(this,"secret",a.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");me(this,"providerId",i),me(this,"signInMethod",c)}si.prototype.ka=function(i){return Hp(i,Ep(this))},si.prototype.b=function(i,a){var c=Ep(this);return c.idToken=a,Kp(i,c)},si.prototype.c=function(i,a){var c=Ep(this);return Ls(Wp(i,c),a)};function Ep(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:L0(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}si.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function GO(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new si(i.providerId,a,i.signInMethod)}catch{}}return null}function To(i,a){this.Qc=a||[],An(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(yp(i)||{}).Ja||null,this.pb=null}To.prototype.Ka=function(i){return this.Jb=De(i),this};function S_(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');To.call(this,i,[])}M(S_,To);function Zn(i){To.call(this,i,Tc),this.a=[]}M(Zn,To),Zn.prototype.Ca=function(i){return R(this.a,i)||this.a.push(i),this},Zn.prototype.Rb=function(){return oe(this.a)},Zn.prototype.credential=function(i,a){var c;if(S(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:a||null},!c.idToken&&!c.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new si(this.providerId,c,this.providerId)};function Io(){Zn.call(this,"facebook.com")}M(Io,Zn),me(Io,"PROVIDER_ID","facebook.com"),me(Io,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function T_(i){if(!i)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return S(i)&&(a=i.accessToken),new Io().credential({accessToken:a})}function Ao(){Zn.call(this,"github.com")}M(Ao,Zn),me(Ao,"PROVIDER_ID","github.com"),me(Ao,"GITHUB_SIGN_IN_METHOD","github.com");function I_(i){if(!i)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return S(i)&&(a=i.accessToken),new Ao().credential({accessToken:a})}function xo(){Zn.call(this,"google.com"),this.Ca("profile")}M(xo,Zn),me(xo,"PROVIDER_ID","google.com"),me(xo,"GOOGLE_SIGN_IN_METHOD","google.com");function A_(i,a){var c=i;return S(i)&&(c=i.idToken,a=i.accessToken),new xo().credential({idToken:c,accessToken:a})}function Ms(){To.call(this,"twitter.com",g_)}M(Ms,To),me(Ms,"PROVIDER_ID","twitter.com"),me(Ms,"TWITTER_SIGN_IN_METHOD","twitter.com");function x_(i,a){var c=i;if(S(c)||(c={oauthToken:i,oauthTokenSecret:a}),!c.oauthToken||!c.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new si("twitter.com",c,"twitter.com")}function xi(i,a,c){this.a=i,this.f=a,me(this,"providerId","password"),me(this,"signInMethod",c===hr.EMAIL_LINK_SIGN_IN_METHOD?hr.EMAIL_LINK_SIGN_IN_METHOD:hr.EMAIL_PASSWORD_SIGN_IN_METHOD)}xi.prototype.ka=function(i){return this.signInMethod==hr.EMAIL_LINK_SIGN_IN_METHOD?Je(i,PP,{email:this.a,oobCode:this.f}):Je(i,tw,{email:this.a,password:this.f})},xi.prototype.b=function(i,a){return this.signInMethod==hr.EMAIL_LINK_SIGN_IN_METHOD?Je(i,NP,{idToken:a,email:this.a,oobCode:this.f}):Je(i,ew,{idToken:a,email:this.a,password:this.f})},xi.prototype.c=function(i,a){return Ls(this.ka(i),a)},xi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function zO(i){return i&&i.email&&i.password?new xi(i.email,i.password,i.signInMethod):null}function hr(){An(this,{providerId:"password",isOAuthProvider:!1})}function k_(i,a){if(a=Sp(a),!a)throw new x("argument-error","Invalid email link!");return new xi(i,a.code,hr.EMAIL_LINK_SIGN_IN_METHOD)}function Sp(i){return i=E_(i),(i=s_(i))&&i.operation===bc?i:null}An(hr,{PROVIDER_ID:"password"}),An(hr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),An(hr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function ki(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new x("internal-error");this.a=i,me(this,"providerId","phone"),this.fa="phone",me(this,"signInMethod","phone")}ki.prototype.ka=function(i){return i.gb(lu(this))},ki.prototype.b=function(i,a){var c=lu(this);return c.idToken=a,Je(i,JP,c)},ki.prototype.c=function(i,a){var c=lu(this);return c.operation="REAUTH",i=Je(i,ZP,c),Ls(i,a)},ki.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function XO(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(a[c]=i[c])}),new ki(a)}return null}function lu(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function ai(i){try{this.a=i||Oe.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}An(this,{providerId:"phone",isOAuthProvider:!1})}ai.prototype.gb=function(i,a){var c=this.a.a;return Ie(a.verify()).then(function(p){if(typeof p!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var v=S(i)?i.session:null,_=S(i)?i.phoneNumber:i,E;return v&&v.type==uu?E=v.Ha().then(function(I){return EP(c,{idToken:I,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):v&&v.type==Ac?E=v.Ha().then(function(I){return SP(c,{mfaPendingCredential:I,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):E=wP(c,{phoneNumber:_,recaptchaToken:p}),E.then(function(I){return typeof a.reset=="function"&&a.reset(),I},function(I){throw typeof a.reset=="function"&&a.reset(),I});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function C_(i,a){if(!i)throw new x("missing-verification-id");if(!a)throw new x("missing-verification-code");return new ki({fb:i,eb:a})}An(ai,{PROVIDER_ID:"phone"}),An(ai,{PHONE_SIGN_IN_METHOD:"phone"});function Tp(i){if(i.temporaryProof&&i.phoneNumber)return new ki({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var c=i&&i.oauthAccessToken,p=i&&i.oauthTokenSecret,v=i&&i.nonce,_=i&&i.oauthIdToken,E=i&&i.pendingToken;try{switch(a){case"google.com":return A_(_,c);case"facebook.com":return T_(c);case"github.com":return I_(c);case"twitter.com":return x_(c,p);default:return c||p||_||E?E?a.indexOf("saml.")==0?new So(a,E):new si(a,{pendingToken:E,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new Zn(a).credential({idToken:_,accessToken:c,rawNonce:v}):null}}catch{return null}}function Ip(i){if(!i.isOAuthProvider)throw new x("invalid-oauth-provider")}function Tr(i,a,c,p,v,_,E){if(this.c=i,this.b=a||null,this.g=c||null,this.f=p||null,this.i=_||null,this.h=E||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}Tr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},Tr.prototype.T=function(){return this.h},Tr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function O_(i){return i=i||{},i.type?new Tr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&Ce(i.error),i.postBody,i.tenantId):null}function YO(){this.b=null,this.a=[]}var Ap=null;function QO(i){var a=Ap;a.a.push(i),a.b||(a.b=function(c){for(var p=0;p<a.a.length;p++)a.a[p](c)},i=Tt("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function xp(i){var a="unauthorized-domain",c=void 0,p=jn(i);i=p.a,p=p.c,p=="chrome-extension"?c=e0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):p=="http"||p=="https"?c=e0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",x.call(this,a,c)}M(xp,x);function cu(i,a,c){x.call(this,i,c),i=a||{},i.Kb&&me(this,"email",i.Kb),i.ea&&me(this,"phoneNumber",i.ea),i.credential&&me(this,"credential",i.credential),i.$b&&me(this,"tenantId",i.$b)}M(cu,x),cu.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&Ve(i,a),i},cu.prototype.toJSON=function(){return this.w()};function xc(i){if(i.code){var a=i.code||"";a.indexOf(re)==0&&(a=a.substring(re.length));var c={credential:Tp(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new x(a,i.message||void 0);return new cu(a,c,i.message)}return null}function fu(){}fu.prototype.c=null;function P_(i){return i.c||(i.c=i.b())}var kp;function kc(){}M(kc,fu),kc.prototype.a=function(){var i=N_(this);return i?new ActiveXObject(i):new XMLHttpRequest},kc.prototype.b=function(){var i={};return N_(this)&&(i[0]=!0,i[1]=!0),i};function N_(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var p=a[c];try{return new ActiveXObject(p),i.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}kp=new kc;function Cc(){}M(Cc,fu),Cc.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new R_;throw Error("Unsupported browser")},Cc.prototype.b=function(){return{}};function R_(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=j(this.qc,this),this.a.onerror=j(this.Tb,this),this.a.onprogress=j(this.rc,this),this.a.ontimeout=j(this.vc,this)}e=R_.prototype,e.open=function(i,a,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Cp(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",Cp(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,Cp(this,1)};function Cp(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Op(i,a,c){this.reset(i,a,c,void 0,void 0)}Op.prototype.a=null,Op.prototype.reset=function(i,a,c,p,v){delete this.a};function Pp(i){this.f=i,this.b=this.c=this.a=null}function hu(i,a){this.name=i,this.value=a}hu.prototype.toString=function(){return this.name};var D_=new hu("SEVERE",1e3),Np=new hu("WARNING",900),JO=new hu("CONFIG",700),ZO=new hu("FINE",500);function L_(i){return i.c?i.c:i.a?L_(i.a):(Pt("Root logger has no level set."),null)}Pp.prototype.log=function(i,a,c){if(i.value>=L_(this).value)for(w(a)&&(a=a()),i=new Op(i,String(a),this.f),c&&(i.a=c),c=this;c;)c=c.a};var Rp={},Oc=null;function Dp(i){Oc||(Oc=new Pp(""),Rp[""]=Oc,Oc.c=JO);var a;if(!(a=Rp[i])){a=new Pp(i);var c=i.lastIndexOf("."),p=i.substr(c+1);c=Dp(i.substr(0,c)),c.b||(c.b={}),c.b[p]=a,a.a=c,Rp[i]=a}return a}function dr(i,a){i&&i.log(ZO,a,void 0)}function Pc(i){this.f=i}M(Pc,fu),Pc.prototype.a=function(){return new Nc(this.f)},Pc.prototype.b=function(i){return function(){return i}}({});function Nc(i){In.call(this),this.u=i,this.h=void 0,this.readyState=Lp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Dp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}M(Nc,In);var Lp=0;e=Nc.prototype,e.open=function(i,a){if(this.readyState!=Lp)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,pu(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,du(this)),this.readyState=Lp},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,pu(this)),this.a&&(this.readyState=3,pu(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,M_(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function M_(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?du(this):pu(this),this.readyState==3&&M_(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,du(this))},e.sc=function(i){this.a&&(this.response=i,du(this))},e.Va=function(i){var a=this.i;a&&a.log(Np,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&du(this)};function du(i){i.readyState=4,i.g=null,i.c=null,i.m=null,pu(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Np,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Np,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),c=a.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=a.next();return i.join(`\r
`)};function pu(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Nc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function gu(i){In.call(this),this.headers=new ks,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=F_,this.u=this.S=!1}M(gu,In);var F_="";gu.prototype.b=Dp("goog.net.XhrIo");var eP=/^https?$/i,tP=["POST","PUT"];function nP(i,a,c,p,v){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);c=c?c.toUpperCase():"GET",i.l=a,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():kp.a(),i.C=i.D?P_(i.D):P_(kp),i.a.onreadystatechange=j(i.Wb,i);try{dr(i.b,ui(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(a),!0),i.N=!1}catch(E){dr(i.b,ui(i,"Error opening Xhr: "+E.message)),V_(i,E);return}a=p||"";var _=new ks(i.headers);v&&uO(v,function(E,I){_.set(I,E)}),v=C(_.Y()),p=f.FormData&&a instanceof f.FormData,!R(tP,c)||v||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(E,I){this.a.setRequestHeader(I,E)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{B_(i),0<i.g&&(i.u=rP(i.a),dr(i.b,ui(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=j(i.Ma,i)):i.s=zd(i.Ma,i.g,i)),dr(i.b,ui(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(E){dr(i.b,ui(i,"Send error: "+E.message)),V_(i,E)}}function rP(i){return Er&&i0(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function iP(i){return i.toLowerCase()=="content-type"}e=gu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",dr(this.b,ui(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function V_(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,j_(i),Rc(i)}function j_(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(dr(this.b,ui(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Rc(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Rc(this,!0)),gu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?U_(this):this.Jc())},e.Jc=function(){U_(this)};function U_(i){if(i.c&&typeof l<"u"){if(i.C[1]&&mu(i)==4&&Dc(i)==2)dr(i.b,ui(i,"Local request error detected and ignored"));else if(i.i&&mu(i)==4)zd(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),mu(i)==4){dr(i.b,ui(i,"Request complete")),i.c=!1;try{var a=Dc(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var p;if(!(p=c)){var v;if(v=a===0){var _=String(i.l).match(R0)[1]||null;if(!_&&f.self&&f.self.location){var E=f.self.location.protocol;_=E.substr(0,E.length-1)}v=!eP.test(_?_.toLowerCase():"")}p=v}if(p)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var I=2<mu(i)?i.a.statusText:""}catch(U){dr(i.b,"Can not get status: "+U.message),I=""}i.h=I+" ["+Dc(i)+"]",j_(i)}}finally{Rc(i)}}}}function Rc(i,a){if(i.a){B_(i);var c=i.a,p=i.C[0]?g:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{c.onreadystatechange=p}catch(v){(i=i.b)&&i.log(D_,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function B_(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function mu(i){return i.a?i.a.readyState:0}function Dc(i){try{return 2<mu(i)?i.a.status:-1}catch{return-1}}function oP(i){try{return i.a?i.a.responseText:""}catch(a){return dr(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case F_:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(D_,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return dr(this.b,"Can not get response: "+a.message),null}};function ui(i,a){return a+" ["+i.P+" "+i.l+" "+Dc(i)+"]"}function ko(i){var a=uP;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}ko.prototype.cancel=function(i){if(this.a)this.c instanceof ko&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new yu,Lc(this),vu(this,!1,i))}},ko.prototype.m=function(i,a){this.i=!1,vu(this,i,a)};function vu(i,a,c){i.a=!0,i.c=c,i.f=!a,q_(i)}function Lc(i){if(i.a){if(!i.v)throw new Mc;i.v=!1}}function sP(i,a){Mp(i,null,a,void 0)}function Mp(i,a,c,p){i.g.push([a,c,p]),i.a&&q_(i)}ko.prototype.then=function(i,a,c){var p,v,_=new Ye(function(E,I){p=E,v=I});return Mp(this,p,function(E){E instanceof yu?_.cancel():v(E)}),_.then(i,a,c)},ko.prototype.$goog_Thenable=!0;function $_(i){return A(i.g,function(a){return w(a[1])})}function q_(i){if(i.h&&i.a&&$_(i)){var a=i.h,c=Fc[a];c&&(f.clearTimeout(c.a),delete Fc[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var p=c=!1;i.g.length&&!i.i;){var v=i.g.shift(),_=v[0],E=v[1];if(v=v[2],_=i.f?E:_)try{var I=_.call(v||i.s,a);I!==void 0&&(i.f=i.f&&(I==a||I instanceof Error),i.c=a=I),(Be(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(p=!0,i.i=!0)}catch(U){a=U,i.f=!0,$_(i)||(c=!0)}}i.c=a,p&&(I=j(i.m,i,!0),p=j(i.m,i,!1),a instanceof ko?(Mp(a,I,p),a.C=!0):a.then(I,p)),c&&(a=new H_(a),Fc[a.a]=a,i.h=a.a)}function Mc(){ve.call(this)}M(Mc,ve),Mc.prototype.message="Deferred has already fired",Mc.prototype.name="AlreadyCalledError";function yu(){ve.call(this)}M(yu,ve),yu.prototype.message="Deferred was canceled",yu.prototype.name="CanceledError";function H_(i){this.a=f.setTimeout(j(this.c,this),0),this.b=i}H_.prototype.c=function(){throw delete Fc[this.a],this.b};var Fc={};function Fp(i){var a={},c=a.document||document,p=Wb(i).toString(),v=uc(document,"SCRIPT"),_={Xb:v,Ma:void 0},E=new ko(_),I=null,U=a.timeout!=null?a.timeout:5e3;return 0<U&&(I=window.setTimeout(function(){Vc(v,!0);var X=new Vp(cP,"Timeout reached for loading script "+p);Lc(E),vu(E,!1,X)},U),_.Ma=I),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(Vc(v,a.xd||!1,I),Lc(E),vu(E,!0,null))},v.onerror=function(){Vc(v,!0,I);var X=new Vp(lP,"Error while loading script "+p);Lc(E),vu(E,!1,X)},_=a.attributes||{},Ve(_,{type:"text/javascript",charset:"UTF-8"}),s0(v,_),jC(v,i),aP(c).appendChild(v),E}function aP(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function uP(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&Vc(i,!0,this.Ma)}}function Vc(i,a,c){c!=null&&f.clearTimeout(c),i.onload=g,i.onerror=g,i.onreadystatechange=g,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var lP=0,cP=1;function Vp(i,a){var c="Jsloader error (code #"+i+")";a&&(c+=": "+a),ve.call(this,c),this.code=i}M(Vp,ve);function jc(i){this.f=i}M(jc,fu),jc.prototype.a=function(){return new this.f},jc.prototype.b=function(){return{}};function Ir(i,a,c){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||fP,this.g=De(i.secureTokenHeaders||hP),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||dP,this.a=De(i.firebaseHeaders||pP),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Ur()=="Node",c=f.XMLHttpRequest||c&&Oe.INTERNAL.node&&Oe.INTERNAL.node.XMLHttpRequest,!c&&!Sr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Sr()?this.f=new Pc(self):K0()?this.f=new jc(c):this.f=new Cc,this.b=null}var jp,Ar="idToken",fP=new Ai(3e4,6e4),hP={"Content-Type":"application/x-www-form-urlencoded"},dP=new Ai(3e4,6e4),pP={"Content-Type":"application/json"};function K_(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function Uc(i,a){a&&(i.l=Up("https://securetoken.googleapis.com/v1/token",a),i.h=Up("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Up("https://identitytoolkit.googleapis.com/v2/",a))}function Up(i,a){return i=jn(i),a=jn(a.url),i.f=i.a+i.f,Qa(i,a.c),i.a=a.a,Ja(i,a.g),i.toString()}function W_(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}Ir.prototype.T=function(){return this.b};function G_(i,a,c,p,v,_,E){yO()||Sr()?i=j(i.u,i):(jp||(jp=new Ye(function(I,U){mP(I,U)})),i=j(i.s,i)),i(a,c,p,v,_,E)}Ir.prototype.u=function(i,a,c,p,v,_){if(Sr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var E=new gu(this.f);if(_){E.g=Math.max(0,_);var I=setTimeout(function(){E.dispatchEvent("timeout")},_)}O0(E,"complete",function(){I&&clearTimeout(I);var U=null;try{U=JSON.parse(oP(this))||null}catch{U=null}a&&a(U)}),Gd(E,"ready",function(){I&&clearTimeout(I),S0(this)}),Gd(E,"timeout",function(){I&&clearTimeout(I),S0(this),a&&a(null)}),nP(E,i,c,p,v)};var gP=new pn(ic,"https://apis.google.com/js/client.js?onload=%{onload}"),z_="__fcb"+Math.floor(1e6*Math.random()).toString();function mP(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[z_]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var c=Cd(gP,{onload:z_});sP(Fp(c),function(){a(Error("CORS_UNSUPPORTED"))})}}Ir.prototype.s=function(i,a,c,p,v){var _=this;jp.then(function(){window.gapi.client.setApiKey(_.c);var E=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:p,headers:v,authType:"none",callback:function(I){window.gapi.auth.setToken(E),a&&a(I)}})}).o(function(E){a&&a({error:{message:E&&E.message||"CORS_UNSUPPORTED"}})})};function vP(i,a){return new Ye(function(c,p){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?G_(i,i.l+"?key="+encodeURIComponent(i.c),function(v){v?v.error?p(zp(v)):v.access_token&&v.refresh_token?c(v):p(new x("internal-error")):p(new x("network-request-failed"))},"POST",L0(a).toString(),i.g,i.m.get()):p(new x("internal-error"))})}function X_(i,a,c,p,v,_,E){var I=jn(a+c);Dt(I,"key",i.c),E&&Dt(I,"cb",Date.now().toString());var U=p=="GET";if(U)for(var X in v)v.hasOwnProperty(X)&&Dt(I,X,v[X]);return new Ye(function(Me,ut){G_(i,I.toString(),function(it){it?it.error?ut(zp(it,_||{})):Me(it):ut(new x("network-request-failed"))},p,U?void 0:V0(z0(v)),i.a,i.v.get())})}function Co(i){if(i=i.email,typeof i!="string"||!wO.test(i))throw new x("invalid-email")}function Y_(i){"email"in i&&Co(i)}function yP(i,a){return Je(i,kP,{identifier:a,continueUri:yc()?tu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function bP(i){return Je(i,UP,{}).then(function(a){return a.authorizedDomains||[]})}function Un(i){if(!i[Ar])throw i.mfaPendingCredential?new x("multi-factor-auth-required",null,De(i)):new x("internal-error")}function Bp(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new x("internal-error")}else{if(!i.sessionInfo)throw new x("missing-verification-id");if(!i.code)throw new x("missing-verification-code")}}Ir.prototype.Ab=function(){return Je(this,HP,{})},Ir.prototype.Cb=function(i,a){return Je(this,Z_,{idToken:i,email:a})},Ir.prototype.Db=function(i,a){return Je(this,ew,{idToken:i,password:a})};var _P={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Ir.prototype,e.Eb=function(i,a){var c={idToken:i},p=[];return Ne(_P,function(v,_){var E=a[_];E===null?p.push(v):_ in a&&(c[_]=E)}),p.length&&(c.deleteAttribute=p),Je(this,Z_,c)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},Ve(i,a),Je(this,jP,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},Ve(i,a),Je(this,MP,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},Ve(i,a),Je(this,FP,i)},e.Fb=function(i,a,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},Ve(i,c),Je(this,VP,i)};function wP(i,a){return Je(i,qP,a)}e.gb=function(i){return Je(this,QP,i)};function EP(i,a){return Je(i,KP,a).then(function(c){return c.phoneSessionInfo.sessionInfo})}function Q_(i){if(!i.phoneVerificationInfo)throw new x("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new x("missing-verification-code")}function SP(i,a){return Je(i,WP,a).then(function(c){return c.phoneResponseInfo.sessionInfo})}function TP(i,a,c){return Je(i,OP,{idToken:a,deleteProvider:c})}function $p(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new x("internal-error")}function qp(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new bo(i.postBody),Qd(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function J_(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=xc(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=xc(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=xc(i)):i.errorMessage&&(a=nw(i.errorMessage)),a)throw a;Un(i)}function Hp(i,a){return a.returnIdpCredential=!0,Je(i,GP,a)}function Kp(i,a){return a.returnIdpCredential=!0,Je(i,XP,a)}function Wp(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,Je(i,zP,a)}function Gp(i){if(!i.oobCode)throw new x("invalid-action-code")}e.ob=function(i,a){return Je(this,$P,{oobCode:i,newPassword:a})},e.Sa=function(i){return Je(this,AP,{oobCode:i})},e.kb=function(i){return Je(this,IP,{oobCode:i})};var IP={endpoint:"setAccountInfo",A:Gp,Z:"email",B:!0},AP={endpoint:"resetPassword",A:Gp,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},xP={endpoint:"signupNewUser",A:function(i){if(Co(i),!i.password)throw new x("weak-password")},G:Un,V:!0,B:!0},kP={endpoint:"createAuthUri",B:!0},CP={endpoint:"deleteAccount",O:["idToken"]},OP={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new x("internal-error")}},PP={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Co,G:Un,V:!0,B:!0},NP={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Co,G:Un,V:!0},RP={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Q_,G:Un,B:!0,Na:!0},DP={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Q_,G:Un,B:!0,Na:!0},LP={endpoint:"getAccountInfo"},MP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new x("internal-error");Co(i)},Z:"email",B:!0},FP={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},VP={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},jP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new x("internal-error");Co(i)},Z:"email",B:!0},UP={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},BP={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new x("internal-error")}},$P={endpoint:"resetPassword",A:Gp,Z:"email",B:!0},qP={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Z_={endpoint:"setAccountInfo",O:["idToken"],A:Y_,V:!0},ew={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(Y_(i),!i.password)throw new x("weak-password")},G:Un,V:!0},HP={endpoint:"signupNewUser",G:Un,V:!0,B:!0},KP={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new x("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},WP={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},GP={endpoint:"verifyAssertion",A:$p,Za:qp,G:J_,V:!0,B:!0},zP={endpoint:"verifyAssertion",A:$p,Za:qp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(i.errorMessage)throw nw(i.errorMessage);Un(i)},V:!0,B:!0},XP={endpoint:"verifyAssertion",A:function(i){if($p(i),!i.idToken)throw new x("internal-error")},Za:qp,G:J_,V:!0},YP={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new x("invalid-custom-token")},G:Un,V:!0,B:!0},tw={endpoint:"verifyPassword",A:function(i){if(Co(i),!i.password)throw new x("wrong-password")},G:Un,V:!0,B:!0},QP={endpoint:"verifyPhoneNumber",A:Bp,G:Un,B:!0},JP={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new x("internal-error");Bp(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",xc(i);Un(i)}},ZP={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Bp,G:Un,B:!0},eN={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Ar]^!!i.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function Je(i,a,c){if(!kO(c,a.O))return St(new x("internal-error"));var p=!!a.Na,v=a.Vb||"POST",_;return Ie(c).then(a.A).then(function(){return a.V&&(c.returnSecureToken=!0),a.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),p?X_(i,i.i,a.endpoint,v,c,a.Ib,a.mb||!1):X_(i,i.h,a.endpoint,v,c,a.Ib,a.mb||!1)}).then(function(E){return _=E,a.Za?a.Za(c,_):_}).then(a.G).then(function(){if(!a.Z)return _;if(!(a.Z in _))throw new x("internal-error");return _[a.Z]})}function nw(i){return zp({error:{errors:[{message:i}],code:400,message:i}})}function zp(i,a){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=p[c]?new x(p[c]):null)return c;c=i.error&&i.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Ve(p,a||{}),a=(a=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var v in p)if(c.indexOf(v)===0)return new x(p[v],a);return!a&&i&&(a=ru(i)),new x("internal-error",a)}function tN(i){this.b=i,this.a=null,this.sb=nN(this)}function nN(i){return uN().then(function(){return new Ye(function(a,c){Tt("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function v(){clearTimeout(_),a()}i.a=p,i.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){c(Error("Network Error"))},aN.get());p.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function rN(i,a){return i.sb.then(function(){return new Ye(function(c){i.a.send(a.type,a,c,Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function iN(i,a){i.sb.then(function(){i.a.register("authEvent",a,Tt("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var oN=new pn(ic,"https://apis.google.com/js/api.js?onload=%{onload}"),sN=new Ai(3e4,6e4),aN=new Ai(5e3,15e3),Bc=null;function uN(){return Bc||(Bc=new Ye(function(i,a){function c(){Y0(),Tt("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){Y0(),a(Error("Network Error"))},timeout:sN.get()})}if(Tt("gapi.iframes.Iframe"))i();else if(Tt("gapi.load"))c();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[p]=function(){Tt("gapi.load")?c():a(Error("Network Error"))},p=Cd(oN,{onload:p}),Ie(Fp(p)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw Bc=null,i}))}function rw(i,a,c,p){this.l=i,this.h=a,this.i=c,this.g=p,this.f=null,this.g?(i=jn(this.g.url),i=mc(i.c,i.a,i.g,"/emulator/auth/iframe")):i=mc("https",this.l,null,"/__/auth/iframe"),this.a=i,Dt(this.a,"apiKey",this.h),Dt(this.a,"appName",this.i),this.b=null,this.c=[]}rw.prototype.toString=function(){return this.f?Dt(this.a,"v",this.f):jr(this.a.b,"v"),this.b?Dt(this.a,"eid",this.b):jr(this.a.b,"eid"),this.c.length?Dt(this.a,"fw",this.c.join(",")):jr(this.a.b,"fw"),this.a.toString()};function Xp(i,a,c,p,v,_){this.u=i,this.s=a,this.c=c,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Xp.prototype.zb=function(i){return this.h=i,this},Xp.prototype.toString=function(){if(this.v){var i=jn(this.v.url);i=mc(i.c,i.a,i.g,"/emulator/auth/handler")}else i=mc("https",this.u,null,"/__/auth/handler");if(Dt(i,"apiKey",this.s),Dt(i,"appName",this.c),Dt(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var c=Oe.app(this.c).auth().la()}catch{c=null}a.pb=c,Dt(i,"providerId",this.a.providerId),c=this.a,a=z0(c.Jb);for(var p in a)a[p]=a[p].toString();p=c.Qc,a=De(a);for(var v=0;v<p.length;v++){var _=p[v];_ in a&&delete a[_]}c.qb&&c.pb&&!a[c.qb]&&(a[c.qb]=c.pb),He(a)||Dt(i,"customParameters",ru(a))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Dt(i,"scopes",c.join(","))),this.l?Dt(i,"redirectUrl",this.l):jr(i.b,"redirectUrl"),this.g?Dt(i,"eventId",this.g):jr(i.b,"eventId"),this.i?Dt(i,"v",this.i):jr(i.b,"v"),this.b)for(var E in this.b)this.b.hasOwnProperty(E)&&!fr(i,E)&&Dt(i,E,this.b[E]);return this.h?Dt(i,"tid",this.h):jr(i.b,"tid"),this.f?Dt(i,"eid",this.f):jr(i.b,"eid"),E=Yp(this.c),E.length&&Dt(i,"fw",E.join(",")),i.toString()};function Yp(i){try{return Oe.app(i).auth().Ga()}catch{return[]}}function iw(i,a,c,p,v,_){this.s=i,this.g=a,this.b=c,this.f=_,this.c=p||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function ow(i){var a=tu();return bP(i).then(function(c){e:{var p=jn(a),v=p.c;p=p.a;for(var _=0;_<c.length;_++){var E=c[_],I=p,U=v;if(E.indexOf("chrome-extension://")==0?I=jn(E).a==I&&U=="chrome-extension":U!="http"&&U!="https"?I=!1:_O.test(E)?I=I==E:(E=E.split(".").join("\\."),I=new RegExp("^(.+\\."+E+"|"+E+")$","i").test(I)),I){c=!0;break e}}c=!1}if(!c)throw new xp(tu())})}function sw(i){return i.m||(i.m=vc().then(function(){if(!i.u){var a=i.c,c=i.i,p=Yp(i.b),v=new rw(i.s,i.g,i.b,i.f);v.f=a,v.b=c,v.c=oe(p||[]),i.u=v.toString()}i.v=new tN(i.u),lN(i)})),i.m}e=iw.prototype,e.Pb=function(i,a,c){var p=new x("popup-closed-by-user"),v=new x("web-storage-unsupported"),_=this,E=!1;return this.ma().then(function(){cN(_).then(function(I){I||(i&&_o(i),a(v),E=!0)})}).o(function(){}).then(function(){if(!E)return bO(i)}).then(function(){if(!E)return xs(c).then(function(){a(p)})})},e.Yb=function(){var i=on();return!nu(i)&&!X0(i)},e.Ub=function(){return!1},e.Nb=function(i,a,c,p,v,_,E,I){if(!i)return St(new x("popup-blocked"));if(E&&!nu())return this.ma().o(function(X){_o(i),v(X)}),p(),Ie();this.a||(this.a=ow(aw(this)));var U=this;return this.a.then(function(){var X=U.ma().o(function(Me){throw _o(i),v(Me),Me});return p(),X}).then(function(){if(Ip(c),!E){var X=bu(U.s,U.g,U.b,a,c,null,_,U.c,void 0,U.i,I,U.f);B0(X,i)}}).o(function(X){throw X.code=="auth/network-request-failed"&&(U.a=null),X})};function aw(i){return i.l||(i.C=i.c?Ps(i.c,Yp(i.b)):null,i.l=new Ir(i.g,Ke(i.i),i.C),i.f&&Uc(i.l,i.f)),i.l}e.Ob=function(i,a,c,p){this.a||(this.a=ow(aw(this)));var v=this;return this.a.then(function(){Ip(a);var _=bu(v.s,v.g,v.b,i,a,tu(),c,v.c,void 0,v.i,p,v.f);B0(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(v.a=null),_})},e.ma=function(){var i=this;return sw(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function bu(i,a,c,p,v,_,E,I,U,X,Me,ut){return i=new Xp(i,a,c,p,v,ut),i.l=_,i.g=E,i.i=I,i.b=De(U||null),i.f=X,i.zb(Me).toString()}function lN(i){if(!i.v)throw Error("IfcHandler must be initialized!");iN(i.v,function(a){var c={};if(a&&a.authEvent){var p=!1;for(a=O_(a.authEvent),c=0;c<i.h.length;c++)p=i.h[c](a)||p;return c={},c.status=p?"ACK":"ERROR",Ie(c)}return c.status="ERROR",Ie(c)})}function cN(i){var a={type:"webStorageSupport"};return sw(i).then(function(){return rN(i.v,a)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){$(this.h,function(a){return a==i})};function uw(i){if(this.a=i||Oe.INTERNAL.reactNative&&Oe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=uw.prototype,e.get=function(i){return Ie(this.a.getItem(i)).then(function(a){return a&&Rs(a)})},e.set=function(i,a){return Ie(this.a.setItem(i,ru(a)))},e.U=function(i){return Ie(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function lw(i){this.b=i,this.a={},this.f=j(this.c,this)}var cw=[];function fN(){var i=Sr()?self:null;if(K(cw,function(c){c.b==i&&(a=c)}),!a){var a=new lw(i);cw.push(a)}return a}lw.prototype.c=function(i){var a=i.data.eventType,c=i.data.eventId,p=this.a[a];if(p&&0<p.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:a,response:null});var v=[];K(p,function(_){v.push(Ie().then(function(){return _(i.origin,i.data.data)}))}),p0(v).then(function(_){var E=[];K(_,function(I){E.push({fulfilled:I.Qb,value:I.value,reason:I.reason?I.reason.message:void 0})}),K(E,function(I){for(var U in I)typeof I[U]>"u"&&delete I[U]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:a,response:E})})}};function fw(i,a,c){He(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(c)}function hw(i){this.a=i}hw.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function dw(i){this.c=i,this.b=!1,this.a=[]}function pw(i,a,c,p){var v,_=c||{},E,I,U,X=null;if(i.b)return St(Error("connection_unavailable"));var Me=p?800:50,ut=typeof MessageChannel<"u"?new MessageChannel:null;return new Ye(function(it,Zt){ut?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),ut.port1.start(),I=setTimeout(function(){Zt(Error("unsupported_event"))},Me),E=function(li){li.data.eventId===v&&(li.data.status==="ack"?(clearTimeout(I),U=setTimeout(function(){Zt(Error("timeout"))},3e3)):li.data.status==="done"?(clearTimeout(U),typeof li.data.response<"u"?it(li.data.response):Zt(Error("unknown_error"))):(clearTimeout(I),clearTimeout(U),Zt(Error("invalid_response"))))},X={messageChannel:ut,onMessage:E},i.a.push(X),ut.port1.addEventListener("message",E),i.c.postMessage({eventType:a,eventId:v,data:_},[ut.port2])):Zt(Error("connection_unavailable"))}).then(function(it){return Qp(i,X),it}).o(function(it){throw Qp(i,X),it})}function Qp(i,a){if(a){var c=a.messageChannel,p=a.onMessage;c&&(c.port1.removeEventListener("message",p),c.port1.close()),$(i.a,function(v){return v==a})}}dw.prototype.close=function(){for(;0<this.a.length;)Qp(this,this.a[0]);this.b=!0};function gw(){if(!eg())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;Sr()&&self?(this.v=fN(),fw(this.v,"keyChanged",function(a,c){return yw(i).then(function(p){return 0<p.length&&K(i.a,function(v){v(p)}),{keyProcessed:R(p,c.key)}})}),fw(this.v,"ping",function(){return Ie(["keyChanged"])})):AO().then(function(a){(i.h=a)&&(i.g=new dw(new hw(a)),pw(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var Jp;function hN(i){return new Ye(function(a,c){var p=i.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){a()},p.onerror=function(v){c(Error(v.target.error))}})}function mw(i){return new Ye(function(a,c){var p=i.m.open("firebaseLocalStorageDb",1);p.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},p.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){c(_)}},p.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?a(v):hN(i).then(function(){return mw(i)}).then(function(_){a(_)}).o(function(_){c(_)})}})}function Zp(i){return i.i||(i.i=mw(i)),i.i}function $c(i,a){function c(v,_){Zp(i).then(a).then(v).o(function(E){if(3<++p)_(E);else return Zp(i).then(function(I){return I.close(),i.i=void 0,c(v,_)}).o(function(I){_(I)})})}var p=0;return new Ye(c)}function eg(){try{return!!f.indexedDB}catch{return!1}}function _u(i){return i.objectStore("firebaseLocalStorage")}function wu(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Fs(i){return new Ye(function(a,c){i.onsuccess=function(p){p&&p.target?a(p.target.result):a()},i.onerror=function(p){c(p.target.error)}})}e=gw.prototype,e.set=function(i,a){var c=this,p=!1;return $c(this,function(v){return v=_u(wu(v,!0)),Fs(v.get(i))}).then(function(v){return $c(c,function(_){if(_=_u(wu(_,!0)),v)return v.value=a,Fs(_.put(v));c.b++,p=!0;var E={};return E.fbase_key=i,E.value=a,Fs(_.add(E))})}).then(function(){return c.c[i]=a,vw(c,i)}).oa(function(){p&&c.b--})};function vw(i,a){return i.g&&i.h&&IO()===i.h?pw(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Ie()}e.get=function(i){return $c(this,function(a){return Fs(_u(wu(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,c=!1;return $c(this,function(p){return c=!0,a.b++,Fs(_u(wu(p,!0)).delete(i))}).then(function(){return delete a.c[i],vw(a,i)}).oa(function(){c&&a.b--})};function yw(i){return Zp(i).then(function(a){var c=_u(wu(a,!1));return c.getAll?Fs(c.getAll()):new Ye(function(p,v){var _=[],E=c.openCursor();E.onsuccess=function(I){(I=I.target.result)?(_.push(I.value),I.continue()):p(_)},E.onerror=function(I){v(I.target.error)}})}).then(function(a){var c={},p=[];if(i.b==0){for(p=0;p<a.length;p++)c[a[p].fbase_key]=a[p].value;p=$0(i.c,c),i.c=c}return p})}e.ca=function(i){this.a.length==0&&dN(this),this.a.push(i)},e.ia=function(i){$(this.a,function(a){return a==i}),this.a.length==0&&bw(this)};function dN(i){function a(){i.f=setTimeout(function(){i.l=yw(i).then(function(c){0<c.length&&K(i.a,function(p){p(c)})}).then(function(){a()}).o(function(c){c.message!="STOP_EVENT"&&a()})},800)}bw(i),a()}function bw(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function _w(i){var a=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Ie().then(function(){if(eg()){var p=Eo(),v="__sak"+p;return Jp||(Jp=new gw),c=Jp,c.set(v,p).then(function(){return c.get(v)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return a.c})}return a.c}).then(function(p){return a.type=p.type,p.ca(function(v){K(a.a,function(_){_(v)})}),p})}e=_w.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(c){return c.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){$(this.a,function(a){return a==i})};function Eu(){this.a={},this.type="inMemory"}e=Eu.prototype,e.get=function(i){return Ie(this.a[i])},e.set=function(i,a){return this.a[i]=a,Ie()},e.U=function(i){return delete this.a[i],Ie()},e.ca=function(){},e.ia=function(){};function qc(){if(!pN())throw Ur()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=ww()||Oe.INTERNAL.node.localStorage,this.type="localStorage"}function ww(){try{var i=f.localStorage,a=Eo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function pN(){var i=Ur()=="Node";if(i=ww()||i&&Oe.INTERNAL.node&&Oe.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=qc.prototype,e.get=function(i){var a=this;return Ie().then(function(){var c=a.a.getItem(i);return Rs(c)})},e.set=function(i,a){var c=this;return Ie().then(function(){var p=ru(a);p===null?c.U(i):c.a.setItem(i,p)})},e.U=function(i){var a=this;return Ie().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&cr(f.window,"storage",i)},e.ia=function(i){f.window&&Jn(f.window,"storage",i)};function tg(){this.type="nullStorage"}e=tg.prototype,e.get=function(){return Ie(null)},e.set=function(){return Ie()},e.U=function(){return Ie()},e.ca=function(){},e.ia=function(){};function ng(){if(!gN())throw Ur()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=Ew()||Oe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Ew(){try{var i=f.sessionStorage,a=Eo();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function gN(){var i=Ur()=="Node";if(i=Ew()||i&&Oe.INTERNAL.node&&Oe.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=ng.prototype,e.get=function(i){var a=this;return Ie().then(function(){var c=a.a.getItem(i);return Rs(c)})},e.set=function(i,a){var c=this;return Ie().then(function(){var p=ru(a);p===null?c.U(i):c.a.setItem(i,p)})},e.U=function(i){var a=this;return Ie().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function mN(){var i={};i.Browser=vN,i.Node=yN,i.ReactNative=bN,i.Worker=_N,this.a=i[Ur()]}var rg,vN={F:qc,cb:ng},yN={F:qc,cb:ng},bN={F:uw,cb:tg},_N={F:qc,cb:tg},Vs={rd:"local",NONE:"none",td:"session"};function wN(i){var a=new x("invalid-persistence-type"),c=new x("unsupported-persistence-type");e:{for(p in Vs)if(Vs[p]==i){var p=!0;break e}p=!1}if(!p||typeof i!="string")throw a;switch(Ur()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!eg()&&i!=="none")throw c;break;default:if(!rp()&&i!=="none")throw c}}function Sw(){var i=!!(!X0(on())&&tp()),a=nu(),c=rp();this.m=i,this.h=a,this.l=c,this.a={},rg||(rg=new mN),i=rg;try{this.g=!Zd()&&Q0()||!f.indexedDB?new i.a.F:new _w(Sr()?new Eu:new i.a.F)}catch{this.g=new Eu,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new Eu}this.v=new Eu,this.f=j(this.Zb,this),this.b={}}var ig;function Su(){return ig||(ig=new Sw),ig}function Oo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function js(i,a){return"firebase:"+i.name+(a?":"+a:"")}function EN(i,a,c){var p=js(a,c),v=Oo(i,a.F);return i.get(a,c).then(function(_){var E=null;try{E=Rs(f.localStorage.getItem(p))}catch{}if(E&&!_)return f.localStorage.removeItem(p),i.set(a,E,c);E&&_&&v.type!="localStorage"&&f.localStorage.removeItem(p)})}e=Sw.prototype,e.get=function(i,a){return Oo(this,i.F).get(js(i,a))};function Us(i,a,c){return c=js(a,c),a.F=="local"&&(i.b[c]=null),Oo(i,a.F).U(c)}e.set=function(i,a,c){var p=js(i,c),v=this,_=Oo(this,i.F);return _.set(p,a).then(function(){return _.get(p)}).then(function(E){i.F=="local"&&(v.b[p]=E)})},e.addListener=function(i,a,c){i=js(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),He(this.a)&&(Oo(this,"local").ca(this.f),this.h||(Zd()||!Q0())&&f.indexedDB||!this.l||SN(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,a,c){i=js(i,a),this.a[i]&&($(this.a[i],function(p){return p==c}),this.a[i].length==0&&delete this.a[i]),He(this.a)&&(Oo(this,"local").ia(this.f),og(this))};function SN(i){og(i),i.c=setInterval(function(){for(var a in i.a){var c=f.localStorage.getItem(a),p=i.b[a];c!=p&&(i.b[a]=c,c=new vo({type:"storage",key:a,target:window,oldValue:p,newValue:c,a:!0}),i.Zb(c))}},1e3)}function og(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var c in this.a){var p=this.b[c];typeof p>"u"&&(p=null);var v=f.localStorage.getItem(c);v!==p&&(this.b[c]=v,this.nb(c))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?Oo(this,"local").ia(this.f):og(this),this.m){if(c=f.localStorage.getItem(a),p=i.a.newValue,p!==c)p!==null?f.localStorage.setItem(a,p):f.localStorage.removeItem(a);else if(this.b[a]===p&&typeof i.a.a>"u")return}var _=this;c=function(){(typeof i.a.a<"u"||_.b[a]!==f.localStorage.getItem(a))&&(_.b[a]=f.localStorage.getItem(a),_.nb(a))},Er&&Si&&Si==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else K(i,j(this.nb,this))},e.nb=function(i){this.a[i]&&K(this.a[i],function(a){a()})};function TN(i){this.a=i,this.b=Su()}var sg={name:"authEvent",F:"local"};function IN(i){return i.b.get(sg,i.a).then(function(a){return O_(a)})}function AN(){this.a=Su()}function xN(){this.b=-1}function Hc(i,a){this.b=Tw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),Kc===void 0&&(f.Int32Array?Kc=new Int32Array(xw):Kc=xw),this.reset()}var Kc;M(Hc,xN);for(var Tw=64,kN=Tw-1,Iw=[],ag=0;ag<kN;ag++)Iw[ag]=0;var Aw=Y(128,Iw);Hc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):oe(this.h)};function ug(i){for(var a=i.f,c=i.l,p=0,v=0;v<a.length;)c[p++]=a[v]<<24|a[v+1]<<16|a[v+2]<<8|a[v+3],v=4*p;for(a=16;64>a;a++){v=c[a-15]|0,p=c[a-2]|0;var _=(c[a-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,E=(c[a-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;c[a]=_+E|0}p=i.a[0]|0,v=i.a[1]|0;var I=i.a[2]|0,U=i.a[3]|0,X=i.a[4]|0,Me=i.a[5]|0,ut=i.a[6]|0;for(_=i.a[7]|0,a=0;64>a;a++){var it=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&v^p&I^v&I)|0;E=X&Me^~X&ut,_=_+((X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7))|0,E=E+(Kc[a]|0)|0,E=_+(E+(c[a]|0)|0)|0,_=ut,ut=Me,Me=X,X=U+E|0,U=I,I=v,v=p,p=E+it|0}i.a[0]=i.a[0]+p|0,i.a[1]=i.a[1]+v|0,i.a[2]=i.a[2]+I|0,i.a[3]=i.a[3]+U|0,i.a[4]=i.a[4]+X|0,i.a[5]=i.a[5]+Me|0,i.a[6]=i.a[6]+ut|0,i.a[7]=i.a[7]+_|0}function lg(i,a,c){c===void 0&&(c=a.length);var p=0,v=i.c;if(typeof a=="string")for(;p<c;)i.f[v++]=a.charCodeAt(p++),v==i.b&&(ug(i),v=0);else if(b(a))for(;p<c;){var _=a[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");i.f[v++]=_,v==i.b&&(ug(i),v=0)}else throw Error("message must be string or array");i.c=v,i.g+=c}var xw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function kw(){Hc.call(this,8,CN)}M(kw,Hc);var CN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cw(i,a,c,p,v,_){this.v=i,this.i=a,this.l=c,this.m=p||null,this.u=v||null,this.s=_,this.h=a+":"+c,this.C=new AN,this.g=new TN(this.h),this.f=null,this.b=[],this.a=this.c=null}function Wc(i){return new x("invalid-cordova-configuration",i)}e=Cw.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=EO().then(function(){if(typeof Tt("universalLinks.subscribe",f)!="function")throw Wc("cordova-universal-links-plugin-fix is not installed");if(typeof Tt("BuildInfo.packageName",f)>"u")throw Wc("cordova-plugin-buildinfo is not installed");if(typeof Tt("cordova.plugins.browsertab.openUrl",f)!="function")throw Wc("cordova-plugin-browsertab is not installed");if(typeof Tt("cordova.InAppBrowser.open",f)!="function")throw Wc("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function ON(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function PN(i){var a=new kw;lg(a,i),i=[];var c=8*a.g;56>a.c?lg(a,Aw,56-a.c):lg(a,Aw,a.b-(a.c-56));for(var p=63;56<=p;p--)a.f[p]=c&255,c/=256;for(ug(a),p=c=0;p<a.i;p++)for(var v=24;0<=v;v-=8)i[c++]=a.a[p]>>v&255;return $O(i)}e.Pb=function(i,a){return a(new x("operation-not-supported-in-this-environment")),Ie()},e.Nb=function(){return St(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,c,p){if(this.c)return St(new x("redirect-operation-pending"));var v=this,_=f.document,E=null,I=null,U=null,X=null;return this.c=Ie().then(function(){return Ip(a),Pw(v)}).then(function(){return NN(v,i,a,c,p)}).then(function(){return new Ye(function(Me,ut){I=function(){var it=Tt("cordova.plugins.browsertab.close",f);return Me(),typeof it=="function"&&it(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(I),U=function(){E||(E=xs(2e3).then(function(){ut(new x("redirect-cancelled-by-user"))}))},X=function(){ip()&&U()},_.addEventListener("resume",U,!1),on().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",X,!1)}).o(function(Me){return cg(v).then(function(){throw Me})})}).oa(function(){U&&_.removeEventListener("resume",U,!1),X&&_.removeEventListener("visibilitychange",X,!1),E&&E.cancel(),I&&v.Ta(I),v.c=null})};function NN(i,a,c,p,v){var _=ON(),E=new Tr(a,p,null,_,new x("no-auth-event"),null,v),I=Tt("BuildInfo.packageName",f);if(typeof I!="string")throw new x("invalid-cordova-configuration");var U=Tt("BuildInfo.displayName",f),X={};if(on().toLowerCase().match(/iphone|ipad|ipod/))X.ibi=I;else if(on().toLowerCase().match(/android/))X.apn=I;else return St(new x("operation-not-supported-in-this-environment"));U&&(X.appDisplayName=U),_=PN(_),X.sessionId=_;var Me=bu(i.v,i.i,i.l,a,c,null,p,i.m,X,i.u,v,i.s);return i.ma().then(function(){var ut=i.h;return i.C.a.set(sg,E.w(),ut)}).then(function(){var ut=Tt("cordova.plugins.browsertab.isAvailable",f);if(typeof ut!="function")throw new x("invalid-cordova-configuration");var it=null;ut(function(Zt){if(Zt){if(it=Tt("cordova.plugins.browsertab.openUrl",f),typeof it!="function")throw new x("invalid-cordova-configuration");it(Me)}else{if(it=Tt("cordova.InAppBrowser.open",f),typeof it!="function")throw new x("invalid-cordova-configuration");Zt=on(),i.a=it(Me,Zt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Zt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Ow(i,a){for(var c=0;c<i.b.length;c++)try{i.b[c](a)}catch{}}function Pw(i){return i.f||(i.f=i.ma().then(function(){return new Ye(function(a){function c(p){return a(p),i.Ta(c),!1}i.Ea(c),RN(i)})})),i.f}function cg(i){var a=null;return IN(i.g).then(function(c){return a=c,c=i.g,Us(c.b,sg,c.a)}).then(function(){return a})}function RN(i){function a(E){p=!0,v&&v.cancel(),cg(i).then(function(I){var U=c;if(I&&E&&E.url){var X=null;U=E_(E.url),U.indexOf("/__/auth/callback")!=-1&&(X=jn(U),X=Rs(fr(X,"firebaseError")||null),X=(X=typeof X=="object"?Ce(X):null)?new Tr(I.c,I.b,null,null,X,null,I.T()):new Tr(I.c,I.b,U,I.f,null,null,I.T())),U=X||c}Ow(i,U)})}var c=new Tr("unknown",null,null,null,new x("no-auth-event")),p=!1,v=xs(500).then(function(){return cg(i).then(function(){p||Ow(i,c)})}),_=f.handleOpenURL;f.handleOpenURL=function(E){if(E.toLowerCase().indexOf(Tt("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:E}),typeof _=="function")try{_(E)}catch(I){console.error(I)}},Ap||(Ap=new YO),QO(a)}e.Ea=function(i){this.b.push(i),Pw(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Tr("unknown",null,null,null,new x("no-auth-event")),i(a))})},e.Ta=function(i){$(this.b,function(a){return a==i})};function DN(i){this.a=i,this.b=Su()}var fg={name:"pendingRedirect",F:"session"};function LN(i){return i.b.set(fg,"pending",i.a)}function hg(i){return Us(i.b,fg,i.a)}function MN(i){return i.b.get(fg,i.a).then(function(a){return a=="pending"})}function Gc(i,a,c,p){this.i={},this.u=0,this.D=i,this.v=a,this.m=c,this.J=p,this.h=[],this.f=!1,this.l=j(this.s,this),this.b=new Xc,this.C=new Bw,this.g=new DN(Vw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Nw(this.D,this.v,this.m,se,this.J)}function Nw(i,a,c,p,v){var _=Oe.SDK_VERSION||null;return ep()?new Cw(i,a,c,_,p,v):new iw(i,a,c,_,p,v)}Gc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Nw(this.D,this.v,this.m,null,this.J),this.i={}};function Rw(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(c){throw i.a==a&&i.reset(),c})}function Dw(i){i.a.Yb()&&Rw(i).o(function(a){var c=new Tr("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));pg(a)&&i.s(c)}),i.a.Ub()||jw(i.b)}function zc(i,a){R(i.h,a)||i.h.push(a),i.f||MN(i.g).then(function(c){c?hg(i.g).then(function(){Rw(i).o(function(p){var v=new Tr("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));pg(p)&&i.s(v)})}):Dw(i)}).o(function(){Dw(i)})}function dg(i,a){$(i.h,function(c){return c==a})}Gc.prototype.s=function(i){if(!i)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,c=0;c<this.h.length;c++){var p=this.h[c];if(p.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,p),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return jw(this.b),a};var FN=new Ai(2e3,1e4),VN=new Ai(3e4,6e4);Gc.prototype.ra=function(){return this.b.ra()};function Lw(i,a,c,p,v,_,E){return i.a.Nb(a,c,p,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},v,_,E)}function pg(i){return!!(i&&i.code=="auth/cordova-not-ready")}function Mw(i,a,c,p,v){var _;return LN(i.g).then(function(){return i.a.Ob(a,c,p,v).o(function(E){if(pg(E))throw new x("operation-not-supported-in-this-environment");return _=E,hg(i.g).then(function(){throw _})}).then(function(){return i.a.ac()?new Ye(function(){}):hg(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function Fw(i,a,c,p,v){return i.a.Pb(p,function(_){a.na(c,null,_,v)},FN.get())}var gg={};function Vw(i,a,c){return i=i+":"+a,c&&(i=i+":"+c.url),i}function mg(i,a,c,p){var v=Vw(a,c,p);return gg[v]||(gg[v]=new Gc(i,a,c,p)),gg[v]}function Xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Xc.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var c=i.c,p=i.b,v=i.a&&i.a.code=="auth/web-storage-unsupported",_=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!_),c!="unknown"||v||_?i.a?(Po(this,!0,null,i.a),Ie()):a.Fa(c,p)?jN(this,i,a):St(new x("invalid-auth-event")):(Po(this,!1,null,null),Ie())}else St(new x("invalid-auth-event"))};function jw(i){i.g||(i.g=!0,Po(i,!1,null,null))}function Yc(i){i.g&&!i.i&&Po(i,!1,null,null)}function jN(i,a,c){c=c.Fa(a.c,a.b);var p=a.g,v=a.f,_=a.i,E=a.T(),I=!!a.c.match(/Redirect$/);c(p,v,E,_).then(function(U){Po(i,I,U,null)}).o(function(U){Po(i,I,null,U)})}function UN(i,a){if(i.b=function(){return St(a)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](a)}function Uw(i,a){if(i.b=function(){return Ie(a)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](a)}function Po(i,a,c,p){a?p?UN(i,p):Uw(i,c):Uw(i,{user:null}),i.f=[],i.c=[]}Xc.prototype.ra=function(){var i=this;return new Ye(function(a,c){i.b?i.b().then(a,c):(i.f.push(a),i.c.push(c),BN(i))})};function BN(i){var a=new x("timeout");i.a&&i.a.cancel(),i.a=xs(VN.get()).then(function(){i.b||(i.g=!0,Po(i,!0,null,a))})}function Bw(){}Bw.prototype.h=function(i,a){if(i){var c=i.c,p=i.b;i.a?(a.na(i.c,null,i.a,i.b),Ie()):a.Fa(c,p)?$N(i,a):St(new x("invalid-auth-event"))}else St(new x("invalid-auth-event"))};function $N(i,a){var c=i.b,p=i.c;a.Fa(p,c)(i.g,i.f,i.T(),i.i).then(function(v){a.na(p,v,null,c)}).o(function(v){a.na(p,null,v,c)})}function $w(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function vg(i,a){this.a=a,me(this,"verificationId",i)}vg.prototype.confirm=function(i){return i=C_(this.verificationId,i),this.a(i)};function yg(i,a,c,p){return new ai(i).gb(a,c).then(function(v){return new vg(v,p)})}function qN(i){var a=p_(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");An(this,{token:i,expirationTime:iu(1e3*a.exp),authTime:iu(1e3*a.auth_time),issuedAtTime:iu(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function bg(i,a,c){var p=a&&a[Hw];if(!p)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=De(a),this.g=c,this.c=new Ic(null,p),this.b=[];var v=this;K(a[qw]||[],function(_){(_=cp(_))&&v.b.push(_)}),me(this,"auth",this.a),me(this,"session",this.c),me(this,"hints",this.b)}var qw="mfaInfo",Hw="mfaPendingCredential";bg.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(c){var p=De(a.f);return delete p[qw],delete p[Hw],Ve(p,c),a.g(p)})};function _g(i,a,c,p){x.call(this,"multi-factor-auth-required",p,a),this.b=new bg(i,a,c),me(this,"resolver",this.b)}M(_g,x);function Kw(i,a,c){if(i&&S(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new _g(a,i.serverResponse,c,i.message)}catch{}return null}function Ww(){}Ww.prototype.tb=function(i,a,c){return a.type==uu?HN(this,i,a,c):KN(this,i,a)};function HN(i,a,c,p){return c.Ha().then(function(v){return v={idToken:v},typeof p<"u"&&(v.displayName=p),Ve(v,{phoneVerificationInfo:lu(i.a)}),Je(a,RP,v)})}function KN(i,a,c){return c.Ha().then(function(p){return p={mfaPendingCredential:p},Ve(p,{phoneVerificationInfo:lu(i.a)}),Je(a,DP,p)})}function wg(i){me(this,"factorId",i.fa),this.a=i}M(wg,Ww);function Gw(i){if(wg.call(this,i),this.a.fa!=ai.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}M(Gw,wg);function Bs(i,a){Vn.call(this,i);for(var c in a)this[c]=a[c]}M(Bs,Vn);function Eg(i,a){this.a=i,this.b=[],this.c=j(this.yc,this),cr(this.a,"userReloaded",this.c);var c=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&K(a.multiFactor.enrolledFactors,function(p){var v=null,_={};if(p){p.uid&&(_[hp]=p.uid),p.displayName&&(_[Z0]=p.displayName),p.enrollmentTime&&(_[fp]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[dp]=p.phoneNumber);try{v=new ou(_)}catch{}p=v}else p=null;p&&c.push(p)}),Qc(this,c)}function WN(i){var a=[];return K(i.mfaInfo||[],function(c){(c=cp(c))&&a.push(c)}),a}e=Eg.prototype,e.yc=function(i){Qc(this,WN(i.hd))};function Qc(i,a){i.b=a,me(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new Ic(i,null)})},e.fc=function(i,a){var c=this,p=this.a.a;return this.Sb().then(function(v){return i.tb(p,v,a)}).then(function(v){return qr(c.a,v),c.a.reload()})},e.bd=function(i){var a=this,c=typeof i=="string"?i:i.uid,p=this.a.a;return this.a.I().then(function(v){return Je(p,eN,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var _=ce(a.b,function(E){return E.uid!=c});return Qc(a,_),qr(a.a,v),a.a.reload().o(function(E){if(E.code!="auth/user-token-expired")throw E})})},e.w=function(){return{multiFactor:{enrolledFactors:Fe(this.b,function(i){return i.w()})}}};function Sg(i,a,c){if(this.h=i,this.i=a,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Sg.prototype.start=function(){this.a=this.c,Tg(this,!0)};function GN(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function Tg(i,a){i.stop(),i.b=xs(GN(i,a)).then(function(){return TO()}).then(function(){return i.h()}).then(function(){Tg(i,!0)}).o(function(c){i.i(c)&&Tg(i,!1)})}Sg.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function Ig(i){this.f=i,this.b=this.a=null,this.c=Date.now()}Ig.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function zw(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function Xw(i,a){i.b=Sc(a[Ar]||""),i.a=a.refreshToken,a=a.expiresIn,zw(i,typeof a<"u"?Number(a):void 0)}function zN(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function XN(i,a){return vP(i.f,a).then(function(c){return i.b=Sc(c.access_token),i.a=c.refresh_token,zw(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}Ig.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?St(new x("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?XN(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})};function Jc(i,a){this.a=i||null,this.b=a||null,An(this,{lastSignInTime:iu(a||null),creationTime:iu(i||null)})}function YN(i){return new Jc(i.a,i.b)}Jc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function QN(i,a,c,p,v,_){An(this,{uid:i,displayName:p||null,photoURL:v||null,email:c||null,phoneNumber:_||null,providerId:a})}function er(i,a,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var p=Oe.SDK_VERSION?Ps(Oe.SDK_VERSION):null;this.a=new Ir(this.l,Ke(se),p),(this.u=i.emulatorConfig||null)&&Uc(this.a,this.u),this.h=new Ig(this.a),Ng(this,a[Ar]),Xw(this.h,a),me(this,"refreshToken",this.h.a),Qw(this,c||{}),In.call(this),this.P=!1,this.s&&wo()&&(this.b=mg(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=JN(this),this.ba=j(this.ib,this);var v=this;this.za=null,this.Pa=function(_){v.xa(_.h)},this.qa=null,this.Ba=function(_){Ag(v,_.c)},this.$=null,this.aa=[],this.Oa=function(_){Tu(v,_.f)},this.ja=null,this.S=new Eg(this,c),me(this,"multiFactor",this.S)}M(er,In),er.prototype.xa=function(i){this.za=i,K_(this.a,i)};function Ag(i,a){i.u=a,Uc(i.a,a),i.b&&(a=i.b,i.b=mg(i.s,i.l,i.m,i.u),i.P&&(dg(a,i),zc(i.b,i)))}er.prototype.la=function(){return this.za};function xg(i,a){i.qa&&Jn(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&cr(a,"languageCodeChanged",i.Pa)}function kg(i,a){i.$&&Jn(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&cr(a,"emulatorConfigChanged",i.Ba)}function Tu(i,a){i.aa=a,W_(i.a,Oe.SDK_VERSION?Ps(Oe.SDK_VERSION,i.aa):null)}er.prototype.Ga=function(){return oe(this.aa)};function Cg(i,a){i.ja&&Jn(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&cr(a,"frameworkChanged",i.Oa)}er.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Og(i){try{return Oe.app(i.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function JN(i){return new Sg(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function Yw(i){i.J||i.D.b||(i.D.start(),Jn(i,"tokenChanged",i.ba),cr(i,"tokenChanged",i.ba))}function Pg(i){Jn(i,"tokenChanged",i.ba),i.D.stop()}function Ng(i,a){i.Aa=a,me(i,"_lat",a)}function ZN(i,a){$(i.W,function(c){return c==a})}function No(i){for(var a=[],c=0;c<i.W.length;c++)a.push(i.W[c](i));return p0(a).then(function(){return i})}function Iu(i){i.b&&!i.P&&(i.P=!0,zc(i.b,i))}function Qw(i,a){An(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Jc(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}me(er.prototype,"providerId","firebase");function Jw(){}function Rg(i){return Ie().then(function(){if(i.J)throw new x("app-deleted")})}function Dg(i){return Fe(i.providerData,function(a){return a.providerId})}function Lg(i,a){a&&(Zw(i,a.providerId),i.providerData.push(a))}function Zw(i,a){$(i.providerData,function(c){return c.providerId==a})}function Ci(i,a,c){(a!="uid"||c)&&i.hasOwnProperty(a)&&me(i,a,c)}function Zc(i,a){i!=a&&(An(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?me(i,"metadata",YN(a.metadata)):me(i,"metadata",new Jc),K(a.providerData,function(c){Lg(i,c)}),zN(i.h,a.h),me(i,"refreshToken",i.h.a),Qc(i.S,a.S.b))}e=er.prototype,e.reload=function(){var i=this;return zt(this,Rg(this).then(function(){return Mg(i).then(function(){return No(i)}).then(Jw)}))};function Mg(i){return i.I().then(function(a){var c=i.isAnonymous;return eR(i,a).then(function(){return c||Ci(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new qN(a)})},e.I=function(i){var a=this;return zt(this,Rg(this).then(function(){return a.h.getToken(i)}).then(function(c){if(!c)throw new x("internal-error");return c.accessToken!=a.Aa&&(Ng(a,c.accessToken),a.dispatchEvent(new Bs("tokenChanged"))),Ci(a,"refreshToken",c.refreshToken),c.accessToken}))};function qr(i,a){a[Ar]&&i.Aa!=a[Ar]&&(Xw(i.h,a),i.dispatchEvent(new Bs("tokenChanged")),Ng(i,a[Ar]),Ci(i,"refreshToken",i.h.a))}function eR(i,a){return Je(i.a,LP,{idToken:a}).then(j(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new x("internal-error");i=i[0],Qw(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=tR(i),c=0;c<a.length;c++)Lg(this,a[c]);Ci(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Bs("userReloaded",{hd:i}))};function tR(i){return(i=i.providerUserInfo)&&i.length?Fe(i,function(a){return new QN(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return op("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,c=null;return zt(this,i.c(this.a,this.uid).then(function(p){return qr(a,p),c=Au(a,p,"reauthenticate"),a.i=null,a.reload()}).then(function(){return c}),!0)};function ef(i,a){return Mg(i).then(function(){if(R(Dg(i),a))return No(i).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(i){return op("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,c=null;return zt(this,ef(this,i.providerId).then(function(){return a.I()}).then(function(p){return i.b(a.a,p)}).then(function(p){return c=Au(a,p,"link"),e1(a,p)}).then(function(){return c}))},e.Dc=function(i,a){var c=this;return zt(this,ef(this,"phone").then(function(){return yg(Og(c),i,a,j(c.rb,c))}))},e.Mc=function(i,a){var c=this;return zt(this,Ie().then(function(){return yg(Og(c),i,a,j(c.ub,c))}),!0)};function Au(i,a,c){var p=Tp(a);return a=m_(a),Br({user:i,credential:p,additionalUserInfo:a,operationType:c})}function e1(i,a){return qr(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return zt(this,this.I().then(function(c){return a.a.Cb(c,i)}).then(function(c){return qr(a,c),a.reload()}))},e.ed=function(i){var a=this;return zt(this,this.I().then(function(c){return i.b(a.a,c)}).then(function(c){return qr(a,c),a.reload()}))},e.Db=function(i){var a=this;return zt(this,this.I().then(function(c){return a.a.Db(c,i)}).then(function(c){return qr(a,c),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Rg(this);var a=this;return zt(this,this.I().then(function(c){return a.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return qr(a,c),Ci(a,"displayName",c.displayName||null),Ci(a,"photoURL",c.photoUrl||null),K(a.providerData,function(p){p.providerId==="password"&&(me(p,"displayName",a.displayName),me(p,"photoURL",a.photoURL))}),No(a)}).then(Jw))},e.cd=function(i){var a=this;return zt(this,Mg(this).then(function(c){return R(Dg(a),i)?TP(a.a,c,[i]).then(function(p){var v={};return K(p.providerUserInfo||[],function(_){v[_.providerId]=!0}),K(Dg(a),function(_){v[_]||Zw(a,_)}),v[ai.PROVIDER_ID]||me(a,"phoneNumber",null),No(a)}):No(a).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var i=this;return zt(this,this.I().then(function(a){return Je(i.a,CP,{idToken:a})}).then(function(){i.dispatchEvent(new Bs("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");xg(i,null),kg(i,null),Cg(i,null),i.N=[],i.J=!0,Pg(i),me(i,"refreshToken",null),i.b&&dg(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,c,p){i!="linkViaPopup"&&i!="reauthViaPopup"||p!=(this.g||null)||(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?j(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?j(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?j(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?j(this.Mb,this):null},e.Ec=function(i){var a=this;return t1(this,"linkViaPopup",i,function(){return ef(a,i.providerId).then(function(){return No(a)})},!1)},e.Nc=function(i){return t1(this,"reauthViaPopup",i,function(){return Ie()},!0)};function t1(i,a,c,p,v){if(!wo())return St(new x("operation-not-supported-in-this-environment"));if(i.i&&!v)return St(i.i);var _=yp(c.providerId),E=Eo(i.uid+":::"),I=null;(!nu()||tp())&&i.s&&c.isOAuthProvider&&(I=bu(i.s,i.l,i.m,a,c,null,E,Oe.SDK_VERSION||null,null,null,i.tenantId,i.u));var U=H0(I,_&&_.va,_&&_.ua);return p=p().then(function(){if(r1(i),!v)return i.I().then(function(){})}).then(function(){return Lw(i.b,U,a,c,E,!!I,i.tenantId)}).then(function(){return new Ye(function(X,Me){i.na(a,null,new x("cancelled-popup-request"),i.g||null),i.f=X,i.C=Me,i.g=E,i.c=Fw(i.b,i,a,U,E)})}).then(function(X){return U&&_o(U),X?Br(X):null}).o(function(X){throw U&&_o(U),X}),zt(i,p,v)}e.Fc=function(i){var a=this;return n1(this,"linkViaRedirect",i,function(){return ef(a,i.providerId)},!1)},e.Oc=function(i){return n1(this,"reauthViaRedirect",i,function(){return Ie()},!0)};function n1(i,a,c,p,v){if(!wo())return St(new x("operation-not-supported-in-this-environment"));if(i.i&&!v)return St(i.i);var _=null,E=Eo(i.uid+":::");return p=p().then(function(){if(r1(i),!v)return i.I().then(function(){})}).then(function(){return i.ga=E,No(i)}).then(function(I){return i.ha&&(I=i.ha,I=I.b.set(Fg,i.w(),I.a)),I}).then(function(){return Mw(i.b,a,c,E,i.tenantId)}).o(function(I){if(_=I,i.ha)return o1(i.ha);throw _}).then(function(){if(_)throw _}),zt(i,p,v)}function r1(i){if(!i.b||!i.P)throw i.b&&!i.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(i,a,c,p){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return c=this.I().then(function(E){return Kp(v.a,{requestUri:i,postBody:p,sessionId:a,idToken:E})}).then(function(E){return _=Au(v,E,"link"),e1(v,E)}).then(function(){return _}),zt(this,c)},e.Mb=function(i,a,c,p){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null,E=Ie().then(function(){return Ls(Wp(v.a,{requestUri:i,sessionId:a,postBody:p,tenantId:c}),v.uid)}).then(function(I){return _=Au(v,I,"reauthenticate"),qr(v,I),v.i=null,v.reload()}).then(function(){return _});return zt(this,E,!0)},e.vb=function(i){var a=this,c=null;return zt(this,this.I().then(function(p){return c=p,typeof i>"u"||He(i)?{}:wc(new _c(i))}).then(function(p){return a.a.vb(c,p)}).then(function(p){if(a.email!=p)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var c=this,p=null;return zt(this,this.I().then(function(v){return p=v,typeof a>"u"||He(a)?{}:wc(new _c(a))}).then(function(v){return c.a.Fb(p,i,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function zt(i,a,c){var p=nR(i,a,c);return i.N.push(p),p.oa(function(){B(i.N,p)}),p.o(function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=Kw(v.w(),Og(i),j(i.jc,i))),_||v})}e.jc=function(i){var a=null,c=this;return i=Ls(Ie(i),c.uid).then(function(p){return a=Au(c,p,"reauthenticate"),qr(c,p),c.i=null,c.reload()}).then(function(){return a}),zt(this,i,!0)};function nR(i,a,c){return i.i&&!c?(a.cancel(),St(i.i)):a.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Bs("userInvalidated")),i.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Ve(i,this.metadata.w()),K(this.providerData,function(a){i.providerData.push(xO(a))}),Ve(i,this.S.w()),i};function i1(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[Ar]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var p=i.stsTokenManager.expirationTime;p&&(c.expiresIn=(p-Date.now())/1e3)}else return null;var v=new er(a,c,i);return i.providerData&&K(i.providerData,function(_){_&&Lg(v,Br(_))}),i.redirectEventId&&(v.ga=i.redirectEventId),v}function rR(i,a,c,p){var v=new er(i,a);return c&&(v.ha=c),p&&Tu(v,p),v.reload().then(function(){return v})}function iR(i,a,c,p){var v=i.h,_={};return _[Ar]=v.b&&v.b.toString(),_.refreshToken=v.a,a=new er(a||{apiKey:i.l,authDomain:i.s,appName:i.m},_),c&&(a.ha=c),p&&Tu(a,p),Zc(a,i),a}function oR(i){this.a=i,this.b=Su()}var Fg={name:"redirectUser",F:"session"};function o1(i){return Us(i.b,Fg,i.a)}function sR(i,a){return i.b.get(Fg,i.a).then(function(c){return c&&a&&(c.authDomain=a),i1(c||{})})}function Vg(i){this.a=i,this.b=Su(),this.c=null,this.f=aR(this),this.b.addListener(Hr("local"),this.a,j(this.g,this))}Vg.prototype.g=function(){var i=this,a=Hr("local");$s(this,function(){return Ie().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(c){if(c)return jg(i,"local").then(function(){i.c=a})})})};function jg(i,a){var c=[],p;for(p in Vs)Vs[p]!==a&&c.push(Us(i.b,Hr(Vs[p]),i.a));return c.push(Us(i.b,Ug,i.a)),YC(c)}function aR(i){var a=Hr("local"),c=Hr("session"),p=Hr("none");return EN(i.b,a,i.a).then(function(){return i.b.get(c,i.a)}).then(function(v){return v?c:i.b.get(p,i.a).then(function(_){return _?p:i.b.get(a,i.a).then(function(E){return E?a:i.b.get(Ug,i.a).then(function(I){return I?Hr(I):a})})})}).then(function(v){return i.c=v,jg(i,v.F)}).o(function(){i.c||(i.c=a)})}var Ug={name:"persistence",F:"session"};function Hr(i){return{name:"authUser",F:i}}Vg.prototype.yb=function(i){var a=null,c=this;return wN(i),$s(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(p){return a=p,jg(c,i)}).then(function(){if(c.c=Hr(i),a)return c.b.set(c.c,a,c.a)}):Ie()})};function uR(i){return $s(i,function(){return i.b.set(Ug,i.c.F,i.a)})}function s1(i,a){return $s(i,function(){return i.b.set(i.c,a.w(),i.a)})}function a1(i){return $s(i,function(){return Us(i.b,i.c,i.a)})}function u1(i,a,c){return $s(i,function(){return i.b.get(i.c,i.a).then(function(p){return p&&a&&(p.authDomain=a),p&&c&&(p.emulatorConfig=c),i1(p||{})})})}function $s(i,a){return i.f=i.f.then(a,a),i.f}function xr(i){if(this.l=!1,me(this,"settings",new $w),me(this,"app",i),ft(this).options&&ft(this).options.apiKey)i=Oe.SDK_VERSION?Ps(Oe.SDK_VERSION):null,this.a=new Ir(ft(this).options&&ft(this).options.apiKey,Ke(se),i);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=Oe.INTERNAL.createSubscribe(j(this.zc,this)),this.W=void 0,this.ib=Oe.INTERNAL.createSubscribe(j(this.Ac,this)),qs(this,null),this.i=new Vg(ft(this).options.apiKey+":"+ft(this).name),this.D=new oR(ft(this).options.apiKey+":"+ft(this).name),this.$=Nt(this,pR(this)),this.h=Nt(this,gR(this)),this.ba=!1,this.ja=j(this.Zc,this),this.Ba=j(this.da,this),this.qa=j(this.mc,this),this.za=j(this.wc,this),this.Aa=j(this.xc,this),this.b=null,fR(this),this.INTERNAL={},this.INTERNAL.delete=j(this.delete,this),this.INTERNAL.logFramework=j(this.Gc,this),this.u=0,In.call(this),cR(this),this.J=[],this.R=null}M(xr,In);function l1(i){Vn.call(this,"languageCodeChanged"),this.h=i}M(l1,Vn);function c1(i){Vn.call(this,"emulatorConfigChanged"),this.c=i}M(c1,Vn);function f1(i){Vn.call(this,"frameworkChanged"),this.f=i}M(f1,Vn),e=xr.prototype,e.yb=function(i){return i=this.i.yb(i),Nt(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,K_(this.a,this.aa),this.dispatchEvent(new l1(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,lR(a),this.R={url:i,ec:a},this.settings.jb=!0,Uc(this.a,this.R),this.dispatchEvent(new c1(this.R))}};function lR(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&vc().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),W_(this.a,Oe.SDK_VERSION?Ps(Oe.SDK_VERSION,this.J):null),this.dispatchEvent(new f1(this.J))},e.Ga=function(){return oe(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function cR(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=jn(this.R.url);a=Br({protocol:a.c,host:a.a,port:a.g,options:Br({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:ft(this).options.apiKey,authDomain:ft(this).options.authDomain,appName:ft(this).name,currentUser:We(this)&&We(this).w()}};function Bg(i){return i.Oa||St(new x("auth-domain-config-required"))}function fR(i){var a=ft(i).options.authDomain,c=ft(i).options.apiKey;a&&wo()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=mg(a,c,ft(i).name,i.R),zc(i.b,i),We(i)&&Iu(We(i)),i.m){Iu(i.m);var p=i.m;p.xa(i.la()),xg(p,i),p=i.m,Tu(p,i.J),Cg(p,i),p=i.m,Ag(p,i.R),kg(p,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,c,p){i=="signInViaPopup"&&this.g==p&&(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?j(this.ic,this):null},e.ic=function(i,a,c,p){var v=this,_={requestUri:i,postBody:p,sessionId:a,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Ro(v,Hp(v.a,_))})},e.Xc=function(i){if(!wo())return St(new x("operation-not-supported-in-this-environment"));var a=this,c=yp(i.providerId),p=Eo(),v=null;(!nu()||tp())&&ft(this).options.authDomain&&i.isOAuthProvider&&(v=bu(ft(this).options.authDomain,ft(this).options.apiKey,ft(this).name,"signInViaPopup",i,null,p,Oe.SDK_VERSION||null,null,null,this.T(),this.R));var _=H0(v,c&&c.va,c&&c.ua);return c=Bg(this).then(function(E){return Lw(E,_,"signInViaPopup",i,p,!!v,a.T())}).then(function(){return new Ye(function(E,I){a.na("signInViaPopup",null,new x("cancelled-popup-request"),a.g),a.f=E,a.C=I,a.g=p,a.c=Fw(a.b,a,"signInViaPopup",_,p)})}).then(function(E){return _&&_o(_),E?Br(E):null}).o(function(E){throw _&&_o(_),E}),Nt(this,c)},e.Yc=function(i){if(!wo())return St(new x("operation-not-supported-in-this-environment"));var a=this,c=Bg(this).then(function(){return uR(a.i)}).then(function(){return Mw(a.b,"signInViaRedirect",i,void 0,a.T())});return Nt(this,c)};function h1(i){if(!wo())return St(new x("operation-not-supported-in-this-environment"));var a=Bg(i).then(function(){return i.b.ra()}).then(function(c){return c?Br(c):null});return Nt(i,a)}e.ra=function(){var i=this;return h1(this).then(function(a){return i.b&&Yc(i.b.b),a}).o(function(a){throw i.b&&Yc(i.b.b),a})},e.dd=function(i){if(!i)return St(new x("null-user"));if(this.S!=i.tenantId)return St(new x("tenant-id-mismatch"));var a=this,c={};c.apiKey=ft(this).options.apiKey,c.authDomain=ft(this).options.authDomain,c.appName=ft(this).name;var p=iR(i,c,a.D,a.Ga());return Nt(this,this.h.then(function(){if(ft(a).options.apiKey!=i.l)return p.reload()}).then(function(){return We(a)&&i.uid==We(a).uid?(Zc(We(a),i),a.da(i)):(qs(a,p),Iu(p),a.da(p))}).then(function(){xu(a)}))};function hR(i,a){var c={};return c.apiKey=ft(i).options.apiKey,c.authDomain=ft(i).options.authDomain,c.appName=ft(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return rR(c,a,i.D,i.Ga())}).then(function(p){return We(i)&&p.uid==We(i).uid?(Zc(We(i),p),i.da(p)):(qs(i,p),Iu(p),i.da(p))}).then(function(){xu(i)})}function qs(i,a){We(i)&&(ZN(We(i),i.Ba),Jn(We(i),"tokenChanged",i.qa),Jn(We(i),"userDeleted",i.za),Jn(We(i),"userInvalidated",i.Aa),Pg(We(i))),a&&(a.W.push(i.Ba),cr(a,"tokenChanged",i.qa),cr(a,"userDeleted",i.za),cr(a,"userInvalidated",i.Aa),0<i.u&&Yw(a)),me(i,"currentUser",a),a&&(a.xa(i.la()),xg(a,i),Tu(a,i.J),Cg(a,i),Ag(a,i.R),kg(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&Yc(i.b.b),We(i)?(qs(i,null),a1(i.i).then(function(){xu(i)})):Ie()});return Nt(this,a)};function dR(i){var a=sR(i.D,ft(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),o1(i.D)});return Nt(i,a)}function pR(i){var a=ft(i).options.authDomain,c=dR(i).then(function(){return u1(i.i,a,i.R)}).then(function(p){return p?(p.ha=i.D,i.m&&(i.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return s1(i.i,p).then(function(){return p})}).o(function(v){return v.code=="auth/network-request-failed"?p:a1(i.i)})):null}).then(function(p){qs(i,p||null)});return Nt(i,c)}function gR(i){return i.$.then(function(){return h1(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(Hr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return u1(this.i,ft(this).options.authDomain).then(function(a){if(!i.l){var c;if(c=We(i)&&a){c=We(i).uid;var p=a.uid;c=c==null||c===""||p===void 0||p===null||p===""?!1:c==p}if(c)return Zc(We(i),a),We(i).I();(We(i)||a)&&(qs(i,a),a&&(Iu(a),a.ha=i.D),i.b&&zc(i.b,i),xu(i))}})},e.da=function(i){return s1(this.i,i)},e.mc=function(){xu(this),this.da(We(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ro(i,a){var c=null,p=null;return Nt(i,a.then(function(v){return c=Tp(v),p=m_(v),hR(i,v)},function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=Kw(v.w(),i,j(i.kc,i))),_||v}).then(function(){return Br({user:We(i),credential:c,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Ro(a,Ie(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(We(a))})},e.Ac=function(i){var a=this;mR(this,function(){i.next(We(a))})},e.Ic=function(i,a,c){var p=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(We(p)):typeof i.next=="function"&&i.next(We(p))}),this.Pa(i,a,c)},e.Hc=function(i,a,c){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof i=="function"?i(We(p)):typeof i.next=="function"&&i.next(We(p))}),this.ib(i,a,c)},e.nc=function(i){var a=this,c=this.h.then(function(){return We(a)?We(a).I(i).then(function(p){return{accessToken:p}}):null});return Nt(this,c)},e.Tc=function(i){var a=this;return this.h.then(function(){return Ro(a,Je(a.a,YP,{token:i}))}).then(function(c){var p=c.user;return Ci(p,"isAnonymous",!1),a.da(p),c})},e.Uc=function(i,a){var c=this;return this.h.then(function(){return Ro(c,Je(c.a,tw,{email:i,password:a}))})},e.dc=function(i,a){var c=this;return this.h.then(function(){return Ro(c,Je(c.a,xP,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Ro(a,i.ka(a.a))})},e.Sc=function(i){return op("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=We(i);if(a&&a.isAnonymous){var c=Br({providerId:null,isNewUser:!1});return Br({user:a,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Ro(i,i.a.Ab()).then(function(p){var v=p.user;return Ci(v,"isAnonymous",!0),i.da(v),p})})};function ft(i){return i.app}function We(i){return i.currentUser}e.getUid=function(){return We(this)&&We(this).uid||null};function tf(i){return We(i)&&We(i)._lat||null}function xu(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](tf(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](tf(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&We(this)&&Yw(We(this))},e.Pc=function(i){var a=this;K(this.s,function(c){c==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&We(this)&&Pg(We(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),Nt(this,this.h.then(function(){a.l||R(a.s,i)&&i(tf(a))}))},e.removeAuthTokenListener=function(i){$(this.s,function(a){return a==i})};function mR(i,a){i.N.push(a),Nt(i,i.h.then(function(){!i.l&&R(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(tf(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(Hr("local"),i.a,this.ja)),this.b&&(dg(this.b,this),Yc(this.b.b)),Promise.resolve()};function Nt(i,a){return i.P.push(a),a.oa(function(){B(i.P,a)}),a}e.hc=function(i){return Nt(this,yP(this.a,i))},e.Bc=function(i){return!!Sp(i)},e.xb=function(i,a){var c=this;return Nt(this,Ie().then(function(){var p=new _c(a);if(!p.c)throw new x("argument-error",mp+" must be true when sending sign in link to email");return wc(p)}).then(function(p){return c.a.xb(i,p)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return Nt(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return Nt(this,this.a.Sa(i).then(function(a){return new CO(a)}))},e.kb=function(i){return Nt(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var c=this;return Nt(this,Ie().then(function(){return typeof a>"u"||He(a)?{}:wc(new _c(a))}).then(function(p){return c.a.wb(i,p)}).then(function(){}))},e.Wc=function(i,a){return Nt(this,yg(this,i,a,j(this.ab,this)))},e.Vc=function(i,a){var c=this;return Nt(this,Ie().then(function(){var p=a||tu(),v=k_(i,p);if(p=Sp(p),!p)throw new x("argument-error","Invalid email link!");if(p.tenantId!==c.T())throw new x("tenant-id-mismatch");return c.ab(v)}))};function ku(){}ku.prototype.render=function(){},ku.prototype.reset=function(){},ku.prototype.getResponse=function(){},ku.prototype.execute=function(){};function Hs(){this.a={},this.b=1e12}var $g=null;Hs.prototype.render=function(i,a){return this.a[this.b.toString()]=new nf(i,a),this.b++},Hs.prototype.reset=function(i){var a=qg(this,i);i=d1(i),a&&i&&(a.delete(),delete this.a[i])},Hs.prototype.getResponse=function(i){return(i=qg(this,i))?i.getResponse():null},Hs.prototype.execute=function(i){(i=qg(this,i))&&i.execute()};function qg(i,a){return(a=d1(a))&&i.a[a]||null}function d1(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function nf(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=za(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():cr(this.f,"click",this.i)}nf.prototype.getResponse=function(){return Hg(this),this.b},nf.prototype.execute=function(){Hg(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=SO();var a=i.c.callback,c=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},nf.prototype.delete=function(){Hg(this),this.g=!0,clearTimeout(this.a),this.a=null,Jn(this.f,"click",this.i)};function Hg(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function Kg(){}me(Kg,"FACTOR_ID","phone");function Wg(){}Wg.prototype.g=function(){return $g||($g=new Hs),Ie($g)},Wg.prototype.c=function(){};var Gg=null;function zg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var vR=new pn(ic,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yR=new Ai(3e4,6e4);zg.prototype.g=function(i){var a=this;return new Ye(function(c,p){var v=setTimeout(function(){p(new x("network-request-failed"))},yR.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var E=f.grecaptcha.render;f.grecaptcha.render=function(I,U){return I=E(I,U),a.b++,I},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),p(new x("internal-error"));delete f[a.a]};var _=Cd(vR,{onload:a.a,hl:i||""});Ie(Fp(_)).o(function(){clearTimeout(v),p(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},zg.prototype.c=function(){this.b--};var Xg=null;function Yg(i,a,c,p,v,_,E){if(me(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,E?(Gg||(Gg=new Wg),E=Gg):(Xg||(Xg=new zg),E=Xg),this.m=E,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[m1])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[bR]==="invisible",!f.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!za(a)||!this.i&&za(a).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ir(i,_||null,v||null),this.u=p||function(){return null};var I=this;this.l=[];var U=this.a[p1];this.a[p1]=function(Me){if(v1(I,Me),typeof U=="function")U(Me);else if(typeof U=="string"){var ut=Tt(U,f);typeof ut=="function"&&ut(Me)}};var X=this.a[g1];this.a[g1]=function(){if(v1(I,null),typeof X=="function")X();else if(typeof X=="string"){var Me=Tt(X,f);typeof Me=="function"&&Me()}}}var p1="callback",g1="expired-callback",m1="sitekey",bR="size";function v1(i,a){for(var c=0;c<i.l.length;c++)try{i.l[c](a)}catch{}}function _R(i,a){$(i.l,function(c){return c==a})}function Qg(i,a){return i.h.push(a),a.oa(function(){B(i.h,a)}),a}e=Yg.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=Qg(this,Ie().then(function(){if(yc()&&!Sr())return vc();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,Je(i.s,BP,{})}).then(function(a){i.a[m1]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){rf(this);var i=this;return Qg(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var c=za(a);a=WC("DIV"),c.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){rf(this);var i=this;return Qg(this,this.render().then(function(a){return new Ye(function(c){var p=i.g.getResponse(a);if(p)c(p);else{var v=function(_){_&&(_R(i,v),c(_))};i.l.push(v),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){rf(this),this.c!==null&&this.g.reset(this.c)};function rf(i){if(i.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){rf(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=za(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function Jg(i,a,c){var p=!1;try{this.b=c||Oe.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new x("invalid-api-key");var v=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=Oe.SDK_VERSION?Ps(Oe.SDK_VERSION,_):null,Yg.call(this,c,i,a,function(){try{var E=v.b.auth().la()}catch{E=null}return E},_,Ke(se),p)}M(Jg,Yg);function y1(i,a,c,p){e:{c=Array.prototype.slice.call(c);for(var v=0,_=!1,E=0;E<a.length;E++)if(a[E].optional)_=!0;else{if(_)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(_=a.length,c.length<v||_<c.length)p="Expected "+(v==_?v==1?"1 argument":v+" arguments":v+"-"+_+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(_=a[v].optional&&c[v]===void 0,!a[v].M(c[v])&&!_){if(a=a[v],0>v||v>=b1.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");c=b1[v],p=(p?"":c+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}p=null}}if(p)throw new x("argument-error",i+" failed: "+p)}var b1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function pe(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(c){return typeof c=="string"}}}function Zg(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(c){return typeof c=="boolean"}}}function Ut(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:S}}function Ks(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(c){return typeof c=="function"}}}function Kr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(c){return c===null}}}function wR(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function ER(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof xr)}}}function SR(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof Oe.app.App)}}}function Oi(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var c=!i||a.providerId===i;return!(!a.ka||!c)}}}function _1(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Ws(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function em(i,a){return S(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function w1(i){return S(i)&&typeof i.uid=="string"}function of(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Lt(i,a,c,p){return{name:c||"",K:i.K+" or "+a.K,optional:!!p,M:function(v){return i.M(v)||a.M(v)}}}function kt(i,a){for(var c in a){var p=a[c].name;i[p]=S1(p,i[c],a[c].j)}}function E1(i,a){for(var c in a){var p=a[c].name;p!==c&&Object.defineProperty(i,p,{get:ae(function(v){return this[v]},c),set:ae(function(v,_,E,I){y1(v,[E],[I],!0),this[_]=I},p,c,a[c].lb),enumerable:!0})}}function Mt(i,a,c,p){i[a]=S1(a,c,p)}function S1(i,a,c){function p(){var E=Array.prototype.slice.call(arguments);return y1(v,c,E),a.apply(this,E)}if(!c)return a;var v=TR(i),_;for(_ in a)p[_]=a[_];for(_ in a.prototype)p.prototype[_]=a.prototype[_];return p}function TR(i){return i=i.split("."),i[i.length-1]}kt(xr.prototype,{kb:{name:"applyActionCode",j:[pe("code")]},Sa:{name:"checkActionCode",j:[pe("code")]},ob:{name:"confirmPasswordReset",j:[pe("code"),pe("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[pe("email"),pe("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[pe("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[pe("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Lt(Ut(),Ks(),"nextOrObserver"),Ks("opt_error",!0),Ks("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Lt(Ut(),Ks(),"nextOrObserver"),Ks("opt_error",!0),Ks("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[pe("email"),Lt(Ut("opt_actionCodeSettings",!0),Kr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[pe("email"),Ut("actionCodeSettings")]},yb:{name:"setPersistence",j:[pe("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Oi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Oi()]},Tc:{name:"signInWithCustomToken",j:[pe("token")]},Uc:{name:"signInWithEmailAndPassword",j:[pe("email"),pe("password")]},Vc:{name:"signInWithEmailLink",j:[pe("email"),pe("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[pe("phoneNumber"),of()]},Xc:{name:"signInWithPopup",j:[Ws()]},Yc:{name:"signInWithRedirect",j:[Ws()]},dd:{name:"updateCurrentUser",j:[Lt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof er)}}}(),Kr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[pe(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[pe("url"),Ut("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[pe("code")]}}),E1(xr.prototype,{lc:{name:"languageCode",lb:Lt(pe(),Kr(),"languageCode")},ti:{name:"tenantId",lb:Lt(pe(),Kr(),"tenantId")}}),xr.Persistence=Vs,xr.Persistence.LOCAL="local",xr.Persistence.SESSION="session",xr.Persistence.NONE="none",kt(er.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Zg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Zg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Oi()]},rb:{name:"linkWithCredential",j:[Oi()]},Dc:{name:"linkWithPhoneNumber",j:[pe("phoneNumber"),of()]},Ec:{name:"linkWithPopup",j:[Ws()]},Fc:{name:"linkWithRedirect",j:[Ws()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Oi()]},ub:{name:"reauthenticateWithCredential",j:[Oi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[pe("phoneNumber"),of()]},Nc:{name:"reauthenticateWithPopup",j:[Ws()]},Oc:{name:"reauthenticateWithRedirect",j:[Ws()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Lt(Ut("opt_actionCodeSettings",!0),Kr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[pe(null,!0)]},cd:{name:"unlink",j:[pe("provider")]},Cb:{name:"updateEmail",j:[pe("email")]},Db:{name:"updatePassword",j:[pe("password")]},ed:{name:"updatePhoneNumber",j:[Oi("phone")]},Eb:{name:"updateProfile",j:[Ut("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[pe("email"),Lt(Ut("opt_actionCodeSettings",!0),Kr(null,!0),"opt_actionCodeSettings",!0)]}}),kt(Hs.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kt(ku.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kt(Ye.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),E1($w.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Zg("appVerificationDisabledForTesting")}}),kt(vg.prototype,{confirm:{name:"confirm",j:[pe("verificationCode")]}}),Mt(Ds,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,c=[GO,zO,XO,WO],p=0;p<c.length;p++)if(a=c[p](i))return a;return null},[Lt(pe(),Ut(),"json")]),Mt(hr,"credential",function(i,a){return new xi(i,a)},[pe("email"),pe("password")]),kt(xi.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),kt(Io.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(Io,"credential",T_,[Lt(pe(),Ut(),"token")]),Mt(hr,"credentialWithLink",k_,[pe("email"),pe("emailLink")]),kt(Ao.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(Ao,"credential",I_,[Lt(pe(),Ut(),"token")]),kt(xo.prototype,{Ca:{name:"addScope",j:[pe("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(xo,"credential",A_,[Lt(pe(),Lt(Ut(),Kr()),"idToken"),Lt(pe(),Kr(),"accessToken",!0)]),kt(Ms.prototype,{Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(Ms,"credential",x_,[Lt(pe(),Ut(),"token"),pe("secret",!0)]),kt(Zn.prototype,{Ca:{name:"addScope",j:[pe("scope")]},credential:{name:"credential",j:[Lt(pe(),Lt(Ut(),Kr()),"optionsOrIdToken"),Lt(pe(),Kr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),kt(si.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),kt(So.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),Mt(ai,"credential",C_,[pe("verificationId"),pe("verificationCode")]),kt(ai.prototype,{gb:{name:"verifyPhoneNumber",j:[Lt(pe(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(c){return c?c.session&&c.phoneNumber?em(c.session,uu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?em(c.session,Ac)&&w1(c.multiFactorHint):c.session&&c.multiFactorUid?em(c.session,Ac)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),of()]}}),kt(ki.prototype,{w:{name:"toJSON",j:[pe(null,!0)]}}),kt(x.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),kt(cu.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),kt(xp.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),kt(_g.prototype,{toJSON:{name:"toJSON",j:[pe(null,!0)]}}),kt(bg.prototype,{Rc:{name:"resolveSignIn",j:[_1()]}}),kt(Eg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[_1(),pe("displayName",!0)]},bd:{name:"unenroll",j:[Lt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:w1},pe(),"multiFactorInfoIdentifier")]}}),kt(Jg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mt(gp,"parseLink",s_,[pe("link")]),Mt(Kg,"assertion",function(i){return new Gw(i)},[Oi("phone")]),function(){if(typeof Oe<"u"&&Oe.INTERNAL&&Oe.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:pp,VERIFY_AND_CHANGE_EMAIL:su,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:xr,AuthCredential:Ds,Error:x};Mt(i,"EmailAuthProvider",hr,[]),Mt(i,"FacebookAuthProvider",Io,[]),Mt(i,"GithubAuthProvider",Ao,[]),Mt(i,"GoogleAuthProvider",xo,[]),Mt(i,"TwitterAuthProvider",Ms,[]),Mt(i,"OAuthProvider",Zn,[pe("providerId")]),Mt(i,"SAMLAuthProvider",S_,[pe("providerId")]),Mt(i,"PhoneAuthProvider",ai,[ER()]),Mt(i,"RecaptchaVerifier",Jg,[Lt(pe(),wR(),"recaptchaContainer"),Ut("recaptchaParameters",!0),SR()]),Mt(i,"ActionCodeURL",gp,[]),Mt(i,"PhoneMultiFactorGenerator",Kg,[]),Oe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new xr(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),Oe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:j(a.getUid,a),getToken:j(a.nc,a),addAuthTokenListener:j(a.cc,a),removeAuthTokenListener:j(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Oe.registerVersion("@firebase/auth","0.16.8"),Oe.INTERNAL.extendNamespace({User:er})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rv=function(e,t){return rv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},rv(e,t)};function uF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");rv(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function UI(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var lF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},he,yy=yy||{},je=lF||self;function Hf(){}function iv(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Vl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function cF(e){return Object.prototype.hasOwnProperty.call(e,hm)&&e[hm]||(e[hm]=++fF)}var hm="closure_uid_"+(1e9*Math.random()>>>0),fF=0;function hF(e,t,n){return e.call.apply(e.bind,arguments)}function dF(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function cn(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?cn=hF:cn=dF,cn.apply(null,arguments)}function df(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function hn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(r,u)}}function uo(){this.s=this.s,this.o=this.o}var pF=0;uo.prototype.s=!1;uo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),pF!=0)&&cF(this)};uo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var BI=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},$I=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function gF(e){e:{for(var t=s2,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function dE(e){return Array.prototype.concat.apply([],arguments)}function by(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Kf(e){return/^[\s\xa0]*$/.test(e)}var pE=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Pn(e,t){return e.indexOf(t)!=-1}function dm(e,t){return e<t?-1:e>t?1:0}var Nn;e:{var gE=je.navigator;if(gE){var mE=gE.userAgent;if(mE){Nn=mE;break e}}Nn=""}function _y(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function qI(e){var t={};for(var n in e)t[n]=e[n];return t}var vE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function HI(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<vE.length;s++)n=vE[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wy(e){return wy[" "](e),e}wy[" "]=Hf;function mF(e){var t=bF;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var vF=Pn(Nn,"Opera"),pa=Pn(Nn,"Trident")||Pn(Nn,"MSIE"),KI=Pn(Nn,"Edge"),ov=KI||pa,WI=Pn(Nn,"Gecko")&&!(Pn(Nn.toLowerCase(),"webkit")&&!Pn(Nn,"Edge"))&&!(Pn(Nn,"Trident")||Pn(Nn,"MSIE"))&&!Pn(Nn,"Edge"),yF=Pn(Nn.toLowerCase(),"webkit")&&!Pn(Nn,"Edge");function GI(){var e=je.document;return e?e.documentMode:void 0}var Wf;e:{var pm="",gm=function(){var e=Nn;if(WI)return/rv:([^\);]+)(\)|;)/.exec(e);if(KI)return/Edge\/([\d\.]+)/.exec(e);if(pa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(yF)return/WebKit\/(\S+)/.exec(e);if(vF)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(gm&&(pm=gm?gm[1]:""),pa){var mm=GI();if(mm!=null&&mm>parseFloat(pm)){Wf=String(mm);break e}}Wf=pm}var bF={};function _F(){return mF(function(){for(var e=0,t=pE(String(Wf)).split("."),n=pE("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=dm(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||dm(s[2].length==0,u[2].length==0)||dm(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var sv;if(je.document&&pa){var yE=GI();sv=yE||parseInt(Wf,10)||void 0}else sv=void 0;var wF=sv,EF=function(){if(!je.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{je.addEventListener("test",Hf,t),je.removeEventListener("test",Hf,t)}catch{}return e}();function En(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};function cl(e,t){if(En.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(WI){e:{try{wy(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:SF[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&cl.Z.h.call(this)}}hn(cl,En);var SF={2:"touch",3:"pen",4:"mouse"};cl.prototype.h=function(){cl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jl="closure_listenable_"+(1e6*Math.random()|0),TF=0;function IF(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++TF,this.ca=this.fa=!1}function qh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Hh(e){this.src=e,this.g={},this.h=0}Hh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=uv(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new IF(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function av(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=BI(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(qh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function uv(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var Ey="closure_lm_"+(1e6*Math.random()|0),vm={};function zI(e,t,n,r,o){if(r&&r.once)return YI(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)zI(e,t[s],n,r,o);return null}return n=Iy(n),e&&e[jl]?e.N(t,n,Vl(r)?!!r.capture:!!r,o):XI(e,t,n,!1,r,o)}function XI(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=Vl(o)?!!o.capture:!!o,l=Ty(e);if(l||(e[Ey]=l=new Hh(e)),n=l.add(t,n,r,u,s),n.proxy)return n;if(r=AF(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)EF||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(JI(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AF(){function e(n){return t.call(e.src,e.listener,n)}var t=xF;return e}function YI(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)YI(e,t[s],n,r,o);return null}return n=Iy(n),e&&e[jl]?e.O(t,n,Vl(r)?!!r.capture:!!r,o):XI(e,t,n,!0,r,o)}function QI(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)QI(e,t[s],n,r,o);else r=Vl(r)?!!r.capture:!!r,n=Iy(n),e&&e[jl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=uv(s,n,r,o),-1<n&&(qh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ty(e))&&(t=e.g[t.toString()],e=-1,t&&(e=uv(t,n,r,o)),(n=-1<e?t[e]:null)&&Sy(n))}function Sy(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[jl])av(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(JI(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ty(t))?(av(n,e),n.h==0&&(n.src=null,t[Ey]=null)):qh(e)}}}function JI(e){return e in vm?vm[e]:vm[e]="on"+e}function xF(e,t){if(e.ca)e=!0;else{t=new cl(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Sy(e),e=n.call(r,t)}return e}function Ty(e){return e=e[Ey],e instanceof Hh?e:null}var ym="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iy(e){return typeof e=="function"?e:(e[ym]||(e[ym]=function(t){return e.handleEvent(t)}),e[ym])}function rn(){uo.call(this),this.i=new Hh(this),this.P=this,this.I=null}hn(rn,uo);rn.prototype[jl]=!0;rn.prototype.removeEventListener=function(e,t,n,r){QI(this,e,t,n,r)};function fn(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new En(t,e);else if(t instanceof En)t.target=t.target||e;else{var o=t;t=new En(r,e),HI(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=pf(u,r,!0,t)&&o}if(u=t.g=e,o=pf(u,r,!0,t)&&o,o=pf(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=pf(u,r,!1,t)&&o}rn.prototype.M=function(){if(rn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)qh(n[r]);delete e.g[t],e.h--}}this.I=null};rn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};rn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function pf(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&av(e.i,u),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var Ay=je.JSON.stringify;function kF(){var e=eA,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var CF=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=ZI.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),ZI=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new OF},function(e){return e.reset()}),OF=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function PF(e){je.setTimeout(function(){throw e},0)}function xy(e,t){lv||NF(),cv||(lv(),cv=!0),eA.add(e,t)}var lv;function NF(){var e=je.Promise.resolve(void 0);lv=function(){e.then(RF)}}var cv=!1,eA=new CF;function RF(){for(var e;e=kF();){try{e.h.call(e.g)}catch(n){PF(n)}var t=ZI;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}cv=!1}function Kh(e,t){rn.call(this),this.h=e||1,this.g=t||je,this.j=cn(this.kb,this),this.l=Date.now()}hn(Kh,rn);he=Kh.prototype;he.da=!1;he.S=null;he.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),fn(this,"tick"),this.da&&(ky(this),this.start()))}};he.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ky(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}he.M=function(){Kh.Z.M.call(this),ky(this),delete this.g};function Cy(e,t,n){if(typeof e=="function")n&&(e=cn(e,n));else if(e&&typeof e.handleEvent=="function")e=cn(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:je.setTimeout(e,t||0)}function tA(e){e.g=Cy(function(){e.g=null,e.i&&(e.i=!1,tA(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var DF=function(e){uF(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:tA(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(je.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(uo);function fl(e){uo.call(this),this.h=e,this.g={}}hn(fl,uo);var bE=[];function nA(e,t,n,r){Array.isArray(n)||(n&&(bE[0]=n.toString()),n=bE);for(var o=0;o<n.length;o++){var s=zI(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function rA(e){_y(e.g,function(t,n){this.g.hasOwnProperty(n)&&Sy(t)},e),e.g={}}fl.prototype.M=function(){fl.Z.M.call(this),rA(this)};fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Wh(){this.g=!0}Wh.prototype.Aa=function(){this.g=!1};function LF(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var m=d[0];d=d[1];var h=m.split("_");u=2<=h.length&&h[1]=="type"?u+(m+"="+d+"&"):u+(m+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function MF(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function na(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+VF(e,n)+(r?" "+r:"")})}function FF(e,t){e.info(function(){return"TIMEOUT: "+t})}Wh.prototype.info=function(){};function VF(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return Ay(n)}catch{return t}}var ms={},_E=null;function Gh(){return _E=_E||new rn}ms.Ma="serverreachability";function iA(e){En.call(this,ms.Ma,e)}hn(iA,En);function hl(e){var t=Gh();fn(t,new iA(t))}ms.STAT_EVENT="statevent";function oA(e,t){En.call(this,ms.STAT_EVENT,e),this.stat=t}hn(oA,En);function Rn(e){var t=Gh();fn(t,new oA(t,e))}ms.Na="timingevent";function sA(e,t){En.call(this,ms.Na,e),this.size=t}hn(sA,En);function Ul(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return je.setTimeout(function(){e()},t)}var zh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},aA={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Oy(){}Oy.prototype.h=null;function wE(e){return e.h||(e.h=e.i())}function uA(){}var Bl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Py(){En.call(this,"d")}hn(Py,En);function Ny(){En.call(this,"c")}hn(Ny,En);var fv;function Xh(){}hn(Xh,Oy);Xh.prototype.g=function(){return new XMLHttpRequest};Xh.prototype.i=function(){return{}};fv=new Xh;function $l(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new fl(this),this.P=jF,e=ov?125:void 0,this.W=new Kh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new lA}function lA(){this.i=null,this.g="",this.h=!1}var jF=45e3,hv={},Gf={};he=$l.prototype;he.setTimeout=function(e){this.P=e};function dv(e,t,n){e.K=1,e.v=Qh(yi(t)),e.s=n,e.U=!0,cA(e,null)}function cA(e,t){e.F=Date.now(),ql(e),e.A=yi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),vA(n.h,"t",r),e.C=0,n=e.l.H,e.h=new lA,e.g=FA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new DF(cn(e.Ia,e,e.g),e.O)),nA(e.V,e.g,"readystatechange",e.gb),t=e.H?qI(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),hl(),LF(e.j,e.u,e.A,e.m,e.X,e.s)}he.gb=function(e){e=e.target;var t=this.L;t&&hi(e)==3?t.l():this.Ia(e)};he.Ia=function(e){try{if(e==this.g)e:{var t=hi(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||ov||this.g&&(this.h.h||this.g.ga()||IE(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?hl(3):hl(2)),Yh(this);var o=this.g.ba();this.N=o;t:if(fA(this)){var s=IE(this.g);e="";var u=s.length,l=hi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Go(this),Ku(this);var f="";break t}this.h.i=new je.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,MF(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,m=this.g;if((d=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kf(d)){var h=d;break t}}h=null}if(o=h)na(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,pv(this,o);else{this.i=!1,this.o=3,Rn(12),Go(this),Ku(this);break e}}this.U?(hA(this,t,f),ov&&this.i&&t==3&&(nA(this.V,this.W,"tick",this.fb),this.W.start())):(na(this.j,this.m,f,null),pv(this,f)),t==4&&Go(this),this.i&&!this.I&&(t==4?RA(this.l,this):(this.i=!1,ql(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Rn(12)):(this.o=0,Rn(13)),Go(this),Ku(this)}}}catch{}finally{}};function fA(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function hA(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=UF(e,n),o==Gf){t==4&&(e.o=4,Rn(14),r=!1),na(e.j,e.m,null,"[Incomplete Response]");break}else if(o==hv){e.o=4,Rn(15),na(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else na(e.j,e.m,o,null),pv(e,o);fA(e)&&o!=Gf&&o!=hv&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Rn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),By(t),t.L=!0,Rn(11))):(na(e.j,e.m,n,"[Invalid Chunked Response]"),Go(e),Ku(e))}he.fb=function(){if(this.g){var e=hi(this.g),t=this.g.ga();this.C<t.length&&(Yh(this),hA(this,e,t),this.i&&e!=4&&ql(this))}};function UF(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Gf:(n=Number(t.substring(n,r)),isNaN(n)?hv:(r+=1,r+n>t.length?Gf:(t=t.substr(r,n),e.C=r+n,t)))}he.cancel=function(){this.I=!0,Go(this)};function ql(e){e.Y=Date.now()+e.P,dA(e,e.P)}function dA(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ul(cn(e.eb,e),t)}function Yh(e){e.B&&(je.clearTimeout(e.B),e.B=null)}he.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(FF(this.j,this.A),this.K!=2&&(hl(),Rn(17)),Go(this),this.o=2,Ku(this)):dA(this,this.Y-e)};function Ku(e){e.l.G==0||e.I||RA(e.l,e)}function Go(e){Yh(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,ky(e.W),rA(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function pv(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||gv(n.i,e))){if(n.I=e.N,!e.J&&gv(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Qf(n),ed(n);else break e;Uy(n),Rn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ul(cn(n.ab,n),6e3));if(1>=_A(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else zo(n,11)}else if((e.J||n.g==e)&&Qf(n),!Kf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var h=r.i;!h.g&&(Pn(m,"spdy")||Pn(m,"quic")||Pn(m,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Ly(h,h.h),h.h=null))}if(r.D){var g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,xt(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=MA(r,r.H?r.la:null,r.W),y.J){wA(r.i,y);var b=y,w=r.K;w&&b.setTimeout(w),b.B&&(Yh(b),ql(b)),r.g=y}else PA(r);0<n.l.length&&td(n)}else s[0]!="stop"&&s[0]!="close"||zo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?zo(n,7):jy(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}hl(4)}catch{}}function BF(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(iv(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function Ry(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(iv(e)||typeof e=="string")$I(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(iv(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=BF(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Fa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Fa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}he=Fa.prototype;he.R=function(){Dy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};he.T=function(){return Dy(this),this.g.concat()};function Dy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];us(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],us(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}he.get=function(e,t){return us(this.h,e)?this.h[e]:t};he.set=function(e,t){us(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};he.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function us(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var pA=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $F(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function ls(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ls){this.g=t!==void 0?t:e.g,zf(this,e.j),this.s=e.s,Xf(this,e.i),Yf(this,e.m),this.l=e.l,t=e.h;var n=new dl;n.i=t.i,t.g&&(n.g=new Fa(t.g),n.h=t.h),EE(this,n),this.o=e.o}else e&&(n=String(e).match(pA))?(this.g=!!t,zf(this,n[1]||"",!0),this.s=Wu(n[2]||""),Xf(this,n[3]||"",!0),Yf(this,n[4]),this.l=Wu(n[5]||"",!0),EE(this,n[6]||"",!0),this.o=Wu(n[7]||"")):(this.g=!!t,this.h=new dl(null,this.g))}ls.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ju(t,SE,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(ju(t,SE,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(ju(n,n.charAt(0)=="/"?GF:WF,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ju(n,XF)),e.join("")};function yi(e){return new ls(e)}function zf(e,t,n){e.j=n?Wu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Xf(e,t,n){e.i=n?Wu(t,!0):t}function Yf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function EE(e,t,n){t instanceof dl?(e.h=t,YF(e.h,e.g)):(n||(t=ju(t,zF)),e.h=new dl(t,e.g))}function xt(e,t,n){e.h.set(t,n)}function Qh(e){return xt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qF(e){return e instanceof ls?yi(e):new ls(e,void 0)}function HF(e,t,n,r){var o=new ls(null,void 0);return e&&zf(o,e),t&&Xf(o,t),n&&Yf(o,n),r&&(o.l=r),o}function Wu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ju(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,KF),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function KF(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var SE=/[#\/\?@]/g,WF=/[#\?:]/g,GF=/[#\?]/g,zF=/[#\?@]/g,XF=/#/g;function dl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function lo(e){e.g||(e.g=new Fa,e.h=0,e.i&&$F(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}he=dl.prototype;he.add=function(e,t){lo(this),this.i=null,e=Va(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function gA(e,t){lo(e),t=Va(e,t),us(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,us(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dy(e)))}function mA(e,t){return lo(e),t=Va(e,t),us(e.g.h,t)}he.forEach=function(e,t){lo(this),this.g.forEach(function(n,r){$I(n,function(o){e.call(t,o,r,this)},this)},this)};he.T=function(){lo(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};he.R=function(e){lo(this);var t=[];if(typeof e=="string")mA(this,e)&&(t=dE(t,this.g.get(Va(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=dE(t,e[n])}return t};he.set=function(e,t){return lo(this),this.i=null,e=Va(this,e),mA(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};he.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function vA(e,t,n){gA(e,t),0<n.length&&(e.i=null,e.g.set(Va(e,t),by(n)),e.h+=n.length)}he.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function Va(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function YF(e,t){t&&!e.j&&(lo(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(gA(this,r),vA(this,o,n))},e)),e.j=t}var QF=function(){function e(t,n){this.h=t,this.g=n}return e}();function yA(e){this.l=e||JF,je.PerformanceNavigationTiming?(e=je.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(je.g&&je.g.Ea&&je.g.Ea()&&je.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JF=10;function bA(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function _A(e){return e.h?1:e.g?e.g.size:0}function gv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Ly(e,t){e.g?e.g.add(t):e.h=t}function wA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}yA.prototype.cancel=function(){var e,t;if(this.i=EA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=UI(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function EA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=UI(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return by(e.i)}function My(){}My.prototype.stringify=function(e){return je.JSON.stringify(e,void 0)};My.prototype.parse=function(e){return je.JSON.parse(e,void 0)};function ZF(){this.g=new My}function e2(e,t,n){var r=n||"";try{Ry(e,function(o,s){var u=o;Vl(o)&&(u=Ay(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function t2(e,t){var n=new Wh;if(je.Image){var r=new Image;r.onload=df(gf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=df(gf,n,r,"TestLoadImage: error",!1,t),r.onabort=df(gf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=df(gf,n,r,"TestLoadImage: timeout",!1,t),je.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function gf(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Hl(e){this.l=e.$b||null,this.j=e.ib||!1}hn(Hl,Oy);Hl.prototype.g=function(){return new Jh(this.l,this.j)};Hl.prototype.i=function(e){return function(){return e}}({});function Jh(e,t){rn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hn(Jh,rn);var Fy=0;he=Jh.prototype;he.open=function(e,t){if(this.readyState!=Fy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,pl(this)};he.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||je).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};he.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kl(this)),this.readyState=Fy};he.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,pl(this)),this.g&&(this.readyState=3,pl(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof je.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;SA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function SA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}he.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Kl(this):pl(this),this.readyState==3&&SA(this)}};he.Ua=function(e){this.g&&(this.response=this.responseText=e,Kl(this))};he.Ta=function(e){this.g&&(this.response=e,Kl(this))};he.ha=function(){this.g&&Kl(this)};function Kl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,pl(e)}he.setRequestHeader=function(e,t){this.v.append(e,t)};he.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};he.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function pl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Jh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var n2=je.JSON.parse;function Kt(e){rn.call(this),this.headers=new Fa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=TA,this.K=this.L=!1}hn(Kt,rn);var TA="",r2=/^https?$/i,i2=["POST","PUT"];he=Kt.prototype;he.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():fv.g(),this.C=this.u?wE(this.u):wE(fv),this.g.onreadystatechange=cn(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){TE(this,s);return}e=n||"";var o=new Fa(this.headers);r&&Ry(r,function(s,u){o.set(u,s)}),r=gF(o.T()),n=je.FormData&&e instanceof je.FormData,!(0<=BI(i2,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{xA(this),0<this.B&&((this.K=o2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cn(this.pa,this)):this.A=Cy(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){TE(this,s)}};function o2(e){return pa&&_F()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function s2(e){return e.toLowerCase()=="content-type"}he.pa=function(){typeof yy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fn(this,"timeout"),this.abort(8))};function TE(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,IA(e),Zh(e)}function IA(e){e.D||(e.D=!0,fn(e,"complete"),fn(e,"error"))}he.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,fn(this,"complete"),fn(this,"abort"),Zh(this))};he.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zh(this,!0)),Kt.Z.M.call(this)};he.Fa=function(){this.s||(this.F||this.v||this.l?AA(this):this.cb())};he.cb=function(){AA(this)};function AA(e){if(e.h&&typeof yy<"u"&&(!e.C[1]||hi(e)!=4||e.ba()!=2)){if(e.v&&hi(e)==4)Cy(e.Fa,0,e);else if(fn(e,"readystatechange"),hi(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(pA)[1]||null;if(!s&&je.self&&je.self.location){var u=je.self.location.protocol;s=u.substr(0,u.length-1)}o=!r2.test(s?s.toLowerCase():"")}r=o}if(r)fn(e,"complete"),fn(e,"success");else{e.m=6;try{var l=2<hi(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",IA(e)}}finally{Zh(e)}}}}function Zh(e,t){if(e.g){xA(e);var n=e.g,r=e.C[0]?Hf:null;e.g=null,e.C=null,t||fn(e,"ready");try{n.onreadystatechange=r}catch{}}}function xA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(je.clearTimeout(e.A),e.A=null)}function hi(e){return e.g?e.g.readyState:0}he.ba=function(){try{return 2<hi(this)?this.g.status:-1}catch{return-1}};he.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};he.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),n2(t)}};function IE(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case TA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}he.Da=function(){return this.m};he.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function a2(e){var t="";return _y(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Vy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=a2(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):xt(e,t,n))}function Pu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kA(e){this.za=0,this.l=[],this.h=new Wh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pu("baseRetryDelayMs",5e3,e),this.$a=Pu("retryDelaySeedMs",1e4,e),this.Ya=Pu("forwardChannelMaxRetries",2,e),this.ra=Pu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new yA(e&&e.concurrentRequestLimit),this.Ca=new ZF,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}he=kA.prototype;he.ma=8;he.G=1;function jy(e){if(CA(e),e.G==3){var t=e.V++,n=yi(e.F);xt(n,"SID",e.J),xt(n,"RID",t),xt(n,"TYPE","terminate"),Wl(e,n),t=new $l(e,e.h,t,void 0),t.K=2,t.v=Qh(yi(n)),n=!1,je.navigator&&je.navigator.sendBeacon&&(n=je.navigator.sendBeacon(t.v.toString(),"")),!n&&je.Image&&(new Image().src=t.v,n=!0),n||(t.g=FA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ql(t)}LA(e)}he.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function ed(e){e.g&&(By(e),e.g.cancel(),e.g=null)}function CA(e){ed(e),e.u&&(je.clearTimeout(e.u),e.u=null),Qf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&je.clearTimeout(e.m),e.m=null)}function bm(e,t){e.l.push(new QF(e.Za++,t)),e.G==3&&td(e)}function td(e){bA(e.i)||e.m||(e.m=!0,xy(e.Ha,e),e.C=0)}function u2(e,t){return _A(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Ul(cn(e.Ha,e,t),DA(e,e.C)),e.C++,!0)}he.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new $l(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=qI(n),HI(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=OA(this,t,r),o=yi(this.F),xt(o,"RID",e),xt(o,"CVER",22),this.D&&xt(o,"X-HTTP-Session-Id",this.D),Wl(this,o),this.o&&n&&Vy(o,this.o,n),Ly(this.i,t),this.Ra&&xt(o,"TYPE","init"),this.ja?(xt(o,"$req",r),xt(o,"SID","null"),t.$=!0,dv(t,o,null)):dv(t,o,r),this.G=2}}else this.G==3&&(e?AE(this,e):this.l.length==0||bA(this.i)||AE(this))};function AE(e,t){var n;t?n=t.m:n=e.V++;var r=yi(e.F);xt(r,"SID",e.J),xt(r,"RID",n),xt(r,"AID",e.U),Wl(e,r),e.o&&e.s&&Vy(r,e.o,e.s),n=new $l(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=OA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Ly(e.i,n),dv(n,r,t)}function Wl(e,t){e.j&&Ry({},function(n,r){xt(t,r,n)})}function OA(e,t,n){n=Math.min(e.l.length,n);var r=e.j?cn(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,m=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{e2(m,u,"req"+d+"_")}catch{r&&r(m)}}if(l){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function PA(e){e.g||e.u||(e.Y=1,xy(e.Ga,e),e.A=0)}function Uy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Ul(cn(e.Ga,e),DA(e,e.A)),e.A++,!0)}he.Ga=function(){if(this.u=null,NA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ul(cn(this.bb,this),e)}};he.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Rn(10),ed(this),NA(this))};function By(e){e.B!=null&&(je.clearTimeout(e.B),e.B=null)}function NA(e){e.g=new $l(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=yi(e.oa);xt(t,"RID","rpc"),xt(t,"SID",e.J),xt(t,"CI",e.N?"0":"1"),xt(t,"AID",e.U),Wl(e,t),xt(t,"TYPE","xmlhttp"),e.o&&e.s&&Vy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Qh(yi(t)),n.s=null,n.U=!0,cA(n,e)}he.ab=function(){this.v!=null&&(this.v=null,ed(this),Uy(this),Rn(19))};function Qf(e){e.v!=null&&(je.clearTimeout(e.v),e.v=null)}function RA(e,t){var n=null;if(e.g==t){Qf(e),By(e),e.g=null;var r=2}else if(gv(e.i,t))n=t.D,wA(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=Gh(),fn(r,new sA(r,n)),td(e)}else PA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&u2(e,t)||r==2&&Uy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:zo(e,5);break;case 4:zo(e,10);break;case 3:zo(e,6);break;default:zo(e,2)}}}function DA(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function zo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=cn(e.jb,e);n||(n=new ls("//www.google.com/images/cleardot.gif"),je.location&&je.location.protocol=="http"||zf(n,"https"),Qh(n)),t2(n.toString(),r)}else Rn(2);e.G=0,e.j&&e.j.va(t),LA(e),CA(e)}he.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Rn(2)):(this.h.info("Failed to ping google.com"),Rn(1))};function LA(e){e.G=0,e.I=-1,e.j&&((EA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,by(e.l),e.l.length=0),e.j.ua())}function MA(e,t,n){var r=qF(n);if(r.i!="")t&&Xf(r,t+"."+r.i),Yf(r,r.m);else{var o=je.location;r=HF(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&_y(e.aa,function(s,u){xt(r,u,s)}),t=e.D,n=e.sa,t&&n&&xt(r,t,n),xt(r,"VER",e.ma),Wl(e,r),r}function FA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Kt(new Hl({ib:!0})):new Kt(e.qa),t.L=e.H,t}function VA(){}he=VA.prototype;he.xa=function(){};he.wa=function(){};he.va=function(){};he.ua=function(){};he.Oa=function(){};function Jf(){if(pa&&!(10<=Number(wF)))throw Error("Environmental error: no available transport.")}Jf.prototype.g=function(e,t){return new lr(e,t)};function lr(e,t){rn.call(this),this.g=new kA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Kf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ja(this)}hn(lr,rn);lr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),xy(cn(e.hb,e,t))),Rn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=MA(e,null,e.W),td(e)};lr.prototype.close=function(){jy(this.g)};lr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,bm(this.g,t)}else this.v?(t={},t.__data__=Ay(e),bm(this.g,t)):bm(this.g,e)};lr.prototype.M=function(){this.g.j=null,delete this.j,jy(this.g),delete this.g,lr.Z.M.call(this)};function jA(e){Py.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}hn(jA,Py);function UA(){Ny.call(this),this.status=1}hn(UA,Ny);function ja(e){this.g=e}hn(ja,VA);ja.prototype.xa=function(){fn(this.g,"a")};ja.prototype.wa=function(e){fn(this.g,new jA(e))};ja.prototype.va=function(e){fn(this.g,new UA)};ja.prototype.ua=function(){fn(this.g,"b")};Jf.prototype.createWebChannel=Jf.prototype.g;lr.prototype.send=lr.prototype.u;lr.prototype.open=lr.prototype.m;lr.prototype.close=lr.prototype.close;zh.NO_ERROR=0;zh.TIMEOUT=8;zh.HTTP_ERROR=6;aA.COMPLETE="complete";uA.EventType=Bl;Bl.OPEN="a";Bl.CLOSE="b";Bl.ERROR="c";Bl.MESSAGE="d";rn.prototype.listen=rn.prototype.N;Kt.prototype.listenOnce=Kt.prototype.O;Kt.prototype.getLastError=Kt.prototype.La;Kt.prototype.getLastErrorCode=Kt.prototype.Da;Kt.prototype.getStatus=Kt.prototype.ba;Kt.prototype.getResponseJson=Kt.prototype.Qa;Kt.prototype.getResponseText=Kt.prototype.ga;Kt.prototype.send=Kt.prototype.ea;var l2=function(){return new Jf},c2=function(){return Gh()},_m=zh,f2=aA,h2=ms,xE={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},d2=Hl,mf=uA,p2=Kt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();sr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return xe(t,e),t}(Error),Dr=new MI("@firebase/firestore");function mv(){return Dr.logLevel}function ie(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dr.logLevel<=ot.DEBUG){var r=t.map($y);Dr.debug.apply(Dr,At(["Firestore (8.10.1): "+e],r))}}function qt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dr.logLevel<=ot.ERROR){var r=t.map($y);Dr.error.apply(Dr,At(["Firestore (8.10.1): "+e],r))}}function Zf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Dr.logLevel<=ot.WARN){var r=t.map($y);Dr.warn.apply(Dr,At(["Firestore (8.10.1): "+e],r))}}function $y(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw qt(t),new Error(t)}function Re(e,t){e||we()}function le(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BA=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=g2(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function Ze(e,t){return e<t?-1:e>t?1:0}function ga(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function $A(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Q(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Q(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Ze(this.nanoseconds,t.nanoseconds):Ze(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Xe=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Wn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vs(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HA=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&we(),r===void 0?r=t.length-n:r>t.length-n&&we(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),st=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new Q(V.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(HA),m2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return m2.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new Q(V.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new Q(V.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Q(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(u(),s++)}if(u(),l)throw new Q(V.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(HA),ma=function(){function e(t){this.fields=t,t.sort(Fr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ga(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),zn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Ze(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();zn.EMPTY_BYTE_STRING=new zn("");var v2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(e){if(Re(!!e),typeof e=="string"){var t=0,n=v2.exec(e);if(Re(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:$t(e.seconds),nanos:$t(e.nanos)}}function $t(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function va(e){return typeof e=="string"?zn.fromBase64String(e):zn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function KA(e){var t=e.mapValue.fields.__previous_value__;return qy(t)?KA(t):t}function gl(e){var t=io(e.mapValue.fields.__local_write_time__.timestampValue);return new Wn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(e){return e==null}function eh(e){return e===0&&1/e==-1/0}function WA(e){return typeof e=="number"&&Number.isInteger(e)&&!eh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(st.fromString(t))},e.fromName=function(t){return new e(st.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&st.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return st.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new st(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qy(e)?4:10:we()}function ri(e,t){var n=cs(e);if(n!==cs(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gl(e).isEqual(gl(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=io(r.timestampValue),u=io(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return va(r.bytesValue).isEqual(va(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return $t(r.geoPointValue.latitude)===$t(o.geoPointValue.latitude)&&$t(r.geoPointValue.longitude)===$t(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return $t(r.integerValue)===$t(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=$t(r.doubleValue),u=$t(o.doubleValue);return s===u?eh(s)===eh(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return ga(e.arrayValue.values||[],t.arrayValue.values||[],ri);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(kE(s)!==kE(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!ri(s[l],u[l])))return!1;return!0}(e,t);default:return we()}}function ml(e,t){return(e.values||[]).find(function(n){return ri(n,t)})!==void 0}function ya(e,t){var n=cs(e),r=cs(t);if(n!==r)return Ze(n,r);switch(n){case 0:return 0;case 1:return Ze(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=$t(o.integerValue||o.doubleValue),l=$t(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return CE(e.timestampValue,t.timestampValue);case 4:return CE(gl(e),gl(t));case 5:return Ze(e.stringValue,t.stringValue);case 6:return function(o,s){var u=va(o),l=va(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),f=0;f<u.length&&f<l.length;f++){var d=Ze(u[f],l[f]);if(d!==0)return d}return Ze(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=Ze($t(o.latitude),$t(s.latitude));return u!==0?u:Ze($t(o.longitude),$t(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],f=0;f<u.length&&f<l.length;++f){var d=ya(u[f],l[f]);if(d)return d}return Ze(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var m=0;m<l.length&&m<d.length;++m){var h=Ze(l[m],d[m]);if(h!==0)return h;var g=ya(u[l[m]],f[d[m]]);if(g!==0)return g}return Ze(l.length,d.length)}(e.mapValue,t.mapValue);default:throw we()}}function CE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ze(e,t);var n=io(e),r=io(t),o=Ze(n.seconds,r.seconds);return o!==0?o:Ze(n.nanos,r.nanos)}function Hy(e){return vv(e)}function vv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=io(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?va(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Se.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,l=r.values||[];u<l.length;u++)s?s=!1:o+=",",o+=vv(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var f=l[u];s?s=!1:o+=",",o+=f+":"+vv(r.fields[f])}return o+"}"}(e.mapValue):we();var t,n}function th(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function yv(e){return!!e&&"integerValue"in e}function Ky(e){return!!e&&"arrayValue"in e}function OE(e){return!!e&&"nullValue"in e}function PE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pf(e){return!!e&&"mapValue"in e}function Gu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return vs(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Gu(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gu(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Pf(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Gu(n)},e.prototype.setAll=function(t){var n=this,r=Fr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Gu(l):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ri(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];Pf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){vs(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Gu(this.value))},e}();function GA(e){var t=[];return vs(e.fields,function(n,r){var o=new Fr([n]);if(Pf(r)){var s=GA(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new ma(t)}var Sn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Xe.min(),or.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,or.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,or.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=or.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=or.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),y2=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new y2(e,t,n,r,o,s,u)}function Gl(e){var t=le(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+Hy(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),ys(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=rh(t.startAt)),t.endAt&&(n+="|ub:",n+=rh(t.endAt)),t.h=n}return t.h}function nd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!A2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!ri(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!DE(e.startAt,t.startAt)&&DE(e.endAt,t.endAt)}function nh(e){return Se.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ar=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return xe(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new b2(n,r,o):r==="array-contains"?new E2(n,o):r==="in"?new S2(n,o):r==="not-in"?new T2(n,o):r==="array-contains-any"?new I2(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new _2(n,o):new w2(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(ya(r,this.value)):r!==null&&cs(this.value)===cs(r)&&this.m(ya(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return we()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),b2=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Se.fromName(o.referenceValue),s}return xe(t,e),t.prototype.matches=function(n){var r=Se.comparator(n.key,this.key);return this.m(r)},t}(ar),_2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=zA("in",r),o}return xe(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(ar),w2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=zA("not-in",r),o}return xe(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(ar);function zA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Se.fromName(r.referenceValue)})}var E2=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return xe(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Ky(r)&&ml(r.arrayValue,this.value)},t}(ar),S2=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return xe(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ml(this.value.arrayValue,r)},t}(ar),T2=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return xe(t,e),t.prototype.matches=function(n){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ml(this.value.arrayValue,r)},t}(ar),I2=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return xe(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!Ky(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return ml(r.value.arrayValue,s)})},t}(ar),vl=function(e,t){this.position=e,this.before=t};function rh(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Hy(t)}).join(",")}var ua=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function A2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function RE(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Se.comparator(Se.fromName(u.referenceValue),n.key):ya(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function DE(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ri(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _i=function(e,t,n,r,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function XA(e,t,n,r,o,s,u,l){return new _i(e,t,n,r,o,s,u,l)}function zl(e){return new _i(e)}function Nf(e){return!ys(e.limit)&&e.limitType==="F"}function ih(e){return!ys(e.limit)&&e.limitType==="L"}function Wy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gy(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function zy(e){return e.collectionGroup!==null}function ba(e){var t=le(e);if(t.p===null){t.p=[];var n=Gy(t),r=Wy(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new ua(n)),t.p.push(new ua(Fr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new ua(Fr.keyField(),f))}}}return t.p}function ii(e){var t=le(e);if(!t.T)if(t.limitType==="F")t.T=NE(t.path,t.collectionGroup,ba(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=ba(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new ua(s.field,u))}var l=t.endAt?new vl(t.endAt.position,!t.endAt.before):null,f=t.startAt?new vl(t.startAt.position,!t.startAt.before):null;t.T=NE(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function YA(e,t,n){return new _i(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xl(e,t){return nd(ii(e),ii(t))&&e.limitType===t.limitType}function QA(e){return Gl(ii(e))+"|lt:"+e.limitType}function bv(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+Hy(o.value);var o}).join(", ")+"]"),ys(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+rh(t.startAt)),t.endAt&&(n+=", endAt: "+rh(t.endAt)),"Target("+n+")"}(ii(e))+"; limitType="+e.limitType+")"}function Yl(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Se.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!RE(n.startAt,ba(n),r))&&(!n.endAt||!RE(n.endAt,ba(n),r))}(e,t)}function JA(e){return function(t,n){for(var r=!1,o=0,s=ba(e);o<s.length;o++){var u=s[o],l=x2(u,t,n);if(l!==0)return l;r=r||u.field.isKeyField()}return 0}}function x2(e,t,n){var r=e.field.isKeyField()?Se.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),f=u.data.field(o);return l!==null&&f!==null?ya(l,f):we()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function ex(e){return{integerValue:""+e}}function tx(e,t){return WA(t)?ex(t):ZA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rd=function(){this._=void 0};function k2(e,t,n){return e instanceof _a?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof fs?rx(e,t):e instanceof hs?ix(e,t):function(r,o){var s=nx(r,o),u=LE(s)+LE(r.A);return yv(s)&&yv(r.A)?ex(u):ZA(r.R,u)}(e,t)}function C2(e,t,n){return e instanceof fs?rx(e,t):e instanceof hs?ix(e,t):n}function nx(e,t){return e instanceof wa?yv(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var _a=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return xe(t,e),t}(rd),fs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return xe(t,e),t}(rd);function rx(e,t){for(var n=ox(t),r=function(u){n.some(function(l){return ri(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var hs=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return xe(t,e),t}(rd);function ix(e,t){for(var n=ox(t),r=function(u){n=n.filter(function(l){return!ri(l,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var wa=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return xe(t,e),t}(rd);function LE(e){return $t(e.integerValue||e.doubleValue)}function ox(e){return Ky(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ql=function(e,t){this.field=e,this.transform=t},O2=function(e,t){this.version=e,this.transformResults=t},wn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Rf(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var id=function(){};function P2(e,t,n){e instanceof Jl?function(r,o,s){var u=r.value.clone(),l=VE(r.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof co?function(r,o,s){if(Rf(r.precondition,o)){var u=VE(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(sx(r)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function _v(e,t,n){e instanceof Jl?function(r,o,s){if(Rf(r.precondition,o)){var u=r.value.clone(),l=jE(r.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(FE(o),u).setHasLocalMutations()}}(e,t,n):e instanceof co?function(r,o,s){if(Rf(r.precondition,o)){var u=jE(r.fieldTransforms,s,o),l=o.data;l.setAll(sx(r)),l.setAll(u),o.convertToFoundDocument(FE(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){Rf(r.precondition,o)&&o.convertToNoDocument(Xe.min())}(e,t)}function N2(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),l=nx(s.transform,u||null);l!=null&&(n==null&&(n=or.empty()),n.set(s.field,l))}return n||null}function ME(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ga(n,r,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(f,d){return f instanceof fs&&d instanceof fs||f instanceof hs&&d instanceof hs?ga(f.elements,d.elements,ri):f instanceof wa&&d instanceof wa?ri(f.A,d.A):f instanceof _a&&d instanceof _a}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function FE(e){return e.isFoundDocument()?e.version:Xe.min()}var Jl=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return xe(t,e),t}(id),co=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return xe(t,e),t}(id);function sx(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function VE(e,t,n){var r=new Map;Re(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);r.set(s.field,C2(u,l,n[o]))}return r}function jE(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,f=n.data.field(u.field);r.set(u.field,k2(l,f,t))}return r}var Bt,tt,Zl=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return xe(t,e),t}(id),Xy=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return xe(t,e),t}(id),R2=function(e){this.count=e};function ax(e){switch(e){case V.OK:return we();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return we()}}function ux(e){if(e===void 0)return qt("GRPC error has no .code"),V.UNKNOWN;switch(e){case Bt.OK:return V.OK;case Bt.CANCELLED:return V.CANCELLED;case Bt.UNKNOWN:return V.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return V.INTERNAL;case Bt.UNAVAILABLE:return V.UNAVAILABLE;case Bt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Bt.NOT_FOUND:return V.NOT_FOUND;case Bt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Bt.ABORTED:return V.ABORTED;case Bt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Bt.DATA_LOSS:return V.DATA_LOSS;default:return we()}}(tt=Bt||(Bt={}))[tt.OK=0]="OK",tt[tt.CANCELLED=1]="CANCELLED",tt[tt.UNKNOWN=2]="UNKNOWN",tt[tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tt[tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tt[tt.NOT_FOUND=5]="NOT_FOUND",tt[tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",tt[tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",tt[tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",tt[tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tt[tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tt[tt.ABORTED=10]="ABORTED",tt[tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",tt[tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",tt[tt.INTERNAL=13]="INTERNAL",tt[tt.UNAVAILABLE=14]="UNAVAILABLE",tt[tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tn=function(){function e(t,n){this.comparator=t,this.root=n||qi.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,qi.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qi.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new vf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new vf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new vf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new vf(this.root,t,this.comparator,!0)},e}(),vf=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),qi=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();var t=this.left.check();if(t!==this.right.check())throw we();return t+(this.isRed()?0:1)},e}();qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw we()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw we()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new qi(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jt=function(){function e(t){this.comparator=t,this.data=new Tn(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new UE(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new UE(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),UE=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),D2=new Tn(Se.comparator);function Lr(){return D2}var L2=new Tn(Se.comparator);function wv(){return L2}var M2=new Tn(Se.comparator);function F2(){return M2}var V2=new Jt(Se.comparator);function yt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=V2,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var j2=new Jt(Ze);function od(){return j2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yy=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Qy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Xe.min(),r,od(),Lr(),yt())},e}(),Qy=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(zn.EMPTY_BYTE_STRING,n,yt(),yt(),yt())},e}(),Df=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},lx=function(e,t){this.targetId=e,this.V=t},cx=function(e,t,n,r){n===void 0&&(n=zn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},BE=function(){function e(){this.S=0,this.D=qE(),this.C=zn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=yt(),n=yt(),r=yt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we()}}),new Qy(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=qE()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),U2=function(){function e(t){this.W=t,this.G=new Map,this.H=Lr(),this.J=$E(),this.Y=new Jt(Ze)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:we()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(nh(s))if(r===0){var u=new Se(s.path);this.tt(n,u,Sn.newNoDocument(u,Xe.min()))}else Re(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&nh(f.target)){var d=new Se(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,Sn.newNoDocument(d,t))}u.$&&(r.set(l,u.M()),u.L())}});var o=yt();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(d){var m=n.ot(d);return!m||m.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new Yy(t,r,this.Y,this.H,o);return this.H=Lr(),this.J=$E(),this.Y=new Jt(Ze),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new BE,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Jt(Ze),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new BE),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function $E(){return new Tn(Se.comparator)}function qE(){return new Tn(Se.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var B2={asc:"ASCENDING",desc:"DESCENDING"},$2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q2=function(e,t){this.databaseId=e,this.I=t};function yl(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function fx(e,t){return e.I?t.toBase64():t.toUint8Array()}function H2(e,t){return yl(e,t.toTimestamp())}function Dn(e){return Re(!!e),Xe.fromTimestamp(function(t){var n=io(t);return new Wn(n.seconds,n.nanos)}(e))}function Jy(e,t){return function(n){return new st(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function hx(e){var t=st.fromString(e);return Re(bx(t)),t}function bl(e,t){return Jy(e.databaseId,t.path)}function pi(e,t){var n=hx(t);if(n.get(1)!==e.databaseId.projectId)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Q(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Se(px(n))}function Ev(e,t){return Jy(e.databaseId,t)}function dx(e){var t=hx(e);return t.length===4?st.emptyPath():px(t)}function _l(e){return new st(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function px(e){return Re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function HE(e,t,n){return{name:bl(e,t),fields:n.value.mapValue.fields}}function K2(e,t,n){var r=pi(e,t.name),o=Dn(t.updateTime),s=new or({mapValue:{fields:t.fields}}),u=Sn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function oh(e,t){var n;if(t instanceof Jl)n={update:HE(e,t.key,t.value)};else if(t instanceof Zl)n={delete:bl(e,t.key)};else if(t instanceof co)n={update:HE(e,t.key,t.data),updateMask:Y2(t.fieldMask)};else{if(!(t instanceof Xy))return we();n={verify:bl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof _a)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof fs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof hs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof wa)return{fieldPath:s.field.canonicalString(),increment:u.A};throw we()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:H2(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:we()}(e,t.precondition)),n}function KE(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?wn.updateTime(Dn(d.updateTime)):d.exists!==void 0?wn.exists(d.exists):wn.none()}(t.currentDocument):wn.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(m,h){var g=null;if("setToServerValue"in h)Re(h.setToServerValue==="REQUEST_TIME"),g=new _a;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];g=new fs(y)}else if("removeAllFromArray"in h){var b=h.removeAllFromArray.values||[];g=new hs(b)}else"increment"in h?g=new wa(m,h.increment):we();var w=Fr.fromServerFormat(h.fieldPath);return new Ql(w,g)}(e,d)}):[];if(t.update){t.update.name;var o=pi(e,t.update.name),s=new or({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(d){var m=d.fieldPaths||[];return new ma(m.map(function(h){return Fr.fromServerFormat(h)}))}(t.updateMask);return new co(o,s,u,n,r)}return new Jl(o,s,n,r)}if(t.delete){var l=pi(e,t.delete);return new Zl(l,n)}if(t.verify){var f=pi(e,t.verify);return new Xy(f,n)}return we()}function gx(e,t){return{documents:[Ev(e,t.path)]}}function mx(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=Ev(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ev(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(m){if(m.op==="=="){if(PE(m.value))return{unaryFilter:{field:Xs(m.field),op:"IS_NAN"}};if(OE(m.value))return{unaryFilter:{field:Xs(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(PE(m.value))return{unaryFilter:{field:Xs(m.field),op:"IS_NOT_NAN"}};if(OE(m.value))return{unaryFilter:{field:Xs(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(m.field),op:G2(m.op),value:m.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Xs(d.field),direction:W2(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,f){return l.I||ys(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=WE(t.startAt)),t.endAt&&(n.structuredQuery.endAt=WE(t.endAt)),n}function vx(e){var t=dx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Re(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=yx(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(g){return new ua(ra(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h)}));var f=null;n.limit&&(f=function(h){var g;return ys(g=typeof h=="object"?h.value:h)?null:g}(n.limit));var d=null;n.startAt&&(d=GE(n.startAt));var m=null;return n.endAt&&(m=GE(n.endAt)),XA(t,o,l,u,f,"F",d,m)}function yx(e){return e?e.unaryFilter!==void 0?[X2(e)]:e.fieldFilter!==void 0?[z2(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return yx(t)}).reduce(function(t,n){return t.concat(n)}):we():[]}function WE(e){return{before:e.before,values:e.position}}function GE(e){var t=!!e.before,n=e.values||[];return new vl(n,t)}function W2(e){return B2[e]}function G2(e){return $2[e]}function Xs(e){return{fieldPath:e.canonicalString()}}function ra(e){return Fr.fromServerFormat(e.fieldPath)}function z2(e){return ar.create(ra(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return we()}}(e.fieldFilter.op),e.fieldFilter.value)}function X2(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ra(e.unaryFilter.field);return ar.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ra(e.unaryFilter.field);return ar.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ra(e.unaryFilter.field);return ar.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=ra(e.unaryFilter.field);return ar.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return we()}}function Y2(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function bx(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zE(t)),t=Q2(e.get(n),t);return zE(t)}function Q2(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function zE(e){return e+""}function di(e){var t=e.length;if(Re(t>=2),t===2)return Re(e.charAt(0)===""&&e.charAt(1)===""),st.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&we(),e.charAt(u+1)){case"":var l=e.substring(s,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:we()}s=u+2}return new st(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J2=function(e,t){this.seconds=e,this.nanoseconds=t},rr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};rr.store="owner",rr.key="owner";var Ji=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Ji.store="mutationQueues",Ji.keyPath="userId";var wt=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};wt.store="mutations",wt.keyPath="batchId",wt.userMutationsIndex="userMutationsIndex",wt.userMutationsKeyPath=["userId","batchId"];var yn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Mr(n)]},e.key=function(t,n,r){return[t,Mr(n),r]},e}();yn.store="documentMutations",yn.PLACEHOLDER=new yn;var Z2=function(e,t){this.path=e,this.readTime=t},eV=function(e,t){this.path=e,this.version=t},Rt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Rt.store="remoteDocuments",Rt.readTimeIndex="readTimeIndex",Rt.readTimeIndexPath="readTime",Rt.collectionReadTimeIndex="collectionReadTimeIndex",Rt.collectionReadTimeIndexPath=["parentPath","readTime"];var Qr=function(e){this.byteSize=e};Qr.store="remoteDocumentGlobal",Qr.key="remoteDocumentGlobalKey";var Hn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};Hn.store="targets",Hn.keyPath="targetId",Hn.queryTargetsIndexName="queryTargetsIndex",Hn.queryTargetsKeyPath=["canonicalId","targetId"];var ln=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};ln.store="targetDocuments",ln.keyPath=["targetId","path"],ln.documentTargetsIndex="documentTargetsIndex",ln.documentTargetsKeyPath=["path","targetId"];var ir=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ir.key="targetGlobalKey",ir.store="targetGlobal";var Zo=function(e,t){this.collectionId=e,this.parent=t};Zo.store="collectionParents",Zo.keyPath=["collectionId","parent"];var gi=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};gi.store="clientMetadata",gi.keyPath="clientId";var Ea=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Ea.store="bundles",Ea.keyPath="bundleId";var Sa=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};Sa.store="namedQueries",Sa.keyPath="name";var tV=At(At([],At(At([],At(At([],At(At([],[Ji.store,wt.store,yn.store,Rt.store,Hn.store,rr.store,ir.store,ln.store]),[gi.store])),[Qr.store])),[Zo.store])),[Ea.store,Sa.store]),_x="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wx=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),Xn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),Ex=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new Xn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new zu(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=Zy(o.target.error);r.ft.reject(new zu(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new zu(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(ie("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new rV(n)},e}(),Ta=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(as())===12.2&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return ie("SimpleDb","Removing database:",t),Ko(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=as(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return W(this,void 0,void 0,function(){var n,r=this;return H(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(ie("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){u(new zu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?u(new Q(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new zu(t,d))},l.onupgradeneeded=function(f){ie("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,l.transaction,f.oldVersion,r.version).next(function(){ie("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return W(this,void 0,void 0,function(){var s,u,l,f,d;return H(this,function(m){switch(m.label){case 0:s=n==="readonly",u=0,l=function(){var h,g,y,b,w;return H(this,function(S){switch(S.label){case 0:++u,S.label=1;case 1:return S.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=S.sent(),h=Ex.open(f.db,t,s?"readonly":"readwrite",r),g=o(h).catch(function(T){return h.abort(T),ee.reject(T)}).toPromise(),y={},g.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(S.sent(),g),y)];case 4:return b=S.sent(),w=b.name!=="FirebaseError"&&u<3,ie("SimpleDb","Transaction failed with error:",b.message,"Retrying:",w),f.close(),w?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},f=this,m.label=1;case 1:return[5,l()];case 2:if(typeof(d=m.sent())=="object")return[2,d.value];m.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),nV=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Ko(this.Pt.delete())},e}(),zu=function(e){function t(n,r){var o=this;return(o=e.call(this,V.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return xe(t,e),t}(Q);function bs(e){return e.name==="IndexedDbTransactionError"}var rV=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(ie("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(ie("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Ko(r)},e.prototype.add=function(t){return ie("SimpleDb","ADD",this.store.name,t,t),Ko(this.store.add(t))},e.prototype.get=function(t){var n=this;return Ko(this.store.get(t)).next(function(r){return r===void 0&&(r=null),ie("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return ie("SimpleDb","DELETE",this.store.name,t),Ko(this.store.delete(t))},e.prototype.count=function(){return ie("SimpleDb","COUNT",this.store.name),Ko(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){ie("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(r,o){n.onerror=function(s){var u=Zy(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ee(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new nV(l),d=n(l.primaryKey,l.value,f);if(d instanceof ee){var m=d.catch(function(h){return f.done(),ee.reject(h)});r.push(m)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Ko(e){return new ee(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=Zy(r.target.error);n(o)}})}var XE=!1;function Zy(e){var t=Ta._t(as());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Q("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return XE||(XE=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YE=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return xe(t,e),t}(wx);function Yn(e,t){var n=le(e);return Ta.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eb=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&P2(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&_v(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&_v(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Xe.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},yt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ga(this.mutations,t.mutations,function(n,r){return ME(n,r)})&&ga(this.baseMutations,t.baseMutations,function(n,r){return ME(n,r)})},e}(),iV=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Re(t.mutations.length===r.length);for(var o=F2(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),sd=function(){function e(t,n,r,o,s,u,l){s===void 0&&(s=Xe.min()),u===void 0&&(u=Xe.min()),l===void 0&&(l=zn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Sx=function(e){this.Lt=e};function Sv(e,t){if(t.document)return K2(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Se.fromSegments(t.noDocument.path),r=Aa(t.noDocument.readTime),o=Sn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Se.fromSegments(t.unknownDocument.path);return r=Aa(t.unknownDocument.version),Sn.newUnknownDocument(s,r)}return we()}function QE(e,t,n){var r=tb(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,g){return{name:bl(h,g.key),fields:g.data.value.mapValue.fields,updateTime:yl(h,g.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Rt(null,null,s,u,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=Ia(t.version);return u=t.hasCommittedMutations,new Rt(null,new Z2(l,f),null,u,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),m=Ia(t.version);return new Rt(new eV(d,m),null,null,!0,r,o)}return we()}function tb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Tx(e){var t=new Wn(e[0],e[1]);return Xe.fromTimestamp(t)}function Ia(e){var t=e.toTimestamp();return new J2(t.seconds,t.nanoseconds)}function Aa(e){var t=new Wn(e.seconds,e.nanoseconds);return Xe.fromTimestamp(t)}function Zs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return KE(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return KE(e.Lt,f)}),l=Wn.fromMillis(t.localWriteTimeMs);return new eb(t.batchId,l,n,u)}function Uu(e){var t,n,r=Aa(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?Aa(e.lastLimboFreeSnapshotVersion):Xe.min();return e.query.documents!==void 0?(Re((n=e.query).documents.length===1),t=ii(zl(dx(n.documents[0])))):t=function(s){return ii(vx(s))}(e.query),new sd(t,e.targetId,0,e.lastListenSequenceNumber,r,o,zn.fromBase64String(e.resumeToken))}function Ix(e,t){var n,r=Ia(t.snapshotVersion),o=Ia(t.lastLimboFreeSnapshotVersion);n=nh(t.target)?gx(e.Lt,t.target):mx(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Hn(t.targetId,Gl(t.target),r,s,t.sequenceNumber,o,n)}function Ax(e){var t=vx({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?YA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oV=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return JE(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:Aa(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return JE(t).put({bundleId:(r=n).id,createTime:Ia(Dn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return ZE(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:Ax(o.bundledQuery),readTime:Aa(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return ZE(t).put(function(r){return{name:r.name,readTime:Ia(Dn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function JE(e){return Yn(e,Ea.store)}function ZE(e){return Yn(e,Sa.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sV=function(){function e(){this.Bt=new nb}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),nb=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Jt(st.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Jt(st.comparator)).toArray()},e}(),aV=function(){function e(){this.qt=new nb}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:Mr(s)};return eS(t).put(u)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[$A(n),""],!1,!0);return eS(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;r.push(di(f.parent))}return r})},e}();function eS(e){return Yn(e,Zo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(e,t,n){var r=e.store(wt.store),o=e.store(yn.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:u},function(b,w,S){return l++,S.delete()});s.push(f.next(function(){Re(l===1)}));for(var d=[],m=0,h=n.mutations;m<h.length;m++){var g=h[m],y=yn.key(t,g.key.path,n.batchId);s.push(o.delete(y)),d.push(g.key)}return ee.waitFor(s).next(function(){return d})}function sh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw we();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(41943040,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);var uV=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Re(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Li(t).$t({index:wt.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=ea(t),l=Li(t);return l.add({}).next(function(f){Re(typeof f=="number");for(var d=new eb(f,n,r,o),m=function(T,k,D){var L=D.baseMutations.map(function(j){return oh(T.Lt,j)}),z=D.mutations.map(function(j){return oh(T.Lt,j)});return new wt(k,D.batchId,D.localWriteTime.toMillis(),L,z)}(s.R,s.userId,d),h=[],g=new Jt(function(T,k){return Ze(T.canonicalString(),k.canonicalString())}),y=0,b=o;y<b.length;y++){var w=b[y],S=yn.key(s.userId,w.key.path,f);g=g.add(w.key.path.popLast()),h.push(l.put(m)),h.push(u.put(S,yn.PLACEHOLDER))}return g.forEach(function(T){h.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),ee.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Li(t).get(n).next(function(o){return o?(Re(o.userId===r.userId),Zs(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Li(t).$t({index:wt.userMutationsIndex,range:s},function(l,f,d){f.userId===r.userId&&(Re(f.batchId>=o),u=Zs(r.R,f)),d.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Li(t).$t({index:wt.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Li(t).Nt(wt.userMutationsIndex,r).next(function(o){return o.map(function(s){return Zs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=yn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return ea(t).$t({range:s},function(l,f,d){var m=l[0],h=l[1],g=l[2],y=di(h);if(m===r.userId&&n.path.isEqual(y))return Li(t).get(g).next(function(b){if(!b)throw we();Re(b.userId===r.userId),u.push(Zs(r.R,b))});d.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Jt(Ze),s=[];return n.forEach(function(u){var l=yn.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(l),d=ea(t).$t({range:f},function(m,h,g){var y=m[0],b=m[1],w=m[2],S=di(b);y===r.userId&&u.path.isEqual(S)?o=o.add(w):g.done()});s.push(d)}),ee.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=yn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new Jt(Ze);return ea(t).$t({range:l},function(d,m,h){var g=d[0],y=d[1],b=d[2],w=di(y);g===r.userId&&o.isPrefixOf(w)?w.length===s&&(f=f.add(b)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(Li(t).get(u).next(function(l){if(l===null)throw we();Re(l.userId===r.userId),o.push(Zs(r.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return xx(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ee.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ee.resolve();var o=IDBKeyRange.lowerBound(yn.prefixForUser(n.userId)),s=[];return ea(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var d=di(u[1]);s.push(d)}else f.done()}).next(function(){Re(s.length===0)})})},e.prototype.containsKey=function(t,n){return kx(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return Cx(t).get(this.userId).next(function(r){return r||new Ji(n.userId,-1,"")})},e}();function kx(e,t,n){var r=yn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return ea(e).$t({range:s,Ft:!0},function(l,f,d){var m=l[0],h=l[1];l[2],m===t&&h===o&&(u=!0),d.done()}).next(function(){return u})}function Li(e){return Yn(e,wt.store)}function ea(e){return Yn(e,yn.store)}function Cx(e){return Yn(e,Ji.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ah=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),lV=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new ah(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Xe.fromTimestamp(new Wn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Ys(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Re(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return Ys(t).$t(function(l,f){var d=Uu(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,u.push(o.removeTargetData(t,d)))}).next(function(){return ee.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Ys(t).$t(function(r,o){var s=Uu(o);n(s)})},e.prototype.Xt=function(t){return nS(t).get(ir.key).next(function(n){return Re(n!==null),n})},e.prototype.Zt=function(t,n){return nS(t).put(ir.key,n)},e.prototype.te=function(t,n){return Ys(t).put(Ix(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Gl(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Ys(t).$t({range:o,index:Hn.queryTargetsIndexName},function(u,l,f){var d=Uu(l);nd(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=Hi(t);return n.forEach(function(l){var f=Mr(l.path);s.push(u.put(new ln(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Hi(t);return ee.forEach(n,function(u){var l=Mr(u.path);return ee.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Hi(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Hi(t),s=yt();return o.$t({range:r,Ft:!0},function(u,l,f){var d=di(u[1]),m=new Se(d);s=s.add(m)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Mr(n.path),o=IDBKeyRange.bound([r],[$A(r)],!1,!0),s=0;return Hi(t).$t({index:ln.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var d=u[0];u[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Ys(t).get(n).next(function(r){return r?Uu(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ys(e){return Yn(e,Hn.store)}function nS(e){return Yn(e,ir.store)}function Hi(e){return Yn(e,ln.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(e){return W(this,void 0,void 0,function(){return H(this,function(t){if(e.code!==V.FAILED_PRECONDITION||e.message!==_x)throw e;return ie("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=Ze(n,o);return u===0?Ze(r,s):u}var cV=function(){function e(t){this.ne=t,this.buffer=new Jt(rS),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();rS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),fV=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;ie("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return W(n,void 0,void 0,function(){var o;return H(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return bs(o=s.sent())?(ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,_s(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),hV=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ee.resolve(sr.o);var o=new cV(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(tS)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),tS):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,l,f,d,m=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>m.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+g),o=m.params.maximumSequenceNumbersToCollect):o=g,u=Date.now(),m.nthSequenceNumber(t,o)}).next(function(g){return r=g,l=Date.now(),m.removeTargets(t,r,n)}).next(function(g){return s=g,f=Date.now(),m.removeOrphanedDocuments(t,r)}).next(function(g){return d=Date.now(),mv()<=ot.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+g+" documents in "+(d-f)+`ms
Total Duration: `+(d-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:g})})},e}(),dV=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new hV(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return yf(t,r)},e.prototype.removeReference=function(t,n,r){return yf(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return yf(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return Cx(r).Ot(function(u){return kx(r,u,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,f){if(f<=n){var d=r._e(t,l).next(function(m){if(!m)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Hi(t).delete([0,Mr(l.path)])})});s.push(d)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return yf(t,n)},e.prototype.we=function(t,n){var r,o=Hi(t),s=sr.o;return o.$t({index:ln.documentTargetsIndex},function(u,l){var f=u[0];u[1];var d=l.path,m=l.sequenceNumber;f===0?(s!==sr.o&&n(new Se(di(r)),s),s=m,r=d):s=sr.o}).next(function(){s!==sr.o&&n(new Se(di(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function yf(e,t){return Hi(e).put(function(n,r){return new ln(0,Mr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ua=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){vs(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return qA(this.inner)},e}(),Ox=function(){function e(){this.changes=new Ua(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Xe.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Sn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ee.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),pV=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Ui(t).put(bf(n),r)},e.prototype.removeEntry=function(t,n){var r=Ui(t),o=bf(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Ui(t).get(bf(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Ui(t).get(bf(n)).next(function(o){return{document:r.ye(n,o),size:sh(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Lr();return this.pe(t,n,function(s,u){var l=r.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Lr(),s=new Tn(Se.comparator);return this.pe(t,n,function(u,l){var f=r.ye(u,l);o=o.insert(u,f),s=s.insert(u,sh(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Ui(t).$t({range:o},function(l,f,d){for(var m=Se.fromSegments(l);u&&Se.comparator(u,m)<0;)r(u,null),u=s.getNext();u&&u.isEqual(m)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?d.Ct(u.path.toArray()):d.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Lr(),u=n.path.length+1,l={};if(r.isEqual(Xe.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),m=tb(r);l.range=IDBKeyRange.lowerBound([d,m],!0),l.index=Rt.collectionReadTimeIndex}return Ui(t).$t(l,function(h,g,y){if(h.length===u){var b=Sv(o.R,g);n.path.isPrefixOf(b.key.path)?Yl(n,b)&&(s=s.insert(b.key,b)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new gV(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return iS(t).get(Qr.key).next(function(n){return Re(!!n),n})},e.prototype.me=function(t,n){return iS(t).put(Qr.key,n)},e.prototype.ye=function(t,n){if(n){var r=Sv(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Xe.min()))return r}return Sn.newInvalidDocument(t)},e}(),gV=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Ua(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return xe(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new Jt(function(l,f){return Ze(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=r.Ae.get(l);if(f.document.isValidDocument()){var m=QE(r.Ie.R,f.document,r.getReadTime(l));u=u.add(l.path.popLast());var h=sh(m);s+=h-d,o.push(r.Ie.addEntry(n,l,m))}else if(s-=d,r.trackRemovals){var g=QE(r.Ie.R,Sn.newNoDocument(l,Xe.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,g))}else o.push(r.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(Ox);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(e){return Yn(e,Qr.store)}function Ui(e){return Yn(e,Rt.store)}function bf(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mV=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Re(r<o&&r>=0&&o<=11);var u=new Ex("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(rr.store)}(t),function(f){f.createObjectStore(Ji.store,{keyPath:Ji.keyPath}),f.createObjectStore(wt.store,{keyPath:wt.keyPath,autoIncrement:!0}).createIndex(wt.userMutationsIndex,wt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(yn.store)}(t),oS(t),function(f){f.createObjectStore(Rt.store)}(t));var l=ee.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(ln.store),f.deleteObjectStore(Hn.store),f.deleteObjectStore(ir.store)}(t),oS(t)),l=l.next(function(){return function(f){var d=f.store(ir.store),m=new ir(0,0,Xe.min().toTimestamp(),0);return d.put(ir.key,m)}(u)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,d){return d.store(wt.store).Nt().next(function(m){f.deleteObjectStore(wt.store),f.createObjectStore(wt.store,{keyPath:wt.keyPath,autoIncrement:!0}).createIndex(wt.userMutationsIndex,wt.userMutationsKeyPath,{unique:!0});var h=d.store(wt.store),g=m.map(function(y){return h.put(y)});return ee.waitFor(g)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(gi.store,{keyPath:gi.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Qr.store)}(t),s.be(u)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Rt.store);d.createIndex(Rt.readTimeIndex,Rt.readTimeIndexPath,{unique:!1}),d.createIndex(Rt.collectionReadTimeIndex,Rt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(Ea.store,{keyPath:Ea.keyPath})})(t),function(f){f.createObjectStore(Sa.store,{keyPath:Sa.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Rt.store).$t(function(r,o){n+=sh(o)}).next(function(){var r=new Qr(n);return t.store(Qr.store).put(Qr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(Ji.store),o=t.store(wt.store);return r.Nt().next(function(s){return ee.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(wt.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(d){Re(d.userId===u.userId);var m=Zs(n.R,d);return xx(t,u.userId,m).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(ln.store),r=t.store(Rt.store);return t.store(ir.store).get(ir.key).next(function(o){var s=[];return r.$t(function(u,l){var f=new st(u),d=function(m){return[0,Mr(m)]}(f);s.push(n.get(d).next(function(m){return m?ee.resolve():function(h){return n.put(new ln(0,Mr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Zo.store,{keyPath:Zo.keyPath});var r=n.store(Zo.store),o=new nb,s=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return r.put({collectionId:l,parent:Mr(f)})}};return n.store(Rt.store).$t({Ft:!0},function(u,l){var f=new st(u);return s(f.popLast())}).next(function(){return n.store(yn.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var d=di(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(Hn.store);return r.$t(function(o,s){var u=Uu(s),l=Ix(n.R,u);return r.put(l)})},e}();function oS(e){e.createObjectStore(ln.store,{keyPath:ln.keyPath}).createIndex(ln.documentTargetsIndex,ln.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Hn.store,{keyPath:Hn.keyPath}).createIndex(Hn.queryTargetsIndexName,Hn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ir.store)}var wm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vV=function(){function e(t,n,r,o,s,u,l,f,d,m){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=l,this.De=d,this.Ce=m,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new Q(V.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dV(this,o),this.Le=n+"main",this.R=new Sx(f),this.Be=new Ta(this.Le,11,new mV(this.R)),this.qe=new lV(this.referenceDelegate,this.R),this.Ut=new aV,this.Ue=function(h,g){return new pV(h,g)}(this.R,this.Ut),this.Ke=new oV,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,m===!1&&qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Q(V.FAILED_PRECONDITION,wm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new sr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return W(n,void 0,void 0,function(){return H(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return W(n,void 0,void 0,function(){return H(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return W(n,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return _f(n).put(new gi(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(bs(n))return ie("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return ie("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Nu(t).get(rr.key).next(function(r){return ee.resolve(n.tn(r))})},e.prototype.en=function(t){return _f(t).delete(this.clientId)},e.prototype.nn=function(){return W(this,void 0,void 0,function(){var t,n,r,o,s=this;return H(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Yn(l,gi.store);return f.Nt().next(function(d){var m=s.rn(d,18e5),h=d.filter(function(g){return m.indexOf(g)===-1});return ee.forEach(h,function(g){return f.delete(g.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):Nu(t).get(rr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Q(V.FAILED_PRECONDITION,wm);return!1}}return!(!n.networkEnabled||!n.inForeground)||_f(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&ie("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return W(this,void 0,void 0,function(){var t=this;return H(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[rr.store,gi.store],function(r){var o=new YE(r,sr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return _f(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return uV.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ie("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,tV,function(l){return s=new YE(l,o.Ne?o.Ne.next():sr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw qt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Q(V.FAILED_PRECONDITION,_x);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Nu(t).get(rr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Q(V.FAILED_PRECONDITION,wm)})},e.prototype.Ze=function(t){var n=new rr(this.clientId,this.allowTabSynchronization,Date.now());return Nu(t).put(rr.key,n)},e.yt=function(){return Ta.yt()},e.prototype.Xe=function(t){var n=this,r=Nu(t);return r.get(rr.key).next(function(o){return n.tn(o)?(ie("IndexedDbPersistence","Releasing primary lease."),r.delete(rr.key)):ee.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(qt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),TM()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return ie("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return qt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){qt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Nu(e){return Yn(e,rr.store)}function _f(e){return Yn(e,gi.store)}function rb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Px=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):zy(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Se(n)).next(function(r){var o=wv();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=wv();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var d=function(m,h){return new _i(h,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(m){m.forEach(function(h,g){u=u.insert(h,g)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(f){o=f;for(var d=0,m=s;d<m.length;d++)for(var h=m[d],g=0,y=h.mutations;g<y.length;g++){var b=y[g],w=b.key,S=o.get(w);S==null&&(S=Sn.newInvalidDocument(w),o=o.insert(w,S)),_v(b,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(w))}})}).next(function(){return o.forEach(function(l,f){Yl(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=yt(),s=0,u=n;s<u.length;s++)for(var l=0,f=u[s].mutations;l<f.length;l++){var d=f[l];d instanceof co&&r.get(d.key)===null&&(o=o.add(d.key))}var m=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(g,y){y.isFoundDocument()&&(m=m.insert(g,y))}),m})},e}(),yV=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=yt(),o=yt(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),Nx=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Xe.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(Nf(n)||ih(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(mv()<=ot.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),bv(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new Jt(JA(t));return n.forEach(function(o,s){Yl(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return mv()<=ot.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",bv(n)),this.Sn.getDocumentsMatchingQuery(t,n,Xe.min())},e}(),bV=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new Tn(Ze),this.Fn=new Ua(function(s){return Gl(s)},nd),this.$n=Xe.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Px(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(e,t,n,r){return new bV(e,t,n,r)}function Dx(e,t){return W(this,void 0,void 0,function(){var n,r,o,s;return H(this,function(u){switch(u.label){case 0:return n=le(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new Px(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(d){for(var m=[],h=[],g=yt(),y=0,b=f;y<b.length;y++){var w=b[y];m.push(w.batchId);for(var S=0,T=w.mutations;S<T.length;S++){var k=T[S];g=g.add(k.key)}}for(var D=0,L=d;D<L.length;D++){var z=L[D];h.push(z.batchId);for(var j=0,ae=z.mutations;j<ae.length;j++){var M=ae[j];g=g.add(M.key)}}return o.pn(l,g).next(function(q){return{Ln:q,removedBatchIds:m,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function _V(e,t){var n=le(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,d){var m=f.batch,h=m.keys(),g=ee.resolve();return h.forEach(function(y){g=g.next(function(){return d.getEntry(l,y)}).next(function(b){var w=f.docVersions.get(y);Re(w!==null),b.version.compareTo(w)<0&&(m.applyToRemoteDocument(b,f),b.isValidDocument()&&d.addEntry(b,f.commitVersion))})}),g.next(function(){return u._n.removeMutationBatch(l,m)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function Lx(e){var t=le(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function wV(e,t){var n=le(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(m,h){var g=o.get(h);if(g){l.push(n.qe.removeMatchingKeys(s,m.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,m.addedDocuments,h)}));var y=m.resumeToken;if(y.approximateByteSize()>0){var b=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,b),function(w,S,T){return Re(S.resumeToken.approximateByteSize()>0),w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,b,m)&&l.push(n.qe.updateTargetData(s,b))}}});var f=Lr();if(t.documentUpdates.forEach(function(m,h){t.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(EV(s,u,t.documentUpdates,r,void 0).next(function(m){f=m})),!r.isEqual(Xe.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(m){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(d)}return ee.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function EV(e,t,n,r,o){var s=yt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=Lr();return n.forEach(function(f,d){var m=u.get(f),h=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(Xe.min())?(t.removeEntry(f,h),l=l.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d,h),l=l.insert(f,d)):ie("LocalStore","Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)}),l})}function SV(e,t){var n=le(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function uh(e,t){var n=le(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new sd(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function xa(e,t,n){return W(this,void 0,void 0,function(){var r,o,s,u;return H(this,function(l){switch(l.label){case 0:r=le(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!bs(u=l.sent()))throw u;return ie("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function lh(e,t,n){var r=le(e),o=Xe.min(),s=yt();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,d){var m=le(l),h=m.Fn.get(d);return h!==void 0?ee.resolve(m.kn.get(h)):m.qe.getTargetData(f,d)}(r,u,ii(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:Xe.min(),n?s:yt())}).next(function(l){return{documents:l,Bn:s}})})}function Mx(e,t){var n=le(e),r=le(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function Fx(e){var t=le(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=le(r),l=Lr(),f=tb(s),d=Ui(o),m=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Rt.readTimeIndex,range:m},function(h,g){var y=Sv(u.R,g);l=l.insert(y.key,y),f=g.readTime}).next(function(){return{wn:l,readTime:Tx(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function TV(e){return W(this,void 0,void 0,function(){var t;return H(this,function(n){return[2,(t=le(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Ui(o),u=Xe.min();return s.$t({index:Rt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(u=Tx(f.readTime)),d.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IV=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Dn(r.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:Ax(r.bundledQuery),readTime:Dn(r.readTime)}}(n)),ee.resolve()},e}(),ib=function(){function e(){this.Wn=new Jt(en.Gn),this.zn=new Jt(en.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new en(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new en(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Se(new st([])),o=new en(r,t),s=new en(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Se(new st([])),r=new en(n,t),o=new en(n,t+1),s=yt();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new en(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),en=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Se.comparator(t.key,n.key)||Ze(t.ns,n.ns)},e.Hn=function(t,n){return Ze(t.ns,n.ns)||Se.comparator(t.key,n.key)},e}(),AV=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Jt(en.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new eb(s,n,r,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new en(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return ee.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new en(n,0),s=new en(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);u.push(f)}),ee.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Jt(Ze);return n.forEach(function(s){var u=new en(s,0),l=new en(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Se.isDocumentKey(s)||(s=s.child(""));var u=new en(new Se(s),0),l=new Jt(Ze);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},u),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Re(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var u=new en(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new en(n,0),o=this.rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),xV=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new Tn(Se.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ee.resolve(r?r.document.clone():Sn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Lr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():Sn.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Lr(),s=new Se(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),f=l.key,d=l.value,m=d.document,h=d.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||Yl(n,m)&&(o=o.insert(m.key,m.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new kV(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),kV=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return xe(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(Ox),CV=function(){function e(t){this.persistence=t,this.ds=new Ua(function(n){return Gl(n)},nd),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ws=0,this._s=new ib,this.targetCount=0,this.ys=ah.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new ah(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ee.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ee.resolve(r)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),OV=function(){function e(t,n){var r=this;this.gs={},this.Ne=new sr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new CV(this),this.Ut=new sV,this.Ue=function(o,s){return new xV(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new Sx(n),this.Ke=new IV(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new AV(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;ie("MemoryPersistence","Starting transaction:",t);var s=new PV(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),PV=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return xe(t,e),t}(wx),NV=function(){function e(t){this.persistence=t,this.As=new ib,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw we()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=Se.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ee.or([function(){return ee.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),sn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(e,t){return"firestore_clients_"+e+"_"+t}function aS(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Em(e,t){return"firestore_targets_"+e+"_"+t}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");var uS=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new Q(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(qt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Sm=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new Q(o.error.code,o.error.message)),s?new e(t,o.state,r):(qt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),lS=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=od(),u=0;o&&u<r.activeTargetIds.length;++u)o=WA(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(qt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),RV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(qt("SharedClientState","Failed to parse online state: "+t),null)},e}(),Tv=function(){function e(){this.activeTargetIds=od()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Tm=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Tn(Ze),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=sS(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Tv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return W(this,void 0,void 0,function(){var t,n,r,o,s,u,l,f,d,m,h,g=this;return H(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(sS(this.persistenceKey,o)))&&(u=lS.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,m=this.$s;d<m.length;d++)h=m[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(Em(this.persistenceKey,t));if(r){var o=Sm.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Em(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return ie("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){ie("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){ie("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(ie("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return W(n,void 0,void 0,function(){var o,s,u,l,f,d;return H(this,function(m){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(h){var g=sr.o;if(h!=null)try{var y=JSON.parse(h);Re(typeof y=="number"),g=y}catch(b){qt("SharedClientState","Failed to read sequence number from WebStorage",b)}return g}(r.newValue))!==sr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new uS(this.currentUser,t,n,r),s=aS(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=aS(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=Em(this.persistenceKey,t),s=new Sm(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return lS.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return uS.Vs(new sn(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return Sm.Vs(o,n)},e.prototype.js=function(t){return RV.Vs(t)},e.prototype.ii=function(t){return W(this,void 0,void 0,function(){return H(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(ie("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){u.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=od();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),Vx=function(){function e(){this.li=new Tv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new Tv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),DV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),cS=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),LV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},MV=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),FV=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return xe(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,l){var f=new p2;f.listenOnce(f2.COMPLETE,function(){try{switch(f.getLastErrorCode()){case _m.NO_ERROR:var m=f.getResponseJson();ie("Connection","XHR received:",JSON.stringify(m)),u(m);break;case _m.TIMEOUT:ie("Connection",'RPC "'+n+'" timed out'),l(new Q(V.DEADLINE_EXCEEDED,"Request time out"));break;case _m.HTTP_ERROR:var h=f.getStatus();if(ie("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var g=f.getResponseJson().error;if(g&&g.status&&g.message){var y=function(b){var w=b.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(w)>=0?w:V.UNKNOWN}(g.status);l(new Q(y,g.message))}else l(new Q(V.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Q(V.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ie("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=l2(),u=c2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new d2({})),this.ki(l.initMessageHeaders,r),vM()||_M()||wM()||EM()||SM()||bM()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");ie("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),m=!1,h=!1,g=new MV({Ei:function(b){h?ie("Connection","Not sending because WebChannel is closed:",b):(m||(ie("Connection","Opening WebChannel transport."),d.open(),m=!0),ie("Connection","WebChannel sending:",b),d.send(b))},Ti:function(){return d.close()}}),y=function(b,w,S){b.listen(w,function(T){try{S(T)}catch(k){setTimeout(function(){throw k},0)}})};return y(d,mf.EventType.OPEN,function(){h||ie("Connection","WebChannel transport opened.")}),y(d,mf.EventType.CLOSE,function(){h||(h=!0,ie("Connection","WebChannel transport closed"),g.Vi())}),y(d,mf.EventType.ERROR,function(b){h||(h=!0,Zf("Connection","WebChannel transport errored:",b),g.Vi(new Q(V.UNAVAILABLE,"The operation could not be completed")))}),y(d,mf.EventType.MESSAGE,function(b){var w;if(!h){var S=b.data[0];Re(!!S);var T=S,k=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(k){ie("Connection","WebChannel received error:",k);var D=k.status,L=function(j){var ae=Bt[j];if(ae!==void 0)return ux(ae)}(D),z=k.message;L===void 0&&(L=V.INTERNAL,z="Unknown error status: "+D+" with message "+k.message),h=!0,g.Vi(new Q(L,z)),d.close()}else ie("Connection","WebChannel received:",S),g.Si(S)}}),y(u,h2.STAT_EVENT,function(b){b.stat===xE.PROXY?ie("Connection","Detected buffering proxy"):b.stat===xE.NOPROXY&&ie("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);ie("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(l){return ie("RestConnection","Received: ",l),l},function(l){throw Zf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=LV[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return typeof window<"u"?window:null}function Lf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(e){return new q2(e,!0)}var ob=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&ie("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Ux=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ob(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return W(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return W(this,void 0,void 0,function(){return H(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return W(this,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(qt(n.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===V.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new Q(V.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return W(t,void 0,void 0,function(){return H(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return ie("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),VV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,l}return xe(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var l;if("targetChange"in u){u.targetChange;var f=function(S){return S==="NO_CHANGE"?0:S==="ADD"?1:S==="REMOVE"?2:S==="CURRENT"?3:S==="RESET"?4:we()}(u.targetChange.targetChangeType||"NO_CHANGE"),d=u.targetChange.targetIds||[],m=function(S,T){return S.I?(Re(T===void 0||typeof T=="string"),zn.fromBase64String(T||"")):(Re(T===void 0||T instanceof Uint8Array),zn.fromUint8Array(T||new Uint8Array))}(s,u.targetChange.resumeToken),h=(g=u.targetChange.cause)&&function(S){var T=S.code===void 0?V.UNKNOWN:ux(S.code);return new Q(T,S.message||"")}(g);l=new cx(f,d,m,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,d=pi(s,f.document.name),m=Dn(f.document.updateTime);var g=new or({mapValue:{fields:f.document.fields}}),y=(h=Sn.newFoundDocument(d,m,g),f.targetIds||[]),b=f.removedTargetIds||[];l=new Df(y,b,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,d=pi(s,f.document),m=f.readTime?Dn(f.readTime):Xe.min(),g=Sn.newNoDocument(d,m),h=f.removedTargetIds||[],l=new Df([],h,g.key,g);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,d=pi(s,f.document),m=f.removedTargetIds||[],l=new Df([],m,d,null);else{if(!("filter"in u))return we();u.filter;var w=u.filter;w.targetId,f=w.count||0,d=new R2(f),m=w.targetId,l=new lx(m,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Xe.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?Dn(u.readTime):Xe.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=_l(this.R),r.addTarget=function(s,u){var l,f=u.target;return(l=nh(f)?{documents:gx(s,f)}:{query:mx(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=fx(s,u.resumeToken):u.snapshotVersion.compareTo(Xe.min())>0&&(l.readTime=yl(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return we()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=_l(this.R),r.removeTarget=n,this.cr(r)},t}(Ux),jV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,l.gr=!1,l}return xe(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Re(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(Re(u!==void 0),s.map(function(l){return function(f,d){var m=f.updateTime?Dn(f.updateTime):Dn(d);return m.isEqual(Xe.min())&&(m=Dn(d)),new O2(m,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=Dn(n.commitTime);return this.listener.Tr(o,r)}return Re(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=_l(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return oh(r.R,s)})};this.cr(o)},t}(Ux),UV=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return xe(t,e),t.prototype.br=function(){if(this.Rr)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===V.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new Q(V.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===V.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new Q(V.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),BV=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(qt(n),this.Vr=!1):ie("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),$V=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return W(s,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return fo(this)?(ie("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return W(this,void 0,void 0,function(){var d;return H(this,function(m){switch(m.label){case 0:return(d=le(f)).Or.add(4),[4,Ba(d)];case 1:return m.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,ec(d)];case 2:return m.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new BV(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(e){return W(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:if(!fo(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Ba(e){return W(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ud(e,t){var n=le(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),ub(n)?ab(n):qa(n).er()&&sb(n,t))}function wl(e,t){var n=le(e),r=qa(n);n.$r.delete(t),r.er()&&Bx(n,t),n.$r.size===0&&(r.er()?r.ir():fo(n)&&n.Br.set("Unknown"))}function sb(e,t){e.qr.U(t.targetId),qa(e).mr(t)}function Bx(e,t){e.qr.U(t),qa(e).yr(t)}function ab(e){e.qr=new U2({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),qa(e).start(),e.Br.Sr()}function ub(e){return fo(e)&&!qa(e).tr()&&e.$r.size>0}function fo(e){return le(e).Or.size===0}function $x(e){e.qr=void 0}function qV(e){return W(this,void 0,void 0,function(){return H(this,function(t){return e.$r.forEach(function(n,r){sb(e,n)}),[2]})})}function HV(e,t){return W(this,void 0,void 0,function(){return H(this,function(n){return $x(e),ub(e)?(e.Br.Nr(t),ab(e)):e.Br.set("Unknown"),[2]})})}function KV(e,t,n){return W(this,void 0,void 0,function(){var r,o,s;return H(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof cx&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return W(this,void 0,void 0,function(){var d,m,h,g;return H(this,function(y){switch(y.label){case 0:d=f.cause,m=0,h=f.targetIds,y.label=1;case 1:return m<h.length?(g=h[m],l.$r.has(g)?[4,l.remoteSyncer.rejectListen(g,d)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(g),l.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return m++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ch(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Df?e.qr.X(t):t instanceof lx?e.qr.rt(t):e.qr.et(t),n.isEqual(Xe.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,Lx(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(m,h){if(m.resumeToken.approximateByteSize()>0){var g=l.$r.get(h);g&&l.$r.set(h,g.withResumeToken(m.resumeToken,f))}}),d.targetMismatches.forEach(function(m){var h=l.$r.get(m);if(h){l.$r.set(m,h.withResumeToken(zn.EMPTY_BYTE_STRING,h.snapshotVersion)),Bx(l,m);var g=new sd(h.target,m,1,h.sequenceNumber);sb(l,g)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return ie("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,ch(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function ch(e,t,n){return W(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:if(!bs(t))throw t;return e.Or.add(1),[4,Ba(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Lx(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return W(r,void 0,void 0,function(){return H(this,function(s){switch(s.label){case 0:return ie("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,ec(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function qx(e,t){return t().catch(function(n){return ch(e,n,t)})}function $a(e){return W(this,void 0,void 0,function(){var t,n,r,o,s;return H(this,function(u){switch(u.label){case 0:t=le(e),n=oo(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return fo(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,SV(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var d=oo(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,ch(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return Hx(t)&&Kx(t),[2]}})})}function Hx(e){return fo(e)&&!oo(e).tr()&&e.Fr.length>0}function Kx(e){oo(e).start()}function WV(e){return W(this,void 0,void 0,function(){return H(this,function(t){return oo(e).Ar(),[2]})})}function GV(e){return W(this,void 0,void 0,function(){var t,n,r,o;return H(this,function(s){for(t=oo(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function zV(e,t,n){return W(this,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=iV.from(r,t,n),[4,qx(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,$a(e)];case 2:return s.sent(),[2]}})})}function XV(e,t){return W(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return t&&oo(e).pr?[4,function(r,o){return W(this,void 0,void 0,function(){var s,u;return H(this,function(l){switch(l.label){case 0:return ax(u=o.code)&&u!==V.ABORTED?(s=r.Fr.shift(),oo(r).sr(),[4,qx(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,$a(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Hx(e)&&Kx(e),[2]}})})}function Iv(e,t){return W(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return n=le(e),t?(n.Or.delete(2),[4,ec(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Ba(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function qa(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=le(n);return s.br(),new VV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:qV.bind(null,e),Ri:HV.bind(null,e),_r:KV.bind(null,e)}),e.Mr.push(function(n){return W(t,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),ub(e)?ab(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),$x(e),r.label=3;case 3:return[2]}})})})),e.Ur}function oo(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=le(n);return s.br(),new jV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:WV.bind(null,e),Ri:XV.bind(null,e),Ir:GV.bind(null,e),Tr:zV.bind(null,e)}),e.Mr.push(function(n){return W(t,void 0,void 0,function(){return H(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,$a(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(ie("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var YV=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new Xn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(V.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Ha(e,t){if(qt("AsyncQueue",t+": "+e),bs(e))return new Q(V.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wx=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Se.comparator(n.key,r.key)}:function(n,r){return Se.comparator(n.key,r.key)},this.keyedMap=wv(),this.sortedSet=new Tn(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),fS=function(){function e(){this.Qr=new Tn(Se.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):we():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),fh=function(){function e(t,n,r,o,s,u,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,Wx.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),QV=function(){this.Wr=void 0,this.listeners=[]},JV=function(){this.queries=new Ua(function(e){return QA(e)},Xl),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(e,t){return W(this,void 0,void 0,function(){var n,r,o,s,u,l,f;return H(this,function(d){switch(d.label){case 0:if(n=le(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new QV),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Ha(l,"Initialization of query '"+bv(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&fb(n),[2]}})})}function cb(e,t){return W(this,void 0,void 0,function(){var n,r,o,s,u;return H(this,function(l){return n=le(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ZV(e,t){for(var n=le(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,f=n.queries.get(l);if(f){for(var d=0,m=f.listeners;d<m.length;d++)m[d].Hr(u)&&(r=!0);f.Wr=u}}r&&fb(n)}function ej(e,t,n){var r=le(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function fb(e){e.Gr.forEach(function(t){t.next()})}var hb=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new fh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=fh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gx=function(e){this.key=e},zx=function(e){this.key=e},Xx=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=yt(),this.mutatedKeys=yt(),this.lo=JA(t),this.fo=new Wx(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new fS,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=Nf(this.query)&&s.size===this.query.limit?s.last():null,m=ih(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,y){var b=s.get(g),w=Yl(r.query,y)?y:null,S=!!b&&r.mutatedKeys.has(b.key),T=!!w&&(w.hasLocalMutations||r.mutatedKeys.has(w.key)&&w.hasCommittedMutations),k=!1;b&&w?b.data.isEqual(w.data)?S!==T&&(o.track({type:3,doc:w}),k=!0):r.yo(b,w)||(o.track({type:2,doc:w}),k=!0,(d&&r.lo(w,d)>0||m&&r.lo(w,m)<0)&&(f=!0)):!b&&w?(o.track({type:0,doc:w}),k=!0):b&&!w&&(o.track({type:1,doc:b}),k=!0,(d||m)&&(f=!0)),k&&(w?(l=l.add(w),u=T?u.add(g):u.delete(g)):(l=l.delete(g),u=u.delete(g)))}),Nf(this.query)||ih(this.query))for(;l.size>this.query.limit;){var h=Nf(this.query)?l.last():l.first();l=l.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(m,h){return function(g,y){var b=function(w){switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return b(g)-b(y)}(m.type,h.type)||o.lo(m.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,u.length!==0||d?{snapshot:new fh(this.query,t.fo,s,u,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fS,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=yt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new zx(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new Gx(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=yt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return fh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),tj=function(e,t,n){this.query=e,this.targetId=t,this.view=n},nj=function(e){this.key=e,this.bo=!1},rj=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ua(function(l){return QA(l)},Xl),this.Vo=new Map,this.So=new Set,this.Do=new Tn(Se.comparator),this.Co=new Map,this.No=new ib,this.xo={},this.ko=new Map,this.Fo=ah.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function ij(e,t){return W(this,void 0,void 0,function(){var n,r,o,s,u,l;return H(this,function(f){switch(f.label){case 0:return n=vb(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,uh(n.localStore,ii(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,db(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&ud(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function db(e,t,n,r){return W(this,void 0,void 0,function(){var o,s,u,l,f,d;return H(this,function(m){switch(m.label){case 0:return e.Oo=function(h,g,y){return function(b,w,S,T){return W(this,void 0,void 0,function(){var k,D,L;return H(this,function(z){switch(z.label){case 0:return k=w.view._o(S),k.Nn?[4,lh(b.localStore,w.query,!1).then(function(j){var ae=j.documents;return w.view._o(ae,k)})]:[3,2];case 1:k=z.sent(),z.label=2;case 2:return D=T&&T.targetChanges.get(w.targetId),L=w.view.applyChanges(k,b.isPrimaryClient,D),[2,(Av(b,w.targetId,L.To),L.snapshot)]}})})}(e,h,g,y)},[4,lh(e.localStore,t,!0)];case 1:return o=m.sent(),s=new Xx(t,o.Bn),u=s._o(o.documents),l=Qy.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,l),Av(e,n,f.To),d=new tj(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function oj(e,t){return W(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return n=le(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!Xl(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,xa(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),wl(n.remoteStore,r.targetId),ka(n,r.targetId)}).catch(_s)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ka(n,r.targetId),[4,xa(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function sj(e,t,n){return W(this,void 0,void 0,function(){var r,o,s,u;return H(this,function(l){switch(l.label){case 0:r=yb(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var m,h=le(f),g=Wn.now(),y=d.reduce(function(b,w){return b.add(w.key)},yt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(b){return h.Mn.pn(b,y).next(function(w){m=w;for(var S=[],T=0,k=d;T<k.length;T++){var D=k[T],L=N2(D,m.get(D.key));L!=null&&S.push(new co(D.key,L,GA(L.value.mapValue),wn.exists(!0)))}return h._n.addMutationBatch(b,g,S,d)})}).then(function(b){return b.applyToLocalDocumentSet(m),{batchId:b.batchId,changes:m}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,m){var h=f.xo[f.currentUser.toKey()];h||(h=new Tn(Ze)),h=h.insert(d,m),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,ho(r,o.changes)];case 3:return l.sent(),[4,$a(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=Ha(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function Yx(e,t){return W(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:n=le(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,wV(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Re(l.bo):s.removedDocuments.size>0&&(Re(l.bo),l.bo=!1))}),[4,ho(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,_s(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function hS(e,t,n){var r=le(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=le(s);l.onlineState=u;var f=!1;l.queries.forEach(function(d,m){for(var h=0,g=m.listeners;h<g.length;h++)g[h].zr(u)&&(f=!0)}),f&&fb(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function aj(e,t,n){return W(this,void 0,void 0,function(){var r,o,s,u,l,f;return H(this,function(d){switch(d.label){case 0:return(r=le(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new Tn(Se.comparator)).insert(s,Sn.newNoDocument(s,Xe.min())),l=yt().add(s),f=new Yy(Xe.min(),new Map,new Jt(Ze),u,l),[4,Yx(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),mb(r),[3,4];case 2:return[4,xa(r.localStore,t,!1).then(function(){return ka(r,t,n)}).catch(_s)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function uj(e,t){return W(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:n=le(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,_V(n.localStore,t)];case 2:return o=s.sent(),gb(n,r,null),pb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ho(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,_s(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function lj(e,t,n){return W(this,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:r=le(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var f=le(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var m;return f._n.lookupMutationBatch(d,l).next(function(h){return Re(h!==null),m=h.keys(),f._n.removeMutationBatch(d,h)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,m)})})}(r.localStore,t)];case 2:return o=s.sent(),gb(r,t,n),pb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,ho(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,_s(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function cj(e,t){return W(this,void 0,void 0,function(){var n,r,o,s,u;return H(this,function(l){switch(l.label){case 0:fo((n=le(e)).remoteStore)||ie("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=le(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(m){return d._n.getHighestUnacknowledgedBatchId(m)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),u=Ha(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function pb(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function gb(e,t,n){var r=le(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function ka(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||Qx(e,u)})}function Qx(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(wl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),mb(e))}function Av(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof Gx?(e.No.addReference(s.key,t),fj(e,s)):s instanceof zx?(ie("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||Qx(e,s.key)):we()}}function fj(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(ie("SyncEngine","New document in limbo: "+n),e.So.add(r),mb(e))}function mb(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Se(st.fromString(t)),r=e.Fo.next();e.Co.set(r,new nj(n)),e.Do=e.Do.insert(n,r),ud(e.remoteStore,new sd(ii(zl(n.path)),r,2,sr.o))}}function ho(e,t,n){return W(this,void 0,void 0,function(){var r,o,s,u;return H(this,function(l){switch(l.label){case 0:return r=le(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){u.push(r.Oo(d,t,n).then(function(m){if(m){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,m.fromCache?"not-current":"current"),o.push(m);var h=yV.Pn(d.targetId,m);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,d){return W(this,void 0,void 0,function(){var m,h,g,y,b,w,S,T,k;return H(this,function(D){switch(D.label){case 0:m=le(f),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,m.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(L){return ee.forEach(d,function(z){return ee.forEach(z.bn,function(j){return m.persistence.referenceDelegate.addReference(L,z.targetId,j)}).next(function(){return ee.forEach(z.vn,function(j){return m.persistence.referenceDelegate.removeReference(L,z.targetId,j)})})})})];case 2:return D.sent(),[3,4];case 3:if(!bs(h=D.sent()))throw h;return ie("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(g=0,y=d;g<y.length;g++)b=y[g],w=b.targetId,b.fromCache||(S=m.kn.get(w),T=S.snapshotVersion,k=S.withLastLimboFreeSnapshotVersion(T),m.kn=m.kn.insert(w,k));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function hj(e,t){return W(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return(n=le(e)).currentUser.isEqual(t)?[3,3]:(ie("SyncEngine","User change. New user:",t.toKey()),[4,Dx(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new Q(V.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,ho(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function dj(e,t){var n=le(e),r=n.Co.get(t);if(r&&r.bo)return yt().add(r.key);var o=yt(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var f=l[u],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function pj(e,t){return W(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return[4,lh((n=le(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&Av(n,t.targetId,o.To),o)]}})})}function gj(e){return W(this,void 0,void 0,function(){var t;return H(this,function(n){return[2,Fx((t=le(e)).localStore).then(function(r){return ho(t,r)})]})})}function mj(e,t,n,r){return W(this,void 0,void 0,function(){var o,s;return H(this,function(u){switch(u.label){case 0:return[4,function(l,f){var d=le(l),m=le(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return m.jt(h,f).next(function(g){return g?d.Mn.pn(h,g):ee.resolve(null)})})}((o=le(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,$a(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(gb(o,t,r||null),pb(o,t),function(l,f){le(le(l)._n).Gt(f)}(o.localStore,t)):we(),u.label=4;case 4:return[4,ho(o,s)];case 5:return u.sent(),[3,7];case 6:ie("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function vj(e,t){return W(this,void 0,void 0,function(){var n,r,o,s,u,l,f,d;return H(this,function(m){switch(m.label){case 0:return vb(n=le(e)),yb(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,dS(n,r.toArray())]);case 1:return o=m.sent(),n.$o=!0,[4,Iv(n.remoteStore,!0)];case 2:for(m.sent(),s=0,u=o;s<u.length;s++)l=u[s],ud(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(h,g){n.sharedClientState.isLocalQueryTarget(g)?f.push(g):d=d.then(function(){return ka(n,g),xa(n.localStore,g,!0)}),wl(n.remoteStore,g)}),[4,d]);case 4:return m.sent(),[4,dS(n,f)];case 5:return m.sent(),function(h){var g=le(h);g.Co.forEach(function(y,b){wl(g.remoteStore,b)}),g.No.ts(),g.Co=new Map,g.Do=new Tn(Se.comparator)}(n),n.$o=!1,[4,Iv(n.remoteStore,!1)];case 6:m.sent(),m.label=7;case 7:return[2]}})})}function dS(e,t,n){return W(this,void 0,void 0,function(){var r,o,s,u,l,f,d,m,h,g,y,b,w,S;return H(this,function(T){switch(T.label){case 0:r=le(e),o=[],s=[],u=0,l=t,T.label=1;case 1:return u<l.length?(f=l[u],d=void 0,(m=r.Vo.get(f))&&m.length!==0?[4,uh(r.localStore,ii(m[0]))]:[3,7]):[3,13];case 2:d=T.sent(),h=0,g=m,T.label=3;case 3:return h<g.length?(y=g[h],b=r.Po.get(y),[4,pj(r,b)]):[3,6];case 4:(w=T.sent()).snapshot&&s.push(w.snapshot),T.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Mx(r.localStore,f)];case 8:return S=T.sent(),[4,uh(r.localStore,S)];case 9:return d=T.sent(),[4,db(r,Jx(S),f,!1)];case 10:T.sent(),T.label=11;case 11:o.push(d),T.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function Jx(e){return XA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function yj(e){var t=le(e);return le(le(t.localStore).persistence).fn()}function bj(e,t,n,r){return W(this,void 0,void 0,function(){var o,s,u;return H(this,function(l){switch(l.label){case 0:return(o=le(e)).$o?(ie("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Fx(o.localStore)];case 3:return s=l.sent(),u=Yy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,ho(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,xa(o.localStore,t,!0)];case 6:return l.sent(),ka(o,t,r),[3,8];case 7:we(),l.label=8;case 8:return[2]}})})}function _j(e,t,n){return W(this,void 0,void 0,function(){var r,o,s,u,l,f,d,m,h,g;return H(this,function(y){switch(y.label){case 0:if(!(r=vb(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(ie("SyncEngine","Adding an already active target "+u),[3,5]):[4,Mx(r.localStore,u)]):[3,6];case 2:return l=y.sent(),[4,uh(r.localStore,l)];case 3:return f=y.sent(),[4,db(r,Jx(l),f.targetId,!1)];case 4:y.sent(),ud(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:d=function(b){return H(this,function(w){switch(w.label){case 0:return r.Vo.has(b)?[4,xa(r.localStore,b,!1).then(function(){wl(r.remoteStore,b),ka(r,b)}).catch(_s)]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})},m=0,h=n,y.label=7;case 7:return m<h.length?(g=h[m],[5,d(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return m++,[3,7];case 10:return[2]}})})}function vb(e){var t=le(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dj.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aj.bind(null,t),t.vo._r=ZV.bind(null,t.eventManager),t.vo.Mo=ej.bind(null,t.eventManager),t}function yb(e){var t=le(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uj.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lj.bind(null,t),t}var Zx=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return W(this,void 0,void 0,function(){return H(this,function(n){switch(n.label){case 0:return this.R=ad(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return Rx(this.persistence,new Nx,t.initialUser,this.R)},e.prototype.qo=function(t){return new OV(NV.bs,this.R)},e.prototype.Bo=function(t){return new Vx},e.prototype.terminate=function(){return W(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),ek=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return xe(t,e),t.prototype.initialize=function(n){return W(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,TV(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,yb(this.Qo.syncEngine)];case 4:return o.sent(),[4,$a(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return Rx(this.persistence,new Nx,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new fV(r,n.asyncQueue)},t.prototype.qo=function(n){var r=rb(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new vV(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,jx(),Lf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new Vx},t}(Zx),wj=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return xe(t,e),t.prototype.initialize=function(n){return W(this,void 0,void 0,function(){var r,o=this;return H(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof Tm?(this.sharedClientState.syncEngine={ui:mj.bind(null,r),ai:bj.bind(null,r),hi:_j.bind(null,r),fn:yj.bind(null,r),ci:gj.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return W(o,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return[4,vj(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=jx();if(!Tm.yt(r))throw new Q(V.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=rb(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Tm(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(ek),xv=function(){function e(){}return e.prototype.initialize=function(t,n){return W(this,void 0,void 0,function(){var r=this;return H(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return hS(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=hj.bind(null,this.syncEngine),[4,Iv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new JV},e.prototype.createDatastore=function(t){var n,r=ad(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new FV(n));return function(s,u,l){return new UV(s,u,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return hS(l.syncEngine,f,0)},u=cS.yt()?new cS:new DV,new $V(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,l,f,d){var m=new rj(r,o,s,u,l,f);return d&&(m.$o=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return W(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return n=le(t),ie("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Ba(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ld=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),Ej=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return W(this,void 0,void 0,function(){var n,r=this;return H(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Q(V.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return W(this,void 0,void 0,function(){var l,f,d,m,h,g;return H(this,function(y){switch(y.label){case 0:return l=le(s),f=_l(l.R)+"/documents",d={documents:u.map(function(b){return bl(l.R,b)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return m=y.sent(),h=new Map,m.forEach(function(b){var w=function(S,T){return"found"in T?function(k,D){Re(!!D.found),D.found.name,D.found.updateTime;var L=pi(k,D.found.name),z=Dn(D.found.updateTime),j=new or({mapValue:{fields:D.found.fields}});return Sn.newFoundDocument(L,z,j)}(S,T):"missing"in T?function(k,D){Re(!!D.missing),Re(!!D.readTime);var L=pi(k,D.missing),z=Dn(D.readTime);return Sn.newNoDocument(L,z)}(S,T):we()}(l.R,b);h.set(w.key.toString(),w)}),g=[],[2,(u.forEach(function(b){var w=h.get(b.toString());Re(!!w),g.push(w)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Zl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return W(this,void 0,void 0,function(){var t,n=this;return H(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Se.fromPath(s);n.mutations.push(new Xy(u,n.precondition(u)))}),[4,function(o,s){return W(this,void 0,void 0,function(){var u,l,f;return H(this,function(d){switch(d.label){case 0:return u=le(o),l=_l(u.R)+"/documents",f={writes:s.map(function(m){return oh(u.R,m)})},[4,u.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw we();n=Xe.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new Q(V.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?wn.updateTime(n):wn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Xe.min()))throw new Q(V.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wn.updateTime(n)}return wn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),Sj=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new ob(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return W(t,void 0,void 0,function(){var n,r,o=this;return H(this,function(s){return n=new Ej(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!ys(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!ax(n)}return!1},e}(),Tj=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=sn.UNAUTHENTICATED,this.clientId=BA.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return W(o,void 0,void 0,function(){return H(this,function(u){switch(u.label){case 0:return ie("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return W(this,void 0,void 0,function(){return H(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Q(V.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new Xn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return W(t,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Ha(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(e,t){return W(this,void 0,void 0,function(){var n,r,o=this;return H(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return W(o,void 0,void 0,function(){return H(this,function(l){switch(l.label){case 0:return r.isEqual(u)?[3,2]:[4,Dx(t.localStore,u)];case 1:l.sent(),r=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function nk(e,t){return W(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,bb(e)];case 1:return n=o.sent(),ie("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return W(this,void 0,void 0,function(){var f,d;return H(this,function(m){switch(m.label){case 0:return(f=le(u)).asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials"),d=fo(f),f.Or.add(3),[4,Ba(f)];case 1:return m.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return m.sent(),f.Or.delete(3),[4,ec(f)];case 3:return m.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function bb(e){return W(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(ie("FirestoreClient","Using default OfflineComponentProvider"),[4,tk(e,new Zx)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function cd(e){return W(this,void 0,void 0,function(){return H(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(ie("FirestoreClient","Using default OnlineComponentProvider"),[4,nk(e,new xv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function pS(e){return bb(e).then(function(t){return t.persistence})}function rk(e){return bb(e).then(function(t){return t.localStore})}function gS(e){return cd(e).then(function(t){return t.remoteStore})}function ik(e){return cd(e).then(function(t){return t.syncEngine})}function Ca(e){return W(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return[4,cd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=ij.bind(null,t.syncEngine),n.onUnlisten=oj.bind(null,t.syncEngine),n)]}})})}function mS(e,t,n){var r=this;n===void 0&&(n={});var o=new Xn;return e.asyncQueue.enqueueAndForget(function(){return W(r,void 0,void 0,function(){var s;return H(this,function(u){switch(u.label){case 0:return s=function(l,f,d,m,h){var g=new ld({next:function(b){f.enqueueAndForget(function(){return cb(l,y)});var w=b.docs.has(d);!w&&b.fromCache?h.reject(new Q(V.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&m&&m.source==="server"?h.reject(new Q(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:function(b){return h.reject(b)}}),y=new hb(zl(d.path),g,{includeMetadataChanges:!0,so:!0});return lb(l,y)},[4,Ca(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function vS(e,t,n){var r=this;n===void 0&&(n={});var o=new Xn;return e.asyncQueue.enqueueAndForget(function(){return W(r,void 0,void 0,function(){var s;return H(this,function(u){switch(u.label){case 0:return s=function(l,f,d,m,h){var g=new ld({next:function(b){f.enqueueAndForget(function(){return cb(l,y)}),b.fromCache&&m.source==="server"?h.reject(new Q(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:function(b){return h.reject(b)}}),y=new hb(d,g,{includeMetadataChanges:!0,so:!0});return lb(l,y)},[4,Ca(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var Ij=function(e,t,n,r,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},hh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),yS=new Map,ok=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},bS=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(sn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Aj=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),xj=function(){function e(t){var n=this;this.currentUser=sn.UNAUTHENTICATED,this.oc=new Xn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){ie("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(ie("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(ie("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Re(typeof o.accessToken=="string"),new ok(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return W(r,void 0,void 0,function(){return H(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string"),new sn(t)},e}(),kj=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=sn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),Cj=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new kj(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(sn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(e,t,n){if(!n)throw new Q(V.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function wb(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Q(V.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function sk(e,t,n,r){if(t===!0&&r===!0)throw new Q(V.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function _S(e){if(!Se.isDocumentKey(e))throw new Q(V.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function wS(e){if(Se.isDocumentKey(e))throw new Q(V.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function fd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":we()}function at(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Q(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fd(e);throw new Q(V.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function ES(e,t){if(t<=0)throw new Q(V.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SS=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Q(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Q(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,sk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),El=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SS({}),this._settingsFrozen=!1,t instanceof hh?(this._databaseId=t,this._credentials=new bS):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Q(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hh(r.options.projectId)}(t),this._credentials=new xj(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SS(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new bS;switch(n.type){case"gapi":var r=n.client;return Re(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Cj(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Q(V.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=yS.get(t))&&(ie("ComponentProvider","Removing Datastore"),yS.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ot=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Zi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ur=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Zi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,zl(o))||this)._path=o,s.type="collection",s}return xe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ot(this.firestore,null,new Se(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(ur);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=dt(e),_b("collection","path",t),e instanceof El)return wS(n=st.fromString.apply(st,At([t],r))),new Zi(e,null,n);if(!(e instanceof Ot||e instanceof Zi))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wS(n=st.fromString.apply(st,At([e.path],r)).child(st.fromString(t))),new Zi(e.firestore,null,n)}function Mf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=dt(e),arguments.length===1&&(t=BA.u()),_b("doc","path",t),e instanceof El)return _S(n=st.fromString.apply(st,At([t],r))),new Ot(e,null,new Se(n));if(!(e instanceof Ot||e instanceof Zi))throw new Q(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return _S(n=e._path.child(st.fromString.apply(st,At([t],r)))),new Ot(e.firestore,e instanceof Zi?e.converter:null,new Se(n))}function uk(e,t){return e=dt(e),t=dt(t),(e instanceof Ot||e instanceof Zi)&&(t instanceof Ot||t instanceof Zi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function lk(e,t){return e=dt(e),t=dt(t),e instanceof ur&&t instanceof ur&&e.firestore===t.firestore&&Xl(e._query,t._query)&&e.converter===t.converter}var Oj=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ob(this,"async_queue_retry"),this.Ic=function(){var r=Lf();r&&ie("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=Lf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=Lf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new Xn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return W(this,void 0,void 0,function(){var t,n=this;return H(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!bs(t=r.sent()))throw t;return ie("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,qt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=YV.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&we()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return W(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Oa(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var Pj=-1,Qt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new Oj,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return xe(t,e),t.prototype._terminate=function(){return this._firestoreClient||ck(this),this._firestoreClient.terminate()},t}(El);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e){return e._firestoreClient||ck(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ck(e){var t,n=e._freezeSettings(),r=function(o,s,u,l){return new Ij(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Tj(e._credentials,e._queue,r)}function TS(e,t,n){var r=this,o=new Xn;return e.asyncQueue.enqueue(function(){return W(r,void 0,void 0,function(){var s;return H(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,tk(e,n)];case 1:return u.sent(),[4,nk(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===V.FAILED_PRECONDITION||l.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function IS(e){if(e._initialized||e._terminated)throw new Q(V.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new Q(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ds=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(zn.fromBase64String(t))}catch(n){throw new Q(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(zn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),ws=function(e){this._methodName=e},hd=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Q(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Q(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Ze(this._lat,t._lat)||Ze(this._long,t._long)},e}(),Nj=/^__.*__$/,Rj=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new co(t,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(t,this.data,n,this.fieldTransforms)},e}(),fk=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new co(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}var dk=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return dh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(hk(this.Nc)&&Nj.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),Dj=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||ad(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new dk({Nc:t,methodName:n,qc:r,path:Fr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function Es(e){var t=e._freezeSettings(),n=ad(e._databaseId);return new Dj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function dd(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);Ib("Data must be an object, but it was:",u,r);var l,f,d=mk(r,u);if(s.merge)l=new ma(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var m=[],h=0,g=s.mergeFields;h<g.length;h++){var y=kv(t,g[h],n);if(!u.contains(y))throw new Q(V.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");yk(m,y)||m.push(y)}l=new ma(m),f=u.fieldTransforms.filter(function(b){return l.covers(b.field)})}else l=null,f=u.fieldTransforms;return new Rj(new or(d),l,f)}var Eb=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return xe(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(ws);function pk(e,t,n){return new dk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Lj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return xe(t,e),t.prototype._toFieldTransform=function(n){return new Ql(n.path,new _a)},t.prototype.isEqual=function(n){return n instanceof t},t}(ws),Mj=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return xe(t,e),t.prototype._toFieldTransform=function(n){var r=pk(this,n,!0),o=this.Kc.map(function(u){return Ss(u,r)}),s=new fs(o);return new Ql(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ws),Fj=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return xe(t,e),t.prototype._toFieldTransform=function(n){var r=pk(this,n,!0),o=this.Kc.map(function(u){return Ss(u,r)}),s=new hs(o);return new Ql(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(ws),Vj=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return xe(t,e),t.prototype._toFieldTransform=function(n){var r=new wa(n.R,tx(n.R,this.Qc));return new Ql(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(ws);function Sb(e,t,n,r){var o=e.Uc(1,t,n);Ib("Data must be an object, but it was:",o,r);var s=[],u=or.empty();vs(r,function(f,d){var m=Ab(t,f,n);d=dt(d);var h=o.Oc(m);if(d instanceof Eb)s.push(m);else{var g=Ss(d,h);g!=null&&(s.push(m),u.set(m,g))}});var l=new ma(s);return new fk(u,l,o.fieldTransforms)}function Tb(e,t,n,r,o,s){var u=e.Uc(1,t,n),l=[kv(t,r,n)],f=[o];if(s.length%2!=0)throw new Q(V.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(kv(t,s[d])),f.push(s[d+1]);for(var m=[],h=or.empty(),g=l.length-1;g>=0;--g)if(!yk(m,l[g])){var y=l[g],b=f[g];b=dt(b);var w=u.Oc(y);if(b instanceof Eb)m.push(y);else{var S=Ss(b,w);S!=null&&(m.push(y),h.set(y,S))}}var T=new ma(m);return new fk(h,T,u.fieldTransforms)}function gk(e,t,n,r){return r===void 0&&(r=!1),Ss(n,e.Uc(r?4:3,t))}function Ss(e,t){if(vk(e=dt(e)))return Ib("Unsupported field value:",t,e),mk(e,t);if(e instanceof ws)return function(n,r){if(!hk(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var f=Ss(l[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=dt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tx(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Wn.fromDate(n);return{timestampValue:yl(r.R,o)}}if(n instanceof Wn)return o=new Wn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:yl(r.R,o)};if(n instanceof hd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ds)return{bytesValue:fx(r.R,n._byteString)};if(n instanceof Ot){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Jy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+fd(n))}(e,t)}function mk(e,t){var n={};return qA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vs(e,function(r,o){var s=Ss(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function vk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Wn||e instanceof hd||e instanceof ds||e instanceof Ot||e instanceof ws)}function Ib(e,t,n){if(!vk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=fd(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function kv(e,t,n){if((t=dt(t))instanceof Jr)return t._internalPath;if(typeof t=="string")return Ab(e,t);throw dh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var jj=new RegExp("[~\\*/\\[\\]]");function Ab(e,t,n){if(t.search(jj)>=0)throw dh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Jr.bind.apply(Jr,At([void 0],t.split("."))))()._internalPath}catch{throw dh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function dh(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new Q(V.INVALID_ARGUMENT,(l+=". ")+e+f)}function yk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sl=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ot(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new Uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(ph("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),Uj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Sl);function ph(e,t){return typeof t=="string"?Ab(e,t):t instanceof Jr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),mi=function(e){function t(n,r,o,s,u,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return xe(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new Xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(ph("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(Sl),Xu=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(mi),Ki=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new Xu(r._firestore,r._userDataWriter,o.key,o,new Xo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Q(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new Xu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Xu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Xo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,m=-1;return l.type!==0&&(d=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(m=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:Bj(l.type),doc:f,oldIndex:d,newIndex:m}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function Bj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}function bk(e,t){return e instanceof mi&&t instanceof mi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ki&&t instanceof Ki&&e._firestore===t._firestore&&lk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e){if(ih(e)&&e.explicitOrderBy.length===0)throw new Q(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tc=function(){};function Mi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var $j=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return xe(t,e),t.prototype._apply=function(n){var r=Es(n.firestore),o=function(s,u,l,f,d,m,h){var g;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Q(V.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){OS(h,m);for(var y=[],b=0,w=h;b<w.length;b++){var S=w[b];y.push(CS(f,s,S))}g={arrayValue:{values:y}}}else g=CS(f,s,h)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||OS(h,m),g=gk(l,"where",h,m==="in"||m==="not-in");var T=ar.create(d,m,g);return function(k,D){if(D.g()){var L=Gy(k);if(L!==null&&!L.isEqual(D.field))throw new Q(V.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+L.toString()+"' and '"+D.field.toString()+"'");var z=Wy(k);z!==null&&Ek(k,D.field,z)}var j=function(ae,M){for(var q=0,x=ae.filters;q<x.length;q++){var Ce=x[q];if(M.indexOf(Ce.op)>=0)return Ce.op}return null}(k,function(ae){switch(ae){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(j!==null)throw j===D.op?new Q(V.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+D.op.toString()+"' filter."):new Q(V.INVALID_ARGUMENT,"Invalid query. You cannot use '"+D.op.toString()+"' filters with '"+j.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ur(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new _i(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(tc),qj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return xe(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new Q(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Q(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new ua(s,u);return function(f,d){if(Wy(f)===null){var m=Gy(f);m!==null&&Ek(f,m,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new ur(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new _i(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(tc),AS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return xe(t,e),t.prototype._apply=function(n){return new ur(n.firestore,n.converter,YA(n._query,this.Hc,this.Jc))},t}(tc),xS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return xe(t,e),t.prototype._apply=function(n){var r=wk(n,this.type,this.Yc,this.Xc);return new ur(n.firestore,n.converter,function(o,s){return new _i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(tc),kS=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return xe(t,e),t.prototype._apply=function(n){var r=wk(n,this.type,this.Yc,this.Xc);return new ur(n.firestore,n.converter,function(o,s){return new _i(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(tc);function wk(e,t,n,r){if(n[0]=dt(n[0]),n[0]instanceof Sl)return function(s,u,l,f,d){if(!f)throw new Q(V.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var m=[],h=0,g=ba(s);h<g.length;h++){var y=g[h];if(y.field.isKeyField())m.push(th(u,f.key));else{var b=f.data.field(y.field);if(qy(b))throw new Q(V.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var w=y.field.canonicalString();throw new Q(V.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+w+"' (used as the orderBy) does not exist.")}m.push(b)}}return new vl(m,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=Es(e.firestore);return function(s,u,l,f,d,m){var h=s.explicitOrderBy;if(d.length>h.length)throw new Q(V.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<d.length;y++){var b=d[y];if(h[y].field.isKeyField()){if(typeof b!="string")throw new Q(V.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof b);if(!zy(s)&&b.indexOf("/")!==-1)throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+b+"' contains a slash.");var w=s.path.child(st.fromString(b));if(!Se.isDocumentKey(w))throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+w+"' is not because it contains an odd number of segments.");var S=new Se(w);g.push(th(u,S))}else{var T=gk(l,f,b);g.push(T)}}return new vl(g,m)}(e._query,e.firestore._databaseId,o,t,n,r)}function CS(e,t,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!zy(t)&&n.indexOf("/")!==-1)throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(st.fromString(n));if(!Se.isDocumentKey(r))throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return th(e,new Se(r))}if(n instanceof Ot)return th(e,n._key);throw new Q(V.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+fd(n)+".")}function OS(e,t){if(!Array.isArray(e)||e.length===0)throw new Q(V.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Q(V.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Ek(e,t,n){if(!n.isEqual(t))throw new Q(V.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xb=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),cs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $t(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(va(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw we()}},e.prototype.convertObject=function(t,n){var r=this,o={};return vs(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new hd($t(t.latitude),$t(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=KA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gl(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=io(t);return new Wn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=st.fromString(t);Re(bx(r));var o=new hh(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return o.isEqual(n)||qt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Hj=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return xe(t,e),t.prototype.convertBytes=function(n){return new ds(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ot(this.firestore,null,r)},t}(xb),Kj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Es(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=Wi(t,this._firestore),s=pd(o.converter,n,r),u=dd(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,wn.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=Wi(t,this._firestore);return u=typeof(n=dt(n))=="string"||n instanceof Jr?Tb(this._dataReader,"WriteBatch.update",l._key,n,r,o):Sb(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,wn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Wi(t,this._firestore);return this._mutations=this._mutations.concat(new Zl(n._key,wn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Q(V.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(e,t){if((e=dt(e)).firestore!==t)throw new Q(V.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var es=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return xe(t,e),t.prototype.convertBytes=function(n){return new ds(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ot(this.firestore,null,r)},t}(xb);function PS(e,t,n){e=at(e,Ot);var r=at(e.firestore,Qt),o=pd(e.converter,t,n);return nc(r,[dd(Es(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,wn.none())])}function NS(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=at(e,Ot);var s=at(e.firestore,Qt),u=Es(s);return nc(s,[(typeof(t=dt(t))=="string"||t instanceof Jr?Tb(u,"updateDoc",e._key,t,n,r):Sb(u,"updateDoc",e._key,t)).toMutation(e._key,wn.exists(!0))])}function Sk(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=dt(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Oa(o[l])||(u=o[l],l++);var f,d,m,h={includeMetadataChanges:u.includeMetadataChanges};if(Oa(o[l])){var g=o[l];o[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),o[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),o[l+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof Ot)d=at(e.firestore,Qt),m=zl(e._key.path),f={next:function(w){o[l]&&o[l](Cv(d,e,w))},error:o[l+1],complete:o[l+2]};else{var y=at(e,ur);d=at(y.firestore,Qt),m=y._query;var b=new es(d);f={next:function(w){o[l]&&o[l](new Ki(d,b,y,w))},error:o[l+1],complete:o[l+2]},_k(e._query)}return function(w,S,T,k){var D=this,L=new ld(k),z=new hb(S,L,T);return w.asyncQueue.enqueueAndForget(function(){return W(D,void 0,void 0,function(){var j;return H(this,function(ae){switch(ae.label){case 0:return j=lb,[4,Ca(w)];case 1:return[2,j.apply(void 0,[ae.sent(),z])]}})})}),function(){L.Wo(),w.asyncQueue.enqueueAndForget(function(){return W(D,void 0,void 0,function(){var j;return H(this,function(ae){switch(ae.label){case 0:return j=cb,[4,Ca(w)];case 1:return[2,j.apply(void 0,[ae.sent(),z])]}})})})}}(bn(d),m,h,f)}function nc(e,t){return function(n,r){var o=this,s=new Xn;return n.asyncQueue.enqueueAndForget(function(){return W(o,void 0,void 0,function(){var u;return H(this,function(l){switch(l.label){case 0:return u=sj,[4,ik(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(bn(e),t)}function Cv(e,t,n){var r=n.docs.get(t._key),o=new es(e);return new mi(e,o,t._key,r,new Xo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wj=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return xe(t,e),t.prototype.get=function(n){var r=this,o=Wi(n,this._firestore),s=new es(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new mi(r._firestore,s,o._key,u._document,new Xo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=Es(t)}return e.prototype.get=function(t){var n=this,r=Wi(t,this._firestore),o=new Hj(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return we();var u=s[0];if(u.isFoundDocument())return new Sl(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new Sl(n._firestore,o,r._key,null,r.converter);throw we()})},e.prototype.set=function(t,n,r){var o=Wi(t,this._firestore),s=pd(o.converter,n,r),u=dd(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=Wi(t,this._firestore);return u=typeof(n=dt(n))=="string"||n instanceof Jr?Tb(this._dataReader,"Transaction.update",l._key,n,r,o):Sb(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=Wi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(){if(typeof Uint8Array>"u")throw new Q(V.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function DS(){if(typeof atob>"u")throw new Q(V.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Tk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return DS(),new e(ds.fromBase64String(t))},e.fromUint8Array=function(t){return RS(),new e(ds.fromUint8Array(t))},e.prototype.toBase64=function(){return DS(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return RS(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),Gj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){IS(r=at(r,Qt));var s=bn(r),u=r._freezeSettings(),l=new xv;return TS(s,l,new ek(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){IS(n=at(n,Qt));var r=bn(n),o=n._freezeSettings(),s=new xv;return TS(r,s,new wj(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Q(V.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Xn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return W(r,void 0,void 0,function(){var s;return H(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return W(this,void 0,void 0,function(){var f;return H(this,function(d){switch(d.label){case 0:return Ta.yt()?(f=l+"main",[4,Ta.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(rb(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Ik=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof hh||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Zf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,l){var f;l===void 0&&(l={});var d=(o=at(o,El))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Zf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+u,ssl:!1})),l.mockUserToken){var m,h;if(typeof l.mockUserToken=="string")m=l.mockUserToken,h=sn.MOCK_USER;else{m=NI(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var g=l.mockUserToken.sub||l.mockUserToken.user_id;if(!g)throw new Q(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new sn(g)}o._credentials=new Aj(new ok(m,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return W(n,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return[4,pS(t)];case 1:return r=s.sent(),[4,gS(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var l=le(u);return l.Or.delete(0),ec(l)}(o))]}})})})}(bn(at(this._delegate,Qt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return W(n,void 0,void 0,function(){var r,o;return H(this,function(s){switch(s.label){case 0:return[4,pS(t)];case 1:return r=s.sent(),[4,gS(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return W(this,void 0,void 0,function(){var l;return H(this,function(f){switch(f.label){case 0:return(l=le(u)).Or.add(0),[4,Ba(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(bn(at(this._delegate,Qt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&sk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new Xn;return t.asyncQueue.enqueueAndForget(function(){return W(n,void 0,void 0,function(){var o;return H(this,function(s){switch(s.label){case 0:return o=cj,[4,ik(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(bn(at(this._delegate,Qt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,l=new ld(s);return o.asyncQueue.enqueueAndForget(function(){return W(u,void 0,void 0,function(){var f;return H(this,function(d){switch(d.label){case 0:return f=function(m,h){le(m).Gr.add(h),h.next()},[4,Ca(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return W(u,void 0,void 0,function(){var f;return H(this,function(d){switch(d.label){case 0:return f=function(m,h){le(m).Gr.delete(h)},[4,Ca(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(bn(n=at(n,Qt)),Oa(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Q(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gh(this,ak(this._delegate,t))}catch(n){throw Cn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new ts(this,Mf(this._delegate,t))}catch(n){throw Cn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new vd(this,function(n,r){if(n=at(n,El),_b("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Q(V.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ur(n,null,function(o){return new _i(st.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw Cn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var l=this,f=new Xn;return s.asyncQueue.enqueueAndForget(function(){return W(l,void 0,void 0,function(){var d;return H(this,function(m){switch(m.label){case 0:return[4,function(h){return cd(h).then(function(g){return g.datastore})}(s)];case 1:return d=m.sent(),new Sj(s.asyncQueue,d,u,f).run(),[2]}})})}),f.promise}(bn(r),function(s){return o(new Wj(r,s))})}(this._delegate,function(r){return t(new Ak(n,r))})},e.prototype.batch=function(){var t=this;return bn(this._delegate),new xk(new Kj(this._delegate,function(n){return nc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new Q(V.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Q(V.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),gd=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return xe(t,e),t.prototype.convertBytes=function(n){return new Tk(new ds(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return ts.eu(r,this.firestore,null)},t}(xb);function zj(e){var t;t=e,Dr.setLogLevel(t)}var Ak=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new gd(t)}return e.prototype.get=function(t){var n=this,r=Yo(t);return this._delegate.get(r).then(function(o){return new Tl(n._firestore,new mi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=Yo(t);return r?(wb("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Yo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,At([l,n,r],s)),this},e.prototype.delete=function(t){var n=Yo(t);return this._delegate.delete(n),this},e}(),xk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=Yo(t);return r?(wb("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Yo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,At([l,n,r],s)),this},e.prototype.delete=function(t){var n=Yo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),md=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new Xu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Il(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new gd(t),n),o.set(n,s)),s},e}();md.su=new WeakMap;var ts=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new gd(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Q(V.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ot(n._delegate,r,new Se(t)))},e.eu=function(t,n,r){return new e(n,new Ot(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new gh(this.firestore,ak(this._delegate,t))}catch(n){throw Cn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=dt(t))instanceof Ot&&uk(this._delegate,t)},e.prototype.set=function(t,n){n=wb("DocumentReference.set",n);try{return n?PS(this._delegate,t,n):PS(this._delegate,t)}catch(r){throw Cn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?NS(this._delegate,t):NS.apply(void 0,At([this._delegate,t,n],r))}catch(s){throw Cn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return nc(at((t=this._delegate).firestore,Qt),[new Zl(t._key,wn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=kk(n),s=Ck(n,function(u){return new Tl(t.firestore,new mi(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return Sk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=at(r,Ot);var o=at(r.firestore,Qt),s=bn(o),u=new es(o);return function(l,f){var d=this,m=new Xn;return l.asyncQueue.enqueueAndForget(function(){return W(d,void 0,void 0,function(){var h;return H(this,function(g){switch(g.label){case 0:return h=function(y,b,w){return W(this,void 0,void 0,function(){var S,T;return H(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,function(D,L){var z=le(D);return z.persistence.runTransaction("read document","readonly",function(j){return z.Mn.mn(j,L)})}(y,b)];case 1:return(T=k.sent()).isFoundDocument()?w.resolve(T):T.isNoDocument()?w.resolve(null):w.reject(new Q(V.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return S=k.sent(),T=Ha(S,"Failed to get document '"+b+" from cache"),w.reject(T),[3,3];case 3:return[2]}})})},[4,rk(l)];case 1:return[2,h.apply(void 0,[g.sent(),f,m])]}})})}),m.promise}(s,r._key).then(function(l){return new mi(o,u,r._key,l,new Xo(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=at(r,Ot);var o=at(r.firestore,Qt);return mS(bn(o),r._key,{source:"server"}).then(function(s){return Cv(o,r,s)})}(this._delegate):function(r){r=at(r,Ot);var o=at(r.firestore,Qt);return mS(bn(o),r._key).then(function(s){return Cv(o,r,s)})}(this._delegate)).then(function(r){return new Tl(n.firestore,new mi(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(md.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Cn(e,t,n){return e.message=e.message.replace(t,n),e}function kk(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Oa(r))return r}return{}}function Ck(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Oa(e[0])?e[0]:Oa(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var Tl=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new ts(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return bk(this._delegate,t._delegate)},e}(),Il=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return xe(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(Tl),vd=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new gd(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Mi(this._delegate,function(o,s,u){var l=s,f=ph("where",o);return new $j(f,l,u)}(t,n,r)))}catch(o){throw Cn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Mi(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=ph("orderBy",r);return new qj(u,s)}(t,n)))}catch(r){throw Cn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Mi(this._delegate,function(n){return ES("limit",n),new AS("limit",n,"F")}(t)))}catch(n){throw Cn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Mi(this._delegate,function(n){return ES("limitToLast",n),new AS("limitToLast",n,"L")}(t)))}catch(n){throw Cn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new xS("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw Cn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new xS("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw Cn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new kS("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw Cn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Mi(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new kS("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw Cn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return lk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=at(r,ur);var o=at(r.firestore,Qt),s=bn(o),u=new es(o);return function(l,f){var d=this,m=new Xn;return l.asyncQueue.enqueueAndForget(function(){return W(d,void 0,void 0,function(){var h;return H(this,function(g){switch(g.label){case 0:return h=function(y,b,w){return W(this,void 0,void 0,function(){var S,T,k,D,L;return H(this,function(z){switch(z.label){case 0:return z.trys.push([0,2,,3]),[4,lh(y,b,!0)];case 1:return L=z.sent(),S=new Xx(b,L.Bn),T=S._o(L.documents),k=S.applyChanges(T,!1),w.resolve(k.snapshot),[3,3];case 2:return D=z.sent(),L=Ha(D,"Failed to execute query '"+b+" against cache"),w.reject(L),[3,3];case 3:return[2]}})})},[4,rk(l)];case 1:return[2,h.apply(void 0,[g.sent(),f,m])]}})})}),m.promise}(s,r._query).then(function(l){return new Ki(o,u,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=at(r,ur);var o=at(r.firestore,Qt),s=bn(o),u=new es(o);return vS(s,r._query,{source:"server"}).then(function(l){return new Ki(o,u,r,l)})}(this._delegate):function(r){r=at(r,ur);var o=at(r.firestore,Qt),s=bn(o),u=new es(o);return _k(r._query),vS(s,r._query).then(function(l){return new Ki(o,u,r,l)})}(this._delegate)).then(function(r){return new Ov(n.firestore,new Ki(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=kk(n),s=Ck(n,function(u){return new Ov(t.firestore,new Ki(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return Sk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(md.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Xj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Il(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Ov=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new vd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new Il(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new Xj(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new Il(r._firestore,o))})},e.prototype.isEqual=function(t){return bk(this._delegate,t._delegate)},e}(),gh=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return xe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new ts(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new ts(this.firestore,n===void 0?Mf(this._delegate):Mf(this._delegate,n))}catch(r){throw Cn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=at(o.firestore,Qt),l=Mf(o),f=pd(o.converter,s);return nc(u,[dd(Es(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,wn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new ts(r.firestore,o)})},t.prototype.isEqual=function(n){return uk(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(md.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(vd);function Yo(e){return at(e,Ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Jr.bind.apply(Jr,At([void 0],t)))}return e.documentId=function(){return new e(Fr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=dt(t))instanceof Jr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),Qj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new Lj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Eb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new Mj("arrayUnion",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new Fj("arrayRemove",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new Vj("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),Jj={Firestore:Ik,GeoPoint:hd,Timestamp:Wn,Blob:Tk,Transaction:Ak,WriteBatch:xk,DocumentReference:ts,DocumentSnapshot:Tl,Query:vd,QueryDocumentSnapshot:Il,QuerySnapshot:Ov,CollectionReference:gh,FieldPath:Yj,FieldValue:Qj,setLogLevel:zj,CACHE_SIZE_UNLIMITED:Pj};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(e){(function(t,n){t.INTERNAL.registerComponent(new Fl("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Jj)))})(e,function(t,n){return new Ik(t,new Qt(t,n),new Gj)}),e.registerVersion("@firebase/firestore","2.4.1")}Zj(Oe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ok="firebasestorage.googleapis.com",Pk="storageBucket",eU=2*60*1e3,tU=10*60*1e3,Wt=function(e){xe(t,e);function t(n,r){var o=e.call(this,Im(n),"Firebase Storage: "+r+" ("+Im(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Im(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(DI);function Im(e){return"storage/"+e}function kb(){var e="An unknown error occurred, please check the error payload for server response.";return new Wt("unknown",e)}function nU(e){return new Wt("object-not-found","Object '"+e+"' does not exist.")}function rU(e){return new Wt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function iU(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Wt("unauthenticated",e)}function oU(){return new Wt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function sU(e){return new Wt("unauthorized","User does not have permission to access '"+e+"'.")}function aU(){return new Wt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Nk(){return new Wt("canceled","User canceled the upload/download.")}function uU(e){return new Wt("invalid-url","Invalid URL '"+e+"'.")}function lU(e){return new Wt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function cU(){return new Wt("no-default-bucket","No default bucket found. Did you set the '"+Pk+"' property when initializing the app?")}function Rk(){return new Wt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function fU(){return new Wt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function hU(){return new Wt("no-download-url","The given file does not have any download URLs.")}function la(e){return new Wt("invalid-argument",e)}function Dk(){return new Wt("app-deleted","The Firebase app was deleted.")}function Lk(e){return new Wt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yu(e,t){return new Wt("invalid-format","String does not match format '"+e+"': "+t)}function wf(e){throw new Wt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Am=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Mk(e,t){switch(e){case yr.RAW:return new Am(Fk(t));case yr.BASE64:case yr.BASE64URL:return new Am(Vk(e,t));case yr.DATA_URL:return new Am(gU(t),mU(t))}throw kb()}function Fk(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function pU(e){var t;try{t=decodeURIComponent(e)}catch{throw Yu(yr.DATA_URL,"Malformed data URL.")}return Fk(t)}function Vk(e,t){switch(e){case yr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw Yu(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case yr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw Yu(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=dU(t)}catch{throw Yu(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var jk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Yu(yr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=vU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function gU(e){var t=new jk(e);return t.base64?Vk(yr.BASE64,t.rest):pU(t.rest)}function mU(e){var t=new jk(e);return t.contentType}function vU(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yU={STATE_CHANGED:"state_changed"},On={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xm(e){switch(e){case"running":case"pausing":case"canceling":return On.RUNNING;case"paused":return On.PAUSED;case"success":return On.SUCCESS;case"canceled":return On.CANCELED;case"error":return On.ERROR;default:return On.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ns;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(ns||(ns={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bU=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ns.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=ns.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=ns.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw wf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw wf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw wf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw wf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function _U(){return new bU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wU=function(){function e(){}return e.prototype.createConnection=function(){return _U()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var br=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw lU(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}var u="(/(.*))?$",l=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function d(q){q.path_=decodeURIComponent(q.path)}for(var m="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+m+"/b/"+o+"/o"+g,"i"),b={bucket:1,path:3},w=n===Ok?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",T=new RegExp("^https?://"+w+"/"+o+"/"+S,"i"),k={bucket:1,path:2},D=[{regex:l,indices:f,postModify:s},{regex:y,indices:b,postModify:d},{regex:T,indices:k,postModify:d}],L=0;L<D.length;L++){var z=D[L],j=z.regex.exec(t);if(j){var ae=j[z.indices.bucket],M=j[z.indices.path];M||(M=""),r=new e(ae,M),z.postModify(r);break}}if(r==null)throw uU(t);return r},e}(),EU=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(e,t,n){var r=1,o=null,s=!1,u=0;function l(){return u===2}var f=!1;function d(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];f||(f=!0,t.apply(null,b))}function m(b){o=setTimeout(function(){o=null,e(h,l())},b)}function h(b){for(var w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];if(!f){if(b){d.call.apply(d,At([null,b],w));return}var T=l()||s;if(T){d.call.apply(d,At([null,b],w));return}r<64&&(r*=2);var k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,m(k)}}var g=!1;function y(b){g||(g=!0,!f&&(o!==null?(b||(u=2),clearTimeout(o),m(0)):b||(u=1)))}return m(0),setTimeout(function(){s=!0,y(!0)},n),y}function TU(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IU(e){return e!==void 0}function AU(e){return typeof e=="function"}function xU(e){return typeof e=="object"&&!Array.isArray(e)}function yd(e){return typeof e=="string"||e instanceof String}function LS(e){return Cb()&&e instanceof Blob}function Cb(){return typeof Blob<"u"}function Pv(e,t,n,r){if(r<t)throw la("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw la("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function Uk(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kU=function(){function e(t,n,r,o,s,u,l,f,d,m,h){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=m,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(y,b){g.resolve_=y,g.reject_=b,g.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new Ef(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function l(f){var d=f.loaded,m=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,m)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(l),t.pendingConnection_=null;var f=u.getErrorCode()===ns.NO_ERROR,d=u.getStatus();if(!f||t.isRetryStatusCode_(d)){var m=u.getErrorCode()===ns.ABORT;o(!1,new Ef(!1,null,m));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new Ef(h,u))})}function r(o,s){var u=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());IU(d)?u(d):u()}catch(h){l(h)}else if(f!==null){var m=kb();m.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,m)):l(m)}else if(s.canceled){var m=t.appDelete_?Dk():Nk();l(m)}else{var m=aU();l(m)}}this.canceled_?r(!1,new Ef(!1,null,!0)):this.backoffId_=SU(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&TU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),Ef=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function CU(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function OU(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function PU(e,t){t&&(e["X-Firebase-GMPID"]=t)}function NU(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function RU(e,t,n,r,o,s){var u=Uk(e.urlParams),l=e.url+u,f=Object.assign({},e.headers);return PU(f,t),CU(f,n),OU(f,s),NU(f,r),new kU(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=DU();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(Cb())return new Blob(e);throw new Wt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function MU(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ob=function(){function e(t,n){var r=0,o="";LS(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(LS(this.data_)){var r=this.data_,o=MU(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Cb()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(LU.apply(null,r))}else{var o=t.map(function(f){return yd(f)?Mk(yr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)u[l++]=f[d]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(e){var t;try{t=JSON.parse(e)}catch{return null}return xU(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function VU(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function Bk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jU(e,t){return t}var xn=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||jU}return e}(),Sf=null;function UU(e){return!yd(e)||e.length<2?e:Bk(e)}function bd(){if(Sf)return Sf;var e=[];e.push(new xn("bucket")),e.push(new xn("generation")),e.push(new xn("metageneration")),e.push(new xn("name","fullPath",!0));function t(s,u){return UU(u)}var n=new xn("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new xn("size");return o.xform=r,e.push(o),e.push(new xn("timeCreated")),e.push(new xn("updated")),e.push(new xn("md5Hash",null,!0)),e.push(new xn("cacheControl",null,!0)),e.push(new xn("contentDisposition",null,!0)),e.push(new xn("contentEncoding",null,!0)),e.push(new xn("contentLanguage",null,!0)),e.push(new xn("contentType",null,!0)),e.push(new xn("metadata","customMetadata",!0)),Sf=e,Sf}function BU(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new br(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function $U(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return BU(r,e),r}function $k(e,t,n){var r=Pb(t);if(r===null)return null;var o=r;return $U(e,o,n)}function qU(e,t,n){var r=Pb(t);if(r===null||!yd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),l=u.map(function(f){var d=e.bucket,m=e.fullPath,h="/b/"+s(d)+"/o/"+s(m),g=po(h,n),y=Uk({alt:"media",token:f});return g+y});return l[0]}function Nb(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MS="prefixes",FS="items";function HU(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[MS])for(var o=0,s=n[MS];o<s.length;o++){var u=s[o],l=u.replace(/\/$/,""),f=e._makeStorageReference(new br(t,l));r.prefixes.push(f)}if(n[FS])for(var d=0,m=n[FS];d<m.length;d++){var h=m[d],f=e._makeStorageReference(new br(t,h.name));r.items.push(f)}return r}function KU(e,t,n){var r=Pb(n);if(r===null)return null;var o=r;return HU(e,t,o)}var wi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(e){if(!e)throw kb()}function _d(e,t){function n(r,o){var s=$k(e,o,t);return Zr(s!==null),s}return n}function WU(e,t){function n(r,o){var s=KU(e,t,o);return Zr(s!==null),s}return n}function GU(e,t){function n(r,o){var s=$k(e,o,t);return Zr(s!==null),qU(s,o,e.host)}return n}function Ka(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=oU():o=iU():n.getStatus()===402?o=rU(e.bucket):n.getStatus()===403?o=sU(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function wd(e){var t=Ka(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=nU(e.path)),s.serverResponse=o.serverResponse,s}return n}function qk(e,t,n){var r=t.fullServerUrl(),o=po(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new wi(o,s,_d(e,n),u);return l.errorHandler=wd(t),l}function zU(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),l=po(u,e.host),f="GET",d=e.maxOperationRetryTime,m=new wi(l,f,WU(e,t.bucket),d);return m.urlParams=s,m.errorHandler=Ka(t),m}function XU(e,t,n){var r=t.fullServerUrl(),o=po(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new wi(o,s,GU(e,n),u);return l.errorHandler=wd(t),l}function YU(e,t,n,r){var o=t.fullServerUrl(),s=po(o,e.host),u="PATCH",l=Nb(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,m=new wi(s,u,_d(e,r),d);return m.headers=f,m.body=l,m.errorHandler=wd(t),m}function QU(e,t){var n=t.fullServerUrl(),r=po(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,d){}var l=new wi(r,o,u,s);return l.successCodes=[200,204],l.errorHandler=wd(t),l}function JU(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Hk(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=JU(null,t)),r}function ZU(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var D="",L=0;L<2;L++)D=D+Math.random().toString().slice(2);return D}var f=l();u["Content-Type"]="multipart/related; boundary="+f;var d=Hk(t,r,o),m=Nb(d,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+f+"--",y=Ob.getBlob(h,r,g);if(y===null)throw Rk();var b={name:d.fullPath},w=po(s,e.host),S="POST",T=e.maxUploadRetryTime,k=new wi(w,S,_d(e,n),T);return k.urlParams=b,k.headers=u,k.body=y.uploadData(),k.errorHandler=Ka(t),k}var mh=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function Rb(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Zr(!1)}var r=t||["active"];return Zr(!!n&&r.indexOf(n)!==-1),n}function eB(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=Hk(t,r,o),l={name:u.fullPath},f=po(s,e.host),d="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=Nb(u,n),g=e.maxUploadRetryTime;function y(w){Rb(w);var S;try{S=w.getResponseHeader("X-Goog-Upload-URL")}catch{Zr(!1)}return Zr(yd(S)),S}var b=new wi(f,d,y,g);return b.urlParams=l,b.headers=m,b.body=h,b.errorHandler=Ka(t),b}function tB(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var m=Rb(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zr(!1)}h||Zr(!1);var g=Number(h);return Zr(!isNaN(g)),new mh(g,r.size(),m==="final")}var u="POST",l=e.maxUploadRetryTime,f=new wi(n,u,s,l);return f.headers=o,f.errorHandler=Ka(t),f}var VS=256*1024;function nB(e,t,n,r,o,s,u,l){var f=new mh(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw fU();var d=f.total-f.current,m=d;o>0&&(m=Math.min(m,o));var h=f.current,g=h+m,y=m===d?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},w=r.slice(h,g);if(w===null)throw Rk();function S(L,z){var j=Rb(L,["active","final"]),ae=f.current+m,M=r.size(),q;return j==="final"?q=_d(t,s)(L,z):q=null,new mh(ae,M,j==="final",q)}var T="POST",k=t.maxUploadRetryTime,D=new wi(n,T,S,k);return D.headers=b,D.body=w.uploadData(),D.progressCallback=l||null,D.errorHandler=Ka(e),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rB=function(){function e(t,n,r){var o=AU(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kk=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=bd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=eB(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=tB(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=VS*this._chunkMultiplier,r=new mh(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var l;try{l=nB(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,u);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=VS*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=qk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=ZU(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Nk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=xm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new rB(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(xm(this._state)){case On.SUCCESS:Qs(this._resolve.bind(null,this.snapshot))();break;case On.CANCELED:case On.ERROR:var n=this._reject;Qs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=xm(this._state);switch(n){case On.RUNNING:case On.PAUSED:t.next&&Qs(t.next.bind(t,this.snapshot))();break;case On.SUCCESS:t.complete&&Qs(t.complete.bind(t))();break;case On.CANCELED:case On.ERROR:t.error&&Qs(t.error.bind(t,this._error))();break;default:t.error&&Qs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ed=function(){function e(t,n){this._service=t,n instanceof br?this._location=n:this._location=br.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new br(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Bk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=FU(this._location.path);if(t===null)return null;var n=new br(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Lk(t)},e}();function iB(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Kk(e,new Ob(t),n)}function oB(e){var t={prefixes:[],items:[]};return Wk(e,t).then(function(){return t})}function Wk(e,t,n){return W(this,void 0,void 0,function(){var r,o,s,u;return H(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,Gk(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,Wk(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Gk(e,t){return W(this,void 0,void 0,function(){var n,r;return H(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Pv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=zU(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function sB(e){return W(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=qk(e.storage,e._location,bd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function aB(e,t){return W(this,void 0,void 0,function(){var n;return H(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=YU(e.storage,e._location,t,bd()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function uB(e){return W(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=XU(e.storage,e._location,bd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw hU();return r})]}})})}function lB(e){return W(this,void 0,void 0,function(){var t;return H(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=QU(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function zk(e,t){var n=VU(e._location.path,t),r=new br(e._location.bucket,n);return new Ed(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(e){return/^[A-Za-z]+:\/\//.test(e)}function cB(e,t){return new Ed(e,t)}function Xk(e,t){if(e instanceof Sd){var n=e;if(n._bucket==null)throw cU();var r=new Ed(n,n._bucket);return t!=null?Xk(r,t):r}else return t!==void 0?zk(e,t):e}function fB(e,t){if(t&&Nv(t)){if(e instanceof Sd)return cB(e,t);throw la("To use ref(service, url), the first argument must be a Storage instance.")}else return Xk(e,t)}function jS(e,t){var n=t==null?void 0:t[Pk];return n==null?null:br.makeFromBucketSpec(n,e)}function hB(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:NI(o,e.app.options.projectId))}var Sd=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=Ok,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=eU,this._maxUploadRetryTime=tU,this._requests=new Set,s!=null?this._bucket=br.makeFromBucketSpec(s,this._host):this._bucket=jS(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=br.makeFromBucketSpec(this._url,t):this._bucket=jS(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Pv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Pv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return W(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return W(this,void 0,void 0,function(){var t,n;return H(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Ed(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new EU(Dk());var s=RU(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return W(this,void 0,void 0,function(){var n,r,o;return H(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(e,t,n){return e=dt(e),iB(e,t,n)}function pB(e){return e=dt(e),sB(e)}function gB(e,t){return e=dt(e),aB(e,t)}function mB(e,t){return e=dt(e),Gk(e,t)}function vB(e){return e=dt(e),oB(e)}function yB(e){return e=dt(e),uB(e)}function bB(e){return e=dt(e),lB(e)}function US(e,t){return e=dt(e),fB(e,t)}function _B(e,t){return zk(e,t)}function wB(e,t,n,r){r===void 0&&(r={}),hB(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BS=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new Tf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new Tf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new Tf(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new Tf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),$S=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new Al(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new Al(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Al=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=_B(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new BS(dB(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=yr.RAW),this._throwIfRoot("putString");var o=Mk(n,t),s=ha({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new BS(new Kk(this._delegate,new Ob(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return vB(this._delegate).then(function(n){return new $S(n,t.storage)})},e.prototype.list=function(t){var n=this;return mB(this._delegate,t||void 0).then(function(r){return new $S(r,n.storage)})},e.prototype.getMetadata=function(){return pB(this._delegate)},e.prototype.updateMetadata=function(t){return gB(this._delegate,t)},e.prototype.getDownloadURL=function(){return yB(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),bB(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Lk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EB=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Nv(t))throw la("ref() expected a child path but got a URL, use refFromURL instead.");return new Al(US(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Nv(t))throw la("refFromURL() expected a full URL but got a child path, use ref() instead.");try{br.makeFromUrl(t,this._delegate.host)}catch{throw la("refFromUrl() expected a valid full URL but got an invalid one.")}return new Al(US(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),wB(this._delegate,t,n,r)},e}(),SB="@firebase/storage",TB="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IB="storage";function AB(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new EB(r,new Sd(r,o,s,new wU,n,Oe.SDK_VERSION));return u}function xB(e){var t={TaskState:On,TaskEvent:yU,StringFormat:yr,Storage:Sd,Reference:Al};e.INTERNAL.registerComponent(new Fl(IB,AB,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(SB,TB)}xB(Oe);const kB={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};Oe.initializeApp(kB);const vr=Oe.auth(),Db=Oe.firestore(),Yk=Oe.storage(),CB=Db.collection("users"),ei=Db.collection("songs"),qS=Db.collection("comments"),so=py("user",{state:()=>({userLoggedIn:!1,username:"Stranger"}),actions:{async register(e){const t=await vr.createUserWithEmailAndPassword(e.email,e.password),n={name:e.name,email:e.email,birthdate:e.birthdate,country:e.country,phone:e.phone};Object.keys(n).forEach(r=>{n[r]??delete n[r]}),await CB.doc(t.user.uid).set({userData:n}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0,this.username=vr.currentUser.displayName},async authenticate(e){await vr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0,this.username=vr.currentUser.displayName},async signOut(){await vr.signOut(),this.userLoggedIn=!1,this.username="Stranger",this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}}),Mn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},OB={name:"AppHeader",computed:{...$h(tv,["isOpen"]),...ss(so,["userLoggedIn"])},methods:{...gs(so,["signOut"]),toggleAuthModal(){this.isOpen=!this.isOpen}}},PB={id:"header",class:"fixed top-0 left-0 z-50 w-full bg-black font-circular-black font-semibold"},NB={class:"flex items-center justify-between py-5 px-10"},RB={class:"flex gap-2 items-center text-white text-base"},DB={class:"md:hover:scale-105"},LB=O("i",{class:"fa-regular fa-circle-question"},null,-1),MB=O("span",{class:"hidden md:block"},"About",-1),FB={class:"md:hover:scale-105"},VB=O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),jB=O("span",{class:""},"Manage",-1),UB={class:"md:hover:scale-105"},BB=O("i",{class:"fa-regular fa-user"},null,-1),$B=O("span",{class:"hidden md:block"},"Login/Register",-1),qB=[BB,$B],HB=O("i",{class:"fa-regular fa-user"},null,-1),KB=O("span",{class:"hidden md:block"},"Logout",-1),WB=[HB,KB],GB=O("div",null,null,-1),zB=O("li",{class:"md:hover:scale-105"},[O("a",{class:"flex items-center gap-1",href:"https://www.spotify.com/es/download/",target:"_blank"},[O("i",{class:"fa-regular fa-circle-down"}),O("span",null,"Install app")])],-1);function XB(e,t,n,r,o,s){const u=ct("RouterLink");return Ue(),Qe("header",PB,[O("nav",NB,[ye(u,{class:"text-[#1ed760] font-circular-thin text-2xl justify-center hover:scale-105",to:{name:"home"},"exact-active-class":"no-active"},{default:nn(()=>[un(" Musicfy ")]),_:1}),O("ul",RB,[O("li",DB,[ye(u,{class:"flex items-center gap-1",to:{name:"about"}},{default:nn(()=>[LB,MB]),_:1})]),no(O("li",FB,[ye(u,{class:"flex items-center gap-1",to:{name:"manage"}},{default:nn(()=>[VB,jB]),_:1})],512),[[os,this.userLoggedIn]]),O("li",UB,[e.userLoggedIn?(Ue(),Qe("a",{key:1,class:"flex gap-1 items-center",href:"#",onClick:t[1]||(t[1]=Ft(l=>e.signOut(),["prevent"]))},WB)):(Ue(),Qe("a",{key:0,class:"flex items-center gap-1",href:"#",onClick:t[0]||(t[0]=Ft((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},qB)),GB]),zB])])])}const YB=Mn(OB,[["render",XB]]),QB={name:"LoginForm",emits:["login-success"],data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},togglePassword:!1,login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Logging in."}},methods:{...gs(so,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.$refs.loginForm.resetForm(),this.login_show_alert=!1,this.login_in_submission=!1,this.$emit("login-success")}}},JB={class:"mb-3"},ZB=O("label",{class:"inline-block mb-2"},"Email",-1),e3={class:"mb-3"},t3=O("label",{class:"inline-block mb-2"},"Password",-1),n3={class:"flex items-center"},r3=["type"],i3=["disabled"];function o3(e,t,n,r,o,s){const u=ct("VeeField"),l=ct("ErrorMessage"),f=ct("VeeForm");return Ue(),Qe(Xt,null,[o.login_show_alert?(Ue(),Qe("div",{key:0,class:vt(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},gt(o.login_alert_msg),3)):Yr("",!0),ye(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:s.login,ref:"loginForm"},{default:nn(()=>[O("div",JB,[ZB,ye(u,{id:"emailField",name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"your@email.com",autocomplete:"email"}),ye(l,{class:"text-red-600 block",name:"email"})]),O("div",e3,[t3,ye(u,{name:"password",bails:!1},{default:nn(({field:d,errors:m})=>[O("div",n3,[O("input",mr(d,{type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"Password",autocomplete:"current-password"}),null,16,r3),O("i",{onClick:t[0]||(t[0]=h=>o.togglePassword=!o.togglePassword),class:vt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),ye(l,mr(m,{class:"text-red-600 block",name:"password"}),null,16)]),_:1})]),O("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,i3)]),_:1},8,["validation-schema","onSubmit"])],64)}const s3=Mn(QB,[["render",o3]]),a3={name:"RegisterForm",emits:["register-success"],data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},togglePassword:!1,toggleConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(e){this.initRegisterAlert();try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.$refs.registerForm.resetForm(),this.reg_show_alert=!1,this.reg_in_submission=!1,this.$emit("register-success")},...gs(so,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},u3={class:""},l3=O("label",{class:"select-none group"},[un("Name "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),c3={class:""},f3=O("label",{class:"select-none group"},[un("Email "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),h3={class:""},d3=O("label",{class:"select-none"},"Phone",-1),p3={class:""},g3=O("label",{class:"select-none group"},[un("Birthdate "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),m3={class:""},v3=O("label",{class:"select-none group"},[un("Password "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),y3={class:"flex items-center"},b3=["type"],_3={class:""},w3=O("label",{class:"select-none group"},[un("Confirm Password "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),E3={class:"flex items-center"},S3=["type"],T3={class:""},I3=O("label",{class:"select-none group"},[un("Country "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),A3=O("option",{value:"Argentina"},"Argentina",-1),x3=O("option",{value:"United States"},"United States",-1),k3=O("option",{value:"Spain"},"Spain",-1),C3=O("option",{value:"Germany"},"Germany",-1),O3=O("option",{value:"Antarctica"},"Antarctica",-1),P3=O("option",{value:"Other"},"Other",-1),N3={class:"mb-3 pl-6"},R3={class:"inline-block hover:cursor-pointer"},D3=O("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function L3(e,t,n,r,o,s){const u=ct("VeeField"),l=ct("ErrorMessage"),f=ct("VeeForm");return Ue(),Qe(Xt,null,[o.reg_show_alert?(Ue(),Qe("div",{key:0,class:vt(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},gt(o.reg_alert_msg),3)):Yr("",!0),ye(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:s.register,"initial-values":o.userData,ref:"registerForm"},{default:nn(()=>[O("div",u3,[l3,ye(u,{id:"nameField",name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),ye(l,{class:"text-red-600",name:"name"})]),O("div",c3,[f3,ye(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),ye(l,{class:"text-red-600",name:"email"})]),O("div",h3,[d3,ye(u,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your phone"}),ye(l,{class:"text-red-600",name:"phone"})]),O("div",p3,[g3,ye(u,{name:"birthdate",type:"date",min:"1900-01-01",max:s.maxBirthdate,class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),ye(l,{class:"text-red-600",name:"birthdate"})]),O("div",m3,[v3,ye(u,{name:"password",bails:!1},{default:nn(({field:d,errors:m})=>[O("div",y3,[O("input",mr(d,{placeholder:"Enter new Password",type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,b3),O("i",{onClick:t[0]||(t[0]=h=>o.togglePassword=!o.togglePassword),class:vt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":!o.togglePassword,"fa-regular fa-eye":o.togglePassword}])},null,2)]),(Ue(!0),Qe(Xt,null,Ml(m,h=>(Ue(),Qe("div",{class:"text-red-600",key:h},gt(h),1))),128))]),_:1})]),O("div",_3,[w3,ye(u,{name:"confirmPassword",bails:!1},{default:nn(({field:d})=>[O("div",E3,[O("input",mr(d,{type:o.toggleConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),null,16,S3),O("i",{onClick:t[1]||(t[1]=m=>o.toggleConfirmPassword=!o.toggleConfirmPassword),class:vt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":!o.toggleConfirmPassword,"fa-regular fa-eye":o.toggleConfirmPassword}])},null,2)])]),_:1}),ye(l,{class:"text-red-600",name:"confirmPassword"})]),O("div",T3,[I3,ye(u,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:nn(()=>[A3,x3,k3,C3,O3,P3]),_:1}),ye(l,{class:"text-red-600",name:"country"})]),O("div",N3,[O("label",R3,[ye(u,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),un(" Accept terms of service")]),ye(l,{class:"text-red-600 block",name:"tos"})]),D3]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const M3=Mn(a3,[["render",L3]]),F3={name:"AuthModal",components:{AppLoginForm:s3,AppRegisterForm:M3},data(){return{tab:"login"}},computed:{...ss(tv,["hiddenClass"]),...$h(tv,{modalVisibility:"isOpen"})},methods:{handleLoginTab(){this.tab="login",this.$nextTick(()=>document.getElementById("emailField").focus())},handleRegisterTab(){this.tab="register",this.$nextTick(()=>document.getElementById("nameField").focus())},closeAuthModal(){this.modalVisibility=!1}}},V3={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},j3=O("div",{class:"fixed inset-0 transition-opacity"},[O("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),U3=O("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),B3={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},$3={class:"py-4 text-left px-6"},q3={class:"flex justify-between items-center pb-4"},H3=O("p",{class:"text-2xl font-bold"},"Your Account",-1),K3=O("i",{class:"fas fa-times"},null,-1),W3=[K3],G3={class:"flex flex-wrap mb-4 gap-2"},z3={class:"flex-auto text-center"},X3={class:"flex-auto text-center"};function Y3(e,t,n,r,o,s){const u=ct("AppLoginForm"),l=ct("AppRegisterForm");return Ue(),Qe("div",{class:vt(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[O("div",V3,[j3,U3,O("div",B3,[O("div",$3,[O("div",q3,[H3,O("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},W3)]),O("ul",G3,[O("li",z3,[O("a",{class:vt(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Ft(f=>s.handleLoginTab(),["prevent"]))},"Login",2)]),O("li",X3,[O("a",{class:vt(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Ft(f=>s.handleRegisterTab(),["prevent"]))},"Register",2)])]),o.tab==="login"?(Ue(),rs(u,{key:0,onLoginSuccess:t[3]||(t[3]=f=>s.closeAuthModal())})):(Ue(),rs(l,{key:1,onRegisterSuccess:t[4]||(t[4]=f=>s.closeAuthModal())}))])])])],2)}const Q3=Mn(F3,[["render",Y3]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ta=typeof window<"u";function J3(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const lt=Object.assign;function km(e,t){const n={};for(const r in t){const o=t[r];n[r]=Vr(o)?o.map(e):e(o)}return n}const Qu=()=>{},Vr=Array.isArray,Z3=/\/$/,e4=e=>e.replace(Z3,"");function Cm(e,t,n="/"){let r,o={},s="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=i4(r??t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function t4(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function HS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function n4(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Pa(t.matched[r],n.matched[o])&&Qk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Pa(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Qk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!r4(e[n],t[n]))return!1;return!0}function r4(e,t){return Vr(e)?KS(e,t):Vr(t)?KS(t,e):e===t}function KS(e,t){return Vr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function i4(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,l;for(u=0;u<r.length;u++)if(l=r[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var xl;(function(e){e.pop="pop",e.push="push"})(xl||(xl={}));var Ju;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ju||(Ju={}));function o4(e){if(!e)if(ta){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),e4(e)}const s4=/^[^#]+#/;function a4(e,t){return e.replace(s4,"#")+t}function u4(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Td=()=>({left:window.pageXOffset,top:window.pageYOffset});function l4(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=u4(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function WS(e,t){return(history.state?history.state.position-t:-1)+e}const Rv=new Map;function c4(e,t){Rv.set(e,t)}function f4(e){const t=Rv.get(e);return Rv.delete(e),t}let h4=()=>location.protocol+"//"+location.host;function Jk(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),HS(f,"")}return HS(n,e)+r+o}function d4(e,t,n,r){let o=[],s=[],u=null;const l=({state:g})=>{const y=Jk(e,location),b=n.value,w=t.value;let S=0;if(g){if(n.value=y,t.value=g,u&&u===b){u=null;return}S=w?g.position-w.position:0}else r(y);o.forEach(T=>{T(n.value,b,{delta:S,type:xl.pop,direction:S?S>0?Ju.forward:Ju.back:Ju.unknown})})};function f(){u=n.value}function d(g){o.push(g);const y=()=>{const b=o.indexOf(g);b>-1&&o.splice(b,1)};return s.push(y),y}function m(){const{history:g}=window;g.state&&g.replaceState(lt({},g.state,{scroll:Td()}),"")}function h(){for(const g of s)g();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:f,listen:d,destroy:h}}function GS(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?Td():null}}function p4(e){const{history:t,location:n}=window,r={value:Jk(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,m){const h=e.indexOf("#"),g=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:h4()+e+f;try{t[m?"replaceState":"pushState"](d,"",g),o.value=d}catch(y){console.error(y),n[m?"replace":"assign"](g)}}function u(f,d){const m=lt({},t.state,GS(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,m,!0),r.value=f}function l(f,d){const m=lt({},o.value,t.state,{forward:f,scroll:Td()});s(m.current,m,!0);const h=lt({},GS(r.value,f,null),{position:m.position+1},d);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:u}}function g4(e){e=o4(e);const t=p4(e),n=d4(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=lt({location:"",base:e,go:r,createHref:a4.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function m4(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),g4(e)}function v4(e){return typeof e=="string"||e&&typeof e=="object"}function Zk(e){return typeof e=="string"||typeof e=="symbol"}const Fi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},eC=Symbol("");var zS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(zS||(zS={}));function Na(e,t){return lt(new Error,{type:e,[eC]:!0},t)}function ci(e,t){return e instanceof Error&&eC in e&&(t==null||!!(e.type&t))}const XS="[^/]+?",y4={sensitive:!1,strict:!1,start:!0,end:!0},b4=/[.+*?^${}()[\]/\\]/g;function _4(e,t){const n=lt({},y4,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const m=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const g=d[h];let y=40+(n.sensitive?.25:0);if(g.type===0)h||(o+="/"),o+=g.value.replace(b4,"\\$&"),y+=40;else if(g.type===1){const{value:b,repeatable:w,optional:S,regexp:T}=g;s.push({name:b,repeatable:w,optional:S});const k=T||XS;if(k!==XS){y+=10;try{new RegExp(`(${k})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${b}" (${k}): `+L.message)}}let D=w?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(D=S&&d.length<2?`(?:/${D})`:"/"+D),S&&(D+="?"),o+=D,y+=20,S&&(y+=-8),w&&(y+=-20),k===".*"&&(y+=-50)}m.push(y)}r.push(m)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(d){const m=d.match(u),h={};if(!m)return null;for(let g=1;g<m.length;g++){const y=m[g]||"",b=s[g-1];h[b.name]=y&&b.repeatable?y.split("/"):y}return h}function f(d){let m="",h=!1;for(const g of e){(!h||!m.endsWith("/"))&&(m+="/"),h=!1;for(const y of g)if(y.type===0)m+=y.value;else if(y.type===1){const{value:b,repeatable:w,optional:S}=y,T=b in d?d[b]:"";if(Vr(T)&&!w)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const k=Vr(T)?T.join("/"):T;if(!k)if(S)g.length<2&&(m.endsWith("/")?m=m.slice(0,-1):h=!0);else throw new Error(`Missing required param "${b}"`);m+=k}}return m||"/"}return{re:u,score:r,keys:s,parse:l,stringify:f}}function w4(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function E4(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=w4(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(YS(r))return 1;if(YS(o))return-1}return o.length-r.length}function YS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const S4={type:0,value:""},T4=/[a-zA-Z0-9_]/;function I4(e){if(!e)return[[]];if(e==="/")return[[S4]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let l=0,f,d="",m="";function h(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:m,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&h(),u()):f===":"?(h(),n=1):g();break;case 4:g(),n=r;break;case 1:f==="("?n=2:T4.test(f)?g():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+f:n=3:m+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),u(),o}function A4(e,t,n){const r=_4(I4(e.path),n),o=lt(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function x4(e,t){const n=[],r=new Map;t=ZS({strict:!1,end:!0,sensitive:!1},t);function o(m){return r.get(m)}function s(m,h,g){const y=!g,b=k4(m);b.aliasOf=g&&g.record;const w=ZS(t,m),S=[b];if("alias"in m){const D=typeof m.alias=="string"?[m.alias]:m.alias;for(const L of D)S.push(lt({},b,{components:g?g.record.components:b.components,path:L,aliasOf:g?g.record:b}))}let T,k;for(const D of S){const{path:L}=D;if(h&&L[0]!=="/"){const z=h.record.path,j=z[z.length-1]==="/"?"":"/";D.path=h.record.path+(L&&j+L)}if(T=A4(D,h,w),g?g.alias.push(T):(k=k||T,k!==T&&k.alias.push(T),y&&m.name&&!JS(T)&&u(m.name)),b.children){const z=b.children;for(let j=0;j<z.length;j++)s(z[j],T,g&&g.children[j])}g=g||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&f(T)}return k?()=>{u(k)}:Qu}function u(m){if(Zk(m)){const h=r.get(m);h&&(r.delete(m),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(m);h>-1&&(n.splice(h,1),m.record.name&&r.delete(m.record.name),m.children.forEach(u),m.alias.forEach(u))}}function l(){return n}function f(m){let h=0;for(;h<n.length&&E4(m,n[h])>=0&&(m.record.path!==n[h].record.path||!tC(m,n[h]));)h++;n.splice(h,0,m),m.record.name&&!JS(m)&&r.set(m.record.name,m)}function d(m,h){let g,y={},b,w;if("name"in m&&m.name){if(g=r.get(m.name),!g)throw Na(1,{location:m});w=g.record.name,y=lt(QS(h.params,g.keys.filter(k=>!k.optional).map(k=>k.name)),m.params&&QS(m.params,g.keys.map(k=>k.name))),b=g.stringify(y)}else if("path"in m)b=m.path,g=n.find(k=>k.re.test(b)),g&&(y=g.parse(b),w=g.record.name);else{if(g=h.name?r.get(h.name):n.find(k=>k.re.test(h.path)),!g)throw Na(1,{location:m,currentLocation:h});w=g.record.name,y=lt({},h.params,m.params),b=g.stringify(y)}const S=[];let T=g;for(;T;)S.unshift(T.record),T=T.parent;return{name:w,path:b,params:y,matched:S,meta:O4(S)}}return e.forEach(m=>s(m)),{addRoute:s,resolve:d,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function QS(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function k4(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:C4(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function C4(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function JS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function O4(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function ZS(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function tC(e,t){return t.children.some(n=>n===e||tC(e,n))}const nC=/#/g,P4=/&/g,N4=/\//g,R4=/=/g,D4=/\?/g,rC=/\+/g,L4=/%5B/g,M4=/%5D/g,iC=/%5E/g,F4=/%60/g,oC=/%7B/g,V4=/%7C/g,sC=/%7D/g,j4=/%20/g;function Lb(e){return encodeURI(""+e).replace(V4,"|").replace(L4,"[").replace(M4,"]")}function U4(e){return Lb(e).replace(oC,"{").replace(sC,"}").replace(iC,"^")}function Dv(e){return Lb(e).replace(rC,"%2B").replace(j4,"+").replace(nC,"%23").replace(P4,"%26").replace(F4,"`").replace(oC,"{").replace(sC,"}").replace(iC,"^")}function B4(e){return Dv(e).replace(R4,"%3D")}function $4(e){return Lb(e).replace(nC,"%23").replace(D4,"%3F")}function q4(e){return e==null?"":$4(e).replace(N4,"%2F")}function vh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function H4(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(rC," "),u=s.indexOf("="),l=vh(u<0?s:s.slice(0,u)),f=u<0?null:vh(s.slice(u+1));if(l in t){let d=t[l];Vr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function eT(e){let t="";for(let n in e){const r=e[n];if(n=B4(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Vr(r)?r.map(s=>s&&Dv(s)):[r&&Dv(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function K4(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Vr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const W4=Symbol(""),tT=Symbol(""),Mb=Symbol(""),aC=Symbol(""),Lv=Symbol("");function Ru(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Bi(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const f=h=>{h===!1?l(Na(4,{from:n,to:t})):h instanceof Error?l(h):v4(h)?l(Na(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},d=e.call(r&&r.instances[o],t,n,f);let m=Promise.resolve(d);e.length<3&&(m=m.then(f)),m.catch(h=>l(h))})}function Om(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let l=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(G4(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Bi(d,n,r,s,u))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const m=J3(d)?d.default:d;s.components[u]=m;const g=(m.__vccOpts||m)[t];return g&&Bi(g,n,r,s,u)()}))}}return o}function G4(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function nT(e){const t=wr(Mb),n=wr(aC),r=ze(()=>t.resolve(et(e.to))),o=ze(()=>{const{matched:f}=r.value,{length:d}=f,m=f[d-1],h=n.matched;if(!m||!h.length)return-1;const g=h.findIndex(Pa.bind(null,m));if(g>-1)return g;const y=rT(f[d-2]);return d>1&&rT(m)===y&&h[h.length-1].path!==y?h.findIndex(Pa.bind(null,f[d-2])):g}),s=ze(()=>o.value>-1&&Y4(n.params,r.value.params)),u=ze(()=>o.value>-1&&o.value===n.matched.length-1&&Qk(n.params,r.value.params));function l(f={}){return X4(f)?t[et(e.replace)?"replace":"push"](et(e.to)).catch(Qu):Promise.resolve()}return{route:r,href:ze(()=>r.value.href),isActive:s,isExactActive:u,navigate:l}}const z4=Dl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nT,setup(e,{slots:t}){const n=ni(nT(e)),{options:r}=wr(Mb),o=ze(()=>({[iT(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[iT(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:is("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),uC=z4;function X4(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Y4(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Vr(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function rT(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const iT=(e,t,n)=>e??t??n,Q4=Dl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=wr(Lv),o=ze(()=>e.route||r.value),s=wr(tT,0),u=ze(()=>{let d=et(s);const{matched:m}=o.value;let h;for(;(h=m[d])&&!h.components;)d++;return d}),l=ze(()=>o.value.matched[u.value]);aa(tT,ze(()=>u.value+1)),aa(W4,l),aa(Lv,o);const f=tn();return Kn(()=>[f.value,l.value,e.name],([d,m,h],[g,y,b])=>{m&&(m.instances[h]=d,y&&y!==m&&d&&d===g&&(m.leaveGuards.size||(m.leaveGuards=y.leaveGuards),m.updateGuards.size||(m.updateGuards=y.updateGuards))),d&&m&&(!y||!Pa(m,y)||!g)&&(m.enterCallbacks[h]||[]).forEach(w=>w(d))},{flush:"post"}),()=>{const d=o.value,m=e.name,h=l.value,g=h&&h.components[m];if(!g)return oT(n.default,{Component:g,route:d});const y=h.props[m],b=y?y===!0?d.params:typeof y=="function"?y(d):y:null,S=is(g,lt({},b,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[m]=null)},ref:f}));return oT(n.default,{Component:S,route:d})||S}}});function oT(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const lC=Q4;function J4(e){const t=x4(e.routes,e),n=e.parseQuery||H4,r=e.stringifyQuery||eT,o=e.history,s=Ru(),u=Ru(),l=Ru(),f=YT(Fi);let d=Fi;ta&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=km.bind(null,F=>""+F),h=km.bind(null,q4),g=km.bind(null,vh);function y(F,K){let te,ce;return Zk(F)?(te=t.getRecordMatcher(F),ce=K):ce=F,t.addRoute(ce,te)}function b(F){const K=t.getRecordMatcher(F);K&&t.removeRoute(K)}function w(){return t.getRoutes().map(F=>F.record)}function S(F){return!!t.getRecordMatcher(F)}function T(F,K){if(K=lt({},K||f.value),typeof F=="string"){const R=Cm(n,F,K.path),B=t.resolve({path:R.path},K),$=o.createHref(R.fullPath);return lt(R,B,{params:g(B.params),hash:vh(R.hash),redirectedFrom:void 0,href:$})}let te;if("path"in F)te=lt({},F,{path:Cm(n,F.path,K.path).path});else{const R=lt({},F.params);for(const B in R)R[B]==null&&delete R[B];te=lt({},F,{params:h(R)}),K.params=h(K.params)}const ce=t.resolve(te,K),Fe=F.hash||"";ce.params=m(g(ce.params));const A=t4(r,lt({},F,{hash:U4(Fe),path:ce.path})),C=o.createHref(A);return lt({fullPath:A,hash:Fe,query:r===eT?K4(F.query):F.query||{}},ce,{redirectedFrom:void 0,href:C})}function k(F){return typeof F=="string"?Cm(n,F,f.value.path):lt({},F)}function D(F,K){if(d!==F)return Na(8,{from:K,to:F})}function L(F){return ae(F)}function z(F){return L(lt(k(F),{replace:!0}))}function j(F){const K=F.matched[F.matched.length-1];if(K&&K.redirect){const{redirect:te}=K;let ce=typeof te=="function"?te(F):te;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=k(ce):{path:ce},ce.params={}),lt({query:F.query,hash:F.hash,params:"path"in ce?{}:F.params},ce)}}function ae(F,K){const te=d=T(F),ce=f.value,Fe=F.state,A=F.force,C=F.replace===!0,R=j(te);if(R)return ae(lt(k(R),{state:typeof R=="object"?lt({},Fe,R.state):Fe,force:A,replace:C}),K||te);const B=te;B.redirectedFrom=K;let $;return!A&&n4(r,ce,te)&&($=Na(16,{to:B,from:ce}),Gt(ce,ce,!0,!1)),($?Promise.resolve($):x(B,ce)).catch(Y=>ci(Y)?ci(Y,2)?Y:Pt(Y):ve(Y,B,ce)).then(Y=>{if(Y){if(ci(Y,2))return ae(lt({replace:C},k(Y.to),{state:typeof Y.to=="object"?lt({},Fe,Y.to.state):Fe,force:A}),K||B)}else Y=re(B,ce,!0,C,Fe);return Ce(B,ce,Y),Y})}function M(F,K){const te=D(F,K);return te?Promise.reject(te):Promise.resolve()}function q(F){const K=Qn.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(F):F()}function x(F,K){let te;const[ce,Fe,A]=Z4(F,K);te=Om(ce.reverse(),"beforeRouteLeave",F,K);for(const R of ce)R.leaveGuards.forEach(B=>{te.push(Bi(B,F,K))});const C=M.bind(null,F,K);return te.push(C),be(te).then(()=>{te=[];for(const R of s.list())te.push(Bi(R,F,K));return te.push(C),be(te)}).then(()=>{te=Om(Fe,"beforeRouteUpdate",F,K);for(const R of Fe)R.updateGuards.forEach(B=>{te.push(Bi(B,F,K))});return te.push(C),be(te)}).then(()=>{te=[];for(const R of A)if(R.beforeEnter)if(Vr(R.beforeEnter))for(const B of R.beforeEnter)te.push(Bi(B,F,K));else te.push(Bi(R.beforeEnter,F,K));return te.push(C),be(te)}).then(()=>(F.matched.forEach(R=>R.enterCallbacks={}),te=Om(A,"beforeRouteEnter",F,K),te.push(C),be(te))).then(()=>{te=[];for(const R of u.list())te.push(Bi(R,F,K));return te.push(C),be(te)}).catch(R=>ci(R,8)?R:Promise.reject(R))}function Ce(F,K,te){l.list().forEach(ce=>q(()=>ce(F,K,te)))}function re(F,K,te,ce,Fe){const A=D(F,K);if(A)return A;const C=K===Fi,R=ta?history.state:{};te&&(ce||C?o.replace(F.fullPath,lt({scroll:C&&R&&R.scroll},Fe)):o.push(F.fullPath,Fe)),f.value=F,Gt(F,K,te,C),Pt()}let ke;function Le(){ke||(ke=o.listen((F,K,te)=>{if(!ge.listening)return;const ce=T(F),Fe=j(ce);if(Fe){ae(lt(Fe,{replace:!0}),ce).catch(Qu);return}d=ce;const A=f.value;ta&&c4(WS(A.fullPath,te.delta),Td()),x(ce,A).catch(C=>ci(C,12)?C:ci(C,2)?(ae(C.to,ce).then(R=>{ci(R,20)&&!te.delta&&te.type===xl.pop&&o.go(-1,!1)}).catch(Qu),Promise.reject()):(te.delta&&o.go(-te.delta,!1),ve(C,ce,A))).then(C=>{C=C||re(ce,A,!1),C&&(te.delta&&!ci(C,8)?o.go(-te.delta,!1):te.type===xl.pop&&ci(C,20)&&o.go(-1,!1)),Ce(ce,A,C)}).catch(Qu)}))}let Ke=Ru(),se=Ru(),Be;function ve(F,K,te){Pt(F);const ce=se.list();return ce.length?ce.forEach(Fe=>Fe(F,K,te)):console.error(F),Promise.reject(F)}function bt(){return Be&&f.value!==Fi?Promise.resolve():new Promise((F,K)=>{Ke.add([F,K])})}function Pt(F){return Be||(Be=!F,Le(),Ke.list().forEach(([K,te])=>F?te(F):K()),Ke.reset()),F}function Gt(F,K,te,ce){const{scrollBehavior:Fe}=e;if(!ta||!Fe)return Promise.resolve();const A=!te&&f4(WS(F.fullPath,0))||(ce||!te)&&history.state&&history.state.scroll||null;return Cr().then(()=>Fe(F,K,A)).then(C=>C&&l4(C)).catch(C=>ve(C,F,K))}const jt=F=>o.go(F);let _t;const Qn=new Set,ge={currentRoute:f,listening:!0,addRoute:y,removeRoute:b,hasRoute:S,getRoutes:w,resolve:T,options:e,push:L,replace:z,go:jt,back:()=>jt(-1),forward:()=>jt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:se.add,isReady:bt,install(F){const K=this;F.component("RouterLink",uC),F.component("RouterView",lC),F.config.globalProperties.$router=K,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>et(f)}),ta&&!_t&&f.value===Fi&&(_t=!0,L(o.location).catch(Fe=>{}));const te={};for(const Fe in Fi)Object.defineProperty(te,Fe,{get:()=>f.value[Fe],enumerable:!0});F.provide(Mb,K),F.provide(aC,WT(te)),F.provide(Lv,f);const ce=F.unmount;Qn.add(F),F.unmount=function(){Qn.delete(F),Qn.size<1&&(d=Fi,ke&&ke(),ke=null,f.value=Fi,_t=!1,Be=!1),ce()}}};function be(F){return F.reduce((K,te)=>K.then(()=>q(te)),Promise.resolve())}return ge}function Z4(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(d=>Pa(d,l))?r.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(d=>Pa(d,f))||o.push(f))}return[n,r,o]}const e$={name:"App",components:{AppHeader:YB,AuthModal:Q3,RouterView:lC},computed:{...$h(so,["userLoggedIn"])},created(){vr.currentUser&&(this.userLoggedIn=!0)}};function t$(e,t,n,r,o,s){const u=ct("AppHeader"),l=ct("RouterView"),f=ct("AuthModal");return Ue(),Qe(Xt,null,[ye(u),ye(l,null,{default:nn(({Component:d})=>[ye(dy,{name:"fade",mode:"out-in"},{default:nn(()=>[(Ue(),rs(Fh(d)))]),_:2},1024)]),_:1}),ye(f)],64)}const n$=Mn(e$,[["render",t$],["__scopeId","data-v-92c7bb26"]]);var Du=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mv={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var g=this||n;if(h=parseFloat(h),g.ctx||m(),typeof h<"u"&&h>=0&&h<=1){if(g._volume=h,g._muted)return g;g.usingWebAudio&&g.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<g._howls.length;y++)if(!g._howls[y]._webAudio)for(var b=g._howls[y]._getSoundIds(),w=0;w<b.length;w++){var S=g._howls[y]._soundById(b[w]);S&&S._node&&(S._node.volume=S._volume*h)}return g}return g._volume},mute:function(h){var g=this||n;g.ctx||m(),g._muted=h,g.usingWebAudio&&g.masterGain.gain.setValueAtTime(h?0:g._volume,n.ctx.currentTime);for(var y=0;y<g._howls.length;y++)if(!g._howls[y]._webAudio)for(var b=g._howls[y]._getSoundIds(),w=0;w<b.length;w++){var S=g._howls[y]._soundById(b[w]);S&&S._node&&(S._node.muted=h?!0:S._muted)}return g},stop:function(){for(var h=this||n,g=0;g<h._howls.length;g++)h._howls[g].stop();return h},unload:function(){for(var h=this||n,g=h._howls.length-1;g>=0;g--)h._howls[g].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,m()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var g=new Audio;typeof g.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var g=new Audio;g.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,g=null;try{g=typeof Audio<"u"?new Audio:null}catch{return h}if(!g||typeof g.canPlayType!="function")return h;var y=g.canPlayType("audio/mpeg;").replace(/^no$/,""),b=h._navigator?h._navigator.userAgent:"",w=b.match(/OPR\/(\d+)/g),S=w&&parseInt(w[0].split("/")[1],10)<33,T=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,k=b.match(/Version\/(.*?) /),D=T&&k&&parseInt(k[1],10)<15;return h._codecs={mp3:!!(!S&&(y||g.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(g.canPlayType('audio/wav; codecs="1"')||g.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!g.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!g.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(g.canPlayType("audio/x-m4a;")||g.canPlayType("audio/m4a;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(g.canPlayType("audio/x-m4b;")||g.canPlayType("audio/m4b;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(g.canPlayType("audio/x-mp4;")||g.canPlayType("audio/mp4;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!D&&g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!D&&g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!g.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(g.canPlayType("audio/x-flac;")||g.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var g=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,h._releaseHtml5Audio(b)}catch{h.noAudio=!0;break}for(var w=0;w<h._howls.length;w++)if(!h._howls[w]._webAudio)for(var S=h._howls[w]._getSoundIds(),T=0;T<S.length;T++){var k=h._howls[w]._soundById(S[T]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}h._autoResume();var D=h.ctx.createBufferSource();D.buffer=h._scratchBuffer,D.connect(h.ctx.destination),typeof D.start>"u"?D.noteOn(0):D.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),D.onended=function(){D.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",g,!0),document.removeEventListener("touchend",g,!0),document.removeEventListener("click",g,!0),document.removeEventListener("keydown",g,!0);for(var L=0;L<h._howls.length;L++)h._howls[L]._emit("unlock")}};return document.addEventListener("touchstart",g,!0),document.addEventListener("touchend",g,!0),document.addEventListener("click",g,!0),document.addEventListener("keydown",g,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var g=new Audio().play();return g&&typeof Promise<"u"&&(g instanceof Promise||typeof g.then=="function")&&g.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var g=this||n;return h._unlocked&&g._html5AudioPool.push(h),g},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var g=0;g<h._howls.length;g++)if(h._howls[g]._webAudio){for(var y=0;y<h._howls[g]._sounds.length;y++)if(!h._howls[g]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var b=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(b,b)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var g=0;g<h._howls.length;g++)h._howls[g]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var g=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}g.init(h)};r.prototype={init:function(h){var g=this;return n.ctx||m(),g._autoplay=h.autoplay||!1,g._format=typeof h.format!="string"?h.format:[h.format],g._html5=h.html5||!1,g._muted=h.mute||!1,g._loop=h.loop||!1,g._pool=h.pool||5,g._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,g._rate=h.rate||1,g._sprite=h.sprite||{},g._src=typeof h.src!="string"?h.src:[h.src],g._volume=h.volume!==void 0?h.volume:1,g._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},g._duration=0,g._state="unloaded",g._sounds=[],g._endTimers={},g._queue=[],g._playLock=!1,g._onend=h.onend?[{fn:h.onend}]:[],g._onfade=h.onfade?[{fn:h.onfade}]:[],g._onload=h.onload?[{fn:h.onload}]:[],g._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],g._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],g._onpause=h.onpause?[{fn:h.onpause}]:[],g._onplay=h.onplay?[{fn:h.onplay}]:[],g._onstop=h.onstop?[{fn:h.onstop}]:[],g._onmute=h.onmute?[{fn:h.onmute}]:[],g._onvolume=h.onvolume?[{fn:h.onvolume}]:[],g._onrate=h.onrate?[{fn:h.onrate}]:[],g._onseek=h.onseek?[{fn:h.onseek}]:[],g._onunlock=h.onunlock?[{fn:h.onunlock}]:[],g._onresume=[],g._webAudio=n.usingWebAudio&&!g._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(g),g._autoplay&&g._queue.push({event:"play",action:function(){g.play()}}),g._preload&&g._preload!=="none"&&g.load(),g},load:function(){var h=this,g=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var b,w;if(h._format&&h._format[y])b=h._format[y];else{if(w=h._src[y],typeof w!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(w),b||(b=/\.([^.]+)$/.exec(w.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&n.codecs(b)){g=h._src[y];break}}if(!g){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=g,h._state="loading",window.location.protocol==="https:"&&g.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,g){var y=this,b=null;if(typeof h=="number")b=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var w=0,S=0;S<y._sounds.length;S++)y._sounds[S]._paused&&!y._sounds[S]._ended&&(w++,b=y._sounds[S]._id);w===1?h=null:b=null}}var T=b?y._soundById(b):y._inactiveSound();if(!T)return null;if(b&&!h&&(h=T._sprite||"__default"),y._state!=="loaded"){T._sprite=h,T._ended=!1;var k=T._id;return y._queue.push({event:"play",action:function(){y.play(k)}}),k}if(b&&!T._paused)return g||y._loadQueue("play"),T._id;y._webAudio&&n._autoResume();var D=Math.max(0,T._seek>0?T._seek:y._sprite[h][0]/1e3),L=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-D),z=L*1e3/Math.abs(T._rate),j=y._sprite[h][0]/1e3,ae=(y._sprite[h][0]+y._sprite[h][1])/1e3;T._sprite=h,T._ended=!1;var M=function(){T._paused=!1,T._seek=D,T._start=j,T._stop=ae,T._loop=!!(T._loop||y._sprite[h][2])};if(D>=ae){y._ended(T);return}var q=T._node;if(y._webAudio){var x=function(){y._playLock=!1,M(),y._refreshBuffer(T);var Le=T._muted||y._muted?0:T._volume;q.gain.setValueAtTime(Le,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof q.bufferSource.start>"u"?T._loop?q.bufferSource.noteGrainOn(0,D,86400):q.bufferSource.noteGrainOn(0,D,L):T._loop?q.bufferSource.start(0,D,86400):q.bufferSource.start(0,D,L),z!==1/0&&(y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),z)),g||setTimeout(function(){y._emit("play",T._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?x():(y._playLock=!0,y.once("resume",x),y._clearTimer(T._id))}else{var Ce=function(){q.currentTime=D,q.muted=T._muted||y._muted||n._muted||q.muted,q.volume=T._volume*n.volume(),q.playbackRate=T._rate;try{var Le=q.play();if(Le&&typeof Promise<"u"&&(Le instanceof Promise||typeof Le.then=="function")?(y._playLock=!0,M(),Le.then(function(){y._playLock=!1,q._unlocked=!0,g?y._loadQueue():y._emit("play",T._id)}).catch(function(){y._playLock=!1,y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):g||(y._playLock=!1,M(),y._emit("play",T._id)),q.playbackRate=T._rate,q.paused){y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||T._loop?y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),z):(y._endTimers[T._id]=function(){y._ended(T),q.removeEventListener("ended",y._endTimers[T._id],!1)},q.addEventListener("ended",y._endTimers[T._id],!1))}catch(Ke){y._emit("playerror",T._id,Ke)}};q.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(q.src=y._src,q.load());var re=window&&window.ejecta||!q.readyState&&n._navigator.isCocoonJS;if(q.readyState>=3||re)Ce();else{y._playLock=!0,y._state="loading";var ke=function(){y._state="loaded",Ce(),q.removeEventListener(n._canPlayEvent,ke,!1)};q.addEventListener(n._canPlayEvent,ke,!1),y._clearTimer(T._id)}}return T._id},pause:function(h){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"pause",action:function(){g.pause(h)}}),g;for(var y=g._getSoundIds(h),b=0;b<y.length;b++){g._clearTimer(y[b]);var w=g._soundById(y[b]);if(w&&!w._paused&&(w._seek=g.seek(y[b]),w._rateSeek=0,w._paused=!0,g._stopFade(y[b]),w._node))if(g._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),g._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||g._emit("pause",w?w._id:null)}return g},stop:function(h,g){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var b=y._getSoundIds(h),w=0;w<b.length;w++){y._clearTimer(b[w]);var S=y._soundById(b[w]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,y._stopFade(b[w]),S._node&&(y._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop>"u"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),y._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&y._clearSound(S._node))),g||y._emit("stop",S._id))}return y},mute:function(h,g){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,g)}}),y;if(typeof g>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var b=y._getSoundIds(g),w=0;w<b.length;w++){var S=y._soundById(b[w]);S&&(S._muted=h,S._interval&&y._stopFade(S._id),y._webAudio&&S._node?S._node.gain.setValueAtTime(h?0:S._volume,n.ctx.currentTime):S._node&&(S._node.muted=n._muted?!0:h),y._emit("mute",S._id))}return y},volume:function(){var h=this,g=arguments,y,b;if(g.length===0)return h._volume;if(g.length===1||g.length===2&&typeof g[1]>"u"){var w=h._getSoundIds(),S=w.indexOf(g[0]);S>=0?b=parseInt(g[0],10):y=parseFloat(g[0])}else g.length>=2&&(y=parseFloat(g[0]),b=parseInt(g[1],10));var T;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,g)}}),h;typeof b>"u"&&(h._volume=y),b=h._getSoundIds(b);for(var k=0;k<b.length;k++)T=h._soundById(b[k]),T&&(T._volume=y,g[2]||h._stopFade(b[k]),h._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(y,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=y*n.volume()),h._emit("volume",T._id))}else return T=b?h._soundById(b):h._sounds[0],T?T._volume:0;return h},fade:function(h,g,y,b){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(h,g,y,b)}}),w;h=Math.min(Math.max(0,parseFloat(h)),1),g=Math.min(Math.max(0,parseFloat(g)),1),y=parseFloat(y),w.volume(h,b);for(var S=w._getSoundIds(b),T=0;T<S.length;T++){var k=w._soundById(S[T]);if(k){if(b||w._stopFade(S[T]),w._webAudio&&!k._muted){var D=n.ctx.currentTime,L=D+y/1e3;k._volume=h,k._node.gain.setValueAtTime(h,D),k._node.gain.linearRampToValueAtTime(g,L)}w._startFadeInterval(k,h,g,y,S[T],typeof b>"u")}}return w},_startFadeInterval:function(h,g,y,b,w,S){var T=this,k=g,D=y-g,L=Math.abs(D/.01),z=Math.max(4,L>0?b/L:b),j=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var ae=(Date.now()-j)/b;j=Date.now(),k+=D*ae,k=Math.round(k*100)/100,D<0?k=Math.max(y,k):k=Math.min(y,k),T._webAudio?h._volume=k:T.volume(k,h._id,!0),S&&(T._volume=k),(y<g&&k<=y||y>g&&k>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,T.volume(y,h._id),T._emit("fade",h._id))},z)},_stopFade:function(h){var g=this,y=g._soundById(h);return y&&y._interval&&(g._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,g.volume(y._fadeTo,h),y._fadeTo=null,g._emit("fade",h)),g},loop:function(){var h=this,g=arguments,y,b,w;if(g.length===0)return h._loop;if(g.length===1)if(typeof g[0]=="boolean")y=g[0],h._loop=y;else return w=h._soundById(parseInt(g[0],10)),w?w._loop:!1;else g.length===2&&(y=g[0],b=parseInt(g[1],10));for(var S=h._getSoundIds(b),T=0;T<S.length;T++)w=h._soundById(S[T]),w&&(w._loop=y,h._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=y,y&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,h.playing(S[T])&&(h.pause(S[T],!0),h.play(S[T],!0)))));return h},rate:function(){var h=this,g=arguments,y,b;if(g.length===0)b=h._sounds[0]._id;else if(g.length===1){var w=h._getSoundIds(),S=w.indexOf(g[0]);S>=0?b=parseInt(g[0],10):y=parseFloat(g[0])}else g.length===2&&(y=parseFloat(g[0]),b=parseInt(g[1],10));var T;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,g)}}),h;typeof b>"u"&&(h._rate=y),b=h._getSoundIds(b);for(var k=0;k<b.length;k++)if(T=h._soundById(b[k]),T){h.playing(b[k])&&(T._rateSeek=h.seek(b[k]),T._playStart=h._webAudio?n.ctx.currentTime:T._playStart),T._rate=y,h._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):T._node&&(T._node.playbackRate=y);var D=h.seek(b[k]),L=(h._sprite[T._sprite][0]+h._sprite[T._sprite][1])/1e3-D,z=L*1e3/Math.abs(T._rate);(h._endTimers[b[k]]||!T._paused)&&(h._clearTimer(b[k]),h._endTimers[b[k]]=setTimeout(h._ended.bind(h,T),z)),h._emit("rate",T._id)}}else return T=h._soundById(b),T?T._rate:h._rate;return h},seek:function(){var h=this,g=arguments,y,b;if(g.length===0)h._sounds.length&&(b=h._sounds[0]._id);else if(g.length===1){var w=h._getSoundIds(),S=w.indexOf(g[0]);S>=0?b=parseInt(g[0],10):h._sounds.length&&(b=h._sounds[0]._id,y=parseFloat(g[0]))}else g.length===2&&(y=parseFloat(g[0]),b=parseInt(g[1],10));if(typeof b>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,g)}}),h;var T=h._soundById(b);if(T)if(typeof y=="number"&&y>=0){var k=h.playing(b);k&&h.pause(b,!0),T._seek=y,T._ended=!1,h._clearTimer(b),!h._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=y);var D=function(){k&&h.play(b,!0),h._emit("seek",b)};if(k&&!h._webAudio){var L=function(){h._playLock?setTimeout(L,0):D()};setTimeout(L,0)}else D()}else if(h._webAudio){var z=h.playing(b)?n.ctx.currentTime-T._playStart:0,j=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(j+z*Math.abs(T._rate))}else return T._node.currentTime;return h},playing:function(h){var g=this;if(typeof h=="number"){var y=g._soundById(h);return y?!y._paused:!1}for(var b=0;b<g._sounds.length;b++)if(!g._sounds[b]._paused)return!0;return!1},duration:function(h){var g=this,y=g._duration,b=g._soundById(h);return b&&(y=g._sprite[b._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,g=h._sounds,y=0;y<g.length;y++)g[y]._paused||h.stop(g[y]._id),h._webAudio||(h._clearSound(g[y]._node),g[y]._node.removeEventListener("error",g[y]._errorFn,!1),g[y]._node.removeEventListener(n._canPlayEvent,g[y]._loadFn,!1),g[y]._node.removeEventListener("ended",g[y]._endFn,!1),n._releaseHtml5Audio(g[y]._node)),delete g[y]._node,h._clearTimer(g[y]._id);var b=n._howls.indexOf(h);b>=0&&n._howls.splice(b,1);var w=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){w=!1;break}return s&&w&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,g,y,b){var w=this,S=w["_on"+h];return typeof g=="function"&&S.push(b?{id:y,fn:g,once:b}:{id:y,fn:g}),w},off:function(h,g,y){var b=this,w=b["_on"+h],S=0;if(typeof g=="number"&&(y=g,g=null),g||y)for(S=0;S<w.length;S++){var T=y===w[S].id;if(g===w[S].fn&&T||!g&&T){w.splice(S,1);break}}else if(h)b["_on"+h]=[];else{var k=Object.keys(b);for(S=0;S<k.length;S++)k[S].indexOf("_on")===0&&Array.isArray(b[k[S]])&&(b[k[S]]=[])}return b},once:function(h,g,y){var b=this;return b.on(h,g,y,1),b},_emit:function(h,g,y){for(var b=this,w=b["_on"+h],S=w.length-1;S>=0;S--)(!w[S].id||w[S].id===g||h==="load")&&(setTimeout((function(T){T.call(this,g,y)}).bind(b,w[S].fn),0),w[S].once&&b.off(h,w[S].fn,w[S].id));return b._loadQueue(h),b},_loadQueue:function(h){var g=this;if(g._queue.length>0){var y=g._queue[0];y.event===h&&(g._queue.shift(),g._loadQueue()),h||y.action()}return g},_ended:function(h){var g=this,y=h._sprite;if(!g._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(g._ended.bind(g,h),100),g;var b=!!(h._loop||g._sprite[y][2]);if(g._emit("end",h._id),!g._webAudio&&b&&g.stop(h._id,!0).play(h._id),g._webAudio&&b){g._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var w=(h._stop-h._start)*1e3/Math.abs(h._rate);g._endTimers[h._id]=setTimeout(g._ended.bind(g,h),w)}return g._webAudio&&!b&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,g._clearTimer(h._id),g._cleanBuffer(h._node),n._autoSuspend()),!g._webAudio&&!b&&g.stop(h._id,!0),g},_clearTimer:function(h){var g=this;if(g._endTimers[h]){if(typeof g._endTimers[h]!="function")clearTimeout(g._endTimers[h]);else{var y=g._soundById(h);y&&y._node&&y._node.removeEventListener("ended",g._endTimers[h],!1)}delete g._endTimers[h]}return g},_soundById:function(h){for(var g=this,y=0;y<g._sounds.length;y++)if(h===g._sounds[y]._id)return g._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var g=0;g<h._sounds.length;g++)if(h._sounds[g]._ended)return h._sounds[g].reset();return new o(h)},_drain:function(){var h=this,g=h._pool,y=0,b=0;if(!(h._sounds.length<g)){for(b=0;b<h._sounds.length;b++)h._sounds[b]._ended&&y++;for(b=h._sounds.length-1;b>=0;b--){if(y<=g)return;h._sounds[b]._ended&&(h._webAudio&&h._sounds[b]._node&&h._sounds[b]._node.disconnect(0),h._sounds.splice(b,1),y--)}}},_getSoundIds:function(h){var g=this;if(typeof h>"u"){for(var y=[],b=0;b<g._sounds.length;b++)y.push(g._sounds[b]._id);return y}else return[h]},_refreshBuffer:function(h){var g=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[g._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),g},_cleanBuffer:function(h){var g=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return g;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,g},_clearSound:function(h){var g=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);g||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,g=h._parent;return h._muted=g._muted,h._loop=g._loop,h._volume=g._volume,h._rate=g._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,g._sounds.push(h),h.create(),h},create:function(){var h=this,g=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return g._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=g._src,h._node.preload=g._preload===!0?"auto":g._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,g=h._parent;return h._muted=g._muted,h._loop=g._loop,h._volume=g._volume,h._rate=g._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,g=h._parent;g._duration=Math.ceil(h._node.duration*10)/10,Object.keys(g._sprite).length===0&&(g._sprite={__default:[0,g._duration*1e3]}),g._state!=="loaded"&&(g._state="loaded",g._emit("load"),g._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,g=h._parent;g._duration===1/0&&(g._duration=Math.ceil(h._node.duration*10)/10,g._sprite.__default[1]===1/0&&(g._sprite.__default[1]=g._duration*1e3),g._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var g=h._src;if(s[g]){h._duration=s[g].duration,d(h);return}if(/^data:[^;]+;base64,/.test(g)){for(var y=atob(g.split(",")[1]),b=new Uint8Array(y.length),w=0;w<y.length;++w)b[w]=y.charCodeAt(w);f(b.buffer,h)}else{var S=new XMLHttpRequest;S.open(h._xhr.method,g,!0),S.withCredentials=h._xhr.withCredentials,S.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(T){S.setRequestHeader(T,h._xhr.headers[T])}),S.onload=function(){var T=(S.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}f(S.response,h)},S.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[g],h.load())},l(S)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,g){var y=function(){g._emit("loaderror",null,"Decoding audio data failed.")},b=function(w){w&&g._sounds.length>0?(s[g._src]=w,d(g,w)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(b).catch(y):n.ctx.decodeAudioData(h,b,y)},d=function(h,g){g&&!h._duration&&(h._duration=g.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},m=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),g=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=g?parseInt(g[1],10):null;if(h&&y&&y<9){var b=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!b&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof Du<"u"?(Du.HowlerGlobal=t,Du.Howler=n,Du.Howl=r,Du.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,u=typeof u!="number"?d[4]:u,l=typeof l!="number"?d[5]:l,typeof n=="number")f._orientation=[n,r,o,s,u,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,l);else return d;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),l=0;l<u.length;l++){var f=o._soundById(u[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var d=u._soundById(l[f]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),u._emit("pos",d._id);else return d._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var d=u._soundById(l[f]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=u._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),u._emit("orientation",d._id);else return d._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(u=n._soundById(l[f]),u){var d=u._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var m=u._panner;m||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),m=u._panner),m.coneInnerAngle=d.coneInnerAngle,m.coneOuterAngle=d.coneOuterAngle,m.coneOuterGain=d.coneOuterGain,m.distanceModel=d.distanceModel,m.maxDistance=d.maxDistance,m.refDistance=d.refDistance,m.rolloffFactor=d.rolloffFactor,m.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Mv);const yh={formatTime(e){const t=Math.floor(e),n=Math.floor(t/60)||0,r=t%60;return`${n}:${r.toString().padStart(2,"0")}`}},eo=py("player",{state:()=>({currentSong:{},sound:{},seek:"0:00",displayDuration:"0:00",duration:0,playerProgress:0,volume:50,isDragging:!1}),actions:{async play(e){this.sound instanceof Mv.Howl&&this.sound.unload(),this.currentSong=e,this.isDragging=!1,this.sound=new Mv.Howl({src:[e.url],html5:!0,volume:this.volume/100}),this.sound.play(),this.sound.on("play",()=>{this.duration=this.sound.duration(),this.displayDuration=yh.formatTime(this.duration),requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.isDragging||(this.seek=yh.formatTime(this.sound.seek()),this.playerProgress=this.sound.seek()/this.sound.duration()*100),this.sound.playing()&&requestAnimationFrame(this.progress)},updateVolume(e){this.sound.playing&&this.sound.volume(e/100)},updateSeek(e){if(!this.sound.playing)return;const t=e/100,n=this.sound.duration()*t;this.sound.seek(n),this.sound.once("seek",()=>{requestAnimationFrame(this.progress)})},setIsDragging(e){this.isDragging=e}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1,isSongInPlayer:e=>t=>e.currentSong&&e.currentSong===t,isSongPlaying:e=>t=>e.isSongInPlayer(t)?e.playing:!1,playerHasSong:e=>e.sound.playing}}),r$="/musicfy/assets/img/equaliser-animated-green.gif",i$={name:"SongItem",props:{song:{type:Object,required:!0},index:{type:Number,required:!0},inPlayer:{type:Boolean,required:!0},playing:{type:Boolean,required:!0},isSelected:{type:Boolean,required:!0}},emits:["double-click"],methods:{...gs(eo,["play","toggleAudio"]),getDuration(){return yh.formatTime(this.song.duration??0)},handleDblClick(e){this.$emit("double-click"),this.play(e)}},components:{RouterLink:uC}},o$={class:"hidden sm:flex justify-center items-center"},s$={src:r$,alt:"Sound wave",class:"group-hover:hidden w-3.5"},a$={class:"overflow-x-clip text-ellipsis"},u$=["onClick"],l$={class:"flex justify-end items-center gap-4"},c$=O("i",{class:"!hidden sm:!block fa-solid fa-heart text-green-500"},null,-1),f$={class:"hidden sm:block w-9"};function h$(e,t,n,r,o,s){const u=ct("RouterLink");return Ue(),Qe("tr",{class:vt(["group hover:cursor-pointer",{"bg-white bg-opacity-30 ":n.isSelected,"sm:hover:bg-white sm:hover:bg-opacity-10 sm:hover:text-white secondary-text":!n.isSelected}])},[O("td",{class:vt(["hidden sm:table-cell rounded-l-md",{"text-green-500":n.inPlayer,"text-secondary":!n.inPlayer}])},[O("div",o$,[O("i",{class:vt(["!hidden group-hover:!block fa-solid text-white text-sm",{"fa-pause ":n.playing,"fa-play":!n.playing}]),onClick:t[0]||(t[0]=Ft(l=>n.inPlayer?e.toggleAudio():e.play(n.song),["prevent"]))},null,2),no(O("p",{class:"group-hover:hidden"},gt(n.index+1),513),[[os,!n.playing]]),no(O("img",s$,null,512),[[os,n.playing]])])],2),O("td",{id:"title",onDblclick:t[1]||(t[1]=l=>s.handleDblClick(n.song)),class:"rounded-l-md sm:rounded-none px-2"},[ye(u,{to:{name:"song",params:{id:n.song.docID}},class:"text-white w-max border-b border-b-transparent hover:border-b-white"},{default:nn(()=>[O("span",{class:vt(["overflow-x-clip text-ellipsis",{"text-white":!n.inPlayer,"text-green-500":n.inPlayer}])},gt(n.song.modified_name),3)]),_:1},8,["to"]),ye(u,{to:{name:"song",params:{id:n.song.docID}},class:"block w-max border-b border-b-transparent hover:border-b-white text-sm"},{default:nn(()=>[O("span",a$,gt(n.song.artist?n.song.artist:"Unknown artist"),1)]),_:1},8,["to"])],32),O("td",{id:"genre",onDblclick:t[2]||(t[2]=l=>s.handleDblClick(n.song)),class:"hidden sm:table-cell"},gt(n.song.genre?n.song.genre:"Unknown genre"),33),O("td",{id:"comments",onDblclick:t[3]||(t[3]=l=>s.handleDblClick(n.song)),class:"hidden sm:table-cell"},[ye(u,{custom:"",to:{name:"song",params:{id:n.song.docID},hash:"#comments"}},{default:nn(({navigate:l})=>[O("span",{onClick:l},gt(n.song.comment_count),9,u$)]),_:1},8,["to"])],32),O("td",{id:"duration",onDblclick:t[5]||(t[5]=l=>s.handleDblClick(n.song)),class:"rounded-r-md px-2"},[O("div",l$,[c$,O("i",{class:vt(["sm:!hidden fa-solid text-white text-xl",{"fa-pause":n.playing,"fa-play":!n.playing}]),onClick:t[4]||(t[4]=Ft(l=>n.inPlayer?e.toggleAudio():e.play(n.song),["prevent"]))},null,2),O("p",f$,gt(s.getDuration()),1)])],32)],2)}const d$=Mn(i$,[["render",h$]]),Fv="/musicfy/assets/img/liked-songs-300.webp",sT="/musicfy/assets/img/liked-songs-640.webp",p$={name:"AppPlaylist",components:{SongItem:d$},props:{songs:{type:Array,required:!0}},data(){return{selectedSong:""}},computed:{...ss(eo,["playing","songInPlayer","isSongInPlayer","isSongPlaying","playerHasSong"]),...ss(so,["username"])},methods:{...gs(eo,["play","toggleAudio"]),isSongSelected(e){return this.selectedSong===e},selectSong(e){this.selectedSong=this.selectedSong===e?null:e},handleDblClick(e){this.selectSong(e.docID),this.play(e)}}},g$=Fv+" 150w, "+Fv+" 300w, "+sT+" 320w, "+sT+" 640w",m$={class:"mx-4 pt-32 sm:pt-40 pb-6 text-white text-center font-circular-thin"},v$={class:"container flex justify-between sm:justify-start sm:gap-6"},y$=O("img",{"aria-hidden":"false",draggable:"false",loading:"eager",src:Fv,alt:"Liked songs",class:"shadow-3xl order-2 sm:order-1 w-28 h-28 sm:w-auto sm:h-auto",srcset:g$,sizes:"(min-width: 1280px) 232px, 192px"},null,-1),b$={class:"text-white main-header-content flex flex-col sm:grow gap-1 sm:gap-4 justify-center items-start order-1"},_$=O("h4",{class:"text-xs sm:text-base"},"Playlist",-1),w$=O("h1",{class:"text-xl sm:text-8xl lg:text-8xl font-circular-black"},"Liked Songs",-1),E$={class:"text-xs sm:text-base"},S$={class:"font-circular-regular"},T$={class:"py-5 bg-zinc-900 bg-opacity-30 font-circular-thin min-h-[50vh]"},I$={type:"button",class:"mx-4 sm:mx-8"},A$={class:"mx-4 sm:mx-8 mt-4"},x$={id:"playlist",class:"w-full text-left mb-40"},k$=O("thead",{class:"border-b border-zinc-400 border-opacity-10 secondary-text"},[O("tr",null,[O("th",{class:"hidden sm:table-cell px-4 sm:w-8 font-light"},"#"),O("th",{class:"sm:w-2/5 p-1 font-light"},"Title"),O("th",{class:"hidden sm:table-cell w-1/3 font-light"},"Genre"),O("th",{class:"hidden sm:table-cell w-1/5 font-light"},"Comments"),O("th",{class:"hidden sm:table-cell w-2/12 font-light"},[O("div",{class:"flex justify-end mr-2 font-light"},[O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 secondary-text","aria-label":"duration"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])])])])],-1),C$={class:"text-white"},O$=O("tr",{class:"h-2"},null,-1),P$={key:0};function N$(e,t,n,r,o,s){const u=ct("SongItem");return Ue(),Qe(Xt,null,[O("section",m$,[O("div",v$,[y$,O("div",b$,[_$,w$,O("p",E$,[O("span",S$,gt(e.username)+"  "+gt(n.songs.length)+" songs ",1)])])])]),O("section",T$,[O("button",I$,[O("i",{class:vt(["text-[#1ed760] text-5xl hover:scale-110 bg-black rounded-full",{"fa fa-play-circle":!e.playing,"fa fa-pause-circle":e.playing}]),onClick:t[0]||(t[0]=Ft(l=>e.playerHasSong?e.toggleAudio():e.play(this.songs[0]),["prevent"]))},null,2)]),O("div",A$,[O("table",x$,[k$,O("tbody",C$,[O$,n.songs.length===0?(Ue(),Qe("div",P$,"Empty playlist.")):(Ue(!0),Qe(Xt,{key:1},Ml(n.songs,(l,f)=>(Ue(),rs(u,{key:l.docID,song:l,index:f,"in-player":e.isSongInPlayer(l),playing:e.isSongPlaying(l),"is-selected":s.isSongSelected(l.docID),onClick:d=>s.selectSong(l.docID),onDoubleClick:d=>s.handleDblClick(l)},null,8,["song","index","in-player","playing","is-selected","onClick","onDoubleClick"]))),128))])])])])],64)}const R$=Mn(p$,[["render",N$]]);function Pm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Fb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,l;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,l=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(u)throw l}}}}function D$(e){return F$(e)||M$(e)||Fb(e)||L$()}function L$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F$(e){if(Array.isArray(e))return Vv(e)}function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function Nm(e,t){return U$(e)||j$(e,t)||Fb(e,t)||V$()}function V$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fb(e,t){if(e){if(typeof e=="string")return Vv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vv(e,t)}}function Vv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);f=!0);}catch(m){d=!0,o=m}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function U$(e){if(Array.isArray(e))return e}var Gi={innerWidth:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)},getWindowScrollLeft:function(){var t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)},getOuterWidth:function(t,n){if(t){var r=t.offsetWidth;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}return 0},getOuterHeight:function(t,n){if(t){var r=t.offsetHeight;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}return 0},getClientHeight:function(t,n){if(t){var r=t.clientHeight;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}return 0},getViewport:function(){var t=window,n=document,r=n.documentElement,o=n.getElementsByTagName("body")[0],s=t.innerWidth||r.clientWidth||o.clientWidth,u=t.innerHeight||r.clientHeight||o.clientHeight;return{width:s,height:u}},getOffset:function(t){if(t){var n=t.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(t){if(t)for(var n=t.parentNode.childNodes,r=0,o=0;o<n.length;o++){if(n[o]===t)return r;n[o].nodeType===1&&r++}return-1},addMultipleClasses:function(t,n){var r=this;t&&n&&[n].flat().filter(Boolean).forEach(function(o){return o.split(" ").forEach(function(s){return r.addClass(t,s)})})},removeMultipleClasses:function(t,n){var r=this;t&&n&&[n].flat().filter(Boolean).forEach(function(o){return o.split(" ").forEach(function(s){return r.removeClass(t,s)})})},addClass:function(t,n){t&&n&&!this.hasClass(t,n)&&(t.classList?t.classList.add(n):t.className+=" "+n)},removeClass:function(t,n){t&&n&&(t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(t,n){return t?t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className):!1},addStyles:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t&&Object.entries(n).forEach(function(r){var o=Nm(r,2),s=o[0],u=o[1];return t.style[s]=u})},find:function(t,n){return this.isElement(t)?t.querySelectorAll(n):[]},findSingle:function(t,n){return this.isElement(t)?t.querySelector(n):null},createElement:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var r=document.createElement(t);this.setAttributes(r,n);for(var o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];return r.append.apply(r,s),r}},setAttribute:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(n,r)},setAttributes:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(t)){var o=function s(u,l){var f,d,m=t!=null&&(f=t.$attrs)!==null&&f!==void 0&&f[u]?[t==null||(d=t.$attrs)===null||d===void 0?void 0:d[u]]:[];return[l].flat().reduce(function(h,g){if(g!=null){var y=Zu(g);if(y==="string"||y==="number")h.push(g);else if(y==="object"){var b=Array.isArray(g)?s(u,g):Object.entries(g).map(function(w){var S=Nm(w,2),T=S[0],k=S[1];return u==="style"&&(k||k===0)?"".concat(T.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(k):k?T:void 0});h=b.length?h.concat(b.filter(function(w){return!!w})):h}}return h},m)};Object.entries(r).forEach(function(s){var u=Nm(s,2),l=u[0],f=u[1];if(f!=null){var d=l.match(/^on(.+)/);d?t.addEventListener(d[1].toLowerCase(),f):l==="p-bind"?n.setAttributes(t,f):(f=l==="class"?D$(new Set(o("class",f))).join(" ").trim():l==="style"?o("style",f).join(";").trim():f,(t.$attrs=t.$attrs||{})&&(t.$attrs[l]=f),t.setAttribute(l,f))}})}},getAttribute:function(t,n){if(this.isElement(t)){var r=t.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(t,n,r){return this.isElement(t)?this.getAttribute(t,n)===r:!1},isAttributeNotEquals:function(t,n,r){return!this.isAttributeEquals(t,n,r)},getHeight:function(t){if(t){var n=t.offsetHeight,r=getComputedStyle(t);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(t,n){if(t){var r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.height,s=r.width,u=n.offsetHeight,l=n.offsetWidth,f=n.getBoundingClientRect(),d=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),h=this.getViewport(),g,y;f.top+u+o>h.height?(g=f.top+d-o,t.style.transformOrigin="bottom",g<0&&(g=d)):(g=u+f.top+d,t.style.transformOrigin="top"),f.left+s>h.width?y=Math.max(0,f.left+m+l-s):y=f.left+m,t.style.top=g+"px",t.style.left=y+"px"}},relativePosition:function(t,n){if(t){var r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=n.offsetHeight,s=n.getBoundingClientRect(),u=this.getViewport(),l,f;s.top+o+r.height>u.height?(l=-1*r.height,t.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,t.style.transformOrigin="top"),r.width>u.width?f=s.left*-1:s.left+r.width>u.width?f=(s.left+r.width-u.width)*-1:f=0,t.style.top=l+"px",t.style.left=f+"px"}},getParents:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.parentNode===null?n:this.getParents(t.parentNode,n.concat([t.parentNode]))},getScrollableParents:function(t){var n=[];if(t){var r=this.getParents(t),o=/(auto|scroll)/,s=function(S){try{var T=window.getComputedStyle(S,null);return o.test(T.getPropertyValue("overflow"))||o.test(T.getPropertyValue("overflowX"))||o.test(T.getPropertyValue("overflowY"))}catch{return!1}},u=Pm(r),l;try{for(u.s();!(l=u.n()).done;){var f=l.value,d=f.nodeType===1&&f.dataset.scrollselectors;if(d){var m=d.split(","),h=Pm(m),g;try{for(h.s();!(g=h.n()).done;){var y=g.value,b=this.findSingle(f,y);b&&s(b)&&n.push(b)}}catch(w){h.e(w)}finally{h.f()}}f.nodeType!==9&&s(f)&&n.push(f)}}catch(w){u.e(w)}finally{u.f()}}return n},getHiddenElementOuterHeight:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var n=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var n=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(t){if(t){var n={};return t.style.visibility="hidden",t.style.display="block",n.width=t.offsetWidth,n.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",n}return 0},fadeIn:function(t,n){if(t){t.style.opacity=0;var r=+new Date,o=0,s=function u(){o=+t.style.opacity+(new Date().getTime()-r)/n,t.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};s()}},fadeOut:function(t,n){if(t)var r=1,o=50,s=n,u=o/s,l=setInterval(function(){r-=u,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},o)},getUserAgent:function(){return navigator.userAgent},appendChild:function(t,n){if(this.isElement(n))n.appendChild(t);else if(n.el&&n.elElement)n.elElement.appendChild(t);else throw new Error("Cannot append "+n+" to "+t)},isElement:function(t){return(typeof HTMLElement>"u"?"undefined":Zu(HTMLElement))==="object"?t instanceof HTMLElement:t&&Zu(t)==="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},scrollInView:function(t,n){var r=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),u=s?parseFloat(s):0,l=t.getBoundingClientRect(),f=n.getBoundingClientRect(),d=f.top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-u,m=t.scrollTop,h=t.clientHeight,g=this.getOuterHeight(n);d<0?t.scrollTop=m+d:d+g>h&&(t.scrollTop=m+d-h+g)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var t=document.createElement("div");this.addStyles(t,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var t=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(t){return t&&t.offsetParent!=null},invokeElementMethod:function(t,n,r){t[n].apply(t,r)},isExist:function(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode)},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(t,n){t&&document.activeElement!==t&&t.focus(n)},isFocusableElement:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(t)?t.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),o=[],s=Pm(r),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;getComputedStyle(l).display!="none"&&getComputedStyle(l).visibility!="hidden"&&o.push(l)}}catch(f){s.e(f)}finally{s.f()}return o},getFirstFocusableElement:function(t,n){var r=this.getFocusableElements(t,n);return r.length>0?r[0]:null},getLastFocusableElement:function(t,n){var r=this.getFocusableElements(t,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(t,n,r){var o=this.getFocusableElements(t,r),s=o.length>0?o.findIndex(function(l){return l===n}):-1,u=s>-1&&o.length>=s+1?s+1:-1;return u>-1?o[u]:null},isClickable:function(t){if(t){var n=t.nodeName,r=t.parentElement&&t.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!t.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(t,n){if(typeof n=="string")t.style.cssText=n;else for(var r in n)t.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(t){if(t){var n=getComputedStyle(t),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(t){if(t){var n=getComputedStyle(t),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(t,n){var r=new Blob([t],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var o=document.createElement("a");o.download!==void 0?(o.setAttribute("href",URL.createObjectURL(r)),o.setAttribute("download",n+".csv"),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)):(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}},blockBodyScroll:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)},unblockBodyScroll:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}};function B$(e,t){return H$(e)||q$(e,t)||Vb(e,t)||$$()}function $$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);f=!0);}catch(m){d=!0,o=m}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function H$(e){if(Array.isArray(e))return e}function aT(e){return G$(e)||W$(e)||Vb(e)||K$()}function K$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function G$(e){if(Array.isArray(e))return jv(e)}function Rm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,l;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,l=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(u)throw l}}}}function Vb(e,t){if(e){if(typeof e=="string")return jv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jv(e,t)}}function jv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}var mn={equals:function(t,n,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(n,r):this.deepEquals(t,n)},deepEquals:function(t,n){if(t===n)return!0;if(t&&n&&el(t)=="object"&&el(n)=="object"){var r=Array.isArray(t),o=Array.isArray(n),s,u,l;if(r&&o){if(u=t.length,u!=n.length)return!1;for(s=u;s--!==0;)if(!this.deepEquals(t[s],n[s]))return!1;return!0}if(r!=o)return!1;var f=t instanceof Date,d=n instanceof Date;if(f!=d)return!1;if(f&&d)return t.getTime()==n.getTime();var m=t instanceof RegExp,h=n instanceof RegExp;if(m!=h)return!1;if(m&&h)return t.toString()==n.toString();var g=Object.keys(t);if(u=g.length,u!==Object.keys(n).length)return!1;for(s=u;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,g[s]))return!1;for(s=u;s--!==0;)if(l=g[s],!this.deepEquals(t[l],n[l]))return!1;return!0}return t!==t&&n!==n},resolveFieldData:function(t,n){if(!t||!n)return null;try{var r=t[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(t).length){if(this.isFunction(n))return n(t);if(n.indexOf(".")===-1)return t[n];for(var o=n.split("."),s=t,u=0,l=o.length;u<l;++u){if(s==null)return null;s=s[o[u]]}return s}return null},getItemValue:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.isFunction(t)?t.apply(void 0,r):t},filter:function(t,n,r){var o=[];if(t){var s=Rm(t),u;try{for(s.s();!(u=s.n()).done;){var l=u.value,f=Rm(n),d;try{for(f.s();!(d=f.n()).done;){var m=d.value;if(String(this.resolveFieldData(l,m)).toLowerCase().indexOf(r.toLowerCase())>-1){o.push(l);break}}}catch(h){f.e(h)}finally{f.f()}}}catch(h){s.e(h)}finally{s.f()}}return o},reorderArray:function(t,n,r){t&&n!==r&&(r>=t.length&&(r%=t.length,n%=t.length),t.splice(r,0,t.splice(n,1)[0]))},findIndexInList:function(t,n){var r=-1;if(n){for(var o=0;o<n.length;o++)if(n[o]===t){r=o;break}}return r},contains:function(t,n){if(t!=null&&n&&n.length){var r=Rm(n),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;if(this.equals(t,s))return!0}}catch(u){r.e(u)}finally{r.f()}}return!1},insertIntoOrderedArray:function(t,n,r,o){if(r.length>0){for(var s=!1,u=0;u<r.length;u++){var l=this.findIndexInList(r[u],o);if(l>n){r.splice(u,0,t),s=!0;break}}s||r.push(t)}else r.push(t)},removeAccents:function(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t},getVNodeProp:function(t,n){var r=t.props;if(r){var o=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,o)?o:n;return t.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}return null},toFlatCase:function(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t},toKebabCase:function(t){return this.isString(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():t},toCapitalCase:function(t){return this.isString(t,{empty:!1})?t[0].toUpperCase()+t.slice(1):t},isEmpty:function(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&el(t)==="object"&&Object.keys(t).length===0},isNotEmpty:function(t){return!this.isEmpty(t)},isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},isObject:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t instanceof Object&&t.constructor===Object&&(n||Object.keys(t).length!==0)},isDate:function(t){return t instanceof Date&&t.constructor===Date},isArray:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(t)&&(n||t.length!==0)},isString:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof t=="string"&&(n||t!=="")},isPrintableCharacter:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)},findLast:function(t,n){var r;if(this.isNotEmpty(t))try{r=t.findLast(n)}catch{r=aT(t).reverse().find(n)}return r},findLastIndex:function(t,n){var r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(n)}catch{r=t.lastIndexOf(aT(t).reverse().find(n))}return r},sort:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=this.compare(t,n,o,r),l=r;return(this.isEmpty(t)||this.isEmpty(n))&&(l=s===1?r:s),l*u},compare:function(t,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,u=this.isEmpty(t),l=this.isEmpty(n);return u&&l?s=0:u?s=o:l?s=-o:typeof t=="string"&&typeof n=="string"?s=r(t,n):s=t<n?-1:t>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(o,s){var u=B$(s,2),l=u[0],f=u[1],d=r?"".concat(r,".").concat(l):l;return t.isObject(f)?o=o.concat(t.nestedKeys(f,d)):o.push(d),o},[])}};function kl(e){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kl(e)}function uT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function lT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(n),!0).forEach(function(r){z$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z$(e,t,n){return t=X$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X$(e){var t=Y$(e,"string");return kl(t)==="symbol"?t:String(t)}function Y$(e,t){if(kl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ma()?Ll(e):t?e():Cr(e)}var J$=0;function cC(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=tn(!1),r=tn(e),o=tn(null),s=Gi.isClient()?window.document:void 0,u=t.document,l=u===void 0?s:u,f=t.immediate,d=f===void 0?!0:f,m=t.manual,h=m===void 0?!1:m,g=t.name,y=g===void 0?"style_".concat(++J$):g,b=t.id,w=b===void 0?void 0:b,S=t.media,T=S===void 0?void 0:S,k=t.nonce,D=k===void 0?void 0:k,L=t.props,z=L===void 0?{}:L,j=function(){},ae=function(x){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l){var re=lT(lT({},z),Ce),ke=re.name||y,Le=re.id||w,Ke=re.nonce||D;o.value=l.querySelector('style[data-primevue-style-id="'.concat(ke,'"]'))||l.getElementById(Le)||l.createElement("style"),o.value.isConnected||(r.value=x||e,Gi.setAttributes(o.value,{type:"text/css",id:Le,media:T,nonce:Ke}),l.head.appendChild(o.value),Gi.setAttribute(o.value,"data-primevue-style-id",y),Gi.setAttributes(o.value,re)),!n.value&&(j=Kn(r,function(se){o.value.textContent=se},{immediate:!0}),n.value=!0)}},M=function(){!l||!n.value||(j(),Gi.isExist(o.value)&&l.head.removeChild(o.value),n.value=!1)};return d&&!h&&Q$(ae),{id:w,name:y,css:r,unload:M,load:ae,isLoaded:Oh(n)}}function Cl(e){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cl(e)}function Z$(e,t){return rq(e)||nq(e,t)||tq(e,t)||eq()}function eq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tq(e,t){if(e){if(typeof e=="string")return cT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cT(e,t)}}function cT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nq(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);f=!0);}catch(m){d=!0,o=m}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function rq(e){if(Array.isArray(e))return e}function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Dm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(r){iq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iq(e,t,n){return t=oq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oq(e){var t=sq(e,"string");return Cl(t)==="symbol"?t:String(t)}function sq(e,t){if(Cl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Cl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aq=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,uq={},lq={},jb={name:"base",css:aq,classes:uq,inlineStyles:lq,loadStyle:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?cC(this.css,Dm({name:this.name},t)):{}},getStyleSheet:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(o,s){var u=Z$(s,2),l=u[0],f=u[1];return o.push("".concat(l,'="').concat(f,'"'))&&o},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(t,"</style>")}return""},extend:function(t){return Dm(Dm({},this),{},{css:void 0},t)}};function Ol(e){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ol(e)}function hT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function cq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(n),!0).forEach(function(r){fq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fq(e,t,n){return t=hq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hq(e){var t=dq(e,"string");return Ol(t)==="symbol"?t:String(t)}function dq(e,t){if(Ol(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ol(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pq=`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-buttonset .p-button {
    margin: 0;
}

.p-buttonset .p-button:not(:last-child), .p-buttonset .p-button:not(:last-child):hover {
    border-right: 0 none;
}

.p-buttonset .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-buttonset .p-button:first-of-type:not(:only-of-type) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-buttonset .p-button:last-of-type:not(:only-of-type) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-buttonset .p-button:focus {
    position: relative;
    z-index: 1;
}
`,gq=`
.p-checkbox {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    vertical-align: bottom;
    position: relative;
}

.p-checkbox.p-checkbox-disabled {
    cursor: default;
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
}
`,mq=`
.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label {
    top: -.75rem;
    font-size: 12px;
}


.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-left > svg,
.p-input-icon-right > i,
.p-input-icon-right > svg {
    position: absolute;
    top: 50%;
    margin-top: -.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,vq=`
.p-radiobutton {
    position: relative;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    vertical-align: bottom;
}

.p-radiobutton.p-radiobutton-disabled {
    cursor: default;
}

.p-radiobutton-box {
    display: flex;
    justify-content: center;
    align-items: center;
}

.p-radiobutton-icon {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    transform: translateZ(0) scale(.1);
    border-radius: 50%;
    visibility: hidden;
}

.p-radiobutton-box.p-highlight .p-radiobutton-icon {
    transform: translateZ(0) scale(1.0, 1.0);
    visibility: visible;
}
`,yq=`
@layer primevue {
.p-component, .p-component * {
    box-sizing: border-box;
}

.p-hidden-space {
    visibility: hidden;
}

.p-reset {
    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    text-decoration: none;
    font-size: 100%;
    list-style: none;
}

.p-disabled, .p-disabled * {
    cursor: default !important;
    pointer-events: none;
    user-select: none;
}

.p-component-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-unselectable-text {
    user-select: none;
}

.p-sr-only {
    border: 0;
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
    word-wrap: normal !important;
}

.p-link {
	text-align: left;
	background-color: transparent;
	margin: 0;
	padding: 0;
	border: none;
    cursor: pointer;
    user-select: none;
}

.p-link:disabled {
	cursor: default;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity .1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity .1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}
`.concat(pq,`
`).concat(gq,`
`).concat(mq,`
`).concat(vq,`
}
`),Lm=jb.extend({name:"common",css:yq,loadGlobalStyle:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return cC(t,cq({name:"global"},n))}});function Pl(e){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(e)}function dT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(n),!0).forEach(function(r){Uv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uv(e,t,n){return t=bq(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bq(e){var t=_q(e,"string");return Pl(t)==="symbol"?t:String(t)}function _q(e,t){if(Pl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Pl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wq={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(t){if(!t){var n,r;Lm.loadStyle({nonce:(n=this.$config)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var t,n,r,o,s,u,l,f,d,m,h,g=(t=this.pt)===null||t===void 0?void 0:t._usept,y=g?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,b=g?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(o=b||y)===null||o===void 0||(o=o.hooks)===null||o===void 0||(s=o.onBeforeCreate)===null||s===void 0||s.call(o);var w=(u=this.$config)===null||u===void 0||(u=u.pt)===null||u===void 0?void 0:u._usept,S=w?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.originalValue:void 0,T=w?(f=this.$primevue)===null||f===void 0||(f=f.config)===null||f===void 0||(f=f.pt)===null||f===void 0?void 0:f.value:(d=this.$primevue)===null||d===void 0||(d=d.config)===null||d===void 0?void 0:d.pt;(m=T||S)===null||m===void 0||(m=m[this.$.type.name])===null||m===void 0||(m=m.hooks)===null||m===void 0||(h=m.onBeforeCreate)===null||h===void 0||h.call(m)},created:function(){this._hook("onCreated")},beforeMount:function(){var t;jb.loadStyle({nonce:(t=this.$config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(t){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(t)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(t));n==null||n(),r==null||r()}},_loadGlobalStyles:function(){var t,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);mn.isNotEmpty(n)&&Lm.loadGlobalStyle(n,{nonce:(t=this.$config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce})},_getHostInstance:function(t){return t?this.$options.hostName?t.$.type.name===this.$options.hostName?t:this._getHostInstance(t.$parentInstance):t.$parentInstance:void 0},_getPropValue:function(t){var n;return this[t]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[t])},_getOptionValue:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=mn.toFlatCase(n).split("."),s=o.shift();return s?mn.isObject(t)?this._getOptionValue(mn.getItemValue(t[Object.keys(t).find(function(u){return mn.toFlatCase(u)===s})||""],r),o.join("."),r):void 0:mn.getItemValue(t,r)},_getPTValue:function(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u="data-pc-",l=/./g.test(r)&&!!o[r.split(".")[0]],f=this._getPropValue("ptOptions")||((t=this.$config)===null||t===void 0?void 0:t.ptOptions)||{},d=f.mergeSections,m=d===void 0?!0:d,h=f.mergeProps,g=h===void 0?!1:h,y=s?l?this._useGlobalPT(this._getPTClassValue,r,o):this._useDefaultPT(this._getPTClassValue,r,o):void 0,b=l?void 0:this._usePT(this._getPT(n,this.$name),this._getPTClassValue,r,It(It({},o),{},{global:y||{}})),w=r!=="transition"&&It(It({},r==="root"&&Uv({},"".concat(u,"name"),mn.toFlatCase(this.$.type.name))),{},Uv({},"".concat(u,"section"),mn.toFlatCase(r)));return m||!m&&b?g?mr(y,b,w):It(It(It({},y),b),w):It(It({},b),w)},_getPTClassValue:function(){var t=this._getOptionValue.apply(this,arguments);return mn.isString(t)||mn.isArray(t)?{class:t}:t},_getPT:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,s=function(l){var f,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=o?o(l):l,h=mn.toFlatCase(r),g=mn.toFlatCase(n.$name);return(f=d?h!==g?m==null?void 0:m[h]:void 0:m==null?void 0:m[h])!==null&&f!==void 0?f:m};return t!=null&&t.hasOwnProperty("_usept")?{_usept:t._usept,originalValue:s(t.originalValue),value:s(t.value)}:s(t,!0)},_usePT:function(t,n,r,o){var s=function(w){return n(w,r,o)};if(t!=null&&t.hasOwnProperty("_usept")){var u,l=t._usept||((u=this.$config)===null||u===void 0?void 0:u.ptOptions)||{},f=l.mergeSections,d=f===void 0?!0:f,m=l.mergeProps,h=m===void 0?!1:m,g=s(t.originalValue),y=s(t.value);return g===void 0&&y===void 0?void 0:mn.isString(y)?y:mn.isString(g)?g:d||!d&&y?h?mr(g,y):It(It({},g),y):y}return s(t)},_useGlobalPT:function(t,n,r){return this._usePT(this.globalPT,t,n,r)},_useDefaultPT:function(t,n,r){return this._usePT(this.defaultPT,t,n,r)},ptm:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,t,It(It({},this.$params),n))},ptmo:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(t,n,It({instance:this},r),!1)},cx:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,t,It(It({},this.$params),n))},sx:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var o=this._getOptionValue(this.$style.inlineStyles,t,It(It({},this.$params),r)),s=this._getOptionValue(Lm.inlineStyles,t,It(It({},this.$params),r));return[s,o]}}},computed:{globalPT:function(){var t,n=this;return this._getPT((t=this.$config)===null||t===void 0?void 0:t.pt,void 0,function(r){return mn.getItemValue(r,{instance:n})})},defaultPT:function(){var t,n=this;return this._getPT((t=this.$config)===null||t===void 0?void 0:t.pt,void 0,function(r){return n._getOptionValue(r,n.$name,It({},n.$params))||mn.getItemValue(r,It({},n.$params))})},isUnstyled:function(){var t;return this.unstyled!==void 0?this.unstyled:(t=this.$config)===null||t===void 0?void 0:t.unstyled},$params:function(){return{instance:this,props:this.$props,state:this.$data,parentInstance:this.$parentInstance}},$style:function(){return It(It({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var t;return(t=this.$primevue)===null||t===void 0?void 0:t.config},$name:function(){return this.$options.hostName||this.$.type.name}}},Eq=`
@layer primevue {
    .p-slider {
        position: relative;
    }

    .p-slider .p-slider-handle {
        cursor: grab;
        touch-action: none;
        display: block;
    }

    .p-slider-range {
        display: block;
    }

    .p-slider-horizontal .p-slider-range {
        top: 0;
        left: 0;
        height: 100%;
    }

    .p-slider-horizontal .p-slider-handle {
        top: 50%;
    }

    .p-slider-vertical {
        height: 100px;
    }

    .p-slider-vertical .p-slider-handle {
        left: 50%;
    }

    .p-slider-vertical .p-slider-range {
        bottom: 0;
        left: 0;
        width: 100%;
    }
}
`,Sq={handle:{position:"absolute"},range:{position:"absolute"}},Tq={root:function(t){var n=t.props;return["p-slider p-component",{"p-disabled":n.disabled,"p-slider-horizontal":n.orientation==="horizontal","p-slider-vertical":n.orientation==="vertical"}]},range:"p-slider-range",handle:"p-slider-handle"},Iq=jb.extend({name:"slider",css:Eq,classes:Tq,inlineStyles:Sq}),Aq={name:"BaseSlider",extends:wq,props:{modelValue:[Number,Array],min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},style:Iq,provide:function(){return{$parentInstance:this}}};function xq(e){return Pq(e)||Oq(e)||Cq(e)||kq()}function kq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(e,t){if(e){if(typeof e=="string")return Bv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bv(e,t)}}function Oq(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pq(e){if(Array.isArray(e))return Bv(e)}function Bv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fC={name:"Slider",extends:Aq,emits:["update:modelValue","change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,beforeUnmount:function(){this.unbindDragListeners()},methods:{updateDomData:function(){var t=this.$el.getBoundingClientRect();this.initX=t.left+Gi.getWindowScrollLeft(),this.initY=t.top+Gi.getWindowScrollTop(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(t){var n,r=t.touches?t.touches[0].pageX:t.pageX,o=t.touches?t.touches[0].pageY:t.pageY;this.orientation==="horizontal"?n=(r-this.initX)*100/this.barWidth:n=(this.initY+this.barHeight-o)*100/this.barHeight;var s=(this.max-this.min)*(n/100)+this.min;if(this.step){var u=this.range?this.modelValue[this.handleIndex]:this.modelValue,l=s-u;l<0?s=u+Math.ceil(s/this.step-u/this.step)*this.step:l>0&&(s=u+Math.floor(s/this.step-u/this.step)*this.step)}else s=Math.floor(s);this.updateModel(t,s)},updateModel:function(t,n){var r=parseFloat(n.toFixed(10)),o;this.range?(o=this.modelValue?xq(this.modelValue):[],this.handleIndex==0?(r<this.min?r=this.min:r>=this.max&&(r=this.max),o[0]=r):(r>this.max?r=this.max:r<=this.min&&(r=this.min),o[1]=r)):(r<this.min?r=this.min:r>this.max&&(r=this.max),o=r),this.$emit("update:modelValue",o),this.$emit("change",o)},onDragStart:function(t,n){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.range&&this.modelValue[0]===this.max?this.handleIndex=0:this.handleIndex=n,t.currentTarget.focus(),t.preventDefault())},onDrag:function(t){this.dragging&&(this.setValue(t),t.preventDefault())},onDragEnd:function(t){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:t,value:this.modelValue}))},onBarClick:function(t){this.disabled||Gi.getAttribute(t.target,"data-pc-section")!=="handle"&&(this.updateDomData(),this.setValue(t))},onMouseDown:function(t,n){this.bindDragListeners(),this.onDragStart(t,n)},onKeyDown:function(t,n){switch(this.handleIndex=n,t.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(t,n),t.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(t,n),t.preventDefault();break;case"PageDown":this.decrementValue(t,n,!0),t.preventDefault();break;case"PageUp":this.incrementValue(t,n,!0),t.preventDefault();break;case"Home":this.updateModel(t,this.min),t.preventDefault();break;case"End":this.updateModel(t,this.max),t.preventDefault();break}},decrementValue:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;this.range?this.step?o=this.modelValue[n]-this.step:o=this.modelValue[n]-1:this.step?o=this.modelValue-this.step:!this.step&&r?o=this.modelValue-10:o=this.modelValue-1,this.updateModel(t,o),t.preventDefault()},incrementValue:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;this.range?this.step?o=this.modelValue[n]+this.step:o=this.modelValue[n]+1:this.step?o=this.modelValue+this.step:!this.step&&r?o=this.modelValue+10:o=this.modelValue+1,this.updateModel(t,o),t.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)}},computed:{horizontal:function(){return this.orientation==="horizontal"},vertical:function(){return this.orientation==="vertical"},rangeStyle:function(){if(this.range){var t=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,n=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?{left:n+"%",width:t+"%"}:{bottom:n+"%",height:t+"%"}}else return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?{left:this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},handlePosition:function(){return this.modelValue<this.min?0:this.modelValue>this.max?100:(this.modelValue-this.min)*100/(this.max-this.min)},rangeStartPosition:function(){return this.modelValue&&this.modelValue[0]?(this.modelValue[0]<this.min?0:this.modelValue[0]-this.min)*100/(this.max-this.min):0},rangeEndPosition:function(){return this.modelValue&&this.modelValue.length===2?(this.modelValue[1]>this.max?100:this.modelValue[1]-this.min)*100/(this.max-this.min):100},rangeStartHandleStyle:function(){return this.horizontal?{left:this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?{left:this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}}}},Nq=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],Rq=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],Dq=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"];function Lq(e,t,n,r,o,s){return Ue(),Qe("div",mr({class:e.cx("root"),onClick:t[15]||(t[15]=function(){return s.onBarClick&&s.onBarClick.apply(s,arguments)})},e.ptm("root"),{"data-p-sliding":!1,"data-pc-name":"slider"}),[O("span",mr({class:e.cx("range"),style:[e.sx("range"),s.rangeStyle]},e.ptm("range")),null,16),e.range?Yr("",!0):(Ue(),Qe("span",mr({key:0,class:e.cx("handle"),style:[e.sx("handle"),s.handleStyle],onTouchstart:t[0]||(t[0]=function(u){return s.onDragStart(u)}),onTouchmove:t[1]||(t[1]=function(u){return s.onDrag(u)}),onTouchend:t[2]||(t[2]=function(u){return s.onDragEnd(u)}),onMousedown:t[3]||(t[3]=function(u){return s.onMouseDown(u)}),onKeydown:t[4]||(t[4]=function(u){return s.onKeyDown(u)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("handle")),null,16,Nq)),e.range?(Ue(),Qe("span",mr({key:1,class:e.cx("handle"),style:[e.sx("handle"),s.rangeStartHandleStyle],onTouchstart:t[5]||(t[5]=function(u){return s.onDragStart(u,0)}),onTouchmove:t[6]||(t[6]=function(u){return s.onDrag(u)}),onTouchend:t[7]||(t[7]=function(u){return s.onDragEnd(u)}),onMousedown:t[8]||(t[8]=function(u){return s.onMouseDown(u,0)}),onKeydown:t[9]||(t[9]=function(u){return s.onKeyDown(u,0)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[0]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("startHandler")),null,16,Rq)):Yr("",!0),e.range?(Ue(),Qe("span",mr({key:2,class:e.cx("handle"),style:[e.sx("handle"),s.rangeEndHandleStyle],onTouchstart:t[10]||(t[10]=function(u){return s.onDragStart(u,1)}),onTouchmove:t[11]||(t[11]=function(u){return s.onDrag(u)}),onTouchend:t[12]||(t[12]=function(u){return s.onDragEnd(u)}),onMousedown:t[13]||(t[13]=function(u){return s.onMouseDown(u,1)}),onKeydown:t[14]||(t[14]=function(u){return s.onKeyDown(u,1)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[1]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("endHandler")),null,16,Dq)):Yr("",!0)],16)}fC.render=Lq;const Mq={name:"AppPlayer",components:{Slider:fC},data(){return{volumeOld:0,isDragging:!1,slideEndValue:0}},computed:{...ss(eo,["playing","currentSong","displayDuration","duration","playerHasSong"]),...$h(eo,["playerProgress","volume","seek"])},methods:{...gs(eo,["toggleAudio","updateSeek","updateVolume","setIsDragging"]),toggleVolume(){this.volume>=1?this.volume=0:this.volume=this.volumeOld},updateDisplaySeek(e){const t=e/100,n=this.duration*t;this.seek=yh.formatTime(n)},handleSliderChange(e){this.isDragging=!0,this.updateDisplaySeek(e),this.slideEndValue=e},handleSlideEnd(){this.isDragging=!1,this.updateSeek(this.slideEndValue)},handleSliderClick(){this.isDragging=!1,this.updateSeek(this.slideEndValue)}},watch:{volume(e,t){this.volumeOld=t,this.updateVolume(e)},isDragging(e){this.setIsDragging(e)}}},Fq={class:"fixed bottom-0 left-0 w-full bg-black h-24 z-10 px-8 py-2 flex flex-col lg:flex-row lg:justify-between justify-center items-center select-none"},Vq={class:"text-white flex flex-col items-center flex-1 font-circular-thin lg:order-2"},jq={type:"button",class:""},Uq={class:"flex flex-nowrap gap-3 justify-center items-center"},Bq={class:"player-currenttime text-xs secondary-text font-sans"},$q={class:"player-duration text-xs secondary-text font-sans"},qq={class:"flex-1 font-circular-thin lg:order-1"},Hq={class:"sm:flex items-center gap-5 h-6 lg:h-16 whitespace-nowrap"},Kq={class:"text-white flex lg:flex-col gap-2 lg:gap-0 justify-center items-center sm:items-center lg:items-start font-circular-thin h-8 lg:h-16 w-56 sm:w-auto"},Wq={class:"song-title overflow-x-clip text-ellipsis"},Gq={class:"hidden sm:block song-artist secondary-text overflow-x-clip text-ellipsis"},zq=O("i",{class:"!hidden lg:!block fa-solid fa-heart text-green-500"},null,-1),Xq={class:"hidden text-white lg:flex items-center justify-end flex-1 order-3"};function Yq(e,t,n,r,o,s){const u=ct("Slider");return Ue(),Qe("section",Fq,[O("section",Vq,[O("button",jq,[O("i",{class:vt(["text-white text-3xl hover:scale-105",{"fa fa-play-circle":!e.playing,"fa fa-pause-circle":e.playing}]),onClick:t[0]||(t[0]=Ft(l=>e.toggleAudio(),["prevent"]))},null,2)]),O("div",Uq,[O("div",Bq,gt(e.seek),1),ye(u,{modelValue:e.playerProgress,"onUpdate:modelValue":t[1]||(t[1]=l=>e.playerProgress=l),onChange:t[2]||(t[2]=l=>s.handleSliderChange(e.playerProgress)),onSlideend:t[3]||(t[3]=l=>s.handleSlideEnd()),onClick:t[4]||(t[4]=Ft(l=>s.handleSliderClick(),["prevent"])),pt:{root:{class:"w-60 sm:w-96 h-1 bg-neutral-700 group hover:cursor-pointer"},handle:{class:"bg-white opacity-0 group-hover:opacity-100 hover:cursor-grab group-active:opacity-100"},range:{class:"bg-white group-hover:bg-green-500 group-active:bg-green-500"}}},null,8,["modelValue"]),O("div",$q,gt(e.displayDuration),1)])]),O("section",qq,[no(O("article",Hq,[no(O("div",Kq,[O("p",Wq,gt(e.currentSong.modified_name),1),O("p",Gq,gt(e.currentSong.artist?e.currentSong.artist:"Unknown artist"),1)],512),[[os,e.playerHasSong]]),zq],512),[[os,e.playerHasSong]])]),O("section",Xq,[O("i",{onClick:t[5]||(t[5]=Ft((...l)=>s.toggleVolume&&s.toggleVolume(...l),["prevent"])),class:vt(["fa-solid hover:cursor-pointer p-3",{"fa-volume-high":e.volume>50,"fa-volume-low":e.volume>=1,"fa-volume-xmark":e.volume<1}])},null,2),ye(u,{modelValue:e.volume,"onUpdate:modelValue":t[6]||(t[6]=l=>e.volume=l),pt:{root:{class:"w-40 h-1 bg-neutral-700 group hover:cursor-grab"},handle:{class:"bg-white opacity-0 group-hover:opacity-100 group-active:opacity-100"},range:{class:"bg-white group-hover:bg-green-500 group-active:bg-green-500"}}},null,8,["modelValue"])])])}const Id=Mn(Mq,[["render",Yq]]),Qq={name:"Home",components:{AppPlaylist:R$,AppPlayer:Id},data(){return{songs:[],maxPerPage:10,pendingReq:!1}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},methods:{async getSongs(){if(this.pendingReq)return;this.pendingReq=!0;let e;if(this.songs.length){const t=await ei.doc(this.songs[this.songs.length-1].docID).get();e=await ei.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await ei.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingReq=!1},handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.ceil(e)+n>=t&&this.getSongs()}},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}},Jq={class:"view-gradient"};function Zq(e,t,n,r,o,s){const u=ct("AppPlaylist"),l=ct("AppPlayer");return Ue(),Qe("main",Jq,[ye(u,{songs:o.songs},null,8,["songs"]),ye(l)])}const eH=Mn(Qq,[["render",Zq]]),tH={name:"About",components:{AppPlayer:Id}},nH={class:"view-gradient"},rH=O("article",{class:"pt-40 text-white text-center font-circular-thin"},[O("h1",{class:""},"About musicfy"),O("h4",null,"This application is for educational purposes only"),O("h6",null,[un(" To see the real Spotify visit "),O("a",{class:"underline",href:"https://www.spotify.com"},"www.spotify.com")])],-1);function iH(e,t,n,r,o,s){const u=ct("AppPlayer");return Ue(),Qe("main",nH,[rH,ye(u)])}const oH=Mn(tH,[["render",iH]]),sH={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){this.is_dragover=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(async n=>{if(n.type!="audio/mpeg"){alert("file type invalid");return}const s=Yk.ref().child("songs").child(`${n.name}`);if(await this.fileExists(n)){alert("Song already existing:",n.name);return}const l=s.put(n),f=this.uploads.push({task:l,current_progress:0,name:n.name,variant:"progress-bar bg-blue-400",icon:"fa-solid fa-spinner fa-spin",text_class:"",hide_class:""})-1;l.on("state_changed",d=>{const m=d.bytesTransferred/d.totalBytes*100;this.uploads[f].current_progress=m},d=>{this.uploads[f].variant="bg-red-400",this.uploads[f].icon="fas fa-times",this.uploads[f].text_class="text-red-400",console.error("Error uploading the song",d)},async()=>{const d={uid:vr.currentUser.uid,displayName:vr.currentUser.displayName,original_name:l.snapshot.ref.name,modified_name:this.getFileNameWithoutExtension(l.snapshot.ref.name),genre:"",artist:"",comment_count:0,duration:Math.floor(Math.random()*151+90)};d.url=await l.snapshot.ref.getDownloadURL();let m="";await ei.add(d).then(g=>{m=g}).catch(async g=>{this.uploads[f].variant="bg-red-400",this.uploads[f].icon="fas fa-times",this.uploads[f].text_class="text-red-400",console.error("Error uploading the song",g),await s.delete()});const h=await m.get();this.addSong(h),this.uploads[f].variant="bg-green-400",this.uploads[f].icon="fas fa-check",this.uploads[f].text_class="text-green-400",setTimeout(()=>{this.uploads[f].hide_class="hidden"},1e3)})})},getFileNameWithoutExtension(e){return e.replace(/\.[^.]+$/,"")},async fileExists(e){return(await ei.where("original_name","==",e.name).get()).size!==0},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})},openInputFile(){this.$refs.inputFile.click()}},beforeUnmount(){this.cancelUploads()}},aH={class:"col-span-1"},uH={class:"bg-zinc-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},lH=O("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},[O("span",{class:"card-title"},"Upload"),O("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),cH={class:"p-6"},fH=O("h5",null,[un("Drop your mp3 files here "),O("span",{class:"block text-sm"},"Or, click to browse")],-1),hH=[fH],dH=O("hr",{class:"my-6 border-slate-400"},null,-1),pH={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function gH(e,t,n,r,o,s){return Ue(),Qe("main",aH,[O("div",uH,[lH,O("div",cH,[O("div",{class:vt(["hidden sm:block w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-zinc-700 hover:border-solid",{"bg-zinc-700 text-white border border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Ft(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Ft(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Ft(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Ft(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Ft(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Ft(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Ft(u=>s.upload(u),["prevent","stop"])),onClick:t[7]||(t[7]=Ft((...u)=>s.openInputFile&&s.openInputFile(...u),["prevent"]))},hH,34),O("input",{type:"file",multiple:"",ref:"inputFile",onChange:t[8]||(t[8]=u=>s.upload(u)),class:"md:hidden w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:font-semibold file:bg-green-500 hover:file:bg-green-400 bg-gray-800 hover:cursor-pointer"},null,544),dH,(Ue(!0),Qe(Xt,null,Ml(o.uploads,u=>(Ue(),Qe("div",{class:vt(["mb-4",u.hide_class]),key:u.name},[O("div",{class:vt(["font-bold text-sm",u.text_class])},[O("i",{class:vt(u.icon)},null,2),un(gt(u.name),1)],2),O("div",pH,[O("div",{class:vt(["transition-all",u.variant]),style:xh({width:u.current_progress+"%"})},null,6)])],2))),128))])])])}const mH=Mn(sH,[["render",gH]]),vH={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},index:{type:Number,required:!0},updateHasChanges:{type:Function}},data(){return{showForm:!1,songSchema:{modified_name:"required",genre:"alpha_spaces",artist:""},initialValues:{modified_name:this.song.modified_name,artist:this.song.artist,genre:this.song.genre},in_submission:!1,show_alert:!1,alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",error_variant:"bg-red-500",success_variant:"bg-[#1ed760]",alert_msg:"",initial_msg:"Please wait! Updating song. ",success_msg:"Success! Your song info was updated."}},methods:{async deleteSong(){this.in_submission=!0,await Yk.ref().child(`songs/${this.song.original_name}`).delete().then(()=>{}).catch(n=>{console.error(n),this.in_submission=!1}),await ei.doc(this.song.docID).delete().then(()=>{}).catch(n=>{console.error(n),this.in_submission=!1}),this.removeSong(this.index),this.in_submission=!1},async editSong(e){this.initAlert();try{if(!this.hasChanges(e)){this.show_alert=!1,this.showForm=!1;return}await ei.doc(this.song.docID).update({modified_name:e.modified_name,artist:e.artist?e.artist:"",genre:e.genre?e.genre:""})}catch{this.alert_variant=this.error_variant,this.alert_msg="Something went wrong! Try again later.";return}finally{this.in_submission=!1}this.updateSong(this.index,e),this.updateHasChanges(!1),this.alert_variant=this.success_variant,this.alert_msg=this.success_msg,this.show_alert=!1,this.showForm=!1},initAlert(){this.show_alert=!0,this.in_submission=!0,this.alert_variant=this.progress_variant,this.alert_msg=this.initial_msg},hasChanges(e){for(const t in e)if(e[t]!==this.song[t])return this.updateHasChanges(!0),!0;return this.updateHasChanges(!1),!1}}},yH={class:"border border-slate-500 p-3 mb-4 w-full rounded flex justify-between items-center gap-5"},bH={class:"inline-block text-base md:text-2xl lg:text-3xl font-semibold overflow-hidden text-ellipsis whitespace-nowrap"},_H={class:""},wH=["disabled"],EH=O("i",{class:"fa fa-times"},null,-1),SH=[EH],TH=O("i",{class:"fa-solid fa-pen-to-square"},null,-1),IH=[TH],AH={class:"mb-4 w-full"},xH={id:"form-field",class:"mb-3"},kH=O("label",{class:"inline-block mb-2"},"Song Title",-1),CH={id:"form-field",class:"mb-3"},OH=O("label",{class:"inline-block mb-2"},"Artist",-1),PH={id:"form-field",class:"mb-3"},NH=O("label",{class:"inline-block mb-2"},"Genre",-1),RH={id:"form-buttons"},DH=["disabled"],LH=["disabled"];function MH(e,t,n,r,o,s){const u=ct("VeeField"),l=ct("ErrorMessage"),f=ct("VeeForm");return Ue(),Qe("main",null,[no(O("section",yH,[O("h4",bH,gt(n.song.modified_name),1),O("div",_H,[O("button",{class:"ml-1 py-1 px-2 text-sm rounded text-red-600 float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[0]||(t[0]=Ft((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"])),disabled:o.in_submission},SH,8,wH),O("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[1]||(t[1]=d=>o.showForm=!0)},IH)])],512),[[os,!o.showForm]]),no(O("section",AH,[o.show_alert?(Ue(),Qe("p",{key:0,class:vt(["text-black text-center font-bold rounded",o.alert_variant])},gt(o.alert_msg),3)):Yr("",!0),ye(f,{"validation-schema":o.songSchema,initialValues:o.initialValues,onSubmit:s.editSong},{default:nn(()=>[O("div",xH,[kH,ye(u,{name:"modified_name",label:"Song",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateHasChanges(!0))}),ye(l,{class:"text-red-600",name:"modified_name"})]),O("div",CH,[OH,ye(u,{name:"artist",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateHasChanges(!0))}),ye(l,{class:"text-red-600",name:"artist"})]),O("div",PH,[NH,ye(u,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[4]||(t[4]=d=>n.updateHasChanges(!0))}),ye(l,{class:"text-red-600",name:"genre"})]),O("div",RH,[O("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o.in_submission}," Save ",8,DH),O("button",{type:"button",class:"ml-2 py-1.5 px-3 rounded text-white bg-gray-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-pointer",onClick:t[5]||(t[5]=Ft(d=>o.showForm=!1,["prevent"])),disabled:o.in_submission}," Go Back ",8,LH)])]),_:1},8,["validation-schema","initialValues","onSubmit"])],512),[[os,o.showForm]])])}const FH=Mn(vH,[["render",MH]]),VH={name:"Manage",components:{AppUpload:mH,CompositionItem:FH,AppPlayer:Id},data(){return{songs:[],hasChanges:!1}},async created(){(await ei.where("uid","==",vr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre,this.songs[e].artist=t.artist},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateHasChanges(e){this.hasChanges=e}},beforeRouteLeave(e,t,n){if(!this.hasChanges)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},jH={class:"view-gradient"},UH={class:"md:grid md:grid-cols-3 md:gap-4 px-20 pt-32 py-1 mb-24"},BH={class:"col-span-2 bg-neutral-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},$H=O("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},[O("span",{class:"card-title"},"My Songs"),O("i",{class:"fa-solid fa-music float-right text-green-400 text-2xl"})],-1),qH={class:"p-6"},HH={key:0},KH=O("p",{class:"text-center"},"Playlist empty.",-1),WH=[KH];function GH(e,t,n,r,o,s){const u=ct("AppUpload"),l=ct("CompositionItem"),f=ct("AppPlayer");return Ue(),Qe("main",jH,[O("div",UH,[ye(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"]),O("section",BH,[$H,O("div",qH,[o.songs.length===0?(Ue(),Qe("div",HH,WH)):(Ue(!0),Qe(Xt,{key:1},Ml(o.songs,(d,m)=>(Ue(),rs(l,{class:"flex flex-col",key:d.docID,song:d,updateSong:s.updateSong,index:m,removeSong:s.removeSong,updateHasChanges:s.updateHasChanges},null,8,["song","updateSong","index","removeSong","updateHasChanges"]))),128))])])]),ye(f)])}const zH=Mn(VH,[["render",GH]]),XH={name:"Song",components:{AppPlayer:Id},data(){return{song:{},comments:[],sort:"1",schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"",comment_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",comment_error_variant:"bg-red-500",comment_success_variant:"bg-[#1ed760]",comment_alert_msg:"",initial_msg:"Publishing your comment... ",success_msg:"Your comment has been published."}},computed:{...ss(so,["userLoggedIn"]),...ss(eo,["playing"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.date)-new Date(e.date):new Date(e.date)-new Date(t.date))}},async created(){const e=await ei.doc(this.$route.params.id).get();e.exists||this.$router.push({name:"home"});const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},methods:{...gs(eo,["play","toggleAudio"]),async publishComment(e,{resetForm:t}){this.initCommentAlert();const n={content:e.comment,date:new Date().toString(),songID:this.$route.params.id,name:vr.currentUser.displayName,uid:vr.currentUser.uid};await qS.add(n),this.song.comment_count+=1,await ei.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant=this.comment_success_variant,this.comment_alert_msg=this.success_msg,t(),setTimeout(()=>{this.comment_show_alert=!1},1e3)},initCommentAlert(){this.comment_show_alert=!0,this.comment_in_submission=!0,this.comment_alert_variant=this.comment_progress_variant,this.comment_alert_msg=this.initial_msg},async getComments(){const e=await qS.where("songID","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})},getCommentPublishDate(e){const n=new Date-new Date(e.date),r=Math.floor(n/1e3);if(r<60)return`${r} second${r===1?"":"s"} ago`;const o=Math.floor(r/60);if(o<60)return`${o} minute${o===1?"":"s"} ago`;const s=Math.floor(o/60);if(s<24)return`${s} hour${s===1?"":"s"} ago`;const u=Math.floor(s/24);if(u<30)return`${u} day${u===1?"":"s"} ago`;const l=Math.floor(u/30);if(l<12)return`${l} month${l===1?"":"s"} ago`;const f=Math.floor(l/12);return`${f} year${f===1?"":"s"} ago`}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},YH={class:"view-gradient"},QH={class:"relative z-10 w-full px-6 pt-40 pb-6 text-white text-center"},JH={class:"container mx-auto flex items-center"},ZH=O("i",{class:"text-[#1ed760] text-8xl hover:scale-110 bg-black rounded-full fa fa-play-circle"},null,-1),e6=[ZH],t6={class:"z-50 text-left px-4"},n6=O("div",{class:"text-sm font-circular-black"},"Song",-1),r6={class:"text-2xl md:text-4xl lg:text-6xl font-circular-black"},i6={class:"text-sm font-circular-black"},o6={class:"font-circular-thin"},s6={id:"comments",class:"relative z-10 py-5 mb-20 bg-zinc-900 bg-opacity-30 font-circular-thin min-h-[50vh] text-white"},a6={class:"flex flex-col"},u6={class:"px-6 pt-6 pb-5 font-bold border-b border-slate-500"},l6={class:"card-title"},c6=O("span",{class:"font-sans"},"(",-1),f6=O("span",{class:"font-sans"},")",-1),h6=O("i",{class:"fa-regular fa-comment float-right text-2xl"},null,-1),d6={class:"p-6"},p6=["disabled"],g6=O("option",{value:"1"},"Latest",-1),m6=O("option",{value:"2"},"Oldest",-1),v6=[g6,m6],y6={class:"z-10 px-6 font-circular-thin min-h-[50vh] text-white"},b6={key:0,class:"p-6 border border-slate-500"},_6={key:0},w6={class:"mb-5"},E6={class:"font-bold"},S6={class:"text-sm"};function T6(e,t,n,r,o,s){const u=ct("VeeField"),l=ct("ErrorMessage"),f=ct("VeeForm"),d=ct("AppPlayer");return Ue(),Qe("main",YH,[O("section",QH,[O("div",JH,[O("button",{onClick:t[0]||(t[0]=Ft(m=>e.play(o.song),["prevent"])),type:"button"},e6),O("div",t6,[n6,O("div",r6,gt(o.song.modified_name),1),O("div",i6,[un(gt(o.song.artist?o.song.artist:"Unknown artist")+" ",1),O("span",o6,gt(o.song.genre?o.song.genre:"Unknown Genre"),1)])])])]),O("section",s6,[O("section",null,[O("div",a6,[O("div",u6,[O("span",l6,[un("Comments "),c6,un(gt(o.song.comment_count),1),f6]),h6]),O("div",d6,[o.comment_show_alert?(Ue(),Qe("div",{key:0,class:vt(["text-white text-center p-4 mb-4",o.comment_alert_variant])},gt(o.comment_alert_msg),3)):Yr("",!0),e.userLoggedIn?(Ue(),rs(f,{key:1,"validation-schema":o.schema,onSubmit:s.publishComment},{default:nn(()=>[ye(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded mb-4",placeholder:"Your comment here..."}),ye(l,{class:"text-red-600",name:"comment"}),O("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Publish ",8,p6)]),_:1},8,["validation-schema","onSubmit"])):Yr("",!0),no(O("select",{class:"block mt-4 py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded","onUpdate:modelValue":t[1]||(t[1]=m=>o.sort=m)},v6,512),[[QL,o.sort]])])])]),O("section",null,[O("ul",y6,[o.comments.length===0?(Ue(),Qe("li",b6,[un(" No comments yet. "),e.userLoggedIn?Yr("",!0):(Ue(),Qe("span",_6," Login or Register to leave a comment."))])):Yr("",!0),(Ue(!0),Qe(Xt,null,Ml(s.sortedComments,m=>(Ue(),Qe("li",{class:"p-6 border border-slate-500",key:m.docID},[O("div",w6,[O("div",E6,gt(m.name),1),O("time",S6,gt(this.getCommentPublishDate(m)),1)]),O("p",null,gt(m.content),1)]))),128))])])]),ye(d)])}const I6=Mn(XH,[["render",T6]]);const A6={name:"Error404"},hC=e=>(kD("data-v-1bd6d1a4"),e=e(),CD(),e),x6={class:"view-gradient"},k6={class:"flex flex-col gap-5 justify-center items-center pt-32"},C6=hC(()=>O("h1",null,"Melody not found",-1)),O6=hC(()=>O("h4",null,"We didn't found the page you are looking for",-1));function P6(e,t,n,r,o,s){const u=ct("RouterLink");return Ue(),Qe("main",x6,[O("div",k6,[C6,O6,ye(u,{to:{name:"home"}},{default:nn(()=>[un("Take me home!")]),_:1})])])}const N6=Mn(A6,[["render",P6],["__scopeId","data-v-1bd6d1a4"]]),R6=[{name:"home",path:"/",component:eH},{name:"about",path:"/about",component:oH},{name:"manage",path:"/manage/music",component:zH,meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:I6},{name:"error",path:"/:catchAll(.*)*",component:N6}],dC=J4({history:m4("/musicfy/"),routes:R6,linkExactActiveClass:"text-green-600"});dC.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}so().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function an(e){return typeof e=="function"}function pC(e){return e==null}const ps=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Ub(e){return Number(e)>=0}function D6(e){const t=parseFloat(e);return isNaN(t)?e:t}function L6(e){return typeof e=="object"&&e!==null}function M6(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function F6(e){if(!L6(e)||M6(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function bh(e,t){return Object.keys(t).forEach(n=>{if(F6(t[n])){e[n]||(e[n]={}),bh(e[n],t[n]);return}e[n]=t[n]}),e}function Bu(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(Ub(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const gC={};function tr(e,t){j6(e,t),gC[e]=t}function V6(e){return gC[e]}function j6(e,t){if(!an(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function pT(e,t,n){typeof n.value=="object"&&(n.value=mt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function mt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(mt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,l){o.set(mt(l),mt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(mt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)pT(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||pT(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const Ad=Symbol("vee-validate-form"),U6=Symbol("vee-validate-field-instance"),_h=Symbol("Default empty value"),B6=typeof window<"u";function $v(e){return an(e)&&!!e.__locatorRef}function ao(e){return!!e&&an(e.parse)&&e.__type==="VVTypedSchema"}function wh(e){return!!e&&an(e.validate)}function rc(e){return e==="checkbox"||e==="radio"}function $6(e){return ps(e)||Array.isArray(e)}function q6(e){return Array.isArray(e)?e.length===0:ps(e)&&Object.keys(e).length===0}function xd(e){return/^\[.+\]$/i.test(e)}function H6(e){return mC(e)&&e.multiple}function mC(e){return e.tagName==="SELECT"}function K6(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function W6(e,t){return!K6(e,t)&&t.type!=="file"&&!rc(t.type)}function vC(e){return Bb(e)&&e.target&&"submit"in e.target}function Bb(e){return e?!!(typeof Event<"u"&&an(Event)&&e instanceof Event||e&&e.srcElement):!1}function gT(e,t){return t in e&&e[t]!==_h}function Ln(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ln(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Ln(r[1],t.get(r[0])))return!1;return!0}if(mT(e)&&mT(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,r=n;r--!==0;){var s=o[r];if(!Ln(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function mT(e){return B6?e instanceof File:!1}function $b(e){return xd(e)?e.replace(/\[|\]/gi,""):e}function $n(e,t,n){return e?xd(t)?e[$b(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>$6(o)&&s in o?o[s]:n,e):n}function Bo(e,t,n){if(xd(t)){e[$b(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||pC(o[r[s]]))&&(o[r[s]]=Ub(r[s+1])?[]:{}),o=o[r[s]]}}function Mm(e,t){if(Array.isArray(e)&&Ub(t)){e.splice(Number(t),1);return}ps(e)&&delete e[t]}function vT(e,t){if(xd(t)){delete e[$b(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Mm(r,n[s]);break}if(!(n[s]in r)||pC(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>$n(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(q6(o[s])){if(s===0){Mm(e,n[0]);continue}Mm(o[s-1],n[s-1])}}function gr(e){return Object.keys(e)}function yC(e,t=void 0){const n=Ma();return(n==null?void 0:n.provides[e])||wr(e,t)}function yT(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Ln(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Ln(e,t)?n:t}function bT(e,t=0){let n=null,r=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function G6(e,t){return ps(t)&&t.number?D6(e):e}function qv(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function Hv(e){return Array.isArray(e)?e:e?[e]:[]}function Lu(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function z6(e){let t=null,n=[];return function(...r){const o=Cr(()=>{if(t!==o)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}function qb(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default}function Fm(e){if(bC(e))return e._value}function bC(e){return"_value"in e}function X6(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function Eh(e){if(!Bb(e))return e;const t=e.target;if(rc(t.type)&&bC(t))return Fm(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(H6(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Fm);if(mC(t)){const n=Array.from(t.options).find(r=>r.selected);return n?Fm(n):t.value}return X6(t)}function _C(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ps(e)&&e._$$isNormalized?e:ps(e)?Object.keys(e).reduce((n,r)=>{const o=Y6(e[r]);return e[r]!==!1&&(n[r]=_T(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=Q6(r);return o.name&&(n[o.name]=_T(o.params)),n},t):t}function Y6(e){return e===!0?[]:Array.isArray(e)||ps(e)?e:[e]}function _T(e){const t=n=>typeof n=="string"&&n[0]==="@"?J6(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const Q6=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function J6(e){const t=n=>$n(n,e)||n[e];return t.__locatorRef=e,t}function Z6(e){return Array.isArray(e)?e.filter($v):gr(e).filter(t=>$v(e[t])).map(t=>e[t])}const e5={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Kv=Object.assign({},e5);const zi=()=>Kv,t5=e=>{Kv=Object.assign(Object.assign({},Kv),e)},n5=t5;async function wC(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},u=(await r5(o,e)).errors;return{errors:u,valid:!u.length}}async function r5(e,t){if(ao(e.rules)||wh(e.rules))return o5(t,e.rules);if(an(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let m=0;m<f;m++){const h=l[m],g=await h(t,u);if(!(typeof g!="string"&&!Array.isArray(g)&&g)){if(Array.isArray(g))d.push(...g);else{const b=typeof g=="string"?g:SC(u);d.push(b)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:_C(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const l=o[u],f=await s5(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function i5(e){return!!e&&e.name==="ValidationError"}function EC(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!i5(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,l)=>{const f=l.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function o5(e,t){const r=await(ao(t)?t:EC(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function s5(e,t,n){const r=V6(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=a5(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:SC(s)}}function SC(e){const t=zi().generateMessage;return t?t(e):"Field is invalid"}function a5(e,t){const n=r=>$v(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function u5(e,t){const r=await(ao(e)?e:EC(e)).parse(mt(t)),o={},s={};for(const u of r.errors){const l=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(d,m)=>`[${m}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function l5(e,t,n){const o=gr(e).map(async d=>{var m,h,g;const y=(m=n==null?void 0:n.names)===null||m===void 0?void 0:m[d],b=await wC($n(t,d),e[d],{name:(y==null?void 0:y.name)||d,label:y==null?void 0:y.label,values:t,bails:(g=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&g!==void 0?g:!0});return Object.assign(Object.assign({},b),{path:d})});let s=!0;const u=await Promise.all(o),l={},f={};for(const d of u)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let wT=0;function c5(e,t){const{value:n,initialValue:r,setInitialValue:o}=f5(e,t.modelValue,t.form);if(!t.form){let g=function(b){var w;"value"in b&&(n.value=b.value),"errors"in b&&d(b.errors),"touched"in b&&(h.touched=(w=b.touched)!==null&&w!==void 0?w:h.touched),"initialValue"in b&&o(b.initialValue)};var l=g;const{errors:f,setErrors:d}=p5(),m=wT>=Number.MAX_SAFE_INTEGER?0:++wT,h=d5(n,r,f);return{id:m,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[m]:!1},pendingReset:!1},errors:f,setState:g}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=ze(()=>s.errors);function l(f){var d,m,h;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(et(e),f.errors)),"touched"in f&&((m=t.form)===null||m===void 0||m.setFieldTouched(et(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:l}}function f5(e,t,n){const r=tn(et(t));function o(){return n?$n(n.initialValues.value,et(e),et(r)):et(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(et(e),d,!0)}const u=ze(o);if(!n)return{value:tn(o()),initialValue:u,setInitialValue:s};const l=h5(t,n,u,e);return n.stageInitialValue(et(e),l,!0),{value:ze({get(){return $n(n.values,et(e))},set(d){n.setFieldValue(et(e),d,!1)}}),initialValue:u,setInitialValue:s}}function h5(e,t,n,r){return pt(e)?et(e):e!==void 0?e:$n(t.values,et(r),et(n))}function d5(e,t,n){const r=ni({touched:!1,pending:!1,valid:!0,validated:!!et(n).length,initialValue:ze(()=>et(t)),dirty:ze(()=>!Ln(et(e),et(t)))});return Kn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function p5(){const e=tn([]);return{errors:e,setErrors:t=>{e.value=Hv(t)}}}function g5(e,t,n){return rc(n==null?void 0:n.type)?v5(e,t,n):TC(e,t,n)}function TC(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:m,controlled:h,keepValueOnUnmount:g,syncVModel:y,form:b}=m5(n),w=h?yC(Ad):void 0,S=b||w,T=ze(()=>Bu(Ct(e))),k=ze(()=>{if(Ct(S==null?void 0:S.schema))return;const be=et(t);return wh(be)||ao(be)||an(be)||Array.isArray(be)?be:_C(be)}),{id:D,value:L,initialValue:z,meta:j,setState:ae,errors:M,flags:q}=c5(T,{modelValue:r,form:S,bails:s,label:f,type:u,validate:k.value?Ke:void 0}),x=ze(()=>M.value[0]);y&&y5({value:L,prop:y,handleChange:se,shouldValidate:()=>d&&!q.pendingReset});const Ce=(ge,be=!1)=>{j.touched=!0,be&&ke()};async function re(ge){var be,F;return S!=null&&S.validateSchema?(be=(await S.validateSchema(ge)).results[Ct(T)])!==null&&be!==void 0?be:{valid:!0,errors:[]}:k.value?wC(L.value,k.value,{name:Ct(T),label:Ct(f),values:(F=S==null?void 0:S.values)!==null&&F!==void 0?F:{},bails:s}):{valid:!0,errors:[]}}const ke=qv(async()=>(j.pending=!0,j.validated=!0,re("validated-only")),ge=>{if(!q.pendingUnmount[_t.id])return ae({errors:ge.errors}),j.pending=!1,j.valid=ge.valid,ge}),Le=qv(async()=>re("silent"),ge=>(j.valid=ge.valid,ge));function Ke(ge){return(ge==null?void 0:ge.mode)==="silent"?Le():ke()}function se(ge,be=!0){const F=Eh(ge);Pt(F,be)}Ll(()=>{if(o)return ke();(!S||!S.validateSchema)&&Le()});function Be(ge){j.touched=ge}function ve(ge){var be;const F=ge&&"value"in ge?ge.value:z.value;ae({value:mt(F),initialValue:mt(F),touched:(be=ge==null?void 0:ge.touched)!==null&&be!==void 0?be:!1,errors:(ge==null?void 0:ge.errors)||[]}),j.pending=!1,j.validated=!1,Le()}const bt=Ma();function Pt(ge,be=!0){L.value=bt&&y?G6(ge,bt.props.modelModifiers):ge,(be?ke:Le)()}function Gt(ge){ae({errors:Array.isArray(ge)?ge:[ge]})}const jt=ze({get(){return L.value},set(ge){Pt(ge,d)}}),_t={id:D,name:T,label:f,value:jt,meta:j,errors:M,errorMessage:x,type:u,checkedValue:l,uncheckedValue:m,bails:s,keepValueOnUnmount:g,resetField:ve,handleReset:()=>ve(),validate:Ke,handleChange:se,handleBlur:Ce,setState:ae,setTouched:Be,setErrors:Gt,setValue:Pt};if(aa(U6,_t),pt(t)&&typeof et(t)!="function"&&Kn(t,(ge,be)=>{Ln(ge,be)||(j.validated?ke():Le())},{deep:!0}),!S)return _t;const Qn=ze(()=>{const ge=k.value;return!ge||an(ge)||wh(ge)||ao(ge)||Array.isArray(ge)?{}:Object.keys(ge).reduce((be,F)=>{const K=Z6(ge[F]).map(te=>te.__locatorRef).reduce((te,ce)=>{const Fe=$n(S.values,ce)||S.values[ce];return Fe!==void 0&&(te[ce]=Fe),te},{});return Object.assign(be,K),be},{})});return Kn(Qn,(ge,be)=>{if(!Object.keys(ge).length)return;!Ln(ge,be)&&(j.validated?ke():Le())}),ay(()=>{var ge;const be=(ge=Ct(_t.keepValueOnUnmount))!==null&&ge!==void 0?ge:Ct(S.keepValuesOnUnmount),F=Ct(T);if(be||!S||q.pendingUnmount[_t.id]){S==null||S.removePathState(F,D);return}q.pendingUnmount[_t.id]=!0;const K=S.getPathState(F);if(Array.isArray(K==null?void 0:K.id)&&(K!=null&&K.multiple)?K!=null&&K.id.includes(_t.id):(K==null?void 0:K.id)===_t.id){if(K!=null&&K.multiple&&Array.isArray(K.value)){const ce=K.value.findIndex(Fe=>Ln(Fe,Ct(_t.checkedValue)));if(ce>-1){const Fe=[...K.value];Fe.splice(ce,1),S.setFieldValue(F,Fe)}Array.isArray(K.id)&&K.id.splice(K.id.indexOf(_t.id),1)}else S.unsetPathValue(Ct(T));S.removePathState(F,D)}}),_t}function m5(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?Wv(Ma(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s,syncVModel:l})}function v5(e,t,n){const r=n!=null&&n.standalone?void 0:yC(Ad),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const f=l.handleChange,d=ze(()=>{const h=Ct(l.value),g=Ct(o);return Array.isArray(h)?h.findIndex(y=>Ln(y,g))>=0:Ln(g,h)});function m(h,g=!0){var y,b;if(d.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){g&&l.validate();return}const w=Ct(e),S=r==null?void 0:r.getPathState(w),T=Eh(h);let k=(b=Ct(o))!==null&&b!==void 0?b:T;r&&(S!=null&&S.multiple)&&S.type==="checkbox"?k=yT($n(r.values,w)||[],k,void 0):(n==null?void 0:n.type)==="checkbox"&&(k=yT(Ct(l.value),k,Ct(s))),f(k,g)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:m})}return u(TC(e,t,n))}function y5({prop:e,value:t,handleChange:n,shouldValidate:r}){const o=Ma();if(!o||!e)return;const s=typeof e=="string"?e:"modelValue",u=`update:${s}`;s in o.props&&(Kn(t,l=>{Ln(l,Wv(o,s))||o.emit(u,l)}),Kn(()=>Wv(o,s),l=>{if(l===_h&&t.value===void 0)return;const f=l===_h?void 0:l;Ln(f,t.value)||n(f,r())}))}function Wv(e,t){if(e)return e.props[t]}const b5=Dl({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>zi().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:_h},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=$i(e,"rules"),r=$i(e,"name"),o=$i(e,"label"),s=$i(e,"uncheckedValue"),u=$i(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:m,handleChange:h,handleBlur:g,setTouched:y,resetField:b,handleReset:w,meta:S,checked:T,setErrors:k}=g5(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:w5(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),D=function(q,x=!0){h(q,x)},L=ze(()=>{const{validateOnInput:M,validateOnChange:q,validateOnBlur:x,validateOnModelUpdate:Ce}=_5(e);function re(se){g(se,x),an(t.attrs.onBlur)&&t.attrs.onBlur(se)}function ke(se){D(se,M),an(t.attrs.onInput)&&t.attrs.onInput(se)}function Le(se){D(se,q),an(t.attrs.onChange)&&t.attrs.onChange(se)}const Ke={name:e.name,onBlur:re,onInput:ke,onChange:Le};return Ke["onUpdate:modelValue"]=se=>D(se,Ce),Ke}),z=ze(()=>{const M=Object.assign({},L.value);rc(t.attrs.type)&&T&&(M.checked=T.value);const q=ET(e,t);return W6(q,t.attrs)&&(M.value=f.value),M}),j=ze(()=>Object.assign(Object.assign({},L.value),{modelValue:f.value}));function ae(){return{field:z.value,componentField:j.value,value:f.value,meta:S,errors:l.value,errorMessage:d.value,validate:m,resetField:b,handleChange:D,handleInput:M=>D(M,!1),handleReset:w,handleBlur:L.value.onBlur,setTouched:y,setErrors:k}}return t.expose({setErrors:k,setTouched:y,reset:b,validate:m,handleChange:h}),()=>{const M=Fh(ET(e,t)),q=qb(M,t,ae);return M?is(M,Object.assign(Object.assign({},t.attrs),z.value),q):q}}});function ET(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function _5(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:f}=zi();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function w5(e,t){return rc(t.attrs.type)?gT(e,"modelValue")?e.modelValue:void 0:gT(e,"modelValue")?e.modelValue:t.attrs.value}const E5=b5;let S5=0;const Mu=["bails","fieldsCount","id","multiple","type","validate"];function IC(e){const t=et(e==null?void 0:e.initialValues)||{},n=et(e==null?void 0:e.validationSchema);return n&&ao(n)&&an(n.cast)?mt(n.cast(t)||{}):mt(t)}function T5(e){var t;const n=S5++;let r=0;const o=tn(!1),s=tn(!1),u=tn(0),l=[],f=ni(IC(e)),d=tn([]),m=tn({}),h=tn({}),g=z6(()=>{h.value=d.value.reduce((N,P)=>(N[Bu(Ct(P.path))]=P,N),{})});function y(N,P){const G=se(N);if(!G){typeof N=="string"&&(m.value[Bu(N)]=Hv(P));return}if(typeof N=="string"){const ue=Bu(N);m.value[ue]&&delete m.value[ue]}G.errors=Hv(P),G.valid=!G.errors.length}function b(N){gr(N).forEach(P=>{y(P,N[P])})}e!=null&&e.initialErrors&&b(e.initialErrors);const w=ze(()=>{const N=d.value.reduce((P,G)=>(G.errors.length&&(P[G.path]=G.errors),P),{});return Object.assign(Object.assign({},m.value),N)}),S=ze(()=>gr(w.value).reduce((N,P)=>{const G=w.value[P];return G!=null&&G.length&&(N[P]=G[0]),N},{})),T=ze(()=>d.value.reduce((N,P)=>(N[P.path]={name:P.path||"",label:P.label||""},N),{})),k=ze(()=>d.value.reduce((N,P)=>{var G;return N[P.path]=(G=P.bails)!==null&&G!==void 0?G:!0,N},{})),D=Object.assign({},(e==null?void 0:e.initialErrors)||{}),L=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:z,originalInitialValues:j,setInitialValues:ae}=A5(d,f,e),M=I5(d,f,j,S),q=ze(()=>d.value.reduce((N,P)=>{const G=$n(f,P.path);return Bo(N,P.path,G),N},{})),x=e==null?void 0:e.validationSchema;function Ce(N,P){var G,ue;const de=ze(()=>$n(z.value,Ct(N))),Ne=h.value[Ct(N)];if(Ne){((P==null?void 0:P.type)==="checkbox"||(P==null?void 0:P.type)==="radio")&&(Ne.multiple=!0);const dn=r++;return Array.isArray(Ne.id)?Ne.id.push(dn):Ne.id=[Ne.id,dn],Ne.fieldsCount++,Ne.__flags.pendingUnmount[dn]=!1,Ne}const He=ze(()=>$n(f,Ct(N))),De=Ct(N),$e=r++,Ve=ni({id:$e,path:N,touched:!1,pending:!1,valid:!0,validated:!!(!((G=D[De])===null||G===void 0)&&G.length),initialValue:de,errors:YT([]),bails:(ue=P==null?void 0:P.bails)!==null&&ue!==void 0?ue:!1,label:P==null?void 0:P.label,type:(P==null?void 0:P.type)||"default",value:He,multiple:!1,__flags:{pendingUnmount:{[$e]:!1},pendingReset:!1},fieldsCount:1,validate:P==null?void 0:P.validate,dirty:ze(()=>!Ln(et(He),et(de)))});return d.value.push(Ve),h.value[De]=Ve,g(),S.value[De]&&!D[De]&&Cr(()=>{ne(De,{mode:"silent"})}),pt(N)&&Kn(N,dn=>{g();const pn=mt(He.value);h.value[dn]=Ve,Cr(()=>{Bo(f,dn,pn)})}),Ve}const re=bT(_e,5),ke=bT(_e,5),Le=qv(async N=>await N==="silent"?re():ke(),(N,[P])=>{const G=gr(be.errorBag.value);return[...new Set([...gr(N.results),...d.value.map(de=>de.path),...G])].sort().reduce((de,Ne)=>{const He=Ne,De=se(He)||Be(He),$e=(N.results[He]||{errors:[]}).errors,Ve={errors:$e,valid:!$e.length};return de.results[He]=Ve,Ve.valid||(de.errors[He]=Ve.errors[0]),De&&m.value[He]&&delete m.value[He],De?(De.valid=Ve.valid,P==="silent"||P==="validated-only"&&!De.validated||y(De,Ve.errors),de):(y(He,$e),de)},{valid:N.valid,results:{},errors:{}})});function Ke(N){d.value.forEach(N)}function se(N){const P=typeof N=="string"?Bu(N):N;return typeof P=="string"?h.value[P]:P}function Be(N){return d.value.filter(G=>N.startsWith(G.path)).reduce((G,ue)=>G?ue.path.length>G.path.length?ue:G:ue,void 0)}let ve=[],bt;function Pt(N){return ve.push(N),bt||(bt=Cr(()=>{[...ve].sort().reverse().forEach(G=>{vT(f,G)}),ve=[],bt=null})),bt}function Gt(N){return function(G,ue){return function(Ne){return Ne instanceof Event&&(Ne.preventDefault(),Ne.stopPropagation()),Ke(He=>He.touched=!0),o.value=!0,u.value++,Z().then(He=>{const De=mt(f);if(He.valid&&typeof G=="function"){const $e=mt(q.value);let Ve=N?$e:De;return He.values&&(Ve=He.values),G(Ve,{evt:Ne,controlledValues:$e,setErrors:b,setFieldError:y,setTouched:$,setFieldTouched:A,setValues:te,setFieldValue:F,resetForm:oe,resetField:Y})}!He.valid&&typeof ue=="function"&&ue({values:De,evt:Ne,errors:He.errors,results:He.results})}).then(He=>(o.value=!1,He),He=>{throw o.value=!1,He})}}}const _t=Gt(!1);_t.withControlled=Gt(!0);function Qn(N,P){const G=d.value.findIndex(de=>de.path===N),ue=d.value[G];if(!(G===-1||!ue)){if(Cr(()=>{ne(N,{mode:"silent",warn:!1})}),ue.multiple&&ue.fieldsCount&&ue.fieldsCount--,Array.isArray(ue.id)){const de=ue.id.indexOf(P);de>=0&&ue.id.splice(de,1),delete ue.__flags.pendingUnmount[P]}(!ue.multiple||ue.fieldsCount<=0)&&(d.value.splice(G,1),J(N),g(),delete h.value[N])}}function ge(N){return Ke(P=>{P.path.startsWith(N)&&gr(P.__flags.pendingUnmount).forEach(G=>{P.__flags.pendingUnmount[G]=!0})})}const be={formId:n,values:f,controlledValues:q,errorBag:w,errors:S,schema:x,submitCount:u,meta:M,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:L,validateSchema:et(x)?Le:void 0,validate:Z,setFieldError:y,validateField:ne,setFieldValue:F,setValues:te,setErrors:b,setFieldTouched:A,setTouched:$,resetForm:oe,resetField:Y,handleSubmit:_t,stageInitialValue:Ee,unsetInitialValue:J,setFieldInitialValue:fe,useFieldModel:Fe,createPathState:Ce,getPathState:se,unsetPathValue:Pt,removePathState:Qn,initialValues:z,getAllPathStates:()=>d.value,markForUnmount:ge,isFieldTouched:C,isFieldDirty:R,isFieldValid:B};function F(N,P,G=!0){const ue=mt(P),de=typeof N=="string"?N:N.path;se(de)||Ce(de),Bo(f,de,ue),G&&ne(de)}function K(N,P=!0){gr(f).forEach(G=>{delete f[G]}),gr(N).forEach(G=>{F(G,N[G],!1)}),P&&Z()}function te(N,P=!0){bh(f,N),l.forEach(G=>G&&G.reset()),P&&Z()}function ce(N){const P=se(et(N))||Ce(N);return ze({get(){return P.value},set(G){const ue=et(N);F(ue,G,!1),P.validated=!0,P.pending=!0,ne(ue).then(()=>{P.pending=!1})}})}function Fe(N){return Array.isArray(N)?N.map(ce):ce(N)}function A(N,P){const G=se(N);G&&(G.touched=P)}function C(N){var P;return!!(!((P=se(N))===null||P===void 0)&&P.touched)}function R(N){var P;return!!(!((P=se(N))===null||P===void 0)&&P.dirty)}function B(N){var P;return!!(!((P=se(N))===null||P===void 0)&&P.valid)}function $(N){if(typeof N=="boolean"){Ke(P=>{P.touched=N});return}gr(N).forEach(P=>{A(P,!!N[P])})}function Y(N,P){var G;const ue=P&&"value"in P?P.value:$n(z.value,N),de=se(N);de&&(de.__flags.pendingReset=!0),fe(N,mt(ue)),F(N,ue,!1),A(N,(G=P==null?void 0:P.touched)!==null&&G!==void 0?G:!1),y(N,(P==null?void 0:P.errors)||[]),Cr(()=>{de&&(de.__flags.pendingReset=!1)})}function oe(N,P){let G=N!=null&&N.values?N.values:j.value;G=ao(x)&&an(x.cast)?x.cast(G):G,ae(G),Ke(ue=>{var de;ue.__flags.pendingReset=!0,ue.validated=!1,ue.touched=((de=N==null?void 0:N.touched)===null||de===void 0?void 0:de[ue.path])||!1,F(ue.path,$n(G,ue.path),!1),y(ue.path,void 0)}),P!=null&&P.force?K(G,!1):te(G,!1),b((N==null?void 0:N.errors)||{}),u.value=(N==null?void 0:N.submitCount)||0,Cr(()=>{Z({mode:"silent"}),Ke(ue=>{ue.__flags.pendingReset=!1})})}async function Z(N){const P=(N==null?void 0:N.mode)||"force";if(P==="force"&&Ke(Ne=>Ne.validated=!0),be.validateSchema)return be.validateSchema(P);s.value=!0;const G=await Promise.all(d.value.map(Ne=>Ne.validate?Ne.validate(N).then(He=>({key:Ne.path,valid:He.valid,errors:He.errors})):Promise.resolve({key:Ne.path,valid:!0,errors:[]})));s.value=!1;const ue={},de={};for(const Ne of G)ue[Ne.key]={valid:Ne.valid,errors:Ne.errors},Ne.errors.length&&(de[Ne.key]=Ne.errors[0]);return{valid:G.every(Ne=>Ne.valid),results:ue,errors:de}}async function ne(N,P){var G;const ue=se(N);if(ue&&(P==null?void 0:P.mode)!=="silent"&&(ue.validated=!0),x){const{results:de}=await Le((P==null?void 0:P.mode)||"validated-only");return de[N]||{errors:[],valid:!0}}return ue!=null&&ue.validate?ue.validate(P):(!ue&&(G=P==null?void 0:P.warn),Promise.resolve({errors:[],valid:!0}))}function J(N){vT(z.value,N)}function Ee(N,P,G=!1){fe(N,P),Bo(f,N,P),G&&!(e!=null&&e.initialValues)&&Bo(j.value,N,mt(P))}function fe(N,P){Bo(z.value,N,mt(P))}async function _e(){const N=et(x);if(!N)return{valid:!0,results:{},errors:{}};s.value=!0;const P=wh(N)||ao(N)?await u5(N,f):await l5(N,f,{names:T.value,bailsMap:k.value});return s.value=!1,P}const Pe=_t((N,{evt:P})=>{vC(P)&&P.target.submit()});Ll(()=>{if(e!=null&&e.initialErrors&&b(e.initialErrors),e!=null&&e.initialTouched&&$(e.initialTouched),e!=null&&e.validateOnMount){Z();return}be.validateSchema&&be.validateSchema("silent")}),pt(x)&&Kn(x,()=>{var N;(N=be.validateSchema)===null||N===void 0||N.call(be,"validated-only")}),aa(Ad,be);function Ge(N,P){const G=se(Ct(N))||Ce(N),ue=()=>an(P)?P(Lu(G,Mu)):P||{};function de(){var De;G.touched=!0,((De=ue().validateOnBlur)!==null&&De!==void 0?De:zi().validateOnBlur)&&ne(G.path)}function Ne(De){var $e;const Ve=($e=ue().validateOnModelUpdate)!==null&&$e!==void 0?$e:zi().validateOnModelUpdate;F(G.path,De,Ve)}return ze(()=>{if(an(P)){const Ve=P(G),dn=Ve.model||"modelValue";return Object.assign({onBlur:de,[dn]:G.value,[`onUpdate:${dn}`]:Ne},Ve.props||{})}const De=(P==null?void 0:P.model)||"modelValue",$e={onBlur:de,[De]:G.value,[`onUpdate:${De}`]:Ne};return P!=null&&P.mapProps?Object.assign(Object.assign({},$e),P.mapProps(Lu(G,Mu))):$e})}function Te(N,P){const G=se(Ct(N))||Ce(N),ue=()=>an(P)?P(Lu(G,Mu)):P||{};function de(){var $e;G.touched=!0,(($e=ue().validateOnBlur)!==null&&$e!==void 0?$e:zi().validateOnBlur)&&ne(G.path)}function Ne($e){var Ve;const dn=Eh($e),pn=(Ve=ue().validateOnInput)!==null&&Ve!==void 0?Ve:zi().validateOnInput;F(G.path,dn,pn)}function He($e){var Ve;const dn=Eh($e),pn=(Ve=ue().validateOnChange)!==null&&Ve!==void 0?Ve:zi().validateOnChange;F(G.path,dn,pn)}return ze(()=>{const $e={value:G.value,onChange:He,onInput:Ne,onBlur:de};return an(P)?Object.assign(Object.assign({},$e),P(Lu(G,Mu)).attrs||{}):P!=null&&P.mapAttrs?Object.assign(Object.assign({},$e),P.mapAttrs(Lu(G,Mu))):$e})}return Object.assign(Object.assign({},be),{values:Oh(f),handleReset:()=>oe(),submitForm:Pe,defineComponentBinds:Ge,defineInputBinds:Te})}function I5(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=ze(()=>!Ln(t,et(n)));function u(){const f=e.value;return gr(o).reduce((d,m)=>{const h=o[m];return d[m]=f[h](g=>g[m]),d},{})}const l=ni(u());return MD(()=>{const f=u();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),ze(()=>Object.assign(Object.assign({initialValues:et(n)},l),{valid:l.valid&&!gr(r.value).length,dirty:s.value}))}function A5(e,t,n){const r=IC(n),o=n==null?void 0:n.initialValues,s=tn(r),u=tn(mt(r));function l(f,d=!1){s.value=bh(mt(s.value)||{},mt(f)),u.value=bh(mt(u.value)||{},mt(f)),d&&e.value.forEach(m=>{if(m.touched)return;const g=$n(s.value,m.path);Bo(t,m.path,mt(g))})}return pt(o)&&Kn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:l}}const x5=Dl({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=$i(e,"initialValues"),r=$i(e,"validationSchema"),o=$i(e,"keepValues"),{errors:s,errorBag:u,values:l,meta:f,isSubmitting:d,isValidating:m,submitCount:h,controlledValues:g,validate:y,validateField:b,handleReset:w,resetForm:S,handleSubmit:T,setErrors:k,setFieldError:D,setFieldValue:L,setValues:z,setFieldTouched:j,setTouched:ae,resetField:M}=T5({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),q=T((Be,{evt:ve})=>{vC(ve)&&ve.target.submit()},e.onInvalidSubmit),x=e.onSubmit?T(e.onSubmit,e.onInvalidSubmit):q;function Ce(Be){Bb(Be)&&Be.preventDefault(),w(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function re(Be,ve){return T(typeof Be=="function"&&!ve?Be:ve,e.onInvalidSubmit)(Be)}function ke(){return mt(l)}function Le(){return mt(f.value)}function Ke(){return mt(s.value)}function se(){return{meta:f.value,errors:s.value,errorBag:u.value,values:l,isSubmitting:d.value,isValidating:m.value,submitCount:h.value,controlledValues:g.value,validate:y,validateField:b,handleSubmit:re,handleReset:w,submitForm:q,setErrors:k,setFieldError:D,setFieldValue:L,setValues:z,setFieldTouched:j,setTouched:ae,resetForm:S,resetField:M,getValues:ke,getMeta:Le,getErrors:Ke}}return t.expose({setFieldError:D,setErrors:k,setFieldValue:L,setValues:z,setFieldTouched:j,setTouched:ae,resetForm:S,validate:y,validateField:b,resetField:M,getValues:ke,getMeta:Le,getErrors:Ke}),function(){const ve=e.as==="form"?e.as:e.as?Fh(e.as):null,bt=qb(ve,t,se);return ve?is(ve,Object.assign(Object.assign(Object.assign({},ve==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:x,onReset:Ce}),bt):bt}}}),k5=x5,C5=Dl({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=wr(Ad,void 0),r=ze(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?Fh(e.as):e.as,u=qb(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?is(s||"span",l,r.value):is(s,l,u)}}}),O5=C5;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const If={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},P5=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Wa(e,t){return Array.isArray(e)?e[0]:e[t]}function Ei(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const AC=(e,t)=>{if(Ei(e))return!0;const n=P5(t);if(Array.isArray(e))return e.every(o=>AC(o,{locale:n}));const r=String(e);return n?(If[n]||If.en).test(r):Object.keys(If).some(o=>If[o].test(r))},N5=(e,t)=>{const n=Wa(t,"target");return String(e)===String(n)},xC=(e,t)=>{if(Ei(e))return!0;const n=Wa(t,"length");if(Array.isArray(e))return e.every(o=>xC(o,{length:n}));const r=String(e);return/^[0-9]*$/.test(r)&&r.length===Number(n)},R5=e=>{if(Ei(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function D5(e){return e==null}function L5(e){return Array.isArray(e)&&e.length===0}const kC=(e,t)=>{if(Ei(e))return!0;const n=Wa(t,"length");return Array.isArray(e)?e.every(r=>kC(r,{length:n})):[...String(e)].length<=Number(n)},CC=(e,t)=>{if(Ei(e))return!0;const n=Wa(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>CC(r,{max:n})):Number(e)<=Number(n)},OC=(e,t)=>{if(Ei(e))return!0;const n=Wa(t,"length");return Array.isArray(e)?e.every(r=>OC(r,{length:n})):[...String(e)].length>=Number(n)},PC=(e,t)=>{if(Ei(e))return!0;const n=Wa(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>PC(r,{min:n})):Number(e)>=Number(n)},NC=(e,t)=>Ei(e)?!0:Array.isArray(e)?e.every(n=>NC(n,t)):Array.from(t).some(n=>n==e),ST=(e,t)=>Ei(e)?!0:!NC(e,t),TT=e=>D5(e)||L5(e)||e===!1?!1:!!String(e).trim().length;function M5(e,t){const n=t[0],r=new Date(e),o=new Date;return o.setFullYear(o.getFullYear()-n),r.getTime()<=o.getTime()}const F5={install(e){e.component("VeeForm",k5),e.component("VeeField",E5),e.component("ErrorMessage",O5),tr("required",TT),tr("tos",TT),tr("min",OC),tr("max",kC),tr("alpha_spaces",AC),tr("email",R5),tr("min_value",PC),tr("max_value",CC),tr("passwords_missmatch",N5),tr("excluded",ST),tr("country_excluded",ST),tr("digits",xC),tr("minAge",M5),n5({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} must have at least ${t.rule.params} characters.`,max:`The field ${t.field} maximun length is ${t.rule.params}.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} can't be under ${t.rule.params}.`,max_value:`The field ${t.field} can't be above ${t.rule.params}.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${t.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${t.field} must be a valid phone number (012345678)`,minAge:`You must be at least ${t.rule.params} years old`};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};var vn={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function Nl(e){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nl(e)}function IT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(n),!0).forEach(function(r){V5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V5(e,t,n){return t=j5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j5(e){var t=U5(e,"string");return Nl(t)==="symbol"?t:String(t)}function U5(e,t){if(Nl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Nl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AT={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[vn.STARTS_WITH,vn.CONTAINS,vn.NOT_CONTAINS,vn.ENDS_WITH,vn.EQUALS,vn.NOT_EQUALS],numeric:[vn.EQUALS,vn.NOT_EQUALS,vn.LESS_THAN,vn.LESS_THAN_OR_EQUAL_TO,vn.GREATER_THAN,vn.GREATER_THAN_OR_EQUAL_TO],date:[vn.DATE_IS,vn.DATE_IS_NOT,vn.DATE_BEFORE,vn.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},B5=Symbol();function $5(e,t,n,r){if(e!==t){var o=document.getElementById(n),s=o.cloneNode(!0),u=o.getAttribute("href").replace(e,t);s.setAttribute("id",n+"-clone"),s.setAttribute("href",u),s.addEventListener("load",function(){o.remove(),s.setAttribute("id",n),r&&r()}),o.parentNode&&o.parentNode.insertBefore(s,o.nextSibling)}}var q5={install:function(t,n){var r=n?Vm(Vm({},AT),n):Vm({},AT),o={config:ni(r),changeTheme:$5};t.config.globalProperties.$primevue=o,t.provide(B5,o)}};let jo;vr.onAuthStateChanged(()=>{jo||(jo=nM(n$),jo.use(oM()),jo.use(dC),jo.use(F5),jo.use(q5),jo.mount("#app"))});
