(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function vv(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const ye={},Ts=[],pr=()=>{},qC=()=>!1,$C=/^on[^a-z]/,If=t=>$C.test(t),mv=t=>t.startsWith("onUpdate:"),ze=Object.assign,yv=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},KC=Object.prototype.hasOwnProperty,Xt=(t,e)=>KC.call(t,e),Ot=Array.isArray,Ss=t=>Tf(t)==="[object Map]",mI=t=>Tf(t)==="[object Set]",Vt=t=>typeof t=="function",Le=t=>typeof t=="string",wv=t=>typeof t=="symbol",ge=t=>t!==null&&typeof t=="object",yI=t=>ge(t)&&Vt(t.then)&&Vt(t.catch),wI=Object.prototype.toString,Tf=t=>wI.call(t),HC=t=>Tf(t).slice(8,-1),bI=t=>Tf(t)==="[object Object]",bv=t=>Le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Al=vv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Sf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},zC=/-(\w)/g,Mr=Sf(t=>t.replace(zC,(e,n)=>n?n.toUpperCase():"")),GC=/\B([A-Z])/g,Zs=Sf(t=>t.replace(GC,"-$1").toLowerCase()),Af=Sf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Kp=Sf(t=>t?`on${Af(t)}`:""),pa=(t,e)=>!Object.is(t,e),Hp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Fl=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},WC=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ub;const vg=()=>Ub||(Ub=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ga(t){if(Ot(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=Le(i)?JC(i):ga(i);if(o)for(const u in o)e[u]=o[u]}return e}else{if(Le(t))return t;if(ge(t))return t}}const QC=/;(?![^(]*\))/g,YC=/:([^]+)/,XC=/\/\*[^]*?\*\//g;function JC(t){const e={};return t.replace(XC,"").split(QC).forEach(n=>{if(n){const i=n.split(YC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Pr(t){let e="";if(Le(t))e=t;else if(Ot(t))for(let n=0;n<t.length;n++){const i=Pr(t[n]);i&&(e+=i+" ")}else if(ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ZC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tO=vv(ZC);function _I(t){return!!t||t===""}const va=t=>Le(t)?t:t==null?"":Ot(t)||ge(t)&&(t.toString===wI||!Vt(t.toString))?JSON.stringify(t,EI,2):String(t),EI=(t,e)=>e&&e.__v_isRef?EI(t,e.value):Ss(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:mI(e)?{[`Set(${e.size})`]:[...e.values()]}:ge(e)&&!Ot(e)&&!bI(e)?String(e):e;let qn;class II{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qn,!e&&qn&&(this.index=(qn.scopes||(qn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=qn;try{return qn=this,e()}finally{qn=n}}}on(){qn=this}off(){qn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function TI(t){return new II(t)}function eO(t,e=qn){e&&e.active&&e.effects.push(t)}function SI(){return qn}function nO(t){qn&&qn.cleanups.push(t)}const _v=t=>{const e=new Set(t);return e.w=0,e.n=0,e},AI=t=>(t.w&Di)>0,NI=t=>(t.n&Di)>0,rO=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Di},iO=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];AI(o)&&!NI(o)?o.delete(t):e[n++]=o,o.w&=~Di,o.n&=~Di}e.length=n}},Vl=new WeakMap;let Zu=0,Di=1;const mg=30;let hr;const bo=Symbol(""),yg=Symbol("");class Ev{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,eO(this,i)}run(){if(!this.active)return this.fn();let e=hr,n=ki;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=hr,hr=this,ki=!0,Di=1<<++Zu,Zu<=mg?rO(this):Bb(this),this.fn()}finally{Zu<=mg&&iO(this),Di=1<<--Zu,hr=this.parent,ki=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){hr===this?this.deferStop=!0:this.active&&(Bb(this),this.onStop&&this.onStop(),this.active=!1)}}function Bb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let ki=!0;const kI=[];function tu(){kI.push(ki),ki=!1}function eu(){const t=kI.pop();ki=t===void 0?!0:t}function Rn(t,e,n){if(ki&&hr){let i=Vl.get(t);i||Vl.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=_v()),xI(o)}}function xI(t,e){let n=!1;Zu<=mg?NI(t)||(t.n|=Di,n=!AI(t)):n=!t.has(hr),n&&(t.add(hr),hr.deps.push(t))}function Jr(t,e,n,i,o,u){const a=Vl.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(n==="length"&&Ot(t)){const f=Number(i);a.forEach((d,g)=>{(g==="length"||g>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),e){case"add":Ot(t)?bv(n)&&l.push(a.get("length")):(l.push(a.get(bo)),Ss(t)&&l.push(a.get(yg)));break;case"delete":Ot(t)||(l.push(a.get(bo)),Ss(t)&&l.push(a.get(yg)));break;case"set":Ss(t)&&l.push(a.get(bo));break}if(l.length===1)l[0]&&wg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);wg(_v(f))}}function wg(t,e){const n=Ot(t)?t:[...t];for(const i of n)i.computed&&qb(i);for(const i of n)i.computed||qb(i)}function qb(t,e){(t!==hr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function oO(t,e){var n;return(n=Vl.get(t))==null?void 0:n.get(e)}const sO=vv("__proto__,__v_isRef,__isVue"),CI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wv)),uO=Iv(),aO=Iv(!1,!0),cO=Iv(!0),$b=lO();function lO(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Jt(this);for(let u=0,a=this.length;u<a;u++)Rn(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(Jt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){tu();const i=Jt(this)[e].apply(this,n);return eu(),i}}),t}function fO(t){const e=Jt(this);return Rn(e,"has",t),e.hasOwnProperty(t)}function Iv(t=!1,e=!1){return function(i,o,u){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&u===(t?e?NO:LI:e?PI:DI).get(i))return i;const a=Ot(i);if(!t){if(a&&Xt($b,o))return Reflect.get($b,o,u);if(o==="hasOwnProperty")return fO}const l=Reflect.get(i,o,u);return(wv(o)?CI.has(o):sO(o))||(t||Rn(i,"get",o),e)?l:ae(l)?a&&bv(o)?l:l.value:ge(l)?t?Av(l):Zr(l):l}}const hO=OI(),dO=OI(!0);function OI(t=!1){return function(n,i,o,u){let a=n[i];if(xs(a)&&ae(a)&&!ae(o))return!1;if(!t&&(!jl(o)&&!xs(o)&&(a=Jt(a),o=Jt(o)),!Ot(n)&&ae(a)&&!ae(o)))return a.value=o,!0;const l=Ot(n)&&bv(i)?Number(i)<n.length:Xt(n,i),f=Reflect.set(n,i,o,u);return n===Jt(u)&&(l?pa(o,a)&&Jr(n,"set",i,o):Jr(n,"add",i,o)),f}}function pO(t,e){const n=Xt(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Jr(t,"delete",e,void 0),i}function gO(t,e){const n=Reflect.has(t,e);return(!wv(e)||!CI.has(e))&&Rn(t,"has",e),n}function vO(t){return Rn(t,"iterate",Ot(t)?"length":bo),Reflect.ownKeys(t)}const RI={get:uO,set:hO,deleteProperty:pO,has:gO,ownKeys:vO},mO={get:cO,set(t,e){return!0},deleteProperty(t,e){return!0}},yO=ze({},RI,{get:aO,set:dO}),Tv=t=>t,Nf=t=>Reflect.getPrototypeOf(t);function ll(t,e,n=!1,i=!1){t=t.__v_raw;const o=Jt(t),u=Jt(e);n||(e!==u&&Rn(o,"get",e),Rn(o,"get",u));const{has:a}=Nf(o),l=i?Tv:n?kv:ma;if(a.call(o,e))return l(t.get(e));if(a.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function fl(t,e=!1){const n=this.__v_raw,i=Jt(n),o=Jt(t);return e||(t!==o&&Rn(i,"has",t),Rn(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function hl(t,e=!1){return t=t.__v_raw,!e&&Rn(Jt(t),"iterate",bo),Reflect.get(t,"size",t)}function Kb(t){t=Jt(t);const e=Jt(this);return Nf(e).has.call(e,t)||(e.add(t),Jr(e,"add",t,t)),this}function Hb(t,e){e=Jt(e);const n=Jt(this),{has:i,get:o}=Nf(n);let u=i.call(n,t);u||(t=Jt(t),u=i.call(n,t));const a=o.call(n,t);return n.set(t,e),u?pa(e,a)&&Jr(n,"set",t,e):Jr(n,"add",t,e),this}function zb(t){const e=Jt(this),{has:n,get:i}=Nf(e);let o=n.call(e,t);o||(t=Jt(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&Jr(e,"delete",t,void 0),u}function Gb(){const t=Jt(this),e=t.size!==0,n=t.clear();return e&&Jr(t,"clear",void 0,void 0),n}function dl(t,e){return function(i,o){const u=this,a=u.__v_raw,l=Jt(a),f=e?Tv:t?kv:ma;return!t&&Rn(l,"iterate",bo),a.forEach((d,g)=>i.call(o,f(d),f(g),u))}}function pl(t,e,n){return function(...i){const o=this.__v_raw,u=Jt(o),a=Ss(u),l=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,d=o[t](...i),g=n?Tv:e?kv:ma;return!e&&Rn(u,"iterate",f?yg:bo),{next(){const{value:v,done:y}=d.next();return y?{value:v,done:y}:{value:l?[g(v[0]),g(v[1])]:g(v),done:y}},[Symbol.iterator](){return this}}}}function di(t){return function(...e){return t==="delete"?!1:this}}function wO(){const t={get(u){return ll(this,u)},get size(){return hl(this)},has:fl,add:Kb,set:Hb,delete:zb,clear:Gb,forEach:dl(!1,!1)},e={get(u){return ll(this,u,!1,!0)},get size(){return hl(this)},has:fl,add:Kb,set:Hb,delete:zb,clear:Gb,forEach:dl(!1,!0)},n={get(u){return ll(this,u,!0)},get size(){return hl(this,!0)},has(u){return fl.call(this,u,!0)},add:di("add"),set:di("set"),delete:di("delete"),clear:di("clear"),forEach:dl(!0,!1)},i={get(u){return ll(this,u,!0,!0)},get size(){return hl(this,!0)},has(u){return fl.call(this,u,!0)},add:di("add"),set:di("set"),delete:di("delete"),clear:di("clear"),forEach:dl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=pl(u,!1,!1),n[u]=pl(u,!0,!1),e[u]=pl(u,!1,!0),i[u]=pl(u,!0,!0)}),[t,n,e,i]}const[bO,_O,EO,IO]=wO();function Sv(t,e){const n=e?t?IO:EO:t?_O:bO;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(Xt(n,o)&&o in i?n:i,o,u)}const TO={get:Sv(!1,!1)},SO={get:Sv(!1,!0)},AO={get:Sv(!0,!1)},DI=new WeakMap,PI=new WeakMap,LI=new WeakMap,NO=new WeakMap;function kO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xO(t){return t.__v_skip||!Object.isExtensible(t)?0:kO(HC(t))}function Zr(t){return xs(t)?t:Nv(t,!1,RI,TO,DI)}function MI(t){return Nv(t,!1,yO,SO,PI)}function Av(t){return Nv(t,!0,mO,AO,LI)}function Nv(t,e,n,i,o){if(!ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const a=xO(t);if(a===0)return t;const l=new Proxy(t,a===2?i:n);return o.set(t,l),l}function xi(t){return xs(t)?xi(t.__v_raw):!!(t&&t.__v_isReactive)}function xs(t){return!!(t&&t.__v_isReadonly)}function jl(t){return!!(t&&t.__v_isShallow)}function FI(t){return xi(t)||xs(t)}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function kf(t){return Fl(t,"__v_skip",!0),t}const ma=t=>ge(t)?Zr(t):t,kv=t=>ge(t)?Av(t):t;function VI(t){ki&&hr&&(t=Jt(t),xI(t.dep||(t.dep=_v())))}function jI(t,e){t=Jt(t);const n=t.dep;n&&wg(n)}function ae(t){return!!(t&&t.__v_isRef===!0)}function vn(t){return BI(t,!1)}function UI(t){return BI(t,!0)}function BI(t,e){return ae(t)?t:new CO(t,e)}class CO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Jt(e),this._value=n?e:ma(e)}get value(){return VI(this),this._value}set value(e){const n=this.__v_isShallow||jl(e)||xs(e);e=n?e:Jt(e),pa(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ma(e),jI(this))}}function Gt(t){return ae(t)?t.value:t}function _e(t){return Vt(t)?t():Gt(t)}const OO={get:(t,e,n)=>Gt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return ae(o)&&!ae(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function qI(t){return xi(t)?t:new Proxy(t,OO)}function RO(t){const e=Ot(t)?new Array(t.length):{};for(const n in t)e[n]=$I(t,n);return e}class DO{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return oO(Jt(this._object),this._key)}}class PO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ei(t,e,n){return ae(t)?t:Vt(t)?new PO(t):ge(t)&&arguments.length>1?$I(t,e,n):vn(t)}function $I(t,e,n){const i=t[e];return ae(i)?i:new DO(t,e,n)}class LO{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Ev(e,()=>{this._dirty||(this._dirty=!0,jI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=Jt(this);return VI(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function MO(t,e,n=!1){let i,o;const u=Vt(t);return u?(i=t,o=pr):(i=t.get,o=t.set),new LO(i,o,u||!o,n)}function Ci(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){xf(u,e,n)}return o}function gr(t,e,n,i){if(Vt(t)){const u=Ci(t,e,n,i);return u&&yI(u)&&u.catch(a=>{xf(a,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(gr(t[u],e,n,i));return o}function xf(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let u=e.parent;const a=e.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](t,a,l)===!1)return}u=u.parent}const f=e.appContext.config.errorHandler;if(f){Ci(f,null,10,[t,a,l]);return}}FO(t,n,o,i)}function FO(t,e,n,i=!0){console.error(t)}let ya=!1,bg=!1;const un=[];let Rr=0;const As=[];let Hr=null,ho=0;const KI=Promise.resolve();let xv=null;function Cr(t){const e=xv||KI;return t?e.then(this?t.bind(this):t):e}function VO(t){let e=Rr+1,n=un.length;for(;e<n;){const i=e+n>>>1;wa(un[i])<t?e=i+1:n=i}return e}function Cv(t){(!un.length||!un.includes(t,ya&&t.allowRecurse?Rr+1:Rr))&&(t.id==null?un.push(t):un.splice(VO(t.id),0,t),HI())}function HI(){!ya&&!bg&&(bg=!0,xv=KI.then(GI))}function jO(t){const e=un.indexOf(t);e>Rr&&un.splice(e,1)}function UO(t){Ot(t)?As.push(...t):(!Hr||!Hr.includes(t,t.allowRecurse?ho+1:ho))&&As.push(t),HI()}function Wb(t,e=ya?Rr+1:0){for(;e<un.length;e++){const n=un[e];n&&n.pre&&(un.splice(e,1),e--,n())}}function zI(t){if(As.length){const e=[...new Set(As)];if(As.length=0,Hr){Hr.push(...e);return}for(Hr=e,Hr.sort((n,i)=>wa(n)-wa(i)),ho=0;ho<Hr.length;ho++)Hr[ho]();Hr=null,ho=0}}const wa=t=>t.id==null?1/0:t.id,BO=(t,e)=>{const n=wa(t)-wa(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function GI(t){bg=!1,ya=!0,un.sort(BO);const e=pr;try{for(Rr=0;Rr<un.length;Rr++){const n=un[Rr];n&&n.active!==!1&&Ci(n,null,14)}}finally{Rr=0,un.length=0,zI(),ya=!1,xv=null,(un.length||As.length)&&GI()}}function qO(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ye;let o=n;const u=e.startsWith("update:"),a=u&&e.slice(7);if(a&&a in i){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:y}=i[g]||ye;y&&(o=n.map(b=>Le(b)?b.trim():b)),v&&(o=n.map(WC))}let l,f=i[l=Kp(e)]||i[l=Kp(Mr(e))];!f&&u&&(f=i[l=Kp(Zs(e))]),f&&gr(f,t,6,o);const d=i[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,gr(d,t,6,o)}}function WI(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let a={},l=!1;if(!Vt(t)){const f=d=>{const g=WI(d,e,!0);g&&(l=!0,ze(a,g))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(ge(t)&&i.set(t,null),null):(Ot(u)?u.forEach(f=>a[f]=null):ze(a,u),ge(t)&&i.set(t,a),a)}function Cf(t,e){return!t||!If(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xt(t,e[0].toLowerCase()+e.slice(1))||Xt(t,Zs(e))||Xt(t,e))}let Gn=null,QI=null;function Ul(t){const e=Gn;return Gn=t,QI=t&&t.type.__scopeId||null,e}function bs(t,e=Gn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&o_(-1);const u=Ul(e);let a;try{a=t(...o)}finally{Ul(u),i._d&&o_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function zp(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:g,renderCache:v,data:y,setupState:b,ctx:_,inheritAttrs:S}=t;let N,O;const P=Ul(t);try{if(n.shapeFlag&4){const q=o||i;N=Or(g.call(q,q,v,u,b,y,_)),O=f}else{const q=e;N=Or(q.length>1?q(u,{attrs:f,slots:l,emit:d}):q(u,null)),O=e.props?f:$O(f)}}catch(q){oa.length=0,xf(q,t,1),N=Bt(So)}let j=N;if(O&&S!==!1){const q=Object.keys(O),{shapeFlag:rt}=j;q.length&&rt&7&&(a&&q.some(mv)&&(O=KO(O,a)),j=Cs(j,O))}return n.dirs&&(j=Cs(j),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&(j.transition=n.transition),N=j,Ul(P),N}const $O=t=>{let e;for(const n in t)(n==="class"||n==="style"||If(n))&&((e||(e={}))[n]=t[n]);return e},KO=(t,e)=>{const n={};for(const i in t)(!mv(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function HO(t,e,n){const{props:i,children:o,component:u}=t,{props:a,children:l,patchFlag:f}=e,d=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Qb(i,a,d):!!a;if(f&8){const g=e.dynamicProps;for(let v=0;v<g.length;v++){const y=g[v];if(a[y]!==i[y]&&!Cf(d,y))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Qb(i,a,d):!0:!!a;return!1}function Qb(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!Cf(n,u))return!0}return!1}function zO({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const GO=t=>t.__isSuspense;function WO(t,e){e&&e.pendingBranch?Ot(t)?e.effects.push(...t):e.effects.push(t):UO(t)}function QO(t,e){return Ov(t,null,e)}const gl={};function Yn(t,e,n){return Ov(t,e,n)}function Ov(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=ye){var l;const f=SI()===((l=Ue)==null?void 0:l.scope)?Ue:null;let d,g=!1,v=!1;if(ae(t)?(d=()=>t.value,g=jl(t)):xi(t)?(d=()=>t,i=!0):Ot(t)?(v=!0,g=t.some(q=>xi(q)||jl(q)),d=()=>t.map(q=>{if(ae(q))return q.value;if(xi(q))return _s(q);if(Vt(q))return Ci(q,f,2)})):Vt(t)?e?d=()=>Ci(t,f,2):d=()=>{if(!(f&&f.isUnmounted))return y&&y(),gr(t,f,3,[b])}:d=pr,e&&i){const q=d;d=()=>_s(q())}let y,b=q=>{y=P.onStop=()=>{Ci(q,f,4)}},_;if(Ea)if(b=pr,e?n&&gr(e,f,3,[d(),v?[]:void 0,b]):d(),o==="sync"){const q=jR();_=q.__watcherHandles||(q.__watcherHandles=[])}else return pr;let S=v?new Array(t.length).fill(gl):gl;const N=()=>{if(P.active)if(e){const q=P.run();(i||g||(v?q.some((rt,V)=>pa(rt,S[V])):pa(q,S)))&&(y&&y(),gr(e,f,3,[q,S===gl?void 0:v&&S[0]===gl?[]:S,b]),S=q)}else P.run()};N.allowRecurse=!!e;let O;o==="sync"?O=N:o==="post"?O=()=>Nn(N,f&&f.suspense):(N.pre=!0,f&&(N.id=f.uid),O=()=>Cv(N));const P=new Ev(d,O);e?n?N():S=P.run():o==="post"?Nn(P.run.bind(P),f&&f.suspense):P.run();const j=()=>{P.stop(),f&&f.scope&&yv(f.scope.effects,P)};return _&&_.push(j),j}function YO(t,e,n){const i=this.proxy,o=Le(t)?t.includes(".")?YI(i,t):()=>i[t]:t.bind(i,i);let u;Vt(e)?u=e:(u=e.handler,n=e);const a=Ue;Os(this);const l=Ov(o,u.bind(i),n);return a?Os(a):_o(),l}function YI(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function _s(t,e){if(!ge(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ae(t))_s(t.value,e);else if(Ot(t))for(let n=0;n<t.length;n++)_s(t[n],e);else if(mI(t)||Ss(t))t.forEach(n=>{_s(n,e)});else if(bI(t))for(const n in t)_s(t[n],e);return t}function uo(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(tu(),gr(f,n,8,[t.el,l,t,e]),eu())}}function qa(t,e){return Vt(t)?(()=>ze({name:t.name},e,{setup:t}))():t}const Nl=t=>!!t.type.__asyncLoader,XI=t=>t.type.__isKeepAlive;function XO(t,e){JI(t,"a",e)}function JO(t,e){JI(t,"da",e)}function JI(t,e,n=Ue){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Of(e,i,n),n){let o=n.parent;for(;o&&o.parent;)XI(o.parent.vnode)&&ZO(i,e,n,o),o=o.parent}}function ZO(t,e,n,i){const o=Of(e,t,i,!0);t1(()=>{yv(i[e],o)},n)}function Of(t,e,n=Ue,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;tu(),Os(n);const l=gr(e,n,t,a);return _o(),eu(),l});return i?o.unshift(u):o.push(u),u}}const ei=t=>(e,n=Ue)=>(!Ea||t==="sp")&&Of(t,(...i)=>e(...i),n),tR=ei("bm"),Rv=ei("m"),eR=ei("bu"),nR=ei("u"),ZI=ei("bum"),t1=ei("um"),rR=ei("sp"),iR=ei("rtg"),oR=ei("rtc");function sR(t,e=Ue){Of("ec",t,e)}const Dv="components";function Hn(t,e){return n1(Dv,t,!0,e)||t}const e1=Symbol.for("v-ndc");function Pv(t){return Le(t)?n1(Dv,t,!1)||t:t||e1}function n1(t,e,n=!0,i=!1){const o=Gn||Ue;if(o){const u=o.type;if(t===Dv){const l=MR(u,!1);if(l&&(l===e||l===Mr(e)||l===Af(Mr(e))))return u}const a=Yb(o[t]||u[t],e)||Yb(o.appContext[t],e);return!a&&i?u:a}}function Yb(t,e){return t&&(t[e]||t[Mr(e)]||t[Af(Mr(e))])}function uR(t,e,n,i){let o;const u=n&&n[i];if(Ot(t)||Le(t)){o=new Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=e(t[a],a,void 0,u&&u[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,u&&u[a])}else if(ge(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,u&&u[l]));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=e(t[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const _g=t=>t?g1(t)?jv(t)||t.proxy:_g(t.parent):null,ia=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>_g(t.parent),$root:t=>_g(t.root),$emit:t=>t.emit,$options:t=>Lv(t),$forceUpdate:t=>t.f||(t.f=()=>Cv(t.update)),$nextTick:t=>t.n||(t.n=Cr.bind(t.proxy)),$watch:t=>YO.bind(t)}),Gp=(t,e)=>t!==ye&&!t.__isScriptSetup&&Xt(t,e),aR={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=t;let d;if(e[0]!=="$"){const b=a[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(Gp(i,e))return a[e]=1,i[e];if(o!==ye&&Xt(o,e))return a[e]=2,o[e];if((d=t.propsOptions[0])&&Xt(d,e))return a[e]=3,u[e];if(n!==ye&&Xt(n,e))return a[e]=4,n[e];Eg&&(a[e]=0)}}const g=ia[e];let v,y;if(g)return e==="$attrs"&&Rn(t,"get",e),g(t);if((v=l.__cssModules)&&(v=v[e]))return v;if(n!==ye&&Xt(n,e))return a[e]=4,n[e];if(y=f.config.globalProperties,Xt(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return Gp(o,e)?(o[e]=n,!0):i!==ye&&Xt(i,e)?(i[e]=n,!0):Xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||t!==ye&&Xt(t,a)||Gp(e,a)||(l=u[0])&&Xt(l,a)||Xt(i,a)||Xt(ia,a)||Xt(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Xb(t){return Ot(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Eg=!0;function cR(t){const e=Lv(t),n=t.proxy,i=t.ctx;Eg=!1,e.beforeCreate&&Jb(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:g,beforeMount:v,mounted:y,beforeUpdate:b,updated:_,activated:S,deactivated:N,beforeDestroy:O,beforeUnmount:P,destroyed:j,unmounted:q,render:rt,renderTracked:V,renderTriggered:It,errorCaptured:Q,serverPrefetch:ht,expose:A,inheritAttrs:Wt,components:oe,directives:se,filters:ce}=e;if(d&&lR(d,i,null),a)for(const Lt in a){const gt=a[Lt];Vt(gt)&&(i[Lt]=gt.bind(n))}if(o){const Lt=o.call(n,n);ge(Lt)&&(t.data=Zr(Lt))}if(Eg=!0,u)for(const Lt in u){const gt=u[Lt],he=Vt(gt)?gt.bind(n,n):Vt(gt.get)?gt.get.bind(n,n):pr,Ie=!Vt(gt)&&Vt(gt.set)?gt.set.bind(n):pr,Ve=qt({get:he,set:Ie});Object.defineProperty(i,Lt,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:Ce=>Ve.value=Ce})}if(l)for(const Lt in l)r1(l[Lt],i,n,Lt);if(f){const Lt=Vt(f)?f.call(n):f;Reflect.ownKeys(Lt).forEach(gt=>{Ns(gt,Lt[gt])})}g&&Jb(g,t,"c");function st(Lt,gt){Ot(gt)?gt.forEach(he=>Lt(he.bind(n))):gt&&Lt(gt.bind(n))}if(st(tR,v),st(Rv,y),st(eR,b),st(nR,_),st(XO,S),st(JO,N),st(sR,Q),st(oR,V),st(iR,It),st(ZI,P),st(t1,q),st(rR,ht),Ot(A))if(A.length){const Lt=t.exposed||(t.exposed={});A.forEach(gt=>{Object.defineProperty(Lt,gt,{get:()=>n[gt],set:he=>n[gt]=he})})}else t.exposed||(t.exposed={});rt&&t.render===pr&&(t.render=rt),Wt!=null&&(t.inheritAttrs=Wt),oe&&(t.components=oe),se&&(t.directives=se)}function lR(t,e,n=pr){Ot(t)&&(t=Ig(t));for(const i in t){const o=t[i];let u;ge(o)?"default"in o?u=ir(o.from||i,o.default,!0):u=ir(o.from||i):u=ir(o),ae(u)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):e[i]=u}}function Jb(t,e,n){gr(Ot(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function r1(t,e,n,i){const o=i.includes(".")?YI(n,i):()=>n[i];if(Le(t)){const u=e[t];Vt(u)&&Yn(o,u)}else if(Vt(t))Yn(o,t.bind(n));else if(ge(t))if(Ot(t))t.forEach(u=>r1(u,e,n,i));else{const u=Vt(t.handler)?t.handler.bind(n):e[t.handler];Vt(u)&&Yn(o,u,t)}}function Lv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(d=>Bl(f,d,a,!0)),Bl(f,e,a)),ge(e)&&u.set(e,f),f}function Bl(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&Bl(t,u,n,!0),o&&o.forEach(a=>Bl(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const l=fR[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const fR={data:Zb,props:t_,emits:t_,methods:ta,computed:ta,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:ta,directives:ta,watch:dR,provide:Zb,inject:hR};function Zb(t,e){return e?t?function(){return ze(Vt(t)?t.call(this,this):t,Vt(e)?e.call(this,this):e)}:e:t}function hR(t,e){return ta(Ig(t),Ig(e))}function Ig(t){if(Ot(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function pn(t,e){return t?[...new Set([].concat(t,e))]:e}function ta(t,e){return t?ze(Object.create(null),t,e):e}function t_(t,e){return t?Ot(t)&&Ot(e)?[...new Set([...t,...e])]:ze(Object.create(null),Xb(t),Xb(e??{})):e}function dR(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const i in e)n[i]=pn(t[i],e[i]);return n}function i1(){return{app:null,config:{isNativeTag:qC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pR=0;function gR(t,e){return function(i,o=null){Vt(i)||(i=ze({},i)),o!=null&&!ge(o)&&(o=null);const u=i1(),a=new Set;let l=!1;const f=u.app={_uid:pR++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:UR,get config(){return u.config},set config(d){},use(d,...g){return a.has(d)||(d&&Vt(d.install)?(a.add(d),d.install(f,...g)):Vt(d)&&(a.add(d),d(f,...g))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,g){return g?(u.components[d]=g,f):u.components[d]},directive(d,g){return g?(u.directives[d]=g,f):u.directives[d]},mount(d,g,v){if(!l){const y=Bt(i,o);return y.appContext=u,g&&e?e(y,d):t(y,d,v),l=!0,f._container=d,d.__vue_app__=f,jv(y.component)||y.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(d,g){return u.provides[d]=g,f},runWithContext(d){ba=f;try{return d()}finally{ba=null}}};return f}}let ba=null;function Ns(t,e){if(Ue){let n=Ue.provides;const i=Ue.parent&&Ue.parent.provides;i===n&&(n=Ue.provides=Object.create(i)),n[t]=e}}function ir(t,e,n=!1){const i=Ue||Gn;if(i||ba){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ba._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Vt(e)?e.call(i&&i.proxy):e}}function vR(){return!!(Ue||Gn||ba)}function mR(t,e,n,i=!1){const o={},u={};Fl(u,Df,1),t.propsDefaults=Object.create(null),o1(t,e,o,u);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=i?o:MI(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function yR(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=t,l=Jt(o),[f]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const g=t.vnode.dynamicProps;for(let v=0;v<g.length;v++){let y=g[v];if(Cf(t.emitsOptions,y))continue;const b=e[y];if(f)if(Xt(u,y))b!==u[y]&&(u[y]=b,d=!0);else{const _=Mr(y);o[_]=Tg(f,l,_,b,t,!1)}else b!==u[y]&&(u[y]=b,d=!0)}}}else{o1(t,e,o,u)&&(d=!0);let g;for(const v in l)(!e||!Xt(e,v)&&((g=Zs(v))===v||!Xt(e,g)))&&(f?n&&(n[v]!==void 0||n[g]!==void 0)&&(o[v]=Tg(f,l,v,void 0,t,!0)):delete o[v]);if(u!==l)for(const v in u)(!e||!Xt(e,v))&&(delete u[v],d=!0)}d&&Jr(t,"set","$attrs")}function o1(t,e,n,i){const[o,u]=t.propsOptions;let a=!1,l;if(e)for(let f in e){if(Al(f))continue;const d=e[f];let g;o&&Xt(o,g=Mr(f))?!u||!u.includes(g)?n[g]=d:(l||(l={}))[g]=d:Cf(t.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Jt(n),d=l||ye;for(let g=0;g<u.length;g++){const v=u[g];n[v]=Tg(o,f,v,d[v],t,!Xt(d,v))}}return a}function Tg(t,e,n,i,o,u){const a=t[n];if(a!=null){const l=Xt(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Vt(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Os(o),i=d[n]=f.call(null,e),_o())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===Zs(n))&&(i=!0))}return i}function s1(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,a={},l=[];let f=!1;if(!Vt(t)){const g=v=>{f=!0;const[y,b]=s1(v,e,!0);ze(a,y),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!u&&!f)return ge(t)&&i.set(t,Ts),Ts;if(Ot(u))for(let g=0;g<u.length;g++){const v=Mr(u[g]);e_(v)&&(a[v]=ye)}else if(u)for(const g in u){const v=Mr(g);if(e_(v)){const y=u[g],b=a[v]=Ot(y)||Vt(y)?{type:y}:ze({},y);if(b){const _=i_(Boolean,b.type),S=i_(String,b.type);b[0]=_>-1,b[1]=S<0||_<S,(_>-1||Xt(b,"default"))&&l.push(v)}}}const d=[a,l];return ge(t)&&i.set(t,d),d}function e_(t){return t[0]!=="$"}function n_(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function r_(t,e){return n_(t)===n_(e)}function i_(t,e){return Ot(e)?e.findIndex(n=>r_(n,t)):Vt(e)&&r_(e,t)?0:-1}const u1=t=>t[0]==="_"||t==="$stable",Mv=t=>Ot(t)?t.map(Or):[Or(t)],wR=(t,e,n)=>{if(e._n)return e;const i=bs((...o)=>Mv(e(...o)),n);return i._c=!1,i},a1=(t,e,n)=>{const i=t._ctx;for(const o in t){if(u1(o))continue;const u=t[o];if(Vt(u))e[o]=wR(o,u,i);else if(u!=null){const a=Mv(u);e[o]=()=>a}}},c1=(t,e)=>{const n=Mv(e);t.slots.default=()=>n},bR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Jt(e),Fl(e,"_",n)):a1(e,t.slots={})}else t.slots={},e&&c1(t,e);Fl(t.slots,Df,1)},_R=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,a=ye;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(ze(o,e),!n&&l===1&&delete o._):(u=!e.$stable,a1(e,o)),a=e}else e&&(c1(t,e),a={default:1});if(u)for(const l in o)!u1(l)&&!(l in a)&&delete o[l]};function Sg(t,e,n,i,o=!1){if(Ot(t)){t.forEach((y,b)=>Sg(y,e&&(Ot(e)?e[b]:e),n,i,o));return}if(Nl(i)&&!o)return;const u=i.shapeFlag&4?jv(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=t,d=e&&e.r,g=l.refs===ye?l.refs={}:l.refs,v=l.setupState;if(d!=null&&d!==f&&(Le(d)?(g[d]=null,Xt(v,d)&&(v[d]=null)):ae(d)&&(d.value=null)),Vt(f))Ci(f,l,12,[a,g]);else{const y=Le(f),b=ae(f);if(y||b){const _=()=>{if(t.f){const S=y?Xt(v,f)?v[f]:g[f]:f.value;o?Ot(S)&&yv(S,u):Ot(S)?S.includes(u)||S.push(u):y?(g[f]=[u],Xt(v,f)&&(v[f]=g[f])):(f.value=[u],t.k&&(g[t.k]=f.value))}else y?(g[f]=a,Xt(v,f)&&(v[f]=a)):b&&(f.value=a,t.k&&(g[t.k]=a))};a?(_.id=-1,Nn(_,n)):_()}}}const Nn=WO;function ER(t){return IR(t)}function IR(t,e){const n=vg();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:g,parentNode:v,nextSibling:y,setScopeId:b=pr,insertStaticContent:_}=t,S=(I,T,C,M=null,F=null,z=null,nt=!1,X=null,tt=!!T.dynamicChildren)=>{if(I===T)return;I&&!Gu(I,T)&&(M=R(I),Ce(I,F,z,!0),I=null),T.patchFlag===-2&&(tt=!1,T.dynamicChildren=null);const{type:Y,ref:wt,shapeFlag:at}=T;switch(Y){case Rf:N(I,T,C,M);break;case So:O(I,T,C,M);break;case kl:I==null&&P(T,C,M,nt);break;case kn:oe(I,T,C,M,F,z,nt,X,tt);break;default:at&1?rt(I,T,C,M,F,z,nt,X,tt):at&6?se(I,T,C,M,F,z,nt,X,tt):(at&64||at&128)&&Y.process(I,T,C,M,F,z,nt,X,tt,Z)}wt!=null&&F&&Sg(wt,I&&I.ref,z,T||I,!T)},N=(I,T,C,M)=>{if(I==null)i(T.el=l(T.children),C,M);else{const F=T.el=I.el;T.children!==I.children&&d(F,T.children)}},O=(I,T,C,M)=>{I==null?i(T.el=f(T.children||""),C,M):T.el=I.el},P=(I,T,C,M)=>{[I.el,I.anchor]=_(I.children,T,C,M,I.el,I.anchor)},j=({el:I,anchor:T},C,M)=>{let F;for(;I&&I!==T;)F=y(I),i(I,C,M),I=F;i(T,C,M)},q=({el:I,anchor:T})=>{let C;for(;I&&I!==T;)C=y(I),o(I),I=C;o(T)},rt=(I,T,C,M,F,z,nt,X,tt)=>{nt=nt||T.type==="svg",I==null?V(T,C,M,F,z,nt,X,tt):ht(I,T,F,z,nt,X,tt)},V=(I,T,C,M,F,z,nt,X)=>{let tt,Y;const{type:wt,props:at,shapeFlag:mt,transition:St,dirs:Ut}=I;if(tt=I.el=a(I.type,z,at&&at.is,at),mt&8?g(tt,I.children):mt&16&&Q(I.children,tt,null,M,F,z&&wt!=="foreignObject",nt,X),Ut&&uo(I,null,M,"created"),It(tt,I,I.scopeId,nt,M),at){for(const x in at)x!=="value"&&!Al(x)&&u(tt,x,null,at[x],z,I.children,M,F,vt);"value"in at&&u(tt,"value",null,at.value),(Y=at.onVnodeBeforeMount)&&kr(Y,M,I)}Ut&&uo(I,null,M,"beforeMount");const _t=(!F||F&&!F.pendingBranch)&&St&&!St.persisted;_t&&St.beforeEnter(tt),i(tt,T,C),((Y=at&&at.onVnodeMounted)||_t||Ut)&&Nn(()=>{Y&&kr(Y,M,I),_t&&St.enter(tt),Ut&&uo(I,null,M,"mounted")},F)},It=(I,T,C,M,F)=>{if(C&&b(I,C),M)for(let z=0;z<M.length;z++)b(I,M[z]);if(F){let z=F.subTree;if(T===z){const nt=F.vnode;It(I,nt,nt.scopeId,nt.slotScopeIds,F.parent)}}},Q=(I,T,C,M,F,z,nt,X,tt=0)=>{for(let Y=tt;Y<I.length;Y++){const wt=I[Y]=X?wi(I[Y]):Or(I[Y]);S(null,wt,T,C,M,F,z,nt,X)}},ht=(I,T,C,M,F,z,nt)=>{const X=T.el=I.el;let{patchFlag:tt,dynamicChildren:Y,dirs:wt}=T;tt|=I.patchFlag&16;const at=I.props||ye,mt=T.props||ye;let St;C&&ao(C,!1),(St=mt.onVnodeBeforeUpdate)&&kr(St,C,T,I),wt&&uo(T,I,C,"beforeUpdate"),C&&ao(C,!0);const Ut=F&&T.type!=="foreignObject";if(Y?A(I.dynamicChildren,Y,X,C,M,Ut,z):nt||gt(I,T,X,null,C,M,Ut,z,!1),tt>0){if(tt&16)Wt(X,T,at,mt,C,M,F);else if(tt&2&&at.class!==mt.class&&u(X,"class",null,mt.class,F),tt&4&&u(X,"style",at.style,mt.style,F),tt&8){const _t=T.dynamicProps;for(let x=0;x<_t.length;x++){const k=_t[x],B=at[k],it=mt[k];(it!==B||k==="value")&&u(X,k,B,it,F,I.children,C,M,vt)}}tt&1&&I.children!==T.children&&g(X,T.children)}else!nt&&Y==null&&Wt(X,T,at,mt,C,M,F);((St=mt.onVnodeUpdated)||wt)&&Nn(()=>{St&&kr(St,C,T,I),wt&&uo(T,I,C,"updated")},M)},A=(I,T,C,M,F,z,nt)=>{for(let X=0;X<T.length;X++){const tt=I[X],Y=T[X],wt=tt.el&&(tt.type===kn||!Gu(tt,Y)||tt.shapeFlag&70)?v(tt.el):C;S(tt,Y,wt,null,M,F,z,nt,!0)}},Wt=(I,T,C,M,F,z,nt)=>{if(C!==M){if(C!==ye)for(const X in C)!Al(X)&&!(X in M)&&u(I,X,C[X],null,nt,T.children,F,z,vt);for(const X in M){if(Al(X))continue;const tt=M[X],Y=C[X];tt!==Y&&X!=="value"&&u(I,X,Y,tt,nt,T.children,F,z,vt)}"value"in M&&u(I,"value",C.value,M.value)}},oe=(I,T,C,M,F,z,nt,X,tt)=>{const Y=T.el=I?I.el:l(""),wt=T.anchor=I?I.anchor:l("");let{patchFlag:at,dynamicChildren:mt,slotScopeIds:St}=T;St&&(X=X?X.concat(St):St),I==null?(i(Y,C,M),i(wt,C,M),Q(T.children,C,wt,F,z,nt,X,tt)):at>0&&at&64&&mt&&I.dynamicChildren?(A(I.dynamicChildren,mt,C,F,z,nt,X),(T.key!=null||F&&T===F.subTree)&&l1(I,T,!0)):gt(I,T,C,wt,F,z,nt,X,tt)},se=(I,T,C,M,F,z,nt,X,tt)=>{T.slotScopeIds=X,I==null?T.shapeFlag&512?F.ctx.activate(T,C,M,nt,tt):ce(T,C,M,F,z,nt,tt):Qt(I,T,tt)},ce=(I,T,C,M,F,z,nt)=>{const X=I.component=OR(I,M,F);if(XI(I)&&(X.ctx.renderer=Z),RR(X),X.asyncDep){if(F&&F.registerDep(X,st),!I.el){const tt=X.subTree=Bt(So);O(null,tt,T,C)}return}st(X,I,T,C,F,z,nt)},Qt=(I,T,C)=>{const M=T.component=I.component;if(HO(I,T,C))if(M.asyncDep&&!M.asyncResolved){Lt(M,T,C);return}else M.next=T,jO(M.update),M.update();else T.el=I.el,M.vnode=T},st=(I,T,C,M,F,z,nt)=>{const X=()=>{if(I.isMounted){let{next:wt,bu:at,u:mt,parent:St,vnode:Ut}=I,_t=wt,x;ao(I,!1),wt?(wt.el=Ut.el,Lt(I,wt,nt)):wt=Ut,at&&Hp(at),(x=wt.props&&wt.props.onVnodeBeforeUpdate)&&kr(x,St,wt,Ut),ao(I,!0);const k=zp(I),B=I.subTree;I.subTree=k,S(B,k,v(B.el),R(B),I,F,z),wt.el=k.el,_t===null&&zO(I,k.el),mt&&Nn(mt,F),(x=wt.props&&wt.props.onVnodeUpdated)&&Nn(()=>kr(x,St,wt,Ut),F)}else{let wt;const{el:at,props:mt}=T,{bm:St,m:Ut,parent:_t}=I,x=Nl(T);if(ao(I,!1),St&&Hp(St),!x&&(wt=mt&&mt.onVnodeBeforeMount)&&kr(wt,_t,T),ao(I,!0),at&&Rt){const k=()=>{I.subTree=zp(I),Rt(at,I.subTree,I,F,null)};x?T.type.__asyncLoader().then(()=>!I.isUnmounted&&k()):k()}else{const k=I.subTree=zp(I);S(null,k,C,M,I,F,z),T.el=k.el}if(Ut&&Nn(Ut,F),!x&&(wt=mt&&mt.onVnodeMounted)){const k=T;Nn(()=>kr(wt,_t,k),F)}(T.shapeFlag&256||_t&&Nl(_t.vnode)&&_t.vnode.shapeFlag&256)&&I.a&&Nn(I.a,F),I.isMounted=!0,T=C=M=null}},tt=I.effect=new Ev(X,()=>Cv(Y),I.scope),Y=I.update=()=>tt.run();Y.id=I.uid,ao(I,!0),Y()},Lt=(I,T,C)=>{T.component=I;const M=I.vnode.props;I.vnode=T,I.next=null,yR(I,T.props,M,C),_R(I,T.children,C),tu(),Wb(),eu()},gt=(I,T,C,M,F,z,nt,X,tt=!1)=>{const Y=I&&I.children,wt=I?I.shapeFlag:0,at=T.children,{patchFlag:mt,shapeFlag:St}=T;if(mt>0){if(mt&128){Ie(Y,at,C,M,F,z,nt,X,tt);return}else if(mt&256){he(Y,at,C,M,F,z,nt,X,tt);return}}St&8?(wt&16&&vt(Y,F,z),at!==Y&&g(C,at)):wt&16?St&16?Ie(Y,at,C,M,F,z,nt,X,tt):vt(Y,F,z,!0):(wt&8&&g(C,""),St&16&&Q(at,C,M,F,z,nt,X,tt))},he=(I,T,C,M,F,z,nt,X,tt)=>{I=I||Ts,T=T||Ts;const Y=I.length,wt=T.length,at=Math.min(Y,wt);let mt;for(mt=0;mt<at;mt++){const St=T[mt]=tt?wi(T[mt]):Or(T[mt]);S(I[mt],St,C,null,F,z,nt,X,tt)}Y>wt?vt(I,F,z,!0,!1,at):Q(T,C,M,F,z,nt,X,tt,at)},Ie=(I,T,C,M,F,z,nt,X,tt)=>{let Y=0;const wt=T.length;let at=I.length-1,mt=wt-1;for(;Y<=at&&Y<=mt;){const St=I[Y],Ut=T[Y]=tt?wi(T[Y]):Or(T[Y]);if(Gu(St,Ut))S(St,Ut,C,null,F,z,nt,X,tt);else break;Y++}for(;Y<=at&&Y<=mt;){const St=I[at],Ut=T[mt]=tt?wi(T[mt]):Or(T[mt]);if(Gu(St,Ut))S(St,Ut,C,null,F,z,nt,X,tt);else break;at--,mt--}if(Y>at){if(Y<=mt){const St=mt+1,Ut=St<wt?T[St].el:M;for(;Y<=mt;)S(null,T[Y]=tt?wi(T[Y]):Or(T[Y]),C,Ut,F,z,nt,X,tt),Y++}}else if(Y>mt)for(;Y<=at;)Ce(I[Y],F,z,!0),Y++;else{const St=Y,Ut=Y,_t=new Map;for(Y=Ut;Y<=mt;Y++){const kt=T[Y]=tt?wi(T[Y]):Or(T[Y]);kt.key!=null&&_t.set(kt.key,Y)}let x,k=0;const B=mt-Ut+1;let it=!1,lt=0;const At=new Array(B);for(Y=0;Y<B;Y++)At[Y]=0;for(Y=St;Y<=at;Y++){const kt=I[Y];if(k>=B){Ce(kt,F,z,!0);continue}let Mt;if(kt.key!=null)Mt=_t.get(kt.key);else for(x=Ut;x<=mt;x++)if(At[x-Ut]===0&&Gu(kt,T[x])){Mt=x;break}Mt===void 0?Ce(kt,F,z,!0):(At[Mt-Ut]=Y+1,Mt>=lt?lt=Mt:it=!0,S(kt,T[Mt],C,null,F,z,nt,X,tt),k++)}const Ft=it?TR(At):Ts;for(x=Ft.length-1,Y=B-1;Y>=0;Y--){const kt=Ut+Y,Mt=T[kt],Dt=kt+1<wt?T[kt+1].el:M;At[Y]===0?S(null,Mt,C,Dt,F,z,nt,X,tt):it&&(x<0||Y!==Ft[x]?Ve(Mt,C,Dt,2):x--)}}},Ve=(I,T,C,M,F=null)=>{const{el:z,type:nt,transition:X,children:tt,shapeFlag:Y}=I;if(Y&6){Ve(I.component.subTree,T,C,M);return}if(Y&128){I.suspense.move(T,C,M);return}if(Y&64){nt.move(I,T,C,Z);return}if(nt===kn){i(z,T,C);for(let at=0;at<tt.length;at++)Ve(tt[at],T,C,M);i(I.anchor,T,C);return}if(nt===kl){j(I,T,C);return}if(M!==2&&Y&1&&X)if(M===0)X.beforeEnter(z),i(z,T,C),Nn(()=>X.enter(z),F);else{const{leave:at,delayLeave:mt,afterLeave:St}=X,Ut=()=>i(z,T,C),_t=()=>{at(z,()=>{Ut(),St&&St()})};mt?mt(z,Ut,_t):_t()}else i(z,T,C)},Ce=(I,T,C,M=!1,F=!1)=>{const{type:z,props:nt,ref:X,children:tt,dynamicChildren:Y,shapeFlag:wt,patchFlag:at,dirs:mt}=I;if(X!=null&&Sg(X,null,C,I,!0),wt&256){T.ctx.deactivate(I);return}const St=wt&1&&mt,Ut=!Nl(I);let _t;if(Ut&&(_t=nt&&nt.onVnodeBeforeUnmount)&&kr(_t,T,I),wt&6)dt(I.component,C,M);else{if(wt&128){I.suspense.unmount(C,M);return}St&&uo(I,null,T,"beforeUnmount"),wt&64?I.type.remove(I,T,C,F,Z,M):Y&&(z!==kn||at>0&&at&64)?vt(Y,T,C,!1,!0):(z===kn&&at&384||!F&&wt&16)&&vt(tt,T,C),M&&de(I)}(Ut&&(_t=nt&&nt.onVnodeUnmounted)||St)&&Nn(()=>{_t&&kr(_t,T,I),St&&uo(I,null,T,"unmounted")},C)},de=I=>{const{type:T,el:C,anchor:M,transition:F}=I;if(T===kn){Fn(C,M);return}if(T===kl){q(I);return}const z=()=>{o(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(I.shapeFlag&1&&F&&!F.persisted){const{leave:nt,delayLeave:X}=F,tt=()=>nt(C,z);X?X(I.el,z,tt):tt()}else z()},Fn=(I,T)=>{let C;for(;I!==T;)C=y(I),o(I),I=C;o(T)},dt=(I,T,C)=>{const{bum:M,scope:F,update:z,subTree:nt,um:X}=I;M&&Hp(M),F.stop(),z&&(z.active=!1,Ce(nt,I,T,C)),X&&Nn(X,T),Nn(()=>{I.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},vt=(I,T,C,M=!1,F=!1,z=0)=>{for(let nt=z;nt<I.length;nt++)Ce(I[nt],T,C,M,F)},R=I=>I.shapeFlag&6?R(I.component.subTree):I.shapeFlag&128?I.suspense.next():y(I.anchor||I.el),U=(I,T,C)=>{I==null?T._vnode&&Ce(T._vnode,null,null,!0):S(T._vnode||null,I,T,null,null,null,C),Wb(),zI(),T._vnode=I},Z={p:S,um:Ce,m:Ve,r:de,mt:ce,mc:Q,pc:gt,pbc:A,n:R,o:t};let ut,Rt;return e&&([ut,Rt]=e(Z)),{render:U,hydrate:ut,createApp:gR(U,ut)}}function ao({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function l1(t,e,n=!1){const i=t.children,o=e.children;if(Ot(i)&&Ot(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=wi(o[u]),l.el=a.el),n||l1(a,l)),l.type===Rf&&(l.el=a.el)}}function TR(t){const e=t.slice(),n=[0];let i,o,u,a,l;const f=t.length;for(i=0;i<f;i++){const d=t[i];if(d!==0){if(o=n[n.length-1],t[o]<d){e[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,t[n[l]]<d?u=l+1:a=l;d<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=e[a];return n}const SR=t=>t.__isTeleport,kn=Symbol.for("v-fgt"),Rf=Symbol.for("v-txt"),So=Symbol.for("v-cmt"),kl=Symbol.for("v-stc"),oa=[];let dr=null;function He(t=!1){oa.push(dr=t?null:[])}function AR(){oa.pop(),dr=oa[oa.length-1]||null}let _a=1;function o_(t){_a+=t}function f1(t){return t.dynamicChildren=_a>0?dr||Ts:null,AR(),_a>0&&dr&&dr.push(t),t}function wn(t,e,n,i,o,u){return f1(G(t,e,n,i,o,u,!0))}function Ag(t,e,n,i,o){return f1(Bt(t,e,n,i,o,!0))}function Ng(t){return t?t.__v_isVNode===!0:!1}function Gu(t,e){return t.type===e.type&&t.key===e.key}const Df="__vInternal",h1=({key:t})=>t??null,xl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Le(t)||ae(t)||Vt(t)?{i:Gn,r:t,k:e,f:!!n}:t:null);function G(t,e=null,n=null,i=0,o=null,u=t===kn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&h1(e),ref:e&&xl(e),scopeId:QI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Gn};return l?(Fv(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=Le(n)?8:16),_a>0&&!a&&dr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&dr.push(f),f}const Bt=NR;function NR(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===e1)&&(t=So),Ng(t)){const l=Cs(t,e,!0);return n&&Fv(l,n),_a>0&&!u&&dr&&(l.shapeFlag&6?dr[dr.indexOf(t)]=l:dr.push(l)),l.patchFlag|=-2,l}if(FR(t)&&(t=t.__vccOpts),e){e=kR(e);let{class:l,style:f}=e;l&&!Le(l)&&(e.class=Pr(l)),ge(f)&&(FI(f)&&!Ot(f)&&(f=ze({},f)),e.style=ga(f))}const a=Le(t)?1:GO(t)?128:SR(t)?64:ge(t)?4:Vt(t)?2:0;return G(t,e,n,i,o,a,u,!0)}function kR(t){return t?FI(t)||Df in t?ze({},t):t:null}function Cs(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=t,l=e?kg(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&h1(l),ref:e&&e.ref?n&&o?Ot(o)?o.concat(xl(e)):[o,xl(e)]:xl(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==kn?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Cs(t.ssContent),ssFallback:t.ssFallback&&Cs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Dn(t=" ",e=0){return Bt(Rf,null,t,e)}function d1(t,e){const n=Bt(kl,null,t);return n.staticCount=e,n}function p1(t="",e=!1){return e?(He(),Ag(So,null,t)):Bt(So,null,t)}function Or(t){return t==null||typeof t=="boolean"?Bt(So):Ot(t)?Bt(kn,null,t.slice()):typeof t=="object"?wi(t):Bt(Rf,null,String(t))}function wi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Cs(t)}function Fv(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ot(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),Fv(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Df in e)?e._ctx=Gn:o===3&&Gn&&(Gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Vt(e)?(e={default:e,_ctx:Gn},n=32):(e=String(e),i&64?(n=16,e=[Dn(e)]):n=8);t.children=e,t.shapeFlag|=n}function kg(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=Pr([e.class,i.class]));else if(o==="style")e.style=ga([e.style,i.style]);else if(If(o)){const u=e[o],a=i[o];a&&u!==a&&!(Ot(u)&&u.includes(a))&&(e[o]=u?[].concat(u,a):a)}else o!==""&&(e[o]=i[o])}return e}function kr(t,e,n,i=null){gr(t,e,7,[n,i])}const xR=i1();let CR=0;function OR(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||xR,u={uid:CR++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new II(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:s1(i,o),emitsOptions:WI(i,o),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:i.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=qO.bind(null,u),t.ce&&t.ce(u),u}let Ue=null;const Pf=()=>Ue||Gn;let Vv,fs,s_="__VUE_INSTANCE_SETTERS__";(fs=vg()[s_])||(fs=vg()[s_]=[]),fs.push(t=>Ue=t),Vv=t=>{fs.length>1?fs.forEach(e=>e(t)):fs[0](t)};const Os=t=>{Vv(t),t.scope.on()},_o=()=>{Ue&&Ue.scope.off(),Vv(null)};function g1(t){return t.vnode.shapeFlag&4}let Ea=!1;function RR(t,e=!1){Ea=e;const{props:n,children:i}=t.vnode,o=g1(t);mR(t,n,o,e),bR(t,i);const u=o?DR(t,e):void 0;return Ea=!1,u}function DR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=kf(new Proxy(t.ctx,aR));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?LR(t):null;Os(t),tu();const u=Ci(i,t,0,[t.props,o]);if(eu(),_o(),yI(u)){if(u.then(_o,_o),e)return u.then(a=>{u_(t,a,e)}).catch(a=>{xf(a,t,0)});t.asyncDep=u}else u_(t,u,e)}else v1(t,e)}function u_(t,e,n){Vt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ge(e)&&(t.setupState=qI(e)),v1(t,n)}let a_;function v1(t,e,n){const i=t.type;if(!t.render){if(!e&&a_&&!i.render){const o=i.template||Lv(t).template;if(o){const{isCustomElement:u,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,d=ze(ze({isCustomElement:u,delimiters:l},a),f);i.render=a_(o,d)}}t.render=i.render||pr}Os(t),tu(),cR(t),eu(),_o()}function PR(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Rn(t,"get","$attrs"),e[n]}}))}function LR(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return PR(t)},slots:t.slots,emit:t.emit,expose:e}}function jv(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(qI(kf(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ia)return ia[n](t)},has(e,n){return n in e||n in ia}}))}function MR(t,e=!0){return Vt(t)?t.displayName||t.name:t.name||e&&t.__name}function FR(t){return Vt(t)&&"__vccOpts"in t}const qt=(t,e)=>MO(t,e,Ea);function Rs(t,e,n){const i=arguments.length;return i===2?ge(e)&&!Ot(e)?Ng(e)?Bt(t,null,[e]):Bt(t,e):Bt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ng(n)&&(n=[n]),Bt(t,e,n))}const VR=Symbol.for("v-scx"),jR=()=>ir(VR),UR="3.3.4",BR="http://www.w3.org/2000/svg",po=typeof document<"u"?document:null,c_=po&&po.createElement("template"),qR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?po.createElementNS(BR,t):po.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>po.createTextNode(t),createComment:t=>po.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>po.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,u){const a=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{c_.innerHTML=i?`<svg>${t}</svg>`:t;const l=c_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function $R(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function KR(t,e,n){const i=t.style,o=Le(n);if(n&&!o){if(e&&!Le(e))for(const u in e)n[u]==null&&xg(i,u,"");for(const u in n)xg(i,u,n[u])}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=u)}}const l_=/\s*!important$/;function xg(t,e,n){if(Ot(n))n.forEach(i=>xg(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=HR(t,e);l_.test(n)?t.setProperty(Zs(i),n.replace(l_,""),"important"):t[i]=n}}const f_=["Webkit","Moz","ms"],Wp={};function HR(t,e){const n=Wp[e];if(n)return n;let i=Mr(e);if(i!=="filter"&&i in t)return Wp[e]=i;i=Af(i);for(let o=0;o<f_.length;o++){const u=f_[o]+i;if(u in t)return Wp[e]=u}return e}const h_="http://www.w3.org/1999/xlink";function zR(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(h_,e.slice(6,e.length)):t.setAttributeNS(h_,e,n);else{const u=tO(e);n==null||u&&!_I(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function GR(t,e,n,i,o,u,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,o,u),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const d=l==="OPTION"?t.getAttribute("value"):t.value,g=n??"";d!==g&&(t.value=g),n==null&&t.removeAttribute(e);return}let f=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=_I(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(e)}function WR(t,e,n,i){t.addEventListener(e,n,i)}function QR(t,e,n,i){t.removeEventListener(e,n,i)}function YR(t,e,n,i,o=null){const u=t._vei||(t._vei={}),a=u[e];if(i&&a)a.value=i;else{const[l,f]=XR(e);if(i){const d=u[e]=tD(i,o);WR(t,l,d,f)}else a&&(QR(t,l,a,f),u[e]=void 0)}}const d_=/(?:Once|Passive|Capture)$/;function XR(t){let e;if(d_.test(t)){e={};let i;for(;i=t.match(d_);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Zs(t.slice(2)),e]}let Qp=0;const JR=Promise.resolve(),ZR=()=>Qp||(JR.then(()=>Qp=0),Qp=Date.now());function tD(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;gr(eD(i,n.value),e,5,[i])};return n.value=t,n.attached=ZR(),n}function eD(t,e){if(Ot(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const p_=/^on[a-z]/,nD=(t,e,n,i,o=!1,u,a,l,f)=>{e==="class"?$R(t,i,o):e==="style"?KR(t,n,i):If(e)?mv(e)||YR(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):rD(t,e,i,o))?GR(t,e,i,u,a,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),zR(t,e,i,o))};function rD(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&p_.test(e)&&Vt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||p_.test(e)&&Le(n)?!1:e in t}const iD=["ctrl","shift","alt","meta"],oD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>iD.some(n=>t[`${n}Key`]&&!e.includes(n))},ql=(t,e)=>(n,...i)=>{for(let o=0;o<e.length;o++){const u=oD[e[o]];if(u&&u(n,e))return}return t(n,...i)},sD=ze({patchProp:nD},qR);let g_;function uD(){return g_||(g_=ER(sD))}const aD=(...t)=>{const e=uD().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=cD(i);if(!o)return;const u=e._component;!Vt(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function cD(t){return Le(t)?document.querySelector(t):t}var lD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let m1;const Lf=t=>m1=t,y1=Symbol();function Cg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var sa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(sa||(sa={}));function fD(){const t=TI(!0),e=t.run(()=>vn({}));let n=[],i=[];const o=kf({install(u){Lf(o),o._a=u,u.provide(y1,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!lD?i.push(u):n.push(u),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const w1=()=>{};function v_(t,e,n,i=w1){t.push(e);const o=()=>{const u=t.indexOf(e);u>-1&&(t.splice(u,1),i())};return!n&&SI()&&nO(o),o}function hs(t,...e){t.slice().forEach(n=>{n(...e)})}const hD=t=>t();function Og(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],o=t[n];Cg(o)&&Cg(i)&&t.hasOwnProperty(n)&&!ae(i)&&!xi(i)?t[n]=Og(o,i):t[n]=i}return t}const dD=Symbol();function pD(t){return!Cg(t)||!t.hasOwnProperty(dD)}const{assign:yi}=Object;function gD(t){return!!(ae(t)&&t.effect)}function vD(t,e,n,i){const{state:o,actions:u,getters:a}=e,l=n.state.value[t];let f;function d(){l||(n.state.value[t]=o?o():{});const g=RO(n.state.value[t]);return yi(g,u,Object.keys(a||{}).reduce((v,y)=>(v[y]=kf(qt(()=>{Lf(n);const b=n._s.get(t);return a[y].call(b,b)})),v),{}))}return f=b1(t,d,e,n,i,!0),f}function b1(t,e,n={},i,o,u){let a;const l=yi({actions:{}},n),f={deep:!0};let d,g,v=[],y=[],b;const _=i.state.value[t];!u&&!_&&(i.state.value[t]={}),vn({});let S;function N(Q){let ht;d=g=!1,typeof Q=="function"?(Q(i.state.value[t]),ht={type:sa.patchFunction,storeId:t,events:b}):(Og(i.state.value[t],Q),ht={type:sa.patchObject,payload:Q,storeId:t,events:b});const A=S=Symbol();Cr().then(()=>{S===A&&(d=!0)}),g=!0,hs(v,ht,i.state.value[t])}const O=u?function(){const{state:ht}=n,A=ht?ht():{};this.$patch(Wt=>{yi(Wt,A)})}:w1;function P(){a.stop(),v=[],y=[],i._s.delete(t)}function j(Q,ht){return function(){Lf(i);const A=Array.from(arguments),Wt=[],oe=[];function se(st){Wt.push(st)}function ce(st){oe.push(st)}hs(y,{args:A,name:Q,store:rt,after:se,onError:ce});let Qt;try{Qt=ht.apply(this&&this.$id===t?this:rt,A)}catch(st){throw hs(oe,st),st}return Qt instanceof Promise?Qt.then(st=>(hs(Wt,st),st)).catch(st=>(hs(oe,st),Promise.reject(st))):(hs(Wt,Qt),Qt)}}const q={_p:i,$id:t,$onAction:v_.bind(null,y),$patch:N,$reset:O,$subscribe(Q,ht={}){const A=v_(v,Q,ht.detached,()=>Wt()),Wt=a.run(()=>Yn(()=>i.state.value[t],oe=>{(ht.flush==="sync"?g:d)&&Q({storeId:t,type:sa.direct,events:b},oe)},yi({},f,ht)));return A},$dispose:P},rt=Zr(q);i._s.set(t,rt);const It=(i._a&&i._a.runWithContext||hD)(()=>i._e.run(()=>(a=TI()).run(e)));for(const Q in It){const ht=It[Q];if(ae(ht)&&!gD(ht)||xi(ht))u||(_&&pD(ht)&&(ae(ht)?ht.value=_[Q]:Og(ht,_[Q])),i.state.value[t][Q]=ht);else if(typeof ht=="function"){const A=j(Q,ht);It[Q]=A,l.actions[Q]=ht}}return yi(rt,It),yi(Jt(rt),It),Object.defineProperty(rt,"$state",{get:()=>i.state.value[t],set:Q=>{N(ht=>{yi(ht,Q)})}}),i._p.forEach(Q=>{yi(rt,a.run(()=>Q({store:rt,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(rt.$state,_),d=!0,g=!0,rt}function _1(t,e,n){let i,o;const u=typeof e=="function";typeof t=="string"?(i=t,o=u?n:e):(o=t,i=t.id);function a(l,f){const d=vR();return l=l||(d?ir(y1,null):null),l&&Lf(l),l=m1,l._s.has(i)||(u?b1(i,e,o,l):vD(i,o,l)),l._s.get(i)}return a.$id=i,a}let mD="Store";function yD(...t){return t.reduce((e,n)=>(e[n.$id+mD]=function(){return n(this.$pinia)},e),{})}function wD(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(){return t(this.$pinia)[i]},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(){const o=t(this.$pinia),u=e[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function E1(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[i](...o)},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[e[i]](...o)},n),{})}function Uv(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[i]},set(o){return t(this.$pinia)[i]=o}},n),{}):Object.keys(e).reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[e[i]]},set(o){return t(this.$pinia)[e[i]]=o}},n),{})}const $l=_1("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(t){return t.isOpen?"":"hidden"}}});var Rg=function(t,e){return Rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Rg(t,e)};function Tt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ia=function(){return Ia=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Ia.apply(this,arguments)};function H(t,e,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(g){try{d(i.next(g))}catch(v){a(v)}}function f(g){try{d(i.throw(g))}catch(v){a(v)}}function d(g){g.done?u(g.value):o(g.value).then(l,f)}d((i=i.apply(t,e||[])).next())})}function $(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(g){return f([d,g])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(g){d=[6,g],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Yp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function Ae(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var I1=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bD=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=t[n++],a=t[n++],l=t[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{var u=t[n++],a=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return e.join("")},_D={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var u=t[o],a=o+1<t.length,l=a?t[o+1]:0,f=o+2<t.length,d=f?t[o+2]:0,g=u>>2,v=(u&3)<<4|l>>4,y=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(y=64)),i.push(n[g],n[v],n[y],n[b])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I1(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var u=n[t.charAt(o++)],a=o<t.length,l=a?n[t.charAt(o)]:0;++o;var f=o<t.length,d=f?n[t.charAt(o)]:64;++o;var g=o<t.length,v=g?n[t.charAt(o)]:64;if(++o,u==null||l==null||d==null||v==null)throw Error();var y=u<<2|l>>4;if(i.push(y),d!==64){var b=l<<4&240|d>>2;if(i.push(b),v!==64){var _=d<<6&192|v;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ED=function(t){var e=I1(t);return _D.encodeByteArray(e,!0)},m_=function(t){return ED(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){return Ta(void 0,t)}function Ta(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)!e.hasOwnProperty(i)||!TD(i)||(t[i]=Ta(t[i],e[i]));return t}function TD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SD=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Ia({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[m_(JSON.stringify(n)),m_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ND(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ao())}function T1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kD(){return typeof self=="object"&&self.self===self}function xD(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OD(){return Ao().indexOf("Electron/")>=0}function RD(){var t=Ao();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DD(){return Ao().indexOf("MSAppHost/")>=0}function PD(){return!T1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LD="FirebaseError",MD=function(t){Tt(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=LD,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Bv.prototype.create),u}return e}(Error),Bv=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,a=this.errors[e],l=a?FD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new MD(u,f,o);return d},t}();function FD(t,e){return t.replace(VD,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var VD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jD(t,e){var n=new UD(t,e);return n.subscribe.bind(n)}var UD=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");BD(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=Xp),u.error===void 0&&(u.error=Xp),u.complete===void 0&&(u.complete=Xp);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function BD(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function Xp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}var Mf=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qD=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new SD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(KD(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}try{for(var o=Yp(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=vl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(v){n={error:v}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=lo),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ae(Ae([],vl(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),vl(e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=lo),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=lo),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,i;e===void 0&&(e={});var o=e.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Yp(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=vl(d.value,2),v=g[0],y=g[1],b=this.normalizeInstanceIdentifier(v);a===b&&y.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&e(a,o),function(){u.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Yp(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(e,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,i=e.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:$D(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=lo),this.component?this.component.multipleInstances?e:lo:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function $D(t){return t===lo?void 0:t}function KD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HD=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new qD(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function fr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co,qv=[],te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));var S1={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},zD=te.INFO,GD=(co={},co[te.DEBUG]="log",co[te.VERBOSE]="log",co[te.INFO]="info",co[te.WARN]="warn",co[te.ERROR]="error",co),WD=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=GD[e];if(u)console[u].apply(console,fr(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},A1=function(){function t(e){this.name=e,this._logLevel=zD,this._logHandler=WD,this._userLogHandler=null,qv.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in te))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?S1[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,fr([this,te.DEBUG],e)),this._logHandler.apply(this,fr([this,te.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,fr([this,te.VERBOSE],e)),this._logHandler.apply(this,fr([this,te.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,fr([this,te.INFO],e)),this._logHandler.apply(this,fr([this,te.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,fr([this,te.WARN],e)),this._logHandler.apply(this,fr([this,te.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,fr([this,te.ERROR],e)),this._logHandler.apply(this,fr([this,te.ERROR],e))},t}();function QD(t){qv.forEach(function(e){e.setLogLevel(t)})}function YD(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=S1[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var g=[],v=2;v<arguments.length;v++)g[v-2]=arguments[v];var y=g.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&t({level:te[d].toLowerCase(),message:y,args:g,type:f.name})}},i=0,o=qv;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi,XD=(pi={},pi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",pi["bad-app-name"]="Illegal App name: '{$appName}",pi["duplicate-app"]="Firebase App named '{$appName}' already exists",pi["app-deleted"]="Firebase App named '{$appName}' already deleted",pi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",pi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",pi),vs=new Bv("app","Firebase",XD),N1="@firebase/app",JD="0.6.30",ZD="@firebase/analytics",tP="@firebase/app-check",eP="@firebase/auth",nP="@firebase/database",rP="@firebase/functions",iP="@firebase/installations",oP="@firebase/messaging",sP="@firebase/performance",uP="@firebase/remote-config",aP="@firebase/storage",cP="@firebase/firestore",lP="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,Kl="[DEFAULT]",fP=(rn={},rn[N1]="fire-core",rn[ZD]="fire-analytics",rn[tP]="fire-app-check",rn[eP]="fire-auth",rn[nP]="fire-rtdb",rn[rP]="fire-fn",rn[iP]="fire-iid",rn[oP]="fire-fcm",rn[sP]="fire-perf",rn[uP]="fire-rc",rn[aP]="fire-gcs",rn[cP]="fire-fst",rn["fire-js"]="fire-js",rn[lP]="fire-js-all",rn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ds=new A1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cl=function(){function t(e,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=ID(e),this.container=new HD(n.name),this._addComponent(new Mf("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var i;n===void 0&&(n=Kl),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=Kl),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Ds.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw vs.create("app-deleted",{appName:this.name_})},t}();Cl.prototype.name&&Cl.prototype.options||Cl.prototype.delete||console.log("dc");var hP="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(t){var e={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:QD,onLog:g,apps:null,SDK_VERSION:hP,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:v}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(y){delete e[y]}function u(y){if(y=y||Kl,!y_(e,y))throw vs.create("no-app",{appName:y});return e[y]}u.App=t;function a(y,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var S=b;S.name===void 0&&(S.name=Kl);var N=S.name;if(typeof N!="string"||!N)throw vs.create("bad-app-name",{appName:String(N)});if(y_(e,N))throw vs.create("duplicate-app",{appName:N});var O=new t(y,S,i);return e[N]=O,O}function l(){return Object.keys(e).map(function(y){return e[y]})}function f(y){var b=y.name;if(n.has(b))return Ds.debug("There were multiple attempts to register component "+b+"."),y.type==="PUBLIC"?i[b]:null;if(n.set(b,y),y.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=u()),typeof P[b]!="function")throw vs.create("invalid-app-argument",{appName:b});return P[b]()};y.serviceProps!==void 0&&Ta(_,y.serviceProps),i[b]=_,t.prototype[b]=function(){for(var P=[],j=0;j<arguments.length;j++)P[j]=arguments[j];var q=this._getService.bind(this,b);return q.apply(this,y.multipleInstances?P:[])}}for(var S=0,N=Object.keys(e);S<N.length;S++){var O=N[S];e[O]._addComponent(y)}return y.type==="PUBLIC"?i[b]:null}function d(y,b,_){var S,N=(S=fP[y])!==null&&S!==void 0?S:y;_&&(N+="-"+_);var O=N.match(/\s|\//),P=b.match(/\s|\//);if(O||P){var j=['Unable to register library "'+N+'" with version "'+b+'":'];O&&j.push('library name "'+N+'" contains illegal characters (whitespace or "/")'),O&&P&&j.push("and"),P&&j.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Ds.warn(j.join(" "));return}f(new Mf(N+"-version",function(){return{library:N,version:b}},"VERSION"))}function g(y,b){if(y!==null&&typeof y!="function")throw vs.create("invalid-log-argument");YD(y,b)}function v(y,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){var t=dP(Cl);t.INTERNAL=Ia(Ia({},t.INTERNAL),{createFirebaseNamespace:k1,extendNamespace:e,createSubscribe:jD,ErrorFactory:Bv,deepExtend:Ta});function e(n){Ta(t,n)}return t}var $v=k1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pP=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(gP(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function gP(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e){t.INTERNAL.registerComponent(new Mf("platform-logger",function(n){return new pP(n)},"PRIVATE")),t.registerVersion(N1,JD,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(kD()&&self.firebase!==void 0){Ds.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var w_=self.firebase.SDK_VERSION;w_&&w_.indexOf("LITE")>=0&&Ds.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var mP=$v.initializeApp;$v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return T1()&&Ds.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),mP.apply(void 0,t)};var xt=$v;vP(xt);var yP="firebase",x1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.registerVersion(yP,x1,"app");xt.SDK_VERSION=x1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in c||(c[p]={}),c=c[p]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&e(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(L){E.reject(L)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var p=i.setTimeout;c.prototype.c=function(w){p(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var L=w[E];w[E]=null;try{L()}catch(K){this.f(K)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(K){return function(Ct){L||(L=!0,K.call(E,Ct))}}var E=this,L=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{t:switch(typeof w){case"object":var E=w!=null;break t;case"function":E=!0;break t;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(L){this.g(L);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)m.b(this.a[w]);this.a=null}};var m=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var L=this.f();try{w.call(E,L.resolve,L.reject)}catch(K){L.reject(K)}},s.prototype.then=function(w,E){function L(Zt,$e){return typeof Zt=="function"?function($r){try{K(Zt($r))}catch($p){Ct($p)}}:$e}var K,Ct,re=new s(function(Zt,$e){K=Zt,Ct=$e});return this.Ra(L(w,K),L(E,Ct)),re},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function L(){switch(K.b){case 1:w(K.c);break;case 2:E(K.c);break;default:throw Error("Unexpected state: "+K.b)}}var K=this;this.a==null?m.b(L):this.a.push(L)},s.resolve=h,s.reject=function(w){return new s(function(E,L){L(w)})},s.race=function(w){return new s(function(E,L){for(var K=a(w),Ct=K.next();!Ct.done;Ct=K.next())h(Ct.value).Ra(E,L)})},s.all=function(w){var E=a(w),L=E.next();return L.done?h([]):new s(function(K,Ct){function re($r){return function($p){Zt[$r]=$p,$e--,$e==0&&K(Zt)}}var Zt=[],$e=0;do Zt.push(void 0),$e++,h(L.value).Ra(re(Zt.length-1),Ct),L=E.next();while(!L.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function v(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function y(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function S(r){return b(r)=="function"}function N(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function O(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++j)}var P="closure_uid_"+(1e9*Math.random()>>>0),j=0;function q(r,s,c){return r.call.apply(r.bind,arguments)}function rt(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(s,p)}}return function(){return r.apply(s,arguments)}}function V(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=q:V=rt,V.apply(null,arguments)}function It(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function Q(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ht(r){return r}function A(r,s,c){this.code=oe+r,this.message=s||se[r]||"",this.a=c||null}Q(A,Error),A.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},A.prototype.toJSON=function(){return this.w()};function Wt(r){var s=r&&r.code;return s?new A(s.substring(oe.length),r.message,r.serverResponse):null}var oe="auth/",se={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ce={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Qt(r){for(var s in ce)if(ce[s].id===r)return r=ce[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var st;st=Qt("__EID__")?"__EID__":void 0;function Lt(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function gt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,gt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}Q(gt,Error),gt.prototype.name="CustomError";function he(r,s){r=r.split("%s");for(var c="",h=r.length-1,p=0;p<h;p++)c+=r[p]+(p<s.length?s[p]:"%s");gt.call(this,c+r[h])}Q(he,gt),he.prototype.name="AssertionError";function Ie(r,s){throw new he("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Ve(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Ve.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ce(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function de(){this.b=this.a=null}var Fn=new Ve(function(){return new vt},function(r){r.reset()});de.prototype.add=function(r,s){var c=Fn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function dt(){var r=Sy,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function vt(){this.next=this.b=this.a=null}vt.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},vt.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},U=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,p=typeof r=="string"?r.split(""):r,m=0;m<h;m++)m in p&&s.call(c,p[m],m,r)};function Z(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ut=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],p=0,m=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in m){var E=m[w];s.call(void 0,E,w,r)&&(h[p++]=E)}return h},Rt=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),p=typeof r=="string"?r.split(""):r,m=0;m<c;m++)m in p&&(h[m]=s.call(void 0,p[m],m,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r))return!0;return!1};function T(r){t:{for(var s=_k,c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r)){s=p;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function C(r,s){return 0<=R(r,s)}function M(r,s){s=R(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function F(r,s){var c=0;Z(r,function(h,p){s.call(void 0,h,p,r)&&Array.prototype.splice.call(r,p,1).length==1&&c++})}function z(r){return Array.prototype.concat.apply([],arguments)}function nt(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var X=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},tt=/&/g,Y=/</g,wt=/>/g,at=/"/g,mt=/'/g,St=/\x00/g,Ut=/[\x00&<>"']/;function _t(r,s){return r.indexOf(s)!=-1}function x(r,s){return r<s?-1:r>s?1:0}var k;t:{var B=f.navigator;if(B){var it=B.userAgent;if(it){k=it;break t}}k=""}function lt(r){return _t(k,r)}function At(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function Ft(r){for(var s in r)return!1;return!0}function kt(r){var s={},c;for(c in r)s[c]=r[c];return s}var Mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(r,s){for(var c,h,p=1;p<arguments.length;p++){h=arguments[p];for(c in h)r[c]=h[c];for(var m=0;m<Mt.length;m++)c=Mt[m],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function en(r,s){t:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[s]<"u"&&(!r||!(r instanceof p[s])&&(r instanceof p.Location||r instanceof p.Element))){if(N(r))try{var m=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{m="<object could not be stringified>"}else m=r===void 0?"undefined":r===null?"null":typeof r;Ie("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,m)}}function nn(r,s){this.a=r===cc&&s||"",this.b=sy}nn.prototype.ta=!0,nn.prototype.sa=function(){return this.a},nn.prototype.toString=function(){return"Const{"+this.a+"}"};function vh(r){return r instanceof nn&&r.constructor===nn&&r.b===sy?r.a:(Ie("expected object of type Const, got '"+r+"'"),"type_error:Const")}var sy={},cc={},lc;function uy(){if(lc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ht,createScript:ht,createScriptURL:ht})}catch(c){f.console&&f.console.error(c.message)}lc=r}else lc=r}return lc}function qo(r,s){this.a=s===cy?r:""}qo.prototype.ta=!0,qo.prototype.sa=function(){return this.a.toString()},qo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function ay(r){return r instanceof qo&&r.constructor===qo?r.a:(Ie("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function mh(r,s){var c=vh(r);if(!XA.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(YA,function(h,p){if(!Object.prototype.hasOwnProperty.call(s,p))throw Error('Found marker, "'+p+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[p],h instanceof nn?vh(h):encodeURIComponent(String(h))}),JA(r)}var YA=/%{(\w+)}/g,XA=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,cy={};function JA(r){var s=uy();return r=s?s.createScriptURL(r):r,new qo(r,cy)}function In(r,s){this.a=s===fu?r:""}In.prototype.ta=!0,In.prototype.sa=function(){return this.a.toString()},In.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function fc(r){return r instanceof In&&r.constructor===In?r.a:(Ie("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var ZA=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,tN=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,ly=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function fy(r){if(r instanceof In)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),ly.test(r))r=new In(r,fu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(tN);r=s&&ZA.test(s[1])?new In(r,fu):null}return r}function hy(r){return r instanceof In?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),ly.test(r)||(r="about:invalid#zClosurez"),new In(r,fu))}var fu={},dy=new In("about:invalid#zClosurez",fu);function $o(r,s,c){this.a=c===py?r:""}$o.prototype.ta=!0,$o.prototype.sa=function(){return this.a.toString()},$o.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function eN(r){return r instanceof $o&&r.constructor===$o?r.a:(Ie("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var py={};function nN(r,s){en(r,"HTMLScriptElement"),r.src=ay(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=v(s.document):(g===null&&(g=v(f.document)),s=g),s&&r.setAttribute("nonce",s)}function gy(r,s,c,h){return r=r instanceof In?r:hy(r),s=s||f,c=c instanceof nn?vh(c):c||"",s.open(fc(r),c,h,void 0)}function vy(r,s){for(var c=r.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<c.length;)h+=c.shift()+p.shift();return h+c.join("%s")}function yh(r){return Ut.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(tt,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Y,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(wt,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(at,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(mt,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(St,"&#0;"))),r}function wh(r){return wh[" "](r),r}wh[" "]=y;function rN(r,s){var c=uN;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var iN=lt("Opera"),or=lt("Trident")||lt("MSIE"),my=lt("Edge"),oN=my||or,yy=lt("Gecko")&&!(_t(k.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),sN=_t(k.toLowerCase(),"webkit")&&!lt("Edge");function wy(){var r=f.document;return r?r.documentMode:void 0}var hc;t:{var bh="",_h=function(){var r=k;if(yy)return/rv:([^\);]+)(\)|;)/.exec(r);if(my)return/Edge\/([\d\.]+)/.exec(r);if(or)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(sN)return/WebKit\/(\S+)/.exec(r);if(iN)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(_h&&(bh=_h?_h[1]:""),or){var Eh=wy();if(Eh!=null&&Eh>parseFloat(bh)){hc=String(Eh);break t}}hc=bh}var uN={};function by(r){return rN(r,function(){for(var s=0,c=X(String(hc)).split("."),h=X(String(r)).split("."),p=Math.max(c.length,h.length),m=0;s==0&&m<p;m++){var w=c[m]||"",E=h[m]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=x(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||x(w[2].length==0,E[2].length==0)||x(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var Ih;if(f.document&&or){var _y=wy();Ih=_y||parseInt(hc,10)||void 0}else Ih=void 0;var oi=Ih;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var aN=!or||9<=Number(oi);function hu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function Ey(r,s){At(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:Iy.hasOwnProperty(h)?r.setAttribute(Iy[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var Iy={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function cN(r,s,c){var h=arguments,p=document,m=String(h[0]),w=h[1];if(!aN&&w&&(w.name||w.type)){if(m=["<",m],w.name&&m.push(' name="',yh(w.name),'"'),w.type){m.push(' type="',yh(w.type),'"');var E={};Dt(E,w),delete E.type,w=E}m.push(">"),m=m.join("")}return m=dc(p,m),w&&(typeof w=="string"?m.className=w:Array.isArray(w)?m.className=w.join(" "):Ey(m,w)),2<h.length&&lN(p,m,h),m}function lN(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var p=2;p<c.length;p++){var m=c[p];if(!_(m)||N(m)&&0<m.nodeType)h(m);else{t:{if(m&&typeof m.length=="number"){if(N(m)){var w=typeof m.item=="function"||typeof m.item=="string";break t}if(S(m)){w=typeof m.item=="function";break t}}w=!1}U(w?nt(m):m,h)}}}function dc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function Ty(r){f.setTimeout(function(){throw r},0)}var Th;function fN(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(r=function(){var p=dc(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var m=p.contentWindow;p=m.document,p.open(),p.close();var w="callImmediate"+Math.random(),E=m.location.protocol=="file:"?"*":m.location.protocol+"//"+m.location.host;p=V(function(L){(E=="*"||L.origin==E)&&L.data==w&&this.port1.onmessage()},this),m.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){m.postMessage(w,E)}}}),typeof r<"u"&&!lt("Trident")&&!lt("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var p=c.Hb;c.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,s.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function pc(r,s){gc||hN(),Sh||(gc(),Sh=!0),Sy.add(r,s)}var gc;function hN(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);gc=function(){r.then(Ay)}}else gc=function(){var s=Ay;!S(f.setImmediate)||f.Window&&f.Window.prototype&&!lt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(Th||(Th=fN()),Th(s)):f.setImmediate(s)}}var Sh=!1,Sy=new de;function Ay(){for(var r;r=dt();){try{r.a.call(r.b)}catch(s){Ty(s)}Ce(Fn,r)}Sh=!1}function Kt(r,s){if(this.a=qi,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=y)try{var c=this;r.call(s,function(h){$i(c,du,h)},function(h){if(!(h instanceof Ko))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}$i(c,jr,h)})}catch(h){$i(this,jr,h)}}var qi=0,du=2,jr=3;function Ny(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ny.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var ky=new Ve(function(){return new Ny},function(r){r.reset()});function Ah(r,s,c){var h=ky.get();return h.g=r,h.b=s,h.f=c,h}function Et(r){if(r instanceof Kt)return r;var s=new Kt(y);return $i(s,du,r),s}function ve(r){return new Kt(function(s,c){c(r)})}function xy(r,s,c){Dy(r,s,c,null)||pc(It(s,r))}function dN(r){return new Kt(function(s,c){var h=r.length,p=[];if(h)for(var m=function(K,Ct){h--,p[K]=Ct,h==0&&s(p)},w=function(K){c(K)},E=0,L;E<r.length;E++)L=r[E],xy(L,It(m,E),w);else s(p)})}function Cy(r){return new Kt(function(s){var c=r.length,h=[];if(c)for(var p=function(E,L,K){c--,h[E]=L?{Qb:!0,value:K}:{Qb:!1,reason:K},c==0&&s(h)},m=0,w;m<r.length;m++)w=r[m],xy(w,It(p,m,!0),It(p,m,!1));else s(h)})}Kt.prototype.then=function(r,s,c){return Ry(this,S(r)?r:null,S(s)?s:null,c)},Kt.prototype.$goog_Thenable=!0,t=Kt.prototype,t.oa=function(r,s){return r=Ah(r,r,s),r.c=!0,Nh(this,r),this},t.o=function(r,s){return Ry(this,null,r,s)},t.cancel=function(r){if(this.a==qi){var s=new Ko(r);pc(function(){Oy(this,s)},this)}};function Oy(r,s){if(r.a==qi)if(r.c){var c=r.c;if(c.b){for(var h=0,p=null,m=null,w=c.b;w&&(w.c||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(m=w);p&&(c.a==qi&&h==1?Oy(c,s):(m?(h=m,h.next==c.f&&(c.f=h),h.next=h.next.next):Ly(c),My(c,p,jr,s)))}r.c=null}else $i(r,jr,s)}function Nh(r,s){r.b||r.a!=du&&r.a!=jr||Py(r),r.f?r.f.next=s:r.b=s,r.f=s}function Ry(r,s,c,h){var p=Ah(null,null,null);return p.a=new Kt(function(m,w){p.g=s?function(E){try{var L=s.call(h,E);m(L)}catch(K){w(K)}}:m,p.b=c?function(E){try{var L=c.call(h,E);L===void 0&&E instanceof Ko?w(E):m(L)}catch(K){w(K)}}:w}),p.a.c=r,Nh(r,p),p.a}t.$c=function(r){this.a=qi,$i(this,du,r)},t.ad=function(r){this.a=qi,$i(this,jr,r)};function $i(r,s,c){r.a==qi&&(r===c&&(s=jr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,Dy(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,Py(r),s!=jr||c instanceof Ko||gN(r,c)))}function Dy(r,s,c,h){if(r instanceof Kt)return Nh(r,Ah(s||y,c||null,h)),!0;if(Lt(r))return r.then(s,c,h),!0;if(N(r))try{var p=r.then;if(S(p))return pN(r,p,s,c,h),!0}catch(m){return c.call(h,m),!0}return!1}function pN(r,s,c,h,p){function m(L){E||(E=!0,h.call(p,L))}function w(L){E||(E=!0,c.call(p,L))}var E=!1;try{s.call(r,w,m)}catch(L){m(L)}}function Py(r){r.h||(r.h=!0,pc(r.gc,r))}function Ly(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.gc=function(){for(var r;r=Ly(this);)My(this,r,this.a,this.i);this.h=!1};function My(r,s,c,h){if(c==jr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Fy(s,c,h);else try{s.c?s.g.call(s.f):Fy(s,c,h)}catch(p){Vy.call(null,p)}Ce(ky,s)}function Fy(r,s,c){s==du?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function gN(r,s){r.g=!0,pc(function(){r.g&&Vy.call(null,s)})}var Vy=Ty;function Ko(r){gt.call(this,r)}Q(Ko,gt),Ko.prototype.name="cancel";function vc(){this.ya=this.ya,this.pa=this.pa}var vN=0;vc.prototype.ya=!1;function jy(r){!r.ya&&(r.ya=!0,r.Da(),vN!=0)&&O(r)}vc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var mN=Object.freeze||function(r){return r},Uy=!or||9<=Number(oi),yN=or&&!by("9"),wN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",y,s),f.removeEventListener("test",y,s)}catch{}return r}();function Tn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Tn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Ki(r,s){if(Tn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(yy){t:{try{wh(s.nodeName);var p=!0;break t}catch{}p=!1}p||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:bN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}Q(Ki,Tn);var bN=mN({2:"touch",3:"pen",4:"mouse"});Ki.prototype.preventDefault=function(){Ki.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,yN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Ki.prototype.g=function(){return this.a};var pu="closure_listenable_"+(1e6*Math.random()|0),_N=0;function EN(r,s,c,h,p){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=p,this.key=++_N,this.wa=this.Qa=!1}function mc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function yc(r){this.src=r,this.a={},this.b=0}yc.prototype.add=function(r,s,c,h,p){var m=r.toString();r=this.a[m],r||(r=this.a[m]=[],this.b++);var w=xh(r,s,h,p);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new EN(s,this.src,m,!!h,p),s.Qa=c,r.push(s)),s};function kh(r,s){var c=s.type;c in r.a&&M(r.a[c],s)&&(mc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function xh(r,s,c,h){for(var p=0;p<r.length;++p){var m=r[p];if(!m.wa&&m.listener==s&&m.capture==!!c&&m.Wa==h)return p}return-1}var Ch="closure_lm_"+(1e6*Math.random()|0),Oh={};function Zn(r,s,c,h,p){if(h&&h.once)Rh(r,s,c,h,p);else if(Array.isArray(s))for(var m=0;m<s.length;m++)Zn(r,s[m],c,h,p);else c=Ph(c),r&&r[pu]?zy(r,s,c,N(h)?!!h.capture:!!h,p):By(r,s,c,!1,h,p)}function By(r,s,c,h,p,m){if(!s)throw Error("Invalid event type");var w=N(p)?!!p.capture:!!p,E=wc(r);if(E||(r[Ch]=E=new yc(r)),c=E.add(s,c,h,w,m),!c.proxy)if(h=IN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)wN||(p=w),p===void 0&&(p=!1),r.addEventListener(s.toString(),h,p);else if(r.attachEvent)r.attachEvent($y(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function IN(){var r=TN,s=Uy?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function Rh(r,s,c,h,p){if(Array.isArray(s))for(var m=0;m<s.length;m++)Rh(r,s[m],c,h,p);else c=Ph(c),r&&r[pu]?Lh(r,s,c,N(h)?!!h.capture:!!h,p):By(r,s,c,!0,h,p)}function Vn(r,s,c,h,p){if(Array.isArray(s))for(var m=0;m<s.length;m++)Vn(r,s[m],c,h,p);else h=N(h)?!!h.capture:!!h,c=Ph(c),r&&r[pu]?(r=r.v,s=String(s).toString(),s in r.a&&(m=r.a[s],c=xh(m,c,h,p),-1<c&&(mc(m[c]),Array.prototype.splice.call(m,c,1),m.length==0&&(delete r.a[s],r.b--)))):r&&(r=wc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=xh(s,c,h,p)),(c=-1<r?s[r]:null)&&qy(c))}function qy(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[pu])kh(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent($y(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=wc(s))?(kh(c,r),c.b==0&&(c.src=null,s[Ch]=null)):mc(r)}}}function $y(r){return r in Oh?Oh[r]:Oh[r]="on"+r}function Ky(r,s,c,h){var p=!0;if((r=wc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var m=s[r];m&&m.capture==c&&!m.wa&&(m=Hy(m,h),p=p&&m!==!1)}return p}function Hy(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&qy(r),c.call(h,s)}function TN(r,s){if(r.wa)return!0;if(!Uy){if(!s)t:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break t}s=c}if(h=s,s=new Ki(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=s.b;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;0<=p;p--){s.b=h[p];var m=Ky(h[p],r,!0,s);c=c&&m}for(p=0;p<h.length;p++)s.b=h[p],m=Ky(h[p],r,!1,s),c=c&&m}return c}return Hy(r,new Ki(s,this))}function wc(r){return r=r[Ch],r instanceof yc?r:null}var Dh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ph(r){return S(r)?r:(r[Dh]||(r[Dh]=function(s){return r.handleEvent(s)}),r[Dh])}function hn(){vc.call(this),this.v=new yc(this),this.bc=this,this.hb=null}Q(hn,vc),hn.prototype[pu]=!0,hn.prototype.addEventListener=function(r,s,c,h){Zn(this,r,s,c,h)},hn.prototype.removeEventListener=function(r,s,c,h){Vn(this,r,s,c,h)},hn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Tn(r,c);else if(r instanceof Tn)r.target=r.target||c;else{var p=r;r=new Tn(h,c),Dt(r,p)}if(p=!0,s)for(var m=s.length-1;0<=m;m--){var w=r.b=s[m];p=bc(w,h,!0,r)&&p}if(w=r.b=c,p=bc(w,h,!0,r)&&p,p=bc(w,h,!1,r)&&p,s)for(m=0;m<s.length;m++)w=r.b=s[m],p=bc(w,h,!1,r)&&p;return p},hn.prototype.Da=function(){if(hn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)mc(c[h]);delete r.a[s],r.b--}}this.hb=null};function zy(r,s,c,h,p){r.v.add(String(s),c,!1,h,p)}function Lh(r,s,c,h,p){r.v.add(String(s),c,!0,h,p)}function bc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var p=!0,m=0;m<s.length;++m){var w=s[m];if(w&&!w.wa&&w.capture==c){var E=w.listener,L=w.Wa||w.src;w.Qa&&kh(r.v,w),p=E.call(L,h)!==!1&&p}}return p&&!h.defaultPrevented}function Mh(r,s,c){if(S(r))c&&(r=V(r,c));else if(r&&typeof r.handleEvent=="function")r=V(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function Ho(r){var s=null;return new Kt(function(c,h){s=Mh(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function Gy(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function Wy(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function SN(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")U(r,s,void 0);else for(var c=Wy(r),h=Gy(r),p=h.length,m=0;m<p;m++)s.call(void 0,h[m],c&&c[m],r)}function zo(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof zo)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}t=zo.prototype,t.X=function(){Fh(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return Fh(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Fh(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];Hi(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var p={};for(c=s=0;s<r.a.length;)h=r.a[s],Hi(p,h)||(r.a[c++]=h,p[h]=1),s++;r.a.length=c}}t.get=function(r,s){return Hi(this.b,r)?this.b[r]:s},t.set=function(r,s){Hi(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var p=c[h],m=this.get(p);r.call(s,m,p,this)}};function Hi(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Qy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function AN(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),p=null;if(0<=h){var m=r[c].substring(0,h);p=r[c].substring(h+1)}else m=r[c];s(m,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function si(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof si?(this.i=s!==void 0?s:r.i,gu(this,r.c),this.l=r.l,this.a=r.a,vu(this,r.g),this.f=r.f,Vh(this,Zy(r.b)),this.h=r.h):r&&(c=String(r).match(Qy))?(this.i=!!s,gu(this,c[1]||"",!0),this.l=mu(c[2]||""),this.a=mu(c[3]||"",!0),vu(this,c[4]),this.f=mu(c[5]||"",!0),Vh(this,c[6]||"",!0),this.h=mu(c[7]||"")):(this.i=!!s,this.b=new zi(null,this.i))}si.prototype.toString=function(){var r=[],s=this.c;s&&r.push(yu(s,Yy,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(yu(s,Yy,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(yu(c,c.charAt(0)=="/"?xN:kN,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",yu(c,ON)),r.join("")},si.prototype.resolve=function(r){var s=new si(this),c=!!r.c;c?gu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)vu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=s.f.lastIndexOf("/");p!=-1&&(h=s.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(_t(p,"./")||_t(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var m=[],w=0;w<p.length;){var E=p[w++];E=="."?h&&w==p.length&&m.push(""):E==".."?((1<m.length||m.length==1&&m[0]!="")&&m.pop(),h&&w==p.length&&m.push("")):(m.push(E),h=!0)}h=m.join("/")}else h=p}return c?s.f=h:c=r.b.toString()!=="",c?Vh(s,Zy(r.b)):c=!!r.h,c&&(s.h=r.h),s};function gu(r,s,c){r.c=c?mu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function vu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function Vh(r,s,c){s instanceof zi?(r.b=s,RN(r.b,r.i)):(c||(s=yu(s,CN)),r.b=new zi(s,r.i))}function Ne(r,s,c){r.b.set(s,c)}function tr(r,s){return r.b.get(s)}function Sn(r){return r instanceof si?new si(r):new si(r,void 0)}function _c(r,s,c,h){var p=new si(null,void 0);return r&&gu(p,r),s&&(p.a=s),c&&vu(p,c),h&&(p.f=h),p}function mu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function yu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,NN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function NN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Yy=/[#\/\?@]/g,kN=/[#\?:]/g,xN=/[#\?]/g,CN=/[#\?@]/g,ON=/#/g;function zi(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function ui(r){r.a||(r.a=new zo,r.b=0,r.c&&AN(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function Xy(r){var s=Wy(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new zi(null,void 0);r=Gy(r);for(var h=0;h<s.length;h++){var p=s[h],m=r[h];Array.isArray(m)?Jy(c,p,m):c.add(p,m)}return c}t=zi.prototype,t.add=function(r,s){ui(this),this.c=null,r=Go(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function _r(r,s){ui(r),s=Go(r,s),Hi(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,Hi(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&Fh(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function jh(r,s){return ui(r),s=Go(r,s),Hi(r.a.b,s)}t.forEach=function(r,s){ui(this),this.a.forEach(function(c,h){U(c,function(p){r.call(s,p,h,this)},this)},this)},t.Y=function(){ui(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var p=r[h],m=0;m<p.length;m++)c.push(s[h]);return c},t.X=function(r){ui(this);var s=[];if(typeof r=="string")jh(this,r)&&(s=z(s,this.a.get(Go(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=z(s,r[c])}return s},t.set=function(r,s){return ui(this),this.c=null,r=Go(this,r),jh(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Jy(r,s,c){_r(r,s),0<c.length&&(r.c=null,r.a.set(Go(r,s),nt(c)),r.b+=c.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],p=encodeURIComponent(String(h));h=this.X(h);for(var m=0;m<h.length;m++){var w=p;h[m]!==""&&(w+="="+encodeURIComponent(String(h[m]))),r.push(w)}}return this.c=r.join("&")};function Zy(r){var s=new zi;return s.c=r.c,r.a&&(s.a=new zo(r.a),s.b=r.b),s}function Go(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function RN(r,s){s&&!r.f&&(ui(r),r.c=null,r.a.forEach(function(c,h){var p=h.toLowerCase();h!=p&&(_r(this,h),Jy(this,p,c))},r)),r.f=s}function t0(r){var s=[];return Uh(new DN,r,s),s.join("")}function DN(){}function Uh(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var p="",m=0;m<s;m++)c.push(p),Uh(r,h[m],c),p=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),p="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(m=s[h],typeof m!="function"&&(c.push(p),n0(h,c),c.push(":"),Uh(r,m,c),p=","));c.push("}");return}}switch(typeof s){case"string":n0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var e0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},PN=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function n0(r,s){s.push('"',r.replace(PN,function(c){var h=e0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),e0[c]=h),h}),'"')}function Bh(){var r=We();return or&&!!oi&&oi==11||/Edge\/\d+/.test(r)}function wu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function r0(r,s){s=s||f.window;var c="about:blank";r&&(c=fc(fy(r)||dy)),s.location.href=c}function i0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<i0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function LN(){var r=We();return r=Wo(r)!=a0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!or||!oi||9<oi}function o0(r){return r=(r||We()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Gi(r){r=r||f.window;try{r.close()}catch{}}function s0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var p=(window.screen.availHeight-c)/2,m=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<p?p:0,left:0<m?m:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=We().toLowerCase(),h&&(s.target=h,_t(c,"crios/")&&(s.target="_blank")),Wo(We())==Kh&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof In?c:fy(typeof c.href<"u"?c.href:String(c))||dy,c=r.target||c.target,p=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(r[w]?1:0))}var w=p.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=dc(document,"A"),en(w,"HTMLAnchorElement"),s=s instanceof In?s:hy(s),w.href=fc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=gy("",h,c,w),r=fc(s),w&&(oN&&_t(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+yh(r)+'">',r=(h=uy())?h.createHTML(r):r,r=new $o(r,null,py),h=w.document)&&(h.write(eN(r)),h.close())):(w=gy(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function MN(r){return new Kt(function(s){function c(){Ho(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var FN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VN=/^[^@]+@[^@]+$/;function Ec(){var r=null;return new Kt(function(s){f.document.readyState=="complete"?s():(r=function(){s()},Rh(window,"load",r))}).o(function(s){throw Vn(window,"load",r),s})}function jN(){return qh(void 0)?Ec().then(function(){return new Kt(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):ve(Error("Cordova must run in an Android or iOS file scheme."))}function qh(r){return r=r||We(),!(Yo()!=="file:"&&Yo()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function $h(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function sr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Er(){return xt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xt.INTERNAL.hasOwnProperty("node")?"Node":sr()?"Worker":"Browser"}function u0(){var r=Er();return r==="ReactNative"||r==="Node"}function UN(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Kh="Firefox",a0="Chrome";function Wo(r){var s=r.toLowerCase();if(_t(s,"opera/")||_t(s,"opr/")||_t(s,"opios/"))return"Opera";if(_t(s,"iemobile"))return"IEMobile";if(_t(s,"msie")||_t(s,"trident/"))return"IE";if(_t(s,"edge/"))return"Edge";if(_t(s,"firefox/"))return Kh;if(_t(s,"silk/"))return"Silk";if(_t(s,"blackberry"))return"Blackberry";if(_t(s,"webos"))return"Webos";if(!_t(s,"safari/")||_t(s,"chrome/")||_t(s,"crios/")||_t(s,"android"))if(!_t(s,"chrome/")&&!_t(s,"crios/")||_t(s,"edge/")){if(_t(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return a0;else return"Safari";return"Other"}var c0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Qo(r,s){s=s||[];var c=[],h={},p;for(p in c0)h[c0[p]]=!0;for(p=0;p<s.length;p++)typeof h[s[p]]<"u"&&(delete h[s[p]],c.push(s[p]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Er(),c==="Browser"?(h=We(),c=Wo(h)):c==="Worker"&&(h=We(),c=Wo(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function We(){return f.navigator&&f.navigator.userAgent||""}function me(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Hh(){try{var r=f.localStorage,s=Qi();if(r)return r.setItem(s,"1"),r.removeItem(s),Bh()?!!f.indexedDB:!0}catch{return sr()&&!!f.indexedDB}return!1}function Wi(){return(Ic()||Yo()==="chrome-extension:"||qh())&&!u0()&&Hh()&&!sr()}function Ic(){return Yo()==="http:"||Yo()==="https:"}function Yo(){return f.location&&f.location.protocol||null}function bu(r){return r=r||We(),!(o0(r)||Wo(r)==Kh)}function _u(r){return typeof r>"u"?null:t0(r)}function l0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function Xo(r){if(r!==null)return JSON.parse(r)}function Qi(r){return r||Math.floor(1e9*Math.random()).toString()}function f0(r){return r=r||We(),!(Wo(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function h0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function ai(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=We(),s=Er(),this.b=o0(r)||s==="ReactNative"}ai.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Ic()||Yo()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function zh(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function BN(){var r=f.document,s=null;return zh()||!r?Et():new Kt(function(c){s=function(){zh()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Eu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function d0(){return!(!me("fireauth.oauthhelper",f)&&!me("fireauth.iframe",f))}function qN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function $N(){var r=f.navigator;return r&&r.serviceWorker?Et().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Et(null)}var p0={};function Gh(r){p0[r]||(p0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Wh;try{var Qh={};Object.defineProperty(Qh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qh,"abcd",{configurable:!0,enumerable:!0,value:2}),Wh=Qh.abcd==2}catch{Wh=!1}function pt(r,s,c){Wh?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function dn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&pt(r,c,s[c])}function Ir(r){var s={};return dn(s,r),s}function KN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function HN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Yh(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)pt(s,c,Yh(r[c]))}return s}function Xh(r){var s=r&&(r[ed]?"phone":null);if(s&&r&&r[td]){pt(this,"uid",r[td]),pt(this,"displayName",r[g0]||null);var c=null;r[Zh]&&(c=new Date(r[Zh]).toUTCString()),pt(this,"enrollmentTime",c),pt(this,"factorId",s)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}Xh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Jh(r){try{var s=new Iu(r)}catch{s=null}return s}var g0="displayName",Zh="enrolledAt",td="mfaEnrollmentId",ed="phoneInfo";function Iu(r){Xh.call(this,r),pt(this,"phoneNumber",r[ed])}Q(Iu,Xh),Iu.prototype.w=function(){var r=Iu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function zN(r){var s={},c=r[GN],h=r[QN],p=r[YN];if(r=Jh(r[WN]),!p||p!=Tc&&p!=Tu&&!c||p==Tu&&!h||p==nd&&!r)throw Error("Invalid checkActionCode response!");p==Tu?(s[m0]=c||null,s[y0]=c||null,s[v0]=h):(s[m0]=h||null,s[y0]=h||null,s[v0]=c||null),s[XN]=r||null,pt(this,ZN,p),pt(this,JN,Yh(s))}var nd="REVERT_SECOND_FACTOR_ADDITION",Tc="EMAIL_SIGNIN",Tu="VERIFY_AND_CHANGE_EMAIL",GN="email",WN="mfaInfo",QN="newEmail",YN="requestType",v0="email",m0="fromEmail",XN="multiFactorInfo",y0="previousEmail",JN="data",ZN="operation";function rd(r){r=Sn(r);var s=tr(r,w0)||null,c=tr(r,b0)||null,h=tr(r,_0)||null;if(h=h&&rk[h]||null,!s||!c||!h)throw new A("argument-error",w0+", "+b0+"and "+_0+" are required in a valid action code URL.");dn(this,{apiKey:s,operation:h,code:c,continueUrl:tr(r,tk)||null,languageCode:tr(r,ek)||null,tenantId:tr(r,nk)||null})}var w0="apiKey",b0="oobCode",tk="continueUrl",ek="languageCode",_0="mode",nk="tenantId",rk={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:nd,signIn:Tc,verifyAndChangeEmail:Tu,verifyEmail:"VERIFY_EMAIL"};function E0(r){try{return new rd(r)}catch{return null}}function Sc(r){var s=r[ik];if(typeof s>"u")throw new A("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new A("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[I0];if(c&&typeof c=="object"){s=c[k0];var h=c[A0];if(c=c[N0],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new A("argument-error",A0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new A("argument-error",N0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new A("argument-error",k0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new A("missing-android-pkg-name")}}else if(typeof c<"u")throw new A("argument-error",I0+" property must be a non null object when specified.");if(this.f=null,(s=r[S0])&&typeof s=="object"){if(s=s[x0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new A("argument-error",x0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new A("argument-error",S0+" property must be a non null object when specified.");if(s=r[id],typeof s<"u"&&typeof s!="boolean")throw new A("argument-error",id+" property must be a boolean when specified.");if(this.c=!!s,r=r[T0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new A("argument-error",T0+" property must be a non empty string when specified.");this.i=r||null}var I0="android",T0="dynamicLinkDomain",id="handleCodeInApp",S0="iOS",ik="url",A0="installApp",N0="minimumVersion",k0="packageName",x0="bundleId";function Ac(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function ok(r){return Rt(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Su=null;function sk(r){var s=[];return uk(r,function(c){s.push(c)}),s}function uk(r,s){function c(L){for(;h<r.length;){var K=r.charAt(h++),Ct=Su[K];if(Ct!=null)return Ct;if(!/^[\s\xa0]*$/.test(K))throw Error("Unknown base64 encoding at char: "+K)}return L}ak();for(var h=0;;){var p=c(-1),m=c(0),w=c(64),E=c(64);if(E===64&&p===-1)break;s(p<<2|m>>4),w!=64&&(s(m<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function ak(){if(!Su){Su={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),p=0;p<h.length;p++){var m=h[p];Su[m]===void 0&&(Su[m]=p)}}}function Nc(r){var s=C0(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Nc.prototype.T=function(){return this.f},Nc.prototype.l=function(){return this.c},Nc.prototype.toString=function(){return this.h};function kc(r){try{return new Nc(r)}catch{return null}}function C0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=sk(r);for(r=[],c=s=0;s<h.length;){var p=h[s++];if(128>p)r[c++]=String.fromCharCode(p);else if(191<p&&224>p){var m=h[s++];r[c++]=String.fromCharCode((p&31)<<6|m&63)}else if(239<p&&365>p){m=h[s++];var w=h[s++],E=h[s++],L=((p&7)<<18|(m&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(L>>10)),r[c++]=String.fromCharCode(56320+(L&1023))}else m=h[s++],w=h[s++],r[c++]=String.fromCharCode((p&15)<<12|(m&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var O0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),xc=["client_id","response_type","scope","redirect_uri","state"],od={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:xc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:xc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:xc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:O0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function sd(r){for(var s in od)if(od[s].fa==r)return od[s];return null}function R0(r){var s={};s["facebook.com"]=P0,s["google.com"]=M0,s["github.com"]=L0,s["twitter.com"]=F0;var c=r&&r[D0];try{if(c)return s[c]?new s[c](r):new Tr(r);if(typeof r[ud]<"u")return new ad(r)}catch{}return null}var ud="idToken",D0="providerId";function ad(r){var s=r[D0];if(!s&&r[ud]){var c=kc(r[ud]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pt(this,"providerId",s),pt(this,"isNewUser",c)}function Tr(r){ad.call(this,r),r=Xo(r.rawUserInfo||"{}"),pt(this,"profile",Yh(r||{}))}Q(Tr,ad);function P0(r){if(Tr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}Q(P0,Tr);function L0(r){if(Tr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pt(this,"username",this.profile&&this.profile.login||null)}Q(L0,Tr);function M0(r){if(Tr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}Q(M0,Tr);function F0(r){if(Tr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pt(this,"username",r.screenName||null)}Q(F0,Tr);function V0(r){var s=Sn(r),c=tr(s,"link"),h=tr(Sn(c),"link");return s=tr(s,"deep_link_id"),tr(Sn(s),"link")||s||h||c||r}function Cc(r,s){if(!r&&!s)throw new A("internal-error","Internal assert: no raw session string available");if(r&&s)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Au:Oc}var Au="enroll",Oc="signin";Cc.prototype.Ha=function(){return this.a?Et(this.a):Et(this.b)},Cc.prototype.w=function(){return this.type==Au?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Jo(){}Jo.prototype.ka=function(){},Jo.prototype.b=function(){},Jo.prototype.c=function(){},Jo.prototype.w=function(){};function Zo(r,s){return r.then(function(c){if(c[cr]){var h=kc(c[cr]);if(!h||s!=h.i)throw new A("user-mismatch");return c}throw new A("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new A("user-mismatch"):c})}function Yi(r,s){if(s)this.a=s;else throw new A("internal-error","failed to construct a credential");pt(this,"providerId",r),pt(this,"signInMethod",r)}Yi.prototype.ka=function(r){return Rd(r,cd(this))},Yi.prototype.b=function(r,s){var c=cd(this);return c.idToken=s,Dd(r,c)},Yi.prototype.c=function(r,s){return Zo(Pd(r,cd(this)),s)};function cd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}Yi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function ck(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new Yi(r.providerId,r.pendingToken)}catch{}return null}function Ur(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&pt(this,"idToken",s.idToken),s.accessToken&&pt(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&pt(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)pt(this,"accessToken",s.oauthToken),pt(this,"secret",s.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");pt(this,"providerId",r),pt(this,"signInMethod",c)}Ur.prototype.ka=function(r){return Rd(r,ld(this))},Ur.prototype.b=function(r,s){var c=ld(this);return c.idToken=s,Dd(r,c)},Ur.prototype.c=function(r,s){var c=ld(this);return Zo(Pd(r,c),s)};function ld(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:Xy(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Ur.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function lk(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Ur(r.providerId,s,r.signInMethod)}catch{}}return null}function Xi(r,s){this.Qc=s||[],dn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(sd(r)||{}).Ja||null,this.pb=null}Xi.prototype.Ka=function(r){return this.Jb=kt(r),this};function j0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Xi.call(this,r,[])}Q(j0,Xi);function jn(r){Xi.call(this,r,xc),this.a=[]}Q(jn,Xi),jn.prototype.Ca=function(r){return C(this.a,r)||this.a.push(r),this},jn.prototype.Rb=function(){return nt(this.a)},jn.prototype.credential=function(r,s){var c;if(N(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ur(this.providerId,c,this.providerId)};function Ji(){jn.call(this,"facebook.com")}Q(Ji,jn),pt(Ji,"PROVIDER_ID","facebook.com"),pt(Ji,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function U0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new Ji().credential({accessToken:s})}function Zi(){jn.call(this,"github.com")}Q(Zi,jn),pt(Zi,"PROVIDER_ID","github.com"),pt(Zi,"GITHUB_SIGN_IN_METHOD","github.com");function B0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new Zi().credential({accessToken:s})}function to(){jn.call(this,"google.com"),this.Ca("profile")}Q(to,jn),pt(to,"PROVIDER_ID","google.com"),pt(to,"GOOGLE_SIGN_IN_METHOD","google.com");function q0(r,s){var c=r;return N(r)&&(c=r.idToken,s=r.accessToken),new to().credential({idToken:c,accessToken:s})}function ts(){Xi.call(this,"twitter.com",O0)}Q(ts,Xi),pt(ts,"PROVIDER_ID","twitter.com"),pt(ts,"TWITTER_SIGN_IN_METHOD","twitter.com");function $0(r,s){var c=r;if(N(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ur("twitter.com",c,"twitter.com")}function ci(r,s,c){this.a=r,this.f=s,pt(this,"providerId","password"),pt(this,"signInMethod",c===er.EMAIL_LINK_SIGN_IN_METHOD?er.EMAIL_LINK_SIGN_IN_METHOD:er.EMAIL_PASSWORD_SIGN_IN_METHOD)}ci.prototype.ka=function(r){return this.signInMethod==er.EMAIL_LINK_SIGN_IN_METHOD?Ht(r,Wk,{email:this.a,oobCode:this.f}):Ht(r,mw,{email:this.a,password:this.f})},ci.prototype.b=function(r,s){return this.signInMethod==er.EMAIL_LINK_SIGN_IN_METHOD?Ht(r,Qk,{idToken:s,email:this.a,oobCode:this.f}):Ht(r,vw,{idToken:s,email:this.a,password:this.f})},ci.prototype.c=function(r,s){return Zo(this.ka(r),s)},ci.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function fk(r){return r&&r.email&&r.password?new ci(r.email,r.password,r.signInMethod):null}function er(){dn(this,{providerId:"password",isOAuthProvider:!1})}function K0(r,s){if(s=fd(s),!s)throw new A("argument-error","Invalid email link!");return new ci(r,s.code,er.EMAIL_LINK_SIGN_IN_METHOD)}function fd(r){return r=V0(r),(r=E0(r))&&r.operation===Tc?r:null}dn(er,{PROVIDER_ID:"password"}),dn(er,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),dn(er,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function li(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new A("internal-error");this.a=r,pt(this,"providerId","phone"),this.fa="phone",pt(this,"signInMethod","phone")}li.prototype.ka=function(r){return r.gb(Nu(this))},li.prototype.b=function(r,s){var c=Nu(this);return c.idToken=s,Ht(r,gx,c)},li.prototype.c=function(r,s){var c=Nu(this);return c.operation="REAUTH",r=Ht(r,vx,c),Zo(r,s)},li.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function hk(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new li(s)}return null}function Nu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Br(r){try{this.a=r||xt.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}dn(this,{providerId:"phone",isOAuthProvider:!1})}Br.prototype.gb=function(r,s){var c=this.a.a;return Et(s.verify()).then(function(h){if(typeof h!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var p=N(r)?r.session:null,m=N(r)?r.phoneNumber:r,w;return p&&p.type==Au?w=p.Ha().then(function(E){return jk(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:h}})}):p&&p.type==Oc?w=p.Ha().then(function(E){return Uk(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=Vk(c,{phoneNumber:m,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function H0(r,s){if(!r)throw new A("missing-verification-id");if(!s)throw new A("missing-verification-code");return new li({fb:r,eb:s})}dn(Br,{PROVIDER_ID:"phone"}),dn(Br,{PHONE_SIGN_IN_METHOD:"phone"});function hd(r){if(r.temporaryProof&&r.phoneNumber)return new li({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,p=r&&r.nonce,m=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return q0(m,c);case"facebook.com":return U0(c);case"github.com":return B0(c);case"twitter.com":return $0(c,h);default:return c||h||m||w?w?s.indexOf("saml.")==0?new Yi(s,w):new Ur(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new jn(s).credential({idToken:m,accessToken:c,rawNonce:p}):null}}catch{return null}}function dd(r){if(!r.isOAuthProvider)throw new A("invalid-oauth-provider")}function ur(r,s,c,h,p,m,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=m||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}ur.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},ur.prototype.T=function(){return this.h},ur.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function z0(r){return r=r||{},r.type?new ur(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Wt(r.error),r.postBody,r.tenantId):null}function dk(){this.b=null,this.a=[]}var pd=null;function pk(r){var s=pd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=me("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function gd(r){var s="unauthorized-domain",c=void 0,h=Sn(r);r=h.a,h=h.c,h=="chrome-extension"?c=vy("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=vy("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",A.call(this,s,c)}Q(gd,A);function ku(r,s,c){A.call(this,r,c),r=s||{},r.Kb&&pt(this,"email",r.Kb),r.ea&&pt(this,"phoneNumber",r.ea),r.credential&&pt(this,"credential",r.credential),r.$b&&pt(this,"tenantId",r.$b)}Q(ku,A),ku.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Dt(r,s),r},ku.prototype.toJSON=function(){return this.w()};function Rc(r){if(r.code){var s=r.code||"";s.indexOf(oe)==0&&(s=s.substring(oe.length));var c={credential:hd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new A(s,r.message||void 0);return new ku(s,c,r.message)}return null}function xu(){}xu.prototype.c=null;function G0(r){return r.c||(r.c=r.b())}var vd;function Dc(){}Q(Dc,xu),Dc.prototype.a=function(){var r=W0(this);return r?new ActiveXObject(r):new XMLHttpRequest},Dc.prototype.b=function(){var r={};return W0(this)&&(r[0]=!0,r[1]=!0),r};function W0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}vd=new Dc;function Pc(){}Q(Pc,xu),Pc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new Q0;throw Error("Unsupported browser")},Pc.prototype.b=function(){return{}};function Q0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}t=Q0.prototype,t.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,md(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",md(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,md(this,1)};function md(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function yd(r,s,c){this.reset(r,s,c,void 0,void 0)}yd.prototype.a=null,yd.prototype.reset=function(r,s,c,h,p){delete this.a};function wd(r){this.f=r,this.b=this.c=this.a=null}function Cu(r,s){this.name=r,this.value=s}Cu.prototype.toString=function(){return this.name};var Y0=new Cu("SEVERE",1e3),bd=new Cu("WARNING",900),gk=new Cu("CONFIG",700),vk=new Cu("FINE",500);function X0(r){return r.c?r.c:r.a?X0(r.a):(Ie("Root logger has no level set."),null)}wd.prototype.log=function(r,s,c){if(r.value>=X0(this).value)for(S(s)&&(s=s()),r=new yd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var _d={},Lc=null;function Ed(r){Lc||(Lc=new wd(""),_d[""]=Lc,Lc.c=gk);var s;if(!(s=_d[r])){s=new wd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Ed(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,_d[r]=s}return s}function nr(r,s){r&&r.log(vk,s,void 0)}function Mc(r){this.f=r}Q(Mc,xu),Mc.prototype.a=function(){return new Fc(this.f)},Mc.prototype.b=function(r){return function(){return r}}({});function Fc(r){hn.call(this),this.u=r,this.h=void 0,this.readyState=Id,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ed("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Q(Fc,hn);var Id=0;t=Fc.prototype,t.open=function(r,s){if(this.readyState!=Id)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Ru(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Ou(this)),this.readyState=Id},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Ru(this)),this.a&&(this.readyState=3,Ru(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,J0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function J0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}t.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Ou(this):Ru(this),this.readyState==3&&J0(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,Ou(this))},t.sc=function(r){this.a&&(this.response=r,Ou(this))},t.Va=function(r){var s=this.i;s&&s.log(bd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Ou(this)};function Ou(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Ru(r)}t.setRequestHeader=function(r,s){this.l.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(bd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(bd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Ru(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Du(r){hn.call(this),this.headers=new zo,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Z0,this.u=this.S=!1}Q(Du,hn);var Z0="";Du.prototype.b=Ed("goog.net.XhrIo");var mk=/^https?$/i,yk=["POST","PUT"];function wk(r,s,c,h,p){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():vd.a(),r.C=r.D?G0(r.D):G0(vd),r.a.onreadystatechange=V(r.Wb,r);try{nr(r.b,qr(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){nr(r.b,qr(r,"Error opening Xhr: "+w.message)),tw(r,w);return}s=h||"";var m=new zo(r.headers);p&&SN(p,function(w,E){m.set(E,w)}),p=T(m.Y()),h=f.FormData&&s instanceof f.FormData,!C(yk,c)||p||h||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{rw(r),0<r.g&&(r.u=bk(r.a),nr(r.b,qr(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=V(r.Ma,r)):r.s=Mh(r.Ma,r.g,r)),nr(r.b,qr(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){nr(r.b,qr(r,"Send error: "+w.message)),tw(r,w)}}function bk(r){return or&&by(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function _k(r){return r.toLowerCase()=="content-type"}t=Du.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",nr(this.b,qr(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function tw(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,ew(r),Vc(r)}function ew(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(nr(this.b,qr(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Vc(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Vc(this,!0)),Du.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?nw(this):this.Jc())},t.Jc=function(){nw(this)};function nw(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Pu(r)==4&&jc(r)==2)nr(r.b,qr(r,"Local request error detected and ignored"));else if(r.i&&Pu(r)==4)Mh(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Pu(r)==4){nr(r.b,qr(r,"Request complete")),r.c=!1;try{var s=jc(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var p;if(p=s===0){var m=String(r.l).match(Qy)[1]||null;if(!m&&f.self&&f.self.location){var w=f.self.location.protocol;m=w.substr(0,w.length-1)}p=!mk.test(m?m.toLowerCase():"")}h=p}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Pu(r)?r.a.statusText:""}catch(L){nr(r.b,"Can not get status: "+L.message),E=""}r.h=E+" ["+jc(r)+"]",ew(r)}}finally{Vc(r)}}}}function Vc(r,s){if(r.a){rw(r);var c=r.a,h=r.C[0]?y:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(p){(r=r.b)&&r.log(Y0,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function rw(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Pu(r){return r.a?r.a.readyState:0}function jc(r){try{return 2<Pu(r)?r.a.status:-1}catch{return-1}}function Ek(r){try{return r.a?r.a.responseText:""}catch(s){return nr(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Z0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(Y0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return nr(this.b,"Can not get response: "+s.message),null}};function qr(r,s){return s+" ["+r.P+" "+r.l+" "+jc(r)+"]"}function eo(r){var s=Sk;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}eo.prototype.cancel=function(r){if(this.a)this.c instanceof eo&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Mu,Uc(this),Lu(this,!1,r))}},eo.prototype.m=function(r,s){this.i=!1,Lu(this,r,s)};function Lu(r,s,c){r.a=!0,r.c=c,r.f=!s,ow(r)}function Uc(r){if(r.a){if(!r.v)throw new Bc;r.v=!1}}function Ik(r,s){Td(r,null,s,void 0)}function Td(r,s,c,h){r.g.push([s,c,h]),r.a&&ow(r)}eo.prototype.then=function(r,s,c){var h,p,m=new Kt(function(w,E){h=w,p=E});return Td(this,h,function(w){w instanceof Mu?m.cancel():p(w)}),m.then(r,s,c)},eo.prototype.$goog_Thenable=!0;function iw(r){return I(r.g,function(s){return S(s[1])})}function ow(r){if(r.h&&r.a&&iw(r)){var s=r.h,c=qc[s];c&&(f.clearTimeout(c.a),delete qc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var p=r.g.shift(),m=p[0],w=p[1];if(p=p[2],m=r.f?w:m)try{var E=m.call(p||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Lt(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(L){s=L,r.f=!0,iw(r)||(c=!0)}}r.c=s,h&&(E=V(r.m,r,!0),h=V(r.m,r,!1),s instanceof eo?(Td(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new sw(s),qc[s.a]=s,r.h=s.a)}function Bc(){gt.call(this)}Q(Bc,gt),Bc.prototype.message="Deferred has already fired",Bc.prototype.name="AlreadyCalledError";function Mu(){gt.call(this)}Q(Mu,gt),Mu.prototype.message="Deferred was canceled",Mu.prototype.name="CanceledError";function sw(r){this.a=f.setTimeout(V(this.c,this),0),this.b=r}sw.prototype.c=function(){throw delete qc[this.a],this.b};var qc={};function Sd(r){var s={},c=s.document||document,h=ay(r).toString(),p=dc(document,"SCRIPT"),m={Xb:p,Ma:void 0},w=new eo(m),E=null,L=s.timeout!=null?s.timeout:5e3;return 0<L&&(E=window.setTimeout(function(){$c(p,!0);var K=new Ad(Nk,"Timeout reached for loading script "+h);Uc(w),Lu(w,!1,K)},L),m.Ma=E),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||($c(p,s.xd||!1,E),Uc(w),Lu(w,!0,null))},p.onerror=function(){$c(p,!0,E);var K=new Ad(Ak,"Error while loading script "+h);Uc(w),Lu(w,!1,K)},m=s.attributes||{},Dt(m,{type:"text/javascript",charset:"UTF-8"}),Ey(p,m),nN(p,r),Tk(c).appendChild(p),w}function Tk(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function Sk(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&$c(r,!0,this.Ma)}}function $c(r,s,c){c!=null&&f.clearTimeout(c),r.onload=y,r.onerror=y,r.onreadystatechange=y,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var Ak=0,Nk=1;function Ad(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),gt.call(this,c),this.code=r}Q(Ad,gt);function Kc(r){this.f=r}Q(Kc,xu),Kc.prototype.a=function(){return new this.f},Kc.prototype.b=function(){return{}};function ar(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||kk,this.g=kt(r.secureTokenHeaders||xk),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||Ck,this.a=kt(r.firebaseHeaders||Ok),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Er()=="Node",c=f.XMLHttpRequest||c&&xt.INTERNAL.node&&xt.INTERNAL.node.XMLHttpRequest,!c&&!sr())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,sr()?this.f=new Mc(self):u0()?this.f=new Kc(c):this.f=new Pc,this.b=null}var Nd,cr="idToken",kk=new ai(3e4,6e4),xk={"Content-Type":"application/x-www-form-urlencoded"},Ck=new ai(3e4,6e4),Ok={"Content-Type":"application/json"};function uw(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function Hc(r,s){s&&(r.l=kd("https://securetoken.googleapis.com/v1/token",s),r.h=kd("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=kd("https://identitytoolkit.googleapis.com/v2/",s))}function kd(r,s){return r=Sn(r),s=Sn(s.url),r.f=r.a+r.f,gu(r,s.c),r.a=s.a,vu(r,s.g),r.toString()}function aw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}ar.prototype.T=function(){return this.b};function cw(r,s,c,h,p,m,w){LN()||sr()?r=V(r.u,r):(Nd||(Nd=new Kt(function(E,L){Dk(E,L)})),r=V(r.s,r)),r(s,c,h,p,m,w)}ar.prototype.u=function(r,s,c,h,p,m){if(sr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Du(this.f);if(m){w.g=Math.max(0,m);var E=setTimeout(function(){w.dispatchEvent("timeout")},m)}zy(w,"complete",function(){E&&clearTimeout(E);var L=null;try{L=JSON.parse(Ek(this))||null}catch{L=null}s&&s(L)}),Lh(w,"ready",function(){E&&clearTimeout(E),jy(this)}),Lh(w,"timeout",function(){E&&clearTimeout(E),jy(this),s&&s(null)}),wk(w,r,c,h,p)};var Rk=new nn(cc,"https://apis.google.com/js/client.js?onload=%{onload}"),lw="__fcb"+Math.floor(1e6*Math.random()).toString();function Dk(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[lw]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=mh(Rk,{onload:lw});Ik(Sd(c),function(){s(Error("CORS_UNSUPPORTED"))})}}ar.prototype.s=function(r,s,c,h,p){var m=this;Nd.then(function(){window.gapi.client.setApiKey(m.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:p,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function Pk(r,s){return new Kt(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?cw(r,r.l+"?key="+encodeURIComponent(r.c),function(p){p?p.error?h(Md(p)):p.access_token&&p.refresh_token?c(p):h(new A("internal-error")):h(new A("network-request-failed"))},"POST",Xy(s).toString(),r.g,r.m.get()):h(new A("internal-error"))})}function fw(r,s,c,h,p,m,w){var E=Sn(s+c);Ne(E,"key",r.c),w&&Ne(E,"cb",Date.now().toString());var L=h=="GET";if(L)for(var K in p)p.hasOwnProperty(K)&&Ne(E,K,p[K]);return new Kt(function(Ct,re){cw(r,E.toString(),function(Zt){Zt?Zt.error?re(Md(Zt,m||{})):Ct(Zt):re(new A("network-request-failed"))},h,L?void 0:t0(l0(p)),r.a,r.v.get())})}function no(r){if(r=r.email,typeof r!="string"||!VN.test(r))throw new A("invalid-email")}function hw(r){"email"in r&&no(r)}function Lk(r,s){return Ht(r,Hk,{identifier:s,continueUri:Ic()?wu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function Mk(r){return Ht(r,rx,{}).then(function(s){return s.authorizedDomains||[]})}function An(r){if(!r[cr])throw r.mfaPendingCredential?new A("multi-factor-auth-required",null,kt(r)):new A("internal-error")}function xd(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new A("internal-error")}else{if(!r.sessionInfo)throw new A("missing-verification-id");if(!r.code)throw new A("missing-verification-code")}}ar.prototype.Ab=function(){return Ht(this,ux,{})},ar.prototype.Cb=function(r,s){return Ht(this,gw,{idToken:r,email:s})},ar.prototype.Db=function(r,s){return Ht(this,vw,{idToken:r,password:s})};var Fk={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=ar.prototype,t.Eb=function(r,s){var c={idToken:r},h=[];return At(Fk,function(p,m){var w=s[m];w===null?h.push(p):m in s&&(c[m]=w)}),h.length&&(c.deleteAttribute=h),Ht(this,gw,c)},t.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Dt(r,s),Ht(this,nx,r)},t.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Dt(r,s),Ht(this,Zk,r)},t.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Dt(r,s),Ht(this,tx,r)},t.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Dt(r,c),Ht(this,ex,r)};function Vk(r,s){return Ht(r,sx,s)}t.gb=function(r){return Ht(this,px,r)};function jk(r,s){return Ht(r,ax,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function dw(r){if(!r.phoneVerificationInfo)throw new A("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new A("missing-verification-code")}function Uk(r,s){return Ht(r,cx,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function Bk(r,s,c){return Ht(r,Gk,{idToken:s,deleteProvider:c})}function Cd(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new A("internal-error")}function Od(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new zi(r.postBody),jh(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function pw(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Rc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Rc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Rc(r)):r.errorMessage&&(s=yw(r.errorMessage)),s)throw s;An(r)}function Rd(r,s){return s.returnIdpCredential=!0,Ht(r,lx,s)}function Dd(r,s){return s.returnIdpCredential=!0,Ht(r,hx,s)}function Pd(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Ht(r,fx,s)}function Ld(r){if(!r.oobCode)throw new A("invalid-action-code")}t.ob=function(r,s){return Ht(this,ox,{oobCode:r,newPassword:s})},t.Sa=function(r){return Ht(this,$k,{oobCode:r})},t.kb=function(r){return Ht(this,qk,{oobCode:r})};var qk={endpoint:"setAccountInfo",A:Ld,Z:"email",B:!0},$k={endpoint:"resetPassword",A:Ld,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},Kk={endpoint:"signupNewUser",A:function(r){if(no(r),!r.password)throw new A("weak-password")},G:An,V:!0,B:!0},Hk={endpoint:"createAuthUri",B:!0},zk={endpoint:"deleteAccount",O:["idToken"]},Gk={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new A("internal-error")}},Wk={endpoint:"emailLinkSignin",O:["email","oobCode"],A:no,G:An,V:!0,B:!0},Qk={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:no,G:An,V:!0},Yk={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:dw,G:An,B:!0,Na:!0},Xk={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:dw,G:An,B:!0,Na:!0},Jk={endpoint:"getAccountInfo"},Zk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new A("internal-error");no(r)},Z:"email",B:!0},tx={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},ex={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},nx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new A("internal-error");no(r)},Z:"email",B:!0},rx={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ix={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new A("internal-error")}},ox={endpoint:"resetPassword",A:Ld,Z:"email",B:!0},sx={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},gw={endpoint:"setAccountInfo",O:["idToken"],A:hw,V:!0},vw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(hw(r),!r.password)throw new A("weak-password")},G:An,V:!0},ux={endpoint:"signupNewUser",G:An,V:!0,B:!0},ax={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new A("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},cx={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},lx={endpoint:"verifyAssertion",A:Cd,Za:Od,G:pw,V:!0,B:!0},fx={endpoint:"verifyAssertion",A:Cd,Za:Od,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(r.errorMessage)throw yw(r.errorMessage);An(r)},V:!0,B:!0},hx={endpoint:"verifyAssertion",A:function(r){if(Cd(r),!r.idToken)throw new A("internal-error")},Za:Od,G:pw,V:!0},dx={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new A("invalid-custom-token")},G:An,V:!0,B:!0},mw={endpoint:"verifyPassword",A:function(r){if(no(r),!r.password)throw new A("wrong-password")},G:An,V:!0,B:!0},px={endpoint:"verifyPhoneNumber",A:xd,G:An,B:!0},gx={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new A("internal-error");xd(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Rc(r);An(r)}},vx={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:xd,G:An,B:!0},mx={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[cr]^!!r.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Ht(r,s,c){if(!HN(c,s.O))return ve(new A("internal-error"));var h=!!s.Na,p=s.Vb||"POST",m;return Et(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?fw(r,r.i,s.endpoint,p,c,s.Ib,s.mb||!1):fw(r,r.h,s.endpoint,p,c,s.Ib,s.mb||!1)}).then(function(w){return m=w,s.Za?s.Za(c,m):m}).then(s.G).then(function(){if(!s.Z)return m;if(!(s.Z in m))throw new A("internal-error");return m[s.Z]})}function yw(r){return Md({error:{errors:[{message:r}],code:400,message:r}})}function Md(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new A(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Dt(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var p in h)if(c.indexOf(p)===0)return new A(h[p],s);return!s&&r&&(s=_u(r)),new A("internal-error",s)}function yx(r){this.b=r,this.a=null,this.sb=wx(this)}function wx(r){return Sx().then(function(){return new Kt(function(s,c){me("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(m),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var m=setTimeout(function(){c(Error("Network Error"))},Tx.get());h.ping(p).then(p,function(){c(Error("Network Error"))})})})})}function bx(r,s){return r.sb.then(function(){return new Kt(function(c){r.a.send(s.type,s,c,me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function _x(r,s){r.sb.then(function(){r.a.register("authEvent",s,me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Ex=new nn(cc,"https://apis.google.com/js/api.js?onload=%{onload}"),Ix=new ai(3e4,6e4),Tx=new ai(5e3,15e3),zc=null;function Sx(){return zc||(zc=new Kt(function(r,s){function c(){h0(),me("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){h0(),s(Error("Network Error"))},timeout:Ix.get()})}if(me("gapi.iframes.Iframe"))r();else if(me("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){me("gapi.load")?c():s(Error("Network Error"))},h=mh(Ex,{onload:h}),Et(Sd(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw zc=null,r}))}function ww(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Sn(this.g.url),r=_c(r.c,r.a,r.g,"/emulator/auth/iframe")):r=_c("https",this.l,null,"/__/auth/iframe"),this.a=r,Ne(this.a,"apiKey",this.h),Ne(this.a,"appName",this.i),this.b=null,this.c=[]}ww.prototype.toString=function(){return this.f?Ne(this.a,"v",this.f):_r(this.a.b,"v"),this.b?Ne(this.a,"eid",this.b):_r(this.a.b,"eid"),this.c.length?Ne(this.a,"fw",this.c.join(",")):_r(this.a.b,"fw"),this.a.toString()};function Fd(r,s,c,h,p,m){this.u=r,this.s=s,this.c=c,this.m=h,this.v=m,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}Fd.prototype.zb=function(r){return this.h=r,this},Fd.prototype.toString=function(){if(this.v){var r=Sn(this.v.url);r=_c(r.c,r.a,r.g,"/emulator/auth/handler")}else r=_c("https",this.u,null,"/__/auth/handler");if(Ne(r,"apiKey",this.s),Ne(r,"appName",this.c),Ne(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=xt.app(this.c).auth().la()}catch{c=null}s.pb=c,Ne(r,"providerId",this.a.providerId),c=this.a,s=l0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=kt(s);for(var p=0;p<h.length;p++){var m=h[p];m in s&&delete s[m]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),Ft(s)||Ne(r,"customParameters",_u(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ne(r,"scopes",c.join(","))),this.l?Ne(r,"redirectUrl",this.l):_r(r.b,"redirectUrl"),this.g?Ne(r,"eventId",this.g):_r(r.b,"eventId"),this.i?Ne(r,"v",this.i):_r(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!tr(r,w)&&Ne(r,w,this.b[w]);return this.h?Ne(r,"tid",this.h):_r(r.b,"tid"),this.f?Ne(r,"eid",this.f):_r(r.b,"eid"),w=Vd(this.c),w.length&&Ne(r,"fw",w.join(",")),r.toString()};function Vd(r){try{return xt.app(r).auth().Ga()}catch{return[]}}function bw(r,s,c,h,p,m){this.s=r,this.g=s,this.b=c,this.f=m,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function _w(r){var s=wu();return Mk(r).then(function(c){t:{var h=Sn(s),p=h.c;h=h.a;for(var m=0;m<c.length;m++){var w=c[m],E=h,L=p;if(w.indexOf("chrome-extension://")==0?E=Sn(w).a==E&&L=="chrome-extension":L!="http"&&L!="https"?E=!1:FN.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break t}}c=!1}if(!c)throw new gd(wu())})}function Ew(r){return r.m||(r.m=Ec().then(function(){if(!r.u){var s=r.c,c=r.i,h=Vd(r.b),p=new ww(r.s,r.g,r.b,r.f);p.f=s,p.b=c,p.c=nt(h||[]),r.u=p.toString()}r.v=new yx(r.u),Ax(r)})),r.m}t=bw.prototype,t.Pb=function(r,s,c){var h=new A("popup-closed-by-user"),p=new A("web-storage-unsupported"),m=this,w=!1;return this.ma().then(function(){Nx(m).then(function(E){E||(r&&Gi(r),s(p),w=!0)})}).o(function(){}).then(function(){if(!w)return MN(r)}).then(function(){if(!w)return Ho(c).then(function(){s(h)})})},t.Yb=function(){var r=We();return!bu(r)&&!f0(r)},t.Ub=function(){return!1},t.Nb=function(r,s,c,h,p,m,w,E){if(!r)return ve(new A("popup-blocked"));if(w&&!bu())return this.ma().o(function(K){Gi(r),p(K)}),h(),Et();this.a||(this.a=_w(Iw(this)));var L=this;return this.a.then(function(){var K=L.ma().o(function(Ct){throw Gi(r),p(Ct),Ct});return h(),K}).then(function(){if(dd(c),!w){var K=Fu(L.s,L.g,L.b,s,c,null,m,L.c,void 0,L.i,E,L.f);r0(K,r)}}).o(function(K){throw K.code=="auth/network-request-failed"&&(L.a=null),K})};function Iw(r){return r.l||(r.C=r.c?Qo(r.c,Vd(r.b)):null,r.l=new ar(r.g,Qt(r.i),r.C),r.f&&Hc(r.l,r.f)),r.l}t.Ob=function(r,s,c,h){this.a||(this.a=_w(Iw(this)));var p=this;return this.a.then(function(){dd(s);var m=Fu(p.s,p.g,p.b,r,s,wu(),c,p.c,void 0,p.i,h,p.f);r0(m)}).o(function(m){throw m.code=="auth/network-request-failed"&&(p.a=null),m})},t.ma=function(){var r=this;return Ew(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new A("network-request-failed")})},t.ac=function(){return!0};function Fu(r,s,c,h,p,m,w,E,L,K,Ct,re){return r=new Fd(r,s,c,h,p,re),r.l=m,r.g=w,r.i=E,r.b=kt(L||null),r.f=K,r.zb(Ct).toString()}function Ax(r){if(!r.v)throw Error("IfcHandler must be initialized!");_x(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=z0(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Et(c)}return c.status="ERROR",Et(c)})}function Nx(r){var s={type:"webStorageSupport"};return Ew(r).then(function(){return bx(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ta=function(r){F(this.h,function(s){return s==r})};function Tw(r){if(this.a=r||xt.INTERNAL.reactNative&&xt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=Tw.prototype,t.get=function(r){return Et(this.a.getItem(r)).then(function(s){return s&&Xo(s)})},t.set=function(r,s){return Et(this.a.setItem(r,_u(s)))},t.U=function(r){return Et(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function Sw(r){this.b=r,this.a={},this.f=V(this.c,this)}var Aw=[];function kx(){var r=sr()?self:null;if(U(Aw,function(c){c.b==r&&(s=c)}),!s){var s=new Sw(r);Aw.push(s)}return s}Sw.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var p=[];U(h,function(m){p.push(Et().then(function(){return m(r.origin,r.data.data)}))}),Cy(p).then(function(m){var w=[];U(m,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),U(w,function(E){for(var L in E)typeof E[L]>"u"&&delete E[L]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function Nw(r,s,c){Ft(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function kw(r){this.a=r}kw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function xw(r){this.c=r,this.b=!1,this.a=[]}function Cw(r,s,c,h){var p,m=c||{},w,E,L,K=null;if(r.b)return ve(Error("connection_unavailable"));var Ct=h?800:50,re=typeof MessageChannel<"u"?new MessageChannel:null;return new Kt(function(Zt,$e){re?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),re.port1.start(),E=setTimeout(function(){$e(Error("unsupported_event"))},Ct),w=function($r){$r.data.eventId===p&&($r.data.status==="ack"?(clearTimeout(E),L=setTimeout(function(){$e(Error("timeout"))},3e3)):$r.data.status==="done"?(clearTimeout(L),typeof $r.data.response<"u"?Zt($r.data.response):$e(Error("unknown_error"))):(clearTimeout(E),clearTimeout(L),$e(Error("invalid_response"))))},K={messageChannel:re,onMessage:w},r.a.push(K),re.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:p,data:m},[re.port2])):$e(Error("connection_unavailable"))}).then(function(Zt){return jd(r,K),Zt}).o(function(Zt){throw jd(r,K),Zt})}function jd(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),F(r.a,function(p){return p==s})}}xw.prototype.close=function(){for(;0<this.a.length;)jd(this,this.a[0]);this.b=!0};function Ow(){if(!qd())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;sr()&&self?(this.v=kx(),Nw(this.v,"keyChanged",function(s,c){return Pw(r).then(function(h){return 0<h.length&&U(r.a,function(p){p(h)}),{keyProcessed:C(h,c.key)}})}),Nw(this.v,"ping",function(){return Et(["keyChanged"])})):$N().then(function(s){(r.h=s)&&(r.g=new xw(new kw(s)),Cw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&C(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Ud;function xx(r){return new Kt(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(p){c(Error(p.target.error))}})}function Rw(r){return new Kt(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}c(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(m){c(m)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?s(p):xx(r).then(function(){return Rw(r)}).then(function(m){s(m)}).o(function(m){c(m)})}})}function Bd(r){return r.i||(r.i=Rw(r)),r.i}function Gc(r,s){function c(p,m){Bd(r).then(s).then(p).o(function(w){if(3<++h)m(w);else return Bd(r).then(function(E){return E.close(),r.i=void 0,c(p,m)}).o(function(E){m(E)})})}var h=0;return new Kt(c)}function qd(){try{return!!f.indexedDB}catch{return!1}}function Vu(r){return r.objectStore("firebaseLocalStorage")}function ju(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function es(r){return new Kt(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}t=Ow.prototype,t.set=function(r,s){var c=this,h=!1;return Gc(this,function(p){return p=Vu(ju(p,!0)),es(p.get(r))}).then(function(p){return Gc(c,function(m){if(m=Vu(ju(m,!0)),p)return p.value=s,es(m.put(p));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,es(m.add(w))})}).then(function(){return c.c[r]=s,Dw(c,r)}).oa(function(){h&&c.b--})};function Dw(r,s){return r.g&&r.h&&qN()===r.h?Cw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Et()}t.get=function(r){return Gc(this,function(s){return es(Vu(ju(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.U=function(r){var s=this,c=!1;return Gc(this,function(h){return c=!0,s.b++,es(Vu(ju(h,!0)).delete(r))}).then(function(){return delete s.c[r],Dw(s,r)}).oa(function(){c&&s.b--})};function Pw(r){return Bd(r).then(function(s){var c=Vu(ju(s,!1));return c.getAll?es(c.getAll()):new Kt(function(h,p){var m=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(m.push(E.value),E.continue()):h(m)},w.onerror=function(E){p(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=i0(r.c,c),r.c=c}return h})}t.ca=function(r){this.a.length==0&&Cx(this),this.a.push(r)},t.ia=function(r){F(this.a,function(s){return s==r}),this.a.length==0&&Lw(this)};function Cx(r){function s(){r.f=setTimeout(function(){r.l=Pw(r).then(function(c){0<c.length&&U(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Lw(r),s()}function Lw(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Mw(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Et().then(function(){if(qd()){var h=Qi(),p="__sak"+h;return Ud||(Ud=new Ow),c=Ud,c.set(p,h).then(function(){return c.get(p)}).then(function(m){if(m!==h)throw Error("indexedDB not supported!");return c.U(p)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(p){U(s.a,function(m){m(p)})}),h})}t=Mw.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},t.U=function(r){return this.b.then(function(s){return s.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){F(this.a,function(s){return s==r})};function Uu(){this.a={},this.type="inMemory"}t=Uu.prototype,t.get=function(r){return Et(this.a[r])},t.set=function(r,s){return this.a[r]=s,Et()},t.U=function(r){return delete this.a[r],Et()},t.ca=function(){},t.ia=function(){};function Wc(){if(!Ox())throw Er()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Fw()||xt.INTERNAL.node.localStorage,this.type="localStorage"}function Fw(){try{var r=f.localStorage,s=Qi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Ox(){var r=Er()=="Node";if(r=Fw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Wc.prototype,t.get=function(r){var s=this;return Et().then(function(){var c=s.a.getItem(r);return Xo(c)})},t.set=function(r,s){var c=this;return Et().then(function(){var h=_u(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return Et().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&Zn(f.window,"storage",r)},t.ia=function(r){f.window&&Vn(f.window,"storage",r)};function $d(){this.type="nullStorage"}t=$d.prototype,t.get=function(){return Et(null)},t.set=function(){return Et()},t.U=function(){return Et()},t.ca=function(){},t.ia=function(){};function Kd(){if(!Rx())throw Er()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Vw()||xt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Vw(){try{var r=f.sessionStorage,s=Qi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Rx(){var r=Er()=="Node";if(r=Vw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Kd.prototype,t.get=function(r){var s=this;return Et().then(function(){var c=s.a.getItem(r);return Xo(c)})},t.set=function(r,s){var c=this;return Et().then(function(){var h=_u(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return Et().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function Dx(){var r={};r.Browser=Px,r.Node=Lx,r.ReactNative=Mx,r.Worker=Fx,this.a=r[Er()]}var Hd,Px={F:Wc,cb:Kd},Lx={F:Wc,cb:Kd},Mx={F:Tw,cb:$d},Fx={F:Wc,cb:$d},ns={rd:"local",NONE:"none",td:"session"};function Vx(r){var s=new A("invalid-persistence-type"),c=new A("unsupported-persistence-type");t:{for(h in ns)if(ns[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(Er()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!qd()&&r!=="none")throw c;break;default:if(!Hh()&&r!=="none")throw c}}function jw(){var r=!!(!f0(We())&&$h()),s=bu(),c=Hh();this.m=r,this.h=s,this.l=c,this.a={},Hd||(Hd=new Dx),r=Hd;try{this.g=!Bh()&&d0()||!f.indexedDB?new r.a.F:new Mw(sr()?new Uu:new r.a.F)}catch{this.g=new Uu,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new Uu}this.v=new Uu,this.f=V(this.Zb,this),this.b={}}var zd;function Bu(){return zd||(zd=new jw),zd}function ro(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function rs(r,s){return"firebase:"+r.name+(s?":"+s:"")}function jx(r,s,c){var h=rs(s,c),p=ro(r,s.F);return r.get(s,c).then(function(m){var w=null;try{w=Xo(f.localStorage.getItem(h))}catch{}if(w&&!m)return f.localStorage.removeItem(h),r.set(s,w,c);w&&m&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}t=jw.prototype,t.get=function(r,s){return ro(this,r.F).get(rs(r,s))};function is(r,s,c){return c=rs(s,c),s.F=="local"&&(r.b[c]=null),ro(r,s.F).U(c)}t.set=function(r,s,c){var h=rs(r,c),p=this,m=ro(this,r.F);return m.set(h,s).then(function(){return m.get(h)}).then(function(w){r.F=="local"&&(p.b[h]=w)})},t.addListener=function(r,s,c){r=rs(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),Ft(this.a)&&(ro(this,"local").ca(this.f),this.h||(Bh()||!d0())&&f.indexedDB||!this.l||Ux(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},t.removeListener=function(r,s,c){r=rs(r,s),this.a[r]&&(F(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Ft(this.a)&&(ro(this,"local").ia(this.f),Gd(this))};function Ux(r){Gd(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new Ki({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Gd(r){r.c&&(clearInterval(r.c),r.c=null)}t.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(c);p!==h&&(this.b[c]=p,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?ro(this,"local").ia(this.f):Gd(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var m=this;c=function(){(typeof r.a.a<"u"||m.b[s]!==f.localStorage.getItem(s))&&(m.b[s]=f.localStorage.getItem(s),m.nb(s))},or&&oi&&oi==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else U(r,V(this.nb,this))},t.nb=function(r){this.a[r]&&U(this.a[r],function(s){s()})};function Bx(r){this.a=r,this.b=Bu()}var Wd={name:"authEvent",F:"local"};function qx(r){return r.b.get(Wd,r.a).then(function(s){return z0(s)})}function $x(){this.a=Bu()}function Kx(){this.b=-1}function Qc(r,s){this.b=Uw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),Yc===void 0&&(f.Int32Array?Yc=new Int32Array($w):Yc=$w),this.reset()}var Yc;Q(Qc,Kx);for(var Uw=64,Hx=Uw-1,Bw=[],Qd=0;Qd<Hx;Qd++)Bw[Qd]=0;var qw=z(128,Bw);Qc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):nt(this.h)};function Yd(r){for(var s=r.f,c=r.l,h=0,p=0;p<s.length;)c[h++]=s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3],p=4*h;for(s=16;64>s;s++){p=c[s-15]|0,h=c[s-2]|0;var m=(c[s-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=m+w|0}h=r.a[0]|0,p=r.a[1]|0;var E=r.a[2]|0,L=r.a[3]|0,K=r.a[4]|0,Ct=r.a[5]|0,re=r.a[6]|0;for(m=r.a[7]|0,s=0;64>s;s++){var Zt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&E^p&E)|0;w=K&Ct^~K&re,m=m+((K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))|0,w=w+(Yc[s]|0)|0,w=m+(w+(c[s]|0)|0)|0,m=re,re=Ct,Ct=K,K=L+w|0,L=E,E=p,p=h,h=w+Zt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+p|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+L|0,r.a[4]=r.a[4]+K|0,r.a[5]=r.a[5]+Ct|0,r.a[6]=r.a[6]+re|0,r.a[7]=r.a[7]+m|0}function Xd(r,s,c){c===void 0&&(c=s.length);var h=0,p=r.c;if(typeof s=="string")for(;h<c;)r.f[p++]=s.charCodeAt(h++),p==r.b&&(Yd(r),p=0);else if(_(s))for(;h<c;){var m=s[h++];if(!(typeof m=="number"&&0<=m&&255>=m&&m==(m|0)))throw Error("message must be a byte array");r.f[p++]=m,p==r.b&&(Yd(r),p=0)}else throw Error("message must be string or array");r.c=p,r.g+=c}var $w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Kw(){Qc.call(this,8,zx)}Q(Kw,Qc);var zx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Hw(r,s,c,h,p,m){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=p||null,this.s=m,this.h=s+":"+c,this.C=new $x,this.g=new Bx(this.h),this.f=null,this.b=[],this.a=this.c=null}function Xc(r){return new A("invalid-cordova-configuration",r)}t=Hw.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=jN().then(function(){if(typeof me("universalLinks.subscribe",f)!="function")throw Xc("cordova-universal-links-plugin-fix is not installed");if(typeof me("BuildInfo.packageName",f)>"u")throw Xc("cordova-plugin-buildinfo is not installed");if(typeof me("cordova.plugins.browsertab.openUrl",f)!="function")throw Xc("cordova-plugin-browsertab is not installed");if(typeof me("cordova.InAppBrowser.open",f)!="function")throw Xc("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function Gx(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function Wx(r){var s=new Kw;Xd(s,r),r=[];var c=8*s.g;56>s.c?Xd(s,qw,56-s.c):Xd(s,qw,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Yd(s),h=c=0;h<s.i;h++)for(var p=24;0<=p;p-=8)r[c++]=s.a[h]>>p&255;return ok(r)}t.Pb=function(r,s){return s(new A("operation-not-supported-in-this-environment")),Et()},t.Nb=function(){return ve(new A("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,s,c,h){if(this.c)return ve(new A("redirect-operation-pending"));var p=this,m=f.document,w=null,E=null,L=null,K=null;return this.c=Et().then(function(){return dd(s),Gw(p)}).then(function(){return Qx(p,r,s,c,h)}).then(function(){return new Kt(function(Ct,re){E=function(){var Zt=me("cordova.plugins.browsertab.close",f);return Ct(),typeof Zt=="function"&&Zt(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(E),L=function(){w||(w=Ho(2e3).then(function(){re(new A("redirect-cancelled-by-user"))}))},K=function(){zh()&&L()},m.addEventListener("resume",L,!1),We().toLowerCase().match(/android/)||m.addEventListener("visibilitychange",K,!1)}).o(function(Ct){return Jd(p).then(function(){throw Ct})})}).oa(function(){L&&m.removeEventListener("resume",L,!1),K&&m.removeEventListener("visibilitychange",K,!1),w&&w.cancel(),E&&p.Ta(E),p.c=null})};function Qx(r,s,c,h,p){var m=Gx(),w=new ur(s,h,null,m,new A("no-auth-event"),null,p),E=me("BuildInfo.packageName",f);if(typeof E!="string")throw new A("invalid-cordova-configuration");var L=me("BuildInfo.displayName",f),K={};if(We().toLowerCase().match(/iphone|ipad|ipod/))K.ibi=E;else if(We().toLowerCase().match(/android/))K.apn=E;else return ve(new A("operation-not-supported-in-this-environment"));L&&(K.appDisplayName=L),m=Wx(m),K.sessionId=m;var Ct=Fu(r.v,r.i,r.l,s,c,null,h,r.m,K,r.u,p,r.s);return r.ma().then(function(){var re=r.h;return r.C.a.set(Wd,w.w(),re)}).then(function(){var re=me("cordova.plugins.browsertab.isAvailable",f);if(typeof re!="function")throw new A("invalid-cordova-configuration");var Zt=null;re(function($e){if($e){if(Zt=me("cordova.plugins.browsertab.openUrl",f),typeof Zt!="function")throw new A("invalid-cordova-configuration");Zt(Ct)}else{if(Zt=me("cordova.InAppBrowser.open",f),typeof Zt!="function")throw new A("invalid-cordova-configuration");$e=We(),r.a=Zt(Ct,$e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||$e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function zw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Gw(r){return r.f||(r.f=r.ma().then(function(){return new Kt(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),Yx(r)})})),r.f}function Jd(r){var s=null;return qx(r.g).then(function(c){return s=c,c=r.g,is(c.b,Wd,c.a)}).then(function(){return s})}function Yx(r){function s(w){h=!0,p&&p.cancel(),Jd(r).then(function(E){var L=c;if(E&&w&&w.url){var K=null;L=V0(w.url),L.indexOf("/__/auth/callback")!=-1&&(K=Sn(L),K=Xo(tr(K,"firebaseError")||null),K=(K=typeof K=="object"?Wt(K):null)?new ur(E.c,E.b,null,null,K,null,E.T()):new ur(E.c,E.b,L,E.f,null,null,E.T())),L=K||c}zw(r,L)})}var c=new ur("unknown",null,null,null,new A("no-auth-event")),h=!1,p=Ho(500).then(function(){return Jd(r).then(function(){h||zw(r,c)})}),m=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(me("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof m=="function")try{m(w)}catch(E){console.error(E)}},pd||(pd=new dk),pk(s)}t.Ea=function(r){this.b.push(r),Gw(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new ur("unknown",null,null,null,new A("no-auth-event")),r(s))})},t.Ta=function(r){F(this.b,function(s){return s==r})};function Xx(r){this.a=r,this.b=Bu()}var Zd={name:"pendingRedirect",F:"session"};function Jx(r){return r.b.set(Zd,"pending",r.a)}function tp(r){return is(r.b,Zd,r.a)}function Zx(r){return r.b.get(Zd,r.a).then(function(s){return s=="pending"})}function Jc(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new tl,this.C=new rb,this.g=new Xx(tb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ww(this.D,this.v,this.m,st,this.J)}function Ww(r,s,c,h,p){var m=xt.SDK_VERSION||null;return qh()?new Hw(r,s,c,m,h,p):new bw(r,s,c,m,h,p)}Jc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Ww(this.D,this.v,this.m,null,this.J),this.i={}};function Qw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function Yw(r){r.a.Yb()&&Qw(r).o(function(s){var c=new ur("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));np(s)&&r.s(c)}),r.a.Ub()||eb(r.b)}function Zc(r,s){C(r.h,s)||r.h.push(s),r.f||Zx(r.g).then(function(c){c?tp(r.g).then(function(){Qw(r).o(function(h){var p=new ur("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));np(h)&&r.s(p)})}):Yw(r)}).o(function(){Yw(r)})}function ep(r,s){F(r.h,function(c){return c==s})}Jc.prototype.s=function(r){if(!r)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return eb(this.b),s};var tC=new ai(2e3,1e4),eC=new ai(3e4,6e4);Jc.prototype.ra=function(){return this.b.ra()};function Xw(r,s,c,h,p,m,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},p,m,w)}function np(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Jw(r,s,c,h,p){var m;return Jx(r.g).then(function(){return r.a.Ob(s,c,h,p).o(function(w){if(np(w))throw new A("operation-not-supported-in-this-environment");return m=w,tp(r.g).then(function(){throw m})}).then(function(){return r.a.ac()?new Kt(function(){}):tp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Zw(r,s,c,h,p){return r.a.Pb(h,function(m){s.na(c,null,m,p)},tC.get())}var rp={};function tb(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function ip(r,s,c,h){var p=tb(s,c,h);return rp[p]||(rp[p]=new Jc(r,s,c,h)),rp[p]}function tl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}tl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},tl.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,p=r.a&&r.a.code=="auth/web-storage-unsupported",m=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!m),c!="unknown"||p||m?r.a?(io(this,!0,null,r.a),Et()):s.Fa(c,h)?nC(this,r,s):ve(new A("invalid-auth-event")):(io(this,!1,null,null),Et())}else ve(new A("invalid-auth-event"))};function eb(r){r.g||(r.g=!0,io(r,!1,null,null))}function el(r){r.g&&!r.i&&io(r,!1,null,null)}function nC(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,p=s.f,m=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,p,w,m).then(function(L){io(r,E,L,null)}).o(function(L){io(r,E,null,L)})}function rC(r,s){if(r.b=function(){return ve(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function nb(r,s){if(r.b=function(){return Et(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function io(r,s,c,h){s?h?rC(r,h):nb(r,c):nb(r,{user:null}),r.f=[],r.c=[]}tl.prototype.ra=function(){var r=this;return new Kt(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),iC(r))})};function iC(r){var s=new A("timeout");r.a&&r.a.cancel(),r.a=Ho(eC.get()).then(function(){r.b||(r.g=!0,io(r,!0,null,s))})}function rb(){}rb.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Et()):s.Fa(c,h)?oC(r,s):ve(new A("invalid-auth-event"))}else ve(new A("invalid-auth-event"))};function oC(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(p){s.na(h,p,null,c)}).o(function(p){s.na(h,null,p,c)})}function ib(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function op(r,s){this.a=s,pt(this,"verificationId",r)}op.prototype.confirm=function(r){return r=H0(this.verificationId,r),this.a(r)};function sp(r,s,c,h){return new Br(r).gb(s,c).then(function(p){return new op(p,h)})}function sC(r){var s=C0(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");dn(this,{token:r,expirationTime:Eu(1e3*s.exp),authTime:Eu(1e3*s.auth_time),issuedAtTime:Eu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function up(r,s,c){var h=s&&s[sb];if(!h)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=kt(s),this.g=c,this.c=new Cc(null,h),this.b=[];var p=this;U(s[ob]||[],function(m){(m=Jh(m))&&p.b.push(m)}),pt(this,"auth",this.a),pt(this,"session",this.c),pt(this,"hints",this.b)}var ob="mfaInfo",sb="mfaPendingCredential";up.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=kt(s.f);return delete h[ob],delete h[sb],Dt(h,c),s.g(h)})};function ap(r,s,c,h){A.call(this,"multi-factor-auth-required",h,s),this.b=new up(r,s,c),pt(this,"resolver",this.b)}Q(ap,A);function ub(r,s,c){if(r&&N(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new ap(s,r.serverResponse,c,r.message)}catch{}return null}function ab(){}ab.prototype.tb=function(r,s,c){return s.type==Au?uC(this,r,s,c):aC(this,r,s)};function uC(r,s,c,h){return c.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Dt(p,{phoneVerificationInfo:Nu(r.a)}),Ht(s,Yk,p)})}function aC(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Dt(h,{phoneVerificationInfo:Nu(r.a)}),Ht(s,Xk,h)})}function cp(r){pt(this,"factorId",r.fa),this.a=r}Q(cp,ab);function cb(r){if(cp.call(this,r),this.a.fa!=Br.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}Q(cb,cp);function os(r,s){Tn.call(this,r);for(var c in s)this[c]=s[c]}Q(os,Tn);function lp(r,s){this.a=r,this.b=[],this.c=V(this.yc,this),Zn(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&U(s.multiFactor.enrolledFactors,function(h){var p=null,m={};if(h){h.uid&&(m[td]=h.uid),h.displayName&&(m[g0]=h.displayName),h.enrollmentTime&&(m[Zh]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(m[ed]=h.phoneNumber);try{p=new Iu(m)}catch{}h=p}else h=null;h&&c.push(h)}),nl(this,c)}function cC(r){var s=[];return U(r.mfaInfo||[],function(c){(c=Jh(c))&&s.push(c)}),s}t=lp.prototype,t.yc=function(r){nl(this,cC(r.hd))};function nl(r,s){r.b=s,pt(r,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(r){return new Cc(r,null)})},t.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(p){return r.tb(h,p,s)}).then(function(p){return Sr(c.a,p),c.a.reload()})},t.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(p){return Ht(h,mx,{idToken:p,mfaEnrollmentId:c})}).then(function(p){var m=ut(s.b,function(w){return w.uid!=c});return nl(s,m),Sr(s.a,p),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:Rt(this.b,function(r){return r.w()})}}};function fp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}fp.prototype.start=function(){this.a=this.c,hp(this,!0)};function lC(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function hp(r,s){r.stop(),r.b=Ho(lC(r,s)).then(function(){return BN()}).then(function(){return r.h()}).then(function(){hp(r,!0)}).o(function(c){r.i(c)&&hp(r,!1)})}fp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function dp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}dp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function lb(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function fb(r,s){r.b=kc(s[cr]||""),r.a=s.refreshToken,s=s.expiresIn,lb(r,typeof s<"u"?Number(s):void 0)}function fC(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function hC(r,s){return Pk(r.f,s).then(function(c){return r.b=kc(c.access_token),r.a=c.refresh_token,lb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}dp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?ve(new A("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?hC(this,{grant_type:"refresh_token",refresh_token:this.a}):Et(null):Et({accessToken:this.b.toString(),refreshToken:this.a})};function rl(r,s){this.a=r||null,this.b=s||null,dn(this,{lastSignInTime:Eu(s||null),creationTime:Eu(r||null)})}function dC(r){return new rl(r.a,r.b)}rl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function pC(r,s,c,h,p,m){dn(this,{uid:r,displayName:h||null,photoURL:p||null,email:c||null,phoneNumber:m||null,providerId:s})}function Un(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=xt.SDK_VERSION?Qo(xt.SDK_VERSION):null;this.a=new ar(this.l,Qt(st),h),(this.u=r.emulatorConfig||null)&&Hc(this.a,this.u),this.h=new dp(this.a),bp(this,s[cr]),fb(this.h,s),pt(this,"refreshToken",this.h.a),db(this,c||{}),hn.call(this),this.P=!1,this.s&&Wi()&&(this.b=ip(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=gC(this),this.ba=V(this.ib,this);var p=this;this.za=null,this.Pa=function(m){p.xa(m.h)},this.qa=null,this.Ba=function(m){pp(p,m.c)},this.$=null,this.aa=[],this.Oa=function(m){qu(p,m.f)},this.ja=null,this.S=new lp(this,c),pt(this,"multiFactor",this.S)}Q(Un,hn),Un.prototype.xa=function(r){this.za=r,uw(this.a,r)};function pp(r,s){r.u=s,Hc(r.a,s),r.b&&(s=r.b,r.b=ip(r.s,r.l,r.m,r.u),r.P&&(ep(s,r),Zc(r.b,r)))}Un.prototype.la=function(){return this.za};function gp(r,s){r.qa&&Vn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&Zn(s,"languageCodeChanged",r.Pa)}function vp(r,s){r.$&&Vn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&Zn(s,"emulatorConfigChanged",r.Ba)}function qu(r,s){r.aa=s,aw(r.a,xt.SDK_VERSION?Qo(xt.SDK_VERSION,r.aa):null)}Un.prototype.Ga=function(){return nt(this.aa)};function mp(r,s){r.ja&&Vn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&Zn(s,"frameworkChanged",r.Oa)}Un.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function yp(r){try{return xt.app(r.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function gC(r){return new fp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function hb(r){r.J||r.D.b||(r.D.start(),Vn(r,"tokenChanged",r.ba),Zn(r,"tokenChanged",r.ba))}function wp(r){Vn(r,"tokenChanged",r.ba),r.D.stop()}function bp(r,s){r.Aa=s,pt(r,"_lat",s)}function vC(r,s){F(r.W,function(c){return c==s})}function oo(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return Cy(s).then(function(){return r})}function $u(r){r.b&&!r.P&&(r.P=!0,Zc(r.b,r))}function db(r,s){dn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new rl(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pt(Un.prototype,"providerId","firebase");function pb(){}function _p(r){return Et().then(function(){if(r.J)throw new A("app-deleted")})}function Ep(r){return Rt(r.providerData,function(s){return s.providerId})}function Ip(r,s){s&&(gb(r,s.providerId),r.providerData.push(s))}function gb(r,s){F(r.providerData,function(c){return c.providerId==s})}function fi(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&pt(r,s,c)}function il(r,s){r!=s&&(dn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?pt(r,"metadata",dC(s.metadata)):pt(r,"metadata",new rl),U(s.providerData,function(c){Ip(r,c)}),fC(r.h,s.h),pt(r,"refreshToken",r.h.a),nl(r.S,s.S.b))}t=Un.prototype,t.reload=function(){var r=this;return je(this,_p(this).then(function(){return Tp(r).then(function(){return oo(r)}).then(pb)}))};function Tp(r){return r.I().then(function(s){var c=r.isAnonymous;return mC(r,s).then(function(){return c||fi(r,"isAnonymous",!1),s})})}t.oc=function(r){return this.I(r).then(function(s){return new sC(s)})},t.I=function(r){var s=this;return je(this,_p(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new A("internal-error");return c.accessToken!=s.Aa&&(bp(s,c.accessToken),s.dispatchEvent(new os("tokenChanged"))),fi(s,"refreshToken",c.refreshToken),c.accessToken}))};function Sr(r,s){s[cr]&&r.Aa!=s[cr]&&(fb(r.h,s),r.dispatchEvent(new os("tokenChanged")),bp(r,s[cr]),fi(r,"refreshToken",r.h.a))}function mC(r,s){return Ht(r.a,Jk,{idToken:s}).then(V(r.Kc,r))}t.Kc=function(r){if(r=r.users,!r||!r.length)throw new A("internal-error");r=r[0],db(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=yC(r),c=0;c<s.length;c++)Ip(this,s[c]);fi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new os("userReloaded",{hd:r}))};function yC(r){return(r=r.providerUserInfo)&&r.length?Rt(r,function(s){return new pC(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(r){return Gh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var s=this,c=null;return je(this,r.c(this.a,this.uid).then(function(h){return Sr(s,h),c=Ku(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function ol(r,s){return Tp(r).then(function(){if(C(Ep(r),s))return oo(r).then(function(){throw new A("provider-already-linked")})})}t.Cc=function(r){return Gh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var s=this,c=null;return je(this,ol(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=Ku(s,h,"link"),vb(s,h)}).then(function(){return c}))},t.Dc=function(r,s){var c=this;return je(this,ol(this,"phone").then(function(){return sp(yp(c),r,s,V(c.rb,c))}))},t.Mc=function(r,s){var c=this;return je(this,Et().then(function(){return sp(yp(c),r,s,V(c.ub,c))}),!0)};function Ku(r,s,c){var h=hd(s);return s=R0(s),Ir({user:r,credential:h,additionalUserInfo:s,operationType:c})}function vb(r,s){return Sr(r,s),r.reload().then(function(){return r})}t.Cb=function(r){var s=this;return je(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Sr(s,c),s.reload()}))},t.ed=function(r){var s=this;return je(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Sr(s,c),s.reload()}))},t.Db=function(r){var s=this;return je(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Sr(s,c),s.reload()}))},t.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return _p(this);var s=this;return je(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Sr(s,c),fi(s,"displayName",c.displayName||null),fi(s,"photoURL",c.photoUrl||null),U(s.providerData,function(h){h.providerId==="password"&&(pt(h,"displayName",s.displayName),pt(h,"photoURL",s.photoURL))}),oo(s)}).then(pb))},t.cd=function(r){var s=this;return je(this,Tp(this).then(function(c){return C(Ep(s),r)?Bk(s.a,c,[r]).then(function(h){var p={};return U(h.providerUserInfo||[],function(m){p[m.providerId]=!0}),U(Ep(s),function(m){p[m]||gb(s,m)}),p[Br.PROVIDER_ID]||pt(s,"phoneNumber",null),oo(s)}):oo(s).then(function(){throw new A("no-such-provider")})}))},t.delete=function(){var r=this;return je(this,this.I().then(function(s){return Ht(r.a,zk,{idToken:s})}).then(function(){r.dispatchEvent(new os("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");gp(r,null),vp(r,null),mp(r,null),r.N=[],r.J=!0,wp(r),pt(r,"refreshToken",null),r.b&&ep(r.b,r)})},t.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?V(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?V(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?V(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?V(this.Mb,this):null},t.Ec=function(r){var s=this;return mb(this,"linkViaPopup",r,function(){return ol(s,r.providerId).then(function(){return oo(s)})},!1)},t.Nc=function(r){return mb(this,"reauthViaPopup",r,function(){return Et()},!0)};function mb(r,s,c,h,p){if(!Wi())return ve(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return ve(r.i);var m=sd(c.providerId),w=Qi(r.uid+":::"),E=null;(!bu()||$h())&&r.s&&c.isOAuthProvider&&(E=Fu(r.s,r.l,r.m,s,c,null,w,xt.SDK_VERSION||null,null,null,r.tenantId,r.u));var L=s0(E,m&&m.va,m&&m.ua);return h=h().then(function(){if(wb(r),!p)return r.I().then(function(){})}).then(function(){return Xw(r.b,L,s,c,w,!!E,r.tenantId)}).then(function(){return new Kt(function(K,Ct){r.na(s,null,new A("cancelled-popup-request"),r.g||null),r.f=K,r.C=Ct,r.g=w,r.c=Zw(r.b,r,s,L,w)})}).then(function(K){return L&&Gi(L),K?Ir(K):null}).o(function(K){throw L&&Gi(L),K}),je(r,h,p)}t.Fc=function(r){var s=this;return yb(this,"linkViaRedirect",r,function(){return ol(s,r.providerId)},!1)},t.Oc=function(r){return yb(this,"reauthViaRedirect",r,function(){return Et()},!0)};function yb(r,s,c,h,p){if(!Wi())return ve(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return ve(r.i);var m=null,w=Qi(r.uid+":::");return h=h().then(function(){if(wb(r),!p)return r.I().then(function(){})}).then(function(){return r.ga=w,oo(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(Sp,r.w(),E.a)),E}).then(function(){return Jw(r.b,s,c,w,r.tenantId)}).o(function(E){if(m=E,r.ha)return _b(r.ha);throw m}).then(function(){if(m)throw m}),je(r,h,p)}function wb(r){if(!r.b||!r.P)throw r.b&&!r.P?new A("internal-error"):new A("auth-domain-config-required")}t.Lb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null;return c=this.I().then(function(w){return Dd(p.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return m=Ku(p,w,"link"),vb(p,w)}).then(function(){return m}),je(this,c)},t.Mb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null,w=Et().then(function(){return Zo(Pd(p.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),p.uid)}).then(function(E){return m=Ku(p,E,"reauthenticate"),Sr(p,E),p.i=null,p.reload()}).then(function(){return m});return je(this,w,!0)},t.vb=function(r){var s=this,c=null;return je(this,this.I().then(function(h){return c=h,typeof r>"u"||Ft(r)?{}:Ac(new Sc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Fb=function(r,s){var c=this,h=null;return je(this,this.I().then(function(p){return h=p,typeof s>"u"||Ft(s)?{}:Ac(new Sc(s))}).then(function(p){return c.a.Fb(h,r,p)}).then(function(p){if(c.email!=p)return c.reload()}).then(function(){}))};function je(r,s,c){var h=wC(r,s,c);return r.N.push(h),h.oa(function(){M(r.N,h)}),h.o(function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=ub(p.w(),yp(r),V(r.jc,r))),m||p})}t.jc=function(r){var s=null,c=this;return r=Zo(Et(r),c.uid).then(function(h){return s=Ku(c,h,"reauthenticate"),Sr(c,h),c.i=null,c.reload()}).then(function(){return s}),je(this,r,!0)};function wC(r,s,c){return r.i&&!c?(s.cancel(),ve(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new os("userInvalidated")),r.i=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Dt(r,this.metadata.w()),U(this.providerData,function(s){r.providerData.push(KN(s))}),Dt(r,this.S.w()),r};function bb(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[cr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var p=new Un(s,c,r);return r.providerData&&U(r.providerData,function(m){m&&Ip(p,Ir(m))}),r.redirectEventId&&(p.ga=r.redirectEventId),p}function bC(r,s,c,h){var p=new Un(r,s);return c&&(p.ha=c),h&&qu(p,h),p.reload().then(function(){return p})}function _C(r,s,c,h){var p=r.h,m={};return m[cr]=p.b&&p.b.toString(),m.refreshToken=p.a,s=new Un(s||{apiKey:r.l,authDomain:r.s,appName:r.m},m),c&&(s.ha=c),h&&qu(s,h),il(s,r),s}function EC(r){this.a=r,this.b=Bu()}var Sp={name:"redirectUser",F:"session"};function _b(r){return is(r.b,Sp,r.a)}function IC(r,s){return r.b.get(Sp,r.a).then(function(c){return c&&s&&(c.authDomain=s),bb(c||{})})}function Ap(r){this.a=r,this.b=Bu(),this.c=null,this.f=TC(this),this.b.addListener(Ar("local"),this.a,V(this.g,this))}Ap.prototype.g=function(){var r=this,s=Ar("local");ss(this,function(){return Et().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return Np(r,"local").then(function(){r.c=s})})})};function Np(r,s){var c=[],h;for(h in ns)ns[h]!==s&&c.push(is(r.b,Ar(ns[h]),r.a));return c.push(is(r.b,kp,r.a)),dN(c)}function TC(r){var s=Ar("local"),c=Ar("session"),h=Ar("none");return jx(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(p){return p?c:r.b.get(h,r.a).then(function(m){return m?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(kp,r.a).then(function(E){return E?Ar(E):s})})})}).then(function(p){return r.c=p,Np(r,p.F)}).o(function(){r.c||(r.c=s)})}var kp={name:"persistence",F:"session"};function Ar(r){return{name:"authUser",F:r}}Ap.prototype.yb=function(r){var s=null,c=this;return Vx(r),ss(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,Np(c,r)}).then(function(){if(c.c=Ar(r),s)return c.b.set(c.c,s,c.a)}):Et()})};function SC(r){return ss(r,function(){return r.b.set(kp,r.c.F,r.a)})}function Eb(r,s){return ss(r,function(){return r.b.set(r.c,s.w(),r.a)})}function Ib(r){return ss(r,function(){return is(r.b,r.c,r.a)})}function Tb(r,s,c){return ss(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),bb(h||{})})})}function ss(r,s){return r.f=r.f.then(s,s),r.f}function lr(r){if(this.l=!1,pt(this,"settings",new ib),pt(this,"app",r),ue(this).options&&ue(this).options.apiKey)r=xt.SDK_VERSION?Qo(xt.SDK_VERSION):null,this.a=new ar(ue(this).options&&ue(this).options.apiKey,Qt(st),r);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xt.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=xt.INTERNAL.createSubscribe(V(this.Ac,this)),us(this,null),this.i=new Ap(ue(this).options.apiKey+":"+ue(this).name),this.D=new EC(ue(this).options.apiKey+":"+ue(this).name),this.$=Te(this,OC(this)),this.h=Te(this,RC(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,kC(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,hn.call(this),NC(this),this.J=[],this.R=null}Q(lr,hn);function Sb(r){Tn.call(this,"languageCodeChanged"),this.h=r}Q(Sb,Tn);function Ab(r){Tn.call(this,"emulatorConfigChanged"),this.c=r}Q(Ab,Tn);function Nb(r){Tn.call(this,"frameworkChanged"),this.f=r}Q(Nb,Tn),t=lr.prototype,t.yb=function(r){return r=this.i.yb(r),Te(this,r)},t.xa=function(r){this.aa===r||this.l||(this.aa=r,uw(this.a,this.aa),this.dispatchEvent(new Sb(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,AC(s),this.R={url:r,ec:s},this.settings.jb=!0,Hc(this.a,this.R),this.dispatchEvent(new Ab(this.R))}};function AC(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Ec().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}t.Gc=function(r){this.J.push(r),aw(this.a,xt.SDK_VERSION?Qo(xt.SDK_VERSION,this.J):null),this.dispatchEvent(new Nb(this.J))},t.Ga=function(){return nt(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S};function NC(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Sn(this.R.url);s=Ir({protocol:s.c,host:s.a,port:s.g,options:Ir({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:ue(this).options.apiKey,authDomain:ue(this).options.authDomain,appName:ue(this).name,currentUser:jt(this)&&jt(this).w()}};function xp(r){return r.Oa||ve(new A("auth-domain-config-required"))}function kC(r){var s=ue(r).options.authDomain,c=ue(r).options.apiKey;s&&Wi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=ip(s,c,ue(r).name,r.R),Zc(r.b,r),jt(r)&&$u(jt(r)),r.m){$u(r.m);var h=r.m;h.xa(r.la()),gp(h,r),h=r.m,qu(h,r.J),mp(h,r),h=r.m,pp(h,r.R),vp(h,r),r.m=null}return r.b}}))}t.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?V(this.ic,this):null},t.ic=function(r,s,c,h){var p=this,m={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return so(p,Rd(p.a,m))})},t.Xc=function(r){if(!Wi())return ve(new A("operation-not-supported-in-this-environment"));var s=this,c=sd(r.providerId),h=Qi(),p=null;(!bu()||$h())&&ue(this).options.authDomain&&r.isOAuthProvider&&(p=Fu(ue(this).options.authDomain,ue(this).options.apiKey,ue(this).name,"signInViaPopup",r,null,h,xt.SDK_VERSION||null,null,null,this.T(),this.R));var m=s0(p,c&&c.va,c&&c.ua);return c=xp(this).then(function(w){return Xw(w,m,"signInViaPopup",r,h,!!p,s.T())}).then(function(){return new Kt(function(w,E){s.na("signInViaPopup",null,new A("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=Zw(s.b,s,"signInViaPopup",m,h)})}).then(function(w){return m&&Gi(m),w?Ir(w):null}).o(function(w){throw m&&Gi(m),w}),Te(this,c)},t.Yc=function(r){if(!Wi())return ve(new A("operation-not-supported-in-this-environment"));var s=this,c=xp(this).then(function(){return SC(s.i)}).then(function(){return Jw(s.b,"signInViaRedirect",r,void 0,s.T())});return Te(this,c)};function kb(r){if(!Wi())return ve(new A("operation-not-supported-in-this-environment"));var s=xp(r).then(function(){return r.b.ra()}).then(function(c){return c?Ir(c):null});return Te(r,s)}t.ra=function(){var r=this;return kb(this).then(function(s){return r.b&&el(r.b.b),s}).o(function(s){throw r.b&&el(r.b.b),s})},t.dd=function(r){if(!r)return ve(new A("null-user"));if(this.S!=r.tenantId)return ve(new A("tenant-id-mismatch"));var s=this,c={};c.apiKey=ue(this).options.apiKey,c.authDomain=ue(this).options.authDomain,c.appName=ue(this).name;var h=_C(r,c,s.D,s.Ga());return Te(this,this.h.then(function(){if(ue(s).options.apiKey!=r.l)return h.reload()}).then(function(){return jt(s)&&r.uid==jt(s).uid?(il(jt(s),r),s.da(r)):(us(s,h),$u(h),s.da(h))}).then(function(){Hu(s)}))};function xC(r,s){var c={};return c.apiKey=ue(r).options.apiKey,c.authDomain=ue(r).options.authDomain,c.appName=ue(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return bC(c,s,r.D,r.Ga())}).then(function(h){return jt(r)&&h.uid==jt(r).uid?(il(jt(r),h),r.da(h)):(us(r,h),$u(h),r.da(h))}).then(function(){Hu(r)})}function us(r,s){jt(r)&&(vC(jt(r),r.Ba),Vn(jt(r),"tokenChanged",r.qa),Vn(jt(r),"userDeleted",r.za),Vn(jt(r),"userInvalidated",r.Aa),wp(jt(r))),s&&(s.W.push(r.Ba),Zn(s,"tokenChanged",r.qa),Zn(s,"userDeleted",r.za),Zn(s,"userInvalidated",r.Aa),0<r.u&&hb(s)),pt(r,"currentUser",s),s&&(s.xa(r.la()),gp(s,r),qu(s,r.J),mp(s,r),pp(s,r.R),vp(s,r))}t.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&el(r.b.b),jt(r)?(us(r,null),Ib(r.i).then(function(){Hu(r)})):Et()});return Te(this,s)};function CC(r){var s=IC(r.D,ue(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),_b(r.D)});return Te(r,s)}function OC(r){var s=ue(r).options.authDomain,c=CC(r).then(function(){return Tb(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return Eb(r.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:Ib(r.i)})):null}).then(function(h){us(r,h||null)});return Te(r,c)}function RC(r){return r.$.then(function(){return kb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Ar("local"),s.a,r.ja)}})}t.Zc=function(){var r=this;return Tb(this.i,ue(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=jt(r)&&s){c=jt(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return il(jt(r),s),jt(r).I();(jt(r)||s)&&(us(r,s),s&&($u(s),s.ha=r.D),r.b&&Zc(r.b,r),Hu(r))}})},t.da=function(r){return Eb(this.i,r)},t.mc=function(){Hu(this),this.da(jt(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function so(r,s){var c=null,h=null;return Te(r,s.then(function(p){return c=hd(p),h=R0(p),xC(r,p)},function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=ub(p.w(),r,V(r.kc,r))),m||p}).then(function(){return Ir({user:jt(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}t.kc=function(r){var s=this;return this.h.then(function(){return so(s,Et(r))})},t.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(jt(s))})},t.Ac=function(r){var s=this;DC(this,function(){r.next(jt(s))})},t.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(jt(h)):typeof r.next=="function"&&r.next(jt(h))}),this.Pa(r,s,c)},t.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(jt(h)):typeof r.next=="function"&&r.next(jt(h))}),this.ib(r,s,c)},t.nc=function(r){var s=this,c=this.h.then(function(){return jt(s)?jt(s).I(r).then(function(h){return{accessToken:h}}):null});return Te(this,c)},t.Tc=function(r){var s=this;return this.h.then(function(){return so(s,Ht(s.a,dx,{token:r}))}).then(function(c){var h=c.user;return fi(h,"isAnonymous",!1),s.da(h),c})},t.Uc=function(r,s){var c=this;return this.h.then(function(){return so(c,Ht(c.a,mw,{email:r,password:s}))})},t.dc=function(r,s){var c=this;return this.h.then(function(){return so(c,Ht(c.a,Kk,{email:r,password:s}))})},t.ab=function(r){var s=this;return this.h.then(function(){return so(s,r.ka(s.a))})},t.Sc=function(r){return Gh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var s=jt(r);if(s&&s.isAnonymous){var c=Ir({providerId:null,isNewUser:!1});return Ir({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return so(r,r.a.Ab()).then(function(h){var p=h.user;return fi(p,"isAnonymous",!0),r.da(p),h})})};function ue(r){return r.app}function jt(r){return r.currentUser}t.getUid=function(){return jt(this)&&jt(this).uid||null};function sl(r){return jt(r)&&jt(r)._lat||null}function Hu(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](sl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](sl(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&jt(this)&&hb(jt(this))},t.Pc=function(r){var s=this;U(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&jt(this)&&wp(jt(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.s.push(r),Te(this,this.h.then(function(){s.l||C(s.s,r)&&r(sl(s))}))},t.removeAuthTokenListener=function(r){F(this.s,function(s){return s==r})};function DC(r,s){r.N.push(s),Te(r,r.h.then(function(){!r.l&&C(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(sl(r)))}))}t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Ar("local"),r.a,this.ja)),this.b&&(ep(this.b,this),el(this.b.b)),Promise.resolve()};function Te(r,s){return r.P.push(s),s.oa(function(){M(r.P,s)}),s}t.hc=function(r){return Te(this,Lk(this.a,r))},t.Bc=function(r){return!!fd(r)},t.xb=function(r,s){var c=this;return Te(this,Et().then(function(){var h=new Sc(s);if(!h.c)throw new A("argument-error",id+" must be true when sending sign in link to email");return Ac(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},t.ob=function(r,s){return Te(this,this.a.ob(r,s).then(function(){}))},t.Sa=function(r){return Te(this,this.a.Sa(r).then(function(s){return new zN(s)}))},t.kb=function(r){return Te(this,this.a.kb(r).then(function(){}))},t.wb=function(r,s){var c=this;return Te(this,Et().then(function(){return typeof s>"u"||Ft(s)?{}:Ac(new Sc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},t.Wc=function(r,s){return Te(this,sp(this,r,s,V(this.ab,this)))},t.Vc=function(r,s){var c=this;return Te(this,Et().then(function(){var h=s||wu(),p=K0(r,h);if(h=fd(h),!h)throw new A("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new A("tenant-id-mismatch");return c.ab(p)}))};function zu(){}zu.prototype.render=function(){},zu.prototype.reset=function(){},zu.prototype.getResponse=function(){},zu.prototype.execute=function(){};function as(){this.a={},this.b=1e12}var Cp=null;as.prototype.render=function(r,s){return this.a[this.b.toString()]=new ul(r,s),this.b++},as.prototype.reset=function(r){var s=Op(this,r);r=xb(r),s&&r&&(s.delete(),delete this.a[r])},as.prototype.getResponse=function(r){return(r=Op(this,r))?r.getResponse():null},as.prototype.execute=function(r){(r=Op(this,r))&&r.execute()};function Op(r,s){return(s=xb(s))&&r.a[s]||null}function xb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function ul(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=hu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():Zn(this.f,"click",this.i)}ul.prototype.getResponse=function(){return Rp(this),this.b},ul.prototype.execute=function(){Rp(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=UN();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},ul.prototype.delete=function(){Rp(this),this.g=!0,clearTimeout(this.a),this.a=null,Vn(this.f,"click",this.i)};function Rp(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function Dp(){}pt(Dp,"FACTOR_ID","phone");function Pp(){}Pp.prototype.g=function(){return Cp||(Cp=new as),Et(Cp)},Pp.prototype.c=function(){};var Lp=null;function Mp(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var PC=new nn(cc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),LC=new ai(3e4,6e4);Mp.prototype.g=function(r){var s=this;return new Kt(function(c,h){var p=setTimeout(function(){h(new A("network-request-failed"))},LC.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,L){return E=w(E,L),s.b++,E},clearTimeout(p),c(f.grecaptcha)}else clearTimeout(p),h(new A("internal-error"));delete f[s.a]};var m=mh(PC,{onload:s.a,hl:r||""});Et(Sd(m)).o(function(){clearTimeout(p),h(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),c(f.grecaptcha)})},Mp.prototype.c=function(){this.b--};var Fp=null;function Vp(r,s,c,h,p,m,w){if(pt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(Lp||(Lp=new Pp),w=Lp):(Fp||(Fp=new Mp),w=Fp),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Rb])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[MC]==="invisible",!f.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!hu(s)||!this.i&&hu(s).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ar(r,m||null,p||null),this.u=h||function(){return null};var E=this;this.l=[];var L=this.a[Cb];this.a[Cb]=function(Ct){if(Db(E,Ct),typeof L=="function")L(Ct);else if(typeof L=="string"){var re=me(L,f);typeof re=="function"&&re(Ct)}};var K=this.a[Ob];this.a[Ob]=function(){if(Db(E,null),typeof K=="function")K();else if(typeof K=="string"){var Ct=me(K,f);typeof Ct=="function"&&Ct()}}}var Cb="callback",Ob="expired-callback",Rb="sitekey",MC="size";function Db(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function FC(r,s){F(r.l,function(c){return c==s})}function jp(r,s){return r.h.push(s),s.oa(function(){M(r.h,s)}),s}t=Vp.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=jp(this,Et().then(function(){if(Ic()&&!sr())return Ec();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Ht(r.s,ix,{})}).then(function(s){r.a[Rb]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},t.render=function(){al(this);var r=this;return jp(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=hu(s);s=cN("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){al(this);var r=this;return jp(this,this.render().then(function(s){return new Kt(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var p=function(m){m&&(FC(r,p),c(m))};r.l.push(p),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){al(this),this.c!==null&&this.g.reset(this.c)};function al(r){if(r.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){al(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=hu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Up(r,s,c){var h=!1;try{this.b=c||xt.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new A("invalid-api-key");var p=this,m=null;try{m=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}m=xt.SDK_VERSION?Qo(xt.SDK_VERSION,m):null,Vp.call(this,c,r,s,function(){try{var w=p.b.auth().la()}catch{w=null}return w},m,Qt(st),h)}Q(Up,Vp);function Pb(r,s,c,h){t:{c=Array.prototype.slice.call(c);for(var p=0,m=!1,w=0;w<s.length;w++)if(s[w].optional)m=!0;else{if(m)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(m=s.length,c.length<p||m<c.length)h="Expected "+(p==m?p==1?"1 argument":p+" arguments":p+"-"+m+" arguments")+" but got "+c.length+".";else{for(p=0;p<c.length;p++)if(m=s[p].optional&&c[p]===void 0,!s[p].M(c[p])&&!m){if(s=s[p],0>p||p>=Lb.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");c=Lb[p],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new A("argument-error",r+" failed: "+h)}var Lb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ft(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function Bp(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Oe(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:N}}function cs(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Nr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function VC(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function jC(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof lr)}}}function UC(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof xt.app.App)}}}function hi(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function Mb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function ls(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function qp(r,s){return N(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function Fb(r){return N(r)&&typeof r.uid=="string"}function cl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function ke(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(p){return r.M(p)||s.M(p)}}}function be(r,s){for(var c in s){var h=s[c].name;r[h]=jb(h,r[c],s[c].j)}}function Vb(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:It(function(p){return this[p]},c),set:It(function(p,m,w,E){Pb(p,[w],[E],!0),this[m]=E},h,c,s[c].lb),enumerable:!0})}}function xe(r,s,c,h){r[s]=jb(s,c,h)}function jb(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return Pb(p,c,w),s.apply(this,w)}if(!c)return s;var p=BC(r),m;for(m in s)h[m]=s[m];for(m in s.prototype)h.prototype[m]=s.prototype[m];return h}function BC(r){return r=r.split("."),r[r.length-1]}be(lr.prototype,{kb:{name:"applyActionCode",j:[ft("code")]},Sa:{name:"checkActionCode",j:[ft("code")]},ob:{name:"confirmPasswordReset",j:[ft("code"),ft("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ft("email"),ft("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ft("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ft("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ke(Oe(),cs(),"nextOrObserver"),cs("opt_error",!0),cs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ke(Oe(),cs(),"nextOrObserver"),cs("opt_error",!0),cs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ft("email"),ke(Oe("opt_actionCodeSettings",!0),Nr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ft("email"),Oe("actionCodeSettings")]},yb:{name:"setPersistence",j:[ft("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[hi()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[hi()]},Tc:{name:"signInWithCustomToken",j:[ft("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ft("email"),ft("password")]},Vc:{name:"signInWithEmailLink",j:[ft("email"),ft("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ft("phoneNumber"),cl()]},Xc:{name:"signInWithPopup",j:[ls()]},Yc:{name:"signInWithRedirect",j:[ls()]},dd:{name:"updateCurrentUser",j:[ke(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Un)}}}(),Nr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ft(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ft("url"),Oe("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ft("code")]}}),Vb(lr.prototype,{lc:{name:"languageCode",lb:ke(ft(),Nr(),"languageCode")},ti:{name:"tenantId",lb:ke(ft(),Nr(),"tenantId")}}),lr.Persistence=ns,lr.Persistence.LOCAL="local",lr.Persistence.SESSION="session",lr.Persistence.NONE="none",be(Un.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Bp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Bp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[hi()]},rb:{name:"linkWithCredential",j:[hi()]},Dc:{name:"linkWithPhoneNumber",j:[ft("phoneNumber"),cl()]},Ec:{name:"linkWithPopup",j:[ls()]},Fc:{name:"linkWithRedirect",j:[ls()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[hi()]},ub:{name:"reauthenticateWithCredential",j:[hi()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ft("phoneNumber"),cl()]},Nc:{name:"reauthenticateWithPopup",j:[ls()]},Oc:{name:"reauthenticateWithRedirect",j:[ls()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ke(Oe("opt_actionCodeSettings",!0),Nr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ft(null,!0)]},cd:{name:"unlink",j:[ft("provider")]},Cb:{name:"updateEmail",j:[ft("email")]},Db:{name:"updatePassword",j:[ft("password")]},ed:{name:"updatePhoneNumber",j:[hi("phone")]},Eb:{name:"updateProfile",j:[Oe("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ft("email"),ke(Oe("opt_actionCodeSettings",!0),Nr(null,!0),"opt_actionCodeSettings",!0)]}}),be(as.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),be(zu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),be(Kt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Vb(ib.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Bp("appVerificationDisabledForTesting")}}),be(op.prototype,{confirm:{name:"confirm",j:[ft("verificationCode")]}}),xe(Jo,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[lk,fk,hk,ck],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[ke(ft(),Oe(),"json")]),xe(er,"credential",function(r,s){return new ci(r,s)},[ft("email"),ft("password")]),be(ci.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(Ji.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Ji,"credential",U0,[ke(ft(),Oe(),"token")]),xe(er,"credentialWithLink",K0,[ft("email"),ft("emailLink")]),be(Zi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Zi,"credential",B0,[ke(ft(),Oe(),"token")]),be(to.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(to,"credential",q0,[ke(ft(),ke(Oe(),Nr()),"idToken"),ke(ft(),Nr(),"accessToken",!0)]),be(ts.prototype,{Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(ts,"credential",$0,[ke(ft(),Oe(),"token"),ft("secret",!0)]),be(jn.prototype,{Ca:{name:"addScope",j:[ft("scope")]},credential:{name:"credential",j:[ke(ft(),ke(Oe(),Nr()),"optionsOrIdToken"),ke(ft(),Nr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),be(Ur.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(Yi.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),xe(Br,"credential",H0,[ft("verificationId"),ft("verificationCode")]),be(Br.prototype,{gb:{name:"verifyPhoneNumber",j:[ke(ft(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?qp(c.session,Au)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?qp(c.session,Oc)&&Fb(c.multiFactorHint):c.session&&c.multiFactorUid?qp(c.session,Oc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),cl()]}}),be(li.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(A.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(ku.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(gd.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(ap.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(up.prototype,{Rc:{name:"resolveSignIn",j:[Mb()]}}),be(lp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Mb(),ft("displayName",!0)]},bd:{name:"unenroll",j:[ke({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Fb},ft(),"multiFactorInfoIdentifier")]}}),be(Up.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xe(rd,"parseLink",E0,[ft("link")]),xe(Dp,"assertion",function(r){return new cb(r)},[hi("phone")]),function(){if(typeof xt<"u"&&xt.INTERNAL&&xt.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Tc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:nd,VERIFY_AND_CHANGE_EMAIL:Tu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:lr,AuthCredential:Jo,Error:A};xe(r,"EmailAuthProvider",er,[]),xe(r,"FacebookAuthProvider",Ji,[]),xe(r,"GithubAuthProvider",Zi,[]),xe(r,"GoogleAuthProvider",to,[]),xe(r,"TwitterAuthProvider",ts,[]),xe(r,"OAuthProvider",jn,[ft("providerId")]),xe(r,"SAMLAuthProvider",j0,[ft("providerId")]),xe(r,"PhoneAuthProvider",Br,[jC()]),xe(r,"RecaptchaVerifier",Up,[ke(ft(),VC(),"recaptchaContainer"),Oe("recaptchaParameters",!0),UC()]),xe(r,"ActionCodeURL",rd,[]),xe(r,"PhoneMultiFactorGenerator",Dp,[]),xt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new lr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),xt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:V(s.getUid,s),getToken:V(s.nc,s),addAuthTokenListener:V(s.cc,s),removeAuthTokenListener:V(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xt.registerVersion("@firebase/auth","0.16.8"),xt.INTERNAL.extendNamespace({User:Un})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Dg=function(t,e){return Dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Dg(t,e)};function wP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Dg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function C1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var bP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ct,Kv=Kv||{},Pt=bP||self;function Hl(){}function Pg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function $a(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function _P(t){return Object.prototype.hasOwnProperty.call(t,Jp)&&t[Jp]||(t[Jp]=++EP)}var Jp="closure_uid_"+(1e9*Math.random()>>>0),EP=0;function IP(t,e,n){return t.call.apply(t.bind,arguments)}function TP(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Je=IP:Je=TP,Je.apply(null,arguments)}function ml(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function tn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[o].apply(i,a)}}function Fi(){this.s=this.s,this.o=this.o}var SP=0;Fi.prototype.s=!1;Fi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),SP!=0)&&_P(this)};Fi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var O1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},R1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function AP(t){t:{for(var e=mL,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function b_(t){return Array.prototype.concat.apply([],arguments)}function Hv(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function zl(t){return/^[\s\xa0]*$/.test(t)}var __=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function mn(t,e){return t.indexOf(e)!=-1}function Zp(t,e){return t<e?-1:t>e?1:0}var yn;t:{var E_=Pt.navigator;if(E_){var I_=E_.userAgent;if(I_){yn=I_;break t}}yn=""}function zv(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function D1(t){var e={};for(var n in t)e[n]=t[n];return e}var T_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P1(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<T_.length;u++)n=T_[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Gv(t){return Gv[" "](t),t}Gv[" "]=Hl;function NP(t){var e=CP;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var kP=mn(yn,"Opera"),Ps=mn(yn,"Trident")||mn(yn,"MSIE"),L1=mn(yn,"Edge"),Lg=L1||Ps,M1=mn(yn,"Gecko")&&!(mn(yn.toLowerCase(),"webkit")&&!mn(yn,"Edge"))&&!(mn(yn,"Trident")||mn(yn,"MSIE"))&&!mn(yn,"Edge"),xP=mn(yn.toLowerCase(),"webkit")&&!mn(yn,"Edge");function F1(){var t=Pt.document;return t?t.documentMode:void 0}var Gl;t:{var tg="",eg=function(){var t=yn;if(M1)return/rv:([^\);]+)(\)|;)/.exec(t);if(L1)return/Edge\/([\d\.]+)/.exec(t);if(Ps)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(xP)return/WebKit\/(\S+)/.exec(t);if(kP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(eg&&(tg=eg?eg[1]:""),Ps){var ng=F1();if(ng!=null&&ng>parseFloat(tg)){Gl=String(ng);break t}}Gl=tg}var CP={};function OP(){return NP(function(){for(var t=0,e=__(String(Gl)).split("."),n=__("9").split("."),i=Math.max(e.length,n.length),o=0;t==0&&o<i;o++){var u=e[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;t=Zp(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Zp(u[2].length==0,a[2].length==0)||Zp(u[2],a[2]),u=u[3],a=a[3]}while(t==0)}return 0<=t})}var Mg;if(Pt.document&&Ps){var S_=F1();Mg=S_||parseInt(Gl,10)||void 0}else Mg=void 0;var RP=Mg,DP=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pt.addEventListener("test",Hl,e),Pt.removeEventListener("test",Hl,e)}catch{}return t}();function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};function Sa(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(M1){t:{try{Gv(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:PP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sa.Z.h.call(this)}}tn(Sa,cn);var PP={2:"touch",3:"pen",4:"mouse"};Sa.prototype.h=function(){Sa.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ka="closure_listenable_"+(1e6*Math.random()|0),LP=0;function MP(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=o,this.key=++LP,this.ca=this.fa=!1}function Ff(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Vf(t){this.src=t,this.g={},this.h=0}Vf.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var a=Vg(t,e,i,o);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new MP(e,this.src,u,!!i,o),e.fa=n,t.push(e)),e};function Fg(t,e){var n=e.type;if(n in t.g){var i=t.g[n],o=O1(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(Ff(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Vg(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==i)return o}return-1}var Wv="closure_lm_"+(1e6*Math.random()|0),rg={};function V1(t,e,n,i,o){if(i&&i.once)return U1(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)V1(t,e[u],n,i,o);return null}return n=Xv(n),t&&t[Ka]?t.N(e,n,$a(i)?!!i.capture:!!i,o):j1(t,e,n,!1,i,o)}function j1(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var a=$a(o)?!!o.capture:!!o,l=Yv(t);if(l||(t[Wv]=l=new Vf(t)),n=l.add(e,n,i,a,u),n.proxy)return n;if(i=FP(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)DP||(o=a),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(q1(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function FP(){function t(n){return e.call(t.src,t.listener,n)}var e=VP;return t}function U1(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)U1(t,e[u],n,i,o);return null}return n=Xv(n),t&&t[Ka]?t.O(e,n,$a(i)?!!i.capture:!!i,o):j1(t,e,n,!0,i,o)}function B1(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)B1(t,e[u],n,i,o);else i=$a(i)?!!i.capture:!!i,n=Xv(n),t&&t[Ka]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=Vg(u,n,i,o),-1<n&&(Ff(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=Yv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Vg(e,n,i,o)),(n=-1<t?e[t]:null)&&Qv(n))}function Qv(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Ka])Fg(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(q1(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=Yv(e))?(Fg(n,t),n.h==0&&(n.src=null,e[Wv]=null)):Ff(t)}}}function q1(t){return t in rg?rg[t]:rg[t]="on"+t}function VP(t,e){if(t.ca)t=!0;else{e=new Sa(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Qv(t),t=n.call(i,e)}return t}function Yv(t){return t=t[Wv],t instanceof Vf?t:null}var ig="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xv(t){return typeof t=="function"?t:(t[ig]||(t[ig]=function(e){return t.handleEvent(e)}),t[ig])}function Ge(){Fi.call(this),this.i=new Vf(this),this.P=this,this.I=null}tn(Ge,Fi);Ge.prototype[Ka]=!0;Ge.prototype.removeEventListener=function(t,e,n,i){B1(this,t,e,n,i)};function Ze(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var o=e;e=new cn(i,t),P1(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=e.g=n[u];o=yl(a,i,!0,e)&&o}if(a=e.g=t,o=yl(a,i,!0,e)&&o,o=yl(a,i,!1,e)&&o,n)for(u=0;u<n.length;u++)a=e.g=n[u],o=yl(a,i,!1,e)&&o}Ge.prototype.M=function(){if(Ge.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Ff(n[i]);delete t.g[e],t.h--}}this.I=null};Ge.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Ge.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function yl(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var a=e[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Fg(t.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Jv=Pt.JSON.stringify;function jP(){var t=K1,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var UP=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var i=$1.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i},t}(),$1=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new BP},function(t){return t.reset()}),BP=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function qP(t){Pt.setTimeout(function(){throw t},0)}function Zv(t,e){jg||$P(),Ug||(jg(),Ug=!0),K1.add(t,e)}var jg;function $P(){var t=Pt.Promise.resolve(void 0);jg=function(){t.then(KP)}}var Ug=!1,K1=new UP;function KP(){for(var t;t=jP();){try{t.h.call(t.g)}catch(n){qP(n)}var e=$1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ug=!1}function jf(t,e){Ge.call(this),this.h=t||1,this.g=e||Pt,this.j=Je(this.kb,this),this.l=Date.now()}tn(jf,Ge);ct=jf.prototype;ct.da=!1;ct.S=null;ct.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ze(this,"tick"),this.da&&(tm(this),this.start()))}};ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}ct.M=function(){jf.Z.M.call(this),tm(this),delete this.g};function em(t,e,n){if(typeof t=="function")n&&(t=Je(t,n));else if(t&&typeof t.handleEvent=="function")t=Je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pt.setTimeout(t,e||0)}function H1(t){t.g=em(function(){t.g=null,t.i&&(t.i=!1,H1(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var HP=function(t){wP(e,t);function e(n,i){var o=t.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:H1(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Fi);function Aa(t){Fi.call(this),this.h=t,this.g={}}tn(Aa,Fi);var A_=[];function z1(t,e,n,i){Array.isArray(n)||(n&&(A_[0]=n.toString()),n=A_);for(var o=0;o<n.length;o++){var u=V1(e,n[o],i||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function G1(t){zv(t.g,function(e,n){this.g.hasOwnProperty(n)&&Qv(e)},t),t.g={}}Aa.prototype.M=function(){Aa.Z.M.call(this),G1(this)};Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uf(){this.g=!0}Uf.prototype.Aa=function(){this.g=!1};function zP(t,e,n,i,o,u){t.info(function(){if(t.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var g=d[0];d=d[1];var v=g.split("_");a=2<=v.length&&v[1]=="type"?a+(g+"="+d+"&"):a+(g+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+a})}function GP(t,e,n,i,o,u,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+a})}function Es(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+QP(t,n)+(i?" "+i:"")})}function WP(t,e){t.info(function(){return"TIMEOUT: "+e})}Uf.prototype.info=function(){};function QP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Jv(n)}catch{return e}}var Po={},N_=null;function Bf(){return N_=N_||new Ge}Po.Ma="serverreachability";function W1(t){cn.call(this,Po.Ma,t)}tn(W1,cn);function Na(t){var e=Bf();Ze(e,new W1(e))}Po.STAT_EVENT="statevent";function Q1(t,e){cn.call(this,Po.STAT_EVENT,t),this.stat=e}tn(Q1,cn);function bn(t){var e=Bf();Ze(e,new Q1(e,t))}Po.Na="timingevent";function Y1(t,e){cn.call(this,Po.Na,t),this.size=e}tn(Y1,cn);function Ha(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){t()},e)}var qf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},X1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function nm(){}nm.prototype.h=null;function k_(t){return t.h||(t.h=t.i())}function J1(){}var za={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function rm(){cn.call(this,"d")}tn(rm,cn);function im(){cn.call(this,"c")}tn(im,cn);var Bg;function $f(){}tn($f,nm);$f.prototype.g=function(){return new XMLHttpRequest};$f.prototype.i=function(){return{}};Bg=new $f;function Ga(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new Aa(this),this.P=YP,t=Lg?125:void 0,this.W=new jf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Z1}function Z1(){this.i=null,this.g="",this.h=!1}var YP=45e3,qg={},Wl={};ct=Ga.prototype;ct.setTimeout=function(t){this.P=t};function $g(t,e,n){t.K=1,t.v=Hf(ti(e)),t.s=n,t.U=!0,tT(t,null)}function tT(t,e){t.F=Date.now(),Wa(t),t.A=ti(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),uT(n.h,"t",i),t.C=0,n=t.l.H,t.h=new Z1,t.g=NT(t.l,n?e:null,!t.s),0<t.O&&(t.L=new HP(Je(t.Ia,t,t.g),t.O)),z1(t.V,t.g,"readystatechange",t.gb),e=t.H?D1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Na(),zP(t.j,t.u,t.A,t.m,t.X,t.s)}ct.gb=function(t){t=t.target;var e=this.L;e&&zr(t)==3?e.l():this.Ia(t)};ct.Ia=function(t){try{if(t==this.g)t:{var e=zr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(e!=3||Lg||this.g&&(this.h.h||this.g.ga()||R_(this.g)))){this.I||e!=4||n==7||(n==8||0>=i?Na(3):Na(2)),Kf(this);var o=this.g.ba();this.N=o;e:if(eT(this)){var u=R_(this.g);t="";var a=u.length,l=zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vo(this),ua(this);var f="";break e}this.h.i=new Pt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,GP(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){e:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zl(d)){var v=d;break e}}v=null}if(o=v)Es(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Kg(this,o);else{this.i=!1,this.o=3,bn(12),vo(this),ua(this);break t}}this.U?(nT(this,e,f),Lg&&this.i&&e==3&&(z1(this.V,this.W,"tick",this.fb),this.W.start())):(Es(this.j,this.m,f,null),Kg(this,f)),e==4&&vo(this),this.i&&!this.I&&(e==4?IT(this.l,this):(this.i=!1,Wa(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),vo(this),ua(this)}}}catch{}finally{}};function eT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function nT(t,e,n){for(var i=!0,o;!t.I&&t.C<n.length;)if(o=XP(t,n),o==Wl){e==4&&(t.o=4,bn(14),i=!1),Es(t.j,t.m,null,"[Incomplete Response]");break}else if(o==qg){t.o=4,bn(15),Es(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Es(t.j,t.m,o,null),Kg(t,o);eT(t)&&o!=Wl&&o!=qg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,bn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),dm(e),e.L=!0,bn(11))):(Es(t.j,t.m,n,"[Invalid Chunked Response]"),vo(t),ua(t))}ct.fb=function(){if(this.g){var t=zr(this.g),e=this.g.ga();this.C<e.length&&(Kf(this),nT(this,t,e),this.i&&t!=4&&Wa(this))}};function XP(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Wl:(n=Number(e.substring(n,i)),isNaN(n)?qg:(i+=1,i+n>e.length?Wl:(e=e.substr(i,n),t.C=i+n,e)))}ct.cancel=function(){this.I=!0,vo(this)};function Wa(t){t.Y=Date.now()+t.P,rT(t,t.P)}function rT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ha(Je(t.eb,t),e)}function Kf(t){t.B&&(Pt.clearTimeout(t.B),t.B=null)}ct.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(WP(this.j,this.A),this.K!=2&&(Na(),bn(17)),vo(this),this.o=2,ua(this)):rT(this,this.Y-t)};function ua(t){t.l.G==0||t.I||IT(t.l,t)}function vo(t){Kf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,tm(t.W),G1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Kg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Hg(n.i,t))){if(n.I=t.N,!t.J&&Hg(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Jl(n),Wf(n);else break t;hm(n),bn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ha(Je(n.ab,n),6e3));if(1>=lT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else mo(n,11)}else if((t.J||n.g==t)&&Jl(n),!zl(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var u=o[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=t.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var v=i.i;!v.g&&(mn(g,"spdy")||mn(g,"quic")||mn(g,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(um(v,v.h),v.h=null))}if(i.D){var y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,we(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=t;if(i.oa=AT(i,i.H?i.la:null,i.W),b.J){fT(i.i,b);var _=b,S=i.K;S&&_.setTimeout(S),_.B&&(Kf(_),Wa(_)),i.g=b}else _T(i);0<n.l.length&&Qf(n)}else u[0]!="stop"&&u[0]!="close"||mo(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?mo(n,7):fm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Na(4)}catch{}}function JP(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Pg(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function om(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Pg(t)||typeof t=="string")R1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Pg(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=JP(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function nu(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof nu)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}ct=nu.prototype;ct.R=function(){sm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};ct.T=function(){return sm(this),this.g.concat()};function sm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];No(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)i=t.g[e],No(o,i)||(t.g[n++]=i,o[i]=1),e++;t.g.length=n}}ct.get=function(t,e){return No(this.h,t)?this.h[t]:e};ct.set=function(t,e){No(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};ct.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function No(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var iT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ZP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function ko(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ko){this.g=e!==void 0?e:t.g,Ql(this,t.j),this.s=t.s,Yl(this,t.i),Xl(this,t.m),this.l=t.l,e=t.h;var n=new ka;n.i=e.i,e.g&&(n.g=new nu(e.g),n.h=e.h),x_(this,n),this.o=t.o}else t&&(n=String(t).match(iT))?(this.g=!!e,Ql(this,n[1]||"",!0),this.s=aa(n[2]||""),Yl(this,n[3]||"",!0),Xl(this,n[4]),this.l=aa(n[5]||"",!0),x_(this,n[6]||"",!0),this.o=aa(n[7]||"")):(this.g=!!e,this.h=new ka(null,this.g))}ko.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ea(e,C_,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ea(e,C_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(ea(n,n.charAt(0)=="/"?iL:rL,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ea(n,sL)),t.join("")};function ti(t){return new ko(t)}function Ql(t,e,n){t.j=n?aa(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Yl(t,e,n){t.i=n?aa(e,!0):e}function Xl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function x_(t,e,n){e instanceof ka?(t.h=e,uL(t.h,t.g)):(n||(e=ea(e,oL)),t.h=new ka(e,t.g))}function we(t,e,n){t.h.set(e,n)}function Hf(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tL(t){return t instanceof ko?ti(t):new ko(t,void 0)}function eL(t,e,n,i){var o=new ko(null,void 0);return t&&Ql(o,t),e&&Yl(o,e),n&&Xl(o,n),i&&(o.l=i),o}function aa(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ea(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,nL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function nL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var C_=/[#\/\?@]/g,rL=/[#\?:]/g,iL=/[#\?]/g,oL=/[#\?@]/g,sL=/#/g;function ka(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vi(t){t.g||(t.g=new nu,t.h=0,t.i&&ZP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ct=ka.prototype;ct.add=function(t,e){Vi(this),this.i=null,t=ru(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oT(t,e){Vi(t),e=ru(t,e),No(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,No(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&sm(t)))}function sT(t,e){return Vi(t),e=ru(t,e),No(t.g.h,e)}ct.forEach=function(t,e){Vi(this),this.g.forEach(function(n,i){R1(n,function(o){t.call(e,o,i,this)},this)},this)};ct.T=function(){Vi(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};ct.R=function(t){Vi(this);var e=[];if(typeof t=="string")sT(this,t)&&(e=b_(e,this.g.get(ru(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=b_(e,t[n])}return e};ct.set=function(t,e){return Vi(this),this.i=null,t=ru(this,t),sT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ct.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function uT(t,e,n){oT(t,e),0<n.length&&(t.i=null,t.g.set(ru(t,e),Hv(n)),t.h+=n.length)}ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),t.push(a)}}return this.i=t.join("&")};function ru(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function uL(t,e){e&&!t.j&&(Vi(t),t.i=null,t.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(oT(this,i),uT(this,o,n))},t)),t.j=e}var aL=function(){function t(e,n){this.h=e,this.g=n}return t}();function aT(t){this.l=t||cL,Pt.PerformanceNavigationTiming?(t=Pt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cL=10;function cT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function lT(t){return t.h?1:t.g?t.g.size:0}function Hg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function um(t,e){t.g?t.g.add(e):t.h=e}function fT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aT.prototype.cancel=function(){var t,e;if(this.i=hT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=C1(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function hT(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var i=t.i;try{for(var o=C1(t.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Hv(t.i)}function am(){}am.prototype.stringify=function(t){return Pt.JSON.stringify(t,void 0)};am.prototype.parse=function(t){return Pt.JSON.parse(t,void 0)};function lL(){this.g=new am}function fL(t,e,n){var i=n||"";try{om(t,function(o,u){var a=o;$a(o)&&(a=Jv(o)),e.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function hL(t,e){var n=new Uf;if(Pt.Image){var i=new Image;i.onload=ml(wl,n,i,"TestLoadImage: loaded",!0,e),i.onerror=ml(wl,n,i,"TestLoadImage: error",!1,e),i.onabort=ml(wl,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=ml(wl,n,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function wl(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function Qa(t){this.l=t.$b||null,this.j=t.ib||!1}tn(Qa,nm);Qa.prototype.g=function(){return new zf(this.l,this.j)};Qa.prototype.i=function(t){return function(){return t}}({});function zf(t,e){Ge.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=cm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn(zf,Ge);var cm=0;ct=zf.prototype;ct.open=function(t,e){if(this.readyState!=cm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xa(this)};ct.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ya(this)),this.readyState=cm};ct.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;dT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function dT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}ct.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ya(this):xa(this),this.readyState==3&&dT(this)}};ct.Ua=function(t){this.g&&(this.response=this.responseText=t,Ya(this))};ct.Ta=function(t){this.g&&(this.response=t,Ya(this))};ct.ha=function(){this.g&&Ya(this)};function Ya(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xa(t)}ct.setRequestHeader=function(t,e){this.v.append(t,e)};ct.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ct.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function xa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dL=Pt.JSON.parse;function Fe(t){Ge.call(this),this.headers=new nu,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pT,this.K=this.L=!1}tn(Fe,Ge);var pT="",pL=/^https?$/i,gL=["POST","PUT"];ct=Fe.prototype;ct.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bg.g(),this.C=this.u?k_(this.u):k_(Bg),this.g.onreadystatechange=Je(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){O_(this,u);return}t=n||"";var o=new nu(this.headers);i&&om(i,function(u,a){o.set(a,u)}),i=AP(o.T()),n=Pt.FormData&&t instanceof Pt.FormData,!(0<=O1(gL,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{mT(this),0<this.B&&((this.K=vL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Je(this.pa,this)):this.A=em(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){O_(this,u)}};function vL(t){return Ps&&OP()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function mL(t){return t.toLowerCase()=="content-type"}ct.pa=function(){typeof Kv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))};function O_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gT(t),Gf(t)}function gT(t){t.D||(t.D=!0,Ze(t,"complete"),Ze(t,"error"))}ct.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ze(this,"complete"),Ze(this,"abort"),Gf(this))};ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gf(this,!0)),Fe.Z.M.call(this)};ct.Fa=function(){this.s||(this.F||this.v||this.l?vT(this):this.cb())};ct.cb=function(){vT(this)};function vT(t){if(t.h&&typeof Kv<"u"&&(!t.C[1]||zr(t)!=4||t.ba()!=2)){if(t.v&&zr(t)==4)em(t.Fa,0,t);else if(Ze(t,"readystatechange"),zr(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.H).match(iT)[1]||null;if(!u&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;u=a.substr(0,a.length-1)}o=!pL.test(u?u.toLowerCase():"")}i=o}if(i)Ze(t,"complete"),Ze(t,"success");else{t.m=6;try{var l=2<zr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",gT(t)}}finally{Gf(t)}}}}function Gf(t,e){if(t.g){mT(t);var n=t.g,i=t.C[0]?Hl:null;t.g=null,t.C=null,e||Ze(t,"ready");try{n.onreadystatechange=i}catch{}}}function mT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Pt.clearTimeout(t.A),t.A=null)}function zr(t){return t.g?t.g.readyState:0}ct.ba=function(){try{return 2<zr(this)?this.g.status:-1}catch{return-1}};ct.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ct.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dL(e)}};function R_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case pT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ct.Da=function(){return this.m};ct.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function yL(t){var e="";return zv(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function lm(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=yL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function Wu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yT(t){this.za=0,this.l=[],this.h=new Uf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wu("baseRetryDelayMs",5e3,t),this.$a=Wu("retryDelaySeedMs",1e4,t),this.Ya=Wu("forwardChannelMaxRetries",2,t),this.ra=Wu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new aT(t&&t.concurrentRequestLimit),this.Ca=new lL,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}ct=yT.prototype;ct.ma=8;ct.G=1;function fm(t){if(wT(t),t.G==3){var e=t.V++,n=ti(t.F);we(n,"SID",t.J),we(n,"RID",e),we(n,"TYPE","terminate"),Xa(t,n),e=new Ga(t,t.h,e,void 0),e.K=2,e.v=Hf(ti(n)),n=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(n=Pt.navigator.sendBeacon(e.v.toString(),"")),!n&&Pt.Image&&(new Image().src=e.v,n=!0),n||(e.g=NT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Wa(e)}ST(t)}ct.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Wf(t){t.g&&(dm(t),t.g.cancel(),t.g=null)}function wT(t){Wf(t),t.u&&(Pt.clearTimeout(t.u),t.u=null),Jl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Pt.clearTimeout(t.m),t.m=null)}function og(t,e){t.l.push(new aL(t.Za++,e)),t.G==3&&Qf(t)}function Qf(t){cT(t.i)||t.m||(t.m=!0,Zv(t.Ha,t),t.C=0)}function wL(t,e){return lT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ha(Je(t.Ha,t,e),TT(t,t.C)),t.C++,!0)}ct.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ga(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=D1(n),P1(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=bT(this,e,i),o=ti(this.F),we(o,"RID",t),we(o,"CVER",22),this.D&&we(o,"X-HTTP-Session-Id",this.D),Xa(this,o),this.o&&n&&lm(o,this.o,n),um(this.i,e),this.Ra&&we(o,"TYPE","init"),this.ja?(we(o,"$req",i),we(o,"SID","null"),e.$=!0,$g(e,o,null)):$g(e,o,i),this.G=2}}else this.G==3&&(t?D_(this,t):this.l.length==0||cT(this.i)||D_(this))};function D_(t,e){var n;e?n=e.m:n=t.V++;var i=ti(t.F);we(i,"SID",t.J),we(i,"RID",n),we(i,"AID",t.U),Xa(t,i),t.o&&t.s&&lm(i,t.o,t.s),n=new Ga(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=bT(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),um(t.i,n),$g(n,i,e)}function Xa(t,e){t.j&&om({},function(n,i){we(e,i,n)})}function bT(t,e,n){n=Math.min(t.l.length,n);var i=t.j?Je(t.j.Oa,t.j,t):null;t:for(var o=t.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{fL(g,a,"req"+d+"_")}catch{i&&i(g)}}if(l){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function _T(t){t.g||t.u||(t.Y=1,Zv(t.Ga,t),t.A=0)}function hm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ha(Je(t.Ga,t),TT(t,t.A)),t.A++,!0)}ct.Ga=function(){if(this.u=null,ET(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ha(Je(this.bb,this),t)}};ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bn(10),Wf(this),ET(this))};function dm(t){t.B!=null&&(Pt.clearTimeout(t.B),t.B=null)}function ET(t){t.g=new Ga(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=ti(t.oa);we(e,"RID","rpc"),we(e,"SID",t.J),we(e,"CI",t.N?"0":"1"),we(e,"AID",t.U),Xa(t,e),we(e,"TYPE","xmlhttp"),t.o&&t.s&&lm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Hf(ti(e)),n.s=null,n.U=!0,tT(n,t)}ct.ab=function(){this.v!=null&&(this.v=null,Wf(this),hm(this),bn(19))};function Jl(t){t.v!=null&&(Pt.clearTimeout(t.v),t.v=null)}function IT(t,e){var n=null;if(t.g==e){Jl(t),dm(t),t.g=null;var i=2}else if(Hg(t.i,e))n=e.D,fT(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;i=Bf(),Ze(i,new Y1(i,n)),Qf(t)}else _T(t);else if(o=e.o,o==3||o==0&&0<t.I||!(i==1&&wL(t,e)||i==2&&hm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:mo(t,5);break;case 4:mo(t,10);break;case 3:mo(t,6);break;default:mo(t,2)}}}function TT(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function mo(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=Je(t.jb,t);n||(n=new ko("//www.google.com/images/cleardot.gif"),Pt.location&&Pt.location.protocol=="http"||Ql(n,"https"),Hf(n)),hL(n.toString(),i)}else bn(2);t.G=0,t.j&&t.j.va(e),ST(t),wT(t)}ct.jb=function(t){t?(this.h.info("Successfully pinged google.com"),bn(2)):(this.h.info("Failed to ping google.com"),bn(1))};function ST(t){t.G=0,t.I=-1,t.j&&((hT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Hv(t.l),t.l.length=0),t.j.ua())}function AT(t,e,n){var i=tL(n);if(i.i!="")e&&Yl(i,e+"."+i.i),Xl(i,i.m);else{var o=Pt.location;i=eL(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&zv(t.aa,function(u,a){we(i,a,u)}),e=t.D,n=t.sa,e&&n&&we(i,e,n),we(i,"VER",t.ma),Xa(t,i),i}function NT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Fe(new Qa({ib:!0})):new Fe(t.qa),e.L=t.H,e}function kT(){}ct=kT.prototype;ct.xa=function(){};ct.wa=function(){};ct.va=function(){};ct.ua=function(){};ct.Oa=function(){};function Zl(){if(Ps&&!(10<=Number(RP)))throw Error("Environmental error: no available transport.")}Zl.prototype.g=function(t,e){return new Jn(t,e)};function Jn(t,e){Ge.call(this),this.g=new yT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!zl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new iu(this)}tn(Jn,Ge);Jn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Zv(Je(t.hb,t,e))),bn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=AT(t,null,t.W),Qf(t)};Jn.prototype.close=function(){fm(this.g)};Jn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,og(this.g,e)}else this.v?(e={},e.__data__=Jv(t),og(this.g,e)):og(this.g,t)};Jn.prototype.M=function(){this.g.j=null,delete this.j,fm(this.g),delete this.g,Jn.Z.M.call(this)};function xT(t){rm.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tn(xT,rm);function CT(){im.call(this),this.status=1}tn(CT,im);function iu(t){this.g=t}tn(iu,kT);iu.prototype.xa=function(){Ze(this.g,"a")};iu.prototype.wa=function(t){Ze(this.g,new xT(t))};iu.prototype.va=function(t){Ze(this.g,new CT)};iu.prototype.ua=function(){Ze(this.g,"b")};Zl.prototype.createWebChannel=Zl.prototype.g;Jn.prototype.send=Jn.prototype.u;Jn.prototype.open=Jn.prototype.m;Jn.prototype.close=Jn.prototype.close;qf.NO_ERROR=0;qf.TIMEOUT=8;qf.HTTP_ERROR=6;X1.COMPLETE="complete";J1.EventType=za;za.OPEN="a";za.CLOSE="b";za.ERROR="c";za.MESSAGE="d";Ge.prototype.listen=Ge.prototype.N;Fe.prototype.listenOnce=Fe.prototype.O;Fe.prototype.getLastError=Fe.prototype.La;Fe.prototype.getLastErrorCode=Fe.prototype.Da;Fe.prototype.getStatus=Fe.prototype.ba;Fe.prototype.getResponseJson=Fe.prototype.Qa;Fe.prototype.getResponseText=Fe.prototype.ga;Fe.prototype.send=Fe.prototype.ea;var bL=function(){return new Zl},_L=function(){return Bf()},sg=qf,EL=X1,IL=Po,P_={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TL=Qa,bl=J1,SL=Fe;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Wn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Tt(e,t),e}(Error),vr=new A1("@firebase/firestore");function zg(){return vr.logLevel}function et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=te.DEBUG){var i=e.map(pm);vr.debug.apply(vr,Ae(["Firestore (8.10.1): "+t],i))}}function Pe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=te.ERROR){var i=e.map(pm);vr.error.apply(vr,Ae(["Firestore (8.10.1): "+t],i))}}function tf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=te.WARN){var i=e.map(pm);vr.warn.apply(vr,Ae(["Firestore (8.10.1): "+t],i))}}function pm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Pe(e),new Error(e)}function Nt(t,e){t||yt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OT=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=AL(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function zt(t,e){return t<e?-1:t>e?1:0}function Ls(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function RT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$t=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new On(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Lo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DT(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var PT=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&yt(),i===void 0?i=e.length-n:i>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),ee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new W(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(PT),NL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wr=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.isValidIdentifier=function(n){return NL.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new W(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new W(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new W(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new W(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.emptyPath=function(){return new e([])},e}(PT),Ms=function(){function t(e){this.fields=e,e.sort(wr.comparator)}return t.prototype.covers=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Ls(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),Pn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return zt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Pn.EMPTY_BYTE_STRING=new Pn("");var kL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Nt(!!t),typeof t=="string"){var e=0,n=kL.exec(t);if(Nt(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function LT(t){var e=t.mapValue.fields.__previous_value__;return gm(e)?LT(e):e}function Ca(t){var e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new On(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return t==null}function ef(t){return t===0&&1/t==-1/0}function MT(t){return typeof t=="number"&&Number.isInteger(t)&&!ef(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(ee.fromString(e))},t.fromName=function(e){return new t(ee.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&ee.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return ee.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new ee(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gm(t)?4:10:yt()}function Fr(t,e){var n=xo(t);if(n!==xo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ca(t).isEqual(Ca(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Pi(i.timestampValue),a=Pi(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Fs(i.bytesValue).isEqual(Fs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=De(i.doubleValue),a=De(o.doubleValue);return u===a?ef(u)===ef(a):isNaN(u)&&isNaN(a)}return!1}(t,e);case 9:return Ls(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(L_(u)!==L_(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Fr(u[l],a[l])))return!1;return!0}(t,e);default:return yt()}}function Oa(t,e){return(t.values||[]).find(function(n){return Fr(n,e)})!==void 0}function Vs(t,e){var n=xo(t),i=xo(e);if(n!==i)return zt(n,i);switch(n){case 0:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(o,u){var a=De(o.integerValue||o.doubleValue),l=De(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return M_(t.timestampValue,e.timestampValue);case 4:return M_(Ca(t),Ca(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return function(o,u){var a=Fs(o),l=Fs(u);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=zt(a[f],l[f]);if(d!==0)return d}return zt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var a=zt(De(o.latitude),De(u.latitude));return a!==0?a:zt(De(o.longitude),De(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Vs(a[f],l[f]);if(d)return d}return zt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var g=0;g<l.length&&g<d.length;++g){var v=zt(l[g],d[g]);if(v!==0)return v;var y=Vs(a[l[g]],f[d[g]]);if(y!==0)return y}return zt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw yt()}}function M_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);var n=Pi(t),i=Pi(e),o=zt(n.seconds,i.seconds);return o!==0?o:zt(n.nanos,i.nanos)}function vm(t){return Gg(t)}function Gg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=Pi(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Fs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,bt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Gg(l[a]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Gg(i.fields[f])}return o+"}"}(t.mapValue):yt();var e,n}function nf(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Wg(t){return!!t&&"integerValue"in t}function mm(t){return!!t&&"arrayValue"in t}function F_(t){return!!t&&"nullValue"in t}function V_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ol(t){return!!t&&"mapValue"in t}function ca(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Lo(t.mapValue.fields,function(o,u){return e.mapValue.fields[o]=ca(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=ca(t.arrayValue.values[i]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,i=0;i<e.length-1;++i)if(!Ol(n=(n.mapValue.fields||{})[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ca(n)},t.prototype.setAll=function(e){var n=this,i=wr.emptyPath(),o={},u=[];e.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=ca(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());Ol(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Fr(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<e.length;++i){var o=n.mapValue.fields[e.get(i)];Ol(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,i){Lo(n,function(l,f){return e[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete e[a]}},t.prototype.clone=function(){return new t(ca(this.value))},t}();function FT(t){var e=[];return Lo(t.fields,function(n,i){var o=new wr([n]);if(Ol(i)){var u=FT(i.mapValue).fields;if(u.length===0)e.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];e.push(o.child(f))}}else e.push(o)}),new Ms(e)}var ln=function(){function t(e,n,i,o,u){this.key=e,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,$t.min(),zn.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,zn.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,zn.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),xL=function(t,e,n,i,o,u,a){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(t,e,n,i,o,u,a){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new xL(t,e,n,i,o,u,a)}function Ja(t){var e=ot(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+vm(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Mo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=of(e.startAt)),e.endAt&&(n+="|ub:",n+=of(e.endAt)),e.h=n}return e.h}function Yf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!FL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Fr(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B_(t.startAt,e.startAt)&&B_(t.endAt,e.endAt)}function rf(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Qn=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return Tt(e,t),e.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new CL(n,i,o):i==="array-contains"?new DL(n,o):i==="in"?new PL(n,o):i==="not-in"?new LL(n,o):i==="array-contains-any"?new ML(n,o):new e(n,i,o)},e.l=function(n,i,o){return i==="in"?new OL(n,o):new RL(n,o)},e.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Vs(i,this.value)):i!==null&&xo(this.value)===xo(i)&&this.m(Vs(i,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return yt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),CL=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=bt.fromName(o.referenceValue),u}return Tt(e,t),e.prototype.matches=function(n){var i=bt.comparator(n.key,this.key);return this.m(i)},e}(Qn),OL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=VT("in",i),o}return Tt(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(Qn),RL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=VT("not-in",i),o}return Tt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(Qn);function VT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return bt.fromName(i.referenceValue)})}var DL=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return mm(i)&&Oa(i.arrayValue,this.value)},e}(Qn),PL=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Oa(this.value.arrayValue,i)},e}(Qn),LL=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return Tt(e,t),e.prototype.matches=function(n){if(Oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Oa(this.value.arrayValue,i)},e}(Qn),ML=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!mm(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Oa(i.value.arrayValue,u)})},e}(Qn),Ra=function(t,e){this.position=t,this.before=e};function of(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return vm(e)}).join(",")}var ks=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function FL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function U_(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],a=t.position[o];if(i=u.field.isKeyField()?bt.comparator(bt.fromName(a.referenceValue),n.key):Vs(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function B_(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ni=function(t,e,n,i,o,u,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function jT(t,e,n,i,o,u,a,l){return new ni(t,e,n,i,o,u,a,l)}function Za(t){return new ni(t)}function Rl(t){return!Mo(t.limit)&&t.limitType==="F"}function sf(t){return!Mo(t.limit)&&t.limitType==="L"}function ym(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function wm(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function bm(t){return t.collectionGroup!==null}function js(t){var e=ot(t);if(e.p===null){e.p=[];var n=wm(e),i=ym(e);if(n!==null&&i===null)n.isKeyField()||e.p.push(new ks(n)),e.p.push(new ks(wr.keyField(),"asc"));else{for(var o=!1,u=0,a=e.explicitOrderBy;u<a.length;u++){var l=a[u];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ks(wr.keyField(),f))}}}return e.p}function Vr(t){var e=ot(t);if(!e.T)if(e.limitType==="F")e.T=j_(e.path,e.collectionGroup,js(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=js(e);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new ks(u.field,a))}var l=e.endAt?new Ra(e.endAt.position,!e.endAt.before):null,f=e.startAt?new Ra(e.startAt.position,!e.startAt.before):null;e.T=j_(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.T}function UT(t,e,n){return new ni(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tc(t,e){return Yf(Vr(t),Vr(e))&&t.limitType===e.limitType}function BT(t){return Ja(Vr(t))+"|lt:"+t.limitType}function Qg(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+vm(o.value);var o}).join(", ")+"]"),Mo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+of(e.startAt)),e.endAt&&(n+=", endAt: "+of(e.endAt)),"Target("+n+")"}(Vr(t))+"; limitType="+t.limitType+")"}function ec(t,e){return e.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):bt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!U_(n.startAt,js(n),i))&&(!n.endAt||!U_(n.endAt,js(n),i))}(t,e)}function qT(t){return function(e,n){for(var i=!1,o=0,u=js(t);o<u.length;o++){var a=u[o],l=VL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function VL(t,e,n){var i=t.field.isKeyField()?bt.comparator(e.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Vs(l,f):yt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function KT(t){return{integerValue:""+t}}function HT(t,e){return MT(e)?KT(e):$T(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xf=function(){this._=void 0};function jL(t,e,n){return t instanceof Us?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof Co?GT(t,e):t instanceof Oo?WT(t,e):function(i,o){var u=zT(i,o),a=q_(u)+q_(i.A);return Wg(u)&&Wg(i.A)?KT(a):$T(i.R,a)}(t,e)}function UL(t,e,n){return t instanceof Co?GT(t,e):t instanceof Oo?WT(t,e):n}function zT(t,e){return t instanceof Bs?Wg(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var Us=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e}(Xf),Co=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return Tt(e,t),e}(Xf);function GT(t,e){for(var n=QT(e),i=function(a){n.some(function(l){return Fr(l,a)})||n.push(a)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Oo=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return Tt(e,t),e}(Xf);function WT(t,e){for(var n=QT(e),i=function(a){n=n.filter(function(l){return!Fr(l,a)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Bs=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).R=n,o.A=i,o}return Tt(e,t),e}(Xf);function q_(t){return De(t.integerValue||t.doubleValue)}function QT(t){return mm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nc=function(t,e){this.field=t,this.transform=e},BL=function(t,e){this.version=t,this.transformResults=e},an=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Dl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Jf=function(){};function qL(t,e,n){t instanceof rc?function(i,o,u){var a=i.value.clone(),l=H_(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(i,o,u){if(Dl(i.precondition,o)){var a=H_(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(YT(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Yg(t,e,n){t instanceof rc?function(i,o,u){if(Dl(i.precondition,o)){var a=i.value.clone(),l=z_(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(K_(o),a).setHasLocalMutations()}}(t,e,n):t instanceof ji?function(i,o,u){if(Dl(i.precondition,o)){var a=z_(i.fieldTransforms,u,o),l=o.data;l.setAll(YT(i)),l.setAll(a),o.convertToFoundDocument(K_(o),l).setHasLocalMutations()}}(t,e,n):function(i,o){Dl(i.precondition,o)&&o.convertToNoDocument($t.min())}(t,e)}function $L(t,e){for(var n=null,i=0,o=t.fieldTransforms;i<o.length;i++){var u=o[i],a=e.data.field(u.field),l=zT(u.transform,a||null);l!=null&&(n==null&&(n=zn.empty()),n.set(u.field,l))}return n||null}function $_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ls(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Co&&d instanceof Co||f instanceof Oo&&d instanceof Oo?Ls(f.elements,d.elements,Fr):f instanceof Bs&&d instanceof Bs?Fr(f.A,d.A):f instanceof Us&&d instanceof Us}(a.transform,l.transform)}(o,u)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function K_(t){return t.isFoundDocument()?t.version:$t.min()}var rc=function(t){function e(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Tt(e,t),e}(Jf),ji=function(t){function e(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Tt(e,t),e}(Jf);function YT(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function H_(t,e,n){var i=new Map;Nt(t.length===n.length);for(var o=0;o<n.length;o++){var u=t[o],a=u.transform,l=e.data.field(u.field);i.set(u.field,UL(a,l,n[o]))}return i}function z_(t,e,n){for(var i=new Map,o=0,u=t;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,jL(l,f,e))}return i}var Re,Yt,ic=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Tt(e,t),e}(Jf),_m=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Tt(e,t),e}(Jf),KL=function(t){this.count=t};function XT(t){switch(t){case D.OK:return yt();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return yt()}}function JT(t){if(t===void 0)return Pe("GRPC error has no .code"),D.UNKNOWN;switch(t){case Re.OK:return D.OK;case Re.CANCELLED:return D.CANCELLED;case Re.UNKNOWN:return D.UNKNOWN;case Re.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Re.INTERNAL:return D.INTERNAL;case Re.UNAVAILABLE:return D.UNAVAILABLE;case Re.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Re.NOT_FOUND:return D.NOT_FOUND;case Re.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Re.ABORTED:return D.ABORTED;case Re.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Re.DATA_LOSS:return D.DATA_LOSS;default:return yt()}}(Yt=Re||(Re={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn=function(){function t(e,n){this.comparator=e,this.root=n||Ii.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ii.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new _l(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new _l(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new _l(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new _l(this.root,e,this.comparator,!0)},t}(),_l=function(){function t(e,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ii=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i??t.RED,this.left=o??t.EMPTY,this.right=u??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();var e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)},t}();Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw yt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.insert=function(e,n,i){return new Ii(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe=function(){function t(e){this.comparator=e,this.data=new fn(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new G_(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new G_(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),G_=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),HL=new fn(bt.comparator);function mr(){return HL}var zL=new fn(bt.comparator);function Xg(){return zL}var GL=new fn(bt.comparator);function WL(){return GL}var QL=new qe(bt.comparator);function fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=QL,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var YL=new qe(zt);function Zf(){return YL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Em=function(){function t(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,Im.createSynthesizedTargetChangeForCurrentChange(e,n)),new t($t.min(),i,Zf(),mr(),fe())},t}(),Im=function(){function t(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Pn.EMPTY_BYTE_STRING,n,fe(),fe(),fe())},t}(),Pl=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},ZT=function(t,e){this.targetId=t,this.V=e},tS=function(t,e,n,i){n===void 0&&(n=Pn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},W_=function(){function t(){this.S=0,this.D=Y_(),this.C=Pn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=fe(),n=fe(),i=fe();return this.D.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:yt()}}),new Im(this.C,this.N,e,n,i)},t.prototype.L=function(){this.k=!1,this.D=Y_()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),XL=function(){function t(e){this.W=e,this.G=new Map,this.H=mr(),this.J=Q_(),this.Y=new qe(zt)}return t.prototype.X=function(e){for(var n=0,i=e.v;n<i.length;n++){var o=i[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var u=0,a=e.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(i){var o=n.nt(i);switch(e.state){case 0:n.st(i)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(e.resumeToken));break;default:yt()}})},t.prototype.forEachTarget=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,i=e.V.count,o=this.ot(n);if(o){var u=o.target;if(rf(u))if(i===0){var a=new bt(u.path);this.tt(n,a,ln.newNoDocument(a,$t.min()))}else Nt(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&rf(f.target)){var d=new bt(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,ln.newNoDocument(d,e))}a.$&&(i.set(l,a.M()),a.L())}});var o=fe();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new Em(e,i,this.Y,this.H,o);return this.H=mr(),this.J=Q_(),this.Y=new qe(zt),u},t.prototype.Z=function(e,n){if(this.st(e)){var i=this.at(e,n.key)?2:0;this.nt(e).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,i){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),i&&(this.H=this.H.insert(n,i))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new W_,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new qe(zt),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new W_),this.W.getRemoteKeysForTarget(e).forEach(function(i){n.tt(e,i,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function Q_(){return new fn(bt.comparator)}function Y_(){return new fn(bt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var JL={asc:"ASCENDING",desc:"DESCENDING"},ZL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tM=function(t,e){this.databaseId=t,this.I=e};function Da(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function eS(t,e){return t.I?e.toBase64():e.toUint8Array()}function eM(t,e){return Da(t,e.toTimestamp())}function _n(t){return Nt(!!t),$t.fromTimestamp(function(e){var n=Pi(e);return new On(n.seconds,n.nanos)}(t))}function Tm(t,e){return function(n){return new ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function nS(t){var e=ee.fromString(t);return Nt(cS(e)),e}function Pa(t,e){return Tm(t.databaseId,e.path)}function Qr(t,e){var n=nS(e);if(n.get(1)!==t.databaseId.projectId)throw new W(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bt(iS(n))}function Jg(t,e){return Tm(t.databaseId,e)}function rS(t){var e=nS(t);return e.length===4?ee.emptyPath():iS(e)}function La(t){return new ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iS(t){return Nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function X_(t,e,n){return{name:Pa(t,e),fields:n.value.mapValue.fields}}function nM(t,e,n){var i=Qr(t,e.name),o=_n(e.updateTime),u=new zn({mapValue:{fields:e.fields}}),a=ln.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function uf(t,e){var n;if(e instanceof rc)n={update:X_(t,e.key,e.value)};else if(e instanceof ic)n={delete:Pa(t,e.key)};else if(e instanceof ji)n={update:X_(t,e.key,e.data),updateMask:uM(e.fieldMask)};else{if(!(e instanceof _m))return yt();n={verify:Pa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof Us)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Co)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bs)return{fieldPath:u.field.canonicalString(),increment:a.A};throw yt()}(0,i)})),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:eM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(t,e.precondition)),n}function J_(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?an.updateTime(_n(d.updateTime)):d.exists!==void 0?an.exists(d.exists):an.none()}(e.currentDocument):an.none(),i=e.updateTransforms?e.updateTransforms.map(function(d){return function(g,v){var y=null;if("setToServerValue"in v)Nt(v.setToServerValue==="REQUEST_TIME"),y=new Us;else if("appendMissingElements"in v){var b=v.appendMissingElements.values||[];y=new Co(b)}else if("removeAllFromArray"in v){var _=v.removeAllFromArray.values||[];y=new Oo(_)}else"increment"in v?y=new Bs(g,v.increment):yt();var S=wr.fromServerFormat(v.fieldPath);return new nc(S,y)}(t,d)}):[];if(e.update){e.update.name;var o=Qr(t,e.update.name),u=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var g=d.fieldPaths||[];return new Ms(g.map(function(v){return wr.fromServerFormat(v)}))}(e.updateMask);return new ji(o,u,a,n,i)}return new rc(o,u,n,i)}if(e.delete){var l=Qr(t,e.delete);return new ic(l,n)}if(e.verify){var f=Qr(t,e.verify);return new _m(f,n)}return yt()}function oS(t,e){return{documents:[Jg(t,e.path)]}}function sS(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Jg(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Jg(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(g){if(g.op==="=="){if(V_(g.value))return{unaryFilter:{field:ds(g.field),op:"IS_NAN"}};if(F_(g.value))return{unaryFilter:{field:ds(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(V_(g.value))return{unaryFilter:{field:ds(g.field),op:"IS_NOT_NAN"}};if(F_(g.value))return{unaryFilter:{field:ds(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(g.field),op:iM(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:ds(d.field),direction:rM(d.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Mo(f)?f:{value:f}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Z_(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Z_(e.endAt)),n}function uS(t){var e=rS(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Nt(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var a=[];n.where&&(a=aS(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(y){return new ks(Is(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v)}));var f=null;n.limit&&(f=function(v){var y;return Mo(y=typeof v=="object"?v.value:v)?null:y}(n.limit));var d=null;n.startAt&&(d=tE(n.startAt));var g=null;return n.endAt&&(g=tE(n.endAt)),jT(e,o,l,a,f,"F",d,g)}function aS(t){return t?t.unaryFilter!==void 0?[sM(t)]:t.fieldFilter!==void 0?[oM(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return aS(e)}).reduce(function(e,n){return e.concat(n)}):yt():[]}function Z_(t){return{before:t.before,values:t.position}}function tE(t){var e=!!t.before,n=t.values||[];return new Ra(n,e)}function rM(t){return JL[t]}function iM(t){return ZL[t]}function ds(t){return{fieldPath:t.canonicalString()}}function Is(t){return wr.fromServerFormat(t.fieldPath)}function oM(t){return Qn.create(Is(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value)}function sM(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Is(t.unaryFilter.field);return Qn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Is(t.unaryFilter.field);return Qn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Is(t.unaryFilter.field);return Qn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Is(t.unaryFilter.field);return Qn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return yt()}}function uM(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function cS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=eE(e)),e=aM(t.get(n),e);return eE(e)}function aM(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function eE(t){return t+""}function Gr(t){var e=t.length;if(Nt(e>=2),e===2)return Nt(t.charAt(0)===""&&t.charAt(1)===""),ee.emptyPath();for(var n=e-2,i=[],o="",u=0;u<e;){var a=t.indexOf("",u);switch((a<0||a>n)&&yt(),t.charAt(a+1)){case"":var l=t.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,a),o+="\0";break;case"":o+=t.substring(u,a+1);break;default:yt()}u=a+2}return new ee(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cM=function(t,e){this.seconds=t,this.nanoseconds=e},$n=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};$n.store="owner",$n.key="owner";var Oi=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Oi.store="mutationQueues",Oi.keyPath="userId";var pe=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};pe.store="mutations",pe.keyPath="batchId",pe.userMutationsIndex="userMutationsIndex",pe.userMutationsKeyPath=["userId","batchId"];var on=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,yr(n)]},t.key=function(e,n,i){return[e,yr(n),i]},t}();on.store="documentMutations",on.PLACEHOLDER=new on;var lM=function(t,e){this.path=t,this.readTime=e},fM=function(t,e){this.path=t,this.version=e},Se=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Se.store="remoteDocuments",Se.readTimeIndex="readTimeIndex",Se.readTimeIndexPath="readTime",Se.collectionReadTimeIndex="collectionReadTimeIndex",Se.collectionReadTimeIndexPath=["parentPath","readTime"];var Dr=function(t){this.byteSize=t};Dr.store="remoteDocumentGlobal",Dr.key="remoteDocumentGlobalKey";var Cn=function(t,e,n,i,o,u,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Cn.store="targets",Cn.keyPath="targetId",Cn.queryTargetsIndexName="queryTargetsIndex",Cn.queryTargetsKeyPath=["canonicalId","targetId"];var Xe=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Xe.store="targetDocuments",Xe.keyPath=["targetId","path"],Xe.documentTargetsIndex="documentTargetsIndex",Xe.documentTargetsKeyPath=["path","targetId"];var Kn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Kn.key="targetGlobalKey",Kn.store="targetGlobal";var Eo=function(t,e){this.collectionId=t,this.parent=e};Eo.store="collectionParents",Eo.keyPath=["collectionId","parent"];var Yr=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Yr.store="clientMetadata",Yr.keyPath="clientId";var qs=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};qs.store="bundles",qs.keyPath="bundleId";var $s=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};$s.store="namedQueries",$s.keyPath="name";var hM=Ae(Ae([],Ae(Ae([],Ae(Ae([],Ae(Ae([],[Oi.store,pe.store,on.store,Se.store,Cn.store,$n.store,Kn.store,Xe.store]),[Yr.store])),[Dr.store])),[Eo.store])),[qs.store,$s.store]),lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",fS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Ln=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},J=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,u){i.nextCallback=function(a){i.wrapSuccess(e,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.waitFor=function(e){return new t(function(n,i){var o=0,u=0,a=!1;e.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),i=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},t}(),hS=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Ln,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new la(e,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=Sm(o.target.error);i.ft.reject(new la(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new la(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new pM(n)},t}(),Ks=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,t._t(Ao())===12.2&&Pe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return et("SimpleDb","Removing database:",e),go(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=Ao(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(et("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new la(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new W(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new la(e,d))},l.onupgradeneeded=function(f){et("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){et("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return H(this,void 0,void 0,function(){var u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:u=n==="readonly",a=0,l=function(){var v,y,b,_,S;return $(this,function(N){switch(N.label){case 0:++a,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,f.At(e)];case 2:return f.db=N.sent(),v=hS.open(f.db,e,u?"readonly":"readwrite",i),y=o(v).catch(function(O){return v.abort(O),J.reject(O)}).toPromise(),b={},y.catch(function(){}),[4,v.dt];case 3:return[2,(b.value=(N.sent(),y),b)];case 4:return _=N.sent(),S=_.name!=="FirebaseError"&&a<3,et("SimpleDb","Transaction failed with error:",_.message,"Retrying:",S),f.close(),S?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),dM=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return go(this.Pt.delete())},t}(),la=function(t){function e(n,i){var o=this;return(o=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Tt(e,t),e}(W);function Fo(t){return t.name==="IndexedDbTransactionError"}var pM=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(et("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),go(i)},t.prototype.add=function(e){return et("SimpleDb","ADD",this.store.name,e,e),go(this.store.add(e))},t.prototype.get=function(e){var n=this;return go(this.store.get(e)).next(function(i){return i===void 0&&(i=null),et("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return et("SimpleDb","DELETE",this.store.name,e),go(this.store.delete(e))},t.prototype.count=function(){return et("SimpleDb","COUNT",this.store.name),go(this.store.count())},t.prototype.Nt=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},t.prototype.kt=function(e,n){et("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},t.prototype.$t=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new J(function(i,o){n.onerror=function(u){var a=Sm(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},t.prototype.xt=function(e,n){var i=[];return new J(function(o,u){e.onerror=function(a){u(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var f=new dM(l),d=n(l.primaryKey,l.value,f);if(d instanceof J){var g=d.catch(function(v){return f.done(),J.reject(v)});i.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return J.waitFor(i)})},t.prototype.options=function(e,n){var i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.Ft?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function go(t){return new J(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=Sm(i.target.error);n(o)}})}var nE=!1;function Sm(t){var e=Ks._t(Ao());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new W("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nE||(nE=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rE=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Tt(e,t),e}(fS);function Mn(t,e){var n=ot(t);return Ks.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Am=function(){function t(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(e.key)&&qL(u,e,i[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(e.key)&&Yg(a,e,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(e.key)&&Yg(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(i){var o=e.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument($t.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},fe())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ls(this.mutations,e.mutations,function(n,i){return $_(n,i)})&&Ls(this.baseMutations,e.baseMutations,function(n,i){return $_(n,i)})},t}(),gM=function(){function t(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return t.from=function(e,n,i){Nt(e.mutations.length===i.length);for(var o=WL(),u=e.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new t(e,n,i,o)},t}(),th=function(){function t(e,n,i,o,u,a,l){u===void 0&&(u=$t.min()),a===void 0&&(a=$t.min()),l===void 0&&(l=Pn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),dS=function(t){this.Lt=t};function Zg(t,e){if(e.document)return nM(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bt.fromSegments(e.noDocument.path),i=zs(e.noDocument.readTime),o=ln.newNoDocument(n,i);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var u=bt.fromSegments(e.unknownDocument.path);return i=zs(e.unknownDocument.version),ln.newUnknownDocument(u,i)}return yt()}function iE(t,e,n){var i=Nm(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u=function(v,y){return{name:Pa(v,y.key),fields:y.data.value.mapValue.fields,updateTime:Da(v,y.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Se(null,null,u,a,i,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),f=Hs(e.version);return a=e.hasCommittedMutations,new Se(null,new lM(l,f),null,a,i,o)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),g=Hs(e.version);return new Se(new fM(d,g),null,null,!0,i,o)}return yt()}function Nm(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pS(t){var e=new On(t[0],t[1]);return $t.fromTimestamp(e)}function Hs(t){var e=t.toTimestamp();return new cM(e.seconds,e.nanoseconds)}function zs(t){var e=new On(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)}function ms(t,e){for(var n=(e.baseMutations||[]).map(function(f){return J_(t.Lt,f)}),i=0;i<e.mutations.length-1;++i){var o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){var u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map(function(f){return J_(t.Lt,f)}),l=On.fromMillis(e.localWriteTimeMs);return new Am(e.batchId,l,n,a)}function na(t){var e,n,i=zs(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?zs(t.lastLimboFreeSnapshotVersion):$t.min();return t.query.documents!==void 0?(Nt((n=t.query).documents.length===1),e=Vr(Za(rS(n.documents[0])))):e=function(u){return Vr(uS(u))}(t.query),new th(e,t.targetId,0,t.lastListenSequenceNumber,i,o,Pn.fromBase64String(t.resumeToken))}function gS(t,e){var n,i=Hs(e.snapshotVersion),o=Hs(e.lastLimboFreeSnapshotVersion);n=rf(e.target)?oS(t.Lt,e.target):sS(t.Lt,e.target);var u=e.resumeToken.toBase64();return new Cn(e.targetId,Ja(e.target),i,u,e.sequenceNumber,o,n)}function vS(t){var e=uS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?UT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vM=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return oE(e).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:zs(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return oE(e).put({bundleId:(i=n).id,createTime:Hs(_n(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(e,n){return sE(e).get(n).next(function(i){if(i)return{name:(o=i).name,query:vS(o.bundledQuery),readTime:zs(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return sE(e).put(function(i){return{name:i.name,readTime:Hs(_n(i.readTime)),bundledQuery:i.bundledQuery}}(n))},t}();function oE(t){return Mn(t,qs.store)}function sE(t){return Mn(t,$s.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mM=function(){function t(){this.Bt=new km}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),J.resolve()},t.prototype.getCollectionParents=function(e,n){return J.resolve(this.Bt.getEntries(n))},t}(),km=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new qe(ee.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new qe(ee.comparator)).toArray()},t}(),yM=function(){function t(){this.qt=new km}return t.prototype.addToCollectionParentIndex=function(e,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:yr(u)};return uE(e).put(a)}return J.resolve()},t.prototype.getCollectionParents=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[RT(n),""],!1,!0);return uE(e).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(Gr(f.parent))}return i})},t}();function uE(t){return Mn(t,Eo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xr=function(){function t(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e,n){var i=t.store(pe.store),o=t.store(on.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,S,N){return l++,N.delete()});u.push(f.next(function(){Nt(l===1)}));for(var d=[],g=0,v=n.mutations;g<v.length;g++){var y=v[g],b=on.key(e,y.key.path,n.batchId);u.push(o.delete(b)),d.push(y.key)}return J.waitFor(u).next(function(){return d})}function af(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw yt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr.DEFAULT_COLLECTION_PERCENTILE=10,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xr.DEFAULT=new xr(41943040,xr.DEFAULT_COLLECTION_PERCENTILE,xr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xr.DISABLED=new xr(-1,0,0);var wM=function(){function t(e,n,i,o){this.userId=e,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,i,o){return Nt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,i,o)},t.prototype.checkEmpty=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gi(e).$t({index:pe.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,i,o){var u=this,a=ys(e),l=gi(e);return l.add({}).next(function(f){Nt(typeof f=="number");for(var d=new Am(f,n,i,o),g=function(O,P,j){var q=j.baseMutations.map(function(V){return uf(O.Lt,V)}),rt=j.mutations.map(function(V){return uf(O.Lt,V)});return new pe(P,j.batchId,j.localWriteTime.toMillis(),q,rt)}(u.R,u.userId,d),v=[],y=new qe(function(O,P){return zt(O.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var S=_[b],N=on.key(u.userId,S.key.path,f);y=y.add(S.key.path.popLast()),v.push(l.put(g)),v.push(a.put(N,on.PLACEHOLDER))}return y.forEach(function(O){v.push(u.Ut.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),J.waitFor(v).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var i=this;return gi(e).get(n).next(function(o){return o?(Nt(o.userId===i.userId),ms(i.R,o)):null})},t.prototype.jt=function(e,n){var i=this;return this.Kt[n]?J.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return gi(e).$t({index:pe.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Nt(f.batchId>=o),a=ms(i.R,f)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return gi(e).$t({index:pe.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gi(e).Nt(pe.userMutationsIndex,i).next(function(o){return o.map(function(u){return ms(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=on.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return ys(e).$t({range:u},function(l,f,d){var g=l[0],v=l[1],y=l[2],b=Gr(v);if(g===i.userId&&n.path.isEqual(b))return gi(e).get(y).next(function(_){if(!_)throw yt();Nt(_.userId===i.userId),a.push(ms(i.R,_))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new qe(zt),u=[];return n.forEach(function(a){var l=on.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=ys(e).$t({range:f},function(g,v,y){var b=g[0],_=g[1],S=g[2],N=Gr(_);b===i.userId&&a.path.isEqual(N)?o=o.add(S):y.done()});u.push(d)}),J.waitFor(u).next(function(){return i.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=this,o=n.path,u=o.length+1,a=on.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new qe(zt);return ys(e).$t({range:l},function(d,g,v){var y=d[0],b=d[1],_=d[2],S=Gr(b);y===i.userId&&o.isPrefixOf(S)?S.length===u&&(f=f.add(_)):v.done()}).next(function(){return i.Wt(e,f)})},t.prototype.Wt=function(e,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(gi(e).get(a).next(function(l){if(l===null)throw yt();Nt(l.userId===i.userId),o.push(ms(i.R,l))}))}),J.waitFor(u).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var i=this;return mS(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){i.Gt(n.batchId)}),J.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(i){if(!i)return J.resolve();var o=IDBKeyRange.lowerBound(on.prefixForUser(n.userId)),u=[];return ys(e).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=Gr(a[1]);u.push(d)}else f.done()}).next(function(){Nt(u.length===0)})})},t.prototype.containsKey=function(e,n){return yS(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return wS(e).get(this.userId).next(function(i){return i||new Oi(n.userId,-1,"")})},t}();function yS(t,e,n){var i=on.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return ys(t).$t({range:u,Ft:!0},function(l,f,d){var g=l[0],v=l[1];l[2],g===e&&v===o&&(a=!0),d.done()}).next(function(){return a})}function gi(t){return Mn(t,pe.store)}function ys(t){return Mn(t,on.store)}function wS(t){return Mn(t,Oi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cf=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),bM=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(i){var o=new cf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(e,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return $t.fromTimestamp(new On(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,i){var o=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var i=this;return this.te(e,n).next(function(){return i.Xt(e).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var i=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return ps(e).delete(n.targetId)}).next(function(){return i.Xt(e)}).next(function(o){return Nt(o.targetCount>0),o.targetCount-=1,i.Zt(e,o)})},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return ps(e).$t(function(l,f){var d=na(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(e,d)))}).next(function(){return J.waitFor(a)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return ps(e).$t(function(i,o){var u=na(o);n(u)})},t.prototype.Xt=function(e){return cE(e).get(Kn.key).next(function(n){return Nt(n!==null),n})},t.prototype.Zt=function(e,n){return cE(e).put(Kn.key,n)},t.prototype.te=function(e,n){return ps(e).put(gS(this.R,n))},t.prototype.ee=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var i=Ja(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return ps(e).$t({range:o,index:Cn.queryTargetsIndexName},function(a,l,f){var d=na(l);Yf(n,d.target)&&(u=d,f.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,i){var o=this,u=[],a=Ti(e);return n.forEach(function(l){var f=yr(l.path);u.push(a.put(new Xe(i,f))),u.push(o.referenceDelegate.addReference(e,i,l))}),J.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,i){var o=this,u=Ti(e);return J.forEach(n,function(a){var l=yr(a.path);return J.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(e,i,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var i=Ti(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Ti(e),u=fe();return o.$t({range:i,Ft:!0},function(a,l,f){var d=Gr(a[1]),g=new bt(d);u=u.add(g)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var i=yr(n.path),o=IDBKeyRange.bound([i],[RT(i)],!1,!0),u=0;return Ti(e).$t({index:Xe.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return ps(e).get(n).next(function(i){return i?na(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){return Mn(t,Cn.store)}function cE(t){return Mn(t,Kn.store)}function Ti(t){return Mn(t,Xe.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){return H(this,void 0,void 0,function(){return $(this,function(e){if(t.code!==D.FAILED_PRECONDITION||t.message!==lS)throw t;return et("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],a=zt(n,o);return a===0?zt(i,u):a}var _M=function(){function t(e){this.ne=e,this.buffer=new qe(lE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();lE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),EM=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,i=this.oe?3e5:6e4;et("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Fo(o=u.sent())?(et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Vo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),IM=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.nthSequenceNumber=function(e,n){var i=this;if(n===0)return J.resolve(Wn.o);var o=new _M(n);return this.ae.forEachTarget(e,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(e,function(u){return o.re(u)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,i){return this.ae.removeTargets(e,n,i)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(aE)):this.getCacheSize(e).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),aE):i.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var i,o,u,a,l,f,d,g=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(y){return y>g.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+y),o=g.params.maximumSequenceNumbersToCollect):o=y,a=Date.now(),g.nthSequenceNumber(e,o)}).next(function(y){return i=y,l=Date.now(),g.removeTargets(e,i,n)}).next(function(y){return u=y,f=Date.now(),g.removeOrphanedDocuments(e,i)}).next(function(y){return d=Date.now(),zg()<=te.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+y+" documents in "+(d-f)+`ms
Total Duration: `+(d-v)+"ms"),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:y})})},t}(),TM=function(){function t(e,n){this.db=e,this.garbageCollector=function(i,o){return new IM(i,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(i){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(i,o){return n(o)})},t.prototype.addReference=function(e,n,i){return El(e,i)},t.prototype.removeReference=function(e,n,i){return El(e,i)},t.prototype.removeTargets=function(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)},t.prototype.markPotentiallyOrphaned=function(e,n){return El(e,n)},t.prototype._e=function(e,n){return function(i,o){var u=!1;return wS(i).Ot(function(a){return yS(i,a,o).next(function(l){return l&&(u=!0),J.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(e,function(l,f){if(f<=n){var d=i._e(e,l).next(function(g){if(!g)return a++,o.getEntry(e,l).next(function(){return o.removeEntry(l),Ti(e).delete([0,yr(l.path)])})});u.push(d)}}).next(function(){return J.waitFor(u)}).next(function(){return o.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},t.prototype.updateLimboDocument=function(e,n){return El(e,n)},t.prototype.we=function(e,n){var i,o=Ti(e),u=Wn.o;return o.$t({index:Xe.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,g=l.sequenceNumber;f===0?(u!==Wn.o&&n(new bt(Gr(i)),u),u=g,i=d):u=Wn.o}).next(function(){u!==Wn.o&&n(new bt(Gr(i)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function El(t,e){return Ti(t).put(function(n,i){return new Xe(0,yr(n.path),i)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ou=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.inner[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){Lo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];e(l,f)}})},t.prototype.isEmpty=function(){return DT(this.inner)},t}(),bS=function(){function t(){this.changes=new ou(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:$t.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:ln.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?J.resolve(i.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),SM=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,i){return bi(e).put(Il(n),i)},t.prototype.removeEntry=function(e,n){var i=bi(e),o=Il(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.me(e,o)})},t.prototype.getEntry=function(e,n){var i=this;return bi(e).get(Il(n)).next(function(o){return i.ye(n,o)})},t.prototype.ge=function(e,n){var i=this;return bi(e).get(Il(n)).next(function(o){return{document:i.ye(n,o),size:af(o)}})},t.prototype.getEntries=function(e,n){var i=this,o=mr();return this.pe(e,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var i=this,o=mr(),u=new fn(bt.comparator);return this.pe(e,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,af(l))}).next(function(){return{documents:o,Te:u}})},t.prototype.pe=function(e,n,i){if(n.isEmpty())return J.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return bi(e).$t({range:o},function(l,f,d){for(var g=bt.fromSegments(l);a&&bt.comparator(a,g)<0;)i(a,null),a=u.getNext();a&&a.isEqual(g)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){var o=this,u=mr(),a=n.path.length+1,l={};if(i.isEqual($t.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=Nm(i);l.range=IDBKeyRange.lowerBound([d,g],!0),l.index=Se.collectionReadTimeIndex}return bi(e).$t(l,function(v,y,b){if(v.length===a){var _=Zg(o.R,y);n.path.isPrefixOf(_.key.path)?ec(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new AM(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return fE(e).get(Dr.key).next(function(n){return Nt(!!n),n})},t.prototype.me=function(e,n){return fE(e).put(Dr.key,n)},t.prototype.ye=function(e,n){if(n){var i=Zg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual($t.min()))return i}return ln.newInvalidDocument(e)},t}(),AM=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new ou(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Tt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new qe(function(l,f){return zt(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var g=iE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var v=af(g);u+=v-d,o.push(i.Ie.addEntry(n,l,g))}else if(u-=d,i.trackRemovals){var y=iE(i.Ie.R,ln.newNoDocument(l,$t.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,y))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),J.waitFor(o)},e.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},e.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},e}(bS);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){return Mn(t,Dr.store)}function bi(t){return Mn(t,Se.store)}function Il(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NM=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,i,o){var u=this;Nt(i<o&&i>=0&&o<=11);var a=new hS("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore($n.store)}(e),function(f){f.createObjectStore(Oi.store,{keyPath:Oi.keyPath}),f.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0}),f.createObjectStore(on.store)}(e),hE(e),function(f){f.createObjectStore(Se.store)}(e));var l=J.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Xe.store),f.deleteObjectStore(Cn.store),f.deleteObjectStore(Kn.store)}(e),hE(e)),l=l.next(function(){return function(f){var d=f.store(Kn.store),g=new Kn(0,0,$t.min().toTimestamp(),0);return d.put(Kn.key,g)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(pe.store).Nt().next(function(g){f.deleteObjectStore(pe.store),f.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0});var v=d.store(pe.store),y=g.map(function(b){return v.put(b)});return J.waitFor(y)})}(e,a)})),l=l.next(function(){(function(f){f.createObjectStore(Yr.store,{keyPath:Yr.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Dr.store)}(e),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(e,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var d=f.objectStore(Se.store);d.createIndex(Se.readTimeIndex,Se.readTimeIndexPath,{unique:!1}),d.createIndex(Se.collectionReadTimeIndex,Se.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(qs.store,{keyPath:qs.keyPath})})(e),function(f){f.createObjectStore($s.store,{keyPath:$s.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(Se.store).$t(function(i,o){n+=af(o)}).next(function(){var i=new Dr(n);return e.store(Dr.store).put(Dr.key,i)})},t.prototype.Re=function(e){var n=this,i=e.store(Oi.store),o=e.store(pe.store);return i.Nt().next(function(u){return J.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(pe.userMutationsIndex,l).next(function(f){return J.forEach(f,function(d){Nt(d.userId===a.userId);var g=ms(n.R,d);return mS(e,a.userId,g).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Xe.store),i=e.store(Se.store);return e.store(Kn.store).get(Kn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new ee(a),d=function(g){return[0,yr(g)]}(f);u.push(n.get(d).next(function(g){return g?J.resolve():function(v){return n.put(new Xe(0,yr(v),o.highestListenSequenceNumber))}(f)}))}).next(function(){return J.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(Eo.store,{keyPath:Eo.keyPath});var i=n.store(Eo.store),o=new km,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:yr(f)})}};return n.store(Se.store).$t({Ft:!0},function(a,l){var f=new ee(a);return u(f.popLast())}).next(function(){return n.store(on.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=Gr(f);return u(d.popLast())})})},t.prototype.Ve=function(e){var n=this,i=e.store(Cn.store);return i.$t(function(o,u){var a=na(u),l=gS(n.R,a);return i.put(l)})},t}();function hE(t){t.createObjectStore(Xe.store,{keyPath:Xe.keyPath}).createIndex(Xe.documentTargetsIndex,Xe.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Cn.store,{keyPath:Cn.keyPath}).createIndex(Cn.queryTargetsIndexName,Cn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Kn.store)}var ug="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",kM=function(){function t(e,n,i,o,u,a,l,f,d,g){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!t.yt())throw new W(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TM(this,o),this.Le=n+"main",this.R=new dS(f),this.Be=new Ks(this.Le,11,new NM(this.R)),this.qe=new bM(this.referenceDelegate,this.R),this.Ut=new yM,this.Ue=function(v,y){return new SM(v,y)}(this.R,this.Ut),this.Ke=new vM,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Pe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new W(D.FAILED_PRECONDITION,ug);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Wn(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Tl(n).put(new Yr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(i){i||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(i){return e.isPrimary&&!i?e.Xe(n).next(function(){return!1}):!!i&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Fo(n))return et("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Qu(e).get($n.key).next(function(i){return J.resolve(n.tn(i))})},t.prototype.en=function(e){return Tl(e).delete(this.clientId)},t.prototype.nn=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Mn(l,Yr.store);return f.Nt().next(function(d){var g=u.rn(d,18e5),v=d.filter(function(y){return g.indexOf(y)===-1});return J.forEach(v,function(y){return f.delete(y.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,i=e;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?J.resolve(!0):Qu(e).get($n.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new W(D.FAILED_PRECONDITION,ug);return!1}}return!(!n.networkEnabled||!n.inForeground)||Tl(e).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&et("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var e=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[$n.store,Yr.store],function(i){var o=new rE(i,Wn.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var i=this;return e.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Tl(n).Nt().next(function(i){return e.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return wM.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;et("IndexedDbPersistence","Starting transaction:",e);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,hM,function(l){return u=new rE(l,o.Ne?o.Ne.next():Wn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Pe("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new W(D.FAILED_PRECONDITION,lS);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return Qu(e).get($n.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new W(D.FAILED_PRECONDITION,ug)})},t.prototype.Ze=function(e){var n=new $n(this.clientId,this.allowTabSynchronization,Date.now());return Qu(e).put($n.key,n)},t.yt=function(){return Ks.yt()},t.prototype.Xe=function(e){var n=this,i=Qu(e);return i.get($n.key).next(function(o){return n.tn(o)?(et("IndexedDbPersistence","Releasing primary lease."),i.delete($n.key)):J.resolve()})},t.prototype.sn=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(Pe("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),PD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return et("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Pe("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Pe("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Qu(t){return Mn(t,$n.store)}function Tl(t){return Mn(t,Yr.store)}function xm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _S=function(){function t(e,n,i){this.Ue=e,this._n=n,this.Ut=i}return t.prototype.mn=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return i.yn(e,n,o)})},t.prototype.yn=function(e,n,i){return this.Ue.getEntry(e,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},t.prototype.pn=function(e,n){var i=this;return this.Ue.getEntries(e,n).next(function(o){return i.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return i.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){return function(o){return bt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):bm(n)?this.In(e,n,i):this.An(e,n,i)},t.prototype.Tn=function(e,n){return this.mn(e,new bt(n)).next(function(i){var o=Xg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(e,n,i){var o=this,u=n.collectionGroup,a=Xg();return this.Ut.getCollectionParents(e,u).next(function(l){return J.forEach(l,function(f){var d=function(g,v){return new ni(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(u));return o.An(e,d,i).next(function(g){g.forEach(function(v,y){a=a.insert(v,y)})})}).next(function(){return a})})},t.prototype.An=function(e,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return u=l,a.Rn(e,u,o).next(function(f){o=f;for(var d=0,g=u;d<g.length;d++)for(var v=g[d],y=0,b=v.mutations;y<b.length;y++){var _=b[y],S=_.key,N=o.get(S);N==null&&(N=ln.newInvalidDocument(S),o=o.insert(S,N)),Yg(_,N,v.localWriteTime),N.isFoundDocument()||(o=o.remove(S))}})}).next(function(){return o.forEach(function(l,f){ec(n,f)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,i){for(var o=fe(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof ji&&i.get(d.key)===null&&(o=o.add(d.key))}var g=i;return this.Ue.getEntries(e,o).next(function(v){return v.forEach(function(y,b){b.isFoundDocument()&&(g=g.insert(y,b))}),g})},t}(),xM=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.bn=i,this.vn=o}return t.Pn=function(e,n){for(var i=fe(),o=fe(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}(),ES=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual($t.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(a){var l=u.Cn(n,a);return(Rl(n)||sf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(e,n):(zg()<=te.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Qg(n)),u.Sn.getDocumentsMatchingQuery(e,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},t.prototype.Cn=function(e,n){var i=new qe(qT(e));return n.forEach(function(o,u){ec(e,u)&&(i=i.add(u))}),i},t.prototype.Nn=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return zg()<=te.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Qg(n)),this.Sn.getDocumentsMatchingQuery(e,n,$t.min())},t}(),CM=function(){function t(e,n,i,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new fn(zt),this.Fn=new ou(function(u){return Ja(u)},Yf),this.$n=$t.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new _S(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e,n,i){return new CM(t,e,n,i)}function TS(t,e){return H(this,void 0,void 0,function(){var n,i,o,u;return $(this,function(a){switch(a.label){case 0:return n=ot(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(e),o=new _S(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var g=[],v=[],y=fe(),b=0,_=f;b<_.length;b++){var S=_[b];g.push(S.batchId);for(var N=0,O=S.mutations;N<O.length;N++){var P=O[N];y=y.add(P.key)}}for(var j=0,q=d;j<q.length;j++){var rt=q[j];v.push(rt.batchId);for(var V=0,It=rt.mutations;V<It.length;V++){var Q=It[V];y=y.add(Q.key)}}return o.pn(l,y).next(function(ht){return{Ln:ht,removedBatchIds:g,addedBatchIds:v}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function OM(t,e){var n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var g=f.batch,v=g.keys(),y=J.resolve();return v.forEach(function(b){y=y.next(function(){return d.getEntry(l,b)}).next(function(_){var S=f.docVersions.get(b);Nt(S!==null),_.version.compareTo(S)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),y.next(function(){return a._n.removeMutationBatch(l,g)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function SS(t){var e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function RM(t,e){var n=ot(t),i=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(g,v){var y=o.get(v);if(y){l.push(n.qe.removeMatchingKeys(u,g.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(u,g.addedDocuments,v)}));var b=g.resumeToken;if(b.approximateByteSize()>0){var _=y.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(v,_),function(S,N,O){return Nt(N.resumeToken.approximateByteSize()>0),S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,_,g)&&l.push(n.qe.updateTargetData(u,_))}}});var f=mr();if(e.documentUpdates.forEach(function(g,v){e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,g))}),l.push(DM(u,a,e.documentUpdates,i,void 0).next(function(g){f=g})),!i.isEqual($t.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(g){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return J.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function DM(t,e,n,i,o){var u=fe();return n.forEach(function(a){return u=u.add(a)}),e.getEntries(t,u).next(function(a){var l=mr();return n.forEach(function(f,d){var g=a.get(f),v=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual($t.min())?(e.removeEntry(f,v),l=l.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d,v),l=l.insert(f,d)):et("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),l})}function PM(t,e){var n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(i,e)})}function lf(t,e){var n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,e).next(function(u){return u?(o=u,J.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new th(e,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(e,i.targetId)),i})}function Gs(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=ot(t),o=i.kn.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Fo(a=l.sent()))throw a;return et("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function ff(t,e,n){var i=ot(t),o=$t.min(),u=fe();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var g=ot(l),v=g.Fn.get(d);return v!==void 0?J.resolve(g.kn.get(v)):g.qe.getTargetData(f,d)}(i,a,Vr(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,e,n?o:$t.min(),n?u:fe())}).next(function(l){return{documents:l,Bn:u}})})}function AS(t,e){var n=ot(t),i=ot(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,e).next(function(a){return a?a.target:null})})}function NS(t){var e=ot(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ot(i),l=mr(),f=Nm(u),d=bi(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Se.readTimeIndex,range:g},function(v,y){var b=Zg(a.R,y);l=l.insert(b.key,b),f=y.readTime}).next(function(){return{wn:l,readTime:pS(f)}})}(e.On,n,e.$n)}).then(function(n){var i=n.wn,o=n.readTime;return e.$n=o,i})}function LM(t){return H(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,(e=ot(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=bi(o),a=$t.min();return u.$t({index:Se.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=pS(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){e.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MM=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return J.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:_n(i.createTime)}),J.resolve()},t.prototype.getNamedQuery=function(e,n){return J.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(i){return{name:i.name,query:vS(i.bundledQuery),readTime:_n(i.readTime)}}(n)),J.resolve()},t}(),Cm=function(){function t(){this.Wn=new qe(Ke.Gn),this.zn=new qe(Ke.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var i=new Ke(e,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(e,n){var i=this;e.forEach(function(o){return i.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Ke(e,n))},t.prototype.Xn=function(e,n){var i=this;e.forEach(function(o){return i.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,i=new bt(new ee([])),o=new Ke(i,e),u=new Ke(i,e+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new bt(new ee([])),i=new Ke(n,e),o=new Ke(n,e+1),u=fe();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},t.prototype.containsKey=function(e){var n=new Ke(e,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)},t}(),Ke=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return bt.comparator(e.key,n.key)||zt(e.ns,n.ns)},t.Hn=function(e,n){return zt(e.ns,n.ns)||bt.comparator(e.key,n.key)},t}(),FM=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new qe(Ke.Gn)}return t.prototype.checkEmpty=function(e){return J.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Am(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Ke(d.key,u)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return J.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return J.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return J.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return J.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return J.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=new Ke(n,0),u=new Ke(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),J.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new qe(zt);return n.forEach(function(u){var a=new Ke(u,0),l=new Ke(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),J.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=n.path,o=i.length+1,u=i;bt.isDocumentKey(u)||(u=u.child(""));var a=new Ke(new bt(u),0),l=new qe(zt);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),J.resolve(this.us(l))},t.prototype.us=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},t.prototype.removeMutationBatch=function(e,n){var i=this;Nt(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return J.forEach(n.mutations,function(u){var a=new Ke(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var i=new Ke(n,0),o=this.rs.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,J.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),VM=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new fn(bt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var i=this.docs.get(n);return J.resolve(i?i.document.clone():ln.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var i=this,o=mr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():ln.newInvalidDocument(u))}),J.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,i){for(var o=mr(),u=new bt(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,g=d.document,v=d.readTime;if(!n.path.isPrefixOf(f.path))break;v.compareTo(i)<=0||ec(n,g)&&(o=o.insert(g.key,g.clone()))}return J.resolve(o)},t.prototype.fs=function(e,n){return J.forEach(this.docs,function(i){return n(i)})},t.prototype.newChangeBuffer=function(e){return new jM(this)},t.prototype.getSize=function(e){return J.resolve(this.size)},t}(),jM=function(t){function e(n){var i=this;return(i=t.call(this)||this).Ie=n,i}return Tt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),J.waitFor(o)},e.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},e.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},e}(bS),UM=function(){function t(e){this.persistence=e,this.ds=new ou(function(n){return Ja(n)},Yf),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.ws=0,this._s=new Cm,this.targetCount=0,this.ys=cf.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(i,o){return n(o)}),J.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return J.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return J.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),J.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),J.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new cf(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,J.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),J.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,J.resolve()},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),J.waitFor(a).next(function(){return u})},t.prototype.getTargetCount=function(e){return J.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var i=this.ds.get(n)||null;return J.resolve(i)},t.prototype.addMatchingKeys=function(e,n,i){return this._s.Jn(n,i),J.resolve()},t.prototype.removeMatchingKeys=function(e,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(e,a))}),J.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),J.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=this._s.es(n);return J.resolve(i)},t.prototype.containsKey=function(e,n){return J.resolve(this._s.containsKey(n))},t}(),BM=function(){function t(e,n){var i=this;this.gs={},this.Ne=new Wn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new UM(this),this.Ut=new mM,this.Ue=function(o,u){return new VM(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new dS(n),this.Ke=new MM(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new FM(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;et("MemoryPersistence","Starting transaction:",e);var u=new qM(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return J.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(e,n)}}))},t}(),qM=function(t){function e(n){var i=this;return(i=t.call(this)||this).currentSequenceNumber=n,i}return Tt(e,t),e}(fS),$M=function(){function t(e){this.persistence=e,this.As=new Cm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw yt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),J.resolve()},t.prototype.removeReference=function(e,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),J.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),J.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.vs,function(o){var u=bt.fromPath(o);return n.Ps(e,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var i=this;return this.Ps(e,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var i=this;return J.or([function(){return J.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(e,n)},function(){return i.persistence.Is(e,n)}])},t}(),Qe=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e){return"firestore_clients_"+t+"_"+e}function pE(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function ag(t,e){return"firestore_targets_"+t+"_"+e}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var gE=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.Vs=function(e,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new W(u.error.code,u.error.message)),a?new t(e,n,u.state,o):(Pe("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),cg=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.Vs=function(e,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new W(o.error.code,o.error.message)),u?new t(e,o.state,i):(Pe("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),vE=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Zf(),a=0;o&&a<i.activeTargetIds.length;++a)o=MT(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new t(e,u):(Pe("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),KM=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Pe("SharedClientState","Failed to parse online state: "+e),null)},t}(),tv=function(){function t(){this.activeTargetIds=Zf()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),lg=function(){function t(e,n,i,o,u){this.window=e,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new fn(zt),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=dE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new tv),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u,a,l,f,d,g,v,y=this;return $(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(dE(this.persistenceKey,o)))&&(a=vE.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)v=g[d],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,i){this.zs(e,n,i),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(ag(this.persistenceKey,e));if(i){var o=cg.Vs(e,i);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(ag(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,i){this.Ys(e,n,i)},t.prototype.handleUserChange=function(e,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=e,i.forEach(function(u){o.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return et("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){et("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){et("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Pe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(g){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(v){var y=Wn.o;if(v!=null)try{var b=JSON.parse(v);Nt(typeof b=="number"),y=b}catch(_){Pe("SharedClientState","Failed to read sequence number from WebStorage",_)}return y}(i.newValue))!==Wn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,i){var o=new gE(this.currentUser,e,n,i),u=pE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ss())},t.prototype.Hs=function(e){var n=pE(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,i){var o=ag(this.persistenceKey,e),u=new cg(e,n,i);this.setItem(o,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var i=this.ti(e);return vE.Vs(i,n)},t.prototype.si=function(e,n){var i=this.Bs.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return gE.Vs(new Qe(u),o,n)},t.prototype.ri=function(e,n){var i=this.qs.exec(e),o=Number(i[1]);return cg.Vs(o,n)},t.prototype.js=function(e){return KM.Vs(e)},t.prototype.ii=function(e){return H(this,void 0,void 0,function(){return $(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(et("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var i=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Zf();return e.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),kS=function(){function t(){this.li=new tv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,i){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,i){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new tv,Promise.resolve()},t.prototype.handleUserChange=function(e,n,i){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),HM=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),mE=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),zM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},GM=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),WM=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Tt(e,t),e.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new SL;f.listenOnce(EL.COMPLETE,function(){try{switch(f.getLastErrorCode()){case sg.NO_ERROR:var g=f.getResponseJson();et("Connection","XHR received:",JSON.stringify(g)),a(g);break;case sg.TIMEOUT:et("Connection",'RPC "'+n+'" timed out'),l(new W(D.DEADLINE_EXCEEDED,"Request time out"));break;case sg.HTTP_ERROR:var v=f.getStatus();if(et("Connection",'RPC "'+n+'" failed with status:',v,"response text:",f.getResponseText()),v>0){var y=f.getResponseJson().error;if(y&&y.status&&y.message){var b=function(_){var S=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(S)>=0?S:D.UNKNOWN}(y.status);l(new W(b,y.message))}else l(new W(D.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new W(D.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{et("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},e.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=bL(),a=_L(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new TL({})),this.ki(l.initMessageHeaders,i),ND()||CD()||OD()||RD()||DD()||xD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");et("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),g=!1,v=!1,y=new GM({Ei:function(_){v?et("Connection","Not sending because WebChannel is closed:",_):(g||(et("Connection","Opening WebChannel transport."),d.open(),g=!0),et("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,S,N){_.listen(S,function(O){try{N(O)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,bl.EventType.OPEN,function(){v||et("Connection","WebChannel transport opened.")}),b(d,bl.EventType.CLOSE,function(){v||(v=!0,et("Connection","WebChannel transport closed"),y.Vi())}),b(d,bl.EventType.ERROR,function(_){v||(v=!0,tf("Connection","WebChannel transport errored:",_),y.Vi(new W(D.UNAVAILABLE,"The operation could not be completed")))}),b(d,bl.EventType.MESSAGE,function(_){var S;if(!v){var N=_.data[0];Nt(!!N);var O=N,P=O.error||((S=O[0])===null||S===void 0?void 0:S.error);if(P){et("Connection","WebChannel received error:",P);var j=P.status,q=function(V){var It=Re[V];if(It!==void 0)return JT(It)}(j),rt=P.message;q===void 0&&(q=D.INTERNAL,rt="Unknown error status: "+j+" with message "+P.message),v=!0,y.Vi(new W(q,rt)),d.close()}else et("Connection","WebChannel received:",N),y.Si(N)}}),b(a,IL.STAT_EVENT,function(_){_.stat===P_.PROXY?et("Connection","Detected buffering proxy"):_.stat===P_.NOPROXY&&et("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,i,o){var u=this.xi(e,n);et("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(e,u,a,i).then(function(l){return et("RestConnection","Received: ",l),l},function(l){throw tf("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$i=function(e,n,i,o){return this.Ni(e,n,i,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(e[i]=n.authHeaders[i])},t.prototype.xi=function(e,n){var i=zM[e];return this.Di+"/v1/"+n+":"+i},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof window<"u"?window:null}function Ll(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return new tM(t,!0)}var Om=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&et("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),CS=function(){function t(e,n,i,o,u,a){this.Se=e,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Om(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return H(this,void 0,void 0,function(){return $(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return H(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Pe(n.toString()),Pe("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){e.Yi===i&&e.lr(o)},function(o){n(function(){var u=new W(D.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return H(e,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return et("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===e?i():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),QM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Tt(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:yt()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],g=function(N,O){return N.I?(Nt(O===void 0||typeof O=="string"),Pn.fromBase64String(O||"")):(Nt(O===void 0||O instanceof Uint8Array),Pn.fromUint8Array(O||new Uint8Array))}(u,a.targetChange.resumeToken),v=(y=a.targetChange.cause)&&function(N){var O=N.code===void 0?D.UNKNOWN:JT(N.code);return new W(O,N.message||"")}(y);l=new tS(f,d,g,v||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=Qr(u,f.document.name),g=_n(f.document.updateTime);var y=new zn({mapValue:{fields:f.document.fields}}),b=(v=ln.newFoundDocument(d,g,y),f.targetIds||[]),_=f.removedTargetIds||[];l=new Pl(b,_,v.key,v)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=Qr(u,f.document),g=f.readTime?_n(f.readTime):$t.min(),y=ln.newNoDocument(d,g),v=f.removedTargetIds||[],l=new Pl([],v,y.key,y);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=Qr(u,f.document),g=f.removedTargetIds||[],l=new Pl([],g,d,null);else{if(!("filter"in a))return yt();a.filter;var S=a.filter;S.targetId,f=S.count||0,d=new KL(f),g=S.targetId,l=new ZT(g,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return $t.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?$t.min():a.readTime?_n(a.readTime):$t.min()}(n);return this.listener._r(i,o)},e.prototype.mr=function(n){var i={};i.database=La(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=rf(f)?{documents:oS(u,f)}:{query:sS(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=eS(u,a.resumeToken):a.snapshotVersion.compareTo($t.min())>0&&(l.readTime=Da(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},e.prototype.yr=function(n){var i={};i.database=La(this.R),i.removeTarget=n,this.cr(i)},e}(CS),YM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Tt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Nt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Nt(a!==void 0),u.map(function(l){return function(f,d){var g=f.updateTime?_n(f.updateTime):_n(d);return g.isEqual($t.min())&&(g=_n(d)),new BL(g,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=_n(n.commitTime);return this.listener.Tr(o,i)}return Nt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=La(this.R),this.cr(n)},e.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return uf(i.R,u)})};this.cr(o)},e}(CS),XM=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Tt(e,t),e.prototype.br=function(){if(this.Rr)throw new W(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new W(D.UNKNOWN,a.toString())})},e.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new W(D.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),JM=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Pe(n),this.Vr=!1):et("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),ZM=function(t,e,n,i,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(u,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return Ui(this)?(et("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return $(this,function(g){switch(g.label){case 0:return(d=ot(f)).Or.add(4),[4,su(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,oc(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new JM(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:if(!Ui(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function su(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nh(t,e){var n=ot(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Pm(n)?Dm(n):au(n).er()&&Rm(n,e))}function Ma(t,e){var n=ot(t),i=au(n);n.$r.delete(e),i.er()&&OS(n,e),n.$r.size===0&&(i.er()?i.ir():Ui(n)&&n.Br.set("Unknown"))}function Rm(t,e){t.qr.U(e.targetId),au(t).mr(e)}function OS(t,e){t.qr.U(e),au(t).yr(e)}function Dm(t){t.qr=new XL({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),au(t).start(),t.Br.Sr()}function Pm(t){return Ui(t)&&!au(t).tr()&&t.$r.size>0}function Ui(t){return ot(t).Or.size===0}function RS(t){t.qr=void 0}function tF(t){return H(this,void 0,void 0,function(){return $(this,function(e){return t.$r.forEach(function(n,i){Rm(t,n)}),[2]})})}function eF(t,e){return H(this,void 0,void 0,function(){return $(this,function(n){return RS(t),Pm(t)?(t.Br.Nr(e),Dm(t)):t.Br.set("Unknown"),[2]})})}function nF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u;return $(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof tS&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,g,v,y;return $(this,function(b){switch(b.label){case 0:d=f.cause,g=0,v=f.targetIds,b.label=1;case 1:return g<v.length?(y=v[g],l.$r.has(y)?[4,l.remoteSyncer.rejectListen(y,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(y),l.qr.removeTarget(y),b.label=3;case 3:b.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,hf(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Pl?t.qr.X(e):e instanceof ZT?t.qr.rt(e):t.qr.et(e),n.isEqual($t.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,SS(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(g,v){if(g.resumeToken.approximateByteSize()>0){var y=l.$r.get(v);y&&l.$r.set(v,y.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var v=l.$r.get(g);if(v){l.$r.set(g,v.withResumeToken(Pn.EMPTY_BYTE_STRING,v.snapshotVersion)),OS(l,g);var y=new th(v.target,g,1,v.sequenceNumber);Rm(l,y)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return et("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,hf(t,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function hf(t,e,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!Fo(e))throw e;return t.Or.add(1),[4,su(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return SS(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(u){switch(u.label){case 0:return et("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,oc(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function DS(t,e){return e().catch(function(n){return hf(t,n,e)})}function uu(t){return H(this,void 0,void 0,function(){var e,n,i,o,u;return $(this,function(a){switch(a.label){case 0:e=ot(t),n=Li(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Ui(l)&&l.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,PM(e.localStore,i)];case 3:return(o=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Li(l);d.er()&&d.pr&&d.Er(f.mutations)}(e,o),[3,6]);case 4:return u=a.sent(),[4,hf(e,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return PS(e)&&LS(e),[2]}})})}function PS(t){return Ui(t)&&!Li(t).tr()&&t.Fr.length>0}function LS(t){Li(t).start()}function rF(t){return H(this,void 0,void 0,function(){return $(this,function(e){return Li(t).Ar(),[2]})})}function iF(t){return H(this,void 0,void 0,function(){var e,n,i,o;return $(this,function(u){for(e=Li(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function oF(t,e,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return i=t.Fr.shift(),o=gM.from(i,e,n),[4,DS(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,uu(t)];case 2:return u.sent(),[2]}})})}function sF(t,e){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return e&&Li(t).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var u,a;return $(this,function(l){switch(l.label){case 0:return XT(a=o.code)&&a!==D.ABORTED?(u=i.Fr.shift(),Li(i).sr(),[4,DS(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,uu(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return PS(t)&&LS(t),[2]}})})}function ev(t,e){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ot(t),e?(n.Or.delete(2),[4,oc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,su(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function au(t){var e=this;return t.Ur||(t.Ur=function(n,i,o){var u=ot(n);return u.br(),new QM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:tF.bind(null,t),Ri:eF.bind(null,t),_r:nF.bind(null,t)}),t.Mr.push(function(n){return H(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Ur.sr(),Pm(t)?Dm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),RS(t),i.label=3;case 3:return[2]}})})})),t.Ur}function Li(t){var e=this;return t.Kr||(t.Kr=function(n,i,o){var u=ot(n);return u.br(),new YM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:rF.bind(null,t),Ri:sF.bind(null,t),Ir:iF.bind(null,t),Tr:oF.bind(null,t)}),t.Mr.push(function(n){return H(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Kr.sr(),[4,uu(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(et("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var uF=function(){function t(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,i,o,u){var a=new t(e,n,Date.now()+i,o,u);return a.start(i),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function cu(t,e){if(Pe("AsyncQueue",e+": "+t),Fo(t))return new W(D.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MS=function(){function t(e){this.comparator=e?function(n,i){return e(n,i)||bt.comparator(n.key,i.key)}:function(n,i){return bt.comparator(n.key,i.key)},this.keyedMap=Xg(),this.sortedSet=new fn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),yE=function(){function t(){this.Qr=new fn(bt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,i=this.Qr.get(n);i?e.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Qr=this.Qr.remove(n):e.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):yt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,i){e.push(i)}),e},t}(),df=function(){function t(e,n,i,o,u,a,l,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(e,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new t(e,n,MS.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),aF=function(){this.Wr=void 0,this.listeners=[]},cF=function(){this.queries=new ou(function(t){return BT(t)},tc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:if(n=ot(t),i=e.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new aF),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=cu(l,"Initialization of query '"+Qg(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&Fm(n),[2]}})})}function Mm(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){return n=ot(t),i=e.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(e))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function lF(t,e){for(var n=ot(t),i=!1,o=0,u=e;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Fm(n)}function fF(t,e,n){var i=ot(t),o=i.queries.get(e);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(e)}function Fm(t){t.Gr.forEach(function(e){e.next()})}var Vm=function(){function t(e,n,i){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new df(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=df.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var FS=function(t){this.key=t},VS=function(t){this.key=t},jS=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=fe(),this.mutatedKeys=fe(),this.lo=qT(e),this.fo=new MS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var i=this,o=n?n.mo:new yE,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=Rl(this.query)&&u.size===this.query.limit?u.last():null,g=sf(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(y,b){var _=u.get(y),S=ec(i.query,b)?b:null,N=!!_&&i.mutatedKeys.has(_.key),O=!!S&&(S.hasLocalMutations||i.mutatedKeys.has(S.key)&&S.hasCommittedMutations),P=!1;_&&S?_.data.isEqual(S.data)?N!==O&&(o.track({type:3,doc:S}),P=!0):i.yo(_,S)||(o.track({type:2,doc:S}),P=!0,(d&&i.lo(S,d)>0||g&&i.lo(S,g)<0)&&(f=!0)):!_&&S?(o.track({type:0,doc:S}),P=!0):_&&!S&&(o.track({type:1,doc:_}),P=!0,(d||g)&&(f=!0)),P&&(S?(l=l.add(S),a=O?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),Rl(this.query)||sf(this.query))for(;l.size>this.query.limit;){var v=Rl(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),o.track({type:1,doc:v})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,i){var o=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(g,v){return function(y,b){var _=function(S){switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return _(y)-_(b)}(g.type,v.type)||o.lo(g.doc,v.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new df(this.query,e.fo,u,a,e.mutatedKeys,f===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new yE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=fe(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var i=[];return n.forEach(function(o){e.ho.has(o)||i.push(new VS(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new FS(o))}),i},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=fe();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return df.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),hF=function(t,e,n){this.query=t,this.targetId=e,this.view=n},dF=function(t){this.key=t,this.bo=!1},pF=function(){function t(e,n,i,o,u,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new ou(function(l){return BT(l)},tc),this.Vo=new Map,this.So=new Set,this.Do=new fn(bt.comparator),this.Co=new Map,this.No=new Cm,this.xo={},this.ko=new Map,this.Fo=cf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function gF(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l;return $(this,function(f){switch(f.label){case 0:return n=$m(t),(u=n.Po.get(e))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,lf(n.localStore,Vr(e))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,jm(n,e,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&nh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function jm(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:return t.Oo=function(v,y,b){return function(_,S,N,O){return H(this,void 0,void 0,function(){var P,j,q;return $(this,function(rt){switch(rt.label){case 0:return P=S.view._o(N),P.Nn?[4,ff(_.localStore,S.query,!1).then(function(V){var It=V.documents;return S.view._o(It,P)})]:[3,2];case 1:P=rt.sent(),rt.label=2;case 2:return j=O&&O.targetChanges.get(S.targetId),q=S.view.applyChanges(P,_.isPrimaryClient,j),[2,(nv(_,S.targetId,q.To),q.snapshot)]}})})}(t,v,y,b)},[4,ff(t.localStore,e,!0)];case 1:return o=g.sent(),u=new jS(e,o.Bn),a=u._o(o.documents),l=Im.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),f=u.applyChanges(a,t.isPrimaryClient,l),nv(t,n,f.To),d=new hF(e,n,u),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),f.snapshot)]}})})}function vF(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return n=ot(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!tc(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Gs(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Ma(n.remoteStore,i.targetId),Ws(n,i.targetId)}).catch(Vo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return Ws(n,i.targetId),[4,Gs(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function mF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=Km(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var g,v=ot(f),y=On.now(),b=d.reduce(function(_,S){return _.add(S.key)},fe());return v.persistence.runTransaction("Locally write mutations","readwrite",function(_){return v.Mn.pn(_,b).next(function(S){g=S;for(var N=[],O=0,P=d;O<P.length;O++){var j=P[O],q=$L(j,g.get(j.key));q!=null&&N.push(new ji(j.key,q,FT(q.value.mapValue),an.exists(!0)))}return v._n.addMutationBatch(_,y,N,d)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(i.localStore,e)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var v=f.xo[f.currentUser.toKey()];v||(v=new fn(zt)),v=v.insert(d,g),f.xo[f.currentUser.toKey()]=v}(i,o.batchId,n),[4,Bi(i,o.changes)];case 3:return l.sent(),[4,uu(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=cu(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function US(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=ot(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,RM(n.localStore,e)];case 2:return i=o.sent(),e.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Nt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Nt(l.bo):u.removedDocuments.size>0&&(Nt(l.bo),l.bo=!1))}),[4,Bi(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,Vo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function wE(t,e,n){var i=ot(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ot(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,g){for(var v=0,y=g.listeners;v<y.length;v++)y[v].zr(a)&&(f=!0)}),f&&Fm(l)}(i.eventManager,e),o.length&&i.vo._r(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function yF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:return(i=ot(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(u=o&&o.key)?(a=(a=new fn(bt.comparator)).insert(u,ln.newNoDocument(u,$t.min())),l=fe().add(u),f=new Em($t.min(),new Map,new qe(zt),a,l),[4,US(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(e),qm(i),[3,4];case 2:return[4,Gs(i.localStore,e,!1).then(function(){return Ws(i,e,n)}).catch(Vo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function wF(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:n=ot(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,OM(n.localStore,e)];case 2:return o=u.sent(),Bm(n,i,null),Um(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Bi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Vo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function bF(t,e,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:i=ot(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ot(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,l).next(function(v){return Nt(v!==null),g=v.keys(),f._n.removeMutationBatch(d,v)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(i.localStore,e)];case 2:return o=u.sent(),Bm(i,e,n),Um(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Bi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Vo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function _F(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){switch(l.label){case 0:Ui((n=ot(t)).remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ot(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=cu(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Um(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function Bm(t,e,n){var i=ot(t),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.xo[i.currentUser.toKey()]=o}}function Ws(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,o=t.Vo.get(e);i<o.length;i++){var u=o[i];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||BS(t,a)})}function BS(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Ma(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),qm(t))}function nv(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof FS?(t.No.addReference(u.key,e),EF(t,u)):u instanceof VS?(et("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||BS(t,u.key)):yt()}}function EF(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(et("SyncEngine","New document in limbo: "+n),t.So.add(i),qm(t))}function qm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bt(ee.fromString(e)),i=t.Fo.next();t.Co.set(i,new dF(n)),t.Do=t.Do.insert(n,i),nh(t.remoteStore,new th(Vr(Za(n.path)),i,2,Wn.o))}}function Bi(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:return i=ot(t),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,e,n).then(function(g){if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var v=xM.Pn(d.targetId,g);u.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var g,v,y,b,_,S,N,O,P;return $(this,function(j){switch(j.label){case 0:g=ot(f),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(q){return J.forEach(d,function(rt){return J.forEach(rt.bn,function(V){return g.persistence.referenceDelegate.addReference(q,rt.targetId,V)}).next(function(){return J.forEach(rt.vn,function(V){return g.persistence.referenceDelegate.removeReference(q,rt.targetId,V)})})})})];case 2:return j.sent(),[3,4];case 3:if(!Fo(v=j.sent()))throw v;return et("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(y=0,b=d;y<b.length;y++)_=b[y],S=_.targetId,_.fromCache||(N=g.kn.get(S),O=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(O),g.kn=g.kn.insert(S,P));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function IF(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=ot(t)).currentUser.isEqual(e)?[3,3]:(et("SyncEngine","User change. New user:",e.toKey()),[4,TS(n.localStore,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new W(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Bi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function TF(t,e){var n=ot(t),i=n.Co.get(e);if(i&&i.bo)return fe().add(i.key);var o=fe(),u=n.Vo.get(e);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function SF(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return[4,ff((n=ot(t)).localStore,e.query,!0)];case 1:return i=u.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&nv(n,e.targetId,o.To),o)]}})})}function AF(t){return H(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,NS((e=ot(t)).localStore).then(function(i){return Bi(e,i)})]})})}function NF(t,e,n,i){return H(this,void 0,void 0,function(){var o,u;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ot(l),g=ot(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return g.jt(v,f).next(function(y){return y?d.Mn.pn(v,y):J.resolve(null)})})}((o=ot(t)).localStore,e)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,uu(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Bm(o,e,i||null),Um(o,e),function(l,f){ot(ot(l)._n).Gt(f)}(o.localStore,e)):yt(),a.label=4;case 4:return[4,Bi(o,u)];case 5:return a.sent(),[3,7];case 6:et("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function kF(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return $(this,function(g){switch(g.label){case 0:return $m(n=ot(t)),Km(n),e!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,bE(n,i.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,ev(n.remoteStore,!0)];case 2:for(g.sent(),u=0,a=o;u<a.length;u++)l=a[u],nh(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(v,y){n.sharedClientState.isLocalQueryTarget(y)?f.push(y):d=d.then(function(){return Ws(n,y),Gs(n.localStore,y,!0)}),Ma(n.remoteStore,y)}),[4,d]);case 4:return g.sent(),[4,bE(n,f)];case 5:return g.sent(),function(v){var y=ot(v);y.Co.forEach(function(b,_){Ma(y.remoteStore,_)}),y.No.ts(),y.Co=new Map,y.Do=new fn(bt.comparator)}(n),n.$o=!1,[4,ev(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function bE(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,v,y,b,_,S,N;return $(this,function(O){switch(O.label){case 0:i=ot(t),o=[],u=[],a=0,l=e,O.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(g=i.Vo.get(f))&&g.length!==0?[4,lf(i.localStore,Vr(g[0]))]:[3,7]):[3,13];case 2:d=O.sent(),v=0,y=g,O.label=3;case 3:return v<y.length?(b=y[v],_=i.Po.get(b),[4,SF(i,_)]):[3,6];case 4:(S=O.sent()).snapshot&&u.push(S.snapshot),O.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,AS(i.localStore,f)];case 8:return N=O.sent(),[4,lf(i.localStore,N)];case 9:return d=O.sent(),[4,jm(i,qS(N),f,!1)];case 10:O.sent(),O.label=11;case 11:o.push(d),O.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function qS(t){return jT(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function xF(t){var e=ot(t);return ot(ot(e.localStore).persistence).fn()}function CF(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,a;return $(this,function(l){switch(l.label){case 0:return(o=ot(t)).$o?(et("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,NS(o.localStore)];case 3:return u=l.sent(),a=Em.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Bi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,Gs(o.localStore,e,!0)];case 6:return l.sent(),Ws(o,e,i),[3,8];case 7:yt(),l.label=8;case 8:return[2]}})})}function OF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,v,y;return $(this,function(b){switch(b.label){case 0:if(!(i=$m(t)).$o)return[3,10];o=0,u=e,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(et("SyncEngine","Adding an already active target "+a),[3,5]):[4,AS(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,lf(i.localStore,l)];case 3:return f=b.sent(),[4,jm(i,qS(l),f.targetId,!1)];case 4:b.sent(),nh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return $(this,function(S){switch(S.label){case 0:return i.Vo.has(_)?[4,Gs(i.localStore,_,!1).then(function(){Ma(i.remoteStore,_),Ws(i,_)}).catch(Vo)]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})},g=0,v=n,b.label=7;case 7:return g<v.length?(y=v[g],[5,d(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function $m(t){var e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=US.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yF.bind(null,e),e.vo._r=lF.bind(null,e.eventManager),e.vo.Mo=fF.bind(null,e.eventManager),e}function Km(t){var e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bF.bind(null,e),e}var $S=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=eh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return IS(this.persistence,new ES,e.initialUser,this.R)},t.prototype.qo=function(e){return new BM($M.bs,this.R)},t.prototype.Bo=function(e){return new kS},t.prototype.terminate=function(){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),KS=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Tt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,LM(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Km(this.Qo.syncEngine)];case 4:return o.sent(),[4,uu(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return IS(this.persistence,new ES,n.initialUser,this.R)},e.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new EM(i,n.asyncQueue)},e.prototype.qo=function(n){var i=xm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?xr.withCacheSize(this.cacheSizeBytes):xr.DEFAULT;return new kM(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,xS(),Ll(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new kS},e}($S),RF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Tt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return $(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof lg?(this.sharedClientState.syncEngine={ui:NF.bind(null,i),ai:CF.bind(null,i),hi:OF.bind(null,i),fn:xF.bind(null,i),ci:AF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,kF(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var i=xS();if(!lg.yt(i))throw new W(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=xm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new lg(i,n.asyncQueue,o,n.clientId,n.initialUser)},e}(KS),rv=function(){function t(){}return t.prototype.initialize=function(e,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return wE(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=IF.bind(null,this.syncEngine),[4,ev(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new cF},t.prototype.createDatastore=function(e){var n,i=eh(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new WM(n));return function(u,a,l){return new XM(u,a,l)}(e.credentials,o,i)},t.prototype.createRemoteStore=function(e){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=e.asyncQueue,u=function(f){return wE(l.syncEngine,f,0)},a=mE.yt()?new mE:new HM,new ZM(n,i,o,u,a)},t.prototype.createSyncEngine=function(e,n){return function(i,o,u,a,l,f,d){var g=new pF(i,o,u,a,l,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=ot(e),et("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,su(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rh=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}(),DF=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new W(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return H(this,void 0,void 0,function(){var l,f,d,g,v,y;return $(this,function(b){switch(b.label){case 0:return l=ot(u),f=La(l.R)+"/documents",d={documents:a.map(function(_){return Pa(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return g=b.sent(),v=new Map,g.forEach(function(_){var S=function(N,O){return"found"in O?function(P,j){Nt(!!j.found),j.found.name,j.found.updateTime;var q=Qr(P,j.found.name),rt=_n(j.found.updateTime),V=new zn({mapValue:{fields:j.found.fields}});return ln.newFoundDocument(q,rt,V)}(N,O):"missing"in O?function(P,j){Nt(!!j.missing),Nt(!!j.readTime);var q=Qr(P,j.missing),rt=_n(j.readTime);return ln.newNoDocument(q,rt)}(N,O):yt()}(l.R,_);v.set(S.key.toString(),S)}),y=[],[2,(a.forEach(function(_){var S=v.get(_.toString());Nt(!!S),y.push(S)}),y)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new ic(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return H(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var a=bt.fromPath(u);n.mutations.push(new _m(a,n.precondition(a)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var a,l,f;return $(this,function(d){switch(d.label){case 0:return a=ot(o),l=La(a.R)+"/documents",f={writes:u.map(function(g){return uf(a.R,g)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yt();n=$t.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new W(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?an.updateTime(n):an.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($t.min()))throw new W(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),PF=function(){function t(e,n,i,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new Om(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return H(e,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){return n=new DF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!Mo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!XT(n)}return!1},t}(),LF=function(){function t(e,n,i){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=OT.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return H(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return et("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return $(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new W(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(e,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=cu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){return H(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),i=n.initialUser,t.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,TS(e.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function zS(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Hm(t)];case 1:return n=o.sent(),et("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(u){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return $(this,function(g){switch(g.label){case 0:return(f=ot(a)).asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials"),d=Ui(f),f.Or.add(3),[4,su(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,oc(f)];case 3:return g.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function Hm(t){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(et("FirestoreClient","Using default OfflineComponentProvider"),[4,HS(t,new $S)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function ih(t){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(et("FirestoreClient","Using default OnlineComponentProvider"),[4,zS(t,new rv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function _E(t){return Hm(t).then(function(e){return e.persistence})}function GS(t){return Hm(t).then(function(e){return e.localStore})}function EE(t){return ih(t).then(function(e){return e.remoteStore})}function WS(t){return ih(t).then(function(e){return e.syncEngine})}function Qs(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:return[4,ih(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=gF.bind(null,e.syncEngine),n.onUnlisten=vF.bind(null,e.syncEngine),n)]}})})}function IE(t,e,n){var i=this;n===void 0&&(n={});var o=new Ln;return t.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,v){var y=new rh({next:function(_){f.enqueueAndForget(function(){return Mm(l,b)});var S=_.docs.has(d);!S&&_.fromCache?v.reject(new W(D.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&g&&g.source==="server"?v.reject(new W(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),b=new Vm(Za(d.path),y,{includeMetadataChanges:!0,so:!0});return Lm(l,b)},[4,Qs(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function TE(t,e,n){var i=this;n===void 0&&(n={});var o=new Ln;return t.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,v){var y=new rh({next:function(_){f.enqueueAndForget(function(){return Mm(l,b)}),_.fromCache&&g.source==="server"?v.reject(new W(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),b=new Vm(d,y,{includeMetadataChanges:!0,so:!0});return Lm(l,b)},[4,Qs(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var MF=function(t,e,n,i,o,u,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},pf=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),SE=new Map,QS=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},AE=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Qe.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),FF=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var i=this;this.changeListener=n,e.enqueueRetryable(function(){return n(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),VF=function(){function t(e){var n=this;this.currentUser=Qe.UNAUTHENTICATED,this.oc=new Ln,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){et("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?i(o):(et("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.cc!==n?(et("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(Nt(typeof o.accessToken=="string"),new QS(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string"),new Qe(e)},t}(),jF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Qe.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),UF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new jF(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Qe.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e,n){if(!n)throw new W(D.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Gm(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new W(D.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function YS(t,e,n,i){if(e===!0&&i===!0)throw new W(D.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function NE(t){if(!bt.isDocumentKey(t))throw new W(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function kE(t){if(bt.isDocumentKey(t))throw new W(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":yt()}function ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=oh(t);throw new W(D.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function xE(t,e){if(e<=0)throw new W(D.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CE=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new W(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,YS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Fa=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,e instanceof pf?(this._databaseId=e,this._credentials=new AE):(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new W(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pf(i.options.projectId)}(e),this._credentials=new VF(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new W(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new W(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new AE;switch(n.type){case"gapi":var i=n.client;return Nt(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new UF(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new W(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=SE.get(e))&&(et("ComponentProvider","Removing Datastore"),SE.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Ee=function(){function t(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ri(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Xn=function(){function t(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ri=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,Za(o))||this)._path=o,u.type="collection",u}return Tt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ee(this.firestore,null,new bt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Me(t),zm("collection","path",e),t instanceof Fa)return kE(n=ee.fromString.apply(ee,Ae([e],i))),new Ri(t,null,n);if(!(t instanceof Ee||t instanceof Ri))throw new W(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kE(n=ee.fromString.apply(ee,Ae([t.path],i)).child(ee.fromString(e))),new Ri(t.firestore,null,n)}function Ml(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Me(t),arguments.length===1&&(e=OT.u()),zm("doc","path",e),t instanceof Fa)return NE(n=ee.fromString.apply(ee,Ae([e],i))),new Ee(t,null,new bt(n));if(!(t instanceof Ee||t instanceof Ri))throw new W(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return NE(n=t._path.child(ee.fromString.apply(ee,Ae([e],i)))),new Ee(t.firestore,t instanceof Ri?t.converter:null,new bt(n))}function JS(t,e){return t=Me(t),e=Me(e),(t instanceof Ee||t instanceof Ri)&&(e instanceof Ee||e instanceof Ri)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function ZS(t,e){return t=Me(t),e=Me(e),t instanceof Xn&&e instanceof Xn&&t.firestore===e.firestore&&tc(t._query,e._query)&&t.converter===e.converter}var BF=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Om(this,"async_queue_retry"),this.Ic=function(){var i=Ll();i&&et("AsyncQueue","Visibility state changed to "+i.visibilityState),e.Zi.Gi()};var n=Ll();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Ll();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Ln;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return H(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Fo(e=i.sent()))throw e;return et("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,i=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,Pe("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(e,n,i){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=uF.createAndSchedule(this,e,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&yt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return H(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),e!=="all"&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Ys(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(t)}var qF=-1,Be=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).type="firestore",o._queue=new BF,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Tt(e,t),e.prototype._terminate=function(){return this._firestoreClient||tA(this),this._firestoreClient.terminate()},e}(Fa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t._firestoreClient||tA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function tA(t){var e,n=t._freezeSettings(),i=function(o,u,a,l){return new MF(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new LF(t._credentials,t._queue,i)}function OE(t,e,n){var i=this,o=new Ln;return t.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,HS(t,n)];case 1:return a.sent(),[4,zS(t,e)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function RE(t){if(t._initialized||t._terminated)throw new W(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;++i)if(e[i].length===0)throw new W(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Ro=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Pn.fromBase64String(e))}catch(n){throw new W(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Pn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),jo=function(t){this._methodName=t},sh=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return zt(this._lat,e._lat)||zt(this._long,e._long)},t}(),$F=/^__.*__$/,KF=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new rc(e,this.data,n,this.fieldTransforms)},t}(),eA=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}var rA=function(){function t(e,n,i,o,u,a){this.settings=e,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return gf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(nA(this.Nc)&&$F.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),HF=function(){function t(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=i||eh(e)}return t.prototype.Uc=function(e,n,i,o){return o===void 0&&(o=!1),new rA({Nc:e,methodName:n,qc:i,path:wr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Uo(t){var e=t._freezeSettings(),n=eh(t._databaseId);return new HF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uh(t,e,n,i,o,u){u===void 0&&(u={});var a=t.Uc(u.merge||u.mergeFields?2:0,e,n,o);Xm("Data must be an object, but it was:",a,i);var l,f,d=sA(i,a);if(u.merge)l=new Ms(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var g=[],v=0,y=u.mergeFields;v<y.length;v++){var b=iv(e,y[v],n);if(!a.contains(b))throw new W(D.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");aA(g,b)||g.push(b)}l=new Ms(g),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new KF(new zn(d),l,f)}var Wm=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(jo);function iA(t,e,n){return new rA({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var zF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype._toFieldTransform=function(n){return new nc(n.path,new Us)},e.prototype.isEqual=function(n){return n instanceof e},e}(jo),GF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=iA(this,n,!0),o=this.Kc.map(function(a){return Bo(a,i)}),u=new Co(o);return new nc(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(jo),WF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=iA(this,n,!0),o=this.Kc.map(function(a){return Bo(a,i)}),u=new Oo(o);return new nc(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(jo),QF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Qc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=new Bs(n.R,HT(n.R,this.Qc));return new nc(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(jo);function Qm(t,e,n,i){var o=t.Uc(1,e,n);Xm("Data must be an object, but it was:",o,i);var u=[],a=zn.empty();Lo(i,function(f,d){var g=Jm(e,f,n);d=Me(d);var v=o.Oc(g);if(d instanceof Wm)u.push(g);else{var y=Bo(d,v);y!=null&&(u.push(g),a.set(g,y))}});var l=new Ms(u);return new eA(a,l,o.fieldTransforms)}function Ym(t,e,n,i,o,u){var a=t.Uc(1,e,n),l=[iv(e,i,n)],f=[o];if(u.length%2!=0)throw new W(D.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(iv(e,u[d])),f.push(u[d+1]);for(var g=[],v=zn.empty(),y=l.length-1;y>=0;--y)if(!aA(g,l[y])){var b=l[y],_=f[y];_=Me(_);var S=a.Oc(b);if(_ instanceof Wm)g.push(b);else{var N=Bo(_,S);N!=null&&(g.push(b),v.set(b,N))}}var O=new Ms(g);return new eA(v,O,a.fieldTransforms)}function oA(t,e,n,i){return i===void 0&&(i=!1),Bo(n,t.Uc(i?4:3,e))}function Bo(t,e){if(uA(t=Me(t)))return Xm("Unsupported field value:",e,t),sA(t,e);if(t instanceof jo)return function(n,i){if(!nA(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=Bo(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return HT(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=On.fromDate(n);return{timestampValue:Da(i.R,o)}}if(n instanceof On)return o=new On(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Da(i.R,o)};if(n instanceof sh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ro)return{bytesValue:eS(i.R,n._byteString)};if(n instanceof Ee){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Tm(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+oh(n))}(t,e)}function sA(t,e){var n={};return DT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lo(t,function(i,o){var u=Bo(o,e.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function uA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof On||t instanceof sh||t instanceof Ro||t instanceof Ee||t instanceof jo)}function Xm(t,e,n){if(!uA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=oh(n);throw i==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function iv(t,e,n){if((e=Me(e))instanceof Lr)return e._internalPath;if(typeof e=="string")return Jm(t,e);throw gf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var YF=new RegExp("[~\\*/\\[\\]]");function Jm(t,e,n){if(e.search(YF)>=0)throw gf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Lr.bind.apply(Lr,Ae([void 0],e.split("."))))()._internalPath}catch{throw gf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function gf(t,e,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new W(D.INVALID_ARGUMENT,(l+=". ")+t+f)}function aA(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Va=function(){function t(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ee(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new XF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(vf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),XF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Va);function vf(t,e){return typeof e=="string"?Jm(t,e):e instanceof Lr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yo=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Xr=function(t){function e(n,i,o,u,a,l){var f=this;return(f=t.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Tt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new fa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(vf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},e}(Va),fa=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Xr),Si=function(){function t(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new yo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this._snapshot.docs.forEach(function(o){e.call(n,new fa(i._firestore,i._userDataWriter,o.key,o,new yo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new fa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new yo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new fa(i._firestore,i._userDataWriter,l.doc.key,l.doc,new yo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,g=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(g=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:JF(l.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function JF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function cA(t,e){return t instanceof Xr&&e instanceof Xr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Si&&e instanceof Si&&t._firestore===e._firestore&&ZS(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){if(sf(t)&&t.explicitOrderBy.length===0)throw new W(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sc=function(){};function vi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++){var u=o[i];t=u._apply(t)}return t}var ZF=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Tt(e,t),e.prototype._apply=function(n){var i=Uo(n.firestore),o=function(u,a,l,f,d,g,v){var y;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new W(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){FE(v,g);for(var b=[],_=0,S=v;_<S.length;_++){var N=S[_];b.push(ME(f,u,N))}y={arrayValue:{values:b}}}else y=ME(f,u,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||FE(v,g),y=oA(l,"where",v,g==="in"||g==="not-in");var O=Qn.create(d,g,y);return function(P,j){if(j.g()){var q=wm(P);if(q!==null&&!q.isEqual(j.field))throw new W(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+q.toString()+"' and '"+j.field.toString()+"'");var rt=ym(P);rt!==null&&hA(P,j.field,rt)}var V=function(It,Q){for(var ht=0,A=It.filters;ht<A.length;ht++){var Wt=A[ht];if(Q.indexOf(Wt.op)>=0)return Wt.op}return null}(P,function(It){switch(It){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(V!==null)throw V===j.op?new W(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+j.op.toString()+"' filter."):new W(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+j.op.toString()+"' filters with '"+V.toString()+"' filters.")}(u,O),O}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Xn(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new ni(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},e}(sc),tV=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Tt(e,t),e.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new W(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new W(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new ks(u,a);return function(f,d){if(ym(f)===null){var g=wm(f);g!==null&&hA(f,g,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Xn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new ni(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(sc),DE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Tt(e,t),e.prototype._apply=function(n){return new Xn(n.firestore,n.converter,UT(n._query,this.Hc,this.Jc))},e}(sc),PE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Tt(e,t),e.prototype._apply=function(n){var i=fA(n,this.type,this.Yc,this.Xc);return new Xn(n.firestore,n.converter,function(o,u){return new ni(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},e}(sc),LE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Tt(e,t),e.prototype._apply=function(n){var i=fA(n,this.type,this.Yc,this.Xc);return new Xn(n.firestore,n.converter,function(o,u){return new ni(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},e}(sc);function fA(t,e,n,i){if(n[0]=Me(n[0]),n[0]instanceof Va)return function(u,a,l,f,d){if(!f)throw new W(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],v=0,y=js(u);v<y.length;v++){var b=y[v];if(b.field.isKeyField())g.push(nf(a,f.key));else{var _=f.data.field(b.field);if(gm(_))throw new W(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var S=b.field.canonicalString();throw new W(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+S+"' (used as the orderBy) does not exist.")}g.push(_)}}return new Ra(g,d)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=Uo(t.firestore);return function(u,a,l,f,d,g){var v=u.explicitOrderBy;if(d.length>v.length)throw new W(D.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],b=0;b<d.length;b++){var _=d[b];if(v[b].field.isKeyField()){if(typeof _!="string")throw new W(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!bm(u)&&_.indexOf("/")!==-1)throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var S=u.path.child(ee.fromString(_));if(!bt.isDocumentKey(S))throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+S+"' is not because it contains an odd number of segments.");var N=new bt(S);y.push(nf(a,N))}else{var O=oA(l,f,_);y.push(O)}}return new Ra(y,g)}(t._query,t.firestore._databaseId,o,e,n,i)}function ME(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!bm(e)&&n.indexOf("/")!==-1)throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(ee.fromString(n));if(!bt.isDocumentKey(i))throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return nf(t,new bt(i))}if(n instanceof Ee)return nf(t,n._key);throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+oh(n)+".")}function FE(t,e){if(!Array.isArray(t)||t.length===0)throw new W(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new W(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function hA(t,e,n){if(!n.isEqual(e))throw new W(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zm=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),xo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw yt()}},t.prototype.convertObject=function(e,n){var i=this,o={};return Lo(e.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},t.prototype.convertGeoPoint=function(e){return new sh(De(e.latitude),De(e.longitude))},t.prototype.convertArray=function(e,n){var i=this;return(e.values||[]).map(function(o){return i.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var i=LT(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ca(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Pi(e);return new On(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var i=ee.fromString(e);Nt(cS(i));var o=new pf(i.get(1),i.get(3)),u=new bt(i.popFirst(5));return o.isEqual(n)||Pe("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var eV=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new Ro(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(Zm),nV=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Uo(e)}return t.prototype.set=function(e,n,i){this._verifyNotCommitted();var o=Ai(e,this._firestore),u=ah(o.converter,n,i),a=uh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,an.none())),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Ai(e,this._firestore);return a=typeof(n=Me(n))=="string"||n instanceof Lr?Ym(this._dataReader,"WriteBatch.update",l._key,n,i,o):Qm(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,an.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ai(e,this._firestore);return this._mutations=this._mutations.concat(new ic(n._key,an.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new W(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t,e){if((t=Me(t)).firestore!==e)throw new W(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Io=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new Ro(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(Zm);function VE(t,e,n){t=ne(t,Ee);var i=ne(t.firestore,Be),o=ah(t.converter,e,n);return uc(i,[uh(Uo(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,an.none())])}function jE(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=ne(t,Ee);var u=ne(t.firestore,Be),a=Uo(u);return uc(u,[(typeof(e=Me(e))=="string"||e instanceof Lr?Ym(a,"updateDoc",t._key,e,n,i):Qm(a,"updateDoc",t._key,e)).toMutation(t._key,an.exists(!0))])}function dA(t){for(var e,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];t=Me(t);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ys(o[l])||(a=o[l],l++);var f,d,g,v={includeMetadataChanges:a.includeMetadataChanges};if(Ys(o[l])){var y=o[l];o[l]=(e=y.next)===null||e===void 0?void 0:e.bind(y),o[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),o[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(t instanceof Ee)d=ne(t.firestore,Be),g=Za(t._key.path),f={next:function(S){o[l]&&o[l](ov(d,t,S))},error:o[l+1],complete:o[l+2]};else{var b=ne(t,Xn);d=ne(b.firestore,Be),g=b._query;var _=new Io(d);f={next:function(S){o[l]&&o[l](new Si(d,_,b,S))},error:o[l+1],complete:o[l+2]},lA(t._query)}return function(S,N,O,P){var j=this,q=new rh(P),rt=new Vm(N,q,O);return S.asyncQueue.enqueueAndForget(function(){return H(j,void 0,void 0,function(){var V;return $(this,function(It){switch(It.label){case 0:return V=Lm,[4,Qs(S)];case 1:return[2,V.apply(void 0,[It.sent(),rt])]}})})}),function(){q.Wo(),S.asyncQueue.enqueueAndForget(function(){return H(j,void 0,void 0,function(){var V;return $(this,function(It){switch(It.label){case 0:return V=Mm,[4,Qs(S)];case 1:return[2,V.apply(void 0,[It.sent(),rt])]}})})})}}(sn(d),g,v,f)}function uc(t,e){return function(n,i){var o=this,u=new Ln;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=mF,[4,WS(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(sn(t),e)}function ov(t,e,n){var i=n.docs.get(e._key),o=new Io(t);return new Xr(t,o,e._key,i,new yo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rV=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this)._firestore=n,o}return Tt(e,t),e.prototype.get=function(n){var i=this,o=Ai(n,this._firestore),u=new Io(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Xr(i._firestore,u,o._key,a._document,new yo(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Uo(e)}return t.prototype.get=function(e){var n=this,i=Ai(e,this._firestore),o=new eV(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return yt();var a=u[0];if(a.isFoundDocument())return new Va(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Va(n._firestore,o,i._key,null,i.converter);throw yt()})},t.prototype.set=function(e,n,i){var o=Ai(e,this._firestore),u=ah(o.converter,n,i),a=uh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Ai(e,this._firestore);return a=typeof(n=Me(n))=="string"||n instanceof Lr?Ym(this._dataReader,"Transaction.update",l._key,n,i,o):Qm(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=Ai(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(){if(typeof Uint8Array>"u")throw new W(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function BE(){if(typeof atob>"u")throw new W(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pA=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return BE(),new t(Ro.fromBase64String(e))},t.fromUint8Array=function(e){return UE(),new t(Ro.fromUint8Array(e))},t.prototype.toBase64=function(){return BE(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return UE(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),iV=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(i,o){RE(i=ne(i,Be));var u=sn(i),a=i._freezeSettings(),l=new rv;return OE(u,l,new KS(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){RE(n=ne(n,Be));var i=sn(n),o=n._freezeSettings(),u=new rv;return OE(i,u,new RF(u,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new W(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Ln;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return Ks.yt()?(f=l+"main",[4,Ks.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(xm(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),gA=function(){function t(e,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof pf||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||tf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=ne(o,Fa))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&tf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var g,v;if(typeof l.mockUserToken=="string")g=l.mockUserToken,v=Qe.MOCK_USER;else{g=AD(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!y)throw new W(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Qe(y)}o._credentials=new FF(new QS(g,v))}}(this._delegate,e,n,i)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,_E(e)];case 1:return i=u.sent(),[4,EE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ot(a);return l.Or.delete(0),oc(l)}(o))]}})})})}(sn(ne(this._delegate,Be)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,_E(e)];case 1:return i=u.sent(),[4,EE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=ot(a)).Or.add(0),[4,su(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(sn(ne(this._delegate,Be)))},t.prototype.enablePersistence=function(e){var n=!1,i=!1;return e&&YS("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,i=new Ln;return e.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:return o=_F,[4,WS(e)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(sn(ne(this._delegate,Be)))},t.prototype.onSnapshotsInSync=function(e){return function(n,i){return function(o,u){var a=this,l=new rh(u);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(g,v){ot(g).Gr.add(v),v.next()},[4,Qs(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(g,v){ot(g).Gr.delete(v)},[4,Qs(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(sn(n=ne(n,Be)),Ys(i)?i:{next:i})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new W(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new mf(this,XS(this._delegate,e))}catch(n){throw gn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new To(this,Ml(this._delegate,e))}catch(n){throw gn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new fh(this,function(n,i){if(n=ne(n,Fa),zm("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new W(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xn(n,null,function(o){return new ni(ee.emptyPath(),o)}(i))}(this._delegate,e))}catch(n){throw gn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(i,o){return function(u,a){var l=this,f=new Ln;return u.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return $(this,function(g){switch(g.label){case 0:return[4,function(v){return ih(v).then(function(y){return y.datastore})}(u)];case 1:return d=g.sent(),new PF(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(sn(i),function(u){return o(new rV(i,u))})}(this._delegate,function(i){return e(new vA(n,i))})},t.prototype.batch=function(){var e=this;return sn(this._delegate),new mA(new nV(this._delegate,function(n){return uc(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new W(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new W(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ch=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new pA(new Ro(n))},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return To.eu(i,this.firestore,null)},e}(Zm);function oV(t){var e;e=t,vr.setLogLevel(e)}var vA=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ch(e)}return t.prototype.get=function(e){var n=this,i=wo(e);return this._delegate.get(i).then(function(o){return new ja(n._firestore,new Xr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(e,n,i){var o=wo(e);return i?(Gm("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=wo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ae([l,n,i],u)),this},t.prototype.delete=function(e){var n=wo(e);return this._delegate.delete(n),this},t}(),mA=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,i){var o=wo(e);return i?(Gm("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=wo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ae([l,n,i],u)),this},t.prototype.delete=function(e){var n=wo(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),lh=function(){function t(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}return t.prototype.fromFirestore=function(e,n){var i=new fa(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ua(this._firestore,i),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var i=t.su,o=i.get(e);o||(o=new WeakMap,i.set(e,o));var u=o.get(n);return u||(u=new t(e,new ch(e),n),o.set(n,u)),u},t}();lh.su=new WeakMap;var To=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ch(e)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new W(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ee(n._delegate,i,new bt(e)))},t.eu=function(e,n,i){return new t(n,new Ee(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new mf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new mf(this.firestore,XS(this._delegate,e))}catch(n){throw gn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Me(e))instanceof Ee&&JS(this._delegate,e)},t.prototype.set=function(e,n){n=Gm("DocumentReference.set",n);try{return n?VE(this._delegate,e,n):VE(this._delegate,e)}catch(i){throw gn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?jE(this._delegate,e):jE.apply(void 0,Ae([this._delegate,e,n],i))}catch(u){throw gn(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return uc(ne((e=this._delegate).firestore,Be),[new ic(e._key,an.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=yA(n),u=wA(n,function(a){return new ja(e.firestore,new Xr(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return dA(this._delegate,o,u)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ne(i,Ee);var o=ne(i.firestore,Be),u=sn(o),a=new Io(o);return function(l,f){var d=this,g=new Ln;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var v;return $(this,function(y){switch(y.label){case 0:return v=function(b,_,S){return H(this,void 0,void 0,function(){var N,O;return $(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(j,q){var rt=ot(j);return rt.persistence.runTransaction("read document","readonly",function(V){return rt.Mn.mn(V,q)})}(b,_)];case 1:return(O=P.sent()).isFoundDocument()?S.resolve(O):O.isNoDocument()?S.resolve(null):S.reject(new W(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=P.sent(),O=cu(N,"Failed to get document '"+_+" from cache"),S.reject(O),[3,3];case 3:return[2]}})})},[4,GS(l)];case 1:return[2,v.apply(void 0,[y.sent(),f,g])]}})})}),g.promise}(u,i._key).then(function(l){return new Xr(o,a,i._key,l,new yo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ne(i,Ee);var o=ne(i.firestore,Be);return IE(sn(o),i._key,{source:"server"}).then(function(u){return ov(o,i,u)})}(this._delegate):function(i){i=ne(i,Ee);var o=ne(i.firestore,Be);return IE(sn(o),i._key).then(function(u){return ov(o,i,u)})}(this._delegate)).then(function(i){return new ja(n.firestore,new Xr(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(lh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function gn(t,e,n){return t.message=t.message.replace(e,n),t}function yA(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(typeof i=="object"&&!Ys(i))return i}return{}}function wA(t,e){var n,i,o;return{next:function(u){o.next&&o.next(e(u))},error:(n=(o=Ys(t[0])?t[0]:Ys(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var ja=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new To(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return cA(this._delegate,e._delegate)},t}(),Ua=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(ja),fh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ch(e)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,vi(this._delegate,function(o,u,a){var l=u,f=vf("where",o);return new ZF(f,l,a)}(e,n,i)))}catch(o){throw gn(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,vi(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=vf("orderBy",i);return new tV(a,u)}(e,n)))}catch(i){throw gn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,vi(this._delegate,function(n){return xE("limit",n),new DE("limit",n,"F")}(e)))}catch(n){throw gn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,vi(this._delegate,function(n){return xE("limitToLast",n),new DE("limitToLast",n,"L")}(e)))}catch(n){throw gn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,vi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new PE("startAt",i,!0)}).apply(void 0,e)))}catch(i){throw gn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,vi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new PE("startAfter",i,!1)}).apply(void 0,e)))}catch(i){throw gn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,vi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LE("endBefore",i,!0)}).apply(void 0,e)))}catch(i){throw gn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,vi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LE("endAt",i,!1)}).apply(void 0,e)))}catch(i){throw gn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return ZS(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ne(i,Xn);var o=ne(i.firestore,Be),u=sn(o),a=new Io(o);return function(l,f){var d=this,g=new Ln;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var v;return $(this,function(y){switch(y.label){case 0:return v=function(b,_,S){return H(this,void 0,void 0,function(){var N,O,P,j,q;return $(this,function(rt){switch(rt.label){case 0:return rt.trys.push([0,2,,3]),[4,ff(b,_,!0)];case 1:return q=rt.sent(),N=new jS(_,q.Bn),O=N._o(q.documents),P=N.applyChanges(O,!1),S.resolve(P.snapshot),[3,3];case 2:return j=rt.sent(),q=cu(j,"Failed to execute query '"+_+" against cache"),S.reject(q),[3,3];case 3:return[2]}})})},[4,GS(l)];case 1:return[2,v.apply(void 0,[y.sent(),f,g])]}})})}),g.promise}(u,i._query).then(function(l){return new Si(o,a,i,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ne(i,Xn);var o=ne(i.firestore,Be),u=sn(o),a=new Io(o);return TE(u,i._query,{source:"server"}).then(function(l){return new Si(o,a,i,l)})}(this._delegate):function(i){i=ne(i,Xn);var o=ne(i.firestore,Be),u=sn(o),a=new Io(o);return lA(i._query),TE(u,i._query).then(function(l){return new Si(o,a,i,l)})}(this._delegate)).then(function(i){return new sv(n.firestore,new Si(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=yA(n),u=wA(n,function(a){return new sv(e.firestore,new Si(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return dA(this._delegate,o,u)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(lh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),sV=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Ua(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),sv=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new fh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new Ua(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(i){return new sV(n._firestore,i)})},t.prototype.forEach=function(e,n){var i=this;this._delegate.forEach(function(o){e.call(n,new Ua(i._firestore,o))})},t.prototype.isEqual=function(e){return cA(this._delegate,e._delegate)},t}(),mf=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Tt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new To(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new To(this.firestore,n===void 0?Ml(this._delegate):Ml(this._delegate,n))}catch(i){throw gn(i,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var i=this;return function(o,u){var a=ne(o.firestore,Be),l=Ml(o),f=ah(o.converter,u);return uc(a,[uh(Uo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,an.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new To(i.firestore,o)})},e.prototype.isEqual=function(n){return JS(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(lh.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(fh);function wo(t){return ne(t,Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uV=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Lr.bind.apply(Lr,Ae([void 0],e)))}return t.documentId=function(){return new t(wr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Me(e))instanceof Lr&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),aV=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new zF("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Wm("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new GF("arrayUnion",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new WF("arrayRemove",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(i){return new QF("increment",i)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),cV={Firestore:gA,GeoPoint:sh,Timestamp:On,Blob:pA,Transaction:vA,WriteBatch:mA,DocumentReference:To,DocumentSnapshot:ja,Query:fh,QueryDocumentSnapshot:Ua,QuerySnapshot:sv,CollectionReference:mf,FieldPath:uV,FieldValue:aV,setLogLevel:oV,CACHE_SIZE_UNLIMITED:qF};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lV(t){(function(e,n){e.INTERNAL.registerComponent(new Mf("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},cV)))})(t,function(e,n){return new gA(e,new Be(e,n),new iV)}),t.registerVersion("@firebase/firestore","2.4.1")}lV(xt);const fV={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};xt.initializeApp(fV);const Wr=xt.auth(),hV=xt.firestore(),dV=hV.collection("users"),hh=_1("user",{state:()=>({userLoggedIn:!1}),actions:{async register(t){const e=await Wr.createUserWithEmailAndPassword(t.email,t.password),n={name:t.name,email:t.email,birthdate:t.birthdate,country:t.country,phone:t.phone};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]===null||n[i]==="")&&delete n[i]}),await dV.doc(e.user.uid).set({userData:n}),await e.user.updateProfile({displayName:t.name}),this.userLoggedIn=!0},async authenticate(t){await Wr.signInWithEmailAndPassword(t.email,t.password),this.userLoggedIn=!0},async signOut(){await Wr.signOut(),this.userLoggedIn=!1,window.location.reload()}}}),ri=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},pV={name:"AppHeader",computed:{...yD($l,hh),...Uv($l,["isOpen"])},methods:{toggleAuthModal(){this.isOpen=!this.isOpen}}},gV={id:"header",class:"w-full font-circular-black"},vV={class:"flex items-center py-5 px-10"},mV=G("a",{class:"text-[#1ed760] font-bold text-2xl justify-center hover:scale-105",href:"#"},"Musicfy",-1),yV={class:"flex flex-grow items-center justify-end"},wV={class:"flex flex-row mt-1 gap-1"},bV=G("li",{class:"p-1 pr-2 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},[G("a",{class:"text-white text-sm flex gap-1 items-center",href:"https://www.spotify.com/es/download/windows/",target:"_blank"},[G("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),G("span",null,"Install app")])],-1),_V={key:0,class:"p-1 pr-2 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},EV=G("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),IV={class:"p-1 pr-2 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},TV=G("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[G("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),SV=d1('<li class="p-1 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"><a class="text-white" href="#"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></a></li>',1);function AV(t,e,n,i,o,u){return He(),wn("header",gV,[G("nav",vV,[mV,G("div",yV,[G("ul",wV,[bV,t.userStore.userLoggedIn?(He(),wn(kn,{key:1},[G("li",IV,[G("a",{class:"text-white text-sm flex gap-1 items-center",href:"#",onClick:e[1]||(e[1]=ql((...a)=>t.userStore.signOut&&t.userStore.signOut(...a),["prevent"]))},[TV,Dn(" Logout ")])]),SV],64)):(He(),wn("li",_V,[G("a",{class:"text-white text-sm flex gap-1 items-center",href:"#",onClick:e[0]||(e[0]=ql((...a)=>u.toggleAuthModal&&u.toggleAuthModal(...a),["prevent"]))},[EV,Dn(" Login/Register ")])]))])])])])}const NV=ri(pV,[["render",AV]]),kV={data(){return{currentTime:93,durationTime:186}},computed:{currentTimePercentage(){return this.currentTime/this.durationTime*100+"%"}}},xV={class:"fixed bottom-0 left-0 bg-black px-4 py-4 w-full flex flex-nowrap"},CV=G("div",{class:"text-white flex flex-col justify-center items-center font-circular-thin"},[G("p",{class:"song-title font-bold"},"Song Title"),G("p",{class:"song-artist"},"by Artist")],-1),OV={class:"text-white grow flex flex-col gap-0.5 font-circular-regular"},RV=G("button",{type:"button"},[G("p",{class:"fa fa-play-circle text-white text-3xl hover:scale-110"})],-1),DV={class:"flex flex-nowrap gap-3 justify-center items-center"},PV=G("div",{class:"player-currenttime text-xs secondary-text"},[Dn(" 00"),G("span",{class:"font-sans"},":"),Dn("00 ")],-1),LV={class:"group w-80 h-1 rounded bg-neutral-700 relative cursor-pointer"},MV=G("i",{class:"fas fa-circle"},null,-1),FV=[MV],VV=G("div",{class:"player-duration text-xs secondary-text"},[Dn(" 03"),G("span",{class:"font-sans"},":"),Dn("06 ")],-1);function jV(t,e,n,i,o,u){return He(),wn("div",xV,[CV,G("div",OV,[RV,G("div",DV,[PV,G("div",LV,[G("span",{class:"absolute -top-1.5 -ml-2.5 text-white text-xs opacity-0 group-hover:opacity-100",style:ga({left:u.currentTimePercentage})},FV,4),G("span",{class:"block h-1 rounded bg-white group-hover:bg-gradient-to-r from-green-500 to-green-400",style:ga({width:u.currentTimePercentage})},null,4)]),VV])])])}const UV=ri(kV,[["render",jV]]),BV={},qV={class:"mx-auto px-10"},$V=d1('<div class="bg-gray900 flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-neutral-300 border-opacity-10"><span class="card-title secondary-text font-circular-regular">Title</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 float-right secondary-text"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><ol id="playlist" class="font-circular-thin"><li class="flex justify-between items-center p-2 pl-6 cursor-pointer transition duration-800 rounded-md hover:bg-neutral-800"><div><a href="#" class="font-bold block text-gray-100">Song Title</a><span class="secondary-text text-sm">Artist Name</span></div><div class="text-gray-100 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 rounded-md hover:bg-neutral-800"><div><a href="#" class="font-bold block text-gray-100">Song Title</a><span class="text-gray-300 text-sm">Artist Name</span></div><div class="text-gray-100 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li></ol></div>',1),KV=[$V];function HV(t,e){return He(),wn("section",qV,KV)}const zV=ri(BV,[["render",HV]]),uv="/musicfy/assets/img/liked-songs-300.webp",qE="/musicfy/assets/img/liked-songs-640.webp",GV={name:"PlaylistHeader",data(){return{songsInPlaylist:Wr.currentUser?6:0}},computed:{getUserName(){return Wr.currentUser&&Wr.currentUser.displayName?Wr.currentUser.displayName:"Your name here"}}},WV=uv+" 150w, "+uv+" 300w, "+qE+" 320w, "+qE+" 640w",QV={class:"mb-10 py-20 text-white text-center relative font-circular-black"},YV={class:"container mx-10 flex gap-6"},XV=G("img",{"aria-hidden":"false",draggable:"false",loading:"eager",src:uv,alt:"Liked songs",class:"shadow-2xl shadow-black",srcset:WV,sizes:"(min-width: 1280px) 232px, 192px"},null,-1),JV={class:"text-white main-header-content flex flex-col grow justify-end items-start content-normal"},ZV=G("h4",{class:"text-sm mb-2 font-circular-regular"},"Playlist",-1),tj=G("h1",{class:"text-5xl mb-5 tracking-tighter"},"Liked songs",-1),ej={class:"font-circular-regula"};function nj(t,e,n,i,o,u){return He(),wn("section",QV,[G("div",YV,[XV,G("div",JV,[ZV,tj,G("p",ej,[G("span",null,va(u.getUserName)+" º "+va(o.songsInPlaylist)+" songs ",1)])])])])}const rj=ri(GV,[["render",nj]]),ij={name:"LoginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Your account is being created. "}},methods:{...E1(hh,["authenticate"]),async login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(t)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.login_alert_variant="bg-[#1ed760]",this.login_alert_msg="Success! Login completed.",window.location.reload()}}},oj={class:"mb-3"},sj=G("label",{class:"inline-block mb-2"},"Email",-1),uj={class:"mb-3"},aj=G("label",{class:"inline-block mb-2"},"Password",-1),cj=["disabled"];function lj(t,e,n,i,o,u){const a=Hn("VeeField"),l=Hn("ErrorMessage"),f=Hn("VeeForm");return He(),wn(kn,null,[o.login_show_alert?(He(),wn("div",{key:0,class:Pr(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},va(o.login_alert_msg),3)):p1("",!0),Bt(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:u.login},{default:bs(()=>[G("div",oj,[sj,Bt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),Bt(l,{class:"text-red-600 block",name:"email"})]),G("div",uj,[aj,Bt(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Password"}),Bt(l,{class:"text-red-600 block",name:"password"})]),G("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,cj)]),_:1},8,["validation-schema","onSubmit"])],64)}const fj=ri(ij,[["render",lj]]),hj={name:"RegisterForm",data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},showPassword:!1,showConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_success_msg:"Success! Your account has been created.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500",reg_success_variant:"bg-[#1ed760]"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(t){this.initRegisterAlert();try{await this.createUser(t)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.reg_alert_variant=this.reg_success_variant,this.reg_alert_msg=this.reg_success_msg,window.location.reload()},...E1(hh,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},dj={class:""},pj=G("label",{class:"select-none group"},[Dn("Name "),G("sup",{class:""},"*"),G("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),gj={class:""},vj=G("label",{class:"select-none group"},[Dn("Email "),G("sup",{class:""},"*"),G("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),mj={class:""},yj=G("label",{class:"select-none"},"Phone",-1),wj={class:""},bj=G("label",{class:"select-none group"},[Dn("Birthdate "),G("sup",{class:""},"*"),G("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),_j={class:""},Ej=G("label",{class:"select-none group"},[Dn("Password "),G("sup",{class:""},"*"),G("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),Ij={class:"flex items-center"},Tj=["type"],Sj={class:""},Aj=G("label",{class:"select-none group"},[Dn("Confirm Password "),G("sup",{class:""},"*"),G("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),Nj={class:"flex items-center"},kj=["type"],xj={class:""},Cj=G("label",{class:"select-none group"},[Dn("Country "),G("sup",{class:""},"*"),G("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),Oj=G("option",{value:"Argentina"},"Argentina",-1),Rj=G("option",{value:"United States"},"United States",-1),Dj=G("option",{value:"Spain"},"Spain",-1),Pj=G("option",{value:"Germany"},"Germany",-1),Lj=G("option",{value:"Antarctica"},"Antarctica",-1),Mj=G("option",{value:"Other"},"Other",-1),Fj={class:"mb-3 pl-6"},Vj={class:"inline-block hover:cursor-pointer"},jj=G("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function Uj(t,e,n,i,o,u){const a=Hn("VeeField"),l=Hn("ErrorMessage"),f=Hn("VeeForm");return He(),wn(kn,null,[o.reg_show_alert?(He(),wn("div",{key:0,class:Pr(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},va(o.reg_alert_msg),3)):p1("",!0),Bt(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:u.register,"initial-values":o.userData},{default:bs(()=>[G("div",dj,[pj,Bt(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),Bt(l,{class:"text-red-600",name:"name"})]),G("div",gj,[vj,Bt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),Bt(l,{class:"text-red-600",name:"email"})]),G("div",mj,[yj,Bt(a,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your phone"}),Bt(l,{class:"text-red-600",name:"phone"})]),G("div",wj,[bj,Bt(a,{name:"birthdate",type:"date",min:"1900-01-01",max:u.maxBirthdate,class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),Bt(l,{class:"text-red-600",name:"birthdate"})]),G("div",_j,[Ej,Bt(a,{name:"password",bails:!1},{default:bs(({field:d,errors:g})=>[G("div",Ij,[G("input",kg(d,{placeholder:"Enter new Password",type:o.showPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,Tj),G("i",{onClick:e[0]||(e[0]=v=>o.showPassword=!o.showPassword),class:Pr(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.showPassword,"fa-regular fa-eye":!o.showPassword}])},null,2)]),(He(!0),wn(kn,null,uR(g,v=>(He(),wn("div",{class:"text-red-600",key:v},va(v),1))),128))]),_:1})]),G("div",Sj,[Aj,Bt(a,{name:"confirmPassword",bails:!1},{default:bs(({field:d})=>[G("div",Nj,[G("input",kg(d,{type:o.showConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),null,16,kj),G("i",{onClick:e[1]||(e[1]=g=>o.showConfirmPassword=!o.showConfirmPassword),class:Pr(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.showConfirmPassword,"fa-regular fa-eye":!o.showConfirmPassword}])},null,2)])]),_:1}),Bt(l,{class:"text-red-600",name:"confirmPassword"})]),G("div",xj,[Cj,Bt(a,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:bs(()=>[Oj,Rj,Dj,Pj,Lj,Mj]),_:1}),Bt(l,{class:"text-red-600",name:"country"})]),G("div",Fj,[G("label",Vj,[Bt(a,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Dn(" Accept terms of service")]),Bt(l,{class:"text-red-600 block",name:"tos"})]),jj]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Bj=ri(hj,[["render",Uj]]),qj={name:"AppAuth",components:{AppLoginForm:fj,AppRegisterForm:Bj},data(){return{tab:"login"}},computed:{...wD($l,["hiddenClass"]),...Uv($l,{modalVisibility:"isOpen"})},methods:{}},$j={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Kj=G("div",{class:"fixed inset-0 transition-opacity"},[G("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),Hj=G("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),zj={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Gj={class:"py-4 text-left px-6"},Wj={class:"flex justify-between items-center pb-4"},Qj=G("p",{class:"text-2xl font-bold"},"Your Account",-1),Yj=G("i",{class:"fas fa-times"},null,-1),Xj=[Yj],Jj={class:"flex flex-wrap mb-4 gap-2"},Zj={class:"flex-auto text-center"},t2={class:"flex-auto text-center"};function e2(t,e,n,i,o,u){const a=Hn("AppLoginForm"),l=Hn("AppRegisterForm");return He(),wn("div",{class:Pr(["fixed z-10 inset-0 overflow-y-auto",t.hiddenClass]),id:"modal"},[G("div",$j,[Kj,Hj,G("div",zj,[G("div",Gj,[G("div",Wj,[Qj,G("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=f=>t.modalVisibility=!1)},Xj)]),G("ul",Jj,[G("li",Zj,[G("a",{class:Pr(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:e[1]||(e[1]=ql(f=>o.tab="login",["prevent"]))},"Login",2)]),G("li",t2,[G("a",{class:Pr(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:e[2]||(e[2]=ql(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(He(),Ag(a,{key:0})):(He(),Ag(l,{key:1}))])])])],2)}const n2=ri(qj,[["render",e2]]),r2={name:"App",components:{AppHeader:NV,AppPlaylistHeader:rj,AppPlaylist:zV,AppPlayer:UV,AppAuth:n2},computed:{...Uv(hh,["userLoggedIn"])},created(){Wr.currentUser&&(this.userLoggedIn=!0)}};function i2(t,e,n,i,o,u){const a=Hn("AppHeader"),l=Hn("AppPlaylistHeader"),f=Hn("AppPlaylist"),d=Hn("AppPlayer"),g=Hn("AppAuth");return He(),wn(kn,null,[Bt(a),Bt(l),Bt(f),Bt(d),Bt(g)],64)}const o2=ri(r2,[["render",i2]]),s2="modulepreload",u2=function(t){return"/musicfy/"+t},$E={},a2=function(e,n,i){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(u=>{if(u=u2(u),u in $E)return;$E[u]=!0;const a=u.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let g=o.length-1;g>=0;g--){const v=o[g];if(v.href===u&&(!a||v.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":s2,a||(d.as="script",d.crossOrigin=""),d.href=u,document.head.appendChild(d),a)return new Promise((g,v)=>{d.addEventListener("load",g),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>e()).catch(u=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=u,window.dispatchEvent(a),!a.defaultPrevented)throw u})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ws=typeof window<"u";function c2(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ie=Object.assign;function fg(t,e){const n={};for(const i in e){const o=e[i];n[i]=br(o)?o.map(t):t(o)}return n}const ha=()=>{},br=Array.isArray,l2=/\/$/,f2=t=>t.replace(l2,"");function hg(t,e,n="/"){let i,o={},u="",a="";const l=e.indexOf("#");let f=e.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=e.slice(0,f),u=e.slice(f+1,l>-1?l:e.length),o=t(u)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=g2(i??e,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function h2(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function KE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function d2(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Xs(e.matched[i],n.matched[o])&&bA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Xs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function bA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!p2(t[n],e[n]))return!1;return!0}function p2(t,e){return br(t)?HE(t,e):br(e)?HE(e,t):t===e}function HE(t,e){return br(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function g2(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var Ba;(function(t){t.pop="pop",t.push="push"})(Ba||(Ba={}));var da;(function(t){t.back="back",t.forward="forward",t.unknown=""})(da||(da={}));function v2(t){if(!t)if(ws){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),f2(t)}const m2=/^[^#]+#/;function y2(t,e){return t.replace(m2,"#")+e}function w2(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const dh=()=>({left:window.pageXOffset,top:window.pageYOffset});function b2(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=w2(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function zE(t,e){return(history.state?history.state.position-e:-1)+t}const av=new Map;function _2(t,e){av.set(t,e)}function E2(t){const e=av.get(t);return av.delete(t),e}let I2=()=>location.protocol+"//"+location.host;function _A(t,e){const{pathname:n,search:i,hash:o}=e,u=t.indexOf("#");if(u>-1){let l=o.includes(t.slice(u))?t.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),KE(f,"")}return KE(n,t)+i+o}function T2(t,e,n,i){let o=[],u=[],a=null;const l=({state:y})=>{const b=_A(t,location),_=n.value,S=e.value;let N=0;if(y){if(n.value=b,e.value=y,a&&a===_){a=null;return}N=S?y.position-S.position:0}else i(b);o.forEach(O=>{O(n.value,_,{delta:N,type:Ba.pop,direction:N?N>0?da.forward:da.back:da.unknown})})};function f(){a=n.value}function d(y){o.push(y);const b=()=>{const _=o.indexOf(y);_>-1&&o.splice(_,1)};return u.push(b),b}function g(){const{history:y}=window;y.state&&y.replaceState(ie({},y.state,{scroll:dh()}),"")}function v(){for(const y of u)y();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:d,destroy:v}}function GE(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?dh():null}}function S2(t){const{history:e,location:n}=window,i={value:_A(t,n)},o={value:e.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(f,d,g){const v=t.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+f:I2()+t+f;try{e[g?"replaceState":"pushState"](d,"",y),o.value=d}catch(b){console.error(b),n[g?"replace":"assign"](y)}}function a(f,d){const g=ie({},e.state,GE(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,g,!0),i.value=f}function l(f,d){const g=ie({},o.value,e.state,{forward:f,scroll:dh()});u(g.current,g,!0);const v=ie({},GE(i.value,f,null),{position:g.position+1},d);u(f,v,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function A2(t){t=v2(t);const e=S2(t),n=T2(t,e.state,e.location,e.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=ie({location:"",base:t,go:i,createHref:y2.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function N2(t){return typeof t=="string"||t&&typeof t=="object"}function EA(t){return typeof t=="string"||typeof t=="symbol"}const mi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},IA=Symbol("");var WE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(WE||(WE={}));function Js(t,e){return ie(new Error,{type:t,[IA]:!0},e)}function Kr(t,e){return t instanceof Error&&IA in t&&(e==null||!!(t.type&e))}const QE="[^/]+?",k2={sensitive:!1,strict:!1,start:!0,end:!0},x2=/[.+*?^${}()[\]/\\]/g;function C2(t,e){const n=ie({},k2,e),i=[];let o=n.start?"^":"";const u=[];for(const d of t){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let v=0;v<d.length;v++){const y=d[v];let b=40+(n.sensitive?.25:0);if(y.type===0)v||(o+="/"),o+=y.value.replace(x2,"\\$&"),b+=40;else if(y.type===1){const{value:_,repeatable:S,optional:N,regexp:O}=y;u.push({name:_,repeatable:S,optional:N});const P=O||QE;if(P!==QE){b+=10;try{new RegExp(`(${P})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+q.message)}}let j=S?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(j=N&&d.length<2?`(?:/${j})`:"/"+j),N&&(j+="?"),o+=j,b+=20,N&&(b+=-8),S&&(b+=-20),P===".*"&&(b+=-50)}g.push(b)}i.push(g)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const g=d.match(a),v={};if(!g)return null;for(let y=1;y<g.length;y++){const b=g[y]||"",_=u[y-1];v[_.name]=b&&_.repeatable?b.split("/"):b}return v}function f(d){let g="",v=!1;for(const y of t){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const b of y)if(b.type===0)g+=b.value;else if(b.type===1){const{value:_,repeatable:S,optional:N}=b,O=_ in d?d[_]:"";if(br(O)&&!S)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=br(O)?O.join("/"):O;if(!P)if(N)y.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${_}"`);g+=P}}return g||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function O2(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function R2(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const u=O2(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(YE(i))return 1;if(YE(o))return-1}return o.length-i.length}function YE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const D2={type:0,value:""},P2=/[a-zA-Z0-9_]/;function L2(t){if(!t)return[[]];if(t==="/")return[[D2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",g="";function v(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),d="")}function y(){d+=f}for(;l<t.length;){if(f=t[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&v(),a()):f===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:f==="("?n=2:P2.test(f)?y():(v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),v(),a(),o}function M2(t,e,n){const i=C2(L2(t.path),n),o=ie(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function F2(t,e){const n=[],i=new Map;e=ZE({strict:!1,end:!0,sensitive:!1},e);function o(g){return i.get(g)}function u(g,v,y){const b=!y,_=V2(g);_.aliasOf=y&&y.record;const S=ZE(e,g),N=[_];if("alias"in g){const j=typeof g.alias=="string"?[g.alias]:g.alias;for(const q of j)N.push(ie({},_,{components:y?y.record.components:_.components,path:q,aliasOf:y?y.record:_}))}let O,P;for(const j of N){const{path:q}=j;if(v&&q[0]!=="/"){const rt=v.record.path,V=rt[rt.length-1]==="/"?"":"/";j.path=v.record.path+(q&&V+q)}if(O=M2(j,v,S),y?y.alias.push(O):(P=P||O,P!==O&&P.alias.push(O),b&&g.name&&!JE(O)&&a(g.name)),_.children){const rt=_.children;for(let V=0;V<rt.length;V++)u(rt[V],O,y&&y.children[V])}y=y||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&f(O)}return P?()=>{a(P)}:ha}function a(g){if(EA(g)){const v=i.get(g);v&&(i.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&i.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function l(){return n}function f(g){let v=0;for(;v<n.length&&R2(g,n[v])>=0&&(g.record.path!==n[v].record.path||!TA(g,n[v]));)v++;n.splice(v,0,g),g.record.name&&!JE(g)&&i.set(g.record.name,g)}function d(g,v){let y,b={},_,S;if("name"in g&&g.name){if(y=i.get(g.name),!y)throw Js(1,{location:g});S=y.record.name,b=ie(XE(v.params,y.keys.filter(P=>!P.optional).map(P=>P.name)),g.params&&XE(g.params,y.keys.map(P=>P.name))),_=y.stringify(b)}else if("path"in g)_=g.path,y=n.find(P=>P.re.test(_)),y&&(b=y.parse(_),S=y.record.name);else{if(y=v.name?i.get(v.name):n.find(P=>P.re.test(v.path)),!y)throw Js(1,{location:g,currentLocation:v});S=y.record.name,b=ie({},v.params,g.params),_=y.stringify(b)}const N=[];let O=y;for(;O;)N.unshift(O.record),O=O.parent;return{name:S,path:_,params:b,matched:N,meta:U2(N)}}return t.forEach(g=>u(g)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function XE(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function V2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:j2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function j2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function JE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function U2(t){return t.reduce((e,n)=>ie(e,n.meta),{})}function ZE(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function TA(t,e){return e.children.some(n=>n===t||TA(t,n))}const SA=/#/g,B2=/&/g,q2=/\//g,$2=/=/g,K2=/\?/g,AA=/\+/g,H2=/%5B/g,z2=/%5D/g,NA=/%5E/g,G2=/%60/g,kA=/%7B/g,W2=/%7C/g,xA=/%7D/g,Q2=/%20/g;function ty(t){return encodeURI(""+t).replace(W2,"|").replace(H2,"[").replace(z2,"]")}function Y2(t){return ty(t).replace(kA,"{").replace(xA,"}").replace(NA,"^")}function cv(t){return ty(t).replace(AA,"%2B").replace(Q2,"+").replace(SA,"%23").replace(B2,"%26").replace(G2,"`").replace(kA,"{").replace(xA,"}").replace(NA,"^")}function X2(t){return cv(t).replace($2,"%3D")}function J2(t){return ty(t).replace(SA,"%23").replace(K2,"%3F")}function Z2(t){return t==null?"":J2(t).replace(q2,"%2F")}function yf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function tU(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(AA," "),a=u.indexOf("="),l=yf(a<0?u:u.slice(0,a)),f=a<0?null:yf(u.slice(a+1));if(l in e){let d=e[l];br(d)||(d=e[l]=[d]),d.push(f)}else e[l]=f}return e}function tI(t){let e="";for(let n in t){const i=t[n];if(n=X2(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(br(i)?i.map(u=>u&&cv(u)):[i&&cv(i)]).forEach(u=>{u!==void 0&&(e+=(e.length?"&":"")+n,u!=null&&(e+="="+u))})}return e}function eU(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=br(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const nU=Symbol(""),eI=Symbol(""),ey=Symbol(""),CA=Symbol(""),lv=Symbol("");function Yu(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function _i(t,e,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=v=>{v===!1?l(Js(4,{from:n,to:e})):v instanceof Error?l(v):N2(v)?l(Js(2,{from:e,to:v})):(u&&i.enterCallbacks[o]===u&&typeof v=="function"&&u.push(v),a())},d=t.call(i&&i.instances[o],e,n,f);let g=Promise.resolve(d);t.length<3&&(g=g.then(f)),g.catch(v=>l(v))})}function dg(t,e,n,i){const o=[];for(const u of t)for(const a in u.components){let l=u.components[a];if(!(e!=="beforeRouteEnter"&&!u.instances[a]))if(rU(l)){const d=(l.__vccOpts||l)[e];d&&o.push(_i(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const g=c2(d)?d.default:d;u.components[a]=g;const y=(g.__vccOpts||g)[e];return y&&_i(y,n,i,u,a)()}))}}return o}function rU(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function nI(t){const e=ir(ey),n=ir(CA),i=qt(()=>e.resolve(Gt(t.to))),o=qt(()=>{const{matched:f}=i.value,{length:d}=f,g=f[d-1],v=n.matched;if(!g||!v.length)return-1;const y=v.findIndex(Xs.bind(null,g));if(y>-1)return y;const b=rI(f[d-2]);return d>1&&rI(g)===b&&v[v.length-1].path!==b?v.findIndex(Xs.bind(null,f[d-2])):y}),u=qt(()=>o.value>-1&&uU(n.params,i.value.params)),a=qt(()=>o.value>-1&&o.value===n.matched.length-1&&bA(n.params,i.value.params));function l(f={}){return sU(f)?e[Gt(t.replace)?"replace":"push"](Gt(t.to)).catch(ha):Promise.resolve()}return{route:i,href:qt(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const iU=qa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:nI,setup(t,{slots:e}){const n=Zr(nI(t)),{options:i}=ir(ey),o=qt(()=>({[iI(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[iI(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=e.default&&e.default(n);return t.custom?u:Rs("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),oU=iU;function sU(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function uU(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!br(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function rI(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const iI=(t,e,n)=>t??e??n,aU=qa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=ir(lv),o=qt(()=>t.route||i.value),u=ir(eI,0),a=qt(()=>{let d=Gt(u);const{matched:g}=o.value;let v;for(;(v=g[d])&&!v.components;)d++;return d}),l=qt(()=>o.value.matched[a.value]);Ns(eI,qt(()=>a.value+1)),Ns(nU,l),Ns(lv,o);const f=vn();return Yn(()=>[f.value,l.value,t.name],([d,g,v],[y,b,_])=>{g&&(g.instances[v]=d,b&&b!==g&&d&&d===y&&(g.leaveGuards.size||(g.leaveGuards=b.leaveGuards),g.updateGuards.size||(g.updateGuards=b.updateGuards))),d&&g&&(!b||!Xs(g,b)||!y)&&(g.enterCallbacks[v]||[]).forEach(S=>S(d))},{flush:"post"}),()=>{const d=o.value,g=t.name,v=l.value,y=v&&v.components[g];if(!y)return oI(n.default,{Component:y,route:d});const b=v.props[g],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,N=Rs(y,ie({},_,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(v.instances[g]=null)},ref:f}));return oI(n.default,{Component:N,route:d})||N}}});function oI(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const cU=aU;function lU(t){const e=F2(t.routes,t),n=t.parseQuery||tU,i=t.stringifyQuery||tI,o=t.history,u=Yu(),a=Yu(),l=Yu(),f=UI(mi);let d=mi;ws&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=fg.bind(null,R=>""+R),v=fg.bind(null,Z2),y=fg.bind(null,yf);function b(R,U){let Z,ut;return EA(R)?(Z=e.getRecordMatcher(R),ut=U):ut=R,e.addRoute(ut,Z)}function _(R){const U=e.getRecordMatcher(R);U&&e.removeRoute(U)}function S(){return e.getRoutes().map(R=>R.record)}function N(R){return!!e.getRecordMatcher(R)}function O(R,U){if(U=ie({},U||f.value),typeof R=="string"){const C=hg(n,R,U.path),M=e.resolve({path:C.path},U),F=o.createHref(C.fullPath);return ie(C,M,{params:y(M.params),hash:yf(C.hash),redirectedFrom:void 0,href:F})}let Z;if("path"in R)Z=ie({},R,{path:hg(n,R.path,U.path).path});else{const C=ie({},R.params);for(const M in C)C[M]==null&&delete C[M];Z=ie({},R,{params:v(C)}),U.params=v(U.params)}const ut=e.resolve(Z,U),Rt=R.hash||"";ut.params=g(y(ut.params));const I=h2(i,ie({},R,{hash:Y2(Rt),path:ut.path})),T=o.createHref(I);return ie({fullPath:I,hash:Rt,query:i===tI?eU(R.query):R.query||{}},ut,{redirectedFrom:void 0,href:T})}function P(R){return typeof R=="string"?hg(n,R,f.value.path):ie({},R)}function j(R,U){if(d!==R)return Js(8,{from:U,to:R})}function q(R){return It(R)}function rt(R){return q(ie(P(R),{replace:!0}))}function V(R){const U=R.matched[R.matched.length-1];if(U&&U.redirect){const{redirect:Z}=U;let ut=typeof Z=="function"?Z(R):Z;return typeof ut=="string"&&(ut=ut.includes("?")||ut.includes("#")?ut=P(ut):{path:ut},ut.params={}),ie({query:R.query,hash:R.hash,params:"path"in ut?{}:R.params},ut)}}function It(R,U){const Z=d=O(R),ut=f.value,Rt=R.state,I=R.force,T=R.replace===!0,C=V(Z);if(C)return It(ie(P(C),{state:typeof C=="object"?ie({},Rt,C.state):Rt,force:I,replace:T}),U||Z);const M=Z;M.redirectedFrom=U;let F;return!I&&d2(i,ut,Z)&&(F=Js(16,{to:M,from:ut}),Ve(ut,ut,!0,!1)),(F?Promise.resolve(F):A(M,ut)).catch(z=>Kr(z)?Kr(z,2)?z:Ie(z):gt(z,M,ut)).then(z=>{if(z){if(Kr(z,2))return It(ie({replace:T},P(z.to),{state:typeof z.to=="object"?ie({},Rt,z.to.state):Rt,force:I}),U||M)}else z=oe(M,ut,!0,T,Rt);return Wt(M,ut,z),z})}function Q(R,U){const Z=j(R,U);return Z?Promise.reject(Z):Promise.resolve()}function ht(R){const U=Fn.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(R):R()}function A(R,U){let Z;const[ut,Rt,I]=fU(R,U);Z=dg(ut.reverse(),"beforeRouteLeave",R,U);for(const C of ut)C.leaveGuards.forEach(M=>{Z.push(_i(M,R,U))});const T=Q.bind(null,R,U);return Z.push(T),vt(Z).then(()=>{Z=[];for(const C of u.list())Z.push(_i(C,R,U));return Z.push(T),vt(Z)}).then(()=>{Z=dg(Rt,"beforeRouteUpdate",R,U);for(const C of Rt)C.updateGuards.forEach(M=>{Z.push(_i(M,R,U))});return Z.push(T),vt(Z)}).then(()=>{Z=[];for(const C of I)if(C.beforeEnter)if(br(C.beforeEnter))for(const M of C.beforeEnter)Z.push(_i(M,R,U));else Z.push(_i(C.beforeEnter,R,U));return Z.push(T),vt(Z)}).then(()=>(R.matched.forEach(C=>C.enterCallbacks={}),Z=dg(I,"beforeRouteEnter",R,U),Z.push(T),vt(Z))).then(()=>{Z=[];for(const C of a.list())Z.push(_i(C,R,U));return Z.push(T),vt(Z)}).catch(C=>Kr(C,8)?C:Promise.reject(C))}function Wt(R,U,Z){l.list().forEach(ut=>ht(()=>ut(R,U,Z)))}function oe(R,U,Z,ut,Rt){const I=j(R,U);if(I)return I;const T=U===mi,C=ws?history.state:{};Z&&(ut||T?o.replace(R.fullPath,ie({scroll:T&&C&&C.scroll},Rt)):o.push(R.fullPath,Rt)),f.value=R,Ve(R,U,Z,T),Ie()}let se;function ce(){se||(se=o.listen((R,U,Z)=>{if(!dt.listening)return;const ut=O(R),Rt=V(ut);if(Rt){It(ie(Rt,{replace:!0}),ut).catch(ha);return}d=ut;const I=f.value;ws&&_2(zE(I.fullPath,Z.delta),dh()),A(ut,I).catch(T=>Kr(T,12)?T:Kr(T,2)?(It(T.to,ut).then(C=>{Kr(C,20)&&!Z.delta&&Z.type===Ba.pop&&o.go(-1,!1)}).catch(ha),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),gt(T,ut,I))).then(T=>{T=T||oe(ut,I,!1),T&&(Z.delta&&!Kr(T,8)?o.go(-Z.delta,!1):Z.type===Ba.pop&&Kr(T,20)&&o.go(-1,!1)),Wt(ut,I,T)}).catch(ha)}))}let Qt=Yu(),st=Yu(),Lt;function gt(R,U,Z){Ie(R);const ut=st.list();return ut.length?ut.forEach(Rt=>Rt(R,U,Z)):console.error(R),Promise.reject(R)}function he(){return Lt&&f.value!==mi?Promise.resolve():new Promise((R,U)=>{Qt.add([R,U])})}function Ie(R){return Lt||(Lt=!R,ce(),Qt.list().forEach(([U,Z])=>R?Z(R):U()),Qt.reset()),R}function Ve(R,U,Z,ut){const{scrollBehavior:Rt}=t;if(!ws||!Rt)return Promise.resolve();const I=!Z&&E2(zE(R.fullPath,0))||(ut||!Z)&&history.state&&history.state.scroll||null;return Cr().then(()=>Rt(R,U,I)).then(T=>T&&b2(T)).catch(T=>gt(T,R,U))}const Ce=R=>o.go(R);let de;const Fn=new Set,dt={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:N,getRoutes:S,resolve:O,options:t,push:q,replace:rt,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:st.add,isReady:he,install(R){const U=this;R.component("RouterLink",oU),R.component("RouterView",cU),R.config.globalProperties.$router=U,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Gt(f)}),ws&&!de&&f.value===mi&&(de=!0,q(o.location).catch(Rt=>{}));const Z={};for(const Rt in mi)Object.defineProperty(Z,Rt,{get:()=>f.value[Rt],enumerable:!0});R.provide(ey,U),R.provide(CA,MI(Z)),R.provide(lv,f);const ut=R.unmount;Fn.add(R),R.unmount=function(){Fn.delete(R),Fn.size<1&&(d=mi,se&&se(),se=null,f.value=mi,de=!1,Lt=!1),ut()}}};function vt(R){return R.reduce((U,Z)=>U.then(()=>ht(Z)),Promise.resolve())}return dt}function fU(t,e){const n=[],i=[],o=[],u=Math.max(e.matched.length,t.matched.length);for(let a=0;a<u;a++){const l=e.matched[a];l&&(t.matched.find(d=>Xs(d,l))?i.push(l):n.push(l));const f=t.matched[a];f&&(e.matched.find(d=>Xs(d,f))||o.push(f))}return[n,i,o]}const hU={};function dU(t,e){return He(),wn("h1")}const pU=ri(hU,[["render",dU]]),gU=lU({history:A2("/musicfy/"),routes:[{path:"/",name:"home",component:pU},{path:"/about",name:"about",component:()=>a2(()=>import("./AboutView-eb880ae7.js"),[])}]});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Ye(t){return typeof t=="function"}function OA(t){return t==null}const Do=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function ny(t){return Number(t)>=0}function vU(t){const e=parseFloat(t);return isNaN(e)?t:e}function mU(t){return typeof t=="object"&&t!==null}function yU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function wU(t){if(!mU(t)||yU(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function wf(t,e){return Object.keys(e).forEach(n=>{if(wU(e[n])){t[n]||(t[n]={}),wf(t[n],e[n]);return}t[n]=e[n]}),t}function ra(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let i=1;i<e.length;i++){if(ny(e[i])){n+=`[${e[i]}]`;continue}n+=`.${e[i]}`}return n}const RA={};function Bn(t,e){_U(t,e),RA[t]=e}function bU(t){return RA[t]}function _U(t,e){if(!Ye(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}function sI(t,e,n){typeof n.value=="object"&&(n.value=le(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function le(t){if(typeof t!="object")return t;var e=0,n,i,o,u=Object.prototype.toString.call(t);if(u==="[object Object]"?o=Object.create(t.__proto__||null):u==="[object Array]"?o=Array(t.length):u==="[object Set]"?(o=new Set,t.forEach(function(a){o.add(le(a))})):u==="[object Map]"?(o=new Map,t.forEach(function(a,l){o.set(le(l),le(a))})):u==="[object Date]"?o=new Date(+t):u==="[object RegExp]"?o=new RegExp(t.source,t.flags):u==="[object DataView]"?o=new t.constructor(le(t.buffer)):u==="[object ArrayBuffer]"?o=t.slice(0):u.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)sI(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,n=i[e])&&o[n]===t[n]||sI(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}const ph=Symbol("vee-validate-form"),EU=Symbol("vee-validate-field-instance"),bf=Symbol("Default empty value"),IU=typeof window<"u";function fv(t){return Ye(t)&&!!t.__locatorRef}function Mi(t){return!!t&&Ye(t.parse)&&t.__type==="VVTypedSchema"}function _f(t){return!!t&&Ye(t.validate)}function ac(t){return t==="checkbox"||t==="radio"}function TU(t){return Do(t)||Array.isArray(t)}function SU(t){return Array.isArray(t)?t.length===0:Do(t)&&Object.keys(t).length===0}function gh(t){return/^\[.+\]$/i.test(t)}function AU(t){return DA(t)&&t.multiple}function DA(t){return t.tagName==="SELECT"}function NU(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function kU(t,e){return!NU(t,e)&&e.type!=="file"&&!ac(e.type)}function PA(t){return ry(t)&&t.target&&"submit"in t.target}function ry(t){return t?!!(typeof Event<"u"&&Ye(Event)&&t instanceof Event||t&&t.srcElement):!1}function uI(t,e){return e in t&&t[e]!==bf}function En(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!En(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!En(i[1],e.get(i[0])))return!1;return!0}if(aI(t)&&aI(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();for(o=Object.keys(t),n=o.length,i=n;i--!==0;){var u=o[i];if(!En(t[u],e[u]))return!1}return!0}return t!==t&&e!==e}function aI(t){return IU?t instanceof File:!1}function iy(t){return gh(t)?t.replace(/\[|\]/gi,""):t}function xn(t,e,n){return t?gh(e)?t[iy(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>TU(o)&&u in o?o[u]:n,t):n}function fo(t,e,n){if(gh(e)){t[iy(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let o=t;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||OA(o[i[u]]))&&(o[i[u]]=ny(i[u+1])?[]:{}),o=o[i[u]]}}function pg(t,e){if(Array.isArray(t)&&ny(e)){t.splice(Number(e),1);return}Do(t)&&delete t[e]}function cI(t,e){if(gh(e)){delete t[iy(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let u=0;u<n.length;u++){if(u===n.length-1){pg(i,n[u]);break}if(!(n[u]in i)||OA(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>xn(t,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(SU(o[u])){if(u===0){pg(t,n[0]);continue}pg(o[u-1],n[u-1])}}function rr(t){return Object.keys(t)}function LA(t,e=void 0){const n=Pf();return(n==null?void 0:n.provides[t])||ir(t,e)}function lI(t,e,n){if(Array.isArray(t)){const i=[...t],o=i.findIndex(u=>En(u,e));return o>=0?i.splice(o,1):i.push(e),i}return En(t,e)?n:e}function fI(t,e=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=t(...o);i.forEach(a=>a(u)),i=[]},e),new Promise(u=>i.push(u))}}function xU(t,e){return Do(e)&&e.number?vU(t):t}function hv(t,e){let n;return async function(...o){const u=t(...o);n=u;const a=await u;return u!==n||(n=void 0,e(a,o)),a}}function dv(t){return Array.isArray(t)?t:t?[t]:[]}function Xu(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function CU(t){let e=null,n=[];return function(...i){const o=Cr(()=>{if(e!==o)return;const u=t(...i);n.forEach(a=>a(u)),n=[],e=null});return e=o,new Promise(u=>n.push(u))}}function oy(t,e,n){return e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var i,o;return(o=(i=e.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:e.slots.default}function gg(t){if(MA(t))return t._value}function MA(t){return"_value"in t}function OU(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function Ef(t){if(!ry(t))return t;const e=t.target;if(ac(e.type)&&MA(e))return gg(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(AU(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(gg);if(DA(e)){const n=Array.from(e.options).find(i=>i.selected);return n?gg(n):e.value}return OU(e)}function FA(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Do(t)&&t._$$isNormalized?t:Do(t)?Object.keys(t).reduce((n,i)=>{const o=RU(t[i]);return t[i]!==!1&&(n[i]=hI(o)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const o=DU(i);return o.name&&(n[o.name]=hI(o.params)),n},e):e}function RU(t){return t===!0?[]:Array.isArray(t)||Do(t)?t:[t]}function hI(t){const e=n=>typeof n=="string"&&n[0]==="@"?PU(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const DU=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function PU(t){const e=n=>xn(n,t)||n[t];return e.__locatorRef=t,e}function LU(t){return Array.isArray(t)?t.filter(fv):rr(t).filter(e=>fv(t[e])).map(e=>t[e])}const MU={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let pv=Object.assign({},MU);const Ni=()=>pv,FU=t=>{pv=Object.assign(Object.assign({},pv),t)},VU=FU;async function VA(t,e,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await jU(o,t)).errors;return{errors:a,valid:!a.length}}async function jU(t,e){if(Mi(t.rules)||_f(t.rules))return BU(e,t.rules);if(Ye(t.rules)||Array.isArray(t.rules)){const a={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},l=Array.isArray(t.rules)?t.rules:[t.rules],f=l.length,d=[];for(let g=0;g<f;g++){const v=l[g],y=await v(e,a);if(!(typeof y!="string"&&!Array.isArray(y)&&y)){if(Array.isArray(y))d.push(...y);else{const _=typeof y=="string"?y:UA(a);d.push(_)}if(t.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},t),{rules:FA(t.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await qU(n,e,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),t.bails))return{errors:i}}return{errors:i}}function UU(t){return!!t&&t.name==="ValidationError"}function jA(t){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await t.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!UU(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function BU(t,e){const i=await(Mi(e)?e:jA(e)).parse(t),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function qU(t,e,n){const i=bU(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=$U(n.params,t.formData),u={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(e,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:UA(u)}}function UA(t){const e=Ni().generateMessage;return e?e(t):"Field is invalid"}function $U(t,e){const n=i=>fv(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,o)=>(i[o]=n(t[o]),i),{})}async function KU(t,e){const i=await(Mi(t)?t:jA(t)).parse(le(e)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,g)=>`[${g}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function HU(t,e,n){const o=rr(t).map(async d=>{var g,v,y;const b=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d],_=await VA(xn(e,d),t[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:e,bails:(y=(v=n==null?void 0:n.bailsMap)===null||v===void 0?void 0:v[d])!==null&&y!==void 0?y:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let dI=0;function zU(t,e){const{value:n,initialValue:i,setInitialValue:o}=GU(t,e.modelValue,e.form);if(!e.form){let y=function(b){var _;"value"in b&&(n.value=b.value),"errors"in b&&d(b.errors),"touched"in b&&(v.touched=(_=b.touched)!==null&&_!==void 0?_:v.touched),"initialValue"in b&&o(b.initialValue)};const{errors:f,setErrors:d}=YU(),g=dI>=Number.MAX_SAFE_INTEGER?0:++dI,v=QU(n,i,f);return{id:g,path:t,value:n,initialValue:i,meta:v,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:f,setState:y}}const u=e.form.createPathState(t,{bails:e.bails,label:e.label,type:e.type,validate:e.validate}),a=qt(()=>u.errors);function l(f){var d,g,v;"value"in f&&(n.value=f.value),"errors"in f&&((d=e.form)===null||d===void 0||d.setFieldError(Gt(t),f.errors)),"touched"in f&&((g=e.form)===null||g===void 0||g.setFieldTouched(Gt(t),(v=f.touched)!==null&&v!==void 0?v:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:t,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function GU(t,e,n){const i=vn(Gt(e));function o(){return n?xn(n.initialValues.value,Gt(t),Gt(i)):Gt(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(Gt(t),d,!0)}const a=qt(o);if(!n)return{value:vn(o()),initialValue:a,setInitialValue:u};const l=WU(e,n,a,t);return n.stageInitialValue(Gt(t),l,!0),{value:qt({get(){return xn(n.values,Gt(t))},set(d){n.setFieldValue(Gt(t),d,!1)}}),initialValue:a,setInitialValue:u}}function WU(t,e,n,i){return ae(t)?Gt(t):t!==void 0?t:xn(e.values,Gt(i),Gt(n))}function QU(t,e,n){const i=Zr({touched:!1,pending:!1,valid:!0,validated:!!Gt(n).length,initialValue:qt(()=>Gt(e)),dirty:qt(()=>!En(Gt(t),Gt(e)))});return Yn(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function YU(){const t=vn([]);return{errors:t,setErrors:e=>{t.value=dv(e)}}}function XU(t,e,n){return ac(n==null?void 0:n.type)?ZU(t,e,n):BA(t,e,n)}function BA(t,e,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:v,keepValueOnUnmount:y,syncVModel:b,form:_}=JU(n),S=v?LA(ph):void 0,N=_||S,O=qt(()=>ra(_e(t))),P=qt(()=>{if(_e(N==null?void 0:N.schema))return;const vt=Gt(e);return _f(vt)||Mi(vt)||Ye(vt)||Array.isArray(vt)?vt:FA(vt)}),{id:j,value:q,initialValue:rt,meta:V,setState:It,errors:Q,flags:ht}=zU(O,{modelValue:i,form:N,bails:u,label:f,type:a,validate:P.value?Qt:void 0}),A=qt(()=>Q.value[0]);b&&t3({value:q,prop:b,handleChange:st,shouldValidate:()=>d&&!ht.pendingReset});const Wt=(dt,vt=!1)=>{V.touched=!0,vt&&se()};async function oe(dt){var vt,R;return N!=null&&N.validateSchema?(vt=(await N.validateSchema(dt)).results[_e(O)])!==null&&vt!==void 0?vt:{valid:!0,errors:[]}:P.value?VA(q.value,P.value,{name:_e(O),label:_e(f),values:(R=N==null?void 0:N.values)!==null&&R!==void 0?R:{},bails:u}):{valid:!0,errors:[]}}const se=hv(async()=>(V.pending=!0,V.validated=!0,oe("validated-only")),dt=>{if(!ht.pendingUnmount[de.id])return It({errors:dt.errors}),V.pending=!1,V.valid=dt.valid,dt}),ce=hv(async()=>oe("silent"),dt=>(V.valid=dt.valid,dt));function Qt(dt){return(dt==null?void 0:dt.mode)==="silent"?ce():se()}function st(dt,vt=!0){const R=Ef(dt);Ie(R,vt)}Rv(()=>{if(o)return se();(!N||!N.validateSchema)&&ce()});function Lt(dt){V.touched=dt}function gt(dt){var vt;const R=dt&&"value"in dt?dt.value:rt.value;It({value:le(R),initialValue:le(R),touched:(vt=dt==null?void 0:dt.touched)!==null&&vt!==void 0?vt:!1,errors:(dt==null?void 0:dt.errors)||[]}),V.pending=!1,V.validated=!1,ce()}const he=Pf();function Ie(dt,vt=!0){q.value=he&&b?xU(dt,he.props.modelModifiers):dt,(vt?se:ce)()}function Ve(dt){It({errors:Array.isArray(dt)?dt:[dt]})}const Ce=qt({get(){return q.value},set(dt){Ie(dt,d)}}),de={id:j,name:O,label:f,value:Ce,meta:V,errors:Q,errorMessage:A,type:a,checkedValue:l,uncheckedValue:g,bails:u,keepValueOnUnmount:y,resetField:gt,handleReset:()=>gt(),validate:Qt,handleChange:st,handleBlur:Wt,setState:It,setTouched:Lt,setErrors:Ve,setValue:Ie};if(Ns(EU,de),ae(e)&&typeof Gt(e)!="function"&&Yn(e,(dt,vt)=>{En(dt,vt)||(V.validated?se():ce())},{deep:!0}),!N)return de;const Fn=qt(()=>{const dt=P.value;return!dt||Ye(dt)||_f(dt)||Mi(dt)||Array.isArray(dt)?{}:Object.keys(dt).reduce((vt,R)=>{const U=LU(dt[R]).map(Z=>Z.__locatorRef).reduce((Z,ut)=>{const Rt=xn(N.values,ut)||N.values[ut];return Rt!==void 0&&(Z[ut]=Rt),Z},{});return Object.assign(vt,U),vt},{})});return Yn(Fn,(dt,vt)=>{if(!Object.keys(dt).length)return;!En(dt,vt)&&(V.validated?se():ce())}),ZI(()=>{var dt;const vt=(dt=_e(de.keepValueOnUnmount))!==null&&dt!==void 0?dt:_e(N.keepValuesOnUnmount),R=_e(O);if(vt||!N||ht.pendingUnmount[de.id]){N==null||N.removePathState(R,j);return}ht.pendingUnmount[de.id]=!0;const U=N.getPathState(R);if(Array.isArray(U==null?void 0:U.id)&&(U!=null&&U.multiple)?U!=null&&U.id.includes(de.id):(U==null?void 0:U.id)===de.id){if(U!=null&&U.multiple&&Array.isArray(U.value)){const ut=U.value.findIndex(Rt=>En(Rt,_e(de.checkedValue)));if(ut>-1){const Rt=[...U.value];Rt.splice(ut,1),N.setFieldValue(R,Rt)}Array.isArray(U.id)&&U.id.splice(U.id.indexOf(de.id),1)}else N.unsetPathValue(_e(O));N.removePathState(R,j)}}),de}function JU(t){const e=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(t!=null&&t.syncVModel),i=typeof(t==null?void 0:t.syncVModel)=="string"?t.syncVModel:(t==null?void 0:t.modelPropName)||"modelValue",o=n&&!("initialValue"in(t||{}))?gv(Pf(),i):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},e()),{initialValue:o});const u="valueProp"in t?t.valueProp:t.checkedValue,a="standalone"in t?!t.standalone:t.controlled,l=(t==null?void 0:t.modelPropName)||(t==null?void 0:t.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},e()),t||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function ZU(t,e,n){const i=n!=null&&n.standalone?void 0:LA(ph),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=qt(()=>{const v=_e(l.value),y=_e(o);return Array.isArray(v)?v.findIndex(b=>En(b,y))>=0:En(y,v)});function g(v,y=!0){var b,_;if(d.value===((b=v==null?void 0:v.target)===null||b===void 0?void 0:b.checked)){y&&l.validate();return}const S=_e(t),N=i==null?void 0:i.getPathState(S),O=Ef(v);let P=(_=_e(o))!==null&&_!==void 0?_:O;i&&(N!=null&&N.multiple)&&N.type==="checkbox"?P=lI(xn(i.values,S)||[],P,void 0):(n==null?void 0:n.type)==="checkbox"&&(P=lI(_e(l.value),P,_e(u))),f(P,y)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:g})}return a(BA(t,e,n))}function t3({prop:t,value:e,handleChange:n,shouldValidate:i}){const o=Pf();if(!o||!t)return;const u=typeof t=="string"?t:"modelValue",a=`update:${u}`;u in o.props&&(Yn(e,l=>{En(l,gv(o,u))||o.emit(a,l)}),Yn(()=>gv(o,u),l=>{if(l===bf&&e.value===void 0)return;const f=l===bf?void 0:l;En(f,e.value)||n(f,i())}))}function gv(t,e){if(t)return t.props[e]}const e3=qa({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Ni().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:bf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=Ei(t,"rules"),i=Ei(t,"name"),o=Ei(t,"label"),u=Ei(t,"uncheckedValue"),a=Ei(t,"keepValue"),{errors:l,value:f,errorMessage:d,validate:g,handleChange:v,handleBlur:y,setTouched:b,resetField:_,handleReset:S,meta:N,checked:O,setErrors:P}=XU(i,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:r3(t,e),checkedValue:e.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:t.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),j=function(ht,A=!0){v(ht,A)},q=qt(()=>{const{validateOnInput:Q,validateOnChange:ht,validateOnBlur:A,validateOnModelUpdate:Wt}=n3(t);function oe(st){y(st,A),Ye(e.attrs.onBlur)&&e.attrs.onBlur(st)}function se(st){j(st,Q),Ye(e.attrs.onInput)&&e.attrs.onInput(st)}function ce(st){j(st,ht),Ye(e.attrs.onChange)&&e.attrs.onChange(st)}const Qt={name:t.name,onBlur:oe,onInput:se,onChange:ce};return Qt["onUpdate:modelValue"]=st=>j(st,Wt),Qt}),rt=qt(()=>{const Q=Object.assign({},q.value);ac(e.attrs.type)&&O&&(Q.checked=O.value);const ht=pI(t,e);return kU(ht,e.attrs)&&(Q.value=f.value),Q}),V=qt(()=>Object.assign(Object.assign({},q.value),{modelValue:f.value}));function It(){return{field:rt.value,componentField:V.value,value:f.value,meta:N,errors:l.value,errorMessage:d.value,validate:g,resetField:_,handleChange:j,handleInput:Q=>j(Q,!1),handleReset:S,handleBlur:q.value.onBlur,setTouched:b,setErrors:P}}return e.expose({setErrors:P,setTouched:b,reset:_,validate:g,handleChange:v}),()=>{const Q=Pv(pI(t,e)),ht=oy(Q,e,It);return Q?Rs(Q,Object.assign(Object.assign({},e.attrs),rt.value),ht):ht}}});function pI(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function n3(t){var e,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Ni();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:u,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=t.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=t.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function r3(t,e){return ac(e.attrs.type)?uI(t,"modelValue")?t.modelValue:void 0:uI(t,"modelValue")?t.modelValue:e.attrs.value}const i3=e3;let o3=0;const Ju=["bails","fieldsCount","id","multiple","type","validate"];function qA(t){const e=Gt(t==null?void 0:t.initialValues)||{},n=Gt(t==null?void 0:t.validationSchema);return n&&Mi(n)&&Ye(n.cast)?le(n.cast(e)||{}):le(e)}function s3(t){var e;const n=o3++;let i=0;const o=vn(!1),u=vn(!1),a=vn(0),l=[],f=Zr(qA(t)),d=vn([]),g=vn({}),v=vn({}),y=CU(()=>{v.value=d.value.reduce((x,k)=>(x[ra(_e(k.path))]=k,x),{})});function b(x,k){const B=st(x);if(!B){typeof x=="string"&&(g.value[ra(x)]=dv(k));return}if(typeof x=="string"){const it=ra(x);g.value[it]&&delete g.value[it]}B.errors=dv(k),B.valid=!B.errors.length}function _(x){rr(x).forEach(k=>{b(k,x[k])})}t!=null&&t.initialErrors&&_(t.initialErrors);const S=qt(()=>{const x=d.value.reduce((k,B)=>(B.errors.length&&(k[B.path]=B.errors),k),{});return Object.assign(Object.assign({},g.value),x)}),N=qt(()=>rr(S.value).reduce((x,k)=>{const B=S.value[k];return B!=null&&B.length&&(x[k]=B[0]),x},{})),O=qt(()=>d.value.reduce((x,k)=>(x[k.path]={name:k.path||"",label:k.label||""},x),{})),P=qt(()=>d.value.reduce((x,k)=>{var B;return x[k.path]=(B=k.bails)!==null&&B!==void 0?B:!0,x},{})),j=Object.assign({},(t==null?void 0:t.initialErrors)||{}),q=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:rt,originalInitialValues:V,setInitialValues:It}=a3(d,f,t),Q=u3(d,f,V,N),ht=qt(()=>d.value.reduce((x,k)=>{const B=xn(f,k.path);return fo(x,k.path,B),x},{})),A=t==null?void 0:t.validationSchema;function Wt(x,k){var B,it;const lt=qt(()=>xn(rt.value,_e(x))),At=v.value[_e(x)];if(At){((k==null?void 0:k.type)==="checkbox"||(k==null?void 0:k.type)==="radio")&&(At.multiple=!0);const en=i++;return Array.isArray(At.id)?At.id.push(en):At.id=[At.id,en],At.fieldsCount++,At.__flags.pendingUnmount[en]=!1,At}const Ft=qt(()=>xn(f,_e(x))),kt=_e(x),Mt=i++,Dt=Zr({id:Mt,path:x,touched:!1,pending:!1,valid:!0,validated:!!(!((B=j[kt])===null||B===void 0)&&B.length),initialValue:lt,errors:UI([]),bails:(it=k==null?void 0:k.bails)!==null&&it!==void 0?it:!1,label:k==null?void 0:k.label,type:(k==null?void 0:k.type)||"default",value:Ft,multiple:!1,__flags:{pendingUnmount:{[Mt]:!1},pendingReset:!1},fieldsCount:1,validate:k==null?void 0:k.validate,dirty:qt(()=>!En(Gt(Ft),Gt(lt)))});return d.value.push(Dt),v.value[kt]=Dt,y(),N.value[kt]&&!j[kt]&&Cr(()=>{tt(kt,{mode:"silent"})}),ae(x)&&Yn(x,en=>{y();const nn=le(Ft.value);v.value[en]=Dt,Cr(()=>{fo(f,en,nn)})}),Dt}const oe=fI(mt,5),se=fI(mt,5),ce=hv(async x=>await x==="silent"?oe():se(),(x,[k])=>{const B=rr(vt.errorBag.value);return[...new Set([...rr(x.results),...d.value.map(lt=>lt.path),...B])].sort().reduce((lt,At)=>{const Ft=At,kt=st(Ft)||Lt(Ft),Mt=(x.results[Ft]||{errors:[]}).errors,Dt={errors:Mt,valid:!Mt.length};return lt.results[Ft]=Dt,Dt.valid||(lt.errors[Ft]=Dt.errors[0]),kt&&g.value[Ft]&&delete g.value[Ft],kt?(kt.valid=Dt.valid,k==="silent"||k==="validated-only"&&!kt.validated||b(kt,Dt.errors),lt):(b(Ft,Mt),lt)},{valid:x.valid,results:{},errors:{}})});function Qt(x){d.value.forEach(x)}function st(x){const k=typeof x=="string"?ra(x):x;return typeof k=="string"?v.value[k]:k}function Lt(x){return d.value.filter(B=>x.startsWith(B.path)).reduce((B,it)=>B?it.path.length>B.path.length?it:B:it,void 0)}let gt=[],he;function Ie(x){return gt.push(x),he||(he=Cr(()=>{[...gt].sort().reverse().forEach(B=>{cI(f,B)}),gt=[],he=null})),he}function Ve(x){return function(B,it){return function(At){return At instanceof Event&&(At.preventDefault(),At.stopPropagation()),Qt(Ft=>Ft.touched=!0),o.value=!0,a.value++,X().then(Ft=>{const kt=le(f);if(Ft.valid&&typeof B=="function"){const Mt=le(ht.value);let Dt=x?Mt:kt;return Ft.values&&(Dt=Ft.values),B(Dt,{evt:At,controlledValues:Mt,setErrors:_,setFieldError:b,setTouched:F,setFieldTouched:I,setValues:Z,setFieldValue:R,resetForm:nt,resetField:z})}!Ft.valid&&typeof it=="function"&&it({values:kt,evt:At,errors:Ft.errors,results:Ft.results})}).then(Ft=>(o.value=!1,Ft),Ft=>{throw o.value=!1,Ft})}}}const de=Ve(!1);de.withControlled=Ve(!0);function Fn(x,k){const B=d.value.findIndex(lt=>lt.path===x),it=d.value[B];if(!(B===-1||!it)){if(Cr(()=>{tt(x,{mode:"silent",warn:!1})}),it.multiple&&it.fieldsCount&&it.fieldsCount--,Array.isArray(it.id)){const lt=it.id.indexOf(k);lt>=0&&it.id.splice(lt,1),delete it.__flags.pendingUnmount[k]}(!it.multiple||it.fieldsCount<=0)&&(d.value.splice(B,1),Y(x),y(),delete v.value[x])}}function dt(x){return Qt(k=>{k.path.startsWith(x)&&rr(k.__flags.pendingUnmount).forEach(B=>{k.__flags.pendingUnmount[B]=!0})})}const vt={formId:n,values:f,controlledValues:ht,errorBag:S,errors:N,schema:A,submitCount:a,meta:Q,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:q,validateSchema:Gt(A)?ce:void 0,validate:X,setFieldError:b,validateField:tt,setFieldValue:R,setValues:Z,setErrors:_,setFieldTouched:I,setTouched:F,resetForm:nt,resetField:z,handleSubmit:de,stageInitialValue:wt,unsetInitialValue:Y,setFieldInitialValue:at,useFieldModel:Rt,createPathState:Wt,getPathState:st,unsetPathValue:Ie,removePathState:Fn,initialValues:rt,getAllPathStates:()=>d.value,markForUnmount:dt,isFieldTouched:T,isFieldDirty:C,isFieldValid:M};function R(x,k,B=!0){const it=le(k),lt=typeof x=="string"?x:x.path;st(lt)||Wt(lt),fo(f,lt,it),B&&tt(lt)}function U(x,k=!0){rr(f).forEach(B=>{delete f[B]}),rr(x).forEach(B=>{R(B,x[B],!1)}),k&&X()}function Z(x,k=!0){wf(f,x),l.forEach(B=>B&&B.reset()),k&&X()}function ut(x){const k=st(Gt(x))||Wt(x);return qt({get(){return k.value},set(B){const it=Gt(x);R(it,B,!1),k.validated=!0,k.pending=!0,tt(it).then(()=>{k.pending=!1})}})}function Rt(x){return Array.isArray(x)?x.map(ut):ut(x)}function I(x,k){const B=st(x);B&&(B.touched=k)}function T(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.touched)}function C(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.dirty)}function M(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.valid)}function F(x){if(typeof x=="boolean"){Qt(k=>{k.touched=x});return}rr(x).forEach(k=>{I(k,!!x[k])})}function z(x,k){var B;const it=k&&"value"in k?k.value:xn(rt.value,x),lt=st(x);lt&&(lt.__flags.pendingReset=!0),at(x,le(it)),R(x,it,!1),I(x,(B=k==null?void 0:k.touched)!==null&&B!==void 0?B:!1),b(x,(k==null?void 0:k.errors)||[]),Cr(()=>{lt&&(lt.__flags.pendingReset=!1)})}function nt(x,k){let B=x!=null&&x.values?x.values:V.value;B=Mi(A)&&Ye(A.cast)?A.cast(B):B,It(B),Qt(it=>{var lt;it.__flags.pendingReset=!0,it.validated=!1,it.touched=((lt=x==null?void 0:x.touched)===null||lt===void 0?void 0:lt[it.path])||!1,R(it.path,xn(B,it.path),!1),b(it.path,void 0)}),k!=null&&k.force?U(B,!1):Z(B,!1),_((x==null?void 0:x.errors)||{}),a.value=(x==null?void 0:x.submitCount)||0,Cr(()=>{X({mode:"silent"}),Qt(it=>{it.__flags.pendingReset=!1})})}async function X(x){const k=(x==null?void 0:x.mode)||"force";if(k==="force"&&Qt(At=>At.validated=!0),vt.validateSchema)return vt.validateSchema(k);u.value=!0;const B=await Promise.all(d.value.map(At=>At.validate?At.validate(x).then(Ft=>({key:At.path,valid:Ft.valid,errors:Ft.errors})):Promise.resolve({key:At.path,valid:!0,errors:[]})));u.value=!1;const it={},lt={};for(const At of B)it[At.key]={valid:At.valid,errors:At.errors},At.errors.length&&(lt[At.key]=At.errors[0]);return{valid:B.every(At=>At.valid),results:it,errors:lt}}async function tt(x,k){var B;const it=st(x);if(it&&(k==null?void 0:k.mode)!=="silent"&&(it.validated=!0),A){const{results:lt}=await ce((k==null?void 0:k.mode)||"validated-only");return lt[x]||{errors:[],valid:!0}}return it!=null&&it.validate?it.validate(k):(!it&&(B=k==null?void 0:k.warn),Promise.resolve({errors:[],valid:!0}))}function Y(x){cI(rt.value,x)}function wt(x,k,B=!1){at(x,k),fo(f,x,k),B&&!(t!=null&&t.initialValues)&&fo(V.value,x,le(k))}function at(x,k){fo(rt.value,x,le(k))}async function mt(){const x=Gt(A);if(!x)return{valid:!0,results:{},errors:{}};u.value=!0;const k=_f(x)||Mi(x)?await KU(x,f):await HU(x,f,{names:O.value,bailsMap:P.value});return u.value=!1,k}const St=de((x,{evt:k})=>{PA(k)&&k.target.submit()});Rv(()=>{if(t!=null&&t.initialErrors&&_(t.initialErrors),t!=null&&t.initialTouched&&F(t.initialTouched),t!=null&&t.validateOnMount){X();return}vt.validateSchema&&vt.validateSchema("silent")}),ae(A)&&Yn(A,()=>{var x;(x=vt.validateSchema)===null||x===void 0||x.call(vt,"validated-only")}),Ns(ph,vt);function Ut(x,k){const B=st(_e(x))||Wt(x),it=()=>Ye(k)?k(Xu(B,Ju)):k||{};function lt(){var kt;B.touched=!0,((kt=it().validateOnBlur)!==null&&kt!==void 0?kt:Ni().validateOnBlur)&&tt(B.path)}function At(kt){var Mt;const Dt=(Mt=it().validateOnModelUpdate)!==null&&Mt!==void 0?Mt:Ni().validateOnModelUpdate;R(B.path,kt,Dt)}return qt(()=>{if(Ye(k)){const Dt=k(B),en=Dt.model||"modelValue";return Object.assign({onBlur:lt,[en]:B.value,[`onUpdate:${en}`]:At},Dt.props||{})}const kt=(k==null?void 0:k.model)||"modelValue",Mt={onBlur:lt,[kt]:B.value,[`onUpdate:${kt}`]:At};return k!=null&&k.mapProps?Object.assign(Object.assign({},Mt),k.mapProps(Xu(B,Ju))):Mt})}function _t(x,k){const B=st(_e(x))||Wt(x),it=()=>Ye(k)?k(Xu(B,Ju)):k||{};function lt(){var Mt;B.touched=!0,((Mt=it().validateOnBlur)!==null&&Mt!==void 0?Mt:Ni().validateOnBlur)&&tt(B.path)}function At(Mt){var Dt;const en=Ef(Mt),nn=(Dt=it().validateOnInput)!==null&&Dt!==void 0?Dt:Ni().validateOnInput;R(B.path,en,nn)}function Ft(Mt){var Dt;const en=Ef(Mt),nn=(Dt=it().validateOnChange)!==null&&Dt!==void 0?Dt:Ni().validateOnChange;R(B.path,en,nn)}return qt(()=>{const Mt={value:B.value,onChange:Ft,onInput:At,onBlur:lt};return Ye(k)?Object.assign(Object.assign({},Mt),k(Xu(B,Ju)).attrs||{}):k!=null&&k.mapAttrs?Object.assign(Object.assign({},Mt),k.mapAttrs(Xu(B,Ju))):Mt})}return Object.assign(Object.assign({},vt),{values:Av(f),handleReset:()=>nt(),submitForm:St,defineComponentBinds:Ut,defineInputBinds:_t})}function u3(t,e,n,i){const o={touched:"some",pending:"some",valid:"every"},u=qt(()=>!En(e,Gt(n)));function a(){const f=t.value;return rr(o).reduce((d,g)=>{const v=o[g];return d[g]=f[v](y=>y[g]),d},{})}const l=Zr(a());return QO(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),qt(()=>Object.assign(Object.assign({initialValues:Gt(n)},l),{valid:l.valid&&!rr(i.value).length,dirty:u.value}))}function a3(t,e,n){const i=qA(n),o=n==null?void 0:n.initialValues,u=vn(i),a=vn(le(i));function l(f,d=!1){u.value=wf(le(u.value)||{},le(f)),a.value=wf(le(a.value)||{},le(f)),d&&t.value.forEach(g=>{if(g.touched)return;const y=xn(u.value,g.path);fo(e,g.path,le(y))})}return ae(o)&&Yn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:u,originalInitialValues:a,setInitialValues:l}}const c3=qa({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=Ei(t,"initialValues"),i=Ei(t,"validationSchema"),o=Ei(t,"keepValues"),{errors:u,errorBag:a,values:l,meta:f,isSubmitting:d,isValidating:g,submitCount:v,controlledValues:y,validate:b,validateField:_,handleReset:S,resetForm:N,handleSubmit:O,setErrors:P,setFieldError:j,setFieldValue:q,setValues:rt,setFieldTouched:V,setTouched:It,resetField:Q}=s3({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:o}),ht=O((Lt,{evt:gt})=>{PA(gt)&&gt.target.submit()},t.onInvalidSubmit),A=t.onSubmit?O(t.onSubmit,t.onInvalidSubmit):ht;function Wt(Lt){ry(Lt)&&Lt.preventDefault(),S(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function oe(Lt,gt){return O(typeof Lt=="function"&&!gt?Lt:gt,t.onInvalidSubmit)(Lt)}function se(){return le(l)}function ce(){return le(f.value)}function Qt(){return le(u.value)}function st(){return{meta:f.value,errors:u.value,errorBag:a.value,values:l,isSubmitting:d.value,isValidating:g.value,submitCount:v.value,controlledValues:y.value,validate:b,validateField:_,handleSubmit:oe,handleReset:S,submitForm:ht,setErrors:P,setFieldError:j,setFieldValue:q,setValues:rt,setFieldTouched:V,setTouched:It,resetForm:N,resetField:Q,getValues:se,getMeta:ce,getErrors:Qt}}return e.expose({setFieldError:j,setErrors:P,setFieldValue:q,setValues:rt,setFieldTouched:V,setTouched:It,resetForm:N,validate:b,validateField:_,resetField:Q,getValues:se,getMeta:ce,getErrors:Qt}),function(){const gt=t.as==="form"?t.as:t.as?Pv(t.as):null,he=oy(gt,e,st);return gt?Rs(gt,Object.assign(Object.assign(Object.assign({},gt==="form"?{novalidate:!0}:{}),e.attrs),{onSubmit:A,onReset:Wt}),he):he}}}),l3=c3,f3=qa({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=ir(ph,void 0),i=qt(()=>n==null?void 0:n.errors.value[t.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=t.as?Pv(t.as):t.as,a=oy(u,e,o),l=Object.assign({role:"alert"},e.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Rs(u||"span",l,i.value):Rs(u,l,a)}}}),h3=f3;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Sl={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},d3=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function lu(t,e){return Array.isArray(t)?t[0]:t[e]}function ii(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const $A=(t,e)=>{if(ii(t))return!0;const n=d3(e);if(Array.isArray(t))return t.every(o=>$A(o,{locale:n}));const i=String(t);return n?(Sl[n]||Sl.en).test(i):Object.keys(Sl).some(o=>Sl[o].test(i))},p3=(t,e)=>{const n=lu(e,"target");return String(t)===String(n)},KA=(t,e)=>{if(ii(t))return!0;const n=lu(e,"length");if(Array.isArray(t))return t.every(o=>KA(o,{length:n}));const i=String(t);return/^[0-9]*$/.test(i)&&i.length===Number(n)},g3=t=>{if(ii(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function v3(t){return t==null}function m3(t){return Array.isArray(t)&&t.length===0}const HA=(t,e)=>{if(ii(t))return!0;const n=lu(e,"length");return Array.isArray(t)?t.every(i=>HA(i,{length:n})):[...String(t)].length<=Number(n)},zA=(t,e)=>{if(ii(t))return!0;const n=lu(e,"max");return Array.isArray(t)?t.length>0&&t.every(i=>zA(i,{max:n})):Number(t)<=Number(n)},GA=(t,e)=>{if(ii(t))return!0;const n=lu(e,"length");return Array.isArray(t)?t.every(i=>GA(i,{length:n})):[...String(t)].length>=Number(n)},WA=(t,e)=>{if(ii(t))return!0;const n=lu(e,"min");return Array.isArray(t)?t.length>0&&t.every(i=>WA(i,{min:n})):Number(t)>=Number(n)},QA=(t,e)=>ii(t)?!0:Array.isArray(t)?t.every(n=>QA(n,e)):Array.from(e).some(n=>n==t),gI=(t,e)=>ii(t)?!0:!QA(t,e),vI=t=>v3(t)||m3(t)||t===!1?!1:!!String(t).trim().length;function y3(t,e){const n=e[0],i=new Date(t),o=new Date;return o.setFullYear(o.getFullYear()-n),i.getTime()<=o.getTime()}const w3={install(t){t.component("VeeForm",l3),t.component("VeeField",i3),t.component("ErrorMessage",h3),Bn("required",vI),Bn("tos",vI),Bn("min",GA),Bn("max",HA),Bn("alpha_spaces",$A),Bn("email",g3),Bn("min_value",WA),Bn("max_value",zA),Bn("passwords_missmatch",p3),Bn("excluded",gI),Bn("country_excluded",gI),Bn("digits",KA),Bn("minAge",y3),VU({generateMessage:e=>{const n={required:`The field ${e.field} is required.`,min:`The field ${e.field} must have at least ${e.rule.params} characters.`,max:`The field ${e.field} maximun length is ${e.rule.params}.`,alpha_spaces:`The field ${e.field} may only contain alphabetical characters and spaces.`,email:`The field ${e.field} must be a valid email.`,min_value:`The field ${e.field} can't be under ${e.rule.params}.`,max_value:`The field ${e.field} can't be above ${e.rule.params}.`,excluded:`You are not allowed to use this value for the field ${e.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${e.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${e.field} must be a valid phone number (012345678)`,minAge:`You must be at least ${e.rule.params} years old`};return n[e.rule.name]?n[e.rule.name]:`The field ${e.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let gs;Wr.onAuthStateChanged(()=>{gs||(gs=aD(o2),gs.use(fD()),gs.use(gU),gs.use(w3),gs.mount("#app"))});export{ri as _,wn as c,He as o};
