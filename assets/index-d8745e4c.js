(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function hg(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const ye={},bs=[],dr=()=>{},FC=()=>!1,VC=/^on[^a-z]/,yf=t=>VC.test(t),dg=t=>t.startsWith("onUpdate:"),He=Object.assign,pg=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},jC=Object.prototype.hasOwnProperty,Xt=(t,e)=>jC.call(t,e),Ot=Array.isArray,_s=t=>wf(t)==="[object Map]",dI=t=>wf(t)==="[object Set]",Vt=t=>typeof t=="function",Le=t=>typeof t=="string",vg=t=>typeof t=="symbol",ve=t=>t!==null&&typeof t=="object",pI=t=>ve(t)&&Vt(t.then)&&Vt(t.catch),vI=Object.prototype.toString,wf=t=>vI.call(t),UC=t=>wf(t).slice(8,-1),gI=t=>wf(t)==="[object Object]",gg=t=>Le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,El=hg(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},BC=/-(\w)/g,Pr=bf(t=>t.replace(BC,(e,n)=>n?n.toUpperCase():"")),qC=/\B([A-Z])/g,Qs=bf(t=>t.replace(qC,"-$1").toLowerCase()),_f=bf(t=>t.charAt(0).toUpperCase()+t.slice(1)),jp=bf(t=>t?`on${_f(t)}`:""),la=(t,e)=>!Object.is(t,e),Up=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Dl=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},$C=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Mb;const fv=()=>Mb||(Mb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function fa(t){if(Ot(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=Le(i)?GC(i):fa(i);if(o)for(const u in o)e[u]=o[u]}return e}else{if(Le(t))return t;if(ve(t))return t}}const KC=/;(?![^(]*\))/g,HC=/:([^]+)/,zC=/\/\*[^]*?\*\//g;function GC(t){const e={};return t.replace(zC,"").split(KC).forEach(n=>{if(n){const i=n.split(HC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Ti(t){let e="";if(Le(t))e=t;else if(Ot(t))for(let n=0;n<t.length;n++){const i=Ti(t[n]);i&&(e+=i+" ")}else if(ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const WC="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",QC=hg(WC);function mI(t){return!!t||t===""}const hv=t=>Le(t)?t:t==null?"":Ot(t)||ve(t)&&(t.toString===vI||!Vt(t.toString))?JSON.stringify(t,yI,2):String(t),yI=(t,e)=>e&&e.__v_isRef?yI(t,e.value):_s(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:dI(e)?{[`Set(${e.size})`]:[...e.values()]}:ve(e)&&!Ot(e)&&!gI(e)?String(e):e;let Vn;class wI{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vn,!e&&Vn&&(this.index=(Vn.scopes||(Vn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Vn;try{return Vn=this,e()}finally{Vn=n}}}on(){Vn=this}off(){Vn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function bI(t){return new wI(t)}function YC(t,e=Vn){e&&e.active&&e.effects.push(t)}function _I(){return Vn}function XC(t){Vn&&Vn.cleanups.push(t)}const mg=t=>{const e=new Set(t);return e.w=0,e.n=0,e},EI=t=>(t.w&Ci)>0,II=t=>(t.n&Ci)>0,JC=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Ci},ZC=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];EI(o)&&!II(o)?o.delete(t):e[n++]=o,o.w&=~Ci,o.n&=~Ci}e.length=n}},Pl=new WeakMap;let Wu=0,Ci=1;const dv=30;let fr;const yo=Symbol(""),pv=Symbol("");class yg{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,YC(this,i)}run(){if(!this.active)return this.fn();let e=fr,n=Si;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=fr,fr=this,Si=!0,Ci=1<<++Wu,Wu<=dv?JC(this):Fb(this),this.fn()}finally{Wu<=dv&&ZC(this),Ci=1<<--Wu,fr=this.parent,Si=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fr===this?this.deferStop=!0:this.active&&(Fb(this),this.onStop&&this.onStop(),this.active=!1)}}function Fb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Si=!0;const TI=[];function Ys(){TI.push(Si),Si=!1}function Xs(){const t=TI.pop();Si=t===void 0?!0:t}function Cn(t,e,n){if(Si&&fr){let i=Pl.get(t);i||Pl.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=mg()),SI(o)}}function SI(t,e){let n=!1;Wu<=dv?II(t)||(t.n|=Ci,n=!EI(t)):n=!t.has(fr),n&&(t.add(fr),fr.deps.push(t))}function Qr(t,e,n,i,o,u){const a=Pl.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(n==="length"&&Ot(t)){const f=Number(i);a.forEach((d,v)=>{(v==="length"||v>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),e){case"add":Ot(t)?gg(n)&&l.push(a.get("length")):(l.push(a.get(yo)),_s(t)&&l.push(a.get(pv)));break;case"delete":Ot(t)||(l.push(a.get(yo)),_s(t)&&l.push(a.get(pv)));break;case"set":_s(t)&&l.push(a.get(yo));break}if(l.length===1)l[0]&&vv(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);vv(mg(f))}}function vv(t,e){const n=Ot(t)?t:[...t];for(const i of n)i.computed&&Vb(i);for(const i of n)i.computed||Vb(i)}function Vb(t,e){(t!==fr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function tO(t,e){var n;return(n=Pl.get(t))==null?void 0:n.get(e)}const eO=hg("__proto__,__v_isRef,__isVue"),AI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(vg)),nO=wg(),rO=wg(!1,!0),iO=wg(!0),jb=oO();function oO(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Jt(this);for(let u=0,a=this.length;u<a;u++)Cn(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(Jt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Ys();const i=Jt(this)[e].apply(this,n);return Xs(),i}}),t}function sO(t){const e=Jt(this);return Cn(e,"has",t),e.hasOwnProperty(t)}function wg(t=!1,e=!1){return function(i,o,u){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&u===(t?e?EO:OI:e?CI:xI).get(i))return i;const a=Ot(i);if(!t){if(a&&Xt(jb,o))return Reflect.get(jb,o,u);if(o==="hasOwnProperty")return sO}const l=Reflect.get(i,o,u);return(vg(o)?AI.has(o):eO(o))||(t||Cn(i,"get",o),e)?l:ae(l)?a&&gg(o)?l:l.value:ve(l)?t?Eg(l):Yr(l):l}}const uO=NI(),aO=NI(!0);function NI(t=!1){return function(n,i,o,u){let a=n[i];if(Ss(a)&&ae(a)&&!ae(o))return!1;if(!t&&(!Ll(o)&&!Ss(o)&&(a=Jt(a),o=Jt(o)),!Ot(n)&&ae(a)&&!ae(o)))return a.value=o,!0;const l=Ot(n)&&gg(i)?Number(i)<n.length:Xt(n,i),f=Reflect.set(n,i,o,u);return n===Jt(u)&&(l?la(o,a)&&Qr(n,"set",i,o):Qr(n,"add",i,o)),f}}function cO(t,e){const n=Xt(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&Qr(t,"delete",e,void 0),i}function lO(t,e){const n=Reflect.has(t,e);return(!vg(e)||!AI.has(e))&&Cn(t,"has",e),n}function fO(t){return Cn(t,"iterate",Ot(t)?"length":yo),Reflect.ownKeys(t)}const kI={get:nO,set:uO,deleteProperty:cO,has:lO,ownKeys:fO},hO={get:iO,set(t,e){return!0},deleteProperty(t,e){return!0}},dO=He({},kI,{get:rO,set:aO}),bg=t=>t,Ef=t=>Reflect.getPrototypeOf(t);function sl(t,e,n=!1,i=!1){t=t.__v_raw;const o=Jt(t),u=Jt(e);n||(e!==u&&Cn(o,"get",e),Cn(o,"get",u));const{has:a}=Ef(o),l=i?bg:n?Tg:ha;if(a.call(o,e))return l(t.get(e));if(a.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function ul(t,e=!1){const n=this.__v_raw,i=Jt(n),o=Jt(t);return e||(t!==o&&Cn(i,"has",t),Cn(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function al(t,e=!1){return t=t.__v_raw,!e&&Cn(Jt(t),"iterate",yo),Reflect.get(t,"size",t)}function Ub(t){t=Jt(t);const e=Jt(this);return Ef(e).has.call(e,t)||(e.add(t),Qr(e,"add",t,t)),this}function Bb(t,e){e=Jt(e);const n=Jt(this),{has:i,get:o}=Ef(n);let u=i.call(n,t);u||(t=Jt(t),u=i.call(n,t));const a=o.call(n,t);return n.set(t,e),u?la(e,a)&&Qr(n,"set",t,e):Qr(n,"add",t,e),this}function qb(t){const e=Jt(this),{has:n,get:i}=Ef(e);let o=n.call(e,t);o||(t=Jt(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&Qr(e,"delete",t,void 0),u}function $b(){const t=Jt(this),e=t.size!==0,n=t.clear();return e&&Qr(t,"clear",void 0,void 0),n}function cl(t,e){return function(i,o){const u=this,a=u.__v_raw,l=Jt(a),f=e?bg:t?Tg:ha;return!t&&Cn(l,"iterate",yo),a.forEach((d,v)=>i.call(o,f(d),f(v),u))}}function ll(t,e,n){return function(...i){const o=this.__v_raw,u=Jt(o),a=_s(u),l=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,d=o[t](...i),v=n?bg:e?Tg:ha;return!e&&Cn(u,"iterate",f?pv:yo),{next(){const{value:g,done:y}=d.next();return y?{value:g,done:y}:{value:l?[v(g[0]),v(g[1])]:v(g),done:y}},[Symbol.iterator](){return this}}}}function ci(t){return function(...e){return t==="delete"?!1:this}}function pO(){const t={get(u){return sl(this,u)},get size(){return al(this)},has:ul,add:Ub,set:Bb,delete:qb,clear:$b,forEach:cl(!1,!1)},e={get(u){return sl(this,u,!1,!0)},get size(){return al(this)},has:ul,add:Ub,set:Bb,delete:qb,clear:$b,forEach:cl(!1,!0)},n={get(u){return sl(this,u,!0)},get size(){return al(this,!0)},has(u){return ul.call(this,u,!0)},add:ci("add"),set:ci("set"),delete:ci("delete"),clear:ci("clear"),forEach:cl(!0,!1)},i={get(u){return sl(this,u,!0,!0)},get size(){return al(this,!0)},has(u){return ul.call(this,u,!0)},add:ci("add"),set:ci("set"),delete:ci("delete"),clear:ci("clear"),forEach:cl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=ll(u,!1,!1),n[u]=ll(u,!0,!1),e[u]=ll(u,!1,!0),i[u]=ll(u,!0,!0)}),[t,n,e,i]}const[vO,gO,mO,yO]=pO();function _g(t,e){const n=e?t?yO:mO:t?gO:vO;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(Xt(n,o)&&o in i?n:i,o,u)}const wO={get:_g(!1,!1)},bO={get:_g(!1,!0)},_O={get:_g(!0,!1)},xI=new WeakMap,CI=new WeakMap,OI=new WeakMap,EO=new WeakMap;function IO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function TO(t){return t.__v_skip||!Object.isExtensible(t)?0:IO(UC(t))}function Yr(t){return Ss(t)?t:Ig(t,!1,kI,wO,xI)}function RI(t){return Ig(t,!1,dO,bO,CI)}function Eg(t){return Ig(t,!0,hO,_O,OI)}function Ig(t,e,n,i,o){if(!ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const a=TO(t);if(a===0)return t;const l=new Proxy(t,a===2?i:n);return o.set(t,l),l}function Ai(t){return Ss(t)?Ai(t.__v_raw):!!(t&&t.__v_isReactive)}function Ss(t){return!!(t&&t.__v_isReadonly)}function Ll(t){return!!(t&&t.__v_isShallow)}function DI(t){return Ai(t)||Ss(t)}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function If(t){return Dl(t,"__v_skip",!0),t}const ha=t=>ve(t)?Yr(t):t,Tg=t=>ve(t)?Eg(t):t;function PI(t){Si&&fr&&(t=Jt(t),SI(t.dep||(t.dep=mg())))}function LI(t,e){t=Jt(t);const n=t.dep;n&&vv(n)}function ae(t){return!!(t&&t.__v_isRef===!0)}function gn(t){return FI(t,!1)}function MI(t){return FI(t,!0)}function FI(t,e){return ae(t)?t:new SO(t,e)}class SO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Jt(e),this._value=n?e:ha(e)}get value(){return PI(this),this._value}set value(e){const n=this.__v_isShallow||Ll(e)||Ss(e);e=n?e:Jt(e),la(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:ha(e),LI(this))}}function Gt(t){return ae(t)?t.value:t}function _e(t){return Vt(t)?t():Gt(t)}const AO={get:(t,e,n)=>Gt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return ae(o)&&!ae(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function VI(t){return Ai(t)?t:new Proxy(t,AO)}function NO(t){const e=Ot(t)?new Array(t.length):{};for(const n in t)e[n]=jI(t,n);return e}class kO{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return tO(Jt(this._object),this._key)}}class xO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function yi(t,e,n){return ae(t)?t:Vt(t)?new xO(t):ve(t)&&arguments.length>1?jI(t,e,n):gn(t)}function jI(t,e,n){const i=t[e];return ae(i)?i:new kO(t,e,n)}class CO{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new yg(e,()=>{this._dirty||(this._dirty=!0,LI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=Jt(this);return PI(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function OO(t,e,n=!1){let i,o;const u=Vt(t);return u?(i=t,o=dr):(i=t.get,o=t.set),new CO(i,o,u||!o,n)}function Ni(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){Tf(u,e,n)}return o}function pr(t,e,n,i){if(Vt(t)){const u=Ni(t,e,n,i);return u&&pI(u)&&u.catch(a=>{Tf(a,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(pr(t[u],e,n,i));return o}function Tf(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let u=e.parent;const a=e.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let v=0;v<d.length;v++)if(d[v](t,a,l)===!1)return}u=u.parent}const f=e.appContext.config.errorHandler;if(f){Ni(f,null,10,[t,a,l]);return}}RO(t,n,o,i)}function RO(t,e,n,i=!0){console.error(t)}let da=!1,gv=!1;const sn=[];let Or=0;const Es=[];let $r=null,lo=0;const UI=Promise.resolve();let Sg=null;function xr(t){const e=Sg||UI;return t?e.then(this?t.bind(this):t):e}function DO(t){let e=Or+1,n=sn.length;for(;e<n;){const i=e+n>>>1;pa(sn[i])<t?e=i+1:n=i}return e}function Ag(t){(!sn.length||!sn.includes(t,da&&t.allowRecurse?Or+1:Or))&&(t.id==null?sn.push(t):sn.splice(DO(t.id),0,t),BI())}function BI(){!da&&!gv&&(gv=!0,Sg=UI.then($I))}function PO(t){const e=sn.indexOf(t);e>Or&&sn.splice(e,1)}function LO(t){Ot(t)?Es.push(...t):(!$r||!$r.includes(t,t.allowRecurse?lo+1:lo))&&Es.push(t),BI()}function Kb(t,e=da?Or+1:0){for(;e<sn.length;e++){const n=sn[e];n&&n.pre&&(sn.splice(e,1),e--,n())}}function qI(t){if(Es.length){const e=[...new Set(Es)];if(Es.length=0,$r){$r.push(...e);return}for($r=e,$r.sort((n,i)=>pa(n)-pa(i)),lo=0;lo<$r.length;lo++)$r[lo]();$r=null,lo=0}}const pa=t=>t.id==null?1/0:t.id,MO=(t,e)=>{const n=pa(t)-pa(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function $I(t){gv=!1,da=!0,sn.sort(MO);const e=dr;try{for(Or=0;Or<sn.length;Or++){const n=sn[Or];n&&n.active!==!1&&Ni(n,null,14)}}finally{Or=0,sn.length=0,qI(),da=!1,Sg=null,(sn.length||Es.length)&&$I()}}function FO(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ye;let o=n;const u=e.startsWith("update:"),a=u&&e.slice(7);if(a&&a in i){const v=`${a==="modelValue"?"model":a}Modifiers`,{number:g,trim:y}=i[v]||ye;y&&(o=n.map(b=>Le(b)?b.trim():b)),g&&(o=n.map($C))}let l,f=i[l=jp(e)]||i[l=jp(Pr(e))];!f&&u&&(f=i[l=jp(Qs(e))]),f&&pr(f,t,6,o);const d=i[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,pr(d,t,6,o)}}function KI(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let a={},l=!1;if(!Vt(t)){const f=d=>{const v=KI(d,e,!0);v&&(l=!0,He(a,v))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(ve(t)&&i.set(t,null),null):(Ot(u)?u.forEach(f=>a[f]=null):He(a,u),ve(t)&&i.set(t,a),a)}function Sf(t,e){return!t||!yf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xt(t,e[0].toLowerCase()+e.slice(1))||Xt(t,Qs(e))||Xt(t,e))}let Kn=null,HI=null;function Ml(t){const e=Kn;return Kn=t,HI=t&&t.type.__scopeId||null,e}function Zu(t,e=Kn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&e_(-1);const u=Ml(e);let a;try{a=t(...o)}finally{Ml(u),i._d&&e_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Bp(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:v,renderCache:g,data:y,setupState:b,ctx:_,inheritAttrs:S}=t;let N,O;const P=Ml(t);try{if(n.shapeFlag&4){const q=o||i;N=Cr(v.call(q,q,g,u,b,y,_)),O=f}else{const q=e;N=Cr(q.length>1?q(u,{attrs:f,slots:l,emit:d}):q(u,null)),O=e.props?f:VO(f)}}catch(q){ea.length=0,Tf(q,t,1),N=qt(Io)}let j=N;if(O&&S!==!1){const q=Object.keys(O),{shapeFlag:nt}=j;q.length&&nt&7&&(a&&q.some(dg)&&(O=jO(O,a)),j=As(j,O))}return n.dirs&&(j=As(j),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&(j.transition=n.transition),N=j,Ml(P),N}const VO=t=>{let e;for(const n in t)(n==="class"||n==="style"||yf(n))&&((e||(e={}))[n]=t[n]);return e},jO=(t,e)=>{const n={};for(const i in t)(!dg(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function UO(t,e,n){const{props:i,children:o,component:u}=t,{props:a,children:l,patchFlag:f}=e,d=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?Hb(i,a,d):!!a;if(f&8){const v=e.dynamicProps;for(let g=0;g<v.length;g++){const y=v[g];if(a[y]!==i[y]&&!Sf(d,y))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?Hb(i,a,d):!0:!!a;return!1}function Hb(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!Sf(n,u))return!0}return!1}function BO({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const qO=t=>t.__isSuspense;function $O(t,e){e&&e.pendingBranch?Ot(t)?e.effects.push(...t):e.effects.push(t):LO(t)}function KO(t,e){return Ng(t,null,e)}const fl={};function Wn(t,e,n){return Ng(t,e,n)}function Ng(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=ye){var l;const f=_I()===((l=Ue)==null?void 0:l.scope)?Ue:null;let d,v=!1,g=!1;if(ae(t)?(d=()=>t.value,v=Ll(t)):Ai(t)?(d=()=>t,i=!0):Ot(t)?(g=!0,v=t.some(q=>Ai(q)||Ll(q)),d=()=>t.map(q=>{if(ae(q))return q.value;if(Ai(q))return ms(q);if(Vt(q))return Ni(q,f,2)})):Vt(t)?e?d=()=>Ni(t,f,2):d=()=>{if(!(f&&f.isUnmounted))return y&&y(),pr(t,f,3,[b])}:d=dr,e&&i){const q=d;d=()=>ms(q())}let y,b=q=>{y=P.onStop=()=>{Ni(q,f,4)}},_;if(ma)if(b=dr,e?n&&pr(e,f,3,[d(),g?[]:void 0,b]):d(),o==="sync"){const q=PR();_=q.__watcherHandles||(q.__watcherHandles=[])}else return dr;let S=g?new Array(t.length).fill(fl):fl;const N=()=>{if(P.active)if(e){const q=P.run();(i||v||(g?q.some((nt,V)=>la(nt,S[V])):la(q,S)))&&(y&&y(),pr(e,f,3,[q,S===fl?void 0:g&&S[0]===fl?[]:S,b]),S=q)}else P.run()};N.allowRecurse=!!e;let O;o==="sync"?O=N:o==="post"?O=()=>An(N,f&&f.suspense):(N.pre=!0,f&&(N.id=f.uid),O=()=>Ag(N));const P=new yg(d,O);e?n?N():S=P.run():o==="post"?An(P.run.bind(P),f&&f.suspense):P.run();const j=()=>{P.stop(),f&&f.scope&&pg(f.scope.effects,P)};return _&&_.push(j),j}function HO(t,e,n){const i=this.proxy,o=Le(t)?t.includes(".")?zI(i,t):()=>i[t]:t.bind(i,i);let u;Vt(e)?u=e:(u=e.handler,n=e);const a=Ue;Ns(this);const l=Ng(o,u.bind(i),n);return a?Ns(a):wo(),l}function zI(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function ms(t,e){if(!ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ae(t))ms(t.value,e);else if(Ot(t))for(let n=0;n<t.length;n++)ms(t[n],e);else if(dI(t)||_s(t))t.forEach(n=>{ms(n,e)});else if(gI(t))for(const n in t)ms(t[n],e);return t}function oo(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(Ys(),pr(f,n,8,[t.el,l,t,e]),Xs())}}function Fa(t,e){return Vt(t)?(()=>He({name:t.name},e,{setup:t}))():t}const Il=t=>!!t.type.__asyncLoader,GI=t=>t.type.__isKeepAlive;function zO(t,e){WI(t,"a",e)}function GO(t,e){WI(t,"da",e)}function WI(t,e,n=Ue){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Af(e,i,n),n){let o=n.parent;for(;o&&o.parent;)GI(o.parent.vnode)&&WO(i,e,n,o),o=o.parent}}function WO(t,e,n,i){const o=Af(e,t,i,!0);YI(()=>{pg(i[e],o)},n)}function Af(t,e,n=Ue,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;Ys(),Ns(n);const l=pr(e,n,t,a);return wo(),Xs(),l});return i?o.unshift(u):o.push(u),u}}const Jr=t=>(e,n=Ue)=>(!ma||t==="sp")&&Af(t,(...i)=>e(...i),n),QO=Jr("bm"),kg=Jr("m"),YO=Jr("bu"),XO=Jr("u"),QI=Jr("bum"),YI=Jr("um"),JO=Jr("sp"),ZO=Jr("rtg"),tR=Jr("rtc");function eR(t,e=Ue){Af("ec",t,e)}const xg="components";function qn(t,e){return JI(xg,t,!0,e)||t}const XI=Symbol.for("v-ndc");function Cg(t){return Le(t)?JI(xg,t,!1)||t:t||XI}function JI(t,e,n=!0,i=!1){const o=Kn||Ue;if(o){const u=o.type;if(t===xg){const l=OR(u,!1);if(l&&(l===e||l===Pr(e)||l===_f(Pr(e))))return u}const a=zb(o[t]||u[t],e)||zb(o.appContext[t],e);return!a&&i?u:a}}function zb(t,e){return t&&(t[e]||t[Pr(e)]||t[_f(Pr(e))])}function nR(t,e,n,i){let o;const u=n&&n[i];if(Ot(t)||Le(t)){o=new Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=e(t[a],a,void 0,u&&u[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,u&&u[a])}else if(ve(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,u&&u[l]));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=e(t[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const mv=t=>t?h1(t)?Mg(t)||t.proxy:mv(t.parent):null,ta=He(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>mv(t.parent),$root:t=>mv(t.root),$emit:t=>t.emit,$options:t=>Og(t),$forceUpdate:t=>t.f||(t.f=()=>Ag(t.update)),$nextTick:t=>t.n||(t.n=xr.bind(t.proxy)),$watch:t=>HO.bind(t)}),qp=(t,e)=>t!==ye&&!t.__isScriptSetup&&Xt(t,e),rR={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=t;let d;if(e[0]!=="$"){const b=a[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(qp(i,e))return a[e]=1,i[e];if(o!==ye&&Xt(o,e))return a[e]=2,o[e];if((d=t.propsOptions[0])&&Xt(d,e))return a[e]=3,u[e];if(n!==ye&&Xt(n,e))return a[e]=4,n[e];yv&&(a[e]=0)}}const v=ta[e];let g,y;if(v)return e==="$attrs"&&Cn(t,"get",e),v(t);if((g=l.__cssModules)&&(g=g[e]))return g;if(n!==ye&&Xt(n,e))return a[e]=4,n[e];if(y=f.config.globalProperties,Xt(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return qp(o,e)?(o[e]=n,!0):i!==ye&&Xt(i,e)?(i[e]=n,!0):Xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||t!==ye&&Xt(t,a)||qp(e,a)||(l=u[0])&&Xt(l,a)||Xt(i,a)||Xt(ta,a)||Xt(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Gb(t){return Ot(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let yv=!0;function iR(t){const e=Og(t),n=t.proxy,i=t.ctx;yv=!1,e.beforeCreate&&Wb(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:v,beforeMount:g,mounted:y,beforeUpdate:b,updated:_,activated:S,deactivated:N,beforeDestroy:O,beforeUnmount:P,destroyed:j,unmounted:q,render:nt,renderTracked:V,renderTriggered:It,errorCaptured:W,serverPrefetch:ht,expose:A,inheritAttrs:Wt,components:oe,directives:se,filters:ce}=e;if(d&&oR(d,i,null),a)for(const Lt in a){const vt=a[Lt];Vt(vt)&&(i[Lt]=vt.bind(n))}if(o){const Lt=o.call(n,n);ve(Lt)&&(t.data=Yr(Lt))}if(yv=!0,u)for(const Lt in u){const vt=u[Lt],he=Vt(vt)?vt.bind(n,n):Vt(vt.get)?vt.get.bind(n,n):dr,Ie=!Vt(vt)&&Vt(vt.set)?vt.set.bind(n):dr,Ve=Bt({get:he,set:Ie});Object.defineProperty(i,Lt,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:Ce=>Ve.value=Ce})}if(l)for(const Lt in l)ZI(l[Lt],i,n,Lt);if(f){const Lt=Vt(f)?f.call(n):f;Reflect.ownKeys(Lt).forEach(vt=>{Is(vt,Lt[vt])})}v&&Wb(v,t,"c");function ot(Lt,vt){Ot(vt)?vt.forEach(he=>Lt(he.bind(n))):vt&&Lt(vt.bind(n))}if(ot(QO,g),ot(kg,y),ot(YO,b),ot(XO,_),ot(zO,S),ot(GO,N),ot(eR,W),ot(tR,V),ot(ZO,It),ot(QI,P),ot(YI,q),ot(JO,ht),Ot(A))if(A.length){const Lt=t.exposed||(t.exposed={});A.forEach(vt=>{Object.defineProperty(Lt,vt,{get:()=>n[vt],set:he=>n[vt]=he})})}else t.exposed||(t.exposed={});nt&&t.render===dr&&(t.render=nt),Wt!=null&&(t.inheritAttrs=Wt),oe&&(t.components=oe),se&&(t.directives=se)}function oR(t,e,n=dr){Ot(t)&&(t=wv(t));for(const i in t){const o=t[i];let u;ve(o)?"default"in o?u=nr(o.from||i,o.default,!0):u=nr(o.from||i):u=nr(o),ae(u)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):e[i]=u}}function Wb(t,e,n){pr(Ot(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function ZI(t,e,n,i){const o=i.includes(".")?zI(n,i):()=>n[i];if(Le(t)){const u=e[t];Vt(u)&&Wn(o,u)}else if(Vt(t))Wn(o,t.bind(n));else if(ve(t))if(Ot(t))t.forEach(u=>ZI(u,e,n,i));else{const u=Vt(t.handler)?t.handler.bind(n):e[t.handler];Vt(u)&&Wn(o,u,t)}}function Og(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(d=>Fl(f,d,a,!0)),Fl(f,e,a)),ve(e)&&u.set(e,f),f}function Fl(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&Fl(t,u,n,!0),o&&o.forEach(a=>Fl(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const l=sR[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const sR={data:Qb,props:Yb,emits:Yb,methods:Qu,computed:Qu,beforeCreate:pn,created:pn,beforeMount:pn,mounted:pn,beforeUpdate:pn,updated:pn,beforeDestroy:pn,beforeUnmount:pn,destroyed:pn,unmounted:pn,activated:pn,deactivated:pn,errorCaptured:pn,serverPrefetch:pn,components:Qu,directives:Qu,watch:aR,provide:Qb,inject:uR};function Qb(t,e){return e?t?function(){return He(Vt(t)?t.call(this,this):t,Vt(e)?e.call(this,this):e)}:e:t}function uR(t,e){return Qu(wv(t),wv(e))}function wv(t){if(Ot(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function pn(t,e){return t?[...new Set([].concat(t,e))]:e}function Qu(t,e){return t?He(Object.create(null),t,e):e}function Yb(t,e){return t?Ot(t)&&Ot(e)?[...new Set([...t,...e])]:He(Object.create(null),Gb(t),Gb(e??{})):e}function aR(t,e){if(!t)return e;if(!e)return t;const n=He(Object.create(null),t);for(const i in e)n[i]=pn(t[i],e[i]);return n}function t1(){return{app:null,config:{isNativeTag:FC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cR=0;function lR(t,e){return function(i,o=null){Vt(i)||(i=He({},i)),o!=null&&!ve(o)&&(o=null);const u=t1(),a=new Set;let l=!1;const f=u.app={_uid:cR++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:LR,get config(){return u.config},set config(d){},use(d,...v){return a.has(d)||(d&&Vt(d.install)?(a.add(d),d.install(f,...v)):Vt(d)&&(a.add(d),d(f,...v))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,v){return v?(u.components[d]=v,f):u.components[d]},directive(d,v){return v?(u.directives[d]=v,f):u.directives[d]},mount(d,v,g){if(!l){const y=qt(i,o);return y.appContext=u,v&&e?e(y,d):t(y,d,g),l=!0,f._container=d,d.__vue_app__=f,Mg(y.component)||y.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(d,v){return u.provides[d]=v,f},runWithContext(d){va=f;try{return d()}finally{va=null}}};return f}}let va=null;function Is(t,e){if(Ue){let n=Ue.provides;const i=Ue.parent&&Ue.parent.provides;i===n&&(n=Ue.provides=Object.create(i)),n[t]=e}}function nr(t,e,n=!1){const i=Ue||Kn;if(i||va){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:va._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Vt(e)?e.call(i&&i.proxy):e}}function fR(){return!!(Ue||Kn||va)}function hR(t,e,n,i=!1){const o={},u={};Dl(u,kf,1),t.propsDefaults=Object.create(null),e1(t,e,o,u);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=i?o:RI(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function dR(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=t,l=Jt(o),[f]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const v=t.vnode.dynamicProps;for(let g=0;g<v.length;g++){let y=v[g];if(Sf(t.emitsOptions,y))continue;const b=e[y];if(f)if(Xt(u,y))b!==u[y]&&(u[y]=b,d=!0);else{const _=Pr(y);o[_]=bv(f,l,_,b,t,!1)}else b!==u[y]&&(u[y]=b,d=!0)}}}else{e1(t,e,o,u)&&(d=!0);let v;for(const g in l)(!e||!Xt(e,g)&&((v=Qs(g))===g||!Xt(e,v)))&&(f?n&&(n[g]!==void 0||n[v]!==void 0)&&(o[g]=bv(f,l,g,void 0,t,!0)):delete o[g]);if(u!==l)for(const g in u)(!e||!Xt(e,g))&&(delete u[g],d=!0)}d&&Qr(t,"set","$attrs")}function e1(t,e,n,i){const[o,u]=t.propsOptions;let a=!1,l;if(e)for(let f in e){if(El(f))continue;const d=e[f];let v;o&&Xt(o,v=Pr(f))?!u||!u.includes(v)?n[v]=d:(l||(l={}))[v]=d:Sf(t.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Jt(n),d=l||ye;for(let v=0;v<u.length;v++){const g=u[v];n[g]=bv(o,f,g,d[g],t,!Xt(d,g))}}return a}function bv(t,e,n,i,o,u){const a=t[n];if(a!=null){const l=Xt(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Vt(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Ns(o),i=d[n]=f.call(null,e),wo())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===Qs(n))&&(i=!0))}return i}function n1(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,a={},l=[];let f=!1;if(!Vt(t)){const v=g=>{f=!0;const[y,b]=n1(g,e,!0);He(a,y),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}if(!u&&!f)return ve(t)&&i.set(t,bs),bs;if(Ot(u))for(let v=0;v<u.length;v++){const g=Pr(u[v]);Xb(g)&&(a[g]=ye)}else if(u)for(const v in u){const g=Pr(v);if(Xb(g)){const y=u[v],b=a[g]=Ot(y)||Vt(y)?{type:y}:He({},y);if(b){const _=t_(Boolean,b.type),S=t_(String,b.type);b[0]=_>-1,b[1]=S<0||_<S,(_>-1||Xt(b,"default"))&&l.push(g)}}}const d=[a,l];return ve(t)&&i.set(t,d),d}function Xb(t){return t[0]!=="$"}function Jb(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Zb(t,e){return Jb(t)===Jb(e)}function t_(t,e){return Ot(e)?e.findIndex(n=>Zb(n,t)):Vt(e)&&Zb(e,t)?0:-1}const r1=t=>t[0]==="_"||t==="$stable",Rg=t=>Ot(t)?t.map(Cr):[Cr(t)],pR=(t,e,n)=>{if(e._n)return e;const i=Zu((...o)=>Rg(e(...o)),n);return i._c=!1,i},i1=(t,e,n)=>{const i=t._ctx;for(const o in t){if(r1(o))continue;const u=t[o];if(Vt(u))e[o]=pR(o,u,i);else if(u!=null){const a=Rg(u);e[o]=()=>a}}},o1=(t,e)=>{const n=Rg(e);t.slots.default=()=>n},vR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Jt(e),Dl(e,"_",n)):i1(e,t.slots={})}else t.slots={},e&&o1(t,e);Dl(t.slots,kf,1)},gR=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,a=ye;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(He(o,e),!n&&l===1&&delete o._):(u=!e.$stable,i1(e,o)),a=e}else e&&(o1(t,e),a={default:1});if(u)for(const l in o)!r1(l)&&!(l in a)&&delete o[l]};function _v(t,e,n,i,o=!1){if(Ot(t)){t.forEach((y,b)=>_v(y,e&&(Ot(e)?e[b]:e),n,i,o));return}if(Il(i)&&!o)return;const u=i.shapeFlag&4?Mg(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=t,d=e&&e.r,v=l.refs===ye?l.refs={}:l.refs,g=l.setupState;if(d!=null&&d!==f&&(Le(d)?(v[d]=null,Xt(g,d)&&(g[d]=null)):ae(d)&&(d.value=null)),Vt(f))Ni(f,l,12,[a,v]);else{const y=Le(f),b=ae(f);if(y||b){const _=()=>{if(t.f){const S=y?Xt(g,f)?g[f]:v[f]:f.value;o?Ot(S)&&pg(S,u):Ot(S)?S.includes(u)||S.push(u):y?(v[f]=[u],Xt(g,f)&&(g[f]=v[f])):(f.value=[u],t.k&&(v[t.k]=f.value))}else y?(v[f]=a,Xt(g,f)&&(g[f]=a)):b&&(f.value=a,t.k&&(v[t.k]=a))};a?(_.id=-1,An(_,n)):_()}}}const An=$O;function mR(t){return yR(t)}function yR(t,e){const n=fv();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:v,parentNode:g,nextSibling:y,setScopeId:b=dr,insertStaticContent:_}=t,S=(I,T,C,M=null,F=null,z=null,et=!1,Y=null,Z=!!T.dynamicChildren)=>{if(I===T)return;I&&!qu(I,T)&&(M=R(I),Ce(I,F,z,!0),I=null),T.patchFlag===-2&&(Z=!1,T.dynamicChildren=null);const{type:Q,ref:wt,shapeFlag:ut}=T;switch(Q){case Nf:N(I,T,C,M);break;case Io:O(I,T,C,M);break;case Tl:I==null&&P(T,C,M,et);break;case Un:oe(I,T,C,M,F,z,et,Y,Z);break;default:ut&1?nt(I,T,C,M,F,z,et,Y,Z):ut&6?se(I,T,C,M,F,z,et,Y,Z):(ut&64||ut&128)&&Q.process(I,T,C,M,F,z,et,Y,Z,J)}wt!=null&&F&&_v(wt,I&&I.ref,z,T||I,!T)},N=(I,T,C,M)=>{if(I==null)i(T.el=l(T.children),C,M);else{const F=T.el=I.el;T.children!==I.children&&d(F,T.children)}},O=(I,T,C,M)=>{I==null?i(T.el=f(T.children||""),C,M):T.el=I.el},P=(I,T,C,M)=>{[I.el,I.anchor]=_(I.children,T,C,M,I.el,I.anchor)},j=({el:I,anchor:T},C,M)=>{let F;for(;I&&I!==T;)F=y(I),i(I,C,M),I=F;i(T,C,M)},q=({el:I,anchor:T})=>{let C;for(;I&&I!==T;)C=y(I),o(I),I=C;o(T)},nt=(I,T,C,M,F,z,et,Y,Z)=>{et=et||T.type==="svg",I==null?V(T,C,M,F,z,et,Y,Z):ht(I,T,F,z,et,Y,Z)},V=(I,T,C,M,F,z,et,Y)=>{let Z,Q;const{type:wt,props:ut,shapeFlag:mt,transition:St,dirs:Ut}=I;if(Z=I.el=a(I.type,z,ut&&ut.is,ut),mt&8?v(Z,I.children):mt&16&&W(I.children,Z,null,M,F,z&&wt!=="foreignObject",et,Y),Ut&&oo(I,null,M,"created"),It(Z,I,I.scopeId,et,M),ut){for(const x in ut)x!=="value"&&!El(x)&&u(Z,x,null,ut[x],z,I.children,M,F,gt);"value"in ut&&u(Z,"value",null,ut.value),(Q=ut.onVnodeBeforeMount)&&Nr(Q,M,I)}Ut&&oo(I,null,M,"beforeMount");const _t=(!F||F&&!F.pendingBranch)&&St&&!St.persisted;_t&&St.beforeEnter(Z),i(Z,T,C),((Q=ut&&ut.onVnodeMounted)||_t||Ut)&&An(()=>{Q&&Nr(Q,M,I),_t&&St.enter(Z),Ut&&oo(I,null,M,"mounted")},F)},It=(I,T,C,M,F)=>{if(C&&b(I,C),M)for(let z=0;z<M.length;z++)b(I,M[z]);if(F){let z=F.subTree;if(T===z){const et=F.vnode;It(I,et,et.scopeId,et.slotScopeIds,F.parent)}}},W=(I,T,C,M,F,z,et,Y,Z=0)=>{for(let Q=Z;Q<I.length;Q++){const wt=I[Q]=Y?vi(I[Q]):Cr(I[Q]);S(null,wt,T,C,M,F,z,et,Y)}},ht=(I,T,C,M,F,z,et)=>{const Y=T.el=I.el;let{patchFlag:Z,dynamicChildren:Q,dirs:wt}=T;Z|=I.patchFlag&16;const ut=I.props||ye,mt=T.props||ye;let St;C&&so(C,!1),(St=mt.onVnodeBeforeUpdate)&&Nr(St,C,T,I),wt&&oo(T,I,C,"beforeUpdate"),C&&so(C,!0);const Ut=F&&T.type!=="foreignObject";if(Q?A(I.dynamicChildren,Q,Y,C,M,Ut,z):et||vt(I,T,Y,null,C,M,Ut,z,!1),Z>0){if(Z&16)Wt(Y,T,ut,mt,C,M,F);else if(Z&2&&ut.class!==mt.class&&u(Y,"class",null,mt.class,F),Z&4&&u(Y,"style",ut.style,mt.style,F),Z&8){const _t=T.dynamicProps;for(let x=0;x<_t.length;x++){const k=_t[x],B=ut[k],rt=mt[k];(rt!==B||k==="value")&&u(Y,k,B,rt,F,I.children,C,M,gt)}}Z&1&&I.children!==T.children&&v(Y,T.children)}else!et&&Q==null&&Wt(Y,T,ut,mt,C,M,F);((St=mt.onVnodeUpdated)||wt)&&An(()=>{St&&Nr(St,C,T,I),wt&&oo(T,I,C,"updated")},M)},A=(I,T,C,M,F,z,et)=>{for(let Y=0;Y<T.length;Y++){const Z=I[Y],Q=T[Y],wt=Z.el&&(Z.type===Un||!qu(Z,Q)||Z.shapeFlag&70)?g(Z.el):C;S(Z,Q,wt,null,M,F,z,et,!0)}},Wt=(I,T,C,M,F,z,et)=>{if(C!==M){if(C!==ye)for(const Y in C)!El(Y)&&!(Y in M)&&u(I,Y,C[Y],null,et,T.children,F,z,gt);for(const Y in M){if(El(Y))continue;const Z=M[Y],Q=C[Y];Z!==Q&&Y!=="value"&&u(I,Y,Q,Z,et,T.children,F,z,gt)}"value"in M&&u(I,"value",C.value,M.value)}},oe=(I,T,C,M,F,z,et,Y,Z)=>{const Q=T.el=I?I.el:l(""),wt=T.anchor=I?I.anchor:l("");let{patchFlag:ut,dynamicChildren:mt,slotScopeIds:St}=T;St&&(Y=Y?Y.concat(St):St),I==null?(i(Q,C,M),i(wt,C,M),W(T.children,C,wt,F,z,et,Y,Z)):ut>0&&ut&64&&mt&&I.dynamicChildren?(A(I.dynamicChildren,mt,C,F,z,et,Y),(T.key!=null||F&&T===F.subTree)&&s1(I,T,!0)):vt(I,T,C,wt,F,z,et,Y,Z)},se=(I,T,C,M,F,z,et,Y,Z)=>{T.slotScopeIds=Y,I==null?T.shapeFlag&512?F.ctx.activate(T,C,M,et,Z):ce(T,C,M,F,z,et,Z):Qt(I,T,Z)},ce=(I,T,C,M,F,z,et)=>{const Y=I.component=AR(I,M,F);if(GI(I)&&(Y.ctx.renderer=J),NR(Y),Y.asyncDep){if(F&&F.registerDep(Y,ot),!I.el){const Z=Y.subTree=qt(Io);O(null,Z,T,C)}return}ot(Y,I,T,C,F,z,et)},Qt=(I,T,C)=>{const M=T.component=I.component;if(UO(I,T,C))if(M.asyncDep&&!M.asyncResolved){Lt(M,T,C);return}else M.next=T,PO(M.update),M.update();else T.el=I.el,M.vnode=T},ot=(I,T,C,M,F,z,et)=>{const Y=()=>{if(I.isMounted){let{next:wt,bu:ut,u:mt,parent:St,vnode:Ut}=I,_t=wt,x;so(I,!1),wt?(wt.el=Ut.el,Lt(I,wt,et)):wt=Ut,ut&&Up(ut),(x=wt.props&&wt.props.onVnodeBeforeUpdate)&&Nr(x,St,wt,Ut),so(I,!0);const k=Bp(I),B=I.subTree;I.subTree=k,S(B,k,g(B.el),R(B),I,F,z),wt.el=k.el,_t===null&&BO(I,k.el),mt&&An(mt,F),(x=wt.props&&wt.props.onVnodeUpdated)&&An(()=>Nr(x,St,wt,Ut),F)}else{let wt;const{el:ut,props:mt}=T,{bm:St,m:Ut,parent:_t}=I,x=Il(T);if(so(I,!1),St&&Up(St),!x&&(wt=mt&&mt.onVnodeBeforeMount)&&Nr(wt,_t,T),so(I,!0),ut&&Rt){const k=()=>{I.subTree=Bp(I),Rt(ut,I.subTree,I,F,null)};x?T.type.__asyncLoader().then(()=>!I.isUnmounted&&k()):k()}else{const k=I.subTree=Bp(I);S(null,k,C,M,I,F,z),T.el=k.el}if(Ut&&An(Ut,F),!x&&(wt=mt&&mt.onVnodeMounted)){const k=T;An(()=>Nr(wt,_t,k),F)}(T.shapeFlag&256||_t&&Il(_t.vnode)&&_t.vnode.shapeFlag&256)&&I.a&&An(I.a,F),I.isMounted=!0,T=C=M=null}},Z=I.effect=new yg(Y,()=>Ag(Q),I.scope),Q=I.update=()=>Z.run();Q.id=I.uid,so(I,!0),Q()},Lt=(I,T,C)=>{T.component=I;const M=I.vnode.props;I.vnode=T,I.next=null,dR(I,T.props,M,C),gR(I,T.children,C),Ys(),Kb(),Xs()},vt=(I,T,C,M,F,z,et,Y,Z=!1)=>{const Q=I&&I.children,wt=I?I.shapeFlag:0,ut=T.children,{patchFlag:mt,shapeFlag:St}=T;if(mt>0){if(mt&128){Ie(Q,ut,C,M,F,z,et,Y,Z);return}else if(mt&256){he(Q,ut,C,M,F,z,et,Y,Z);return}}St&8?(wt&16&&gt(Q,F,z),ut!==Q&&v(C,ut)):wt&16?St&16?Ie(Q,ut,C,M,F,z,et,Y,Z):gt(Q,F,z,!0):(wt&8&&v(C,""),St&16&&W(ut,C,M,F,z,et,Y,Z))},he=(I,T,C,M,F,z,et,Y,Z)=>{I=I||bs,T=T||bs;const Q=I.length,wt=T.length,ut=Math.min(Q,wt);let mt;for(mt=0;mt<ut;mt++){const St=T[mt]=Z?vi(T[mt]):Cr(T[mt]);S(I[mt],St,C,null,F,z,et,Y,Z)}Q>wt?gt(I,F,z,!0,!1,ut):W(T,C,M,F,z,et,Y,Z,ut)},Ie=(I,T,C,M,F,z,et,Y,Z)=>{let Q=0;const wt=T.length;let ut=I.length-1,mt=wt-1;for(;Q<=ut&&Q<=mt;){const St=I[Q],Ut=T[Q]=Z?vi(T[Q]):Cr(T[Q]);if(qu(St,Ut))S(St,Ut,C,null,F,z,et,Y,Z);else break;Q++}for(;Q<=ut&&Q<=mt;){const St=I[ut],Ut=T[mt]=Z?vi(T[mt]):Cr(T[mt]);if(qu(St,Ut))S(St,Ut,C,null,F,z,et,Y,Z);else break;ut--,mt--}if(Q>ut){if(Q<=mt){const St=mt+1,Ut=St<wt?T[St].el:M;for(;Q<=mt;)S(null,T[Q]=Z?vi(T[Q]):Cr(T[Q]),C,Ut,F,z,et,Y,Z),Q++}}else if(Q>mt)for(;Q<=ut;)Ce(I[Q],F,z,!0),Q++;else{const St=Q,Ut=Q,_t=new Map;for(Q=Ut;Q<=mt;Q++){const kt=T[Q]=Z?vi(T[Q]):Cr(T[Q]);kt.key!=null&&_t.set(kt.key,Q)}let x,k=0;const B=mt-Ut+1;let rt=!1,ct=0;const At=new Array(B);for(Q=0;Q<B;Q++)At[Q]=0;for(Q=St;Q<=ut;Q++){const kt=I[Q];if(k>=B){Ce(kt,F,z,!0);continue}let Mt;if(kt.key!=null)Mt=_t.get(kt.key);else for(x=Ut;x<=mt;x++)if(At[x-Ut]===0&&qu(kt,T[x])){Mt=x;break}Mt===void 0?Ce(kt,F,z,!0):(At[Mt-Ut]=Q+1,Mt>=ct?ct=Mt:rt=!0,S(kt,T[Mt],C,null,F,z,et,Y,Z),k++)}const Ft=rt?wR(At):bs;for(x=Ft.length-1,Q=B-1;Q>=0;Q--){const kt=Ut+Q,Mt=T[kt],Dt=kt+1<wt?T[kt+1].el:M;At[Q]===0?S(null,Mt,C,Dt,F,z,et,Y,Z):rt&&(x<0||Q!==Ft[x]?Ve(Mt,C,Dt,2):x--)}}},Ve=(I,T,C,M,F=null)=>{const{el:z,type:et,transition:Y,children:Z,shapeFlag:Q}=I;if(Q&6){Ve(I.component.subTree,T,C,M);return}if(Q&128){I.suspense.move(T,C,M);return}if(Q&64){et.move(I,T,C,J);return}if(et===Un){i(z,T,C);for(let ut=0;ut<Z.length;ut++)Ve(Z[ut],T,C,M);i(I.anchor,T,C);return}if(et===Tl){j(I,T,C);return}if(M!==2&&Q&1&&Y)if(M===0)Y.beforeEnter(z),i(z,T,C),An(()=>Y.enter(z),F);else{const{leave:ut,delayLeave:mt,afterLeave:St}=Y,Ut=()=>i(z,T,C),_t=()=>{ut(z,()=>{Ut(),St&&St()})};mt?mt(z,Ut,_t):_t()}else i(z,T,C)},Ce=(I,T,C,M=!1,F=!1)=>{const{type:z,props:et,ref:Y,children:Z,dynamicChildren:Q,shapeFlag:wt,patchFlag:ut,dirs:mt}=I;if(Y!=null&&_v(Y,null,C,I,!0),wt&256){T.ctx.deactivate(I);return}const St=wt&1&&mt,Ut=!Il(I);let _t;if(Ut&&(_t=et&&et.onVnodeBeforeUnmount)&&Nr(_t,T,I),wt&6)dt(I.component,C,M);else{if(wt&128){I.suspense.unmount(C,M);return}St&&oo(I,null,T,"beforeUnmount"),wt&64?I.type.remove(I,T,C,F,J,M):Q&&(z!==Un||ut>0&&ut&64)?gt(Q,T,C,!1,!0):(z===Un&&ut&384||!F&&wt&16)&&gt(Z,T,C),M&&de(I)}(Ut&&(_t=et&&et.onVnodeUnmounted)||St)&&An(()=>{_t&&Nr(_t,T,I),St&&oo(I,null,T,"unmounted")},C)},de=I=>{const{type:T,el:C,anchor:M,transition:F}=I;if(T===Un){Pn(C,M);return}if(T===Tl){q(I);return}const z=()=>{o(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(I.shapeFlag&1&&F&&!F.persisted){const{leave:et,delayLeave:Y}=F,Z=()=>et(C,z);Y?Y(I.el,z,Z):Z()}else z()},Pn=(I,T)=>{let C;for(;I!==T;)C=y(I),o(I),I=C;o(T)},dt=(I,T,C)=>{const{bum:M,scope:F,update:z,subTree:et,um:Y}=I;M&&Up(M),F.stop(),z&&(z.active=!1,Ce(et,I,T,C)),Y&&An(Y,T),An(()=>{I.isUnmounted=!0},T),T&&T.pendingBranch&&!T.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===T.pendingId&&(T.deps--,T.deps===0&&T.resolve())},gt=(I,T,C,M=!1,F=!1,z=0)=>{for(let et=z;et<I.length;et++)Ce(I[et],T,C,M,F)},R=I=>I.shapeFlag&6?R(I.component.subTree):I.shapeFlag&128?I.suspense.next():y(I.anchor||I.el),U=(I,T,C)=>{I==null?T._vnode&&Ce(T._vnode,null,null,!0):S(T._vnode||null,I,T,null,null,null,C),Kb(),qI(),T._vnode=I},J={p:S,um:Ce,m:Ve,r:de,mt:ce,mc:W,pc:vt,pbc:A,n:R,o:t};let st,Rt;return e&&([st,Rt]=e(J)),{render:U,hydrate:st,createApp:lR(U,st)}}function so({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function s1(t,e,n=!1){const i=t.children,o=e.children;if(Ot(i)&&Ot(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=vi(o[u]),l.el=a.el),n||s1(a,l)),l.type===Nf&&(l.el=a.el)}}function wR(t){const e=t.slice(),n=[0];let i,o,u,a,l;const f=t.length;for(i=0;i<f;i++){const d=t[i];if(d!==0){if(o=n[n.length-1],t[o]<d){e[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,t[n[l]]<d?u=l+1:a=l;d<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=e[a];return n}const bR=t=>t.__isTeleport,Un=Symbol.for("v-fgt"),Nf=Symbol.for("v-txt"),Io=Symbol.for("v-cmt"),Tl=Symbol.for("v-stc"),ea=[];let hr=null;function un(t=!1){ea.push(hr=t?null:[])}function _R(){ea.pop(),hr=ea[ea.length-1]||null}let ga=1;function e_(t){ga+=t}function u1(t){return t.dynamicChildren=ga>0?hr||bs:null,_R(),ga>0&&hr&&hr.push(t),t}function Hn(t,e,n,i,o,u){return u1(ft(t,e,n,i,o,u,!0))}function Ev(t,e,n,i,o){return u1(qt(t,e,n,i,o,!0))}function Iv(t){return t?t.__v_isVNode===!0:!1}function qu(t,e){return t.type===e.type&&t.key===e.key}const kf="__vInternal",a1=({key:t})=>t??null,Sl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Le(t)||ae(t)||Vt(t)?{i:Kn,r:t,k:e,f:!!n}:t:null);function ft(t,e=null,n=null,i=0,o=null,u=t===Un?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&a1(e),ref:e&&Sl(e),scopeId:HI,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Kn};return l?(Pg(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=Le(n)?8:16),ga>0&&!a&&hr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&hr.push(f),f}const qt=ER;function ER(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===XI)&&(t=Io),Iv(t)){const l=As(t,e,!0);return n&&Pg(l,n),ga>0&&!u&&hr&&(l.shapeFlag&6?hr[hr.indexOf(t)]=l:hr.push(l)),l.patchFlag|=-2,l}if(RR(t)&&(t=t.__vccOpts),e){e=IR(e);let{class:l,style:f}=e;l&&!Le(l)&&(e.class=Ti(l)),ve(f)&&(DI(f)&&!Ot(f)&&(f=He({},f)),e.style=fa(f))}const a=Le(t)?1:qO(t)?128:bR(t)?64:ve(t)?4:Vt(t)?2:0;return ft(t,e,n,i,o,a,u,!0)}function IR(t){return t?DI(t)||kf in t?He({},t):t:null}function As(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=t,l=e?f1(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&a1(l),ref:e&&e.ref?n&&o?Ot(o)?o.concat(Sl(e)):[o,Sl(e)]:Sl(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Un?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&As(t.ssContent),ssFallback:t.ssFallback&&As(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function c1(t=" ",e=0){return qt(Nf,null,t,e)}function Dg(t,e){const n=qt(Tl,null,t);return n.staticCount=e,n}function l1(t="",e=!1){return e?(un(),Ev(Io,null,t)):qt(Io,null,t)}function Cr(t){return t==null||typeof t=="boolean"?qt(Io):Ot(t)?qt(Un,null,t.slice()):typeof t=="object"?vi(t):qt(Nf,null,String(t))}function vi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:As(t)}function Pg(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ot(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),Pg(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(kf in e)?e._ctx=Kn:o===3&&Kn&&(Kn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Vt(e)?(e={default:e,_ctx:Kn},n=32):(e=String(e),i&64?(n=16,e=[c1(e)]):n=8);t.children=e,t.shapeFlag|=n}function f1(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=Ti([e.class,i.class]));else if(o==="style")e.style=fa([e.style,i.style]);else if(yf(o)){const u=e[o],a=i[o];a&&u!==a&&!(Ot(u)&&u.includes(a))&&(e[o]=u?[].concat(u,a):a)}else o!==""&&(e[o]=i[o])}return e}function Nr(t,e,n,i=null){pr(t,e,7,[n,i])}const TR=t1();let SR=0;function AR(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||TR,u={uid:SR++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new wI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:n1(i,o),emitsOptions:KI(i,o),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:i.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=FO.bind(null,u),t.ce&&t.ce(u),u}let Ue=null;const xf=()=>Ue||Kn;let Lg,cs,n_="__VUE_INSTANCE_SETTERS__";(cs=fv()[n_])||(cs=fv()[n_]=[]),cs.push(t=>Ue=t),Lg=t=>{cs.length>1?cs.forEach(e=>e(t)):cs[0](t)};const Ns=t=>{Lg(t),t.scope.on()},wo=()=>{Ue&&Ue.scope.off(),Lg(null)};function h1(t){return t.vnode.shapeFlag&4}let ma=!1;function NR(t,e=!1){ma=e;const{props:n,children:i}=t.vnode,o=h1(t);hR(t,n,o,e),vR(t,i);const u=o?kR(t,e):void 0;return ma=!1,u}function kR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=If(new Proxy(t.ctx,rR));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?CR(t):null;Ns(t),Ys();const u=Ni(i,t,0,[t.props,o]);if(Xs(),wo(),pI(u)){if(u.then(wo,wo),e)return u.then(a=>{r_(t,a,e)}).catch(a=>{Tf(a,t,0)});t.asyncDep=u}else r_(t,u,e)}else d1(t,e)}function r_(t,e,n){Vt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ve(e)&&(t.setupState=VI(e)),d1(t,n)}let i_;function d1(t,e,n){const i=t.type;if(!t.render){if(!e&&i_&&!i.render){const o=i.template||Og(t).template;if(o){const{isCustomElement:u,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,d=He(He({isCustomElement:u,delimiters:l},a),f);i.render=i_(o,d)}}t.render=i.render||dr}Ns(t),Ys(),iR(t),Xs(),wo()}function xR(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Cn(t,"get","$attrs"),e[n]}}))}function CR(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return xR(t)},slots:t.slots,emit:t.emit,expose:e}}function Mg(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(VI(If(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ta)return ta[n](t)},has(e,n){return n in e||n in ta}}))}function OR(t,e=!0){return Vt(t)?t.displayName||t.name:t.name||e&&t.__name}function RR(t){return Vt(t)&&"__vccOpts"in t}const Bt=(t,e)=>OO(t,e,ma);function ks(t,e,n){const i=arguments.length;return i===2?ve(e)&&!Ot(e)?Iv(e)?qt(t,null,[e]):qt(t,e):qt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Iv(n)&&(n=[n]),qt(t,e,n))}const DR=Symbol.for("v-scx"),PR=()=>nr(DR),LR="3.3.4",MR="http://www.w3.org/2000/svg",fo=typeof document<"u"?document:null,o_=fo&&fo.createElement("template"),FR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?fo.createElementNS(MR,t):fo.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>fo.createTextNode(t),createComment:t=>fo.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>fo.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,u){const a=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{o_.innerHTML=i?`<svg>${t}</svg>`:t;const l=o_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function VR(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function jR(t,e,n){const i=t.style,o=Le(n);if(n&&!o){if(e&&!Le(e))for(const u in e)n[u]==null&&Tv(i,u,"");for(const u in n)Tv(i,u,n[u])}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=u)}}const s_=/\s*!important$/;function Tv(t,e,n){if(Ot(n))n.forEach(i=>Tv(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=UR(t,e);s_.test(n)?t.setProperty(Qs(i),n.replace(s_,""),"important"):t[i]=n}}const u_=["Webkit","Moz","ms"],$p={};function UR(t,e){const n=$p[e];if(n)return n;let i=Pr(e);if(i!=="filter"&&i in t)return $p[e]=i;i=_f(i);for(let o=0;o<u_.length;o++){const u=u_[o]+i;if(u in t)return $p[e]=u}return e}const a_="http://www.w3.org/1999/xlink";function BR(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(a_,e.slice(6,e.length)):t.setAttributeNS(a_,e,n);else{const u=QC(e);n==null||u&&!mI(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function qR(t,e,n,i,o,u,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,o,u),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const d=l==="OPTION"?t.getAttribute("value"):t.value,v=n??"";d!==v&&(t.value=v),n==null&&t.removeAttribute(e);return}let f=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=mI(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(e)}function $R(t,e,n,i){t.addEventListener(e,n,i)}function KR(t,e,n,i){t.removeEventListener(e,n,i)}function HR(t,e,n,i,o=null){const u=t._vei||(t._vei={}),a=u[e];if(i&&a)a.value=i;else{const[l,f]=zR(e);if(i){const d=u[e]=QR(i,o);$R(t,l,d,f)}else a&&(KR(t,l,a,f),u[e]=void 0)}}const c_=/(?:Once|Passive|Capture)$/;function zR(t){let e;if(c_.test(t)){e={};let i;for(;i=t.match(c_);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Qs(t.slice(2)),e]}let Kp=0;const GR=Promise.resolve(),WR=()=>Kp||(GR.then(()=>Kp=0),Kp=Date.now());function QR(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;pr(YR(i,n.value),e,5,[i])};return n.value=t,n.attached=WR(),n}function YR(t,e){if(Ot(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const l_=/^on[a-z]/,XR=(t,e,n,i,o=!1,u,a,l,f)=>{e==="class"?VR(t,i,o):e==="style"?jR(t,n,i):yf(e)?dg(e)||HR(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):JR(t,e,i,o))?qR(t,e,i,u,a,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),BR(t,e,i,o))};function JR(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&l_.test(e)&&Vt(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||l_.test(e)&&Le(n)?!1:e in t}const ZR=["ctrl","shift","alt","meta"],tD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ZR.some(n=>t[`${n}Key`]&&!e.includes(n))},Sv=(t,e)=>(n,...i)=>{for(let o=0;o<e.length;o++){const u=tD[e[o]];if(u&&u(n,e))return}return t(n,...i)},eD=He({patchProp:XR},FR);let f_;function nD(){return f_||(f_=mR(eD))}const rD=(...t)=>{const e=nD().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=iD(i);if(!o)return;const u=e._component;!Vt(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function iD(t){return Le(t)?document.querySelector(t):t}var oD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let p1;const Cf=t=>p1=t,v1=Symbol();function Av(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var na;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(na||(na={}));function sD(){const t=bI(!0),e=t.run(()=>gn({}));let n=[],i=[];const o=If({install(u){Cf(o),o._a=u,u.provide(v1,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!oD?i.push(u):n.push(u),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const g1=()=>{};function h_(t,e,n,i=g1){t.push(e);const o=()=>{const u=t.indexOf(e);u>-1&&(t.splice(u,1),i())};return!n&&_I()&&XC(o),o}function ls(t,...e){t.slice().forEach(n=>{n(...e)})}const uD=t=>t();function Nv(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],o=t[n];Av(o)&&Av(i)&&t.hasOwnProperty(n)&&!ae(i)&&!Ai(i)?t[n]=Nv(o,i):t[n]=i}return t}const aD=Symbol();function cD(t){return!Av(t)||!t.hasOwnProperty(aD)}const{assign:pi}=Object;function lD(t){return!!(ae(t)&&t.effect)}function fD(t,e,n,i){const{state:o,actions:u,getters:a}=e,l=n.state.value[t];let f;function d(){l||(n.state.value[t]=o?o():{});const v=NO(n.state.value[t]);return pi(v,u,Object.keys(a||{}).reduce((g,y)=>(g[y]=If(Bt(()=>{Cf(n);const b=n._s.get(t);return a[y].call(b,b)})),g),{}))}return f=m1(t,d,e,n,i,!0),f}function m1(t,e,n={},i,o,u){let a;const l=pi({actions:{}},n),f={deep:!0};let d,v,g=[],y=[],b;const _=i.state.value[t];!u&&!_&&(i.state.value[t]={}),gn({});let S;function N(W){let ht;d=v=!1,typeof W=="function"?(W(i.state.value[t]),ht={type:na.patchFunction,storeId:t,events:b}):(Nv(i.state.value[t],W),ht={type:na.patchObject,payload:W,storeId:t,events:b});const A=S=Symbol();xr().then(()=>{S===A&&(d=!0)}),v=!0,ls(g,ht,i.state.value[t])}const O=u?function(){const{state:ht}=n,A=ht?ht():{};this.$patch(Wt=>{pi(Wt,A)})}:g1;function P(){a.stop(),g=[],y=[],i._s.delete(t)}function j(W,ht){return function(){Cf(i);const A=Array.from(arguments),Wt=[],oe=[];function se(ot){Wt.push(ot)}function ce(ot){oe.push(ot)}ls(y,{args:A,name:W,store:nt,after:se,onError:ce});let Qt;try{Qt=ht.apply(this&&this.$id===t?this:nt,A)}catch(ot){throw ls(oe,ot),ot}return Qt instanceof Promise?Qt.then(ot=>(ls(Wt,ot),ot)).catch(ot=>(ls(oe,ot),Promise.reject(ot))):(ls(Wt,Qt),Qt)}}const q={_p:i,$id:t,$onAction:h_.bind(null,y),$patch:N,$reset:O,$subscribe(W,ht={}){const A=h_(g,W,ht.detached,()=>Wt()),Wt=a.run(()=>Wn(()=>i.state.value[t],oe=>{(ht.flush==="sync"?v:d)&&W({storeId:t,type:na.direct,events:b},oe)},pi({},f,ht)));return A},$dispose:P},nt=Yr(q);i._s.set(t,nt);const It=(i._a&&i._a.runWithContext||uD)(()=>i._e.run(()=>(a=bI()).run(e)));for(const W in It){const ht=It[W];if(ae(ht)&&!lD(ht)||Ai(ht))u||(_&&cD(ht)&&(ae(ht)?ht.value=_[W]:Nv(ht,_[W])),i.state.value[t][W]=ht);else if(typeof ht=="function"){const A=j(W,ht);It[W]=A,l.actions[W]=ht}}return pi(nt,It),pi(Jt(nt),It),Object.defineProperty(nt,"$state",{get:()=>i.state.value[t],set:W=>{N(ht=>{pi(ht,W)})}}),i._p.forEach(W=>{pi(nt,a.run(()=>W({store:nt,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(nt.$state,_),d=!0,v=!0,nt}function hD(t,e,n){let i,o;const u=typeof e=="function";typeof t=="string"?(i=t,o=u?n:e):(o=t,i=t.id);function a(l,f){const d=fR();return l=l||(d?nr(v1,null):null),l&&Cf(l),l=p1,l._s.has(i)||(u?m1(i,e,o,l):fD(i,o,l)),l._s.get(i)}return a.$id=i,a}let dD="Store";function pD(...t){return t.reduce((e,n)=>(e[n.$id+dD]=function(){return n(this.$pinia)},e),{})}function vD(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(){return t(this.$pinia)[i]},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(){const o=t(this.$pinia),u=e[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function y1(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[i]},set(o){return t(this.$pinia)[i]=o}},n),{}):Object.keys(e).reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[e[i]]},set(o){return t(this.$pinia)[e[i]]=o}},n),{})}const Vl=hD("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(t){return t.isOpen?"":"hidden"}}}),Zr=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},gD={name:"AppHeader",computed:{...pD(Vl),...y1(Vl,["isOpen"])},methods:{toggleAuthModal(){this.isOpen=!this.isOpen}}},mD={id:"header",class:"w-full"},yD={class:"container mx-auto flex items-center py-5 px-4"},wD=ft("a",{class:"text-[#1ed760] font-bold text-2xl justify-center hover:scale-105",href:"#"},"Musicfy",-1),bD={class:"flex flex-grow items-center justify-end"},_D={class:"flex flex-row mt-1 gap-1"},ED=Dg('<li class="p-1 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"><a class="text-white text-sm flex gap-1 items-center" href="#"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> Install app </a></li><li class="p-1 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"><a class="text-white" href="#"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></a></li>',2),ID={class:"p-1 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},TD=ft("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[ft("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),SD=[TD];function AD(t,e,n,i,o,u){return un(),Hn("header",mD,[ft("nav",yD,[wD,ft("div",bD,[ft("ul",_D,[ED,ft("li",ID,[ft("a",{class:"text-white rounded-full",href:"#",onClick:e[0]||(e[0]=Sv((...a)=>u.toggleAuthModal&&u.toggleAuthModal(...a),["prevent"]))},SD)])])])])])}const ND=Zr(gD,[["render",AD]]),kD={data(){return{currentTime:93,durationTime:186}},computed:{currentTimePercentage(){return this.currentTime/this.durationTime*100+"%"}}},xD={class:"fixed bottom-0 left-0 bg-black px-4 py-4 w-full flex flex-nowrap"},CD=ft("div",{class:"text-white flex flex-col justify-center items-center"},[ft("p",{class:"song-title font-bold"},"Song Title"),ft("p",{class:"song-artist"},"by Artist")],-1),OD={class:"text-white grow flex flex-col gap-0.5"},RD=ft("button",{type:"button"},[ft("p",{class:"fa fa-play-circle text-white text-3xl hover:scale-110"})],-1),DD={class:"flex flex-nowrap gap-3 justify-center items-center"},PD=ft("div",{class:"player-currenttime text-xs secondary-text"},"00:00",-1),LD={class:"group w-80 h-1 rounded bg-neutral-700 relative cursor-pointer"},MD=ft("i",{class:"fas fa-circle"},null,-1),FD=[MD],VD=ft("div",{class:"player-duration text-xs secondary-text"},"03:06",-1);function jD(t,e,n,i,o,u){return un(),Hn("div",xD,[CD,ft("div",OD,[RD,ft("div",DD,[PD,ft("div",LD,[ft("span",{class:"absolute -top-1.5 -ml-2.5 text-white text-xs opacity-0 group-hover:opacity-100",style:fa({left:u.currentTimePercentage})},FD,4),ft("span",{class:"block h-1 rounded bg-white group-hover:bg-gradient-to-r from-green-500 to-green-400",style:fa({width:u.currentTimePercentage})},null,4)]),VD])])])}const UD=Zr(kD,[["render",jD]]),BD={},qD={class:"container mx-auto"},$D=Dg('<div class="bg-gray900 flex flex-col"><div class="px-6 pt-6 pb-5 font-bold border-b border-neutral-300 border-opacity-10"><span class="card-title secondary-text">Title</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 float-right secondary-text"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><ol id="playlist"><li class="flex justify-between items-center p-2 pl-6 cursor-pointer transition duration-800 rounded-md hover:bg-neutral-800"><div><a href="#" class="font-bold block text-gray-100">Song Title</a><span class="secondary-text text-sm">Artist Name</span></div><div class="text-gray-100 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 rounded-md hover:bg-neutral-800"><div><a href="#" class="font-bold block text-gray-100">Song Title</a><span class="text-gray-300 text-sm">Artist Name</span></div><div class="text-gray-100 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-800"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li><li class="flex justify-between items-center p-3 pl-6 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block text-gray-600">Song Title</a><span class="text-gray-500 text-sm">Artist Name</span></div><div class="text-gray-600 text-lg"><span class="comments"><i class="fa fa-comments text-gray-600"></i> 15 </span></div></li></ol></div>',1),KD=[$D];function HD(t,e){return un(),Hn("section",qD,KD)}const zD=Zr(BD,[["render",HD]]),kv="/musicfy/assets/img/liked-songs-300.png",d_="/musicfy/assets/img/liked-songs-640.png",GD={},WD=kv+" 150w, "+kv+" 300w, "+d_+" 320w, "+d_+" 640w",QD={class:"mb-10 py-20 text-white text-center relative"},YD=Dg('<div class="container mx-auto flex"><img aria-hidden="false" draggable="false" loading="eager" src="'+kv+'" alt="Liked songs" class="" srcset="'+WD+'" sizes="(min-width: 1280px) 232px, 192px"><div class="text-white main-header-content ml-5 flex-col self-end"><h4 class="text-left text-sm">Playlist</h4><h1 class="text-left font-bold text-5xl mb-5">Liked songs</h1><p class="text-left"><span class="font-bold">Username</span> Nº songs</p></div></div>',1),XD=[YD];function JD(t,e){return un(),Hn("section",QD,XD)}const ZD=Zr(GD,[["render",JD]]),tP={name:"LoginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Your account is being created. "}},methods:{login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login.login_alert_msg="Please wait! Logging in.",this.login_alert_variant="bg-[#1ed760]",this.login_alert_msg="Success! Login completed.",console.log("Login started",t)}}},eP={class:"mb-3"},nP=ft("label",{class:"inline-block mb-2"},"Email",-1),rP={class:"mb-3"},iP=ft("label",{class:"inline-block mb-2"},"Password",-1),oP=["disabled"];function sP(t,e,n,i,o,u){const a=qn("VeeField"),l=qn("ErrorMessage"),f=qn("VeeForm");return un(),Hn(Un,null,[o.login_show_alert?(un(),Hn("div",{key:0,class:Ti(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},hv(o.login_alert_msg),3)):l1("",!0),qt(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:u.login},{default:Zu(()=>[ft("div",eP,[nP,qt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),qt(l,{class:"text-red-600 block",name:"email"})]),ft("div",rP,[iP,qt(a,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Password"}),qt(l,{class:"text-red-600 block",name:"password"})]),ft("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,oP)]),_:1},8,["validation-schema","onSubmit"])],64)}const uP=Zr(tP,[["render",sP]]);var xv=function(t,e){return xv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},xv(t,e)};function Tt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ya=function(){return ya=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},ya.apply(this,arguments)};function H(t,e,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(v){try{d(i.next(v))}catch(g){a(g)}}function f(v){try{d(i.throw(v))}catch(g){a(g)}}function d(v){v.done?u(v.value):o(v.value).then(l,f)}d((i=i.apply(t,e||[])).next())})}function $(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(v){return f([d,v])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(v){d=[6,v],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Hp(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function Ae(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var w1=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},aP=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=t[n++],a=t[n++],l=t[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{var u=t[n++],a=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return e.join("")},cP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var u=t[o],a=o+1<t.length,l=a?t[o+1]:0,f=o+2<t.length,d=f?t[o+2]:0,v=u>>2,g=(u&3)<<4|l>>4,y=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(y=64)),i.push(n[v],n[g],n[y],n[b])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w1(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):aP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var u=n[t.charAt(o++)],a=o<t.length,l=a?n[t.charAt(o)]:0;++o;var f=o<t.length,d=f?n[t.charAt(o)]:64;++o;var v=o<t.length,g=v?n[t.charAt(o)]:64;if(++o,u==null||l==null||d==null||g==null)throw Error();var y=u<<2|l>>4;if(i.push(y),d!==64){var b=l<<4&240|d>>2;if(i.push(b),g!==64){var _=d<<6&192|g;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},lP=function(t){var e=w1(t);return cP.encodeByteArray(e,!0)},p_=function(t){return lP(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){return wa(void 0,t)}function wa(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)!e.hasOwnProperty(i)||!hP(i)||(t[i]=wa(t[i],e[i]));return t}function hP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dP=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=ya({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[p_(JSON.stringify(n)),p_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(To())}function b1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gP(){return typeof self=="object"&&self.self===self}function mP(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wP(){return To().indexOf("Electron/")>=0}function bP(){var t=To();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _P(){return To().indexOf("MSAppHost/")>=0}function EP(){return!b1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IP="FirebaseError",TP=function(t){Tt(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=IP,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Fg.prototype.create),u}return e}(Error),Fg=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,a=this.errors[e],l=a?SP(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new TP(u,f,o);return d},t}();function SP(t,e){return t.replace(AP,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var AP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function NP(t,e){var n=new kP(t,e);return n.subscribe.bind(n)}var kP=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");xP(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=zp),u.error===void 0&&(u.error=zp),u.complete===void 0&&(u.complete=zp);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function xP(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function zp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}var Of=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CP=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new dP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(RP(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}try{for(var o=Hp(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=hl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var v=this.getOrInitializeService({instanceIdentifier:d});f.resolve(v)}catch{}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=ao),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return H(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ae(Ae([],hl(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),hl(e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=ao),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=ao),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,i;e===void 0&&(e={});var o=e.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=Hp(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var v=hl(d.value,2),g=v[0],y=v[1],b=this.normalizeInstanceIdentifier(g);a===b&&y.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&e(a,o),function(){u.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=Hp(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(e,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,i=e.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:OP(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=ao),this.component?this.component.multipleInstances?e:ao:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function OP(t){return t===ao?void 0:t}function RP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DP=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new CP(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function lr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uo,Vg=[],te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));var _1={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},PP=te.INFO,LP=(uo={},uo[te.DEBUG]="log",uo[te.VERBOSE]="log",uo[te.INFO]="info",uo[te.WARN]="warn",uo[te.ERROR]="error",uo),MP=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=LP[e];if(u)console[u].apply(console,lr(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},E1=function(){function t(e){this.name=e,this._logLevel=PP,this._logHandler=MP,this._userLogHandler=null,Vg.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in te))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?_1[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.DEBUG],e)),this._logHandler.apply(this,lr([this,te.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.VERBOSE],e)),this._logHandler.apply(this,lr([this,te.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.INFO],e)),this._logHandler.apply(this,lr([this,te.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.WARN],e)),this._logHandler.apply(this,lr([this,te.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,lr([this,te.ERROR],e)),this._logHandler.apply(this,lr([this,te.ERROR],e))},t}();function FP(t){Vg.forEach(function(e){e.setLogLevel(t)})}function VP(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=_1[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var v=[],g=2;g<arguments.length;g++)v[g-2]=arguments[g];var y=v.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&t({level:te[d].toLowerCase(),message:y,args:v,type:f.name})}},i=0,o=Vg;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li,jP=(li={},li["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",li["bad-app-name"]="Illegal App name: '{$appName}",li["duplicate-app"]="Firebase App named '{$appName}' already exists",li["app-deleted"]="Firebase App named '{$appName}' already deleted",li["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",li["invalid-log-argument"]="First argument to `onLog` must be null or a function.",li),ds=new Fg("app","Firebase",jP),I1="@firebase/app",UP="0.6.30",BP="@firebase/analytics",qP="@firebase/app-check",$P="@firebase/auth",KP="@firebase/database",HP="@firebase/functions",zP="@firebase/installations",GP="@firebase/messaging",WP="@firebase/performance",QP="@firebase/remote-config",YP="@firebase/storage",XP="@firebase/firestore",JP="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,jl="[DEFAULT]",ZP=(nn={},nn[I1]="fire-core",nn[BP]="fire-analytics",nn[qP]="fire-app-check",nn[$P]="fire-auth",nn[KP]="fire-rtdb",nn[HP]="fire-fn",nn[zP]="fire-iid",nn[GP]="fire-fcm",nn[WP]="fire-perf",nn[QP]="fire-rc",nn[YP]="fire-gcs",nn[XP]="fire-fst",nn["fire-js"]="fire-js",nn[JP]="fire-js-all",nn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xs=new E1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Al=function(){function t(e,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=fP(e),this.container=new DP(n.name),this._addComponent(new Of("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var i;n===void 0&&(n=jl),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=jl),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){xs.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ds.create("app-deleted",{appName:this.name_})},t}();Al.prototype.name&&Al.prototype.options||Al.prototype.delete||console.log("dc");var tL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t){var e={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:FP,onLog:v,apps:null,SDK_VERSION:tL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:g}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(y){delete e[y]}function u(y){if(y=y||jl,!v_(e,y))throw ds.create("no-app",{appName:y});return e[y]}u.App=t;function a(y,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var S=b;S.name===void 0&&(S.name=jl);var N=S.name;if(typeof N!="string"||!N)throw ds.create("bad-app-name",{appName:String(N)});if(v_(e,N))throw ds.create("duplicate-app",{appName:N});var O=new t(y,S,i);return e[N]=O,O}function l(){return Object.keys(e).map(function(y){return e[y]})}function f(y){var b=y.name;if(n.has(b))return xs.debug("There were multiple attempts to register component "+b+"."),y.type==="PUBLIC"?i[b]:null;if(n.set(b,y),y.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=u()),typeof P[b]!="function")throw ds.create("invalid-app-argument",{appName:b});return P[b]()};y.serviceProps!==void 0&&wa(_,y.serviceProps),i[b]=_,t.prototype[b]=function(){for(var P=[],j=0;j<arguments.length;j++)P[j]=arguments[j];var q=this._getService.bind(this,b);return q.apply(this,y.multipleInstances?P:[])}}for(var S=0,N=Object.keys(e);S<N.length;S++){var O=N[S];e[O]._addComponent(y)}return y.type==="PUBLIC"?i[b]:null}function d(y,b,_){var S,N=(S=ZP[y])!==null&&S!==void 0?S:y;_&&(N+="-"+_);var O=N.match(/\s|\//),P=b.match(/\s|\//);if(O||P){var j=['Unable to register library "'+N+'" with version "'+b+'":'];O&&j.push('library name "'+N+'" contains illegal characters (whitespace or "/")'),O&&P&&j.push("and"),P&&j.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),xs.warn(j.join(" "));return}f(new Of(N+"-version",function(){return{library:N,version:b}},"VERSION"))}function v(y,b){if(y!==null&&typeof y!="function")throw ds.create("invalid-log-argument");VP(y,b)}function g(y,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){var t=eL(Al);t.INTERNAL=ya(ya({},t.INTERNAL),{createFirebaseNamespace:T1,extendNamespace:e,createSubscribe:NP,ErrorFactory:Fg,deepExtend:wa});function e(n){wa(t,n)}return t}var jg=T1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(rL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function rL(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t,e){t.INTERNAL.registerComponent(new Of("platform-logger",function(n){return new nL(n)},"PRIVATE")),t.registerVersion(I1,UP,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(gP()&&self.firebase!==void 0){xs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var g_=self.firebase.SDK_VERSION;g_&&g_.indexOf("LITE")>=0&&xs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var oL=jg.initializeApp;jg.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return b1()&&xs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),oL.apply(void 0,t)};var xt=jg;iL(xt);var sL="firebase",S1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.registerVersion(sL,S1,"app");xt.SDK_VERSION=S1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in c||(c[p]={}),c=c[p]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&e(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(L){E.reject(L)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var p=i.setTimeout;c.prototype.c=function(w){p(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var L=w[E];w[E]=null;try{L()}catch(K){this.f(K)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(K){return function(Ct){L||(L=!0,K.call(E,Ct))}}var E=this,L=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{t:switch(typeof w){case"object":var E=w!=null;break t;case"function":E=!0;break t;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(L){this.g(L);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)m.b(this.a[w]);this.a=null}};var m=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var L=this.f();try{w.call(E,L.resolve,L.reject)}catch(K){L.reject(K)}},s.prototype.then=function(w,E){function L(Zt,$e){return typeof Zt=="function"?function(Br){try{K(Zt(Br))}catch(Vp){Ct(Vp)}}:$e}var K,Ct,re=new s(function(Zt,$e){K=Zt,Ct=$e});return this.Ra(L(w,K),L(E,Ct)),re},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function L(){switch(K.b){case 1:w(K.c);break;case 2:E(K.c);break;default:throw Error("Unexpected state: "+K.b)}}var K=this;this.a==null?m.b(L):this.a.push(L)},s.resolve=h,s.reject=function(w){return new s(function(E,L){L(w)})},s.race=function(w){return new s(function(E,L){for(var K=a(w),Ct=K.next();!Ct.done;Ct=K.next())h(Ct.value).Ra(E,L)})},s.all=function(w){var E=a(w),L=E.next();return L.done?h([]):new s(function(K,Ct){function re(Br){return function(Vp){Zt[Br]=Vp,$e--,$e==0&&K(Zt)}}var Zt=[],$e=0;do Zt.push(void 0),$e++,h(L.value).Ra(re(Zt.length-1),Ct),L=E.next();while(!L.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,v=null;function g(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function y(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function S(r){return b(r)=="function"}function N(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function O(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++j)}var P="closure_uid_"+(1e9*Math.random()>>>0),j=0;function q(r,s,c){return r.call.apply(r.bind,arguments)}function nt(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(s,p)}}return function(){return r.apply(s,arguments)}}function V(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=q:V=nt,V.apply(null,arguments)}function It(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function W(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ht(r){return r}function A(r,s,c){this.code=oe+r,this.message=s||se[r]||"",this.a=c||null}W(A,Error),A.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},A.prototype.toJSON=function(){return this.w()};function Wt(r){var s=r&&r.code;return s?new A(s.substring(oe.length),r.message,r.serverResponse):null}var oe="auth/",se={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ce={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Qt(r){for(var s in ce)if(ce[s].id===r)return r=ce[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var ot;ot=Qt("__EID__")?"__EID__":void 0;function Lt(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function vt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,vt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}W(vt,Error),vt.prototype.name="CustomError";function he(r,s){r=r.split("%s");for(var c="",h=r.length-1,p=0;p<h;p++)c+=r[p]+(p<s.length?s[p]:"%s");vt.call(this,c+r[h])}W(he,vt),he.prototype.name="AssertionError";function Ie(r,s){throw new he("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Ve(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Ve.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ce(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function de(){this.b=this.a=null}var Pn=new Ve(function(){return new gt},function(r){r.reset()});de.prototype.add=function(r,s){var c=Pn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function dt(){var r=_y,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function gt(){this.next=this.b=this.a=null}gt.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},gt.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},U=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,p=typeof r=="string"?r.split(""):r,m=0;m<h;m++)m in p&&s.call(c,p[m],m,r)};function J(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var st=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],p=0,m=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in m){var E=m[w];s.call(void 0,E,w,r)&&(h[p++]=E)}return h},Rt=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),p=typeof r=="string"?r.split(""):r,m=0;m<c;m++)m in p&&(h[m]=s.call(void 0,p[m],m,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r))return!0;return!1};function T(r){t:{for(var s=gk,c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r)){s=p;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function C(r,s){return 0<=R(r,s)}function M(r,s){s=R(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function F(r,s){var c=0;J(r,function(h,p){s.call(void 0,h,p,r)&&Array.prototype.splice.call(r,p,1).length==1&&c++})}function z(r){return Array.prototype.concat.apply([],arguments)}function et(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var Y=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},Z=/&/g,Q=/</g,wt=/>/g,ut=/"/g,mt=/'/g,St=/\x00/g,Ut=/[\x00&<>"']/;function _t(r,s){return r.indexOf(s)!=-1}function x(r,s){return r<s?-1:r>s?1:0}var k;t:{var B=f.navigator;if(B){var rt=B.userAgent;if(rt){k=rt;break t}}k=""}function ct(r){return _t(k,r)}function At(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function Ft(r){for(var s in r)return!1;return!0}function kt(r){var s={},c;for(c in r)s[c]=r[c];return s}var Mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(r,s){for(var c,h,p=1;p<arguments.length;p++){h=arguments[p];for(c in h)r[c]=h[c];for(var m=0;m<Mt.length;m++)c=Mt[m],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function tn(r,s){t:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[s]<"u"&&(!r||!(r instanceof p[s])&&(r instanceof p.Location||r instanceof p.Element))){if(N(r))try{var m=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{m="<object could not be stringified>"}else m=r===void 0?"undefined":r===null?"null":typeof r;Ie("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,m)}}function en(r,s){this.a=r===oc&&s||"",this.b=ny}en.prototype.ta=!0,en.prototype.sa=function(){return this.a},en.prototype.toString=function(){return"Const{"+this.a+"}"};function fh(r){return r instanceof en&&r.constructor===en&&r.b===ny?r.a:(Ie("expected object of type Const, got '"+r+"'"),"type_error:Const")}var ny={},oc={},sc;function ry(){if(sc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ht,createScript:ht,createScriptURL:ht})}catch(c){f.console&&f.console.error(c.message)}sc=r}else sc=r}return sc}function Uo(r,s){this.a=s===oy?r:""}Uo.prototype.ta=!0,Uo.prototype.sa=function(){return this.a.toString()},Uo.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function iy(r){return r instanceof Uo&&r.constructor===Uo?r.a:(Ie("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function hh(r,s){var c=fh(r);if(!zA.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(HA,function(h,p){if(!Object.prototype.hasOwnProperty.call(s,p))throw Error('Found marker, "'+p+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[p],h instanceof en?fh(h):encodeURIComponent(String(h))}),GA(r)}var HA=/%{(\w+)}/g,zA=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,oy={};function GA(r){var s=ry();return r=s?s.createScriptURL(r):r,new Uo(r,oy)}function En(r,s){this.a=s===su?r:""}En.prototype.ta=!0,En.prototype.sa=function(){return this.a.toString()},En.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function uc(r){return r instanceof En&&r.constructor===En?r.a:(Ie("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var WA=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,QA=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,sy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function uy(r){if(r instanceof En)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),sy.test(r))r=new En(r,su);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(QA);r=s&&WA.test(s[1])?new En(r,su):null}return r}function ay(r){return r instanceof En?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),sy.test(r)||(r="about:invalid#zClosurez"),new En(r,su))}var su={},cy=new En("about:invalid#zClosurez",su);function Bo(r,s,c){this.a=c===ly?r:""}Bo.prototype.ta=!0,Bo.prototype.sa=function(){return this.a.toString()},Bo.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function YA(r){return r instanceof Bo&&r.constructor===Bo?r.a:(Ie("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var ly={};function XA(r,s){tn(r,"HTMLScriptElement"),r.src=iy(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=g(s.document):(v===null&&(v=g(f.document)),s=v),s&&r.setAttribute("nonce",s)}function fy(r,s,c,h){return r=r instanceof En?r:ay(r),s=s||f,c=c instanceof en?fh(c):c||"",s.open(uc(r),c,h,void 0)}function hy(r,s){for(var c=r.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<c.length;)h+=c.shift()+p.shift();return h+c.join("%s")}function dh(r){return Ut.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(Z,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(wt,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(ut,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(mt,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(St,"&#0;"))),r}function ph(r){return ph[" "](r),r}ph[" "]=y;function JA(r,s){var c=nN;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var ZA=ct("Opera"),rr=ct("Trident")||ct("MSIE"),dy=ct("Edge"),tN=dy||rr,py=ct("Gecko")&&!(_t(k.toLowerCase(),"webkit")&&!ct("Edge"))&&!(ct("Trident")||ct("MSIE"))&&!ct("Edge"),eN=_t(k.toLowerCase(),"webkit")&&!ct("Edge");function vy(){var r=f.document;return r?r.documentMode:void 0}var ac;t:{var vh="",gh=function(){var r=k;if(py)return/rv:([^\);]+)(\)|;)/.exec(r);if(dy)return/Edge\/([\d\.]+)/.exec(r);if(rr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(eN)return/WebKit\/(\S+)/.exec(r);if(ZA)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(gh&&(vh=gh?gh[1]:""),rr){var mh=vy();if(mh!=null&&mh>parseFloat(vh)){ac=String(mh);break t}}ac=vh}var nN={};function gy(r){return JA(r,function(){for(var s=0,c=Y(String(ac)).split("."),h=Y(String(r)).split("."),p=Math.max(c.length,h.length),m=0;s==0&&m<p;m++){var w=c[m]||"",E=h[m]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=x(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||x(w[2].length==0,E[2].length==0)||x(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var yh;if(f.document&&rr){var my=vy();yh=my||parseInt(ac,10)||void 0}else yh=void 0;var ei=yh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var rN=!rr||9<=Number(ei);function uu(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function yy(r,s){At(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:wy.hasOwnProperty(h)?r.setAttribute(wy[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var wy={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function iN(r,s,c){var h=arguments,p=document,m=String(h[0]),w=h[1];if(!rN&&w&&(w.name||w.type)){if(m=["<",m],w.name&&m.push(' name="',dh(w.name),'"'),w.type){m.push(' type="',dh(w.type),'"');var E={};Dt(E,w),delete E.type,w=E}m.push(">"),m=m.join("")}return m=cc(p,m),w&&(typeof w=="string"?m.className=w:Array.isArray(w)?m.className=w.join(" "):yy(m,w)),2<h.length&&oN(p,m,h),m}function oN(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var p=2;p<c.length;p++){var m=c[p];if(!_(m)||N(m)&&0<m.nodeType)h(m);else{t:{if(m&&typeof m.length=="number"){if(N(m)){var w=typeof m.item=="function"||typeof m.item=="string";break t}if(S(m)){w=typeof m.item=="function";break t}}w=!1}U(w?et(m):m,h)}}}function cc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function by(r){f.setTimeout(function(){throw r},0)}var wh;function sN(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!ct("Presto")&&(r=function(){var p=cc(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var m=p.contentWindow;p=m.document,p.open(),p.close();var w="callImmediate"+Math.random(),E=m.location.protocol=="file:"?"*":m.location.protocol+"//"+m.location.host;p=V(function(L){(E=="*"||L.origin==E)&&L.data==w&&this.port1.onmessage()},this),m.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){m.postMessage(w,E)}}}),typeof r<"u"&&!ct("Trident")&&!ct("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var p=c.Hb;c.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,s.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function lc(r,s){fc||uN(),bh||(fc(),bh=!0),_y.add(r,s)}var fc;function uN(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);fc=function(){r.then(Ey)}}else fc=function(){var s=Ey;!S(f.setImmediate)||f.Window&&f.Window.prototype&&!ct("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(wh||(wh=sN()),wh(s)):f.setImmediate(s)}}var bh=!1,_y=new de;function Ey(){for(var r;r=dt();){try{r.a.call(r.b)}catch(s){by(s)}Ce(Pn,r)}bh=!1}function Kt(r,s){if(this.a=Ui,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=y)try{var c=this;r.call(s,function(h){Bi(c,au,h)},function(h){if(!(h instanceof qo))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Bi(c,Fr,h)})}catch(h){Bi(this,Fr,h)}}var Ui=0,au=2,Fr=3;function Iy(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Iy.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ty=new Ve(function(){return new Iy},function(r){r.reset()});function _h(r,s,c){var h=Ty.get();return h.g=r,h.b=s,h.f=c,h}function Et(r){if(r instanceof Kt)return r;var s=new Kt(y);return Bi(s,au,r),s}function ge(r){return new Kt(function(s,c){c(r)})}function Sy(r,s,c){xy(r,s,c,null)||lc(It(s,r))}function aN(r){return new Kt(function(s,c){var h=r.length,p=[];if(h)for(var m=function(K,Ct){h--,p[K]=Ct,h==0&&s(p)},w=function(K){c(K)},E=0,L;E<r.length;E++)L=r[E],Sy(L,It(m,E),w);else s(p)})}function Ay(r){return new Kt(function(s){var c=r.length,h=[];if(c)for(var p=function(E,L,K){c--,h[E]=L?{Qb:!0,value:K}:{Qb:!1,reason:K},c==0&&s(h)},m=0,w;m<r.length;m++)w=r[m],Sy(w,It(p,m,!0),It(p,m,!1));else s(h)})}Kt.prototype.then=function(r,s,c){return ky(this,S(r)?r:null,S(s)?s:null,c)},Kt.prototype.$goog_Thenable=!0,t=Kt.prototype,t.oa=function(r,s){return r=_h(r,r,s),r.c=!0,Eh(this,r),this},t.o=function(r,s){return ky(this,null,r,s)},t.cancel=function(r){if(this.a==Ui){var s=new qo(r);lc(function(){Ny(this,s)},this)}};function Ny(r,s){if(r.a==Ui)if(r.c){var c=r.c;if(c.b){for(var h=0,p=null,m=null,w=c.b;w&&(w.c||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(m=w);p&&(c.a==Ui&&h==1?Ny(c,s):(m?(h=m,h.next==c.f&&(c.f=h),h.next=h.next.next):Oy(c),Ry(c,p,Fr,s)))}r.c=null}else Bi(r,Fr,s)}function Eh(r,s){r.b||r.a!=au&&r.a!=Fr||Cy(r),r.f?r.f.next=s:r.b=s,r.f=s}function ky(r,s,c,h){var p=_h(null,null,null);return p.a=new Kt(function(m,w){p.g=s?function(E){try{var L=s.call(h,E);m(L)}catch(K){w(K)}}:m,p.b=c?function(E){try{var L=c.call(h,E);L===void 0&&E instanceof qo?w(E):m(L)}catch(K){w(K)}}:w}),p.a.c=r,Eh(r,p),p.a}t.$c=function(r){this.a=Ui,Bi(this,au,r)},t.ad=function(r){this.a=Ui,Bi(this,Fr,r)};function Bi(r,s,c){r.a==Ui&&(r===c&&(s=Fr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,xy(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,Cy(r),s!=Fr||c instanceof qo||lN(r,c)))}function xy(r,s,c,h){if(r instanceof Kt)return Eh(r,_h(s||y,c||null,h)),!0;if(Lt(r))return r.then(s,c,h),!0;if(N(r))try{var p=r.then;if(S(p))return cN(r,p,s,c,h),!0}catch(m){return c.call(h,m),!0}return!1}function cN(r,s,c,h,p){function m(L){E||(E=!0,h.call(p,L))}function w(L){E||(E=!0,c.call(p,L))}var E=!1;try{s.call(r,w,m)}catch(L){m(L)}}function Cy(r){r.h||(r.h=!0,lc(r.gc,r))}function Oy(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.gc=function(){for(var r;r=Oy(this);)Ry(this,r,this.a,this.i);this.h=!1};function Ry(r,s,c,h){if(c==Fr&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,Dy(s,c,h);else try{s.c?s.g.call(s.f):Dy(s,c,h)}catch(p){Py.call(null,p)}Ce(Ty,s)}function Dy(r,s,c){s==au?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function lN(r,s){r.g=!0,lc(function(){r.g&&Py.call(null,s)})}var Py=by;function qo(r){vt.call(this,r)}W(qo,vt),qo.prototype.name="cancel";function hc(){this.ya=this.ya,this.pa=this.pa}var fN=0;hc.prototype.ya=!1;function Ly(r){!r.ya&&(r.ya=!0,r.Da(),fN!=0)&&O(r)}hc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var hN=Object.freeze||function(r){return r},My=!rr||9<=Number(ei),dN=rr&&!gy("9"),pN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",y,s),f.removeEventListener("test",y,s)}catch{}return r}();function In(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}In.prototype.preventDefault=function(){this.defaultPrevented=!0};function qi(r,s){if(In.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(py){t:{try{ph(s.nodeName);var p=!0;break t}catch{}p=!1}p||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:vN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}W(qi,In);var vN=hN({2:"touch",3:"pen",4:"mouse"});qi.prototype.preventDefault=function(){qi.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,dN)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},qi.prototype.g=function(){return this.a};var cu="closure_listenable_"+(1e6*Math.random()|0),gN=0;function mN(r,s,c,h,p){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=p,this.key=++gN,this.wa=this.Qa=!1}function dc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function pc(r){this.src=r,this.a={},this.b=0}pc.prototype.add=function(r,s,c,h,p){var m=r.toString();r=this.a[m],r||(r=this.a[m]=[],this.b++);var w=Th(r,s,h,p);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new mN(s,this.src,m,!!h,p),s.Qa=c,r.push(s)),s};function Ih(r,s){var c=s.type;c in r.a&&M(r.a[c],s)&&(dc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function Th(r,s,c,h){for(var p=0;p<r.length;++p){var m=r[p];if(!m.wa&&m.listener==s&&m.capture==!!c&&m.Wa==h)return p}return-1}var Sh="closure_lm_"+(1e6*Math.random()|0),Ah={};function Xn(r,s,c,h,p){if(h&&h.once)Nh(r,s,c,h,p);else if(Array.isArray(s))for(var m=0;m<s.length;m++)Xn(r,s[m],c,h,p);else c=xh(c),r&&r[cu]?qy(r,s,c,N(h)?!!h.capture:!!h,p):Fy(r,s,c,!1,h,p)}function Fy(r,s,c,h,p,m){if(!s)throw Error("Invalid event type");var w=N(p)?!!p.capture:!!p,E=vc(r);if(E||(r[Sh]=E=new pc(r)),c=E.add(s,c,h,w,m),!c.proxy)if(h=yN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)pN||(p=w),p===void 0&&(p=!1),r.addEventListener(s.toString(),h,p);else if(r.attachEvent)r.attachEvent(jy(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function yN(){var r=wN,s=My?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function Nh(r,s,c,h,p){if(Array.isArray(s))for(var m=0;m<s.length;m++)Nh(r,s[m],c,h,p);else c=xh(c),r&&r[cu]?Ch(r,s,c,N(h)?!!h.capture:!!h,p):Fy(r,s,c,!0,h,p)}function Ln(r,s,c,h,p){if(Array.isArray(s))for(var m=0;m<s.length;m++)Ln(r,s[m],c,h,p);else h=N(h)?!!h.capture:!!h,c=xh(c),r&&r[cu]?(r=r.v,s=String(s).toString(),s in r.a&&(m=r.a[s],c=Th(m,c,h,p),-1<c&&(dc(m[c]),Array.prototype.splice.call(m,c,1),m.length==0&&(delete r.a[s],r.b--)))):r&&(r=vc(r))&&(s=r.a[s.toString()],r=-1,s&&(r=Th(s,c,h,p)),(c=-1<r?s[r]:null)&&Vy(c))}function Vy(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[cu])Ih(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(jy(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=vc(s))?(Ih(c,r),c.b==0&&(c.src=null,s[Sh]=null)):dc(r)}}}function jy(r){return r in Ah?Ah[r]:Ah[r]="on"+r}function Uy(r,s,c,h){var p=!0;if((r=vc(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var m=s[r];m&&m.capture==c&&!m.wa&&(m=By(m,h),p=p&&m!==!1)}return p}function By(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Vy(r),c.call(h,s)}function wN(r,s){if(r.wa)return!0;if(!My){if(!s)t:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break t}s=c}if(h=s,s=new qi(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=s.b;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;0<=p;p--){s.b=h[p];var m=Uy(h[p],r,!0,s);c=c&&m}for(p=0;p<h.length;p++)s.b=h[p],m=Uy(h[p],r,!1,s),c=c&&m}return c}return By(r,new qi(s,this))}function vc(r){return r=r[Sh],r instanceof pc?r:null}var kh="__closure_events_fn_"+(1e9*Math.random()>>>0);function xh(r){return S(r)?r:(r[kh]||(r[kh]=function(s){return r.handleEvent(s)}),r[kh])}function hn(){hc.call(this),this.v=new pc(this),this.bc=this,this.hb=null}W(hn,hc),hn.prototype[cu]=!0,hn.prototype.addEventListener=function(r,s,c,h){Xn(this,r,s,c,h)},hn.prototype.removeEventListener=function(r,s,c,h){Ln(this,r,s,c,h)},hn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new In(r,c);else if(r instanceof In)r.target=r.target||c;else{var p=r;r=new In(h,c),Dt(r,p)}if(p=!0,s)for(var m=s.length-1;0<=m;m--){var w=r.b=s[m];p=gc(w,h,!0,r)&&p}if(w=r.b=c,p=gc(w,h,!0,r)&&p,p=gc(w,h,!1,r)&&p,s)for(m=0;m<s.length;m++)w=r.b=s[m],p=gc(w,h,!1,r)&&p;return p},hn.prototype.Da=function(){if(hn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)dc(c[h]);delete r.a[s],r.b--}}this.hb=null};function qy(r,s,c,h,p){r.v.add(String(s),c,!1,h,p)}function Ch(r,s,c,h,p){r.v.add(String(s),c,!0,h,p)}function gc(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var p=!0,m=0;m<s.length;++m){var w=s[m];if(w&&!w.wa&&w.capture==c){var E=w.listener,L=w.Wa||w.src;w.Qa&&Ih(r.v,w),p=E.call(L,h)!==!1&&p}}return p&&!h.defaultPrevented}function Oh(r,s,c){if(S(r))c&&(r=V(r,c));else if(r&&typeof r.handleEvent=="function")r=V(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function $o(r){var s=null;return new Kt(function(c,h){s=Oh(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function $y(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function Ky(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function bN(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")U(r,s,void 0);else for(var c=Ky(r),h=$y(r),p=h.length,m=0;m<p;m++)s.call(void 0,h[m],c&&c[m],r)}function Ko(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof Ko)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}t=Ko.prototype,t.X=function(){Rh(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return Rh(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function Rh(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];$i(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var p={};for(c=s=0;s<r.a.length;)h=r.a[s],$i(p,h)||(r.a[c++]=h,p[h]=1),s++;r.a.length=c}}t.get=function(r,s){return $i(this.b,r)?this.b[r]:s},t.set=function(r,s){$i(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var p=c[h],m=this.get(p);r.call(s,m,p,this)}};function $i(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var Hy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _N(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),p=null;if(0<=h){var m=r[c].substring(0,h);p=r[c].substring(h+1)}else m=r[c];s(m,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ni(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof ni?(this.i=s!==void 0?s:r.i,lu(this,r.c),this.l=r.l,this.a=r.a,fu(this,r.g),this.f=r.f,Dh(this,Qy(r.b)),this.h=r.h):r&&(c=String(r).match(Hy))?(this.i=!!s,lu(this,c[1]||"",!0),this.l=hu(c[2]||""),this.a=hu(c[3]||"",!0),fu(this,c[4]),this.f=hu(c[5]||"",!0),Dh(this,c[6]||"",!0),this.h=hu(c[7]||"")):(this.i=!!s,this.b=new Ki(null,this.i))}ni.prototype.toString=function(){var r=[],s=this.c;s&&r.push(du(s,zy,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(du(s,zy,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(du(c,c.charAt(0)=="/"?TN:IN,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",du(c,AN)),r.join("")},ni.prototype.resolve=function(r){var s=new ni(this),c=!!r.c;c?lu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)fu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=s.f.lastIndexOf("/");p!=-1&&(h=s.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(_t(p,"./")||_t(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var m=[],w=0;w<p.length;){var E=p[w++];E=="."?h&&w==p.length&&m.push(""):E==".."?((1<m.length||m.length==1&&m[0]!="")&&m.pop(),h&&w==p.length&&m.push("")):(m.push(E),h=!0)}h=m.join("/")}else h=p}return c?s.f=h:c=r.b.toString()!=="",c?Dh(s,Qy(r.b)):c=!!r.h,c&&(s.h=r.h),s};function lu(r,s,c){r.c=c?hu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function fu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function Dh(r,s,c){s instanceof Ki?(r.b=s,NN(r.b,r.i)):(c||(s=du(s,SN)),r.b=new Ki(s,r.i))}function Ne(r,s,c){r.b.set(s,c)}function Jn(r,s){return r.b.get(s)}function Tn(r){return r instanceof ni?new ni(r):new ni(r,void 0)}function mc(r,s,c,h){var p=new ni(null,void 0);return r&&lu(p,r),s&&(p.a=s),c&&fu(p,c),h&&(p.f=h),p}function hu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function du(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,EN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function EN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var zy=/[#\/\?@]/g,IN=/[#\?:]/g,TN=/[#\?]/g,SN=/[#\?@]/g,AN=/#/g;function Ki(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function ri(r){r.a||(r.a=new Ko,r.b=0,r.c&&_N(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function Gy(r){var s=Ky(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new Ki(null,void 0);r=$y(r);for(var h=0;h<s.length;h++){var p=s[h],m=r[h];Array.isArray(m)?Wy(c,p,m):c.add(p,m)}return c}t=Ki.prototype,t.add=function(r,s){ri(this),this.c=null,r=Ho(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function br(r,s){ri(r),s=Ho(r,s),$i(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,$i(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&Rh(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function Ph(r,s){return ri(r),s=Ho(r,s),$i(r.a.b,s)}t.forEach=function(r,s){ri(this),this.a.forEach(function(c,h){U(c,function(p){r.call(s,p,h,this)},this)},this)},t.Y=function(){ri(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var p=r[h],m=0;m<p.length;m++)c.push(s[h]);return c},t.X=function(r){ri(this);var s=[];if(typeof r=="string")Ph(this,r)&&(s=z(s,this.a.get(Ho(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=z(s,r[c])}return s},t.set=function(r,s){return ri(this),this.c=null,r=Ho(this,r),Ph(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function Wy(r,s,c){br(r,s),0<c.length&&(r.c=null,r.a.set(Ho(r,s),et(c)),r.b+=c.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],p=encodeURIComponent(String(h));h=this.X(h);for(var m=0;m<h.length;m++){var w=p;h[m]!==""&&(w+="="+encodeURIComponent(String(h[m]))),r.push(w)}}return this.c=r.join("&")};function Qy(r){var s=new Ki;return s.c=r.c,r.a&&(s.a=new Ko(r.a),s.b=r.b),s}function Ho(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function NN(r,s){s&&!r.f&&(ri(r),r.c=null,r.a.forEach(function(c,h){var p=h.toLowerCase();h!=p&&(br(this,h),Wy(this,p,c))},r)),r.f=s}function Yy(r){var s=[];return Lh(new kN,r,s),s.join("")}function kN(){}function Lh(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var p="",m=0;m<s;m++)c.push(p),Lh(r,h[m],c),p=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),p="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(m=s[h],typeof m!="function"&&(c.push(p),Jy(h,c),c.push(":"),Lh(r,m,c),p=","));c.push("}");return}}switch(typeof s){case"string":Jy(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var Xy={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},xN=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Jy(r,s){s.push('"',r.replace(xN,function(c){var h=Xy[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Xy[c]=h),h}),'"')}function Mh(){var r=Ge();return rr&&!!ei&&ei==11||/Edge\/\d+/.test(r)}function pu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function Zy(r,s){s=s||f.window;var c="about:blank";r&&(c=uc(uy(r)||cy)),s.location.href=c}function t0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<t0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function CN(){var r=Ge();return r=zo(r)!=i0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!rr||!ei||9<ei}function e0(r){return r=(r||Ge()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Hi(r){r=r||f.window;try{r.close()}catch{}}function n0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var p=(window.screen.availHeight-c)/2,m=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<p?p:0,left:0<m?m:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=Ge().toLowerCase(),h&&(s.target=h,_t(c,"crios/")&&(s.target="_blank")),zo(Ge())==jh&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof En?c:uy(typeof c.href<"u"?c.href:String(c))||cy,c=r.target||c.target,p=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(r[w]?1:0))}var w=p.join(",");if((ct("iPhone")&&!ct("iPod")&&!ct("iPad")||ct("iPad")||ct("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=cc(document,"A"),tn(w,"HTMLAnchorElement"),s=s instanceof En?s:ay(s),w.href=uc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=fy("",h,c,w),r=uc(s),w&&(tN&&_t(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+dh(r)+'">',r=(h=ry())?h.createHTML(r):r,r=new Bo(r,null,ly),h=w.document)&&(h.write(YA(r)),h.close())):(w=fy(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function ON(r){return new Kt(function(s){function c(){$o(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var RN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DN=/^[^@]+@[^@]+$/;function yc(){var r=null;return new Kt(function(s){f.document.readyState=="complete"?s():(r=function(){s()},Nh(window,"load",r))}).o(function(s){throw Ln(window,"load",r),s})}function PN(){return Fh(void 0)?yc().then(function(){return new Kt(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):ge(Error("Cordova must run in an Android or iOS file scheme."))}function Fh(r){return r=r||Ge(),!(Wo()!=="file:"&&Wo()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vh(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function ir(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function _r(){return xt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xt.INTERNAL.hasOwnProperty("node")?"Node":ir()?"Worker":"Browser"}function r0(){var r=_r();return r==="ReactNative"||r==="Node"}function LN(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var jh="Firefox",i0="Chrome";function zo(r){var s=r.toLowerCase();if(_t(s,"opera/")||_t(s,"opr/")||_t(s,"opios/"))return"Opera";if(_t(s,"iemobile"))return"IEMobile";if(_t(s,"msie")||_t(s,"trident/"))return"IE";if(_t(s,"edge/"))return"Edge";if(_t(s,"firefox/"))return jh;if(_t(s,"silk/"))return"Silk";if(_t(s,"blackberry"))return"Blackberry";if(_t(s,"webos"))return"Webos";if(!_t(s,"safari/")||_t(s,"chrome/")||_t(s,"crios/")||_t(s,"android"))if(!_t(s,"chrome/")&&!_t(s,"crios/")||_t(s,"edge/")){if(_t(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return i0;else return"Safari";return"Other"}var o0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Go(r,s){s=s||[];var c=[],h={},p;for(p in o0)h[o0[p]]=!0;for(p=0;p<s.length;p++)typeof h[s[p]]<"u"&&(delete h[s[p]],c.push(s[p]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=_r(),c==="Browser"?(h=Ge(),c=zo(h)):c==="Worker"&&(h=Ge(),c=zo(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function Ge(){return f.navigator&&f.navigator.userAgent||""}function me(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Uh(){try{var r=f.localStorage,s=Gi();if(r)return r.setItem(s,"1"),r.removeItem(s),Mh()?!!f.indexedDB:!0}catch{return ir()&&!!f.indexedDB}return!1}function zi(){return(wc()||Wo()==="chrome-extension:"||Fh())&&!r0()&&Uh()&&!ir()}function wc(){return Wo()==="http:"||Wo()==="https:"}function Wo(){return f.location&&f.location.protocol||null}function vu(r){return r=r||Ge(),!(e0(r)||zo(r)==jh)}function gu(r){return typeof r>"u"?null:Yy(r)}function s0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function Qo(r){if(r!==null)return JSON.parse(r)}function Gi(r){return r||Math.floor(1e9*Math.random()).toString()}function u0(r){return r=r||Ge(),!(zo(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function a0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function ii(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=Ge(),s=_r(),this.b=e0(r)||s==="ReactNative"}ii.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(wc()||Wo()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Bh(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function MN(){var r=f.document,s=null;return Bh()||!r?Et():new Kt(function(c){s=function(){Bh()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function mu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function c0(){return!(!me("fireauth.oauthhelper",f)&&!me("fireauth.iframe",f))}function FN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function VN(){var r=f.navigator;return r&&r.serviceWorker?Et().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Et(null)}var l0={};function qh(r){l0[r]||(l0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var $h;try{var Kh={};Object.defineProperty(Kh,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Kh,"abcd",{configurable:!0,enumerable:!0,value:2}),$h=Kh.abcd==2}catch{$h=!1}function pt(r,s,c){$h?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function dn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&pt(r,c,s[c])}function Er(r){var s={};return dn(s,r),s}function jN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function UN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function Hh(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)pt(s,c,Hh(r[c]))}return s}function zh(r){var s=r&&(r[Yh]?"phone":null);if(s&&r&&r[Qh]){pt(this,"uid",r[Qh]),pt(this,"displayName",r[f0]||null);var c=null;r[Wh]&&(c=new Date(r[Wh]).toUTCString()),pt(this,"enrollmentTime",c),pt(this,"factorId",s)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}zh.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Gh(r){try{var s=new yu(r)}catch{s=null}return s}var f0="displayName",Wh="enrolledAt",Qh="mfaEnrollmentId",Yh="phoneInfo";function yu(r){zh.call(this,r),pt(this,"phoneNumber",r[Yh])}W(yu,zh),yu.prototype.w=function(){var r=yu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function BN(r){var s={},c=r[qN],h=r[KN],p=r[HN];if(r=Gh(r[$N]),!p||p!=bc&&p!=wu&&!c||p==wu&&!h||p==Xh&&!r)throw Error("Invalid checkActionCode response!");p==wu?(s[d0]=c||null,s[p0]=c||null,s[h0]=h):(s[d0]=h||null,s[p0]=h||null,s[h0]=c||null),s[zN]=r||null,pt(this,WN,p),pt(this,GN,Hh(s))}var Xh="REVERT_SECOND_FACTOR_ADDITION",bc="EMAIL_SIGNIN",wu="VERIFY_AND_CHANGE_EMAIL",qN="email",$N="mfaInfo",KN="newEmail",HN="requestType",h0="email",d0="fromEmail",zN="multiFactorInfo",p0="previousEmail",GN="data",WN="operation";function Jh(r){r=Tn(r);var s=Jn(r,v0)||null,c=Jn(r,g0)||null,h=Jn(r,m0)||null;if(h=h&&JN[h]||null,!s||!c||!h)throw new A("argument-error",v0+", "+g0+"and "+m0+" are required in a valid action code URL.");dn(this,{apiKey:s,operation:h,code:c,continueUrl:Jn(r,QN)||null,languageCode:Jn(r,YN)||null,tenantId:Jn(r,XN)||null})}var v0="apiKey",g0="oobCode",QN="continueUrl",YN="languageCode",m0="mode",XN="tenantId",JN={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:Xh,signIn:bc,verifyAndChangeEmail:wu,verifyEmail:"VERIFY_EMAIL"};function y0(r){try{return new Jh(r)}catch{return null}}function _c(r){var s=r[ZN];if(typeof s>"u")throw new A("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new A("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[w0];if(c&&typeof c=="object"){s=c[T0];var h=c[E0];if(c=c[I0],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new A("argument-error",E0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new A("argument-error",I0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new A("argument-error",T0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new A("missing-android-pkg-name")}}else if(typeof c<"u")throw new A("argument-error",w0+" property must be a non null object when specified.");if(this.f=null,(s=r[_0])&&typeof s=="object"){if(s=s[S0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new A("argument-error",S0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new A("argument-error",_0+" property must be a non null object when specified.");if(s=r[Zh],typeof s<"u"&&typeof s!="boolean")throw new A("argument-error",Zh+" property must be a boolean when specified.");if(this.c=!!s,r=r[b0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new A("argument-error",b0+" property must be a non empty string when specified.");this.i=r||null}var w0="android",b0="dynamicLinkDomain",Zh="handleCodeInApp",_0="iOS",ZN="url",E0="installApp",I0="minimumVersion",T0="packageName",S0="bundleId";function Ec(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function tk(r){return Rt(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var bu=null;function ek(r){var s=[];return nk(r,function(c){s.push(c)}),s}function nk(r,s){function c(L){for(;h<r.length;){var K=r.charAt(h++),Ct=bu[K];if(Ct!=null)return Ct;if(!/^[\s\xa0]*$/.test(K))throw Error("Unknown base64 encoding at char: "+K)}return L}rk();for(var h=0;;){var p=c(-1),m=c(0),w=c(64),E=c(64);if(E===64&&p===-1)break;s(p<<2|m>>4),w!=64&&(s(m<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function rk(){if(!bu){bu={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),p=0;p<h.length;p++){var m=h[p];bu[m]===void 0&&(bu[m]=p)}}}function Ic(r){var s=A0(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Ic.prototype.T=function(){return this.f},Ic.prototype.l=function(){return this.c},Ic.prototype.toString=function(){return this.h};function Tc(r){try{return new Ic(r)}catch{return null}}function A0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=ek(r);for(r=[],c=s=0;s<h.length;){var p=h[s++];if(128>p)r[c++]=String.fromCharCode(p);else if(191<p&&224>p){var m=h[s++];r[c++]=String.fromCharCode((p&31)<<6|m&63)}else if(239<p&&365>p){m=h[s++];var w=h[s++],E=h[s++],L=((p&7)<<18|(m&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(L>>10)),r[c++]=String.fromCharCode(56320+(L&1023))}else m=h[s++],w=h[s++],r[c++]=String.fromCharCode((p&15)<<12|(m&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var N0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Sc=["client_id","response_type","scope","redirect_uri","state"],td={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Sc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Sc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Sc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:N0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function ed(r){for(var s in td)if(td[s].fa==r)return td[s];return null}function k0(r){var s={};s["facebook.com"]=C0,s["google.com"]=R0,s["github.com"]=O0,s["twitter.com"]=D0;var c=r&&r[x0];try{if(c)return s[c]?new s[c](r):new Ir(r);if(typeof r[nd]<"u")return new rd(r)}catch{}return null}var nd="idToken",x0="providerId";function rd(r){var s=r[x0];if(!s&&r[nd]){var c=Tc(r[nd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pt(this,"providerId",s),pt(this,"isNewUser",c)}function Ir(r){rd.call(this,r),r=Qo(r.rawUserInfo||"{}"),pt(this,"profile",Hh(r||{}))}W(Ir,rd);function C0(r){if(Ir.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}W(C0,Ir);function O0(r){if(Ir.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pt(this,"username",this.profile&&this.profile.login||null)}W(O0,Ir);function R0(r){if(Ir.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}W(R0,Ir);function D0(r){if(Ir.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pt(this,"username",r.screenName||null)}W(D0,Ir);function P0(r){var s=Tn(r),c=Jn(s,"link"),h=Jn(Tn(c),"link");return s=Jn(s,"deep_link_id"),Jn(Tn(s),"link")||s||h||c||r}function Ac(r,s){if(!r&&!s)throw new A("internal-error","Internal assert: no raw session string available");if(r&&s)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?_u:Nc}var _u="enroll",Nc="signin";Ac.prototype.Ha=function(){return this.a?Et(this.a):Et(this.b)},Ac.prototype.w=function(){return this.type==_u?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Yo(){}Yo.prototype.ka=function(){},Yo.prototype.b=function(){},Yo.prototype.c=function(){},Yo.prototype.w=function(){};function Xo(r,s){return r.then(function(c){if(c[ur]){var h=Tc(c[ur]);if(!h||s!=h.i)throw new A("user-mismatch");return c}throw new A("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new A("user-mismatch"):c})}function Wi(r,s){if(s)this.a=s;else throw new A("internal-error","failed to construct a credential");pt(this,"providerId",r),pt(this,"signInMethod",r)}Wi.prototype.ka=function(r){return Nd(r,id(this))},Wi.prototype.b=function(r,s){var c=id(this);return c.idToken=s,kd(r,c)},Wi.prototype.c=function(r,s){return Xo(xd(r,id(this)),s)};function id(r){return{pendingToken:r.a,requestUri:"http://localhost"}}Wi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function ik(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new Wi(r.providerId,r.pendingToken)}catch{}return null}function Vr(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&pt(this,"idToken",s.idToken),s.accessToken&&pt(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&pt(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)pt(this,"accessToken",s.oauthToken),pt(this,"secret",s.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");pt(this,"providerId",r),pt(this,"signInMethod",c)}Vr.prototype.ka=function(r){return Nd(r,od(this))},Vr.prototype.b=function(r,s){var c=od(this);return c.idToken=s,kd(r,c)},Vr.prototype.c=function(r,s){var c=od(this);return Xo(xd(r,c),s)};function od(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:Gy(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Vr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function ok(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Vr(r.providerId,s,r.signInMethod)}catch{}}return null}function Qi(r,s){this.Qc=s||[],dn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(ed(r)||{}).Ja||null,this.pb=null}Qi.prototype.Ka=function(r){return this.Jb=kt(r),this};function L0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Qi.call(this,r,[])}W(L0,Qi);function Mn(r){Qi.call(this,r,Sc),this.a=[]}W(Mn,Qi),Mn.prototype.Ca=function(r){return C(this.a,r)||this.a.push(r),this},Mn.prototype.Rb=function(){return et(this.a)},Mn.prototype.credential=function(r,s){var c;if(N(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Vr(this.providerId,c,this.providerId)};function Yi(){Mn.call(this,"facebook.com")}W(Yi,Mn),pt(Yi,"PROVIDER_ID","facebook.com"),pt(Yi,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function M0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new Yi().credential({accessToken:s})}function Xi(){Mn.call(this,"github.com")}W(Xi,Mn),pt(Xi,"PROVIDER_ID","github.com"),pt(Xi,"GITHUB_SIGN_IN_METHOD","github.com");function F0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new Xi().credential({accessToken:s})}function Ji(){Mn.call(this,"google.com"),this.Ca("profile")}W(Ji,Mn),pt(Ji,"PROVIDER_ID","google.com"),pt(Ji,"GOOGLE_SIGN_IN_METHOD","google.com");function V0(r,s){var c=r;return N(r)&&(c=r.idToken,s=r.accessToken),new Ji().credential({idToken:c,accessToken:s})}function Jo(){Qi.call(this,"twitter.com",N0)}W(Jo,Qi),pt(Jo,"PROVIDER_ID","twitter.com"),pt(Jo,"TWITTER_SIGN_IN_METHOD","twitter.com");function j0(r,s){var c=r;if(N(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Vr("twitter.com",c,"twitter.com")}function oi(r,s,c){this.a=r,this.f=s,pt(this,"providerId","password"),pt(this,"signInMethod",c===Zn.EMAIL_LINK_SIGN_IN_METHOD?Zn.EMAIL_LINK_SIGN_IN_METHOD:Zn.EMAIL_PASSWORD_SIGN_IN_METHOD)}oi.prototype.ka=function(r){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Ht(r,$k,{email:this.a,oobCode:this.f}):Ht(r,dw,{email:this.a,password:this.f})},oi.prototype.b=function(r,s){return this.signInMethod==Zn.EMAIL_LINK_SIGN_IN_METHOD?Ht(r,Kk,{idToken:s,email:this.a,oobCode:this.f}):Ht(r,hw,{idToken:s,email:this.a,password:this.f})},oi.prototype.c=function(r,s){return Xo(this.ka(r),s)},oi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function sk(r){return r&&r.email&&r.password?new oi(r.email,r.password,r.signInMethod):null}function Zn(){dn(this,{providerId:"password",isOAuthProvider:!1})}function U0(r,s){if(s=sd(s),!s)throw new A("argument-error","Invalid email link!");return new oi(r,s.code,Zn.EMAIL_LINK_SIGN_IN_METHOD)}function sd(r){return r=P0(r),(r=y0(r))&&r.operation===bc?r:null}dn(Zn,{PROVIDER_ID:"password"}),dn(Zn,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),dn(Zn,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function si(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new A("internal-error");this.a=r,pt(this,"providerId","phone"),this.fa="phone",pt(this,"signInMethod","phone")}si.prototype.ka=function(r){return r.gb(Eu(this))},si.prototype.b=function(r,s){var c=Eu(this);return c.idToken=s,Ht(r,lx,c)},si.prototype.c=function(r,s){var c=Eu(this);return c.operation="REAUTH",r=Ht(r,fx,c),Xo(r,s)},si.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function uk(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new si(s)}return null}function Eu(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function jr(r){try{this.a=r||xt.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}dn(this,{providerId:"phone",isOAuthProvider:!1})}jr.prototype.gb=function(r,s){var c=this.a.a;return Et(s.verify()).then(function(h){if(typeof h!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var p=N(r)?r.session:null,m=N(r)?r.phoneNumber:r,w;return p&&p.type==_u?w=p.Ha().then(function(E){return Pk(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:h}})}):p&&p.type==Nc?w=p.Ha().then(function(E){return Lk(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=Dk(c,{phoneNumber:m,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function B0(r,s){if(!r)throw new A("missing-verification-id");if(!s)throw new A("missing-verification-code");return new si({fb:r,eb:s})}dn(jr,{PROVIDER_ID:"phone"}),dn(jr,{PHONE_SIGN_IN_METHOD:"phone"});function ud(r){if(r.temporaryProof&&r.phoneNumber)return new si({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,p=r&&r.nonce,m=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return V0(m,c);case"facebook.com":return M0(c);case"github.com":return F0(c);case"twitter.com":return j0(c,h);default:return c||h||m||w?w?s.indexOf("saml.")==0?new Wi(s,w):new Vr(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new Mn(s).credential({idToken:m,accessToken:c,rawNonce:p}):null}}catch{return null}}function ad(r){if(!r.isOAuthProvider)throw new A("invalid-oauth-provider")}function or(r,s,c,h,p,m,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=m||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}or.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},or.prototype.T=function(){return this.h},or.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function q0(r){return r=r||{},r.type?new or(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Wt(r.error),r.postBody,r.tenantId):null}function ak(){this.b=null,this.a=[]}var cd=null;function ck(r){var s=cd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=me("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function ld(r){var s="unauthorized-domain",c=void 0,h=Tn(r);r=h.a,h=h.c,h=="chrome-extension"?c=hy("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=hy("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",A.call(this,s,c)}W(ld,A);function Iu(r,s,c){A.call(this,r,c),r=s||{},r.Kb&&pt(this,"email",r.Kb),r.ea&&pt(this,"phoneNumber",r.ea),r.credential&&pt(this,"credential",r.credential),r.$b&&pt(this,"tenantId",r.$b)}W(Iu,A),Iu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Dt(r,s),r},Iu.prototype.toJSON=function(){return this.w()};function kc(r){if(r.code){var s=r.code||"";s.indexOf(oe)==0&&(s=s.substring(oe.length));var c={credential:ud(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new A(s,r.message||void 0);return new Iu(s,c,r.message)}return null}function Tu(){}Tu.prototype.c=null;function $0(r){return r.c||(r.c=r.b())}var fd;function xc(){}W(xc,Tu),xc.prototype.a=function(){var r=K0(this);return r?new ActiveXObject(r):new XMLHttpRequest},xc.prototype.b=function(){var r={};return K0(this)&&(r[0]=!0,r[1]=!0),r};function K0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}fd=new xc;function Cc(){}W(Cc,Tu),Cc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new H0;throw Error("Unsupported browser")},Cc.prototype.b=function(){return{}};function H0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}t=H0.prototype,t.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,hd(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",hd(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,hd(this,1)};function hd(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function dd(r,s,c){this.reset(r,s,c,void 0,void 0)}dd.prototype.a=null,dd.prototype.reset=function(r,s,c,h,p){delete this.a};function pd(r){this.f=r,this.b=this.c=this.a=null}function Su(r,s){this.name=r,this.value=s}Su.prototype.toString=function(){return this.name};var z0=new Su("SEVERE",1e3),vd=new Su("WARNING",900),lk=new Su("CONFIG",700),fk=new Su("FINE",500);function G0(r){return r.c?r.c:r.a?G0(r.a):(Ie("Root logger has no level set."),null)}pd.prototype.log=function(r,s,c){if(r.value>=G0(this).value)for(S(s)&&(s=s()),r=new dd(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var gd={},Oc=null;function md(r){Oc||(Oc=new pd(""),gd[""]=Oc,Oc.c=lk);var s;if(!(s=gd[r])){s=new pd(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=md(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,gd[r]=s}return s}function tr(r,s){r&&r.log(fk,s,void 0)}function Rc(r){this.f=r}W(Rc,Tu),Rc.prototype.a=function(){return new Dc(this.f)},Rc.prototype.b=function(r){return function(){return r}}({});function Dc(r){hn.call(this),this.u=r,this.h=void 0,this.readyState=yd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=md("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}W(Dc,hn);var yd=0;t=Dc.prototype,t.open=function(r,s){if(this.readyState!=yd)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Nu(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Au(this)),this.readyState=yd},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Nu(this)),this.a&&(this.readyState=3,Nu(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,W0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function W0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}t.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Au(this):Nu(this),this.readyState==3&&W0(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,Au(this))},t.sc=function(r){this.a&&(this.response=r,Au(this))},t.Va=function(r){var s=this.i;s&&s.log(vd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Au(this)};function Au(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Nu(r)}t.setRequestHeader=function(r,s){this.l.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(vd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(vd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Nu(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Dc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function ku(r){hn.call(this),this.headers=new Ko,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Q0,this.u=this.S=!1}W(ku,hn);var Q0="";ku.prototype.b=md("goog.net.XhrIo");var hk=/^https?$/i,dk=["POST","PUT"];function pk(r,s,c,h,p){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():fd.a(),r.C=r.D?$0(r.D):$0(fd),r.a.onreadystatechange=V(r.Wb,r);try{tr(r.b,Ur(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){tr(r.b,Ur(r,"Error opening Xhr: "+w.message)),Y0(r,w);return}s=h||"";var m=new Ko(r.headers);p&&bN(p,function(w,E){m.set(E,w)}),p=T(m.Y()),h=f.FormData&&s instanceof f.FormData,!C(dk,c)||p||h||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{Z0(r),0<r.g&&(r.u=vk(r.a),tr(r.b,Ur(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=V(r.Ma,r)):r.s=Oh(r.Ma,r.g,r)),tr(r.b,Ur(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){tr(r.b,Ur(r,"Send error: "+w.message)),Y0(r,w)}}function vk(r){return rr&&gy(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function gk(r){return r.toLowerCase()=="content-type"}t=ku.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",tr(this.b,Ur(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Y0(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,X0(r),Pc(r)}function X0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(tr(this.b,Ur(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pc(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pc(this,!0)),ku.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?J0(this):this.Jc())},t.Jc=function(){J0(this)};function J0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&xu(r)==4&&Lc(r)==2)tr(r.b,Ur(r,"Local request error detected and ignored"));else if(r.i&&xu(r)==4)Oh(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),xu(r)==4){tr(r.b,Ur(r,"Request complete")),r.c=!1;try{var s=Lc(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var p;if(p=s===0){var m=String(r.l).match(Hy)[1]||null;if(!m&&f.self&&f.self.location){var w=f.self.location.protocol;m=w.substr(0,w.length-1)}p=!hk.test(m?m.toLowerCase():"")}h=p}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<xu(r)?r.a.statusText:""}catch(L){tr(r.b,"Can not get status: "+L.message),E=""}r.h=E+" ["+Lc(r)+"]",X0(r)}}finally{Pc(r)}}}}function Pc(r,s){if(r.a){Z0(r);var c=r.a,h=r.C[0]?y:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(p){(r=r.b)&&r.log(z0,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function Z0(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function xu(r){return r.a?r.a.readyState:0}function Lc(r){try{return 2<xu(r)?r.a.status:-1}catch{return-1}}function mk(r){try{return r.a?r.a.responseText:""}catch(s){return tr(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Q0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(z0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return tr(this.b,"Can not get response: "+s.message),null}};function Ur(r,s){return s+" ["+r.P+" "+r.l+" "+Lc(r)+"]"}function Zi(r){var s=bk;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}Zi.prototype.cancel=function(r){if(this.a)this.c instanceof Zi&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Ou,Mc(this),Cu(this,!1,r))}},Zi.prototype.m=function(r,s){this.i=!1,Cu(this,r,s)};function Cu(r,s,c){r.a=!0,r.c=c,r.f=!s,ew(r)}function Mc(r){if(r.a){if(!r.v)throw new Fc;r.v=!1}}function yk(r,s){wd(r,null,s,void 0)}function wd(r,s,c,h){r.g.push([s,c,h]),r.a&&ew(r)}Zi.prototype.then=function(r,s,c){var h,p,m=new Kt(function(w,E){h=w,p=E});return wd(this,h,function(w){w instanceof Ou?m.cancel():p(w)}),m.then(r,s,c)},Zi.prototype.$goog_Thenable=!0;function tw(r){return I(r.g,function(s){return S(s[1])})}function ew(r){if(r.h&&r.a&&tw(r)){var s=r.h,c=Vc[s];c&&(f.clearTimeout(c.a),delete Vc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var p=r.g.shift(),m=p[0],w=p[1];if(p=p[2],m=r.f?w:m)try{var E=m.call(p||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Lt(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(L){s=L,r.f=!0,tw(r)||(c=!0)}}r.c=s,h&&(E=V(r.m,r,!0),h=V(r.m,r,!1),s instanceof Zi?(wd(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new nw(s),Vc[s.a]=s,r.h=s.a)}function Fc(){vt.call(this)}W(Fc,vt),Fc.prototype.message="Deferred has already fired",Fc.prototype.name="AlreadyCalledError";function Ou(){vt.call(this)}W(Ou,vt),Ou.prototype.message="Deferred was canceled",Ou.prototype.name="CanceledError";function nw(r){this.a=f.setTimeout(V(this.c,this),0),this.b=r}nw.prototype.c=function(){throw delete Vc[this.a],this.b};var Vc={};function bd(r){var s={},c=s.document||document,h=iy(r).toString(),p=cc(document,"SCRIPT"),m={Xb:p,Ma:void 0},w=new Zi(m),E=null,L=s.timeout!=null?s.timeout:5e3;return 0<L&&(E=window.setTimeout(function(){jc(p,!0);var K=new _d(Ek,"Timeout reached for loading script "+h);Mc(w),Cu(w,!1,K)},L),m.Ma=E),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(jc(p,s.xd||!1,E),Mc(w),Cu(w,!0,null))},p.onerror=function(){jc(p,!0,E);var K=new _d(_k,"Error while loading script "+h);Mc(w),Cu(w,!1,K)},m=s.attributes||{},Dt(m,{type:"text/javascript",charset:"UTF-8"}),yy(p,m),XA(p,r),wk(c).appendChild(p),w}function wk(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function bk(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&jc(r,!0,this.Ma)}}function jc(r,s,c){c!=null&&f.clearTimeout(c),r.onload=y,r.onerror=y,r.onreadystatechange=y,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var _k=0,Ek=1;function _d(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),vt.call(this,c),this.code=r}W(_d,vt);function Uc(r){this.f=r}W(Uc,Tu),Uc.prototype.a=function(){return new this.f},Uc.prototype.b=function(){return{}};function sr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||Ik,this.g=kt(r.secureTokenHeaders||Tk),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||Sk,this.a=kt(r.firebaseHeaders||Ak),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=_r()=="Node",c=f.XMLHttpRequest||c&&xt.INTERNAL.node&&xt.INTERNAL.node.XMLHttpRequest,!c&&!ir())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ir()?this.f=new Rc(self):r0()?this.f=new Uc(c):this.f=new Cc,this.b=null}var Ed,ur="idToken",Ik=new ii(3e4,6e4),Tk={"Content-Type":"application/x-www-form-urlencoded"},Sk=new ii(3e4,6e4),Ak={"Content-Type":"application/json"};function rw(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function Bc(r,s){s&&(r.l=Id("https://securetoken.googleapis.com/v1/token",s),r.h=Id("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=Id("https://identitytoolkit.googleapis.com/v2/",s))}function Id(r,s){return r=Tn(r),s=Tn(s.url),r.f=r.a+r.f,lu(r,s.c),r.a=s.a,fu(r,s.g),r.toString()}function iw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}sr.prototype.T=function(){return this.b};function ow(r,s,c,h,p,m,w){CN()||ir()?r=V(r.u,r):(Ed||(Ed=new Kt(function(E,L){kk(E,L)})),r=V(r.s,r)),r(s,c,h,p,m,w)}sr.prototype.u=function(r,s,c,h,p,m){if(ir()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new ku(this.f);if(m){w.g=Math.max(0,m);var E=setTimeout(function(){w.dispatchEvent("timeout")},m)}qy(w,"complete",function(){E&&clearTimeout(E);var L=null;try{L=JSON.parse(mk(this))||null}catch{L=null}s&&s(L)}),Ch(w,"ready",function(){E&&clearTimeout(E),Ly(this)}),Ch(w,"timeout",function(){E&&clearTimeout(E),Ly(this),s&&s(null)}),pk(w,r,c,h,p)};var Nk=new en(oc,"https://apis.google.com/js/client.js?onload=%{onload}"),sw="__fcb"+Math.floor(1e6*Math.random()).toString();function kk(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[sw]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=hh(Nk,{onload:sw});yk(bd(c),function(){s(Error("CORS_UNSUPPORTED"))})}}sr.prototype.s=function(r,s,c,h,p){var m=this;Ed.then(function(){window.gapi.client.setApiKey(m.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:p,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function xk(r,s){return new Kt(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?ow(r,r.l+"?key="+encodeURIComponent(r.c),function(p){p?p.error?h(Od(p)):p.access_token&&p.refresh_token?c(p):h(new A("internal-error")):h(new A("network-request-failed"))},"POST",Gy(s).toString(),r.g,r.m.get()):h(new A("internal-error"))})}function uw(r,s,c,h,p,m,w){var E=Tn(s+c);Ne(E,"key",r.c),w&&Ne(E,"cb",Date.now().toString());var L=h=="GET";if(L)for(var K in p)p.hasOwnProperty(K)&&Ne(E,K,p[K]);return new Kt(function(Ct,re){ow(r,E.toString(),function(Zt){Zt?Zt.error?re(Od(Zt,m||{})):Ct(Zt):re(new A("network-request-failed"))},h,L?void 0:Yy(s0(p)),r.a,r.v.get())})}function to(r){if(r=r.email,typeof r!="string"||!DN.test(r))throw new A("invalid-email")}function aw(r){"email"in r&&to(r)}function Ck(r,s){return Ht(r,Uk,{identifier:s,continueUri:wc()?pu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function Ok(r){return Ht(r,Jk,{}).then(function(s){return s.authorizedDomains||[]})}function Sn(r){if(!r[ur])throw r.mfaPendingCredential?new A("multi-factor-auth-required",null,kt(r)):new A("internal-error")}function Td(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new A("internal-error")}else{if(!r.sessionInfo)throw new A("missing-verification-id");if(!r.code)throw new A("missing-verification-code")}}sr.prototype.Ab=function(){return Ht(this,nx,{})},sr.prototype.Cb=function(r,s){return Ht(this,fw,{idToken:r,email:s})},sr.prototype.Db=function(r,s){return Ht(this,hw,{idToken:r,password:s})};var Rk={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=sr.prototype,t.Eb=function(r,s){var c={idToken:r},h=[];return At(Rk,function(p,m){var w=s[m];w===null?h.push(p):m in s&&(c[m]=w)}),h.length&&(c.deleteAttribute=h),Ht(this,fw,c)},t.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Dt(r,s),Ht(this,Xk,r)},t.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Dt(r,s),Ht(this,Wk,r)},t.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Dt(r,s),Ht(this,Qk,r)},t.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Dt(r,c),Ht(this,Yk,r)};function Dk(r,s){return Ht(r,ex,s)}t.gb=function(r){return Ht(this,cx,r)};function Pk(r,s){return Ht(r,rx,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function cw(r){if(!r.phoneVerificationInfo)throw new A("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new A("missing-verification-code")}function Lk(r,s){return Ht(r,ix,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function Mk(r,s,c){return Ht(r,qk,{idToken:s,deleteProvider:c})}function Sd(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new A("internal-error")}function Ad(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new Ki(r.postBody),Ph(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function lw(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=kc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=kc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=kc(r)):r.errorMessage&&(s=pw(r.errorMessage)),s)throw s;Sn(r)}function Nd(r,s){return s.returnIdpCredential=!0,Ht(r,ox,s)}function kd(r,s){return s.returnIdpCredential=!0,Ht(r,ux,s)}function xd(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Ht(r,sx,s)}function Cd(r){if(!r.oobCode)throw new A("invalid-action-code")}t.ob=function(r,s){return Ht(this,tx,{oobCode:r,newPassword:s})},t.Sa=function(r){return Ht(this,Vk,{oobCode:r})},t.kb=function(r){return Ht(this,Fk,{oobCode:r})};var Fk={endpoint:"setAccountInfo",A:Cd,Z:"email",B:!0},Vk={endpoint:"resetPassword",A:Cd,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},jk={endpoint:"signupNewUser",A:function(r){if(to(r),!r.password)throw new A("weak-password")},G:Sn,V:!0,B:!0},Uk={endpoint:"createAuthUri",B:!0},Bk={endpoint:"deleteAccount",O:["idToken"]},qk={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new A("internal-error")}},$k={endpoint:"emailLinkSignin",O:["email","oobCode"],A:to,G:Sn,V:!0,B:!0},Kk={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:to,G:Sn,V:!0},Hk={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:cw,G:Sn,B:!0,Na:!0},zk={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:cw,G:Sn,B:!0,Na:!0},Gk={endpoint:"getAccountInfo"},Wk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new A("internal-error");to(r)},Z:"email",B:!0},Qk={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},Yk={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},Xk={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new A("internal-error");to(r)},Z:"email",B:!0},Jk={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Zk={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new A("internal-error")}},tx={endpoint:"resetPassword",A:Cd,Z:"email",B:!0},ex={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},fw={endpoint:"setAccountInfo",O:["idToken"],A:aw,V:!0},hw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(aw(r),!r.password)throw new A("weak-password")},G:Sn,V:!0},nx={endpoint:"signupNewUser",G:Sn,V:!0,B:!0},rx={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new A("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},ix={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},ox={endpoint:"verifyAssertion",A:Sd,Za:Ad,G:lw,V:!0,B:!0},sx={endpoint:"verifyAssertion",A:Sd,Za:Ad,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(r.errorMessage)throw pw(r.errorMessage);Sn(r)},V:!0,B:!0},ux={endpoint:"verifyAssertion",A:function(r){if(Sd(r),!r.idToken)throw new A("internal-error")},Za:Ad,G:lw,V:!0},ax={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new A("invalid-custom-token")},G:Sn,V:!0,B:!0},dw={endpoint:"verifyPassword",A:function(r){if(to(r),!r.password)throw new A("wrong-password")},G:Sn,V:!0,B:!0},cx={endpoint:"verifyPhoneNumber",A:Td,G:Sn,B:!0},lx={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new A("internal-error");Td(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",kc(r);Sn(r)}},fx={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Td,G:Sn,B:!0},hx={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[ur]^!!r.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Ht(r,s,c){if(!UN(c,s.O))return ge(new A("internal-error"));var h=!!s.Na,p=s.Vb||"POST",m;return Et(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?uw(r,r.i,s.endpoint,p,c,s.Ib,s.mb||!1):uw(r,r.h,s.endpoint,p,c,s.Ib,s.mb||!1)}).then(function(w){return m=w,s.Za?s.Za(c,m):m}).then(s.G).then(function(){if(!s.Z)return m;if(!(s.Z in m))throw new A("internal-error");return m[s.Z]})}function pw(r){return Od({error:{errors:[{message:r}],code:400,message:r}})}function Od(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new A(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Dt(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var p in h)if(c.indexOf(p)===0)return new A(h[p],s);return!s&&r&&(s=gu(r)),new A("internal-error",s)}function dx(r){this.b=r,this.a=null,this.sb=px(this)}function px(r){return bx().then(function(){return new Kt(function(s,c){me("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(m),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var m=setTimeout(function(){c(Error("Network Error"))},wx.get());h.ping(p).then(p,function(){c(Error("Network Error"))})})})})}function vx(r,s){return r.sb.then(function(){return new Kt(function(c){r.a.send(s.type,s,c,me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function gx(r,s){r.sb.then(function(){r.a.register("authEvent",s,me("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var mx=new en(oc,"https://apis.google.com/js/api.js?onload=%{onload}"),yx=new ii(3e4,6e4),wx=new ii(5e3,15e3),qc=null;function bx(){return qc||(qc=new Kt(function(r,s){function c(){a0(),me("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){a0(),s(Error("Network Error"))},timeout:yx.get()})}if(me("gapi.iframes.Iframe"))r();else if(me("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){me("gapi.load")?c():s(Error("Network Error"))},h=hh(mx,{onload:h}),Et(bd(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw qc=null,r}))}function vw(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Tn(this.g.url),r=mc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=mc("https",this.l,null,"/__/auth/iframe"),this.a=r,Ne(this.a,"apiKey",this.h),Ne(this.a,"appName",this.i),this.b=null,this.c=[]}vw.prototype.toString=function(){return this.f?Ne(this.a,"v",this.f):br(this.a.b,"v"),this.b?Ne(this.a,"eid",this.b):br(this.a.b,"eid"),this.c.length?Ne(this.a,"fw",this.c.join(",")):br(this.a.b,"fw"),this.a.toString()};function Rd(r,s,c,h,p,m){this.u=r,this.s=s,this.c=c,this.m=h,this.v=m,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}Rd.prototype.zb=function(r){return this.h=r,this},Rd.prototype.toString=function(){if(this.v){var r=Tn(this.v.url);r=mc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=mc("https",this.u,null,"/__/auth/handler");if(Ne(r,"apiKey",this.s),Ne(r,"appName",this.c),Ne(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=xt.app(this.c).auth().la()}catch{c=null}s.pb=c,Ne(r,"providerId",this.a.providerId),c=this.a,s=s0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=kt(s);for(var p=0;p<h.length;p++){var m=h[p];m in s&&delete s[m]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),Ft(s)||Ne(r,"customParameters",gu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ne(r,"scopes",c.join(","))),this.l?Ne(r,"redirectUrl",this.l):br(r.b,"redirectUrl"),this.g?Ne(r,"eventId",this.g):br(r.b,"eventId"),this.i?Ne(r,"v",this.i):br(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!Jn(r,w)&&Ne(r,w,this.b[w]);return this.h?Ne(r,"tid",this.h):br(r.b,"tid"),this.f?Ne(r,"eid",this.f):br(r.b,"eid"),w=Dd(this.c),w.length&&Ne(r,"fw",w.join(",")),r.toString()};function Dd(r){try{return xt.app(r).auth().Ga()}catch{return[]}}function gw(r,s,c,h,p,m){this.s=r,this.g=s,this.b=c,this.f=m,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function mw(r){var s=pu();return Ok(r).then(function(c){t:{var h=Tn(s),p=h.c;h=h.a;for(var m=0;m<c.length;m++){var w=c[m],E=h,L=p;if(w.indexOf("chrome-extension://")==0?E=Tn(w).a==E&&L=="chrome-extension":L!="http"&&L!="https"?E=!1:RN.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break t}}c=!1}if(!c)throw new ld(pu())})}function yw(r){return r.m||(r.m=yc().then(function(){if(!r.u){var s=r.c,c=r.i,h=Dd(r.b),p=new vw(r.s,r.g,r.b,r.f);p.f=s,p.b=c,p.c=et(h||[]),r.u=p.toString()}r.v=new dx(r.u),_x(r)})),r.m}t=gw.prototype,t.Pb=function(r,s,c){var h=new A("popup-closed-by-user"),p=new A("web-storage-unsupported"),m=this,w=!1;return this.ma().then(function(){Ex(m).then(function(E){E||(r&&Hi(r),s(p),w=!0)})}).o(function(){}).then(function(){if(!w)return ON(r)}).then(function(){if(!w)return $o(c).then(function(){s(h)})})},t.Yb=function(){var r=Ge();return!vu(r)&&!u0(r)},t.Ub=function(){return!1},t.Nb=function(r,s,c,h,p,m,w,E){if(!r)return ge(new A("popup-blocked"));if(w&&!vu())return this.ma().o(function(K){Hi(r),p(K)}),h(),Et();this.a||(this.a=mw(ww(this)));var L=this;return this.a.then(function(){var K=L.ma().o(function(Ct){throw Hi(r),p(Ct),Ct});return h(),K}).then(function(){if(ad(c),!w){var K=Ru(L.s,L.g,L.b,s,c,null,m,L.c,void 0,L.i,E,L.f);Zy(K,r)}}).o(function(K){throw K.code=="auth/network-request-failed"&&(L.a=null),K})};function ww(r){return r.l||(r.C=r.c?Go(r.c,Dd(r.b)):null,r.l=new sr(r.g,Qt(r.i),r.C),r.f&&Bc(r.l,r.f)),r.l}t.Ob=function(r,s,c,h){this.a||(this.a=mw(ww(this)));var p=this;return this.a.then(function(){ad(s);var m=Ru(p.s,p.g,p.b,r,s,pu(),c,p.c,void 0,p.i,h,p.f);Zy(m)}).o(function(m){throw m.code=="auth/network-request-failed"&&(p.a=null),m})},t.ma=function(){var r=this;return yw(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new A("network-request-failed")})},t.ac=function(){return!0};function Ru(r,s,c,h,p,m,w,E,L,K,Ct,re){return r=new Rd(r,s,c,h,p,re),r.l=m,r.g=w,r.i=E,r.b=kt(L||null),r.f=K,r.zb(Ct).toString()}function _x(r){if(!r.v)throw Error("IfcHandler must be initialized!");gx(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=q0(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Et(c)}return c.status="ERROR",Et(c)})}function Ex(r){var s={type:"webStorageSupport"};return yw(r).then(function(){return vx(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ta=function(r){F(this.h,function(s){return s==r})};function bw(r){if(this.a=r||xt.INTERNAL.reactNative&&xt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=bw.prototype,t.get=function(r){return Et(this.a.getItem(r)).then(function(s){return s&&Qo(s)})},t.set=function(r,s){return Et(this.a.setItem(r,gu(s)))},t.U=function(r){return Et(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function _w(r){this.b=r,this.a={},this.f=V(this.c,this)}var Ew=[];function Ix(){var r=ir()?self:null;if(U(Ew,function(c){c.b==r&&(s=c)}),!s){var s=new _w(r);Ew.push(s)}return s}_w.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var p=[];U(h,function(m){p.push(Et().then(function(){return m(r.origin,r.data.data)}))}),Ay(p).then(function(m){var w=[];U(m,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),U(w,function(E){for(var L in E)typeof E[L]>"u"&&delete E[L]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function Iw(r,s,c){Ft(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function Tw(r){this.a=r}Tw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function Sw(r){this.c=r,this.b=!1,this.a=[]}function Aw(r,s,c,h){var p,m=c||{},w,E,L,K=null;if(r.b)return ge(Error("connection_unavailable"));var Ct=h?800:50,re=typeof MessageChannel<"u"?new MessageChannel:null;return new Kt(function(Zt,$e){re?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),re.port1.start(),E=setTimeout(function(){$e(Error("unsupported_event"))},Ct),w=function(Br){Br.data.eventId===p&&(Br.data.status==="ack"?(clearTimeout(E),L=setTimeout(function(){$e(Error("timeout"))},3e3)):Br.data.status==="done"?(clearTimeout(L),typeof Br.data.response<"u"?Zt(Br.data.response):$e(Error("unknown_error"))):(clearTimeout(E),clearTimeout(L),$e(Error("invalid_response"))))},K={messageChannel:re,onMessage:w},r.a.push(K),re.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:p,data:m},[re.port2])):$e(Error("connection_unavailable"))}).then(function(Zt){return Pd(r,K),Zt}).o(function(Zt){throw Pd(r,K),Zt})}function Pd(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),F(r.a,function(p){return p==s})}}Sw.prototype.close=function(){for(;0<this.a.length;)Pd(this,this.a[0]);this.b=!0};function Nw(){if(!Fd())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;ir()&&self?(this.v=Ix(),Iw(this.v,"keyChanged",function(s,c){return Cw(r).then(function(h){return 0<h.length&&U(r.a,function(p){p(h)}),{keyProcessed:C(h,c.key)}})}),Iw(this.v,"ping",function(){return Et(["keyChanged"])})):VN().then(function(s){(r.h=s)&&(r.g=new Sw(new Tw(s)),Aw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&C(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Ld;function Tx(r){return new Kt(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(p){c(Error(p.target.error))}})}function kw(r){return new Kt(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}c(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(m){c(m)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?s(p):Tx(r).then(function(){return kw(r)}).then(function(m){s(m)}).o(function(m){c(m)})}})}function Md(r){return r.i||(r.i=kw(r)),r.i}function $c(r,s){function c(p,m){Md(r).then(s).then(p).o(function(w){if(3<++h)m(w);else return Md(r).then(function(E){return E.close(),r.i=void 0,c(p,m)}).o(function(E){m(E)})})}var h=0;return new Kt(c)}function Fd(){try{return!!f.indexedDB}catch{return!1}}function Du(r){return r.objectStore("firebaseLocalStorage")}function Pu(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function Zo(r){return new Kt(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}t=Nw.prototype,t.set=function(r,s){var c=this,h=!1;return $c(this,function(p){return p=Du(Pu(p,!0)),Zo(p.get(r))}).then(function(p){return $c(c,function(m){if(m=Du(Pu(m,!0)),p)return p.value=s,Zo(m.put(p));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,Zo(m.add(w))})}).then(function(){return c.c[r]=s,xw(c,r)}).oa(function(){h&&c.b--})};function xw(r,s){return r.g&&r.h&&FN()===r.h?Aw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Et()}t.get=function(r){return $c(this,function(s){return Zo(Du(Pu(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.U=function(r){var s=this,c=!1;return $c(this,function(h){return c=!0,s.b++,Zo(Du(Pu(h,!0)).delete(r))}).then(function(){return delete s.c[r],xw(s,r)}).oa(function(){c&&s.b--})};function Cw(r){return Md(r).then(function(s){var c=Du(Pu(s,!1));return c.getAll?Zo(c.getAll()):new Kt(function(h,p){var m=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(m.push(E.value),E.continue()):h(m)},w.onerror=function(E){p(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=t0(r.c,c),r.c=c}return h})}t.ca=function(r){this.a.length==0&&Sx(this),this.a.push(r)},t.ia=function(r){F(this.a,function(s){return s==r}),this.a.length==0&&Ow(this)};function Sx(r){function s(){r.f=setTimeout(function(){r.l=Cw(r).then(function(c){0<c.length&&U(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Ow(r),s()}function Ow(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Rw(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Et().then(function(){if(Fd()){var h=Gi(),p="__sak"+h;return Ld||(Ld=new Nw),c=Ld,c.set(p,h).then(function(){return c.get(p)}).then(function(m){if(m!==h)throw Error("indexedDB not supported!");return c.U(p)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(p){U(s.a,function(m){m(p)})}),h})}t=Rw.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},t.U=function(r){return this.b.then(function(s){return s.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){F(this.a,function(s){return s==r})};function Lu(){this.a={},this.type="inMemory"}t=Lu.prototype,t.get=function(r){return Et(this.a[r])},t.set=function(r,s){return this.a[r]=s,Et()},t.U=function(r){return delete this.a[r],Et()},t.ca=function(){},t.ia=function(){};function Kc(){if(!Ax())throw _r()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Dw()||xt.INTERNAL.node.localStorage,this.type="localStorage"}function Dw(){try{var r=f.localStorage,s=Gi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Ax(){var r=_r()=="Node";if(r=Dw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Kc.prototype,t.get=function(r){var s=this;return Et().then(function(){var c=s.a.getItem(r);return Qo(c)})},t.set=function(r,s){var c=this;return Et().then(function(){var h=gu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return Et().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&Xn(f.window,"storage",r)},t.ia=function(r){f.window&&Ln(f.window,"storage",r)};function Vd(){this.type="nullStorage"}t=Vd.prototype,t.get=function(){return Et(null)},t.set=function(){return Et()},t.U=function(){return Et()},t.ca=function(){},t.ia=function(){};function jd(){if(!Nx())throw _r()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Pw()||xt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Pw(){try{var r=f.sessionStorage,s=Gi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Nx(){var r=_r()=="Node";if(r=Pw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=jd.prototype,t.get=function(r){var s=this;return Et().then(function(){var c=s.a.getItem(r);return Qo(c)})},t.set=function(r,s){var c=this;return Et().then(function(){var h=gu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return Et().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function kx(){var r={};r.Browser=xx,r.Node=Cx,r.ReactNative=Ox,r.Worker=Rx,this.a=r[_r()]}var Ud,xx={F:Kc,cb:jd},Cx={F:Kc,cb:jd},Ox={F:bw,cb:Vd},Rx={F:Kc,cb:Vd},ts={rd:"local",NONE:"none",td:"session"};function Dx(r){var s=new A("invalid-persistence-type"),c=new A("unsupported-persistence-type");t:{for(h in ts)if(ts[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(_r()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Fd()&&r!=="none")throw c;break;default:if(!Uh()&&r!=="none")throw c}}function Lw(){var r=!!(!u0(Ge())&&Vh()),s=vu(),c=Uh();this.m=r,this.h=s,this.l=c,this.a={},Ud||(Ud=new kx),r=Ud;try{this.g=!Mh()&&c0()||!f.indexedDB?new r.a.F:new Rw(ir()?new Lu:new r.a.F)}catch{this.g=new Lu,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new Lu}this.v=new Lu,this.f=V(this.Zb,this),this.b={}}var Bd;function Mu(){return Bd||(Bd=new Lw),Bd}function eo(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function es(r,s){return"firebase:"+r.name+(s?":"+s:"")}function Px(r,s,c){var h=es(s,c),p=eo(r,s.F);return r.get(s,c).then(function(m){var w=null;try{w=Qo(f.localStorage.getItem(h))}catch{}if(w&&!m)return f.localStorage.removeItem(h),r.set(s,w,c);w&&m&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}t=Lw.prototype,t.get=function(r,s){return eo(this,r.F).get(es(r,s))};function ns(r,s,c){return c=es(s,c),s.F=="local"&&(r.b[c]=null),eo(r,s.F).U(c)}t.set=function(r,s,c){var h=es(r,c),p=this,m=eo(this,r.F);return m.set(h,s).then(function(){return m.get(h)}).then(function(w){r.F=="local"&&(p.b[h]=w)})},t.addListener=function(r,s,c){r=es(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),Ft(this.a)&&(eo(this,"local").ca(this.f),this.h||(Mh()||!c0())&&f.indexedDB||!this.l||Lx(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},t.removeListener=function(r,s,c){r=es(r,s),this.a[r]&&(F(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Ft(this.a)&&(eo(this,"local").ia(this.f),qd(this))};function Lx(r){qd(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new qi({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function qd(r){r.c&&(clearInterval(r.c),r.c=null)}t.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(c);p!==h&&(this.b[c]=p,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?eo(this,"local").ia(this.f):qd(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var m=this;c=function(){(typeof r.a.a<"u"||m.b[s]!==f.localStorage.getItem(s))&&(m.b[s]=f.localStorage.getItem(s),m.nb(s))},rr&&ei&&ei==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else U(r,V(this.nb,this))},t.nb=function(r){this.a[r]&&U(this.a[r],function(s){s()})};function Mx(r){this.a=r,this.b=Mu()}var $d={name:"authEvent",F:"local"};function Fx(r){return r.b.get($d,r.a).then(function(s){return q0(s)})}function Vx(){this.a=Mu()}function jx(){this.b=-1}function Hc(r,s){this.b=Mw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),zc===void 0&&(f.Int32Array?zc=new Int32Array(jw):zc=jw),this.reset()}var zc;W(Hc,jx);for(var Mw=64,Ux=Mw-1,Fw=[],Kd=0;Kd<Ux;Kd++)Fw[Kd]=0;var Vw=z(128,Fw);Hc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):et(this.h)};function Hd(r){for(var s=r.f,c=r.l,h=0,p=0;p<s.length;)c[h++]=s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3],p=4*h;for(s=16;64>s;s++){p=c[s-15]|0,h=c[s-2]|0;var m=(c[s-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=m+w|0}h=r.a[0]|0,p=r.a[1]|0;var E=r.a[2]|0,L=r.a[3]|0,K=r.a[4]|0,Ct=r.a[5]|0,re=r.a[6]|0;for(m=r.a[7]|0,s=0;64>s;s++){var Zt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&E^p&E)|0;w=K&Ct^~K&re,m=m+((K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))|0,w=w+(zc[s]|0)|0,w=m+(w+(c[s]|0)|0)|0,m=re,re=Ct,Ct=K,K=L+w|0,L=E,E=p,p=h,h=w+Zt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+p|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+L|0,r.a[4]=r.a[4]+K|0,r.a[5]=r.a[5]+Ct|0,r.a[6]=r.a[6]+re|0,r.a[7]=r.a[7]+m|0}function zd(r,s,c){c===void 0&&(c=s.length);var h=0,p=r.c;if(typeof s=="string")for(;h<c;)r.f[p++]=s.charCodeAt(h++),p==r.b&&(Hd(r),p=0);else if(_(s))for(;h<c;){var m=s[h++];if(!(typeof m=="number"&&0<=m&&255>=m&&m==(m|0)))throw Error("message must be a byte array");r.f[p++]=m,p==r.b&&(Hd(r),p=0)}else throw Error("message must be string or array");r.c=p,r.g+=c}var jw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Uw(){Hc.call(this,8,Bx)}W(Uw,Hc);var Bx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Bw(r,s,c,h,p,m){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=p||null,this.s=m,this.h=s+":"+c,this.C=new Vx,this.g=new Mx(this.h),this.f=null,this.b=[],this.a=this.c=null}function Gc(r){return new A("invalid-cordova-configuration",r)}t=Bw.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=PN().then(function(){if(typeof me("universalLinks.subscribe",f)!="function")throw Gc("cordova-universal-links-plugin-fix is not installed");if(typeof me("BuildInfo.packageName",f)>"u")throw Gc("cordova-plugin-buildinfo is not installed");if(typeof me("cordova.plugins.browsertab.openUrl",f)!="function")throw Gc("cordova-plugin-browsertab is not installed");if(typeof me("cordova.InAppBrowser.open",f)!="function")throw Gc("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function qx(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function $x(r){var s=new Uw;zd(s,r),r=[];var c=8*s.g;56>s.c?zd(s,Vw,56-s.c):zd(s,Vw,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(Hd(s),h=c=0;h<s.i;h++)for(var p=24;0<=p;p-=8)r[c++]=s.a[h]>>p&255;return tk(r)}t.Pb=function(r,s){return s(new A("operation-not-supported-in-this-environment")),Et()},t.Nb=function(){return ge(new A("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,s,c,h){if(this.c)return ge(new A("redirect-operation-pending"));var p=this,m=f.document,w=null,E=null,L=null,K=null;return this.c=Et().then(function(){return ad(s),$w(p)}).then(function(){return Kx(p,r,s,c,h)}).then(function(){return new Kt(function(Ct,re){E=function(){var Zt=me("cordova.plugins.browsertab.close",f);return Ct(),typeof Zt=="function"&&Zt(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(E),L=function(){w||(w=$o(2e3).then(function(){re(new A("redirect-cancelled-by-user"))}))},K=function(){Bh()&&L()},m.addEventListener("resume",L,!1),Ge().toLowerCase().match(/android/)||m.addEventListener("visibilitychange",K,!1)}).o(function(Ct){return Gd(p).then(function(){throw Ct})})}).oa(function(){L&&m.removeEventListener("resume",L,!1),K&&m.removeEventListener("visibilitychange",K,!1),w&&w.cancel(),E&&p.Ta(E),p.c=null})};function Kx(r,s,c,h,p){var m=qx(),w=new or(s,h,null,m,new A("no-auth-event"),null,p),E=me("BuildInfo.packageName",f);if(typeof E!="string")throw new A("invalid-cordova-configuration");var L=me("BuildInfo.displayName",f),K={};if(Ge().toLowerCase().match(/iphone|ipad|ipod/))K.ibi=E;else if(Ge().toLowerCase().match(/android/))K.apn=E;else return ge(new A("operation-not-supported-in-this-environment"));L&&(K.appDisplayName=L),m=$x(m),K.sessionId=m;var Ct=Ru(r.v,r.i,r.l,s,c,null,h,r.m,K,r.u,p,r.s);return r.ma().then(function(){var re=r.h;return r.C.a.set($d,w.w(),re)}).then(function(){var re=me("cordova.plugins.browsertab.isAvailable",f);if(typeof re!="function")throw new A("invalid-cordova-configuration");var Zt=null;re(function($e){if($e){if(Zt=me("cordova.plugins.browsertab.openUrl",f),typeof Zt!="function")throw new A("invalid-cordova-configuration");Zt(Ct)}else{if(Zt=me("cordova.InAppBrowser.open",f),typeof Zt!="function")throw new A("invalid-cordova-configuration");$e=Ge(),r.a=Zt(Ct,$e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||$e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function qw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function $w(r){return r.f||(r.f=r.ma().then(function(){return new Kt(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),Hx(r)})})),r.f}function Gd(r){var s=null;return Fx(r.g).then(function(c){return s=c,c=r.g,ns(c.b,$d,c.a)}).then(function(){return s})}function Hx(r){function s(w){h=!0,p&&p.cancel(),Gd(r).then(function(E){var L=c;if(E&&w&&w.url){var K=null;L=P0(w.url),L.indexOf("/__/auth/callback")!=-1&&(K=Tn(L),K=Qo(Jn(K,"firebaseError")||null),K=(K=typeof K=="object"?Wt(K):null)?new or(E.c,E.b,null,null,K,null,E.T()):new or(E.c,E.b,L,E.f,null,null,E.T())),L=K||c}qw(r,L)})}var c=new or("unknown",null,null,null,new A("no-auth-event")),h=!1,p=$o(500).then(function(){return Gd(r).then(function(){h||qw(r,c)})}),m=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(me("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof m=="function")try{m(w)}catch(E){console.error(E)}},cd||(cd=new ak),ck(s)}t.Ea=function(r){this.b.push(r),$w(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new or("unknown",null,null,null,new A("no-auth-event")),r(s))})},t.Ta=function(r){F(this.b,function(s){return s==r})};function zx(r){this.a=r,this.b=Mu()}var Wd={name:"pendingRedirect",F:"session"};function Gx(r){return r.b.set(Wd,"pending",r.a)}function Qd(r){return ns(r.b,Wd,r.a)}function Wx(r){return r.b.get(Wd,r.a).then(function(s){return s=="pending"})}function Wc(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new Yc,this.C=new Zw,this.g=new zx(Yw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Kw(this.D,this.v,this.m,ot,this.J)}function Kw(r,s,c,h,p){var m=xt.SDK_VERSION||null;return Fh()?new Bw(r,s,c,m,h,p):new gw(r,s,c,m,h,p)}Wc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Kw(this.D,this.v,this.m,null,this.J),this.i={}};function Hw(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function zw(r){r.a.Yb()&&Hw(r).o(function(s){var c=new or("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Xd(s)&&r.s(c)}),r.a.Ub()||Xw(r.b)}function Qc(r,s){C(r.h,s)||r.h.push(s),r.f||Wx(r.g).then(function(c){c?Qd(r.g).then(function(){Hw(r).o(function(h){var p=new or("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));Xd(h)&&r.s(p)})}):zw(r)}).o(function(){zw(r)})}function Yd(r,s){F(r.h,function(c){return c==s})}Wc.prototype.s=function(r){if(!r)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return Xw(this.b),s};var Qx=new ii(2e3,1e4),Yx=new ii(3e4,6e4);Wc.prototype.ra=function(){return this.b.ra()};function Gw(r,s,c,h,p,m,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},p,m,w)}function Xd(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Ww(r,s,c,h,p){var m;return Gx(r.g).then(function(){return r.a.Ob(s,c,h,p).o(function(w){if(Xd(w))throw new A("operation-not-supported-in-this-environment");return m=w,Qd(r.g).then(function(){throw m})}).then(function(){return r.a.ac()?new Kt(function(){}):Qd(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Qw(r,s,c,h,p){return r.a.Pb(h,function(m){s.na(c,null,m,p)},Qx.get())}var Jd={};function Yw(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function Zd(r,s,c,h){var p=Yw(s,c,h);return Jd[p]||(Jd[p]=new Wc(r,s,c,h)),Jd[p]}function Yc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Yc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yc.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,p=r.a&&r.a.code=="auth/web-storage-unsupported",m=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!m),c!="unknown"||p||m?r.a?(no(this,!0,null,r.a),Et()):s.Fa(c,h)?Xx(this,r,s):ge(new A("invalid-auth-event")):(no(this,!1,null,null),Et())}else ge(new A("invalid-auth-event"))};function Xw(r){r.g||(r.g=!0,no(r,!1,null,null))}function Xc(r){r.g&&!r.i&&no(r,!1,null,null)}function Xx(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,p=s.f,m=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,p,w,m).then(function(L){no(r,E,L,null)}).o(function(L){no(r,E,null,L)})}function Jx(r,s){if(r.b=function(){return ge(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function Jw(r,s){if(r.b=function(){return Et(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function no(r,s,c,h){s?h?Jx(r,h):Jw(r,c):Jw(r,{user:null}),r.f=[],r.c=[]}Yc.prototype.ra=function(){var r=this;return new Kt(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),Zx(r))})};function Zx(r){var s=new A("timeout");r.a&&r.a.cancel(),r.a=$o(Yx.get()).then(function(){r.b||(r.g=!0,no(r,!0,null,s))})}function Zw(){}Zw.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Et()):s.Fa(c,h)?tC(r,s):ge(new A("invalid-auth-event"))}else ge(new A("invalid-auth-event"))};function tC(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(p){s.na(h,p,null,c)}).o(function(p){s.na(h,null,p,c)})}function tb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function tp(r,s){this.a=s,pt(this,"verificationId",r)}tp.prototype.confirm=function(r){return r=B0(this.verificationId,r),this.a(r)};function ep(r,s,c,h){return new jr(r).gb(s,c).then(function(p){return new tp(p,h)})}function eC(r){var s=A0(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");dn(this,{token:r,expirationTime:mu(1e3*s.exp),authTime:mu(1e3*s.auth_time),issuedAtTime:mu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function np(r,s,c){var h=s&&s[nb];if(!h)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=kt(s),this.g=c,this.c=new Ac(null,h),this.b=[];var p=this;U(s[eb]||[],function(m){(m=Gh(m))&&p.b.push(m)}),pt(this,"auth",this.a),pt(this,"session",this.c),pt(this,"hints",this.b)}var eb="mfaInfo",nb="mfaPendingCredential";np.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=kt(s.f);return delete h[eb],delete h[nb],Dt(h,c),s.g(h)})};function rp(r,s,c,h){A.call(this,"multi-factor-auth-required",h,s),this.b=new np(r,s,c),pt(this,"resolver",this.b)}W(rp,A);function rb(r,s,c){if(r&&N(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new rp(s,r.serverResponse,c,r.message)}catch{}return null}function ib(){}ib.prototype.tb=function(r,s,c){return s.type==_u?nC(this,r,s,c):rC(this,r,s)};function nC(r,s,c,h){return c.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Dt(p,{phoneVerificationInfo:Eu(r.a)}),Ht(s,Hk,p)})}function rC(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Dt(h,{phoneVerificationInfo:Eu(r.a)}),Ht(s,zk,h)})}function ip(r){pt(this,"factorId",r.fa),this.a=r}W(ip,ib);function ob(r){if(ip.call(this,r),this.a.fa!=jr.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}W(ob,ip);function rs(r,s){In.call(this,r);for(var c in s)this[c]=s[c]}W(rs,In);function op(r,s){this.a=r,this.b=[],this.c=V(this.yc,this),Xn(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&U(s.multiFactor.enrolledFactors,function(h){var p=null,m={};if(h){h.uid&&(m[Qh]=h.uid),h.displayName&&(m[f0]=h.displayName),h.enrollmentTime&&(m[Wh]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(m[Yh]=h.phoneNumber);try{p=new yu(m)}catch{}h=p}else h=null;h&&c.push(h)}),Jc(this,c)}function iC(r){var s=[];return U(r.mfaInfo||[],function(c){(c=Gh(c))&&s.push(c)}),s}t=op.prototype,t.yc=function(r){Jc(this,iC(r.hd))};function Jc(r,s){r.b=s,pt(r,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(r){return new Ac(r,null)})},t.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(p){return r.tb(h,p,s)}).then(function(p){return Tr(c.a,p),c.a.reload()})},t.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(p){return Ht(h,hx,{idToken:p,mfaEnrollmentId:c})}).then(function(p){var m=st(s.b,function(w){return w.uid!=c});return Jc(s,m),Tr(s.a,p),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:Rt(this.b,function(r){return r.w()})}}};function sp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}sp.prototype.start=function(){this.a=this.c,up(this,!0)};function oC(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function up(r,s){r.stop(),r.b=$o(oC(r,s)).then(function(){return MN()}).then(function(){return r.h()}).then(function(){up(r,!0)}).o(function(c){r.i(c)&&up(r,!1)})}sp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function ap(r){this.f=r,this.b=this.a=null,this.c=Date.now()}ap.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function sb(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function ub(r,s){r.b=Tc(s[ur]||""),r.a=s.refreshToken,s=s.expiresIn,sb(r,typeof s<"u"?Number(s):void 0)}function sC(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function uC(r,s){return xk(r.f,s).then(function(c){return r.b=Tc(c.access_token),r.a=c.refresh_token,sb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}ap.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?ge(new A("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?uC(this,{grant_type:"refresh_token",refresh_token:this.a}):Et(null):Et({accessToken:this.b.toString(),refreshToken:this.a})};function Zc(r,s){this.a=r||null,this.b=s||null,dn(this,{lastSignInTime:mu(s||null),creationTime:mu(r||null)})}function aC(r){return new Zc(r.a,r.b)}Zc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function cC(r,s,c,h,p,m){dn(this,{uid:r,displayName:h||null,photoURL:p||null,email:c||null,phoneNumber:m||null,providerId:s})}function Fn(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=xt.SDK_VERSION?Go(xt.SDK_VERSION):null;this.a=new sr(this.l,Qt(ot),h),(this.u=r.emulatorConfig||null)&&Bc(this.a,this.u),this.h=new ap(this.a),vp(this,s[ur]),ub(this.h,s),pt(this,"refreshToken",this.h.a),cb(this,c||{}),hn.call(this),this.P=!1,this.s&&zi()&&(this.b=Zd(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=lC(this),this.ba=V(this.ib,this);var p=this;this.za=null,this.Pa=function(m){p.xa(m.h)},this.qa=null,this.Ba=function(m){cp(p,m.c)},this.$=null,this.aa=[],this.Oa=function(m){Fu(p,m.f)},this.ja=null,this.S=new op(this,c),pt(this,"multiFactor",this.S)}W(Fn,hn),Fn.prototype.xa=function(r){this.za=r,rw(this.a,r)};function cp(r,s){r.u=s,Bc(r.a,s),r.b&&(s=r.b,r.b=Zd(r.s,r.l,r.m,r.u),r.P&&(Yd(s,r),Qc(r.b,r)))}Fn.prototype.la=function(){return this.za};function lp(r,s){r.qa&&Ln(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&Xn(s,"languageCodeChanged",r.Pa)}function fp(r,s){r.$&&Ln(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&Xn(s,"emulatorConfigChanged",r.Ba)}function Fu(r,s){r.aa=s,iw(r.a,xt.SDK_VERSION?Go(xt.SDK_VERSION,r.aa):null)}Fn.prototype.Ga=function(){return et(this.aa)};function hp(r,s){r.ja&&Ln(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&Xn(s,"frameworkChanged",r.Oa)}Fn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function dp(r){try{return xt.app(r.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function lC(r){return new sp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function ab(r){r.J||r.D.b||(r.D.start(),Ln(r,"tokenChanged",r.ba),Xn(r,"tokenChanged",r.ba))}function pp(r){Ln(r,"tokenChanged",r.ba),r.D.stop()}function vp(r,s){r.Aa=s,pt(r,"_lat",s)}function fC(r,s){F(r.W,function(c){return c==s})}function ro(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return Ay(s).then(function(){return r})}function Vu(r){r.b&&!r.P&&(r.P=!0,Qc(r.b,r))}function cb(r,s){dn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new Zc(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pt(Fn.prototype,"providerId","firebase");function lb(){}function gp(r){return Et().then(function(){if(r.J)throw new A("app-deleted")})}function mp(r){return Rt(r.providerData,function(s){return s.providerId})}function yp(r,s){s&&(fb(r,s.providerId),r.providerData.push(s))}function fb(r,s){F(r.providerData,function(c){return c.providerId==s})}function ui(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&pt(r,s,c)}function tl(r,s){r!=s&&(dn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?pt(r,"metadata",aC(s.metadata)):pt(r,"metadata",new Zc),U(s.providerData,function(c){yp(r,c)}),sC(r.h,s.h),pt(r,"refreshToken",r.h.a),Jc(r.S,s.S.b))}t=Fn.prototype,t.reload=function(){var r=this;return je(this,gp(this).then(function(){return wp(r).then(function(){return ro(r)}).then(lb)}))};function wp(r){return r.I().then(function(s){var c=r.isAnonymous;return hC(r,s).then(function(){return c||ui(r,"isAnonymous",!1),s})})}t.oc=function(r){return this.I(r).then(function(s){return new eC(s)})},t.I=function(r){var s=this;return je(this,gp(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new A("internal-error");return c.accessToken!=s.Aa&&(vp(s,c.accessToken),s.dispatchEvent(new rs("tokenChanged"))),ui(s,"refreshToken",c.refreshToken),c.accessToken}))};function Tr(r,s){s[ur]&&r.Aa!=s[ur]&&(ub(r.h,s),r.dispatchEvent(new rs("tokenChanged")),vp(r,s[ur]),ui(r,"refreshToken",r.h.a))}function hC(r,s){return Ht(r.a,Gk,{idToken:s}).then(V(r.Kc,r))}t.Kc=function(r){if(r=r.users,!r||!r.length)throw new A("internal-error");r=r[0],cb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=dC(r),c=0;c<s.length;c++)yp(this,s[c]);ui(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new rs("userReloaded",{hd:r}))};function dC(r){return(r=r.providerUserInfo)&&r.length?Rt(r,function(s){return new cC(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(r){return qh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var s=this,c=null;return je(this,r.c(this.a,this.uid).then(function(h){return Tr(s,h),c=ju(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function el(r,s){return wp(r).then(function(){if(C(mp(r),s))return ro(r).then(function(){throw new A("provider-already-linked")})})}t.Cc=function(r){return qh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var s=this,c=null;return je(this,el(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=ju(s,h,"link"),hb(s,h)}).then(function(){return c}))},t.Dc=function(r,s){var c=this;return je(this,el(this,"phone").then(function(){return ep(dp(c),r,s,V(c.rb,c))}))},t.Mc=function(r,s){var c=this;return je(this,Et().then(function(){return ep(dp(c),r,s,V(c.ub,c))}),!0)};function ju(r,s,c){var h=ud(s);return s=k0(s),Er({user:r,credential:h,additionalUserInfo:s,operationType:c})}function hb(r,s){return Tr(r,s),r.reload().then(function(){return r})}t.Cb=function(r){var s=this;return je(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Tr(s,c),s.reload()}))},t.ed=function(r){var s=this;return je(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Tr(s,c),s.reload()}))},t.Db=function(r){var s=this;return je(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Tr(s,c),s.reload()}))},t.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return gp(this);var s=this;return je(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Tr(s,c),ui(s,"displayName",c.displayName||null),ui(s,"photoURL",c.photoUrl||null),U(s.providerData,function(h){h.providerId==="password"&&(pt(h,"displayName",s.displayName),pt(h,"photoURL",s.photoURL))}),ro(s)}).then(lb))},t.cd=function(r){var s=this;return je(this,wp(this).then(function(c){return C(mp(s),r)?Mk(s.a,c,[r]).then(function(h){var p={};return U(h.providerUserInfo||[],function(m){p[m.providerId]=!0}),U(mp(s),function(m){p[m]||fb(s,m)}),p[jr.PROVIDER_ID]||pt(s,"phoneNumber",null),ro(s)}):ro(s).then(function(){throw new A("no-such-provider")})}))},t.delete=function(){var r=this;return je(this,this.I().then(function(s){return Ht(r.a,Bk,{idToken:s})}).then(function(){r.dispatchEvent(new rs("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");lp(r,null),fp(r,null),hp(r,null),r.N=[],r.J=!0,pp(r),pt(r,"refreshToken",null),r.b&&Yd(r.b,r)})},t.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?V(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?V(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?V(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?V(this.Mb,this):null},t.Ec=function(r){var s=this;return db(this,"linkViaPopup",r,function(){return el(s,r.providerId).then(function(){return ro(s)})},!1)},t.Nc=function(r){return db(this,"reauthViaPopup",r,function(){return Et()},!0)};function db(r,s,c,h,p){if(!zi())return ge(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return ge(r.i);var m=ed(c.providerId),w=Gi(r.uid+":::"),E=null;(!vu()||Vh())&&r.s&&c.isOAuthProvider&&(E=Ru(r.s,r.l,r.m,s,c,null,w,xt.SDK_VERSION||null,null,null,r.tenantId,r.u));var L=n0(E,m&&m.va,m&&m.ua);return h=h().then(function(){if(vb(r),!p)return r.I().then(function(){})}).then(function(){return Gw(r.b,L,s,c,w,!!E,r.tenantId)}).then(function(){return new Kt(function(K,Ct){r.na(s,null,new A("cancelled-popup-request"),r.g||null),r.f=K,r.C=Ct,r.g=w,r.c=Qw(r.b,r,s,L,w)})}).then(function(K){return L&&Hi(L),K?Er(K):null}).o(function(K){throw L&&Hi(L),K}),je(r,h,p)}t.Fc=function(r){var s=this;return pb(this,"linkViaRedirect",r,function(){return el(s,r.providerId)},!1)},t.Oc=function(r){return pb(this,"reauthViaRedirect",r,function(){return Et()},!0)};function pb(r,s,c,h,p){if(!zi())return ge(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return ge(r.i);var m=null,w=Gi(r.uid+":::");return h=h().then(function(){if(vb(r),!p)return r.I().then(function(){})}).then(function(){return r.ga=w,ro(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(bp,r.w(),E.a)),E}).then(function(){return Ww(r.b,s,c,w,r.tenantId)}).o(function(E){if(m=E,r.ha)return mb(r.ha);throw m}).then(function(){if(m)throw m}),je(r,h,p)}function vb(r){if(!r.b||!r.P)throw r.b&&!r.P?new A("internal-error"):new A("auth-domain-config-required")}t.Lb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null;return c=this.I().then(function(w){return kd(p.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return m=ju(p,w,"link"),hb(p,w)}).then(function(){return m}),je(this,c)},t.Mb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null,w=Et().then(function(){return Xo(xd(p.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),p.uid)}).then(function(E){return m=ju(p,E,"reauthenticate"),Tr(p,E),p.i=null,p.reload()}).then(function(){return m});return je(this,w,!0)},t.vb=function(r){var s=this,c=null;return je(this,this.I().then(function(h){return c=h,typeof r>"u"||Ft(r)?{}:Ec(new _c(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Fb=function(r,s){var c=this,h=null;return je(this,this.I().then(function(p){return h=p,typeof s>"u"||Ft(s)?{}:Ec(new _c(s))}).then(function(p){return c.a.Fb(h,r,p)}).then(function(p){if(c.email!=p)return c.reload()}).then(function(){}))};function je(r,s,c){var h=pC(r,s,c);return r.N.push(h),h.oa(function(){M(r.N,h)}),h.o(function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=rb(p.w(),dp(r),V(r.jc,r))),m||p})}t.jc=function(r){var s=null,c=this;return r=Xo(Et(r),c.uid).then(function(h){return s=ju(c,h,"reauthenticate"),Tr(c,h),c.i=null,c.reload()}).then(function(){return s}),je(this,r,!0)};function pC(r,s,c){return r.i&&!c?(s.cancel(),ge(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new rs("userInvalidated")),r.i=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Dt(r,this.metadata.w()),U(this.providerData,function(s){r.providerData.push(jN(s))}),Dt(r,this.S.w()),r};function gb(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[ur]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var p=new Fn(s,c,r);return r.providerData&&U(r.providerData,function(m){m&&yp(p,Er(m))}),r.redirectEventId&&(p.ga=r.redirectEventId),p}function vC(r,s,c,h){var p=new Fn(r,s);return c&&(p.ha=c),h&&Fu(p,h),p.reload().then(function(){return p})}function gC(r,s,c,h){var p=r.h,m={};return m[ur]=p.b&&p.b.toString(),m.refreshToken=p.a,s=new Fn(s||{apiKey:r.l,authDomain:r.s,appName:r.m},m),c&&(s.ha=c),h&&Fu(s,h),tl(s,r),s}function mC(r){this.a=r,this.b=Mu()}var bp={name:"redirectUser",F:"session"};function mb(r){return ns(r.b,bp,r.a)}function yC(r,s){return r.b.get(bp,r.a).then(function(c){return c&&s&&(c.authDomain=s),gb(c||{})})}function _p(r){this.a=r,this.b=Mu(),this.c=null,this.f=wC(this),this.b.addListener(Sr("local"),this.a,V(this.g,this))}_p.prototype.g=function(){var r=this,s=Sr("local");is(this,function(){return Et().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return Ep(r,"local").then(function(){r.c=s})})})};function Ep(r,s){var c=[],h;for(h in ts)ts[h]!==s&&c.push(ns(r.b,Sr(ts[h]),r.a));return c.push(ns(r.b,Ip,r.a)),aN(c)}function wC(r){var s=Sr("local"),c=Sr("session"),h=Sr("none");return Px(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(p){return p?c:r.b.get(h,r.a).then(function(m){return m?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(Ip,r.a).then(function(E){return E?Sr(E):s})})})}).then(function(p){return r.c=p,Ep(r,p.F)}).o(function(){r.c||(r.c=s)})}var Ip={name:"persistence",F:"session"};function Sr(r){return{name:"authUser",F:r}}_p.prototype.yb=function(r){var s=null,c=this;return Dx(r),is(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,Ep(c,r)}).then(function(){if(c.c=Sr(r),s)return c.b.set(c.c,s,c.a)}):Et()})};function bC(r){return is(r,function(){return r.b.set(Ip,r.c.F,r.a)})}function yb(r,s){return is(r,function(){return r.b.set(r.c,s.w(),r.a)})}function wb(r){return is(r,function(){return ns(r.b,r.c,r.a)})}function bb(r,s,c){return is(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),gb(h||{})})})}function is(r,s){return r.f=r.f.then(s,s),r.f}function ar(r){if(this.l=!1,pt(this,"settings",new tb),pt(this,"app",r),ue(this).options&&ue(this).options.apiKey)r=xt.SDK_VERSION?Go(xt.SDK_VERSION):null,this.a=new sr(ue(this).options&&ue(this).options.apiKey,Qt(ot),r);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xt.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=xt.INTERNAL.createSubscribe(V(this.Ac,this)),os(this,null),this.i=new _p(ue(this).options.apiKey+":"+ue(this).name),this.D=new mC(ue(this).options.apiKey+":"+ue(this).name),this.$=Te(this,AC(this)),this.h=Te(this,NC(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,IC(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,hn.call(this),EC(this),this.J=[],this.R=null}W(ar,hn);function _b(r){In.call(this,"languageCodeChanged"),this.h=r}W(_b,In);function Eb(r){In.call(this,"emulatorConfigChanged"),this.c=r}W(Eb,In);function Ib(r){In.call(this,"frameworkChanged"),this.f=r}W(Ib,In),t=ar.prototype,t.yb=function(r){return r=this.i.yb(r),Te(this,r)},t.xa=function(r){this.aa===r||this.l||(this.aa=r,rw(this.a,this.aa),this.dispatchEvent(new _b(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,_C(s),this.R={url:r,ec:s},this.settings.jb=!0,Bc(this.a,this.R),this.dispatchEvent(new Eb(this.R))}};function _C(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&yc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}t.Gc=function(r){this.J.push(r),iw(this.a,xt.SDK_VERSION?Go(xt.SDK_VERSION,this.J):null),this.dispatchEvent(new Ib(this.J))},t.Ga=function(){return et(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S};function EC(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Tn(this.R.url);s=Er({protocol:s.c,host:s.a,port:s.g,options:Er({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:ue(this).options.apiKey,authDomain:ue(this).options.authDomain,appName:ue(this).name,currentUser:jt(this)&&jt(this).w()}};function Tp(r){return r.Oa||ge(new A("auth-domain-config-required"))}function IC(r){var s=ue(r).options.authDomain,c=ue(r).options.apiKey;s&&zi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Zd(s,c,ue(r).name,r.R),Qc(r.b,r),jt(r)&&Vu(jt(r)),r.m){Vu(r.m);var h=r.m;h.xa(r.la()),lp(h,r),h=r.m,Fu(h,r.J),hp(h,r),h=r.m,cp(h,r.R),fp(h,r),r.m=null}return r.b}}))}t.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?V(this.ic,this):null},t.ic=function(r,s,c,h){var p=this,m={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return io(p,Nd(p.a,m))})},t.Xc=function(r){if(!zi())return ge(new A("operation-not-supported-in-this-environment"));var s=this,c=ed(r.providerId),h=Gi(),p=null;(!vu()||Vh())&&ue(this).options.authDomain&&r.isOAuthProvider&&(p=Ru(ue(this).options.authDomain,ue(this).options.apiKey,ue(this).name,"signInViaPopup",r,null,h,xt.SDK_VERSION||null,null,null,this.T(),this.R));var m=n0(p,c&&c.va,c&&c.ua);return c=Tp(this).then(function(w){return Gw(w,m,"signInViaPopup",r,h,!!p,s.T())}).then(function(){return new Kt(function(w,E){s.na("signInViaPopup",null,new A("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=Qw(s.b,s,"signInViaPopup",m,h)})}).then(function(w){return m&&Hi(m),w?Er(w):null}).o(function(w){throw m&&Hi(m),w}),Te(this,c)},t.Yc=function(r){if(!zi())return ge(new A("operation-not-supported-in-this-environment"));var s=this,c=Tp(this).then(function(){return bC(s.i)}).then(function(){return Ww(s.b,"signInViaRedirect",r,void 0,s.T())});return Te(this,c)};function Tb(r){if(!zi())return ge(new A("operation-not-supported-in-this-environment"));var s=Tp(r).then(function(){return r.b.ra()}).then(function(c){return c?Er(c):null});return Te(r,s)}t.ra=function(){var r=this;return Tb(this).then(function(s){return r.b&&Xc(r.b.b),s}).o(function(s){throw r.b&&Xc(r.b.b),s})},t.dd=function(r){if(!r)return ge(new A("null-user"));if(this.S!=r.tenantId)return ge(new A("tenant-id-mismatch"));var s=this,c={};c.apiKey=ue(this).options.apiKey,c.authDomain=ue(this).options.authDomain,c.appName=ue(this).name;var h=gC(r,c,s.D,s.Ga());return Te(this,this.h.then(function(){if(ue(s).options.apiKey!=r.l)return h.reload()}).then(function(){return jt(s)&&r.uid==jt(s).uid?(tl(jt(s),r),s.da(r)):(os(s,h),Vu(h),s.da(h))}).then(function(){Uu(s)}))};function TC(r,s){var c={};return c.apiKey=ue(r).options.apiKey,c.authDomain=ue(r).options.authDomain,c.appName=ue(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return vC(c,s,r.D,r.Ga())}).then(function(h){return jt(r)&&h.uid==jt(r).uid?(tl(jt(r),h),r.da(h)):(os(r,h),Vu(h),r.da(h))}).then(function(){Uu(r)})}function os(r,s){jt(r)&&(fC(jt(r),r.Ba),Ln(jt(r),"tokenChanged",r.qa),Ln(jt(r),"userDeleted",r.za),Ln(jt(r),"userInvalidated",r.Aa),pp(jt(r))),s&&(s.W.push(r.Ba),Xn(s,"tokenChanged",r.qa),Xn(s,"userDeleted",r.za),Xn(s,"userInvalidated",r.Aa),0<r.u&&ab(s)),pt(r,"currentUser",s),s&&(s.xa(r.la()),lp(s,r),Fu(s,r.J),hp(s,r),cp(s,r.R),fp(s,r))}t.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&Xc(r.b.b),jt(r)?(os(r,null),wb(r.i).then(function(){Uu(r)})):Et()});return Te(this,s)};function SC(r){var s=yC(r.D,ue(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),mb(r.D)});return Te(r,s)}function AC(r){var s=ue(r).options.authDomain,c=SC(r).then(function(){return bb(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return yb(r.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:wb(r.i)})):null}).then(function(h){os(r,h||null)});return Te(r,c)}function NC(r){return r.$.then(function(){return Tb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Sr("local"),s.a,r.ja)}})}t.Zc=function(){var r=this;return bb(this.i,ue(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=jt(r)&&s){c=jt(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return tl(jt(r),s),jt(r).I();(jt(r)||s)&&(os(r,s),s&&(Vu(s),s.ha=r.D),r.b&&Qc(r.b,r),Uu(r))}})},t.da=function(r){return yb(this.i,r)},t.mc=function(){Uu(this),this.da(jt(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function io(r,s){var c=null,h=null;return Te(r,s.then(function(p){return c=ud(p),h=k0(p),TC(r,p)},function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=rb(p.w(),r,V(r.kc,r))),m||p}).then(function(){return Er({user:jt(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}t.kc=function(r){var s=this;return this.h.then(function(){return io(s,Et(r))})},t.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(jt(s))})},t.Ac=function(r){var s=this;kC(this,function(){r.next(jt(s))})},t.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(jt(h)):typeof r.next=="function"&&r.next(jt(h))}),this.Pa(r,s,c)},t.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(jt(h)):typeof r.next=="function"&&r.next(jt(h))}),this.ib(r,s,c)},t.nc=function(r){var s=this,c=this.h.then(function(){return jt(s)?jt(s).I(r).then(function(h){return{accessToken:h}}):null});return Te(this,c)},t.Tc=function(r){var s=this;return this.h.then(function(){return io(s,Ht(s.a,ax,{token:r}))}).then(function(c){var h=c.user;return ui(h,"isAnonymous",!1),s.da(h),c})},t.Uc=function(r,s){var c=this;return this.h.then(function(){return io(c,Ht(c.a,dw,{email:r,password:s}))})},t.dc=function(r,s){var c=this;return this.h.then(function(){return io(c,Ht(c.a,jk,{email:r,password:s}))})},t.ab=function(r){var s=this;return this.h.then(function(){return io(s,r.ka(s.a))})},t.Sc=function(r){return qh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var s=jt(r);if(s&&s.isAnonymous){var c=Er({providerId:null,isNewUser:!1});return Er({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return io(r,r.a.Ab()).then(function(h){var p=h.user;return ui(p,"isAnonymous",!0),r.da(p),h})})};function ue(r){return r.app}function jt(r){return r.currentUser}t.getUid=function(){return jt(this)&&jt(this).uid||null};function nl(r){return jt(r)&&jt(r)._lat||null}function Uu(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](nl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](nl(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&jt(this)&&ab(jt(this))},t.Pc=function(r){var s=this;U(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&jt(this)&&pp(jt(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.s.push(r),Te(this,this.h.then(function(){s.l||C(s.s,r)&&r(nl(s))}))},t.removeAuthTokenListener=function(r){F(this.s,function(s){return s==r})};function kC(r,s){r.N.push(s),Te(r,r.h.then(function(){!r.l&&C(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(nl(r)))}))}t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Sr("local"),r.a,this.ja)),this.b&&(Yd(this.b,this),Xc(this.b.b)),Promise.resolve()};function Te(r,s){return r.P.push(s),s.oa(function(){M(r.P,s)}),s}t.hc=function(r){return Te(this,Ck(this.a,r))},t.Bc=function(r){return!!sd(r)},t.xb=function(r,s){var c=this;return Te(this,Et().then(function(){var h=new _c(s);if(!h.c)throw new A("argument-error",Zh+" must be true when sending sign in link to email");return Ec(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},t.ob=function(r,s){return Te(this,this.a.ob(r,s).then(function(){}))},t.Sa=function(r){return Te(this,this.a.Sa(r).then(function(s){return new BN(s)}))},t.kb=function(r){return Te(this,this.a.kb(r).then(function(){}))},t.wb=function(r,s){var c=this;return Te(this,Et().then(function(){return typeof s>"u"||Ft(s)?{}:Ec(new _c(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},t.Wc=function(r,s){return Te(this,ep(this,r,s,V(this.ab,this)))},t.Vc=function(r,s){var c=this;return Te(this,Et().then(function(){var h=s||pu(),p=U0(r,h);if(h=sd(h),!h)throw new A("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new A("tenant-id-mismatch");return c.ab(p)}))};function Bu(){}Bu.prototype.render=function(){},Bu.prototype.reset=function(){},Bu.prototype.getResponse=function(){},Bu.prototype.execute=function(){};function ss(){this.a={},this.b=1e12}var Sp=null;ss.prototype.render=function(r,s){return this.a[this.b.toString()]=new rl(r,s),this.b++},ss.prototype.reset=function(r){var s=Ap(this,r);r=Sb(r),s&&r&&(s.delete(),delete this.a[r])},ss.prototype.getResponse=function(r){return(r=Ap(this,r))?r.getResponse():null},ss.prototype.execute=function(r){(r=Ap(this,r))&&r.execute()};function Ap(r,s){return(s=Sb(s))&&r.a[s]||null}function Sb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function rl(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=uu(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():Xn(this.f,"click",this.i)}rl.prototype.getResponse=function(){return Np(this),this.b},rl.prototype.execute=function(){Np(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=LN();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},rl.prototype.delete=function(){Np(this),this.g=!0,clearTimeout(this.a),this.a=null,Ln(this.f,"click",this.i)};function Np(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function kp(){}pt(kp,"FACTOR_ID","phone");function xp(){}xp.prototype.g=function(){return Sp||(Sp=new ss),Et(Sp)},xp.prototype.c=function(){};var Cp=null;function Op(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var xC=new en(oc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),CC=new ii(3e4,6e4);Op.prototype.g=function(r){var s=this;return new Kt(function(c,h){var p=setTimeout(function(){h(new A("network-request-failed"))},CC.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,L){return E=w(E,L),s.b++,E},clearTimeout(p),c(f.grecaptcha)}else clearTimeout(p),h(new A("internal-error"));delete f[s.a]};var m=hh(xC,{onload:s.a,hl:r||""});Et(bd(m)).o(function(){clearTimeout(p),h(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),c(f.grecaptcha)})},Op.prototype.c=function(){this.b--};var Rp=null;function Dp(r,s,c,h,p,m,w){if(pt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(Cp||(Cp=new xp),w=Cp):(Rp||(Rp=new Op),w=Rp),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[kb])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[OC]==="invisible",!f.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!uu(s)||!this.i&&uu(s).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new sr(r,m||null,p||null),this.u=h||function(){return null};var E=this;this.l=[];var L=this.a[Ab];this.a[Ab]=function(Ct){if(xb(E,Ct),typeof L=="function")L(Ct);else if(typeof L=="string"){var re=me(L,f);typeof re=="function"&&re(Ct)}};var K=this.a[Nb];this.a[Nb]=function(){if(xb(E,null),typeof K=="function")K();else if(typeof K=="string"){var Ct=me(K,f);typeof Ct=="function"&&Ct()}}}var Ab="callback",Nb="expired-callback",kb="sitekey",OC="size";function xb(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function RC(r,s){F(r.l,function(c){return c==s})}function Pp(r,s){return r.h.push(s),s.oa(function(){M(r.h,s)}),s}t=Dp.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=Pp(this,Et().then(function(){if(wc()&&!ir())return yc();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Ht(r.s,Zk,{})}).then(function(s){r.a[kb]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},t.render=function(){il(this);var r=this;return Pp(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=uu(s);s=iN("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){il(this);var r=this;return Pp(this,this.render().then(function(s){return new Kt(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var p=function(m){m&&(RC(r,p),c(m))};r.l.push(p),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){il(this),this.c!==null&&this.g.reset(this.c)};function il(r){if(r.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){il(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=uu(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Lp(r,s,c){var h=!1;try{this.b=c||xt.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new A("invalid-api-key");var p=this,m=null;try{m=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}m=xt.SDK_VERSION?Go(xt.SDK_VERSION,m):null,Dp.call(this,c,r,s,function(){try{var w=p.b.auth().la()}catch{w=null}return w},m,Qt(ot),h)}W(Lp,Dp);function Cb(r,s,c,h){t:{c=Array.prototype.slice.call(c);for(var p=0,m=!1,w=0;w<s.length;w++)if(s[w].optional)m=!0;else{if(m)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(m=s.length,c.length<p||m<c.length)h="Expected "+(p==m?p==1?"1 argument":p+" arguments":p+"-"+m+" arguments")+" but got "+c.length+".";else{for(p=0;p<c.length;p++)if(m=s[p].optional&&c[p]===void 0,!s[p].M(c[p])&&!m){if(s=s[p],0>p||p>=Ob.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");c=Ob[p],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new A("argument-error",r+" failed: "+h)}var Ob="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function lt(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function Mp(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Oe(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:N}}function us(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function Ar(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function DC(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function PC(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof ar)}}}function LC(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof xt.app.App)}}}function ai(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function Rb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function as(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Fp(r,s){return N(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function Db(r){return N(r)&&typeof r.uid=="string"}function ol(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function ke(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(p){return r.M(p)||s.M(p)}}}function be(r,s){for(var c in s){var h=s[c].name;r[h]=Lb(h,r[c],s[c].j)}}function Pb(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:It(function(p){return this[p]},c),set:It(function(p,m,w,E){Cb(p,[w],[E],!0),this[m]=E},h,c,s[c].lb),enumerable:!0})}}function xe(r,s,c,h){r[s]=Lb(s,c,h)}function Lb(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return Cb(p,c,w),s.apply(this,w)}if(!c)return s;var p=MC(r),m;for(m in s)h[m]=s[m];for(m in s.prototype)h.prototype[m]=s.prototype[m];return h}function MC(r){return r=r.split("."),r[r.length-1]}be(ar.prototype,{kb:{name:"applyActionCode",j:[lt("code")]},Sa:{name:"checkActionCode",j:[lt("code")]},ob:{name:"confirmPasswordReset",j:[lt("code"),lt("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[lt("email"),lt("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[lt("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[lt("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ke(Oe(),us(),"nextOrObserver"),us("opt_error",!0),us("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ke(Oe(),us(),"nextOrObserver"),us("opt_error",!0),us("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[lt("email"),ke(Oe("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[lt("email"),Oe("actionCodeSettings")]},yb:{name:"setPersistence",j:[lt("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ai()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ai()]},Tc:{name:"signInWithCustomToken",j:[lt("token")]},Uc:{name:"signInWithEmailAndPassword",j:[lt("email"),lt("password")]},Vc:{name:"signInWithEmailLink",j:[lt("email"),lt("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[lt("phoneNumber"),ol()]},Xc:{name:"signInWithPopup",j:[as()]},Yc:{name:"signInWithRedirect",j:[as()]},dd:{name:"updateCurrentUser",j:[ke(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Fn)}}}(),Ar(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[lt(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[lt("url"),Oe("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[lt("code")]}}),Pb(ar.prototype,{lc:{name:"languageCode",lb:ke(lt(),Ar(),"languageCode")},ti:{name:"tenantId",lb:ke(lt(),Ar(),"tenantId")}}),ar.Persistence=ts,ar.Persistence.LOCAL="local",ar.Persistence.SESSION="session",ar.Persistence.NONE="none",be(Fn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Mp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Mp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ai()]},rb:{name:"linkWithCredential",j:[ai()]},Dc:{name:"linkWithPhoneNumber",j:[lt("phoneNumber"),ol()]},Ec:{name:"linkWithPopup",j:[as()]},Fc:{name:"linkWithRedirect",j:[as()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ai()]},ub:{name:"reauthenticateWithCredential",j:[ai()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[lt("phoneNumber"),ol()]},Nc:{name:"reauthenticateWithPopup",j:[as()]},Oc:{name:"reauthenticateWithRedirect",j:[as()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ke(Oe("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[lt(null,!0)]},cd:{name:"unlink",j:[lt("provider")]},Cb:{name:"updateEmail",j:[lt("email")]},Db:{name:"updatePassword",j:[lt("password")]},ed:{name:"updatePhoneNumber",j:[ai("phone")]},Eb:{name:"updateProfile",j:[Oe("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[lt("email"),ke(Oe("opt_actionCodeSettings",!0),Ar(null,!0),"opt_actionCodeSettings",!0)]}}),be(ss.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),be(Bu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),be(Kt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Pb(tb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Mp("appVerificationDisabledForTesting")}}),be(tp.prototype,{confirm:{name:"confirm",j:[lt("verificationCode")]}}),xe(Yo,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[ok,sk,uk,ik],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[ke(lt(),Oe(),"json")]),xe(Zn,"credential",function(r,s){return new oi(r,s)},[lt("email"),lt("password")]),be(oi.prototype,{w:{name:"toJSON",j:[lt(null,!0)]}}),be(Yi.prototype,{Ca:{name:"addScope",j:[lt("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Yi,"credential",M0,[ke(lt(),Oe(),"token")]),xe(Zn,"credentialWithLink",U0,[lt("email"),lt("emailLink")]),be(Xi.prototype,{Ca:{name:"addScope",j:[lt("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Xi,"credential",F0,[ke(lt(),Oe(),"token")]),be(Ji.prototype,{Ca:{name:"addScope",j:[lt("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Ji,"credential",V0,[ke(lt(),ke(Oe(),Ar()),"idToken"),ke(lt(),Ar(),"accessToken",!0)]),be(Jo.prototype,{Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Jo,"credential",j0,[ke(lt(),Oe(),"token"),lt("secret",!0)]),be(Mn.prototype,{Ca:{name:"addScope",j:[lt("scope")]},credential:{name:"credential",j:[ke(lt(),ke(Oe(),Ar()),"optionsOrIdToken"),ke(lt(),Ar(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),be(Vr.prototype,{w:{name:"toJSON",j:[lt(null,!0)]}}),be(Wi.prototype,{w:{name:"toJSON",j:[lt(null,!0)]}}),xe(jr,"credential",B0,[lt("verificationId"),lt("verificationCode")]),be(jr.prototype,{gb:{name:"verifyPhoneNumber",j:[ke(lt(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Fp(c.session,_u)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Fp(c.session,Nc)&&Db(c.multiFactorHint):c.session&&c.multiFactorUid?Fp(c.session,Nc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),ol()]}}),be(si.prototype,{w:{name:"toJSON",j:[lt(null,!0)]}}),be(A.prototype,{toJSON:{name:"toJSON",j:[lt(null,!0)]}}),be(Iu.prototype,{toJSON:{name:"toJSON",j:[lt(null,!0)]}}),be(ld.prototype,{toJSON:{name:"toJSON",j:[lt(null,!0)]}}),be(rp.prototype,{toJSON:{name:"toJSON",j:[lt(null,!0)]}}),be(np.prototype,{Rc:{name:"resolveSignIn",j:[Rb()]}}),be(op.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Rb(),lt("displayName",!0)]},bd:{name:"unenroll",j:[ke({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Db},lt(),"multiFactorInfoIdentifier")]}}),be(Lp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xe(Jh,"parseLink",y0,[lt("link")]),xe(kp,"assertion",function(r){return new ob(r)},[ai("phone")]),function(){if(typeof xt<"u"&&xt.INTERNAL&&xt.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:Xh,VERIFY_AND_CHANGE_EMAIL:wu,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ar,AuthCredential:Yo,Error:A};xe(r,"EmailAuthProvider",Zn,[]),xe(r,"FacebookAuthProvider",Yi,[]),xe(r,"GithubAuthProvider",Xi,[]),xe(r,"GoogleAuthProvider",Ji,[]),xe(r,"TwitterAuthProvider",Jo,[]),xe(r,"OAuthProvider",Mn,[lt("providerId")]),xe(r,"SAMLAuthProvider",L0,[lt("providerId")]),xe(r,"PhoneAuthProvider",jr,[PC()]),xe(r,"RecaptchaVerifier",Lp,[ke(lt(),DC(),"recaptchaContainer"),Oe("recaptchaParameters",!0),LC()]),xe(r,"ActionCodeURL",Jh,[]),xe(r,"PhoneMultiFactorGenerator",kp,[]),xt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new ar(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),xt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:V(s.getUid,s),getToken:V(s.nc,s),addAuthTokenListener:V(s.cc,s),removeAuthTokenListener:V(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xt.registerVersion("@firebase/auth","0.16.8"),xt.INTERNAL.extendNamespace({User:Fn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cv=function(t,e){return Cv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Cv(t,e)};function uL(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Cv(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function A1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var aL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},at,Ug=Ug||{},Pt=aL||self;function Ul(){}function Ov(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Va(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function cL(t){return Object.prototype.hasOwnProperty.call(t,Gp)&&t[Gp]||(t[Gp]=++lL)}var Gp="closure_uid_"+(1e9*Math.random()>>>0),lL=0;function fL(t,e,n){return t.call.apply(t.bind,arguments)}function hL(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Xe(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xe=fL:Xe=hL,Xe.apply(null,arguments)}function dl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Ze(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[o].apply(i,a)}}function Pi(){this.s=this.s,this.o=this.o}var dL=0;Pi.prototype.s=!1;Pi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),dL!=0)&&cL(this)};Pi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var N1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function pL(t){t:{for(var e=oM,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function m_(t){return Array.prototype.concat.apply([],arguments)}function Bg(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Bl(t){return/^[\s\xa0]*$/.test(t)}var y_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function mn(t,e){return t.indexOf(e)!=-1}function Wp(t,e){return t<e?-1:t>e?1:0}var yn;t:{var w_=Pt.navigator;if(w_){var b_=w_.userAgent;if(b_){yn=b_;break t}}yn=""}function qg(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function x1(t){var e={};for(var n in t)e[n]=t[n];return e}var __="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C1(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<__.length;u++)n=__[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function $g(t){return $g[" "](t),t}$g[" "]=Ul;function vL(t){var e=yL;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var gL=mn(yn,"Opera"),Cs=mn(yn,"Trident")||mn(yn,"MSIE"),O1=mn(yn,"Edge"),Rv=O1||Cs,R1=mn(yn,"Gecko")&&!(mn(yn.toLowerCase(),"webkit")&&!mn(yn,"Edge"))&&!(mn(yn,"Trident")||mn(yn,"MSIE"))&&!mn(yn,"Edge"),mL=mn(yn.toLowerCase(),"webkit")&&!mn(yn,"Edge");function D1(){var t=Pt.document;return t?t.documentMode:void 0}var ql;t:{var Qp="",Yp=function(){var t=yn;if(R1)return/rv:([^\);]+)(\)|;)/.exec(t);if(O1)return/Edge\/([\d\.]+)/.exec(t);if(Cs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mL)return/WebKit\/(\S+)/.exec(t);if(gL)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Yp&&(Qp=Yp?Yp[1]:""),Cs){var Xp=D1();if(Xp!=null&&Xp>parseFloat(Qp)){ql=String(Xp);break t}}ql=Qp}var yL={};function wL(){return vL(function(){for(var t=0,e=y_(String(ql)).split("."),n=y_("9").split("."),i=Math.max(e.length,n.length),o=0;t==0&&o<i;o++){var u=e[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;t=Wp(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||Wp(u[2].length==0,a[2].length==0)||Wp(u[2],a[2]),u=u[3],a=a[3]}while(t==0)}return 0<=t})}var Dv;if(Pt.document&&Cs){var E_=D1();Dv=E_||parseInt(ql,10)||void 0}else Dv=void 0;var bL=Dv,_L=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pt.addEventListener("test",Ul,e),Pt.removeEventListener("test",Ul,e)}catch{}return t}();function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};function ba(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(R1){t:{try{$g(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:EL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ba.Z.h.call(this)}}Ze(ba,cn);var EL={2:"touch",3:"pen",4:"mouse"};ba.prototype.h=function(){ba.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ja="closure_listenable_"+(1e6*Math.random()|0),IL=0;function TL(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=o,this.key=++IL,this.ca=this.fa=!1}function Rf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Df(t){this.src=t,this.g={},this.h=0}Df.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var a=Lv(t,e,i,o);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new TL(e,this.src,u,!!i,o),e.fa=n,t.push(e)),e};function Pv(t,e){var n=e.type;if(n in t.g){var i=t.g[n],o=N1(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(Rf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Lv(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==i)return o}return-1}var Kg="closure_lm_"+(1e6*Math.random()|0),Jp={};function P1(t,e,n,i,o){if(i&&i.once)return M1(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)P1(t,e[u],n,i,o);return null}return n=Gg(n),t&&t[ja]?t.N(e,n,Va(i)?!!i.capture:!!i,o):L1(t,e,n,!1,i,o)}function L1(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var a=Va(o)?!!o.capture:!!o,l=zg(t);if(l||(t[Kg]=l=new Df(t)),n=l.add(e,n,i,a,u),n.proxy)return n;if(i=SL(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)_L||(o=a),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(V1(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function SL(){function t(n){return e.call(t.src,t.listener,n)}var e=AL;return t}function M1(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)M1(t,e[u],n,i,o);return null}return n=Gg(n),t&&t[ja]?t.O(e,n,Va(i)?!!i.capture:!!i,o):L1(t,e,n,!0,i,o)}function F1(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)F1(t,e[u],n,i,o);else i=Va(i)?!!i.capture:!!i,n=Gg(n),t&&t[ja]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=Lv(u,n,i,o),-1<n&&(Rf(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=zg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Lv(e,n,i,o)),(n=-1<t?e[t]:null)&&Hg(n))}function Hg(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[ja])Pv(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(V1(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=zg(e))?(Pv(n,t),n.h==0&&(n.src=null,e[Kg]=null)):Rf(t)}}}function V1(t){return t in Jp?Jp[t]:Jp[t]="on"+t}function AL(t,e){if(t.ca)t=!0;else{e=new ba(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&Hg(t),t=n.call(i,e)}return t}function zg(t){return t=t[Kg],t instanceof Df?t:null}var Zp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gg(t){return typeof t=="function"?t:(t[Zp]||(t[Zp]=function(e){return t.handleEvent(e)}),t[Zp])}function ze(){Pi.call(this),this.i=new Df(this),this.P=this,this.I=null}Ze(ze,Pi);ze.prototype[ja]=!0;ze.prototype.removeEventListener=function(t,e,n,i){F1(this,t,e,n,i)};function Je(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var o=e;e=new cn(i,t),C1(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=e.g=n[u];o=pl(a,i,!0,e)&&o}if(a=e.g=t,o=pl(a,i,!0,e)&&o,o=pl(a,i,!1,e)&&o,n)for(u=0;u<n.length;u++)a=e.g=n[u],o=pl(a,i,!1,e)&&o}ze.prototype.M=function(){if(ze.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)Rf(n[i]);delete t.g[e],t.h--}}this.I=null};ze.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};ze.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function pl(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var a=e[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Pv(t.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var Wg=Pt.JSON.stringify;function NL(){var t=U1,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var kL=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var i=j1.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i},t}(),j1=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new xL},function(t){return t.reset()}),xL=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function CL(t){Pt.setTimeout(function(){throw t},0)}function Qg(t,e){Mv||OL(),Fv||(Mv(),Fv=!0),U1.add(t,e)}var Mv;function OL(){var t=Pt.Promise.resolve(void 0);Mv=function(){t.then(RL)}}var Fv=!1,U1=new kL;function RL(){for(var t;t=NL();){try{t.h.call(t.g)}catch(n){CL(n)}var e=j1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Fv=!1}function Pf(t,e){ze.call(this),this.h=t||1,this.g=e||Pt,this.j=Xe(this.kb,this),this.l=Date.now()}Ze(Pf,ze);at=Pf.prototype;at.da=!1;at.S=null;at.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Je(this,"tick"),this.da&&(Yg(this),this.start()))}};at.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Yg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}at.M=function(){Pf.Z.M.call(this),Yg(this),delete this.g};function Xg(t,e,n){if(typeof t=="function")n&&(t=Xe(t,n));else if(t&&typeof t.handleEvent=="function")t=Xe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pt.setTimeout(t,e||0)}function B1(t){t.g=Xg(function(){t.g=null,t.i&&(t.i=!1,B1(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var DL=function(t){uL(e,t);function e(n,i){var o=t.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:B1(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Pi);function _a(t){Pi.call(this),this.h=t,this.g={}}Ze(_a,Pi);var I_=[];function q1(t,e,n,i){Array.isArray(n)||(n&&(I_[0]=n.toString()),n=I_);for(var o=0;o<n.length;o++){var u=P1(e,n[o],i||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function $1(t){qg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hg(e)},t),t.g={}}_a.prototype.M=function(){_a.Z.M.call(this),$1(this)};_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lf(){this.g=!0}Lf.prototype.Aa=function(){this.g=!1};function PL(t,e,n,i,o,u){t.info(function(){if(t.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var v=d[0];d=d[1];var g=v.split("_");a=2<=g.length&&g[1]=="type"?a+(v+"="+d+"&"):a+(v+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+a})}function LL(t,e,n,i,o,u,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+a})}function ys(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+FL(t,n)+(i?" "+i:"")})}function ML(t,e){t.info(function(){return"TIMEOUT: "+e})}Lf.prototype.info=function(){};function FL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return Wg(n)}catch{return e}}var Ro={},T_=null;function Mf(){return T_=T_||new ze}Ro.Ma="serverreachability";function K1(t){cn.call(this,Ro.Ma,t)}Ze(K1,cn);function Ea(t){var e=Mf();Je(e,new K1(e))}Ro.STAT_EVENT="statevent";function H1(t,e){cn.call(this,Ro.STAT_EVENT,t),this.stat=e}Ze(H1,cn);function wn(t){var e=Mf();Je(e,new H1(e,t))}Ro.Na="timingevent";function z1(t,e){cn.call(this,Ro.Na,t),this.size=e}Ze(z1,cn);function Ua(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){t()},e)}var Ff={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},G1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Jg(){}Jg.prototype.h=null;function S_(t){return t.h||(t.h=t.i())}function W1(){}var Ba={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zg(){cn.call(this,"d")}Ze(Zg,cn);function tm(){cn.call(this,"c")}Ze(tm,cn);var Vv;function Vf(){}Ze(Vf,Jg);Vf.prototype.g=function(){return new XMLHttpRequest};Vf.prototype.i=function(){return{}};Vv=new Vf;function qa(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new _a(this),this.P=VL,t=Rv?125:void 0,this.W=new Pf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Q1}function Q1(){this.i=null,this.g="",this.h=!1}var VL=45e3,jv={},$l={};at=qa.prototype;at.setTimeout=function(t){this.P=t};function Uv(t,e,n){t.K=1,t.v=Uf(Xr(e)),t.s=n,t.U=!0,Y1(t,null)}function Y1(t,e){t.F=Date.now(),$a(t),t.A=Xr(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),rT(n.h,"t",i),t.C=0,n=t.l.H,t.h=new Q1,t.g=IT(t.l,n?e:null,!t.s),0<t.O&&(t.L=new DL(Xe(t.Ia,t,t.g),t.O)),q1(t.V,t.g,"readystatechange",t.gb),e=t.H?x1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ea(),PL(t.j,t.u,t.A,t.m,t.X,t.s)}at.gb=function(t){t=t.target;var e=this.L;e&&Kr(t)==3?e.l():this.Ia(t)};at.Ia=function(t){try{if(t==this.g)t:{var e=Kr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(e!=3||Rv||this.g&&(this.h.h||this.g.ga()||x_(this.g)))){this.I||e!=4||n==7||(n==8||0>=i?Ea(3):Ea(2)),jf(this);var o=this.g.ba();this.N=o;e:if(X1(this)){var u=x_(this.g);t="";var a=u.length,l=Kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){po(this),ra(this);var f="";break e}this.h.i=new Pt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,LL(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){e:{if(this.g){var d,v=this.g;if((d=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Bl(d)){var g=d;break e}}g=null}if(o=g)ys(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bv(this,o);else{this.i=!1,this.o=3,wn(12),po(this),ra(this);break t}}this.U?(J1(this,e,f),Rv&&this.i&&e==3&&(q1(this.V,this.W,"tick",this.fb),this.W.start())):(ys(this.j,this.m,f,null),Bv(this,f)),e==4&&po(this),this.i&&!this.I&&(e==4?wT(this.l,this):(this.i=!1,$a(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,wn(12)):(this.o=0,wn(13)),po(this),ra(this)}}}catch{}finally{}};function X1(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function J1(t,e,n){for(var i=!0,o;!t.I&&t.C<n.length;)if(o=jL(t,n),o==$l){e==4&&(t.o=4,wn(14),i=!1),ys(t.j,t.m,null,"[Incomplete Response]");break}else if(o==jv){t.o=4,wn(15),ys(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else ys(t.j,t.m,o,null),Bv(t,o);X1(t)&&o!=$l&&o!=jv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,wn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),cm(e),e.L=!0,wn(11))):(ys(t.j,t.m,n,"[Invalid Chunked Response]"),po(t),ra(t))}at.fb=function(){if(this.g){var t=Kr(this.g),e=this.g.ga();this.C<e.length&&(jf(this),J1(this,t,e),this.i&&t!=4&&$a(this))}};function jL(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?$l:(n=Number(e.substring(n,i)),isNaN(n)?jv:(i+=1,i+n>e.length?$l:(e=e.substr(i,n),t.C=i+n,e)))}at.cancel=function(){this.I=!0,po(this)};function $a(t){t.Y=Date.now()+t.P,Z1(t,t.P)}function Z1(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ua(Xe(t.eb,t),e)}function jf(t){t.B&&(Pt.clearTimeout(t.B),t.B=null)}at.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(ML(this.j,this.A),this.K!=2&&(Ea(),wn(17)),po(this),this.o=2,ra(this)):Z1(this,this.Y-t)};function ra(t){t.l.G==0||t.I||wT(t.l,t)}function po(t){jf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Yg(t.W),$1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Bv(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||qv(n.i,t))){if(n.I=t.N,!t.J&&qv(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Gl(n),$f(n);else break t;am(n),wn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ua(Xe(n.ab,n),6e3));if(1>=sT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else vo(n,11)}else if((t.J||n.g==t)&&Gl(n),!Bl(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var u=o[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=t.g;if(d){var v=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var g=i.i;!g.g&&(mn(v,"spdy")||mn(v,"quic")||mn(v,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(rm(g,g.h),g.h=null))}if(i.D){var y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,we(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=t;if(i.oa=ET(i,i.H?i.la:null,i.W),b.J){uT(i.i,b);var _=b,S=i.K;S&&_.setTimeout(S),_.B&&(jf(_),$a(_)),i.g=b}else mT(i);0<n.l.length&&Kf(n)}else u[0]!="stop"&&u[0]!="close"||vo(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?vo(n,7):um(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ea(4)}catch{}}function UL(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Ov(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function em(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ov(t)||typeof t=="string")k1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Ov(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=UL(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function Js(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Js)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}at=Js.prototype;at.R=function(){nm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};at.T=function(){return nm(this),this.g.concat()};function nm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];So(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)i=t.g[e],So(o,i)||(t.g[n++]=i,o[i]=1),e++;t.g.length=n}}at.get=function(t,e){return So(this.h,t)?this.h[t]:e};at.set=function(t,e){So(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};at.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function So(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var tT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function BL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Ao(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ao){this.g=e!==void 0?e:t.g,Kl(this,t.j),this.s=t.s,Hl(this,t.i),zl(this,t.m),this.l=t.l,e=t.h;var n=new Ia;n.i=e.i,e.g&&(n.g=new Js(e.g),n.h=e.h),A_(this,n),this.o=t.o}else t&&(n=String(t).match(tT))?(this.g=!!e,Kl(this,n[1]||"",!0),this.s=ia(n[2]||""),Hl(this,n[3]||"",!0),zl(this,n[4]),this.l=ia(n[5]||"",!0),A_(this,n[6]||"",!0),this.o=ia(n[7]||"")):(this.g=!!e,this.h=new Ia(null,this.g))}Ao.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yu(e,N_,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Yu(e,N_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Yu(n,n.charAt(0)=="/"?zL:HL,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yu(n,WL)),t.join("")};function Xr(t){return new Ao(t)}function Kl(t,e,n){t.j=n?ia(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hl(t,e,n){t.i=n?ia(e,!0):e}function zl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function A_(t,e,n){e instanceof Ia?(t.h=e,QL(t.h,t.g)):(n||(e=Yu(e,GL)),t.h=new Ia(e,t.g))}function we(t,e,n){t.h.set(e,n)}function Uf(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qL(t){return t instanceof Ao?Xr(t):new Ao(t,void 0)}function $L(t,e,n,i){var o=new Ao(null,void 0);return t&&Kl(o,t),e&&Hl(o,e),n&&zl(o,n),i&&(o.l=i),o}function ia(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yu(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,KL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function KL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var N_=/[#\/\?@]/g,HL=/[#\?:]/g,zL=/[#\?]/g,GL=/[#\?@]/g,WL=/#/g;function Ia(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Li(t){t.g||(t.g=new Js,t.h=0,t.i&&BL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}at=Ia.prototype;at.add=function(t,e){Li(this),this.i=null,t=Zs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function eT(t,e){Li(t),e=Zs(t,e),So(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,So(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&nm(t)))}function nT(t,e){return Li(t),e=Zs(t,e),So(t.g.h,e)}at.forEach=function(t,e){Li(this),this.g.forEach(function(n,i){k1(n,function(o){t.call(e,o,i,this)},this)},this)};at.T=function(){Li(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};at.R=function(t){Li(this);var e=[];if(typeof t=="string")nT(this,t)&&(e=m_(e,this.g.get(Zs(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=m_(e,t[n])}return e};at.set=function(t,e){return Li(this),this.i=null,t=Zs(this,t),nT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};at.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function rT(t,e,n){eT(t,e),0<n.length&&(t.i=null,t.g.set(Zs(t,e),Bg(n)),t.h+=n.length)}at.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),t.push(a)}}return this.i=t.join("&")};function Zs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function QL(t,e){e&&!t.j&&(Li(t),t.i=null,t.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(eT(this,i),rT(this,o,n))},t)),t.j=e}var YL=function(){function t(e,n){this.h=e,this.g=n}return t}();function iT(t){this.l=t||XL,Pt.PerformanceNavigationTiming?(t=Pt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var XL=10;function oT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function sT(t){return t.h?1:t.g?t.g.size:0}function qv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function rm(t,e){t.g?t.g.add(e):t.h=e}function uT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iT.prototype.cancel=function(){var t,e;if(this.i=aT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=A1(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function aT(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var i=t.i;try{for(var o=A1(t.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Bg(t.i)}function im(){}im.prototype.stringify=function(t){return Pt.JSON.stringify(t,void 0)};im.prototype.parse=function(t){return Pt.JSON.parse(t,void 0)};function JL(){this.g=new im}function ZL(t,e,n){var i=n||"";try{em(t,function(o,u){var a=o;Va(o)&&(a=Wg(o)),e.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function tM(t,e){var n=new Lf;if(Pt.Image){var i=new Image;i.onload=dl(vl,n,i,"TestLoadImage: loaded",!0,e),i.onerror=dl(vl,n,i,"TestLoadImage: error",!1,e),i.onabort=dl(vl,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=dl(vl,n,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function vl(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function Ka(t){this.l=t.$b||null,this.j=t.ib||!1}Ze(Ka,Jg);Ka.prototype.g=function(){return new Bf(this.l,this.j)};Ka.prototype.i=function(t){return function(){return t}}({});function Bf(t,e){ze.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=om,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ze(Bf,ze);var om=0;at=Bf.prototype;at.open=function(t,e){if(this.readyState!=om)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ta(this)};at.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ha(this)),this.readyState=om};at.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function cT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}at.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ha(this):Ta(this),this.readyState==3&&cT(this)}};at.Ua=function(t){this.g&&(this.response=this.responseText=t,Ha(this))};at.Ta=function(t){this.g&&(this.response=t,Ha(this))};at.ha=function(){this.g&&Ha(this)};function Ha(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ta(t)}at.setRequestHeader=function(t,e){this.v.append(t,e)};at.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};at.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ta(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eM=Pt.JSON.parse;function Fe(t){ze.call(this),this.headers=new Js,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=lT,this.K=this.L=!1}Ze(Fe,ze);var lT="",nM=/^https?$/i,rM=["POST","PUT"];at=Fe.prototype;at.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Vv.g(),this.C=this.u?S_(this.u):S_(Vv),this.g.onreadystatechange=Xe(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){k_(this,u);return}t=n||"";var o=new Js(this.headers);i&&em(i,function(u,a){o.set(a,u)}),i=pL(o.T()),n=Pt.FormData&&t instanceof Pt.FormData,!(0<=N1(rM,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{dT(this),0<this.B&&((this.K=iM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xe(this.pa,this)):this.A=Xg(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){k_(this,u)}};function iM(t){return Cs&&wL()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function oM(t){return t.toLowerCase()=="content-type"}at.pa=function(){typeof Ug<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))};function k_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,fT(t),qf(t)}function fT(t){t.D||(t.D=!0,Je(t,"complete"),Je(t,"error"))}at.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Je(this,"complete"),Je(this,"abort"),qf(this))};at.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qf(this,!0)),Fe.Z.M.call(this)};at.Fa=function(){this.s||(this.F||this.v||this.l?hT(this):this.cb())};at.cb=function(){hT(this)};function hT(t){if(t.h&&typeof Ug<"u"&&(!t.C[1]||Kr(t)!=4||t.ba()!=2)){if(t.v&&Kr(t)==4)Xg(t.Fa,0,t);else if(Je(t,"readystatechange"),Kr(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.H).match(tT)[1]||null;if(!u&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;u=a.substr(0,a.length-1)}o=!nM.test(u?u.toLowerCase():"")}i=o}if(i)Je(t,"complete"),Je(t,"success");else{t.m=6;try{var l=2<Kr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",fT(t)}}finally{qf(t)}}}}function qf(t,e){if(t.g){dT(t);var n=t.g,i=t.C[0]?Ul:null;t.g=null,t.C=null,e||Je(t,"ready");try{n.onreadystatechange=i}catch{}}}function dT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Pt.clearTimeout(t.A),t.A=null)}function Kr(t){return t.g?t.g.readyState:0}at.ba=function(){try{return 2<Kr(this)?this.g.status:-1}catch{return-1}};at.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};at.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eM(e)}};function x_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case lT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}at.Da=function(){return this.m};at.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function sM(t){var e="";return qg(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function sm(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=sM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function $u(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pT(t){this.za=0,this.l=[],this.h=new Lf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=$u("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=$u("baseRetryDelayMs",5e3,t),this.$a=$u("retryDelaySeedMs",1e4,t),this.Ya=$u("forwardChannelMaxRetries",2,t),this.ra=$u("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new iT(t&&t.concurrentRequestLimit),this.Ca=new JL,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}at=pT.prototype;at.ma=8;at.G=1;function um(t){if(vT(t),t.G==3){var e=t.V++,n=Xr(t.F);we(n,"SID",t.J),we(n,"RID",e),we(n,"TYPE","terminate"),za(t,n),e=new qa(t,t.h,e,void 0),e.K=2,e.v=Uf(Xr(n)),n=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(n=Pt.navigator.sendBeacon(e.v.toString(),"")),!n&&Pt.Image&&(new Image().src=e.v,n=!0),n||(e.g=IT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$a(e)}_T(t)}at.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function $f(t){t.g&&(cm(t),t.g.cancel(),t.g=null)}function vT(t){$f(t),t.u&&(Pt.clearTimeout(t.u),t.u=null),Gl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Pt.clearTimeout(t.m),t.m=null)}function tv(t,e){t.l.push(new YL(t.Za++,e)),t.G==3&&Kf(t)}function Kf(t){oT(t.i)||t.m||(t.m=!0,Qg(t.Ha,t),t.C=0)}function uM(t,e){return sT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ua(Xe(t.Ha,t,e),bT(t,t.C)),t.C++,!0)}at.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new qa(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=x1(n),C1(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=gT(this,e,i),o=Xr(this.F),we(o,"RID",t),we(o,"CVER",22),this.D&&we(o,"X-HTTP-Session-Id",this.D),za(this,o),this.o&&n&&sm(o,this.o,n),rm(this.i,e),this.Ra&&we(o,"TYPE","init"),this.ja?(we(o,"$req",i),we(o,"SID","null"),e.$=!0,Uv(e,o,null)):Uv(e,o,i),this.G=2}}else this.G==3&&(t?C_(this,t):this.l.length==0||oT(this.i)||C_(this))};function C_(t,e){var n;e?n=e.m:n=t.V++;var i=Xr(t.F);we(i,"SID",t.J),we(i,"RID",n),we(i,"AID",t.U),za(t,i),t.o&&t.s&&sm(i,t.o,t.s),n=new qa(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=gT(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),rm(t.i,n),Uv(n,i,e)}function za(t,e){t.j&&em({},function(n,i){we(e,i,n)})}function gT(t,e,n){n=Math.min(t.l.length,n);var i=t.j?Xe(t.j.Oa,t.j,t):null;t:for(var o=t.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,v=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{ZL(v,a,"req"+d+"_")}catch{i&&i(v)}}if(l){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function mT(t){t.g||t.u||(t.Y=1,Qg(t.Ga,t),t.A=0)}function am(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ua(Xe(t.Ga,t),bT(t,t.A)),t.A++,!0)}at.Ga=function(){if(this.u=null,yT(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ua(Xe(this.bb,this),t)}};at.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wn(10),$f(this),yT(this))};function cm(t){t.B!=null&&(Pt.clearTimeout(t.B),t.B=null)}function yT(t){t.g=new qa(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=Xr(t.oa);we(e,"RID","rpc"),we(e,"SID",t.J),we(e,"CI",t.N?"0":"1"),we(e,"AID",t.U),za(t,e),we(e,"TYPE","xmlhttp"),t.o&&t.s&&sm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Uf(Xr(e)),n.s=null,n.U=!0,Y1(n,t)}at.ab=function(){this.v!=null&&(this.v=null,$f(this),am(this),wn(19))};function Gl(t){t.v!=null&&(Pt.clearTimeout(t.v),t.v=null)}function wT(t,e){var n=null;if(t.g==e){Gl(t),cm(t),t.g=null;var i=2}else if(qv(t.i,e))n=e.D,uT(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;i=Mf(),Je(i,new z1(i,n)),Kf(t)}else mT(t);else if(o=e.o,o==3||o==0&&0<t.I||!(i==1&&uM(t,e)||i==2&&am(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:vo(t,5);break;case 4:vo(t,10);break;case 3:vo(t,6);break;default:vo(t,2)}}}function bT(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function vo(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=Xe(t.jb,t);n||(n=new Ao("//www.google.com/images/cleardot.gif"),Pt.location&&Pt.location.protocol=="http"||Kl(n,"https"),Uf(n)),tM(n.toString(),i)}else wn(2);t.G=0,t.j&&t.j.va(e),_T(t),vT(t)}at.jb=function(t){t?(this.h.info("Successfully pinged google.com"),wn(2)):(this.h.info("Failed to ping google.com"),wn(1))};function _T(t){t.G=0,t.I=-1,t.j&&((aT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Bg(t.l),t.l.length=0),t.j.ua())}function ET(t,e,n){var i=qL(n);if(i.i!="")e&&Hl(i,e+"."+i.i),zl(i,i.m);else{var o=Pt.location;i=$L(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&qg(t.aa,function(u,a){we(i,a,u)}),e=t.D,n=t.sa,e&&n&&we(i,e,n),we(i,"VER",t.ma),za(t,i),i}function IT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Fe(new Ka({ib:!0})):new Fe(t.qa),e.L=t.H,e}function TT(){}at=TT.prototype;at.xa=function(){};at.wa=function(){};at.va=function(){};at.ua=function(){};at.Oa=function(){};function Wl(){if(Cs&&!(10<=Number(bL)))throw Error("Environmental error: no available transport.")}Wl.prototype.g=function(t,e){return new Yn(t,e)};function Yn(t,e){ze.call(this),this.g=new pT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Bl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Bl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new tu(this)}Ze(Yn,ze);Yn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Qg(Xe(t.hb,t,e))),wn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=ET(t,null,t.W),Kf(t)};Yn.prototype.close=function(){um(this.g)};Yn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,tv(this.g,e)}else this.v?(e={},e.__data__=Wg(t),tv(this.g,e)):tv(this.g,t)};Yn.prototype.M=function(){this.g.j=null,delete this.j,um(this.g),delete this.g,Yn.Z.M.call(this)};function ST(t){Zg.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ze(ST,Zg);function AT(){tm.call(this),this.status=1}Ze(AT,tm);function tu(t){this.g=t}Ze(tu,TT);tu.prototype.xa=function(){Je(this.g,"a")};tu.prototype.wa=function(t){Je(this.g,new ST(t))};tu.prototype.va=function(t){Je(this.g,new AT)};tu.prototype.ua=function(){Je(this.g,"b")};Wl.prototype.createWebChannel=Wl.prototype.g;Yn.prototype.send=Yn.prototype.u;Yn.prototype.open=Yn.prototype.m;Yn.prototype.close=Yn.prototype.close;Ff.NO_ERROR=0;Ff.TIMEOUT=8;Ff.HTTP_ERROR=6;G1.COMPLETE="complete";W1.EventType=Ba;Ba.OPEN="a";Ba.CLOSE="b";Ba.ERROR="c";Ba.MESSAGE="d";ze.prototype.listen=ze.prototype.N;Fe.prototype.listenOnce=Fe.prototype.O;Fe.prototype.getLastError=Fe.prototype.La;Fe.prototype.getLastErrorCode=Fe.prototype.Da;Fe.prototype.getStatus=Fe.prototype.ba;Fe.prototype.getResponseJson=Fe.prototype.Qa;Fe.prototype.getResponseText=Fe.prototype.ga;Fe.prototype.send=Fe.prototype.ea;var aM=function(){return new Wl},cM=function(){return Mf()},ev=Ff,lM=G1,fM=Ro,O_={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},hM=Ka,gl=W1,dM=Fe;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();zn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Tt(e,t),e}(Error),vr=new E1("@firebase/firestore");function $v(){return vr.logLevel}function tt(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=te.DEBUG){var i=e.map(lm);vr.debug.apply(vr,Ae(["Firestore (8.10.1): "+t],i))}}function Pe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=te.ERROR){var i=e.map(lm);vr.error.apply(vr,Ae(["Firestore (8.10.1): "+t],i))}}function Ql(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(vr.logLevel<=te.WARN){var i=e.map(lm);vr.warn.apply(vr,Ae(["Firestore (8.10.1): "+t],i))}}function lm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Pe(e),new Error(e)}function Nt(t,e){t||yt()}function it(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NT=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=pM(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function zt(t,e){return t<e?-1:t>e?1:0}function Os(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function kT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xn=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$t=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new xn(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Do(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xT(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CT=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&yt(),i===void 0?i=e.length-n:i>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),ee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(CT),vM=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yr=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.isValidIdentifier=function(n){return vM.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new G(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new G(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new G(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.emptyPath=function(){return new e([])},e}(CT),Rs=function(){function t(e){this.fields=e,e.sort(yr.comparator)}return t.prototype.covers=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Os(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),On=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return zt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();On.EMPTY_BYTE_STRING=new On("");var gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oi(t){if(Nt(!!t),typeof t=="string"){var e=0,n=gM.exec(t);if(Nt(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ds(t){return typeof t=="string"?On.fromBase64String(t):On.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function OT(t){var e=t.mapValue.fields.__previous_value__;return fm(e)?OT(e):e}function Sa(t){var e=Oi(t.mapValue.fields.__local_write_time__.timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Po(t){return t==null}function Yl(t){return t===0&&1/t==-1/0}function RT(t){return typeof t=="number"&&Number.isInteger(t)&&!Yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(ee.fromString(e))},t.fromName=function(e){return new t(ee.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&ee.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return ee.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new ee(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fm(t)?4:10:yt()}function Lr(t,e){var n=No(t);if(n!==No(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sa(t).isEqual(Sa(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Oi(i.timestampValue),a=Oi(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ds(i.bytesValue).isEqual(Ds(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=De(i.doubleValue),a=De(o.doubleValue);return u===a?Yl(u)===Yl(a):isNaN(u)&&isNaN(a)}return!1}(t,e);case 9:return Os(t.arrayValue.values||[],e.arrayValue.values||[],Lr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(R_(u)!==R_(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Lr(u[l],a[l])))return!1;return!0}(t,e);default:return yt()}}function Aa(t,e){return(t.values||[]).find(function(n){return Lr(n,e)})!==void 0}function Ps(t,e){var n=No(t),i=No(e);if(n!==i)return zt(n,i);switch(n){case 0:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(o,u){var a=De(o.integerValue||o.doubleValue),l=De(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return D_(t.timestampValue,e.timestampValue);case 4:return D_(Sa(t),Sa(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return function(o,u){var a=Ds(o),l=Ds(u);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=zt(a[f],l[f]);if(d!==0)return d}return zt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var a=zt(De(o.latitude),De(u.latitude));return a!==0?a:zt(De(o.longitude),De(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=Ps(a[f],l[f]);if(d)return d}return zt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var v=0;v<l.length&&v<d.length;++v){var g=zt(l[v],d[v]);if(g!==0)return g;var y=Ps(a[l[v]],f[d[v]]);if(y!==0)return y}return zt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw yt()}}function D_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);var n=Oi(t),i=Oi(e),o=zt(n.seconds,i.seconds);return o!==0?o:zt(n.nanos,i.nanos)}function hm(t){return Kv(t)}function Kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=Oi(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ds(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,bt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Kv(l[a]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Kv(i.fields[f])}return o+"}"}(t.mapValue):yt();var e,n}function Xl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Hv(t){return!!t&&"integerValue"in t}function dm(t){return!!t&&"arrayValue"in t}function P_(t){return!!t&&"nullValue"in t}function L_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nl(t){return!!t&&"mapValue"in t}function oa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Do(t.mapValue.fields,function(o,u){return e.mapValue.fields[o]=oa(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=oa(t.arrayValue.values[i]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $n=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,i=0;i<e.length-1;++i)if(!Nl(n=(n.mapValue.fields||{})[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=oa(n)},t.prototype.setAll=function(e){var n=this,i=yr.emptyPath(),o={},u=[];e.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=oa(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());Nl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Lr(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<e.length;++i){var o=n.mapValue.fields[e.get(i)];Nl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,i){Do(n,function(l,f){return e[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete e[a]}},t.prototype.clone=function(){return new t(oa(this.value))},t}();function DT(t){var e=[];return Do(t.fields,function(n,i){var o=new yr([n]);if(Nl(i)){var u=DT(i.mapValue).fields;if(u.length===0)e.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];e.push(o.child(f))}}else e.push(o)}),new Rs(e)}var ln=function(){function t(e,n,i,o,u){this.key=e,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,$t.min(),$n.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,$n.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,$n.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),mM=function(t,e,n,i,o,u,a){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e,n,i,o,u,a){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new mM(t,e,n,i,o,u,a)}function Ga(t){var e=it(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+hm(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Po(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Zl(e.startAt)),e.endAt&&(n+="|ub:",n+=Zl(e.endAt)),e.h=n}return e.h}function Hf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!SM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Lr(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V_(t.startAt,e.startAt)&&V_(t.endAt,e.endAt)}function Jl(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gn=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return Tt(e,t),e.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new yM(n,i,o):i==="array-contains"?new _M(n,o):i==="in"?new EM(n,o):i==="not-in"?new IM(n,o):i==="array-contains-any"?new TM(n,o):new e(n,i,o)},e.l=function(n,i,o){return i==="in"?new wM(n,o):new bM(n,o)},e.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(Ps(i,this.value)):i!==null&&No(this.value)===No(i)&&this.m(Ps(i,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return yt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),yM=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=bt.fromName(o.referenceValue),u}return Tt(e,t),e.prototype.matches=function(n){var i=bt.comparator(n.key,this.key);return this.m(i)},e}(Gn),wM=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=PT("in",i),o}return Tt(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(Gn),bM=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=PT("not-in",i),o}return Tt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(Gn);function PT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return bt.fromName(i.referenceValue)})}var _M=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return dm(i)&&Aa(i.arrayValue,this.value)},e}(Gn),EM=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Aa(this.value.arrayValue,i)},e}(Gn),IM=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return Tt(e,t),e.prototype.matches=function(n){if(Aa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Aa(this.value.arrayValue,i)},e}(Gn),TM=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!dm(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Aa(i.value.arrayValue,u)})},e}(Gn),Na=function(t,e){this.position=t,this.before=e};function Zl(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return hm(e)}).join(",")}var Ts=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function SM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function F_(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],a=t.position[o];if(i=u.field.isKeyField()?bt.comparator(bt.fromName(a.referenceValue),n.key):Ps(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function V_(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti=function(t,e,n,i,o,u,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function LT(t,e,n,i,o,u,a,l){return new ti(t,e,n,i,o,u,a,l)}function Wa(t){return new ti(t)}function kl(t){return!Po(t.limit)&&t.limitType==="F"}function tf(t){return!Po(t.limit)&&t.limitType==="L"}function pm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vm(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function gm(t){return t.collectionGroup!==null}function Ls(t){var e=it(t);if(e.p===null){e.p=[];var n=vm(e),i=pm(e);if(n!==null&&i===null)n.isKeyField()||e.p.push(new Ts(n)),e.p.push(new Ts(yr.keyField(),"asc"));else{for(var o=!1,u=0,a=e.explicitOrderBy;u<a.length;u++){var l=a[u];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ts(yr.keyField(),f))}}}return e.p}function Mr(t){var e=it(t);if(!e.T)if(e.limitType==="F")e.T=M_(e.path,e.collectionGroup,Ls(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=Ls(e);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new Ts(u.field,a))}var l=e.endAt?new Na(e.endAt.position,!e.endAt.before):null,f=e.startAt?new Na(e.startAt.position,!e.startAt.before):null;e.T=M_(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.T}function MT(t,e,n){return new ti(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qa(t,e){return Hf(Mr(t),Mr(e))&&t.limitType===e.limitType}function FT(t){return Ga(Mr(t))+"|lt:"+t.limitType}function zv(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+hm(o.value);var o}).join(", ")+"]"),Po(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+Zl(e.startAt)),e.endAt&&(n+=", endAt: "+Zl(e.endAt)),"Target("+n+")"}(Mr(t))+"; limitType="+t.limitType+")"}function Ya(t,e){return e.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):bt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!F_(n.startAt,Ls(n),i))&&(!n.endAt||!F_(n.endAt,Ls(n),i))}(t,e)}function VT(t){return function(e,n){for(var i=!1,o=0,u=Ls(t);o<u.length;o++){var a=u[o],l=AM(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function AM(t,e,n){var i=t.field.isKeyField()?bt.comparator(e.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?Ps(l,f):yt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(e)?"-0":e}}function UT(t){return{integerValue:""+t}}function BT(t,e){return RT(e)?UT(e):jT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zf=function(){this._=void 0};function NM(t,e,n){return t instanceof Ms?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof ko?$T(t,e):t instanceof xo?KT(t,e):function(i,o){var u=qT(i,o),a=j_(u)+j_(i.A);return Hv(u)&&Hv(i.A)?UT(a):jT(i.R,a)}(t,e)}function kM(t,e,n){return t instanceof ko?$T(t,e):t instanceof xo?KT(t,e):n}function qT(t,e){return t instanceof Fs?Hv(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var Ms=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e}(zf),ko=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return Tt(e,t),e}(zf);function $T(t,e){for(var n=HT(e),i=function(a){n.some(function(l){return Lr(l,a)})||n.push(a)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var xo=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return Tt(e,t),e}(zf);function KT(t,e){for(var n=HT(e),i=function(a){n=n.filter(function(l){return!Lr(l,a)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Fs=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).R=n,o.A=i,o}return Tt(e,t),e}(zf);function j_(t){return De(t.integerValue||t.doubleValue)}function HT(t){return dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xa=function(t,e){this.field=t,this.transform=e},xM=function(t,e){this.version=t,this.transformResults=e},an=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function xl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Gf=function(){};function CM(t,e,n){t instanceof Ja?function(i,o,u){var a=i.value.clone(),l=q_(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Mi?function(i,o,u){if(xl(i.precondition,o)){var a=q_(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(zT(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Gv(t,e,n){t instanceof Ja?function(i,o,u){if(xl(i.precondition,o)){var a=i.value.clone(),l=$_(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(B_(o),a).setHasLocalMutations()}}(t,e,n):t instanceof Mi?function(i,o,u){if(xl(i.precondition,o)){var a=$_(i.fieldTransforms,u,o),l=o.data;l.setAll(zT(i)),l.setAll(a),o.convertToFoundDocument(B_(o),l).setHasLocalMutations()}}(t,e,n):function(i,o){xl(i.precondition,o)&&o.convertToNoDocument($t.min())}(t,e)}function OM(t,e){for(var n=null,i=0,o=t.fieldTransforms;i<o.length;i++){var u=o[i],a=e.data.field(u.field),l=qT(u.transform,a||null);l!=null&&(n==null&&(n=$n.empty()),n.set(u.field,l))}return n||null}function U_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Os(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof ko&&d instanceof ko||f instanceof xo&&d instanceof xo?Os(f.elements,d.elements,Lr):f instanceof Fs&&d instanceof Fs?Lr(f.A,d.A):f instanceof Ms&&d instanceof Ms}(a.transform,l.transform)}(o,u)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function B_(t){return t.isFoundDocument()?t.version:$t.min()}var Ja=function(t){function e(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Tt(e,t),e}(Gf),Mi=function(t){function e(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Tt(e,t),e}(Gf);function zT(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function q_(t,e,n){var i=new Map;Nt(t.length===n.length);for(var o=0;o<n.length;o++){var u=t[o],a=u.transform,l=e.data.field(u.field);i.set(u.field,kM(a,l,n[o]))}return i}function $_(t,e,n){for(var i=new Map,o=0,u=t;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,NM(l,f,e))}return i}var Re,Yt,Za=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Tt(e,t),e}(Gf),mm=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Tt(e,t),e}(Gf),RM=function(t){this.count=t};function GT(t){switch(t){case D.OK:return yt();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return yt()}}function WT(t){if(t===void 0)return Pe("GRPC error has no .code"),D.UNKNOWN;switch(t){case Re.OK:return D.OK;case Re.CANCELLED:return D.CANCELLED;case Re.UNKNOWN:return D.UNKNOWN;case Re.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Re.INTERNAL:return D.INTERNAL;case Re.UNAVAILABLE:return D.UNAVAILABLE;case Re.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Re.NOT_FOUND:return D.NOT_FOUND;case Re.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Re.ABORTED:return D.ABORTED;case Re.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Re.DATA_LOSS:return D.DATA_LOSS;default:return yt()}}(Yt=Re||(Re={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fn=function(){function t(e,n){this.comparator=e,this.root=n||wi.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wi.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wi.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new ml(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new ml(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new ml(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new ml(this.root,e,this.comparator,!0)},t}(),ml=function(){function t(e,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),wi=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i??t.RED,this.left=o??t.EMPTY,this.right=u??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();var e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)},t}();wi.EMPTY=null,wi.RED=!0,wi.BLACK=!1,wi.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw yt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.insert=function(e,n,i){return new wi(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe=function(){function t(e){this.comparator=e,this.data=new fn(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new K_(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new K_(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),K_=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),DM=new fn(bt.comparator);function gr(){return DM}var PM=new fn(bt.comparator);function Wv(){return PM}var LM=new fn(bt.comparator);function MM(){return LM}var FM=new qe(bt.comparator);function fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=FM,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var VM=new qe(zt);function Wf(){return VM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ym=function(){function t(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,wm.createSynthesizedTargetChangeForCurrentChange(e,n)),new t($t.min(),i,Wf(),gr(),fe())},t}(),wm=function(){function t(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(On.EMPTY_BYTE_STRING,n,fe(),fe(),fe())},t}(),Cl=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},QT=function(t,e){this.targetId=t,this.V=e},YT=function(t,e,n,i){n===void 0&&(n=On.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},H_=function(){function t(){this.S=0,this.D=G_(),this.C=On.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=fe(),n=fe(),i=fe();return this.D.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:yt()}}),new wm(this.C,this.N,e,n,i)},t.prototype.L=function(){this.k=!1,this.D=G_()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),jM=function(){function t(e){this.W=e,this.G=new Map,this.H=gr(),this.J=z_(),this.Y=new qe(zt)}return t.prototype.X=function(e){for(var n=0,i=e.v;n<i.length;n++){var o=i[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var u=0,a=e.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(i){var o=n.nt(i);switch(e.state){case 0:n.st(i)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(e.resumeToken));break;default:yt()}})},t.prototype.forEachTarget=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,i=e.V.count,o=this.ot(n);if(o){var u=o.target;if(Jl(u))if(i===0){var a=new bt(u.path);this.tt(n,a,ln.newNoDocument(a,$t.min()))}else Nt(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&Jl(f.target)){var d=new bt(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,ln.newNoDocument(d,e))}a.$&&(i.set(l,a.M()),a.L())}});var o=fe();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var v=n.ot(d);return!v||v.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new ym(e,i,this.Y,this.H,o);return this.H=gr(),this.J=z_(),this.Y=new qe(zt),u},t.prototype.Z=function(e,n){if(this.st(e)){var i=this.at(e,n.key)?2:0;this.nt(e).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,i){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),i&&(this.H=this.H.insert(n,i))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new H_,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new qe(zt),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||tt("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new H_),this.W.getRemoteKeysForTarget(e).forEach(function(i){n.tt(e,i,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function z_(){return new fn(bt.comparator)}function G_(){return new fn(bt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UM={asc:"ASCENDING",desc:"DESCENDING"},BM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qM=function(t,e){this.databaseId=t,this.I=e};function ka(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(t,e){return t.I?e.toBase64():e.toUint8Array()}function $M(t,e){return ka(t,e.toTimestamp())}function bn(t){return Nt(!!t),$t.fromTimestamp(function(e){var n=Oi(e);return new xn(n.seconds,n.nanos)}(t))}function bm(t,e){return function(n){return new ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function JT(t){var e=ee.fromString(t);return Nt(oS(e)),e}function xa(t,e){return bm(t.databaseId,e.path)}function zr(t,e){var n=JT(e);if(n.get(1)!==t.databaseId.projectId)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bt(tS(n))}function Qv(t,e){return bm(t.databaseId,e)}function ZT(t){var e=JT(t);return e.length===4?ee.emptyPath():tS(e)}function Ca(t){return new ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tS(t){return Nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function W_(t,e,n){return{name:xa(t,e),fields:n.value.mapValue.fields}}function KM(t,e,n){var i=zr(t,e.name),o=bn(e.updateTime),u=new $n({mapValue:{fields:e.fields}}),a=ln.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ef(t,e){var n;if(e instanceof Ja)n={update:W_(t,e.key,e.value)};else if(e instanceof Za)n={delete:xa(t,e.key)};else if(e instanceof Mi)n={update:W_(t,e.key,e.data),updateMask:QM(e.fieldMask)};else{if(!(e instanceof mm))return yt();n={verify:xa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof Ms)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ko)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof xo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Fs)return{fieldPath:u.field.canonicalString(),increment:a.A};throw yt()}(0,i)})),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:$M(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(t,e.precondition)),n}function Q_(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?an.updateTime(bn(d.updateTime)):d.exists!==void 0?an.exists(d.exists):an.none()}(e.currentDocument):an.none(),i=e.updateTransforms?e.updateTransforms.map(function(d){return function(v,g){var y=null;if("setToServerValue"in g)Nt(g.setToServerValue==="REQUEST_TIME"),y=new Ms;else if("appendMissingElements"in g){var b=g.appendMissingElements.values||[];y=new ko(b)}else if("removeAllFromArray"in g){var _=g.removeAllFromArray.values||[];y=new xo(_)}else"increment"in g?y=new Fs(v,g.increment):yt();var S=yr.fromServerFormat(g.fieldPath);return new Xa(S,y)}(t,d)}):[];if(e.update){e.update.name;var o=zr(t,e.update.name),u=new $n({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var v=d.fieldPaths||[];return new Rs(v.map(function(g){return yr.fromServerFormat(g)}))}(e.updateMask);return new Mi(o,u,a,n,i)}return new Ja(o,u,n,i)}if(e.delete){var l=zr(t,e.delete);return new Za(l,n)}if(e.verify){var f=zr(t,e.verify);return new mm(f,n)}return yt()}function eS(t,e){return{documents:[Qv(t,e.path)]}}function nS(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=Qv(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Qv(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(v){if(v.op==="=="){if(L_(v.value))return{unaryFilter:{field:fs(v.field),op:"IS_NAN"}};if(P_(v.value))return{unaryFilter:{field:fs(v.field),op:"IS_NULL"}}}else if(v.op==="!="){if(L_(v.value))return{unaryFilter:{field:fs(v.field),op:"IS_NOT_NAN"}};if(P_(v.value))return{unaryFilter:{field:fs(v.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fs(v.field),op:zM(v.op),value:v.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:fs(d.field),direction:HM(d.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Po(f)?f:{value:f}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Y_(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Y_(e.endAt)),n}function rS(t){var e=ZT(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Nt(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var a=[];n.where&&(a=iS(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(g){return function(y){return new Ts(ws(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(g)}));var f=null;n.limit&&(f=function(g){var y;return Po(y=typeof g=="object"?g.value:g)?null:y}(n.limit));var d=null;n.startAt&&(d=X_(n.startAt));var v=null;return n.endAt&&(v=X_(n.endAt)),LT(e,o,l,a,f,"F",d,v)}function iS(t){return t?t.unaryFilter!==void 0?[WM(t)]:t.fieldFilter!==void 0?[GM(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return iS(e)}).reduce(function(e,n){return e.concat(n)}):yt():[]}function Y_(t){return{before:t.before,values:t.position}}function X_(t){var e=!!t.before,n=t.values||[];return new Na(n,e)}function HM(t){return UM[t]}function zM(t){return BM[t]}function fs(t){return{fieldPath:t.canonicalString()}}function ws(t){return yr.fromServerFormat(t.fieldPath)}function GM(t){return Gn.create(ws(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value)}function WM(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ws(t.unaryFilter.field);return Gn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ws(t.unaryFilter.field);return Gn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=ws(t.unaryFilter.field);return Gn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=ws(t.unaryFilter.field);return Gn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return yt()}}function QM(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function oS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=J_(e)),e=YM(t.get(n),e);return J_(e)}function YM(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function J_(t){return t+""}function Hr(t){var e=t.length;if(Nt(e>=2),e===2)return Nt(t.charAt(0)===""&&t.charAt(1)===""),ee.emptyPath();for(var n=e-2,i=[],o="",u=0;u<e;){var a=t.indexOf("",u);switch((a<0||a>n)&&yt(),t.charAt(a+1)){case"":var l=t.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,a),o+="\0";break;case"":o+=t.substring(u,a+1);break;default:yt()}u=a+2}return new ee(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XM=function(t,e){this.seconds=t,this.nanoseconds=e},jn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};jn.store="owner",jn.key="owner";var ki=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ki.store="mutationQueues",ki.keyPath="userId";var pe=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};pe.store="mutations",pe.keyPath="batchId",pe.userMutationsIndex="userMutationsIndex",pe.userMutationsKeyPath=["userId","batchId"];var rn=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,mr(n)]},t.key=function(e,n,i){return[e,mr(n),i]},t}();rn.store="documentMutations",rn.PLACEHOLDER=new rn;var JM=function(t,e){this.path=t,this.readTime=e},ZM=function(t,e){this.path=t,this.version=e},Se=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Se.store="remoteDocuments",Se.readTimeIndex="readTimeIndex",Se.readTimeIndexPath="readTime",Se.collectionReadTimeIndex="collectionReadTimeIndex",Se.collectionReadTimeIndexPath=["parentPath","readTime"];var Rr=function(t){this.byteSize=t};Rr.store="remoteDocumentGlobal",Rr.key="remoteDocumentGlobalKey";var kn=function(t,e,n,i,o,u,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};kn.store="targets",kn.keyPath="targetId",kn.queryTargetsIndexName="queryTargetsIndex",kn.queryTargetsKeyPath=["canonicalId","targetId"];var Ye=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ye.store="targetDocuments",Ye.keyPath=["targetId","path"],Ye.documentTargetsIndex="documentTargetsIndex",Ye.documentTargetsKeyPath=["path","targetId"];var Bn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Bn.key="targetGlobalKey",Bn.store="targetGlobal";var bo=function(t,e){this.collectionId=t,this.parent=e};bo.store="collectionParents",bo.keyPath=["collectionId","parent"];var Gr=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Gr.store="clientMetadata",Gr.keyPath="clientId";var Vs=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Vs.store="bundles",Vs.keyPath="bundleId";var js=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};js.store="namedQueries",js.keyPath="name";var tF=Ae(Ae([],Ae(Ae([],Ae(Ae([],Ae(Ae([],[ki.store,pe.store,rn.store,Se.store,kn.store,jn.store,Bn.store,Ye.store]),[Gr.store])),[Rr.store])),[bo.store])),[Vs.store,js.store]),sS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Rn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},X=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,u){i.nextCallback=function(a){i.wrapSuccess(e,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.waitFor=function(e){return new t(function(n,i){var o=0,u=0,a=!1;e.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),i=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},t}(),aS=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Rn,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new sa(e,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=_m(o.target.error);i.ft.reject(new sa(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new sa(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new nF(n)},t}(),Us=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,t._t(To())===12.2&&Pe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return tt("SimpleDb","Removing database:",e),ho(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=To(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(tt("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new sa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new G(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new sa(e,d))},l.onupgradeneeded=function(f){tt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){tt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return H(this,void 0,void 0,function(){var u,a,l,f,d;return $(this,function(v){switch(v.label){case 0:u=n==="readonly",a=0,l=function(){var g,y,b,_,S;return $(this,function(N){switch(N.label){case 0:++a,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,f.At(e)];case 2:return f.db=N.sent(),g=aS.open(f.db,e,u?"readonly":"readwrite",i),y=o(g).catch(function(O){return g.abort(O),X.reject(O)}).toPromise(),b={},y.catch(function(){}),[4,g.dt];case 3:return[2,(b.value=(N.sent(),y),b)];case 4:return _=N.sent(),S=_.name!=="FirebaseError"&&a<3,tt("SimpleDb","Transaction failed with error:",_.message,"Retrying:",S),f.close(),S?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,v.label=1;case 1:return[5,l()];case 2:if(typeof(d=v.sent())=="object")return[2,d.value];v.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),eF=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return ho(this.Pt.delete())},t}(),sa=function(t){function e(n,i){var o=this;return(o=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Tt(e,t),e}(G);function Lo(t){return t.name==="IndexedDbTransactionError"}var nF=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(tt("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ho(i)},t.prototype.add=function(e){return tt("SimpleDb","ADD",this.store.name,e,e),ho(this.store.add(e))},t.prototype.get=function(e){var n=this;return ho(this.store.get(e)).next(function(i){return i===void 0&&(i=null),tt("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return tt("SimpleDb","DELETE",this.store.name,e),ho(this.store.delete(e))},t.prototype.count=function(){return tt("SimpleDb","COUNT",this.store.name),ho(this.store.count())},t.prototype.Nt=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},t.prototype.kt=function(e,n){tt("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},t.prototype.$t=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new X(function(i,o){n.onerror=function(u){var a=_m(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},t.prototype.xt=function(e,n){var i=[];return new X(function(o,u){e.onerror=function(a){u(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var f=new eF(l),d=n(l.primaryKey,l.value,f);if(d instanceof X){var v=d.catch(function(g){return f.done(),X.reject(g)});i.push(v)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return X.waitFor(i)})},t.prototype.options=function(e,n){var i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.Ft?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function ho(t){return new X(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=_m(i.target.error);n(o)}})}var Z_=!1;function _m(t){var e=Us._t(To());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new G("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Z_||(Z_=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tE=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Tt(e,t),e}(uS);function Dn(t,e){var n=it(t);return Us.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Em=function(){function t(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(e.key)&&CM(u,e,i[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(e.key)&&Gv(a,e,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(e.key)&&Gv(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(i){var o=e.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument($t.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},fe())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Os(this.mutations,e.mutations,function(n,i){return U_(n,i)})&&Os(this.baseMutations,e.baseMutations,function(n,i){return U_(n,i)})},t}(),rF=function(){function t(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return t.from=function(e,n,i){Nt(e.mutations.length===i.length);for(var o=MM(),u=e.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new t(e,n,i,o)},t}(),Qf=function(){function t(e,n,i,o,u,a,l){u===void 0&&(u=$t.min()),a===void 0&&(a=$t.min()),l===void 0&&(l=On.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),cS=function(t){this.Lt=t};function Yv(t,e){if(e.document)return KM(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bt.fromSegments(e.noDocument.path),i=qs(e.noDocument.readTime),o=ln.newNoDocument(n,i);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var u=bt.fromSegments(e.unknownDocument.path);return i=qs(e.unknownDocument.version),ln.newUnknownDocument(u,i)}return yt()}function eE(t,e,n){var i=Im(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u=function(g,y){return{name:xa(g,y.key),fields:y.data.value.mapValue.fields,updateTime:ka(g,y.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Se(null,null,u,a,i,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),f=Bs(e.version);return a=e.hasCommittedMutations,new Se(null,new JM(l,f),null,a,i,o)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),v=Bs(e.version);return new Se(new ZM(d,v),null,null,!0,i,o)}return yt()}function Im(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function lS(t){var e=new xn(t[0],t[1]);return $t.fromTimestamp(e)}function Bs(t){var e=t.toTimestamp();return new XM(e.seconds,e.nanoseconds)}function qs(t){var e=new xn(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)}function ps(t,e){for(var n=(e.baseMutations||[]).map(function(f){return Q_(t.Lt,f)}),i=0;i<e.mutations.length-1;++i){var o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){var u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map(function(f){return Q_(t.Lt,f)}),l=xn.fromMillis(e.localWriteTimeMs);return new Em(e.batchId,l,n,a)}function Xu(t){var e,n,i=qs(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?qs(t.lastLimboFreeSnapshotVersion):$t.min();return t.query.documents!==void 0?(Nt((n=t.query).documents.length===1),e=Mr(Wa(ZT(n.documents[0])))):e=function(u){return Mr(rS(u))}(t.query),new Qf(e,t.targetId,0,t.lastListenSequenceNumber,i,o,On.fromBase64String(t.resumeToken))}function fS(t,e){var n,i=Bs(e.snapshotVersion),o=Bs(e.lastLimboFreeSnapshotVersion);n=Jl(e.target)?eS(t.Lt,e.target):nS(t.Lt,e.target);var u=e.resumeToken.toBase64();return new kn(e.targetId,Ga(e.target),i,u,e.sequenceNumber,o,n)}function hS(t){var e=rS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?MT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iF=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return nE(e).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:qs(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return nE(e).put({bundleId:(i=n).id,createTime:Bs(bn(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(e,n){return rE(e).get(n).next(function(i){if(i)return{name:(o=i).name,query:hS(o.bundledQuery),readTime:qs(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return rE(e).put(function(i){return{name:i.name,readTime:Bs(bn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},t}();function nE(t){return Dn(t,Vs.store)}function rE(t){return Dn(t,js.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oF=function(){function t(){this.Bt=new Tm}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),X.resolve()},t.prototype.getCollectionParents=function(e,n){return X.resolve(this.Bt.getEntries(n))},t}(),Tm=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new qe(ee.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new qe(ee.comparator)).toArray()},t}(),sF=function(){function t(){this.qt=new Tm}return t.prototype.addToCollectionParentIndex=function(e,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:mr(u)};return iE(e).put(a)}return X.resolve()},t.prototype.getCollectionParents=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[kT(n),""],!1,!0);return iE(e).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(Hr(f.parent))}return i})},t}();function iE(t){return Dn(t,bo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kr=function(){function t(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(t,e,n){var i=t.store(pe.store),o=t.store(rn.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,S,N){return l++,N.delete()});u.push(f.next(function(){Nt(l===1)}));for(var d=[],v=0,g=n.mutations;v<g.length;v++){var y=g[v],b=rn.key(e,y.key.path,n.batchId);u.push(o.delete(b)),d.push(y.key)}return X.waitFor(u).next(function(){return d})}function nf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw yt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);var uF=function(){function t(e,n,i,o){this.userId=e,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,i,o){return Nt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,i,o)},t.prototype.checkEmpty=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fi(e).$t({index:pe.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,i,o){var u=this,a=vs(e),l=fi(e);return l.add({}).next(function(f){Nt(typeof f=="number");for(var d=new Em(f,n,i,o),v=function(O,P,j){var q=j.baseMutations.map(function(V){return ef(O.Lt,V)}),nt=j.mutations.map(function(V){return ef(O.Lt,V)});return new pe(P,j.batchId,j.localWriteTime.toMillis(),q,nt)}(u.R,u.userId,d),g=[],y=new qe(function(O,P){return zt(O.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var S=_[b],N=rn.key(u.userId,S.key.path,f);y=y.add(S.key.path.popLast()),g.push(l.put(v)),g.push(a.put(N,rn.PLACEHOLDER))}return y.forEach(function(O){g.push(u.Ut.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),X.waitFor(g).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var i=this;return fi(e).get(n).next(function(o){return o?(Nt(o.userId===i.userId),ps(i.R,o)):null})},t.prototype.jt=function(e,n){var i=this;return this.Kt[n]?X.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return fi(e).$t({index:pe.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Nt(f.batchId>=o),a=ps(i.R,f)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return fi(e).$t({index:pe.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fi(e).Nt(pe.userMutationsIndex,i).next(function(o){return o.map(function(u){return ps(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=rn.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return vs(e).$t({range:u},function(l,f,d){var v=l[0],g=l[1],y=l[2],b=Hr(g);if(v===i.userId&&n.path.isEqual(b))return fi(e).get(y).next(function(_){if(!_)throw yt();Nt(_.userId===i.userId),a.push(ps(i.R,_))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new qe(zt),u=[];return n.forEach(function(a){var l=rn.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=vs(e).$t({range:f},function(v,g,y){var b=v[0],_=v[1],S=v[2],N=Hr(_);b===i.userId&&a.path.isEqual(N)?o=o.add(S):y.done()});u.push(d)}),X.waitFor(u).next(function(){return i.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=this,o=n.path,u=o.length+1,a=rn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new qe(zt);return vs(e).$t({range:l},function(d,v,g){var y=d[0],b=d[1],_=d[2],S=Hr(b);y===i.userId&&o.isPrefixOf(S)?S.length===u&&(f=f.add(_)):g.done()}).next(function(){return i.Wt(e,f)})},t.prototype.Wt=function(e,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(fi(e).get(a).next(function(l){if(l===null)throw yt();Nt(l.userId===i.userId),o.push(ps(i.R,l))}))}),X.waitFor(u).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var i=this;return dS(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){i.Gt(n.batchId)}),X.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(i){if(!i)return X.resolve();var o=IDBKeyRange.lowerBound(rn.prefixForUser(n.userId)),u=[];return vs(e).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=Hr(a[1]);u.push(d)}else f.done()}).next(function(){Nt(u.length===0)})})},t.prototype.containsKey=function(e,n){return pS(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return vS(e).get(this.userId).next(function(i){return i||new ki(n.userId,-1,"")})},t}();function pS(t,e,n){var i=rn.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return vs(t).$t({range:u,Ft:!0},function(l,f,d){var v=l[0],g=l[1];l[2],v===e&&g===o&&(a=!0),d.done()}).next(function(){return a})}function fi(t){return Dn(t,pe.store)}function vs(t){return Dn(t,rn.store)}function vS(t){return Dn(t,ki.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),aF=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(i){var o=new rf(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(e,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return $t.fromTimestamp(new xn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,i){var o=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var i=this;return this.te(e,n).next(function(){return i.Xt(e).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var i=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return hs(e).delete(n.targetId)}).next(function(){return i.Xt(e)}).next(function(o){return Nt(o.targetCount>0),o.targetCount-=1,i.Zt(e,o)})},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return hs(e).$t(function(l,f){var d=Xu(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(e,d)))}).next(function(){return X.waitFor(a)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return hs(e).$t(function(i,o){var u=Xu(o);n(u)})},t.prototype.Xt=function(e){return sE(e).get(Bn.key).next(function(n){return Nt(n!==null),n})},t.prototype.Zt=function(e,n){return sE(e).put(Bn.key,n)},t.prototype.te=function(e,n){return hs(e).put(fS(this.R,n))},t.prototype.ee=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var i=Ga(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return hs(e).$t({range:o,index:kn.queryTargetsIndexName},function(a,l,f){var d=Xu(l);Hf(n,d.target)&&(u=d,f.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,i){var o=this,u=[],a=bi(e);return n.forEach(function(l){var f=mr(l.path);u.push(a.put(new Ye(i,f))),u.push(o.referenceDelegate.addReference(e,i,l))}),X.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,i){var o=this,u=bi(e);return X.forEach(n,function(a){var l=mr(a.path);return X.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(e,i,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var i=bi(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=bi(e),u=fe();return o.$t({range:i,Ft:!0},function(a,l,f){var d=Hr(a[1]),v=new bt(d);u=u.add(v)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var i=mr(n.path),o=IDBKeyRange.bound([i],[kT(i)],!1,!0),u=0;return bi(e).$t({index:Ye.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return hs(e).get(n).next(function(i){return i?Xu(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){return Dn(t,kn.store)}function sE(t){return Dn(t,Bn.store)}function bi(t){return Dn(t,Ye.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return H(this,void 0,void 0,function(){return $(this,function(e){if(t.code!==D.FAILED_PRECONDITION||t.message!==sS)throw t;return tt("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],a=zt(n,o);return a===0?zt(i,u):a}var cF=function(){function t(e){this.ne=e,this.buffer=new qe(uE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();uE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),lF=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,i=this.oe?3e5:6e4;tt("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return Lo(o=u.sent())?(tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Mo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),fF=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.nthSequenceNumber=function(e,n){var i=this;if(n===0)return X.resolve(zn.o);var o=new cF(n);return this.ae.forEachTarget(e,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(e,function(u){return o.re(u)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,i){return this.ae.removeTargets(e,n,i)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(tt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(oE)):this.getCacheSize(e).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(tt("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),oE):i.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var i,o,u,a,l,f,d,v=this,g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(y){return y>v.params.maximumSequenceNumbersToCollect?(tt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+v.params.maximumSequenceNumbersToCollect+" from "+y),o=v.params.maximumSequenceNumbersToCollect):o=y,a=Date.now(),v.nthSequenceNumber(e,o)}).next(function(y){return i=y,l=Date.now(),v.removeTargets(e,i,n)}).next(function(y){return u=y,f=Date.now(),v.removeOrphanedDocuments(e,i)}).next(function(y){return d=Date.now(),$v()<=te.DEBUG&&tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-g)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+y+" documents in "+(d-f)+`ms
Total Duration: `+(d-g)+"ms"),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:y})})},t}(),hF=function(){function t(e,n){this.db=e,this.garbageCollector=function(i,o){return new fF(i,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(i){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(i,o){return n(o)})},t.prototype.addReference=function(e,n,i){return yl(e,i)},t.prototype.removeReference=function(e,n,i){return yl(e,i)},t.prototype.removeTargets=function(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)},t.prototype.markPotentiallyOrphaned=function(e,n){return yl(e,n)},t.prototype._e=function(e,n){return function(i,o){var u=!1;return vS(i).Ot(function(a){return pS(i,a,o).next(function(l){return l&&(u=!0),X.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(e,function(l,f){if(f<=n){var d=i._e(e,l).next(function(v){if(!v)return a++,o.getEntry(e,l).next(function(){return o.removeEntry(l),bi(e).delete([0,mr(l.path)])})});u.push(d)}}).next(function(){return X.waitFor(u)}).next(function(){return o.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},t.prototype.updateLimboDocument=function(e,n){return yl(e,n)},t.prototype.we=function(e,n){var i,o=bi(e),u=zn.o;return o.$t({index:Ye.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,v=l.sequenceNumber;f===0?(u!==zn.o&&n(new bt(Hr(i)),u),u=v,i=d):u=zn.o}).next(function(){u!==zn.o&&n(new bt(Hr(i)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function yl(t,e){return bi(t).put(function(n,i){return new Ye(0,mr(n.path),i)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eu=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.inner[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){Do(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];e(l,f)}})},t.prototype.isEmpty=function(){return xT(this.inner)},t}(),gS=function(){function t(){this.changes=new eu(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:$t.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:ln.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?X.resolve(i.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),dF=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,i){return gi(e).put(wl(n),i)},t.prototype.removeEntry=function(e,n){var i=gi(e),o=wl(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.me(e,o)})},t.prototype.getEntry=function(e,n){var i=this;return gi(e).get(wl(n)).next(function(o){return i.ye(n,o)})},t.prototype.ge=function(e,n){var i=this;return gi(e).get(wl(n)).next(function(o){return{document:i.ye(n,o),size:nf(o)}})},t.prototype.getEntries=function(e,n){var i=this,o=gr();return this.pe(e,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var i=this,o=gr(),u=new fn(bt.comparator);return this.pe(e,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,nf(l))}).next(function(){return{documents:o,Te:u}})},t.prototype.pe=function(e,n,i){if(n.isEmpty())return X.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return gi(e).$t({range:o},function(l,f,d){for(var v=bt.fromSegments(l);a&&bt.comparator(a,v)<0;)i(a,null),a=u.getNext();a&&a.isEqual(v)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){var o=this,u=gr(),a=n.path.length+1,l={};if(i.isEqual($t.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),v=Im(i);l.range=IDBKeyRange.lowerBound([d,v],!0),l.index=Se.collectionReadTimeIndex}return gi(e).$t(l,function(g,y,b){if(g.length===a){var _=Yv(o.R,y);n.path.isPrefixOf(_.key.path)?Ya(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new pF(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return aE(e).get(Rr.key).next(function(n){return Nt(!!n),n})},t.prototype.me=function(e,n){return aE(e).put(Rr.key,n)},t.prototype.ye=function(e,n){if(n){var i=Yv(this.R,n);if(!i.isNoDocument()||!i.version.isEqual($t.min()))return i}return ln.newInvalidDocument(e)},t}(),pF=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new eu(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Tt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new qe(function(l,f){return zt(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var v=eE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var g=nf(v);u+=g-d,o.push(i.Ie.addEntry(n,l,v))}else if(u-=d,i.trackRemovals){var y=eE(i.Ie.R,ln.newNoDocument(l,$t.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,y))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),X.waitFor(o)},e.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},e.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},e}(gS);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t){return Dn(t,Rr.store)}function gi(t){return Dn(t,Se.store)}function wl(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vF=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,i,o){var u=this;Nt(i<o&&i>=0&&o<=11);var a=new aS("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(jn.store)}(e),function(f){f.createObjectStore(ki.store,{keyPath:ki.keyPath}),f.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0}),f.createObjectStore(rn.store)}(e),cE(e),function(f){f.createObjectStore(Se.store)}(e));var l=X.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Ye.store),f.deleteObjectStore(kn.store),f.deleteObjectStore(Bn.store)}(e),cE(e)),l=l.next(function(){return function(f){var d=f.store(Bn.store),v=new Bn(0,0,$t.min().toTimestamp(),0);return d.put(Bn.key,v)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(pe.store).Nt().next(function(v){f.deleteObjectStore(pe.store),f.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0});var g=d.store(pe.store),y=v.map(function(b){return g.put(b)});return X.waitFor(y)})}(e,a)})),l=l.next(function(){(function(f){f.createObjectStore(Gr.store,{keyPath:Gr.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Rr.store)}(e),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(e,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var d=f.objectStore(Se.store);d.createIndex(Se.readTimeIndex,Se.readTimeIndexPath,{unique:!1}),d.createIndex(Se.collectionReadTimeIndex,Se.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(Vs.store,{keyPath:Vs.keyPath})})(e),function(f){f.createObjectStore(js.store,{keyPath:js.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(Se.store).$t(function(i,o){n+=nf(o)}).next(function(){var i=new Rr(n);return e.store(Rr.store).put(Rr.key,i)})},t.prototype.Re=function(e){var n=this,i=e.store(ki.store),o=e.store(pe.store);return i.Nt().next(function(u){return X.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(pe.userMutationsIndex,l).next(function(f){return X.forEach(f,function(d){Nt(d.userId===a.userId);var v=ps(n.R,d);return dS(e,a.userId,v).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Ye.store),i=e.store(Se.store);return e.store(Bn.store).get(Bn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new ee(a),d=function(v){return[0,mr(v)]}(f);u.push(n.get(d).next(function(v){return v?X.resolve():function(g){return n.put(new Ye(0,mr(g),o.highestListenSequenceNumber))}(f)}))}).next(function(){return X.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(bo.store,{keyPath:bo.keyPath});var i=n.store(bo.store),o=new Tm,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:mr(f)})}};return n.store(Se.store).$t({Ft:!0},function(a,l){var f=new ee(a);return u(f.popLast())}).next(function(){return n.store(rn.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=Hr(f);return u(d.popLast())})})},t.prototype.Ve=function(e){var n=this,i=e.store(kn.store);return i.$t(function(o,u){var a=Xu(u),l=fS(n.R,a);return i.put(l)})},t}();function cE(t){t.createObjectStore(Ye.store,{keyPath:Ye.keyPath}).createIndex(Ye.documentTargetsIndex,Ye.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(kn.store,{keyPath:kn.keyPath}).createIndex(kn.queryTargetsIndexName,kn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Bn.store)}var nv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gF=function(){function t(e,n,i,o,u,a,l,f,d,v){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=v,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(g){return Promise.resolve()},!t.yt())throw new G(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hF(this,o),this.Le=n+"main",this.R=new cS(f),this.Be=new Us(this.Le,11,new vF(this.R)),this.qe=new aF(this.referenceDelegate,this.R),this.Ut=new sF,this.Ue=function(g,y){return new dF(g,y)}(this.R,this.Ut),this.Ke=new iF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,v===!1&&Pe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,nv);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new zn(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return bl(n).put(new Gr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(i){i||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(i){return e.isPrimary&&!i?e.Xe(n).next(function(){return!1}):!!i&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(Lo(n))return tt("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Ku(e).get(jn.key).next(function(i){return X.resolve(n.tn(i))})},t.prototype.en=function(e){return bl(e).delete(this.clientId)},t.prototype.nn=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u=this;return $(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Dn(l,Gr.store);return f.Nt().next(function(d){var v=u.rn(d,18e5),g=d.filter(function(y){return v.indexOf(y)===-1});return X.forEach(g,function(y){return f.delete(y.clientId)}).next(function(){return g})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,i=e;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?X.resolve(!0):Ku(e).get(jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new G(D.FAILED_PRECONDITION,nv);return!1}}return!(!n.networkEnabled||!n.inForeground)||bl(e).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&tt("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var e=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[jn.store,Gr.store],function(i){var o=new tE(i,zn.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var i=this;return e.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return bl(n).Nt().next(function(i){return e.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return uF.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;tt("IndexedDbPersistence","Starting transaction:",e);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,tF,function(l){return u=new tE(l,o.Ne?o.Ne.next():zn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Pe("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new G(D.FAILED_PRECONDITION,sS);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return Ku(e).get(jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new G(D.FAILED_PRECONDITION,nv)})},t.prototype.Ze=function(e){var n=new jn(this.clientId,this.allowTabSynchronization,Date.now());return Ku(e).put(jn.key,n)},t.yt=function(){return Us.yt()},t.prototype.Xe=function(e){var n=this,i=Ku(e);return i.get(jn.key).next(function(o){return n.tn(o)?(tt("IndexedDbPersistence","Releasing primary lease."),i.delete(jn.key)):X.resolve()})},t.prototype.sn=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(Pe("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),EP()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return tt("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Pe("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Pe("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Ku(t){return Dn(t,jn.store)}function bl(t){return Dn(t,Gr.store)}function Sm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var mS=function(){function t(e,n,i){this.Ue=e,this._n=n,this.Ut=i}return t.prototype.mn=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return i.yn(e,n,o)})},t.prototype.yn=function(e,n,i){return this.Ue.getEntry(e,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},t.prototype.pn=function(e,n){var i=this;return this.Ue.getEntries(e,n).next(function(o){return i.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return i.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){return function(o){return bt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):gm(n)?this.In(e,n,i):this.An(e,n,i)},t.prototype.Tn=function(e,n){return this.mn(e,new bt(n)).next(function(i){var o=Wv();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(e,n,i){var o=this,u=n.collectionGroup,a=Wv();return this.Ut.getCollectionParents(e,u).next(function(l){return X.forEach(l,function(f){var d=function(v,g){return new ti(g,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,f.child(u));return o.An(e,d,i).next(function(v){v.forEach(function(g,y){a=a.insert(g,y)})})}).next(function(){return a})})},t.prototype.An=function(e,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return u=l,a.Rn(e,u,o).next(function(f){o=f;for(var d=0,v=u;d<v.length;d++)for(var g=v[d],y=0,b=g.mutations;y<b.length;y++){var _=b[y],S=_.key,N=o.get(S);N==null&&(N=ln.newInvalidDocument(S),o=o.insert(S,N)),Gv(_,N,g.localWriteTime),N.isFoundDocument()||(o=o.remove(S))}})}).next(function(){return o.forEach(function(l,f){Ya(n,f)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,i){for(var o=fe(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Mi&&i.get(d.key)===null&&(o=o.add(d.key))}var v=i;return this.Ue.getEntries(e,o).next(function(g){return g.forEach(function(y,b){b.isFoundDocument()&&(v=v.insert(y,b))}),v})},t}(),mF=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.bn=i,this.vn=o}return t.Pn=function(e,n){for(var i=fe(),o=fe(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}(),yS=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual($t.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(a){var l=u.Cn(n,a);return(kl(n)||tf(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(e,n):($v()<=te.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zv(n)),u.Sn.getDocumentsMatchingQuery(e,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},t.prototype.Cn=function(e,n){var i=new qe(VT(e));return n.forEach(function(o,u){Ya(e,u)&&(i=i.add(u))}),i},t.prototype.Nn=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return $v()<=te.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",zv(n)),this.Sn.getDocumentsMatchingQuery(e,n,$t.min())},t}(),yF=function(){function t(e,n,i,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new fn(zt),this.Fn=new eu(function(u){return Ga(u)},Hf),this.$n=$t.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new mS(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e,n,i){return new yF(t,e,n,i)}function bS(t,e){return H(this,void 0,void 0,function(){var n,i,o,u;return $(this,function(a){switch(a.label){case 0:return n=it(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(e),o=new mS(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var v=[],g=[],y=fe(),b=0,_=f;b<_.length;b++){var S=_[b];v.push(S.batchId);for(var N=0,O=S.mutations;N<O.length;N++){var P=O[N];y=y.add(P.key)}}for(var j=0,q=d;j<q.length;j++){var nt=q[j];g.push(nt.batchId);for(var V=0,It=nt.mutations;V<It.length;V++){var W=It[V];y=y.add(W.key)}}return o.pn(l,y).next(function(ht){return{Ln:ht,removedBatchIds:v,addedBatchIds:g}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function wF(t,e){var n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var v=f.batch,g=v.keys(),y=X.resolve();return g.forEach(function(b){y=y.next(function(){return d.getEntry(l,b)}).next(function(_){var S=f.docVersions.get(b);Nt(S!==null),_.version.compareTo(S)<0&&(v.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),y.next(function(){return a._n.removeMutationBatch(l,v)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function _S(t){var e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function bF(t,e){var n=it(t),i=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(v,g){var y=o.get(g);if(y){l.push(n.qe.removeMatchingKeys(u,v.removedDocuments,g).next(function(){return n.qe.addMatchingKeys(u,v.addedDocuments,g)}));var b=v.resumeToken;if(b.approximateByteSize()>0){var _=y.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(g,_),function(S,N,O){return Nt(N.resumeToken.approximateByteSize()>0),S.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,_,v)&&l.push(n.qe.updateTargetData(u,_))}}});var f=gr();if(e.documentUpdates.forEach(function(v,g){e.resolvedLimboDocuments.has(v)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),l.push(_F(u,a,e.documentUpdates,i,void 0).next(function(v){f=v})),!i.isEqual($t.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(v){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return X.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function _F(t,e,n,i,o){var u=fe();return n.forEach(function(a){return u=u.add(a)}),e.getEntries(t,u).next(function(a){var l=gr();return n.forEach(function(f,d){var v=a.get(f),g=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual($t.min())?(e.removeEntry(f,g),l=l.insert(f,d)):!v.isValidDocument()||d.version.compareTo(v.version)>0||d.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(d,g),l=l.insert(f,d)):tt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",d.version)}),l})}function EF(t,e){var n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(i,e)})}function of(t,e){var n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,e).next(function(u){return u?(o=u,X.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new Qf(e,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(e,i.targetId)),i})}function $s(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=it(t),o=i.kn.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Lo(a=l.sent()))throw a;return tt("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function sf(t,e,n){var i=it(t),o=$t.min(),u=fe();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var v=it(l),g=v.Fn.get(d);return g!==void 0?X.resolve(v.kn.get(g)):v.qe.getTargetData(f,d)}(i,a,Mr(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,e,n?o:$t.min(),n?u:fe())}).next(function(l){return{documents:l,Bn:u}})})}function ES(t,e){var n=it(t),i=it(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,e).next(function(a){return a?a.target:null})})}function IS(t){var e=it(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=it(i),l=gr(),f=Im(u),d=gi(o),v=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Se.readTimeIndex,range:v},function(g,y){var b=Yv(a.R,y);l=l.insert(b.key,b),f=y.readTime}).next(function(){return{wn:l,readTime:lS(f)}})}(e.On,n,e.$n)}).then(function(n){var i=n.wn,o=n.readTime;return e.$n=o,i})}function IF(t){return H(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,(e=it(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=gi(o),a=$t.min();return u.$t({index:Se.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=lS(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){e.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var TF=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return X.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:bn(i.createTime)}),X.resolve()},t.prototype.getNamedQuery=function(e,n){return X.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(i){return{name:i.name,query:hS(i.bundledQuery),readTime:bn(i.readTime)}}(n)),X.resolve()},t}(),Am=function(){function t(){this.Wn=new qe(Ke.Gn),this.zn=new qe(Ke.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var i=new Ke(e,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(e,n){var i=this;e.forEach(function(o){return i.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new Ke(e,n))},t.prototype.Xn=function(e,n){var i=this;e.forEach(function(o){return i.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,i=new bt(new ee([])),o=new Ke(i,e),u=new Ke(i,e+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new bt(new ee([])),i=new Ke(n,e),o=new Ke(n,e+1),u=fe();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},t.prototype.containsKey=function(e){var n=new Ke(e,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)},t}(),Ke=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return bt.comparator(e.key,n.key)||zt(e.ns,n.ns)},t.Hn=function(e,n){return zt(e.ns,n.ns)||bt.comparator(e.key,n.key)},t}(),SF=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new qe(Ke.Gn)}return t.prototype.checkEmpty=function(e){return X.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Em(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Ke(d.key,u)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return X.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return X.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return X.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return X.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return X.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=new Ke(n,0),u=new Ke(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),X.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new qe(zt);return n.forEach(function(u){var a=new Ke(u,0),l=new Ke(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),X.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=n.path,o=i.length+1,u=i;bt.isDocumentKey(u)||(u=u.child(""));var a=new Ke(new bt(u),0),l=new qe(zt);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),X.resolve(this.us(l))},t.prototype.us=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},t.prototype.removeMutationBatch=function(e,n){var i=this;Nt(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return X.forEach(n.mutations,function(u){var a=new Ke(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var i=new Ke(n,0),o=this.rs.firstAfterOrEqual(i);return X.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,X.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),AF=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new fn(bt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var i=this.docs.get(n);return X.resolve(i?i.document.clone():ln.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var i=this,o=gr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():ln.newInvalidDocument(u))}),X.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,i){for(var o=gr(),u=new bt(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,v=d.document,g=d.readTime;if(!n.path.isPrefixOf(f.path))break;g.compareTo(i)<=0||Ya(n,v)&&(o=o.insert(v.key,v.clone()))}return X.resolve(o)},t.prototype.fs=function(e,n){return X.forEach(this.docs,function(i){return n(i)})},t.prototype.newChangeBuffer=function(e){return new NF(this)},t.prototype.getSize=function(e){return X.resolve(this.size)},t}(),NF=function(t){function e(n){var i=this;return(i=t.call(this)||this).Ie=n,i}return Tt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),X.waitFor(o)},e.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},e.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},e}(gS),kF=function(){function t(e){this.persistence=e,this.ds=new eu(function(n){return Ga(n)},Hf),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.ws=0,this._s=new Am,this.targetCount=0,this.ys=rf.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(i,o){return n(o)}),X.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return X.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return X.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),X.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),X.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new rf(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,X.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),X.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,X.resolve()},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),X.waitFor(a).next(function(){return u})},t.prototype.getTargetCount=function(e){return X.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var i=this.ds.get(n)||null;return X.resolve(i)},t.prototype.addMatchingKeys=function(e,n,i){return this._s.Jn(n,i),X.resolve()},t.prototype.removeMatchingKeys=function(e,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(e,a))}),X.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),X.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=this._s.es(n);return X.resolve(i)},t.prototype.containsKey=function(e,n){return X.resolve(this._s.containsKey(n))},t}(),xF=function(){function t(e,n){var i=this;this.gs={},this.Ne=new zn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new kF(this),this.Ut=new oF,this.Ue=function(o,u){return new AF(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new cS(n),this.Ke=new TF(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new SF(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;tt("MemoryPersistence","Starting transaction:",e);var u=new CF(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return X.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(e,n)}}))},t}(),CF=function(t){function e(n){var i=this;return(i=t.call(this)||this).currentSequenceNumber=n,i}return Tt(e,t),e}(uS),OF=function(){function t(e){this.persistence=e,this.As=new Am,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw yt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),X.resolve()},t.prototype.removeReference=function(e,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),X.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),X.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.vs,function(o){var u=bt.fromPath(o);return n.Ps(e,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var i=this;return this.Ps(e,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var i=this;return X.or([function(){return X.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(e,n)},function(){return i.persistence.Is(e,n)}])},t}(),We=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){return"firestore_clients_"+t+"_"+e}function fE(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function rv(t,e){return"firestore_targets_"+t+"_"+e}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var hE=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.Vs=function(e,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new G(u.error.code,u.error.message)),a?new t(e,n,u.state,o):(Pe("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),iv=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.Vs=function(e,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new G(o.error.code,o.error.message)),u?new t(e,o.state,i):(Pe("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),dE=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=Wf(),a=0;o&&a<i.activeTargetIds.length;++a)o=RT(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new t(e,u):(Pe("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),RF=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Pe("SharedClientState","Failed to parse online state: "+e),null)},t}(),Xv=function(){function t(){this.activeTargetIds=Wf()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),ov=function(){function t(e,n,i,o,u){this.window=e,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new fn(zt),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=lE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Xv),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return H(this,void 0,void 0,function(){var e,n,i,o,u,a,l,f,d,v,g,y=this;return $(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(lE(this.persistenceKey,o)))&&(a=dE.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,v=this.$s;d<v.length;d++)g=v[d],this.ks(g);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,i){this.zs(e,n,i),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(rv(this.persistenceKey,e));if(i){var o=iv.Vs(e,i);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(rv(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,i){this.Ys(e,n,i)},t.prototype.handleUserChange=function(e,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=e,i.forEach(function(u){o.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return tt("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){tt("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(tt("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Pe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(v){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(g){var y=zn.o;if(g!=null)try{var b=JSON.parse(g);Nt(typeof b=="number"),y=b}catch(_){Pe("SharedClientState","Failed to read sequence number from WebStorage",_)}return y}(i.newValue))!==zn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,i){var o=new hE(this.currentUser,e,n,i),u=fE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ss())},t.prototype.Hs=function(e){var n=fE(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,i){var o=rv(this.persistenceKey,e),u=new iv(e,n,i);this.setItem(o,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var i=this.ti(e);return dE.Vs(i,n)},t.prototype.si=function(e,n){var i=this.Bs.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return hE.Vs(new We(u),o,n)},t.prototype.ri=function(e,n){var i=this.qs.exec(e),o=Number(i[1]);return iv.Vs(o,n)},t.prototype.js=function(e){return RF.Vs(e)},t.prototype.ii=function(e){return H(this,void 0,void 0,function(){return $(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(tt("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var i=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=Wf();return e.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),TS=function(){function t(){this.li=new Xv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,i){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,i){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new Xv,Promise.resolve()},t.prototype.handleUserChange=function(e,n,i){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),DF=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),pE=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),PF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},LF=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),MF=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Tt(e,t),e.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new dM;f.listenOnce(lM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case ev.NO_ERROR:var v=f.getResponseJson();tt("Connection","XHR received:",JSON.stringify(v)),a(v);break;case ev.TIMEOUT:tt("Connection",'RPC "'+n+'" timed out'),l(new G(D.DEADLINE_EXCEEDED,"Request time out"));break;case ev.HTTP_ERROR:var g=f.getStatus();if(tt("Connection",'RPC "'+n+'" failed with status:',g,"response text:",f.getResponseText()),g>0){var y=f.getResponseJson().error;if(y&&y.status&&y.message){var b=function(_){var S=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(S)>=0?S:D.UNKNOWN}(y.status);l(new G(b,y.message))}else l(new G(D.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new G(D.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{tt("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},e.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=aM(),a=cM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new hM({})),this.ki(l.initMessageHeaders,i),vP()||yP()||wP()||bP()||_P()||mP()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");tt("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),v=!1,g=!1,y=new LF({Ei:function(_){g?tt("Connection","Not sending because WebChannel is closed:",_):(v||(tt("Connection","Opening WebChannel transport."),d.open(),v=!0),tt("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,S,N){_.listen(S,function(O){try{N(O)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,gl.EventType.OPEN,function(){g||tt("Connection","WebChannel transport opened.")}),b(d,gl.EventType.CLOSE,function(){g||(g=!0,tt("Connection","WebChannel transport closed"),y.Vi())}),b(d,gl.EventType.ERROR,function(_){g||(g=!0,Ql("Connection","WebChannel transport errored:",_),y.Vi(new G(D.UNAVAILABLE,"The operation could not be completed")))}),b(d,gl.EventType.MESSAGE,function(_){var S;if(!g){var N=_.data[0];Nt(!!N);var O=N,P=O.error||((S=O[0])===null||S===void 0?void 0:S.error);if(P){tt("Connection","WebChannel received error:",P);var j=P.status,q=function(V){var It=Re[V];if(It!==void 0)return WT(It)}(j),nt=P.message;q===void 0&&(q=D.INTERNAL,nt="Unknown error status: "+j+" with message "+P.message),g=!0,y.Vi(new G(q,nt)),d.close()}else tt("Connection","WebChannel received:",N),y.Si(N)}}),b(a,fM.STAT_EVENT,function(_){_.stat===O_.PROXY?tt("Connection","Detected buffering proxy"):_.stat===O_.NOPROXY&&tt("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,i,o){var u=this.xi(e,n);tt("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(e,u,a,i).then(function(l){return tt("RestConnection","Received: ",l),l},function(l){throw Ql("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$i=function(e,n,i,o){return this.Ni(e,n,i,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(e[i]=n.authHeaders[i])},t.prototype.xi=function(e,n){var i=PF[e];return this.Di+"/v1/"+n+":"+i},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof window<"u"?window:null}function Ol(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){return new qM(t,!0)}var Nm=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&tt("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),AS=function(){function t(e,n,i,o,u,a){this.Se=e,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Nm(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return H(this,void 0,void 0,function(){return $(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return H(this,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Pe(n.toString()),Pe("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){e.Yi===i&&e.lr(o)},function(o){n(function(){var u=new G(D.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return H(e,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return tt("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===e?i():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),FF=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Tt(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:yt()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],v=function(N,O){return N.I?(Nt(O===void 0||typeof O=="string"),On.fromBase64String(O||"")):(Nt(O===void 0||O instanceof Uint8Array),On.fromUint8Array(O||new Uint8Array))}(u,a.targetChange.resumeToken),g=(y=a.targetChange.cause)&&function(N){var O=N.code===void 0?D.UNKNOWN:WT(N.code);return new G(O,N.message||"")}(y);l=new YT(f,d,v,g||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=zr(u,f.document.name),v=bn(f.document.updateTime);var y=new $n({mapValue:{fields:f.document.fields}}),b=(g=ln.newFoundDocument(d,v,y),f.targetIds||[]),_=f.removedTargetIds||[];l=new Cl(b,_,g.key,g)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=zr(u,f.document),v=f.readTime?bn(f.readTime):$t.min(),y=ln.newNoDocument(d,v),g=f.removedTargetIds||[],l=new Cl([],g,y.key,y);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=zr(u,f.document),v=f.removedTargetIds||[],l=new Cl([],v,d,null);else{if(!("filter"in a))return yt();a.filter;var S=a.filter;S.targetId,f=S.count||0,d=new RM(f),v=S.targetId,l=new QT(v,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return $t.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?$t.min():a.readTime?bn(a.readTime):$t.min()}(n);return this.listener._r(i,o)},e.prototype.mr=function(n){var i={};i.database=Ca(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=Jl(f)?{documents:eS(u,f)}:{query:nS(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=XT(u,a.resumeToken):a.snapshotVersion.compareTo($t.min())>0&&(l.readTime=ka(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},e.prototype.yr=function(n){var i={};i.database=Ca(this.R),i.removeTarget=n,this.cr(i)},e}(AS),VF=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Tt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Nt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Nt(a!==void 0),u.map(function(l){return function(f,d){var v=f.updateTime?bn(f.updateTime):bn(d);return v.isEqual($t.min())&&(v=bn(d)),new xM(v,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=bn(n.commitTime);return this.listener.Tr(o,i)}return Nt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Ca(this.R),this.cr(n)},e.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return ef(i.R,u)})};this.cr(o)},e}(AS),jF=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Tt(e,t),e.prototype.br=function(){if(this.Rr)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new G(D.UNKNOWN,a.toString())})},e.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new G(D.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),UF=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Pe(n),this.Vr=!1):tt("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),BF=function(t,e,n,i,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return H(u,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return Fi(this)?(tt("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return $(this,function(v){switch(v.label){case 0:return(d=it(f)).Or.add(4),[4,nu(d)];case 1:return v.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,tc(d)];case 2:return v.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new UF(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:if(!Fi(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function nu(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Xf(t,e){var n=it(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Cm(n)?xm(n):iu(n).er()&&km(n,e))}function Oa(t,e){var n=it(t),i=iu(n);n.$r.delete(e),i.er()&&NS(n,e),n.$r.size===0&&(i.er()?i.ir():Fi(n)&&n.Br.set("Unknown"))}function km(t,e){t.qr.U(e.targetId),iu(t).mr(e)}function NS(t,e){t.qr.U(e),iu(t).yr(e)}function xm(t){t.qr=new jM({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),iu(t).start(),t.Br.Sr()}function Cm(t){return Fi(t)&&!iu(t).tr()&&t.$r.size>0}function Fi(t){return it(t).Or.size===0}function kS(t){t.qr=void 0}function qF(t){return H(this,void 0,void 0,function(){return $(this,function(e){return t.$r.forEach(function(n,i){km(t,n)}),[2]})})}function $F(t,e){return H(this,void 0,void 0,function(){return $(this,function(n){return kS(t),Cm(t)?(t.Br.Nr(e),xm(t)):t.Br.set("Unknown"),[2]})})}function KF(t,e,n){return H(this,void 0,void 0,function(){var i,o,u;return $(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof YT&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,v,g,y;return $(this,function(b){switch(b.label){case 0:d=f.cause,v=0,g=f.targetIds,b.label=1;case 1:return v<g.length?(y=g[v],l.$r.has(y)?[4,l.remoteSyncer.rejectListen(y,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(y),l.qr.removeTarget(y),b.label=3;case 3:b.label=4;case 4:return v++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,uf(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Cl?t.qr.X(e):e instanceof QT?t.qr.rt(e):t.qr.et(e),n.isEqual($t.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,_S(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(v,g){if(v.resumeToken.approximateByteSize()>0){var y=l.$r.get(g);y&&l.$r.set(g,y.withResumeToken(v.resumeToken,f))}}),d.targetMismatches.forEach(function(v){var g=l.$r.get(v);if(g){l.$r.set(v,g.withResumeToken(On.EMPTY_BYTE_STRING,g.snapshotVersion)),NS(l,v);var y=new Qf(g.target,v,1,g.sequenceNumber);km(l,y)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return tt("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,uf(t,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function uf(t,e,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:if(!Lo(e))throw e;return t.Or.add(1),[4,nu(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return _S(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(u){switch(u.label){case 0:return tt("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,tc(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function xS(t,e){return e().catch(function(n){return uf(t,n,e)})}function ru(t){return H(this,void 0,void 0,function(){var e,n,i,o,u;return $(this,function(a){switch(a.label){case 0:e=it(t),n=Ri(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Fi(l)&&l.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,EF(e.localStore,i)];case 3:return(o=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Ri(l);d.er()&&d.pr&&d.Er(f.mutations)}(e,o),[3,6]);case 4:return u=a.sent(),[4,uf(e,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return CS(e)&&OS(e),[2]}})})}function CS(t){return Fi(t)&&!Ri(t).tr()&&t.Fr.length>0}function OS(t){Ri(t).start()}function HF(t){return H(this,void 0,void 0,function(){return $(this,function(e){return Ri(t).Ar(),[2]})})}function zF(t){return H(this,void 0,void 0,function(){var e,n,i,o;return $(this,function(u){for(e=Ri(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function GF(t,e,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return i=t.Fr.shift(),o=rF.from(i,e,n),[4,xS(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,ru(t)];case 2:return u.sent(),[2]}})})}function WF(t,e){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return e&&Ri(t).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var u,a;return $(this,function(l){switch(l.label){case 0:return GT(a=o.code)&&a!==D.ABORTED?(u=i.Fr.shift(),Ri(i).sr(),[4,xS(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,ru(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return CS(t)&&OS(t),[2]}})})}function Jv(t,e){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=it(t),e?(n.Or.delete(2),[4,tc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,nu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function iu(t){var e=this;return t.Ur||(t.Ur=function(n,i,o){var u=it(n);return u.br(),new FF(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:qF.bind(null,t),Ri:$F.bind(null,t),_r:KF.bind(null,t)}),t.Mr.push(function(n){return H(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Ur.sr(),Cm(t)?xm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),kS(t),i.label=3;case 3:return[2]}})})})),t.Ur}function Ri(t){var e=this;return t.Kr||(t.Kr=function(n,i,o){var u=it(n);return u.br(),new VF(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:HF.bind(null,t),Ri:WF.bind(null,t),Ir:zF.bind(null,t),Tr:GF.bind(null,t)}),t.Mr.push(function(n){return H(e,void 0,void 0,function(){return $(this,function(i){switch(i.label){case 0:return n?(t.Kr.sr(),[4,ru(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(tt("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var QF=function(){function t(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,i,o,u){var a=new t(e,n,Date.now()+i,o,u);return a.start(i),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function ou(t,e){if(Pe("AsyncQueue",e+": "+t),Lo(t))return new G(D.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RS=function(){function t(e){this.comparator=e?function(n,i){return e(n,i)||bt.comparator(n.key,i.key)}:function(n,i){return bt.comparator(n.key,i.key)},this.keyedMap=Wv(),this.sortedSet=new fn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),vE=function(){function t(){this.Qr=new fn(bt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,i=this.Qr.get(n);i?e.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Qr=this.Qr.remove(n):e.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):yt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,i){e.push(i)}),e},t}(),af=function(){function t(e,n,i,o,u,a,l,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(e,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new t(e,n,RS.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),YF=function(){this.Wr=void 0,this.listeners=[]},XF=function(){this.queries=new eu(function(t){return FT(t)},Qa),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:if(n=it(t),i=e.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new YF),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=ou(l,"Initialization of query '"+zv(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&Dm(n),[2]}})})}function Rm(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){return n=it(t),i=e.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(e))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function JF(t,e){for(var n=it(t),i=!1,o=0,u=e;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,v=f.listeners;d<v.length;d++)v[d].Hr(a)&&(i=!0);f.Wr=a}}i&&Dm(n)}function ZF(t,e,n){var i=it(t),o=i.queries.get(e);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(e)}function Dm(t){t.Gr.forEach(function(e){e.next()})}var Pm=function(){function t(e,n,i){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new af(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DS=function(t){this.key=t},PS=function(t){this.key=t},LS=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=fe(),this.mutatedKeys=fe(),this.lo=VT(e),this.fo=new RS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var i=this,o=n?n.mo:new vE,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=kl(this.query)&&u.size===this.query.limit?u.last():null,v=tf(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(y,b){var _=u.get(y),S=Ya(i.query,b)?b:null,N=!!_&&i.mutatedKeys.has(_.key),O=!!S&&(S.hasLocalMutations||i.mutatedKeys.has(S.key)&&S.hasCommittedMutations),P=!1;_&&S?_.data.isEqual(S.data)?N!==O&&(o.track({type:3,doc:S}),P=!0):i.yo(_,S)||(o.track({type:2,doc:S}),P=!0,(d&&i.lo(S,d)>0||v&&i.lo(S,v)<0)&&(f=!0)):!_&&S?(o.track({type:0,doc:S}),P=!0):_&&!S&&(o.track({type:1,doc:_}),P=!0,(d||v)&&(f=!0)),P&&(S?(l=l.add(S),a=O?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),kl(this.query)||tf(this.query))for(;l.size>this.query.limit;){var g=kl(this.query)?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),o.track({type:1,doc:g})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,i){var o=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(v,g){return function(y,b){var _=function(S){switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return _(y)-_(b)}(v.type,g.type)||o.lo(v.doc,g.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new af(this.query,e.fo,u,a,e.mutatedKeys,f===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new vE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=fe(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var i=[];return n.forEach(function(o){e.ho.has(o)||i.push(new PS(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new DS(o))}),i},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=fe();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return af.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),tV=function(t,e,n){this.query=t,this.targetId=e,this.view=n},eV=function(t){this.key=t,this.bo=!1},nV=function(){function t(e,n,i,o,u,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new eu(function(l){return FT(l)},Qa),this.Vo=new Map,this.So=new Set,this.Do=new fn(bt.comparator),this.Co=new Map,this.No=new Am,this.xo={},this.ko=new Map,this.Fo=rf.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function rV(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l;return $(this,function(f){switch(f.label){case 0:return n=jm(t),(u=n.Po.get(e))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,of(n.localStore,Mr(e))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Lm(n,e,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Xf(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Lm(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,a,l,f,d;return $(this,function(v){switch(v.label){case 0:return t.Oo=function(g,y,b){return function(_,S,N,O){return H(this,void 0,void 0,function(){var P,j,q;return $(this,function(nt){switch(nt.label){case 0:return P=S.view._o(N),P.Nn?[4,sf(_.localStore,S.query,!1).then(function(V){var It=V.documents;return S.view._o(It,P)})]:[3,2];case 1:P=nt.sent(),nt.label=2;case 2:return j=O&&O.targetChanges.get(S.targetId),q=S.view.applyChanges(P,_.isPrimaryClient,j),[2,(Zv(_,S.targetId,q.To),q.snapshot)]}})})}(t,g,y,b)},[4,sf(t.localStore,e,!0)];case 1:return o=v.sent(),u=new LS(e,o.Bn),a=u._o(o.documents),l=wm.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),f=u.applyChanges(a,t.isPrimaryClient,l),Zv(t,n,f.To),d=new tV(e,n,u),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),f.snapshot)]}})})}function iV(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return n=it(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!Qa(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,$s(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),Oa(n.remoteStore,i.targetId),Ks(n,i.targetId)}).catch(Mo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return Ks(n,i.targetId),[4,$s(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function oV(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:i=Um(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var v,g=it(f),y=xn.now(),b=d.reduce(function(_,S){return _.add(S.key)},fe());return g.persistence.runTransaction("Locally write mutations","readwrite",function(_){return g.Mn.pn(_,b).next(function(S){v=S;for(var N=[],O=0,P=d;O<P.length;O++){var j=P[O],q=OM(j,v.get(j.key));q!=null&&N.push(new Mi(j.key,q,DT(q.value.mapValue),an.exists(!0)))}return g._n.addMutationBatch(_,y,N,d)})}).then(function(_){return _.applyToLocalDocumentSet(v),{batchId:_.batchId,changes:v}})}(i.localStore,e)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,v){var g=f.xo[f.currentUser.toKey()];g||(g=new fn(zt)),g=g.insert(d,v),f.xo[f.currentUser.toKey()]=g}(i,o.batchId,n),[4,Vi(i,o.changes)];case 3:return l.sent(),[4,ru(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=ou(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function MS(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:n=it(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,bF(n.localStore,e)];case 2:return i=o.sent(),e.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Nt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Nt(l.bo):u.removedDocuments.size>0&&(Nt(l.bo),l.bo=!1))}),[4,Vi(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,Mo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function gE(t,e,n){var i=it(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=it(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,v){for(var g=0,y=v.listeners;g<y.length;g++)y[g].zr(a)&&(f=!0)}),f&&Dm(l)}(i.eventManager,e),o.length&&i.vo._r(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function sV(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f;return $(this,function(d){switch(d.label){case 0:return(i=it(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(u=o&&o.key)?(a=(a=new fn(bt.comparator)).insert(u,ln.newNoDocument(u,$t.min())),l=fe().add(u),f=new ym($t.min(),new Map,new qe(zt),a,l),[4,MS(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(e),Vm(i),[3,4];case 2:return[4,$s(i.localStore,e,!1).then(function(){return Ks(i,e,n)}).catch(Mo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function uV(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:n=it(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,wF(n.localStore,e)];case 2:return o=u.sent(),Fm(n,i,null),Mm(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Vi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Mo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function aV(t,e,n){return H(this,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:i=it(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=it(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var v;return f._n.lookupMutationBatch(d,l).next(function(g){return Nt(g!==null),v=g.keys(),f._n.removeMutationBatch(d,g)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,v)})})}(i.localStore,e)];case 2:return o=u.sent(),Fm(i,e,n),Mm(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Vi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Mo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function cV(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a;return $(this,function(l){switch(l.label){case 0:Fi((n=it(t)).remoteStore)||tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=it(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(v){return d._n.getHighestUnacknowledgedBatchId(v)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=ou(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Mm(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function Fm(t,e,n){var i=it(t),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.xo[i.currentUser.toKey()]=o}}function Ks(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,o=t.Vo.get(e);i<o.length;i++){var u=o[i];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||FS(t,a)})}function FS(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(Oa(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Vm(t))}function Zv(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof DS?(t.No.addReference(u.key,e),lV(t,u)):u instanceof PS?(tt("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||FS(t,u.key)):yt()}}function lV(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(tt("SyncEngine","New document in limbo: "+n),t.So.add(i),Vm(t))}function Vm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bt(ee.fromString(e)),i=t.Fo.next();t.Co.set(i,new eV(n)),t.Do=t.Do.insert(n,i),Xf(t.remoteStore,new Qf(Mr(Wa(n.path)),i,2,zn.o))}}function Vi(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a;return $(this,function(l){switch(l.label){case 0:return i=it(t),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,e,n).then(function(v){if(v){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,v.fromCache?"not-current":"current"),o.push(v);var g=mF.Pn(d.targetId,v);u.push(g)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var v,g,y,b,_,S,N,O,P;return $(this,function(j){switch(j.label){case 0:v=it(f),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,v.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(q){return X.forEach(d,function(nt){return X.forEach(nt.bn,function(V){return v.persistence.referenceDelegate.addReference(q,nt.targetId,V)}).next(function(){return X.forEach(nt.vn,function(V){return v.persistence.referenceDelegate.removeReference(q,nt.targetId,V)})})})})];case 2:return j.sent(),[3,4];case 3:if(!Lo(g=j.sent()))throw g;return tt("LocalStore","Failed to update sequence numbers: "+g),[3,4];case 4:for(y=0,b=d;y<b.length;y++)_=b[y],S=_.targetId,_.fromCache||(N=v.kn.get(S),O=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(O),v.kn=v.kn.insert(S,P));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function fV(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return(n=it(t)).currentUser.isEqual(e)?[3,3]:(tt("SyncEngine","User change. New user:",e.toKey()),[4,bS(n.localStore,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new G(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Vi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function hV(t,e){var n=it(t),i=n.Co.get(e);if(i&&i.bo)return fe().add(i.key);var o=fe(),u=n.Vo.get(e);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function dV(t,e){return H(this,void 0,void 0,function(){var n,i,o;return $(this,function(u){switch(u.label){case 0:return[4,sf((n=it(t)).localStore,e.query,!0)];case 1:return i=u.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&Zv(n,e.targetId,o.To),o)]}})})}function pV(t){return H(this,void 0,void 0,function(){var e;return $(this,function(n){return[2,IS((e=it(t)).localStore).then(function(i){return Vi(e,i)})]})})}function vV(t,e,n,i){return H(this,void 0,void 0,function(){var o,u;return $(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=it(l),v=it(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(g){return v.jt(g,f).next(function(y){return y?d.Mn.pn(g,y):X.resolve(null)})})}((o=it(t)).localStore,e)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,ru(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Fm(o,e,i||null),Mm(o,e),function(l,f){it(it(l)._n).Gt(f)}(o.localStore,e)):yt(),a.label=4;case 4:return[4,Vi(o,u)];case 5:return a.sent(),[3,7];case 6:tt("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function gV(t,e){return H(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return $(this,function(v){switch(v.label){case 0:return jm(n=it(t)),Um(n),e!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,mE(n,i.toArray())]);case 1:return o=v.sent(),n.$o=!0,[4,Jv(n.remoteStore,!0)];case 2:for(v.sent(),u=0,a=o;u<a.length;u++)l=a[u],Xf(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(g,y){n.sharedClientState.isLocalQueryTarget(y)?f.push(y):d=d.then(function(){return Ks(n,y),$s(n.localStore,y,!0)}),Oa(n.remoteStore,y)}),[4,d]);case 4:return v.sent(),[4,mE(n,f)];case 5:return v.sent(),function(g){var y=it(g);y.Co.forEach(function(b,_){Oa(y.remoteStore,_)}),y.No.ts(),y.Co=new Map,y.Do=new fn(bt.comparator)}(n),n.$o=!1,[4,Jv(n.remoteStore,!1)];case 6:v.sent(),v.label=7;case 7:return[2]}})})}function mE(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,v,g,y,b,_,S,N;return $(this,function(O){switch(O.label){case 0:i=it(t),o=[],u=[],a=0,l=e,O.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(v=i.Vo.get(f))&&v.length!==0?[4,of(i.localStore,Mr(v[0]))]:[3,7]):[3,13];case 2:d=O.sent(),g=0,y=v,O.label=3;case 3:return g<y.length?(b=y[g],_=i.Po.get(b),[4,dV(i,_)]):[3,6];case 4:(S=O.sent()).snapshot&&u.push(S.snapshot),O.label=5;case 5:return g++,[3,3];case 6:return[3,11];case 7:return[4,ES(i.localStore,f)];case 8:return N=O.sent(),[4,of(i.localStore,N)];case 9:return d=O.sent(),[4,Lm(i,VS(N),f,!1)];case 10:O.sent(),O.label=11;case 11:o.push(d),O.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function VS(t){return LT(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function mV(t){var e=it(t);return it(it(e.localStore).persistence).fn()}function yV(t,e,n,i){return H(this,void 0,void 0,function(){var o,u,a;return $(this,function(l){switch(l.label){case 0:return(o=it(t)).$o?(tt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,IS(o.localStore)];case 3:return u=l.sent(),a=ym.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,Vi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,$s(o.localStore,e,!0)];case 6:return l.sent(),Ks(o,e,i),[3,8];case 7:yt(),l.label=8;case 8:return[2]}})})}function wV(t,e,n){return H(this,void 0,void 0,function(){var i,o,u,a,l,f,d,v,g,y;return $(this,function(b){switch(b.label){case 0:if(!(i=jm(t)).$o)return[3,10];o=0,u=e,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(tt("SyncEngine","Adding an already active target "+a),[3,5]):[4,ES(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,of(i.localStore,l)];case 3:return f=b.sent(),[4,Lm(i,VS(l),f.targetId,!1)];case 4:b.sent(),Xf(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return $(this,function(S){switch(S.label){case 0:return i.Vo.has(_)?[4,$s(i.localStore,_,!1).then(function(){Oa(i.remoteStore,_),Ks(i,_)}).catch(Mo)]:[3,2];case 1:S.sent(),S.label=2;case 2:return[2]}})},v=0,g=n,b.label=7;case 7:return v<g.length?(y=g[v],[5,d(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return v++,[3,7];case 10:return[2]}})})}function jm(t){var e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sV.bind(null,e),e.vo._r=JF.bind(null,e.eventManager),e.vo.Mo=ZF.bind(null,e.eventManager),e}function Um(t){var e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aV.bind(null,e),e}var jS=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=Yf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return wS(this.persistence,new yS,e.initialUser,this.R)},t.prototype.qo=function(e){return new xF(OF.bs,this.R)},t.prototype.Bo=function(e){return new TS},t.prototype.terminate=function(){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),US=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Tt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,IF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Um(this.Qo.syncEngine)];case 4:return o.sent(),[4,ru(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return wS(this.persistence,new yS,n.initialUser,this.R)},e.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new lF(i,n.asyncQueue)},e.prototype.qo=function(n){var i=Sm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new gF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,SS(),Ol(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new TS},e}(jS),bV=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Tt(e,t),e.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return $(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof ov?(this.sharedClientState.syncEngine={ui:vV.bind(null,i),ai:yV.bind(null,i),hi:wV.bind(null,i),fn:mV.bind(null,i),ci:pV.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,gV(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var i=SS();if(!ov.yt(i))throw new G(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Sm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new ov(i,n.asyncQueue,o,n.clientId,n.initialUser)},e}(US),tg=function(){function t(){}return t.prototype.initialize=function(e,n){return H(this,void 0,void 0,function(){var i=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return gE(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=fV.bind(null,this.syncEngine),[4,Jv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new XF},t.prototype.createDatastore=function(e){var n,i=Yf(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new MF(n));return function(u,a,l){return new jF(u,a,l)}(e.credentials,o,i)},t.prototype.createRemoteStore=function(e){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=e.asyncQueue,u=function(f){return gE(l.syncEngine,f,0)},a=pE.yt()?new pE:new DF,new BF(n,i,o,u,a)},t.prototype.createSyncEngine=function(e,n){return function(i,o,u,a,l,f,d){var v=new nV(i,o,u,a,l,f);return d&&(v.$o=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return H(this,void 0,void 0,function(){var n;return $(this,function(i){switch(i.label){case 0:return n=it(e),tt("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,nu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jf=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}(),_V=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return H(this,void 0,void 0,function(){var n,i=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new G(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return H(this,void 0,void 0,function(){var l,f,d,v,g,y;return $(this,function(b){switch(b.label){case 0:return l=it(u),f=Ca(l.R)+"/documents",d={documents:a.map(function(_){return xa(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return v=b.sent(),g=new Map,v.forEach(function(_){var S=function(N,O){return"found"in O?function(P,j){Nt(!!j.found),j.found.name,j.found.updateTime;var q=zr(P,j.found.name),nt=bn(j.found.updateTime),V=new $n({mapValue:{fields:j.found.fields}});return ln.newFoundDocument(q,nt,V)}(N,O):"missing"in O?function(P,j){Nt(!!j.missing),Nt(!!j.readTime);var q=zr(P,j.missing),nt=bn(j.readTime);return ln.newNoDocument(q,nt)}(N,O):yt()}(l.R,_);g.set(S.key.toString(),S)}),y=[],[2,(a.forEach(function(_){var S=g.get(_.toString());Nt(!!S),y.push(S)}),y)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new Za(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return H(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var a=bt.fromPath(u);n.mutations.push(new mm(a,n.precondition(a)))}),[4,function(o,u){return H(this,void 0,void 0,function(){var a,l,f;return $(this,function(d){switch(d.label){case 0:return a=it(o),l=Ca(a.R)+"/documents",f={writes:u.map(function(v){return ef(a.R,v)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yt();n=$t.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new G(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?an.updateTime(n):an.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($t.min()))throw new G(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(n)}return an.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),EV=function(){function t(e,n,i,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new Nm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return H(e,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){return n=new _V(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!Po(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!GT(n)}return!1},t}(),IV=function(){function t(e,n,i){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=NT.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return H(o,void 0,void 0,function(){return $(this,function(a){switch(a.label){case 0:return tt("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return $(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new G(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(e,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=ou(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(t,e){return H(this,void 0,void 0,function(){var n,i,o=this;return $(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),i=n.initialUser,t.setCredentialChangeListener(function(a){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,bS(e.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function qS(t,e){return H(this,void 0,void 0,function(){var n,i;return $(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Bm(t)];case 1:return n=o.sent(),tt("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(u){return function(a,l){return H(this,void 0,void 0,function(){var f,d;return $(this,function(v){switch(v.label){case 0:return(f=it(a)).asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials"),d=Fi(f),f.Or.add(3),[4,nu(f)];case 1:return v.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return v.sent(),f.Or.delete(3),[4,tc(f)];case 3:return v.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function Bm(t){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(tt("FirestoreClient","Using default OfflineComponentProvider"),[4,BS(t,new jS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Zf(t){return H(this,void 0,void 0,function(){return $(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(tt("FirestoreClient","Using default OnlineComponentProvider"),[4,qS(t,new tg)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function yE(t){return Bm(t).then(function(e){return e.persistence})}function $S(t){return Bm(t).then(function(e){return e.localStore})}function wE(t){return Zf(t).then(function(e){return e.remoteStore})}function KS(t){return Zf(t).then(function(e){return e.syncEngine})}function Hs(t){return H(this,void 0,void 0,function(){var e,n;return $(this,function(i){switch(i.label){case 0:return[4,Zf(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=rV.bind(null,e.syncEngine),n.onUnlisten=iV.bind(null,e.syncEngine),n)]}})})}function bE(t,e,n){var i=this;n===void 0&&(n={});var o=new Rn;return t.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,v,g){var y=new Jf({next:function(_){f.enqueueAndForget(function(){return Rm(l,b)});var S=_.docs.has(d);!S&&_.fromCache?g.reject(new G(D.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&_.fromCache&&v&&v.source==="server"?g.reject(new G(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new Pm(Wa(d.path),y,{includeMetadataChanges:!0,so:!0});return Om(l,b)},[4,Hs(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function _E(t,e,n){var i=this;n===void 0&&(n={});var o=new Rn;return t.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return u=function(l,f,d,v,g){var y=new Jf({next:function(_){f.enqueueAndForget(function(){return Rm(l,b)}),_.fromCache&&v.source==="server"?g.reject(new G(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(_)},error:function(_){return g.reject(_)}}),b=new Pm(d,y,{includeMetadataChanges:!0,so:!0});return Om(l,b)},[4,Hs(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var TV=function(t,e,n,i,o,u,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},cf=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),EE=new Map,HS=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},IE=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(We.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),SV=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var i=this;this.changeListener=n,e.enqueueRetryable(function(){return n(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),AV=function(){function t(e){var n=this;this.currentUser=We.UNAUTHENTICATED,this.oc=new Rn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){tt("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?i(o):(tt("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.cc!==n?(tt("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(Nt(typeof o.accessToken=="string"),new HS(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string"),new We(e)},t}(),NV=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i,this.type="FirstParty",this.user=We.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),kV=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new NV(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(We.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t,e,n){if(!n)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function $m(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new G(D.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function zS(t,e,n,i){if(e===!0&&i===!0)throw new G(D.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function TE(t){if(!bt.isDocumentKey(t))throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function SE(t){if(bt.isDocumentKey(t))throw new G(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function th(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":yt()}function ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=th(t);throw new G(D.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function AE(t,e){if(e<=0)throw new G(D.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var NE=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new G(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,zS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Ra=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,e instanceof cf?(this._databaseId=e,this._credentials=new IE):(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new G(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(i.options.projectId)}(e),this._credentials=new AV(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new IE;switch(n.type){case"gapi":var i=n.client;return Nt(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new kV(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new G(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=EE.get(e))&&(tt("ComponentProvider","Removing Datastore"),EE.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Ee=function(){function t(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new xi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Qn=function(){function t(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),xi=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,Wa(o))||this)._path=o,u.type="collection",u}return Tt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ee(this.firestore,null,new bt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Qn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Me(t),qm("collection","path",e),t instanceof Ra)return SE(n=ee.fromString.apply(ee,Ae([e],i))),new xi(t,null,n);if(!(t instanceof Ee||t instanceof xi))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return SE(n=ee.fromString.apply(ee,Ae([t.path],i)).child(ee.fromString(e))),new xi(t.firestore,null,n)}function Rl(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Me(t),arguments.length===1&&(e=NT.u()),qm("doc","path",e),t instanceof Ra)return TE(n=ee.fromString.apply(ee,Ae([e],i))),new Ee(t,null,new bt(n));if(!(t instanceof Ee||t instanceof xi))throw new G(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return TE(n=t._path.child(ee.fromString.apply(ee,Ae([e],i)))),new Ee(t.firestore,t instanceof xi?t.converter:null,new bt(n))}function WS(t,e){return t=Me(t),e=Me(e),(t instanceof Ee||t instanceof xi)&&(e instanceof Ee||e instanceof xi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function QS(t,e){return t=Me(t),e=Me(e),t instanceof Qn&&e instanceof Qn&&t.firestore===e.firestore&&Qa(t._query,e._query)&&t.converter===e.converter}var xV=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Nm(this,"async_queue_retry"),this.Ic=function(){var i=Ol();i&&tt("AsyncQueue","Visibility state changed to "+i.visibilityState),e.Zi.Gi()};var n=Ol();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Ol();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Rn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return H(this,void 0,void 0,function(){var e,n=this;return $(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Lo(e=i.sent()))throw e;return tt("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,i=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,Pe("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(e,n,i){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=QF.createAndSchedule(this,e,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&yt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return H(this,void 0,void 0,function(){var e;return $(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),e!=="all"&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function zs(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(t)}var CV=-1,Be=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).type="firestore",o._queue=new xV,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Tt(e,t),e.prototype._terminate=function(){return this._firestoreClient||YS(this),this._firestoreClient.terminate()},e}(Ra);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t._firestoreClient||YS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function YS(t){var e,n=t._freezeSettings(),i=function(o,u,a,l){return new TV(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new IV(t._credentials,t._queue,i)}function kE(t,e,n){var i=this,o=new Rn;return t.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,BS(t,n)];case 1:return a.sent(),[4,qS(t,e)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function xE(t){if(t._initialized||t._terminated)throw new G(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dr=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;++i)if(e[i].length===0)throw new G(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yr(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Co=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(On.fromBase64String(e))}catch(n){throw new G(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(On.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Fo=function(t){this._methodName=t},eh=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return zt(this._lat,e._lat)||zt(this._long,e._long)},t}(),OV=/^__.*__$/,RV=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ja(e,this.data,n,this.fieldTransforms)},t}(),XS=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}var ZS=function(){function t(e,n,i,o,u,a){this.settings=e,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return lf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(JS(this.Nc)&&OV.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),DV=function(){function t(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=i||Yf(e)}return t.prototype.Uc=function(e,n,i,o){return o===void 0&&(o=!1),new ZS({Nc:e,methodName:n,qc:i,path:yr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Vo(t){var e=t._freezeSettings(),n=Yf(t._databaseId);return new DV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nh(t,e,n,i,o,u){u===void 0&&(u={});var a=t.Uc(u.merge||u.mergeFields?2:0,e,n,o);Gm("Data must be an object, but it was:",a,i);var l,f,d=nA(i,a);if(u.merge)l=new Rs(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var v=[],g=0,y=u.mergeFields;g<y.length;g++){var b=eg(e,y[g],n);if(!a.contains(b))throw new G(D.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");iA(v,b)||v.push(b)}l=new Rs(v),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new RV(new $n(d),l,f)}var Km=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Fo);function tA(t,e,n){return new ZS({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var PV=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype._toFieldTransform=function(n){return new Xa(n.path,new Ms)},e.prototype.isEqual=function(n){return n instanceof e},e}(Fo),LV=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=tA(this,n,!0),o=this.Kc.map(function(a){return jo(a,i)}),u=new ko(o);return new Xa(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(Fo),MV=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=tA(this,n,!0),o=this.Kc.map(function(a){return jo(a,i)}),u=new xo(o);return new Xa(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(Fo),FV=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Qc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=new Fs(n.R,BT(n.R,this.Qc));return new Xa(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(Fo);function Hm(t,e,n,i){var o=t.Uc(1,e,n);Gm("Data must be an object, but it was:",o,i);var u=[],a=$n.empty();Do(i,function(f,d){var v=Wm(e,f,n);d=Me(d);var g=o.Oc(v);if(d instanceof Km)u.push(v);else{var y=jo(d,g);y!=null&&(u.push(v),a.set(v,y))}});var l=new Rs(u);return new XS(a,l,o.fieldTransforms)}function zm(t,e,n,i,o,u){var a=t.Uc(1,e,n),l=[eg(e,i,n)],f=[o];if(u.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(eg(e,u[d])),f.push(u[d+1]);for(var v=[],g=$n.empty(),y=l.length-1;y>=0;--y)if(!iA(v,l[y])){var b=l[y],_=f[y];_=Me(_);var S=a.Oc(b);if(_ instanceof Km)v.push(b);else{var N=jo(_,S);N!=null&&(v.push(b),g.set(b,N))}}var O=new Rs(v);return new XS(g,O,a.fieldTransforms)}function eA(t,e,n,i){return i===void 0&&(i=!1),jo(n,t.Uc(i?4:3,e))}function jo(t,e){if(rA(t=Me(t)))return Gm("Unsupported field value:",e,t),nA(t,e);if(t instanceof Fo)return function(n,i){if(!JS(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=jo(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return BT(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=xn.fromDate(n);return{timestampValue:ka(i.R,o)}}if(n instanceof xn)return o=new xn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:ka(i.R,o)};if(n instanceof eh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Co)return{bytesValue:XT(i.R,n._byteString)};if(n instanceof Ee){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:bm(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+th(n))}(t,e)}function nA(t,e){var n={};return xT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Do(t,function(i,o){var u=jo(o,e.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function rA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof eh||t instanceof Co||t instanceof Ee||t instanceof Fo)}function Gm(t,e,n){if(!rA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=th(n);throw i==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function eg(t,e,n){if((e=Me(e))instanceof Dr)return e._internalPath;if(typeof e=="string")return Wm(t,e);throw lf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var VV=new RegExp("[~\\*/\\[\\]]");function Wm(t,e,n){if(e.search(VV)>=0)throw lf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Dr.bind.apply(Dr,Ae([void 0],e.split("."))))()._internalPath}catch{throw lf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function lf(t,e,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new G(D.INVALID_ARGUMENT,(l+=". ")+t+f)}function iA(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Da=function(){function t(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ee(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new jV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(ff("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),jV=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Da);function ff(t,e){return typeof e=="string"?Wm(t,e):e instanceof Dr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var go=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Wr=function(t){function e(n,i,o,u,a,l){var f=this;return(f=t.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Tt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new ua(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(ff("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},e}(Da),ua=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Wr),_i=function(){function t(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new go(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this._snapshot.docs.forEach(function(o){e.call(n,new ua(i._firestore,i._userDataWriter,o.key,o,new go(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new ua(i._firestore,i._userDataWriter,l.doc.key,l.doc,new go(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new ua(i._firestore,i._userDataWriter,l.doc.key,l.doc,new go(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,v=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(v=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:UV(l.type),doc:f,oldIndex:d,newIndex:v}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function UV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function oA(t,e){return t instanceof Wr&&e instanceof Wr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _i&&e instanceof _i&&t._firestore===e._firestore&&QS(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(t){if(tf(t)&&t.explicitOrderBy.length===0)throw new G(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ec=function(){};function hi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++){var u=o[i];t=u._apply(t)}return t}var BV=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Tt(e,t),e.prototype._apply=function(n){var i=Vo(n.firestore),o=function(u,a,l,f,d,v,g){var y;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new G(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+v+"' queries on FieldPath.documentId().");if(v==="in"||v==="not-in"){PE(g,v);for(var b=[],_=0,S=g;_<S.length;_++){var N=S[_];b.push(DE(f,u,N))}y={arrayValue:{values:b}}}else y=DE(f,u,g)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||PE(g,v),y=eA(l,"where",g,v==="in"||v==="not-in");var O=Gn.create(d,v,y);return function(P,j){if(j.g()){var q=vm(P);if(q!==null&&!q.isEqual(j.field))throw new G(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+q.toString()+"' and '"+j.field.toString()+"'");var nt=pm(P);nt!==null&&aA(P,j.field,nt)}var V=function(It,W){for(var ht=0,A=It.filters;ht<A.length;ht++){var Wt=A[ht];if(W.indexOf(Wt.op)>=0)return Wt.op}return null}(P,function(It){switch(It){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(V!==null)throw V===j.op?new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+j.op.toString()+"' filter."):new G(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+j.op.toString()+"' filters with '"+V.toString()+"' filters.")}(u,O),O}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Qn(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new ti(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},e}(ec),qV=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Tt(e,t),e.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new G(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ts(u,a);return function(f,d){if(pm(f)===null){var v=vm(f);v!==null&&aA(f,v,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Qn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new ti(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(ec),CE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Tt(e,t),e.prototype._apply=function(n){return new Qn(n.firestore,n.converter,MT(n._query,this.Hc,this.Jc))},e}(ec),OE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Tt(e,t),e.prototype._apply=function(n){var i=uA(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(o,u){return new ti(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},e}(ec),RE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Tt(e,t),e.prototype._apply=function(n){var i=uA(n,this.type,this.Yc,this.Xc);return new Qn(n.firestore,n.converter,function(o,u){return new ti(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},e}(ec);function uA(t,e,n,i){if(n[0]=Me(n[0]),n[0]instanceof Da)return function(u,a,l,f,d){if(!f)throw new G(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var v=[],g=0,y=Ls(u);g<y.length;g++){var b=y[g];if(b.field.isKeyField())v.push(Xl(a,f.key));else{var _=f.data.field(b.field);if(fm(_))throw new G(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var S=b.field.canonicalString();throw new G(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+S+"' (used as the orderBy) does not exist.")}v.push(_)}}return new Na(v,d)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=Vo(t.firestore);return function(u,a,l,f,d,v){var g=u.explicitOrderBy;if(d.length>g.length)throw new G(D.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],b=0;b<d.length;b++){var _=d[b];if(g[b].field.isKeyField()){if(typeof _!="string")throw new G(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!gm(u)&&_.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var S=u.path.child(ee.fromString(_));if(!bt.isDocumentKey(S))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+S+"' is not because it contains an odd number of segments.");var N=new bt(S);y.push(Xl(a,N))}else{var O=eA(l,f,_);y.push(O)}}return new Na(y,v)}(t._query,t.firestore._databaseId,o,e,n,i)}function DE(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!gm(e)&&n.indexOf("/")!==-1)throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(ee.fromString(n));if(!bt.isDocumentKey(i))throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Xl(t,new bt(i))}if(n instanceof Ee)return Xl(t,n._key);throw new G(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+th(n)+".")}function PE(t,e){if(!Array.isArray(t)||t.length===0)throw new G(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new G(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function aA(t,e,n){if(!n.isEqual(e))throw new G(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qm=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw yt()}},t.prototype.convertObject=function(e,n){var i=this,o={};return Do(e.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},t.prototype.convertGeoPoint=function(e){return new eh(De(e.latitude),De(e.longitude))},t.prototype.convertArray=function(e,n){var i=this;return(e.values||[]).map(function(o){return i.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var i=OT(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Sa(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Oi(e);return new xn(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var i=ee.fromString(e);Nt(oS(i));var o=new cf(i.get(1),i.get(3)),u=new bt(i.popFirst(5));return o.isEqual(n)||Pe("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rh(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var $V=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new Co(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(Qm),KV=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Vo(e)}return t.prototype.set=function(e,n,i){this._verifyNotCommitted();var o=Ei(e,this._firestore),u=rh(o.converter,n,i),a=nh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,an.none())),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Ei(e,this._firestore);return a=typeof(n=Me(n))=="string"||n instanceof Dr?zm(this._dataReader,"WriteBatch.update",l._key,n,i,o):Hm(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,an.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ei(e,this._firestore);return this._mutations=this._mutations.concat(new Za(n._key,an.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new G(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){if((t=Me(t)).firestore!==e)throw new G(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _o=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new Co(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(Qm);function LE(t,e,n){t=ne(t,Ee);var i=ne(t.firestore,Be),o=rh(t.converter,e,n);return nc(i,[nh(Vo(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,an.none())])}function ME(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=ne(t,Ee);var u=ne(t.firestore,Be),a=Vo(u);return nc(u,[(typeof(e=Me(e))=="string"||e instanceof Dr?zm(a,"updateDoc",t._key,e,n,i):Hm(a,"updateDoc",t._key,e)).toMutation(t._key,an.exists(!0))])}function cA(t){for(var e,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];t=Me(t);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||zs(o[l])||(a=o[l],l++);var f,d,v,g={includeMetadataChanges:a.includeMetadataChanges};if(zs(o[l])){var y=o[l];o[l]=(e=y.next)===null||e===void 0?void 0:e.bind(y),o[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),o[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(t instanceof Ee)d=ne(t.firestore,Be),v=Wa(t._key.path),f={next:function(S){o[l]&&o[l](ng(d,t,S))},error:o[l+1],complete:o[l+2]};else{var b=ne(t,Qn);d=ne(b.firestore,Be),v=b._query;var _=new _o(d);f={next:function(S){o[l]&&o[l](new _i(d,_,b,S))},error:o[l+1],complete:o[l+2]},sA(t._query)}return function(S,N,O,P){var j=this,q=new Jf(P),nt=new Pm(N,q,O);return S.asyncQueue.enqueueAndForget(function(){return H(j,void 0,void 0,function(){var V;return $(this,function(It){switch(It.label){case 0:return V=Om,[4,Hs(S)];case 1:return[2,V.apply(void 0,[It.sent(),nt])]}})})}),function(){q.Wo(),S.asyncQueue.enqueueAndForget(function(){return H(j,void 0,void 0,function(){var V;return $(this,function(It){switch(It.label){case 0:return V=Rm,[4,Hs(S)];case 1:return[2,V.apply(void 0,[It.sent(),nt])]}})})})}}(on(d),v,g,f)}function nc(t,e){return function(n,i){var o=this,u=new Rn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var a;return $(this,function(l){switch(l.label){case 0:return a=oV,[4,KS(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(on(t),e)}function ng(t,e,n){var i=n.docs.get(e._key),o=new _o(t);return new Wr(t,o,e._key,i,new go(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HV=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this)._firestore=n,o}return Tt(e,t),e.prototype.get=function(n){var i=this,o=Ei(n,this._firestore),u=new _o(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Wr(i._firestore,u,o._key,a._document,new go(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=Vo(e)}return t.prototype.get=function(e){var n=this,i=Ei(e,this._firestore),o=new $V(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return yt();var a=u[0];if(a.isFoundDocument())return new Da(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Da(n._firestore,o,i._key,null,i.converter);throw yt()})},t.prototype.set=function(e,n,i){var o=Ei(e,this._firestore),u=rh(o.converter,n,i),a=nh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Ei(e,this._firestore);return a=typeof(n=Me(n))=="string"||n instanceof Dr?zm(this._dataReader,"Transaction.update",l._key,n,i,o):Hm(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=Ei(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(){if(typeof Uint8Array>"u")throw new G(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function VE(){if(typeof atob>"u")throw new G(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lA=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return VE(),new t(Co.fromBase64String(e))},t.fromUint8Array=function(e){return FE(),new t(Co.fromUint8Array(e))},t.prototype.toBase64=function(){return VE(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return FE(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),zV=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(i,o){xE(i=ne(i,Be));var u=on(i),a=i._freezeSettings(),l=new tg;return kE(u,l,new US(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){xE(n=ne(n,Be));var i=on(n),o=n._freezeSettings(),u=new tg;return kE(i,u,new bV(u,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new G(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Rn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var u;return $(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return Us.yt()?(f=l+"main",[4,Us.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(Sm(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),fA=function(){function t(e,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof cf||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||Ql("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=ne(o,Ra))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&Ql("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var v,g;if(typeof l.mockUserToken=="string")v=l.mockUserToken,g=We.MOCK_USER;else{v=pP(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!y)throw new G(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new We(y)}o._credentials=new SV(new HS(v,g))}}(this._delegate,e,n,i)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,yE(e)];case 1:return i=u.sent(),[4,wE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=it(a);return l.Or.delete(0),tc(l)}(o))]}})})})}(on(ne(this._delegate,Be)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return $(this,function(u){switch(u.label){case 0:return[4,yE(e)];case 1:return i=u.sent(),[4,wE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return H(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=it(a)).Or.add(0),[4,nu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(on(ne(this._delegate,Be)))},t.prototype.enablePersistence=function(e){var n=!1,i=!1;return e&&zS("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,i=new Rn;return e.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return $(this,function(u){switch(u.label){case 0:return o=cV,[4,KS(e)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(on(ne(this._delegate,Be)))},t.prototype.onSnapshotsInSync=function(e){return function(n,i){return function(o,u){var a=this,l=new Jf(u);return o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(v,g){it(v).Gr.add(g),g.next()},[4,Hs(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(a,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(v,g){it(v).Gr.delete(g)},[4,Hs(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(on(n=ne(n,Be)),zs(i)?i:{next:i})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new G(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new hf(this,GS(this._delegate,e))}catch(n){throw vn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Eo(this,Rl(this._delegate,e))}catch(n){throw vn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new sh(this,function(n,i){if(n=ne(n,Ra),qm("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new G(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qn(n,null,function(o){return new ti(ee.emptyPath(),o)}(i))}(this._delegate,e))}catch(n){throw vn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(i,o){return function(u,a){var l=this,f=new Rn;return u.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return $(this,function(v){switch(v.label){case 0:return[4,function(g){return Zf(g).then(function(y){return y.datastore})}(u)];case 1:return d=v.sent(),new EV(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(on(i),function(u){return o(new HV(i,u))})}(this._delegate,function(i){return e(new hA(n,i))})},t.prototype.batch=function(){var e=this;return on(this._delegate),new dA(new KV(this._delegate,function(n){return nc(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new G(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new G(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ih=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new lA(new Co(n))},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Eo.eu(i,this.firestore,null)},e}(Qm);function GV(t){var e;e=t,vr.setLogLevel(e)}var hA=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ih(e)}return t.prototype.get=function(e){var n=this,i=mo(e);return this._delegate.get(i).then(function(o){return new Pa(n._firestore,new Wr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(e,n,i){var o=mo(e);return i?($m("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=mo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ae([l,n,i],u)),this},t.prototype.delete=function(e){var n=mo(e);return this._delegate.delete(n),this},t}(),dA=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,i){var o=mo(e);return i?($m("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=mo(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ae([l,n,i],u)),this},t.prototype.delete=function(e){var n=mo(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),oh=function(){function t(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}return t.prototype.fromFirestore=function(e,n){var i=new ua(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new La(this._firestore,i),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var i=t.su,o=i.get(e);o||(o=new WeakMap,i.set(e,o));var u=o.get(n);return u||(u=new t(e,new ih(e),n),o.set(n,u)),u},t}();oh.su=new WeakMap;var Eo=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ih(e)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new G(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ee(n._delegate,i,new bt(e)))},t.eu=function(e,n,i){return new t(n,new Ee(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new hf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new hf(this.firestore,GS(this._delegate,e))}catch(n){throw vn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Me(e))instanceof Ee&&WS(this._delegate,e)},t.prototype.set=function(e,n){n=$m("DocumentReference.set",n);try{return n?LE(this._delegate,e,n):LE(this._delegate,e)}catch(i){throw vn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?ME(this._delegate,e):ME.apply(void 0,Ae([this._delegate,e,n],i))}catch(u){throw vn(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return nc(ne((e=this._delegate).firestore,Be),[new Za(e._key,an.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=pA(n),u=vA(n,function(a){return new Pa(e.firestore,new Wr(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return cA(this._delegate,o,u)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ne(i,Ee);var o=ne(i.firestore,Be),u=on(o),a=new _o(o);return function(l,f){var d=this,v=new Rn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var g;return $(this,function(y){switch(y.label){case 0:return g=function(b,_,S){return H(this,void 0,void 0,function(){var N,O;return $(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(j,q){var nt=it(j);return nt.persistence.runTransaction("read document","readonly",function(V){return nt.Mn.mn(V,q)})}(b,_)];case 1:return(O=P.sent()).isFoundDocument()?S.resolve(O):O.isNoDocument()?S.resolve(null):S.reject(new G(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=P.sent(),O=ou(N,"Failed to get document '"+_+" from cache"),S.reject(O),[3,3];case 3:return[2]}})})},[4,$S(l)];case 1:return[2,g.apply(void 0,[y.sent(),f,v])]}})})}),v.promise}(u,i._key).then(function(l){return new Wr(o,a,i._key,l,new go(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ne(i,Ee);var o=ne(i.firestore,Be);return bE(on(o),i._key,{source:"server"}).then(function(u){return ng(o,i,u)})}(this._delegate):function(i){i=ne(i,Ee);var o=ne(i.firestore,Be);return bE(on(o),i._key).then(function(u){return ng(o,i,u)})}(this._delegate)).then(function(i){return new Pa(n.firestore,new Wr(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(oh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function vn(t,e,n){return t.message=t.message.replace(e,n),t}function pA(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(typeof i=="object"&&!zs(i))return i}return{}}function vA(t,e){var n,i,o;return{next:function(u){o.next&&o.next(e(u))},error:(n=(o=zs(t[0])?t[0]:zs(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var Pa=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Eo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return oA(this._delegate,e._delegate)},t}(),La=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(Pa),sh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ih(e)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,hi(this._delegate,function(o,u,a){var l=u,f=ff("where",o);return new BV(f,l,a)}(e,n,i)))}catch(o){throw vn(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,hi(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=ff("orderBy",i);return new qV(a,u)}(e,n)))}catch(i){throw vn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,hi(this._delegate,function(n){return AE("limit",n),new CE("limit",n,"F")}(e)))}catch(n){throw vn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,hi(this._delegate,function(n){return AE("limitToLast",n),new CE("limitToLast",n,"L")}(e)))}catch(n){throw vn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,hi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new OE("startAt",i,!0)}).apply(void 0,e)))}catch(i){throw vn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,hi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new OE("startAfter",i,!1)}).apply(void 0,e)))}catch(i){throw vn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,hi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new RE("endBefore",i,!0)}).apply(void 0,e)))}catch(i){throw vn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,hi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new RE("endAt",i,!1)}).apply(void 0,e)))}catch(i){throw vn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return QS(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ne(i,Qn);var o=ne(i.firestore,Be),u=on(o),a=new _o(o);return function(l,f){var d=this,v=new Rn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var g;return $(this,function(y){switch(y.label){case 0:return g=function(b,_,S){return H(this,void 0,void 0,function(){var N,O,P,j,q;return $(this,function(nt){switch(nt.label){case 0:return nt.trys.push([0,2,,3]),[4,sf(b,_,!0)];case 1:return q=nt.sent(),N=new LS(_,q.Bn),O=N._o(q.documents),P=N.applyChanges(O,!1),S.resolve(P.snapshot),[3,3];case 2:return j=nt.sent(),q=ou(j,"Failed to execute query '"+_+" against cache"),S.reject(q),[3,3];case 3:return[2]}})})},[4,$S(l)];case 1:return[2,g.apply(void 0,[y.sent(),f,v])]}})})}),v.promise}(u,i._query).then(function(l){return new _i(o,a,i,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ne(i,Qn);var o=ne(i.firestore,Be),u=on(o),a=new _o(o);return _E(u,i._query,{source:"server"}).then(function(l){return new _i(o,a,i,l)})}(this._delegate):function(i){i=ne(i,Qn);var o=ne(i.firestore,Be),u=on(o),a=new _o(o);return sA(i._query),_E(u,i._query).then(function(l){return new _i(o,a,i,l)})}(this._delegate)).then(function(i){return new rg(n.firestore,new _i(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=pA(n),u=vA(n,function(a){return new rg(e.firestore,new _i(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return cA(this._delegate,o,u)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(oh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),WV=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new La(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),rg=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new sh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new La(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(i){return new WV(n._firestore,i)})},t.prototype.forEach=function(e,n){var i=this;this._delegate.forEach(function(o){e.call(n,new La(i._firestore,o))})},t.prototype.isEqual=function(e){return oA(this._delegate,e._delegate)},t}(),hf=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Tt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Eo(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Eo(this.firestore,n===void 0?Rl(this._delegate):Rl(this._delegate,n))}catch(i){throw vn(i,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var i=this;return function(o,u){var a=ne(o.firestore,Be),l=Rl(o),f=rh(o.converter,u);return nc(a,[nh(Vo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,an.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Eo(i.firestore,o)})},e.prototype.isEqual=function(n){return WS(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(oh.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(sh);function mo(t){return ne(t,Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QV=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Dr.bind.apply(Dr,Ae([void 0],e)))}return t.documentId=function(){return new t(yr.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Me(e))instanceof Dr&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),YV=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new PV("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Km("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new LV("arrayUnion",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new MV("arrayRemove",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(i){return new FV("increment",i)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),XV={Firestore:fA,GeoPoint:eh,Timestamp:xn,Blob:lA,Transaction:hA,WriteBatch:dA,DocumentReference:Eo,DocumentSnapshot:Pa,Query:sh,QueryDocumentSnapshot:La,QuerySnapshot:rg,CollectionReference:hf,FieldPath:QV,FieldValue:YV,setLogLevel:GV,CACHE_SIZE_UNLIMITED:CV};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t){(function(e,n){e.INTERNAL.registerComponent(new Of("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},XV)))})(t,function(e,n){return new fA(e,new Be(e,n),new zV)}),t.registerVersion("@firebase/firestore","2.4.1")}JV(xt);const ZV={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};xt.initializeApp(ZV);const tj=xt.auth();xt.firestore();const ej={name:"RegisterForm",data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",age:"required|min_value:14|max_value:120",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_alert_msg:"Please wait! Your account is being created. "}},methods:{async register(t){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.reg_alert_msg="Please wait! Your account is being created. ";let e=null;try{e=await tj.createUserWithEmailAndPassword(t.email,t.password)}catch(n){this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg=n.message+". Please try again later",console.log(n);return}this.reg_alert_variant="bg-[#1ed760]",this.reg_alert_msg="Success! Your account has been created.",console.log(e)}}},nj={class:""},rj=ft("label",{class:""},"Name",-1),ij={class:""},oj=ft("label",{class:""},"Email",-1),sj={class:""},uj=ft("label",{class:""},"Age",-1),aj={class:""},cj=ft("label",{class:""},"Password",-1),lj={class:""},fj=ft("label",{class:""},"Confirm Password",-1),hj={class:""},dj=ft("label",{class:""},"Country",-1),pj=ft("option",{value:"Argentina"},"Argentina",-1),vj=ft("option",{value:"United States"},"United States",-1),gj=ft("option",{value:"Spain"},"Spain",-1),mj=ft("option",{value:"Germany"},"Germany",-1),yj=ft("option",{value:"Antarctica"},"Antarctica",-1),wj={class:"mb-3 pl-6"},bj={class:"inline-block hover:cursor-pointer"},_j=ft("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function Ej(t,e,n,i,o,u){const a=qn("VeeField"),l=qn("ErrorMessage"),f=qn("VeeForm");return un(),Hn(Un,null,[o.reg_show_alert?(un(),Hn("div",{key:0,class:Ti(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},hv(o.reg_alert_msg),3)):l1("",!0),qt(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:u.register,"initial-values":o.userData},{default:Zu(()=>[ft("div",nj,[rj,qt(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),qt(l,{class:"text-red-600",name:"name"})]),ft("div",ij,[oj,qt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),qt(l,{class:"text-red-600",name:"email"})]),ft("div",sj,[uj,qt(a,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your age"}),qt(l,{class:"text-red-600",name:"age"})]),ft("div",aj,[cj,qt(a,{name:"password",bails:!1},{default:Zu(({field:d,errors:v})=>[ft("input",f1(d,{placeholder:"Enter new Password",type:"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16),(un(!0),Hn(Un,null,nR(v,g=>(un(),Hn("div",{class:"text-red-600",key:g},hv(g),1))),128))]),_:1})]),ft("div",lj,[fj,qt(a,{name:"confirmPassword",type:"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),qt(l,{class:"text-red-600",name:"confirmPassword"})]),ft("div",hj,[dj,qt(a,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:Zu(()=>[pj,vj,gj,mj,yj]),_:1}),qt(l,{class:"text-red-600",name:"country"})]),ft("div",wj,[ft("label",bj,[qt(a,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),c1(" Accept terms of service")]),qt(l,{class:"text-red-600 block",name:"tos"})]),_j]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const Ij=Zr(ej,[["render",Ej]]),Tj={name:"AppAuth",components:{AppLoginForm:uP,AppRegisterForm:Ij},data(){return{tab:"login"}},computed:{...vD(Vl,["hiddenClass"]),...y1(Vl,{modalVisibility:"isOpen"})},methods:{}},Sj={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Aj=ft("div",{class:"fixed inset-0 transition-opacity"},[ft("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),Nj=ft("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),kj={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},xj={class:"py-4 text-left px-6"},Cj={class:"flex justify-between items-center pb-4"},Oj=ft("p",{class:"text-2xl font-bold"},"Your Account",-1),Rj=ft("i",{class:"fas fa-times"},null,-1),Dj=[Rj],Pj={class:"flex flex-wrap mb-4 gap-2"},Lj={class:"flex-auto text-center"},Mj={class:"flex-auto text-center"};function Fj(t,e,n,i,o,u){const a=qn("AppLoginForm"),l=qn("AppRegisterForm");return un(),Hn("div",{class:Ti(["fixed z-10 inset-0 overflow-y-auto",t.hiddenClass]),id:"modal"},[ft("div",Sj,[Aj,Nj,ft("div",kj,[ft("div",xj,[ft("div",Cj,[Oj,ft("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=f=>t.modalVisibility=!1)},Dj)]),ft("ul",Pj,[ft("li",Lj,[ft("a",{class:Ti(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:e[1]||(e[1]=Sv(f=>o.tab="login",["prevent"]))},"Login",2)]),ft("li",Mj,[ft("a",{class:Ti(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:e[2]||(e[2]=Sv(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(un(),Ev(a,{key:0})):(un(),Ev(l,{key:1}))])])])],2)}const Vj=Zr(Tj,[["render",Fj]]),jj={name:"App",components:{AppHeader:ND,AppPlaylistHeader:ZD,AppPlaylist:zD,AppPlayer:UD,AppAuth:Vj}};function Uj(t,e,n,i,o,u){const a=qn("AppHeader"),l=qn("AppPlaylistHeader"),f=qn("AppPlaylist"),d=qn("AppPlayer"),v=qn("AppAuth");return un(),Hn(Un,null,[qt(a),qt(l),qt(f),qt(d),qt(v)],64)}const Bj=Zr(jj,[["render",Uj]]),qj="modulepreload",$j=function(t){return"/musicfy/"+t},jE={},Kj=function(e,n,i){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(u=>{if(u=$j(u),u in jE)return;jE[u]=!0;const a=u.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let v=o.length-1;v>=0;v--){const g=o[v];if(g.href===u&&(!a||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${l}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":qj,a||(d.as="script",d.crossOrigin=""),d.href=u,document.head.appendChild(d),a)return new Promise((v,g)=>{d.addEventListener("load",v),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>e()).catch(u=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=u,window.dispatchEvent(a),!a.defaultPrevented)throw u})};/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const gs=typeof window<"u";function Hj(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ie=Object.assign;function sv(t,e){const n={};for(const i in e){const o=e[i];n[i]=wr(o)?o.map(t):t(o)}return n}const aa=()=>{},wr=Array.isArray,zj=/\/$/,Gj=t=>t.replace(zj,"");function uv(t,e,n="/"){let i,o={},u="",a="";const l=e.indexOf("#");let f=e.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=e.slice(0,f),u=e.slice(f+1,l>-1?l:e.length),o=t(u)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=Xj(i??e,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function Wj(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function UE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Qj(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Gs(e.matched[i],n.matched[o])&&gA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Gs(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function gA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Yj(t[n],e[n]))return!1;return!0}function Yj(t,e){return wr(t)?BE(t,e):wr(e)?BE(e,t):t===e}function BE(t,e){return wr(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function Xj(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var Ma;(function(t){t.pop="pop",t.push="push"})(Ma||(Ma={}));var ca;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ca||(ca={}));function Jj(t){if(!t)if(gs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Gj(t)}const Zj=/^[^#]+#/;function t2(t,e){return t.replace(Zj,"#")+e}function e2(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const uh=()=>({left:window.pageXOffset,top:window.pageYOffset});function n2(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=e2(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function qE(t,e){return(history.state?history.state.position-e:-1)+t}const ig=new Map;function r2(t,e){ig.set(t,e)}function i2(t){const e=ig.get(t);return ig.delete(t),e}let o2=()=>location.protocol+"//"+location.host;function mA(t,e){const{pathname:n,search:i,hash:o}=e,u=t.indexOf("#");if(u>-1){let l=o.includes(t.slice(u))?t.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),UE(f,"")}return UE(n,t)+i+o}function s2(t,e,n,i){let o=[],u=[],a=null;const l=({state:y})=>{const b=mA(t,location),_=n.value,S=e.value;let N=0;if(y){if(n.value=b,e.value=y,a&&a===_){a=null;return}N=S?y.position-S.position:0}else i(b);o.forEach(O=>{O(n.value,_,{delta:N,type:Ma.pop,direction:N?N>0?ca.forward:ca.back:ca.unknown})})};function f(){a=n.value}function d(y){o.push(y);const b=()=>{const _=o.indexOf(y);_>-1&&o.splice(_,1)};return u.push(b),b}function v(){const{history:y}=window;y.state&&y.replaceState(ie({},y.state,{scroll:uh()}),"")}function g(){for(const y of u)y();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:f,listen:d,destroy:g}}function $E(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?uh():null}}function u2(t){const{history:e,location:n}=window,i={value:mA(t,n)},o={value:e.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(f,d,v){const g=t.indexOf("#"),y=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+f:o2()+t+f;try{e[v?"replaceState":"pushState"](d,"",y),o.value=d}catch(b){console.error(b),n[v?"replace":"assign"](y)}}function a(f,d){const v=ie({},e.state,$E(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,v,!0),i.value=f}function l(f,d){const v=ie({},o.value,e.state,{forward:f,scroll:uh()});u(v.current,v,!0);const g=ie({},$E(i.value,f,null),{position:v.position+1},d);u(f,g,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function a2(t){t=Jj(t);const e=u2(t),n=s2(t,e.state,e.location,e.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=ie({location:"",base:t,go:i,createHref:t2.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function c2(t){return typeof t=="string"||t&&typeof t=="object"}function yA(t){return typeof t=="string"||typeof t=="symbol"}const di={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},wA=Symbol("");var KE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(KE||(KE={}));function Ws(t,e){return ie(new Error,{type:t,[wA]:!0},e)}function qr(t,e){return t instanceof Error&&wA in t&&(e==null||!!(t.type&e))}const HE="[^/]+?",l2={sensitive:!1,strict:!1,start:!0,end:!0},f2=/[.+*?^${}()[\]/\\]/g;function h2(t,e){const n=ie({},l2,e),i=[];let o=n.start?"^":"";const u=[];for(const d of t){const v=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let g=0;g<d.length;g++){const y=d[g];let b=40+(n.sensitive?.25:0);if(y.type===0)g||(o+="/"),o+=y.value.replace(f2,"\\$&"),b+=40;else if(y.type===1){const{value:_,repeatable:S,optional:N,regexp:O}=y;u.push({name:_,repeatable:S,optional:N});const P=O||HE;if(P!==HE){b+=10;try{new RegExp(`(${P})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+q.message)}}let j=S?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;g||(j=N&&d.length<2?`(?:/${j})`:"/"+j),N&&(j+="?"),o+=j,b+=20,N&&(b+=-8),S&&(b+=-20),P===".*"&&(b+=-50)}v.push(b)}i.push(v)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const v=d.match(a),g={};if(!v)return null;for(let y=1;y<v.length;y++){const b=v[y]||"",_=u[y-1];g[_.name]=b&&_.repeatable?b.split("/"):b}return g}function f(d){let v="",g=!1;for(const y of t){(!g||!v.endsWith("/"))&&(v+="/"),g=!1;for(const b of y)if(b.type===0)v+=b.value;else if(b.type===1){const{value:_,repeatable:S,optional:N}=b,O=_ in d?d[_]:"";if(wr(O)&&!S)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=wr(O)?O.join("/"):O;if(!P)if(N)y.length<2&&(v.endsWith("/")?v=v.slice(0,-1):g=!0);else throw new Error(`Missing required param "${_}"`);v+=P}}return v||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function d2(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function p2(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const u=d2(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(zE(i))return 1;if(zE(o))return-1}return o.length-i.length}function zE(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const v2={type:0,value:""},g2=/[a-zA-Z0-9_]/;function m2(t){if(!t)return[[]];if(t==="/")return[[v2]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",v="";function g(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),d="")}function y(){d+=f}for(;l<t.length;){if(f=t[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&g(),a()):f===":"?(g(),n=1):y();break;case 4:y(),n=i;break;case 1:f==="("?n=2:g2.test(f)?y():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:n=3:v+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,v="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),g(),a(),o}function y2(t,e,n){const i=h2(m2(t.path),n),o=ie(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function w2(t,e){const n=[],i=new Map;e=QE({strict:!1,end:!0,sensitive:!1},e);function o(v){return i.get(v)}function u(v,g,y){const b=!y,_=b2(v);_.aliasOf=y&&y.record;const S=QE(e,v),N=[_];if("alias"in v){const j=typeof v.alias=="string"?[v.alias]:v.alias;for(const q of j)N.push(ie({},_,{components:y?y.record.components:_.components,path:q,aliasOf:y?y.record:_}))}let O,P;for(const j of N){const{path:q}=j;if(g&&q[0]!=="/"){const nt=g.record.path,V=nt[nt.length-1]==="/"?"":"/";j.path=g.record.path+(q&&V+q)}if(O=y2(j,g,S),y?y.alias.push(O):(P=P||O,P!==O&&P.alias.push(O),b&&v.name&&!WE(O)&&a(v.name)),_.children){const nt=_.children;for(let V=0;V<nt.length;V++)u(nt[V],O,y&&y.children[V])}y=y||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&f(O)}return P?()=>{a(P)}:aa}function a(v){if(yA(v)){const g=i.get(v);g&&(i.delete(v),n.splice(n.indexOf(g),1),g.children.forEach(a),g.alias.forEach(a))}else{const g=n.indexOf(v);g>-1&&(n.splice(g,1),v.record.name&&i.delete(v.record.name),v.children.forEach(a),v.alias.forEach(a))}}function l(){return n}function f(v){let g=0;for(;g<n.length&&p2(v,n[g])>=0&&(v.record.path!==n[g].record.path||!bA(v,n[g]));)g++;n.splice(g,0,v),v.record.name&&!WE(v)&&i.set(v.record.name,v)}function d(v,g){let y,b={},_,S;if("name"in v&&v.name){if(y=i.get(v.name),!y)throw Ws(1,{location:v});S=y.record.name,b=ie(GE(g.params,y.keys.filter(P=>!P.optional).map(P=>P.name)),v.params&&GE(v.params,y.keys.map(P=>P.name))),_=y.stringify(b)}else if("path"in v)_=v.path,y=n.find(P=>P.re.test(_)),y&&(b=y.parse(_),S=y.record.name);else{if(y=g.name?i.get(g.name):n.find(P=>P.re.test(g.path)),!y)throw Ws(1,{location:v,currentLocation:g});S=y.record.name,b=ie({},g.params,v.params),_=y.stringify(b)}const N=[];let O=y;for(;O;)N.unshift(O.record),O=O.parent;return{name:S,path:_,params:b,matched:N,meta:E2(N)}}return t.forEach(v=>u(v)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function GE(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function b2(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:_2(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function _2(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function WE(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function E2(t){return t.reduce((e,n)=>ie(e,n.meta),{})}function QE(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function bA(t,e){return e.children.some(n=>n===t||bA(t,n))}const _A=/#/g,I2=/&/g,T2=/\//g,S2=/=/g,A2=/\?/g,EA=/\+/g,N2=/%5B/g,k2=/%5D/g,IA=/%5E/g,x2=/%60/g,TA=/%7B/g,C2=/%7C/g,SA=/%7D/g,O2=/%20/g;function Ym(t){return encodeURI(""+t).replace(C2,"|").replace(N2,"[").replace(k2,"]")}function R2(t){return Ym(t).replace(TA,"{").replace(SA,"}").replace(IA,"^")}function og(t){return Ym(t).replace(EA,"%2B").replace(O2,"+").replace(_A,"%23").replace(I2,"%26").replace(x2,"`").replace(TA,"{").replace(SA,"}").replace(IA,"^")}function D2(t){return og(t).replace(S2,"%3D")}function P2(t){return Ym(t).replace(_A,"%23").replace(A2,"%3F")}function L2(t){return t==null?"":P2(t).replace(T2,"%2F")}function df(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function M2(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(EA," "),a=u.indexOf("="),l=df(a<0?u:u.slice(0,a)),f=a<0?null:df(u.slice(a+1));if(l in e){let d=e[l];wr(d)||(d=e[l]=[d]),d.push(f)}else e[l]=f}return e}function YE(t){let e="";for(let n in t){const i=t[n];if(n=D2(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(wr(i)?i.map(u=>u&&og(u)):[i&&og(i)]).forEach(u=>{u!==void 0&&(e+=(e.length?"&":"")+n,u!=null&&(e+="="+u))})}return e}function F2(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=wr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const V2=Symbol(""),XE=Symbol(""),Xm=Symbol(""),AA=Symbol(""),sg=Symbol("");function Hu(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function mi(t,e,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=g=>{g===!1?l(Ws(4,{from:n,to:e})):g instanceof Error?l(g):c2(g)?l(Ws(2,{from:e,to:g})):(u&&i.enterCallbacks[o]===u&&typeof g=="function"&&u.push(g),a())},d=t.call(i&&i.instances[o],e,n,f);let v=Promise.resolve(d);t.length<3&&(v=v.then(f)),v.catch(g=>l(g))})}function av(t,e,n,i){const o=[];for(const u of t)for(const a in u.components){let l=u.components[a];if(!(e!=="beforeRouteEnter"&&!u.instances[a]))if(j2(l)){const d=(l.__vccOpts||l)[e];d&&o.push(mi(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const v=Hj(d)?d.default:d;u.components[a]=v;const y=(v.__vccOpts||v)[e];return y&&mi(y,n,i,u,a)()}))}}return o}function j2(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function JE(t){const e=nr(Xm),n=nr(AA),i=Bt(()=>e.resolve(Gt(t.to))),o=Bt(()=>{const{matched:f}=i.value,{length:d}=f,v=f[d-1],g=n.matched;if(!v||!g.length)return-1;const y=g.findIndex(Gs.bind(null,v));if(y>-1)return y;const b=ZE(f[d-2]);return d>1&&ZE(v)===b&&g[g.length-1].path!==b?g.findIndex(Gs.bind(null,f[d-2])):y}),u=Bt(()=>o.value>-1&&$2(n.params,i.value.params)),a=Bt(()=>o.value>-1&&o.value===n.matched.length-1&&gA(n.params,i.value.params));function l(f={}){return q2(f)?e[Gt(t.replace)?"replace":"push"](Gt(t.to)).catch(aa):Promise.resolve()}return{route:i,href:Bt(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const U2=Fa({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:JE,setup(t,{slots:e}){const n=Yr(JE(t)),{options:i}=nr(Xm),o=Bt(()=>({[tI(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[tI(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=e.default&&e.default(n);return t.custom?u:ks("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),B2=U2;function q2(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function $2(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!wr(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function ZE(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const tI=(t,e,n)=>t??e??n,K2=Fa({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=nr(sg),o=Bt(()=>t.route||i.value),u=nr(XE,0),a=Bt(()=>{let d=Gt(u);const{matched:v}=o.value;let g;for(;(g=v[d])&&!g.components;)d++;return d}),l=Bt(()=>o.value.matched[a.value]);Is(XE,Bt(()=>a.value+1)),Is(V2,l),Is(sg,o);const f=gn();return Wn(()=>[f.value,l.value,t.name],([d,v,g],[y,b,_])=>{v&&(v.instances[g]=d,b&&b!==v&&d&&d===y&&(v.leaveGuards.size||(v.leaveGuards=b.leaveGuards),v.updateGuards.size||(v.updateGuards=b.updateGuards))),d&&v&&(!b||!Gs(v,b)||!y)&&(v.enterCallbacks[g]||[]).forEach(S=>S(d))},{flush:"post"}),()=>{const d=o.value,v=t.name,g=l.value,y=g&&g.components[v];if(!y)return eI(n.default,{Component:y,route:d});const b=g.props[v],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,N=ks(y,ie({},_,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(g.instances[v]=null)},ref:f}));return eI(n.default,{Component:N,route:d})||N}}});function eI(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const H2=K2;function z2(t){const e=w2(t.routes,t),n=t.parseQuery||M2,i=t.stringifyQuery||YE,o=t.history,u=Hu(),a=Hu(),l=Hu(),f=MI(di);let d=di;gs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=sv.bind(null,R=>""+R),g=sv.bind(null,L2),y=sv.bind(null,df);function b(R,U){let J,st;return yA(R)?(J=e.getRecordMatcher(R),st=U):st=R,e.addRoute(st,J)}function _(R){const U=e.getRecordMatcher(R);U&&e.removeRoute(U)}function S(){return e.getRoutes().map(R=>R.record)}function N(R){return!!e.getRecordMatcher(R)}function O(R,U){if(U=ie({},U||f.value),typeof R=="string"){const C=uv(n,R,U.path),M=e.resolve({path:C.path},U),F=o.createHref(C.fullPath);return ie(C,M,{params:y(M.params),hash:df(C.hash),redirectedFrom:void 0,href:F})}let J;if("path"in R)J=ie({},R,{path:uv(n,R.path,U.path).path});else{const C=ie({},R.params);for(const M in C)C[M]==null&&delete C[M];J=ie({},R,{params:g(C)}),U.params=g(U.params)}const st=e.resolve(J,U),Rt=R.hash||"";st.params=v(y(st.params));const I=Wj(i,ie({},R,{hash:R2(Rt),path:st.path})),T=o.createHref(I);return ie({fullPath:I,hash:Rt,query:i===YE?F2(R.query):R.query||{}},st,{redirectedFrom:void 0,href:T})}function P(R){return typeof R=="string"?uv(n,R,f.value.path):ie({},R)}function j(R,U){if(d!==R)return Ws(8,{from:U,to:R})}function q(R){return It(R)}function nt(R){return q(ie(P(R),{replace:!0}))}function V(R){const U=R.matched[R.matched.length-1];if(U&&U.redirect){const{redirect:J}=U;let st=typeof J=="function"?J(R):J;return typeof st=="string"&&(st=st.includes("?")||st.includes("#")?st=P(st):{path:st},st.params={}),ie({query:R.query,hash:R.hash,params:"path"in st?{}:R.params},st)}}function It(R,U){const J=d=O(R),st=f.value,Rt=R.state,I=R.force,T=R.replace===!0,C=V(J);if(C)return It(ie(P(C),{state:typeof C=="object"?ie({},Rt,C.state):Rt,force:I,replace:T}),U||J);const M=J;M.redirectedFrom=U;let F;return!I&&Qj(i,st,J)&&(F=Ws(16,{to:M,from:st}),Ve(st,st,!0,!1)),(F?Promise.resolve(F):A(M,st)).catch(z=>qr(z)?qr(z,2)?z:Ie(z):vt(z,M,st)).then(z=>{if(z){if(qr(z,2))return It(ie({replace:T},P(z.to),{state:typeof z.to=="object"?ie({},Rt,z.to.state):Rt,force:I}),U||M)}else z=oe(M,st,!0,T,Rt);return Wt(M,st,z),z})}function W(R,U){const J=j(R,U);return J?Promise.reject(J):Promise.resolve()}function ht(R){const U=Pn.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(R):R()}function A(R,U){let J;const[st,Rt,I]=G2(R,U);J=av(st.reverse(),"beforeRouteLeave",R,U);for(const C of st)C.leaveGuards.forEach(M=>{J.push(mi(M,R,U))});const T=W.bind(null,R,U);return J.push(T),gt(J).then(()=>{J=[];for(const C of u.list())J.push(mi(C,R,U));return J.push(T),gt(J)}).then(()=>{J=av(Rt,"beforeRouteUpdate",R,U);for(const C of Rt)C.updateGuards.forEach(M=>{J.push(mi(M,R,U))});return J.push(T),gt(J)}).then(()=>{J=[];for(const C of I)if(C.beforeEnter)if(wr(C.beforeEnter))for(const M of C.beforeEnter)J.push(mi(M,R,U));else J.push(mi(C.beforeEnter,R,U));return J.push(T),gt(J)}).then(()=>(R.matched.forEach(C=>C.enterCallbacks={}),J=av(I,"beforeRouteEnter",R,U),J.push(T),gt(J))).then(()=>{J=[];for(const C of a.list())J.push(mi(C,R,U));return J.push(T),gt(J)}).catch(C=>qr(C,8)?C:Promise.reject(C))}function Wt(R,U,J){l.list().forEach(st=>ht(()=>st(R,U,J)))}function oe(R,U,J,st,Rt){const I=j(R,U);if(I)return I;const T=U===di,C=gs?history.state:{};J&&(st||T?o.replace(R.fullPath,ie({scroll:T&&C&&C.scroll},Rt)):o.push(R.fullPath,Rt)),f.value=R,Ve(R,U,J,T),Ie()}let se;function ce(){se||(se=o.listen((R,U,J)=>{if(!dt.listening)return;const st=O(R),Rt=V(st);if(Rt){It(ie(Rt,{replace:!0}),st).catch(aa);return}d=st;const I=f.value;gs&&r2(qE(I.fullPath,J.delta),uh()),A(st,I).catch(T=>qr(T,12)?T:qr(T,2)?(It(T.to,st).then(C=>{qr(C,20)&&!J.delta&&J.type===Ma.pop&&o.go(-1,!1)}).catch(aa),Promise.reject()):(J.delta&&o.go(-J.delta,!1),vt(T,st,I))).then(T=>{T=T||oe(st,I,!1),T&&(J.delta&&!qr(T,8)?o.go(-J.delta,!1):J.type===Ma.pop&&qr(T,20)&&o.go(-1,!1)),Wt(st,I,T)}).catch(aa)}))}let Qt=Hu(),ot=Hu(),Lt;function vt(R,U,J){Ie(R);const st=ot.list();return st.length?st.forEach(Rt=>Rt(R,U,J)):console.error(R),Promise.reject(R)}function he(){return Lt&&f.value!==di?Promise.resolve():new Promise((R,U)=>{Qt.add([R,U])})}function Ie(R){return Lt||(Lt=!R,ce(),Qt.list().forEach(([U,J])=>R?J(R):U()),Qt.reset()),R}function Ve(R,U,J,st){const{scrollBehavior:Rt}=t;if(!gs||!Rt)return Promise.resolve();const I=!J&&i2(qE(R.fullPath,0))||(st||!J)&&history.state&&history.state.scroll||null;return xr().then(()=>Rt(R,U,I)).then(T=>T&&n2(T)).catch(T=>vt(T,R,U))}const Ce=R=>o.go(R);let de;const Pn=new Set,dt={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:N,getRoutes:S,resolve:O,options:t,push:q,replace:nt,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:ot.add,isReady:he,install(R){const U=this;R.component("RouterLink",B2),R.component("RouterView",H2),R.config.globalProperties.$router=U,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Gt(f)}),gs&&!de&&f.value===di&&(de=!0,q(o.location).catch(Rt=>{}));const J={};for(const Rt in di)Object.defineProperty(J,Rt,{get:()=>f.value[Rt],enumerable:!0});R.provide(Xm,U),R.provide(AA,RI(J)),R.provide(sg,f);const st=R.unmount;Pn.add(R),R.unmount=function(){Pn.delete(R),Pn.size<1&&(d=di,se&&se(),se=null,f.value=di,de=!1,Lt=!1),st()}}};function gt(R){return R.reduce((U,J)=>U.then(()=>ht(J)),Promise.resolve())}return dt}function G2(t,e){const n=[],i=[],o=[],u=Math.max(e.matched.length,t.matched.length);for(let a=0;a<u;a++){const l=e.matched[a];l&&(t.matched.find(d=>Gs(d,l))?i.push(l):n.push(l));const f=t.matched[a];f&&(e.matched.find(d=>Gs(d,f))||o.push(f))}return[n,i,o]}const W2={};function Q2(t,e){return un(),Hn("h1")}const Y2=Zr(W2,[["render",Q2]]),X2=z2({history:a2("/musicfy/"),routes:[{path:"/",name:"home",component:Y2},{path:"/about",name:"about",component:()=>Kj(()=>import("./AboutView-ca9236ea.js"),[])}]});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Qe(t){return typeof t=="function"}function NA(t){return t==null}const Oo=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function Jm(t){return Number(t)>=0}function J2(t){const e=parseFloat(t);return isNaN(e)?t:e}function Z2(t){return typeof t=="object"&&t!==null}function tU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function eU(t){if(!Z2(t)||tU(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function pf(t,e){return Object.keys(e).forEach(n=>{if(eU(e[n])){t[n]||(t[n]={}),pf(t[n],e[n]);return}t[n]=e[n]}),t}function Ju(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let i=1;i<e.length;i++){if(Jm(e[i])){n+=`[${e[i]}]`;continue}n+=`.${e[i]}`}return n}const kA={};function cr(t,e){rU(t,e),kA[t]=e}function nU(t){return kA[t]}function rU(t,e){if(!Qe(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}function nI(t,e,n){typeof n.value=="object"&&(n.value=le(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function le(t){if(typeof t!="object")return t;var e=0,n,i,o,u=Object.prototype.toString.call(t);if(u==="[object Object]"?o=Object.create(t.__proto__||null):u==="[object Array]"?o=Array(t.length):u==="[object Set]"?(o=new Set,t.forEach(function(a){o.add(le(a))})):u==="[object Map]"?(o=new Map,t.forEach(function(a,l){o.set(le(l),le(a))})):u==="[object Date]"?o=new Date(+t):u==="[object RegExp]"?o=new RegExp(t.source,t.flags):u==="[object DataView]"?o=new t.constructor(le(t.buffer)):u==="[object ArrayBuffer]"?o=t.slice(0):u.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)nI(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,n=i[e])&&o[n]===t[n]||nI(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}const ah=Symbol("vee-validate-form"),iU=Symbol("vee-validate-field-instance"),vf=Symbol("Default empty value"),oU=typeof window<"u";function ug(t){return Qe(t)&&!!t.__locatorRef}function Di(t){return!!t&&Qe(t.parse)&&t.__type==="VVTypedSchema"}function gf(t){return!!t&&Qe(t.validate)}function rc(t){return t==="checkbox"||t==="radio"}function sU(t){return Oo(t)||Array.isArray(t)}function uU(t){return Array.isArray(t)?t.length===0:Oo(t)&&Object.keys(t).length===0}function ch(t){return/^\[.+\]$/i.test(t)}function aU(t){return xA(t)&&t.multiple}function xA(t){return t.tagName==="SELECT"}function cU(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function lU(t,e){return!cU(t,e)&&e.type!=="file"&&!rc(e.type)}function CA(t){return Zm(t)&&t.target&&"submit"in t.target}function Zm(t){return t?!!(typeof Event<"u"&&Qe(Event)&&t instanceof Event||t&&t.srcElement):!1}function rI(t,e){return e in t&&t[e]!==vf}function _n(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!_n(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!_n(i[1],e.get(i[0])))return!1;return!0}if(iI(t)&&iI(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();for(o=Object.keys(t),n=o.length,i=n;i--!==0;){var u=o[i];if(!_n(t[u],e[u]))return!1}return!0}return t!==t&&e!==e}function iI(t){return oU?t instanceof File:!1}function ty(t){return ch(t)?t.replace(/\[|\]/gi,""):t}function Nn(t,e,n){return t?ch(e)?t[ty(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>sU(o)&&u in o?o[u]:n,t):n}function co(t,e,n){if(ch(e)){t[ty(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let o=t;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||NA(o[i[u]]))&&(o[i[u]]=Jm(i[u+1])?[]:{}),o=o[i[u]]}}function cv(t,e){if(Array.isArray(t)&&Jm(e)){t.splice(Number(e),1);return}Oo(t)&&delete t[e]}function oI(t,e){if(ch(e)){delete t[ty(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let u=0;u<n.length;u++){if(u===n.length-1){cv(i,n[u]);break}if(!(n[u]in i)||NA(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>Nn(t,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(uU(o[u])){if(u===0){cv(t,n[0]);continue}cv(o[u-1],n[u-1])}}function er(t){return Object.keys(t)}function OA(t,e=void 0){const n=xf();return(n==null?void 0:n.provides[t])||nr(t,e)}function sI(t,e,n){if(Array.isArray(t)){const i=[...t],o=i.findIndex(u=>_n(u,e));return o>=0?i.splice(o,1):i.push(e),i}return _n(t,e)?n:e}function uI(t,e=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=t(...o);i.forEach(a=>a(u)),i=[]},e),new Promise(u=>i.push(u))}}function fU(t,e){return Oo(e)&&e.number?J2(t):t}function ag(t,e){let n;return async function(...o){const u=t(...o);n=u;const a=await u;return u!==n||(n=void 0,e(a,o)),a}}function cg(t){return Array.isArray(t)?t:t?[t]:[]}function zu(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function hU(t){let e=null,n=[];return function(...i){const o=xr(()=>{if(e!==o)return;const u=t(...i);n.forEach(a=>a(u)),n=[],e=null});return e=o,new Promise(u=>n.push(u))}}function ey(t,e,n){return e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var i,o;return(o=(i=e.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:e.slots.default}function lv(t){if(RA(t))return t._value}function RA(t){return"_value"in t}function dU(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function mf(t){if(!Zm(t))return t;const e=t.target;if(rc(e.type)&&RA(e))return lv(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(aU(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(lv);if(xA(e)){const n=Array.from(e.options).find(i=>i.selected);return n?lv(n):e.value}return dU(e)}function DA(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Oo(t)&&t._$$isNormalized?t:Oo(t)?Object.keys(t).reduce((n,i)=>{const o=pU(t[i]);return t[i]!==!1&&(n[i]=aI(o)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const o=vU(i);return o.name&&(n[o.name]=aI(o.params)),n},e):e}function pU(t){return t===!0?[]:Array.isArray(t)||Oo(t)?t:[t]}function aI(t){const e=n=>typeof n=="string"&&n[0]==="@"?gU(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const vU=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function gU(t){const e=n=>Nn(n,t)||n[t];return e.__locatorRef=t,e}function mU(t){return Array.isArray(t)?t.filter(ug):er(t).filter(e=>ug(t[e])).map(e=>t[e])}const yU={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let lg=Object.assign({},yU);const Ii=()=>lg,wU=t=>{lg=Object.assign(Object.assign({},lg),t)},bU=wU;async function PA(t,e,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await _U(o,t)).errors;return{errors:a,valid:!a.length}}async function _U(t,e){if(Di(t.rules)||gf(t.rules))return IU(e,t.rules);if(Qe(t.rules)||Array.isArray(t.rules)){const a={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},l=Array.isArray(t.rules)?t.rules:[t.rules],f=l.length,d=[];for(let v=0;v<f;v++){const g=l[v],y=await g(e,a);if(!(typeof y!="string"&&!Array.isArray(y)&&y)){if(Array.isArray(y))d.push(...y);else{const _=typeof y=="string"?y:MA(a);d.push(_)}if(t.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},t),{rules:DA(t.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await TU(n,e,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),t.bails))return{errors:i}}return{errors:i}}function EU(t){return!!t&&t.name==="ValidationError"}function LA(t){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await t.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!EU(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function IU(t,e){const i=await(Di(e)?e:LA(e)).parse(t),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function TU(t,e,n){const i=nU(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=SU(n.params,t.formData),u={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(e,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:MA(u)}}function MA(t){const e=Ii().generateMessage;return e?e(t):"Field is invalid"}function SU(t,e){const n=i=>ug(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,o)=>(i[o]=n(t[o]),i),{})}async function AU(t,e){const i=await(Di(t)?t:LA(t)).parse(le(e)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,v)=>`[${v}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function NU(t,e,n){const o=er(t).map(async d=>{var v,g,y;const b=(v=n==null?void 0:n.names)===null||v===void 0?void 0:v[d],_=await PA(Nn(e,d),t[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:e,bails:(y=(g=n==null?void 0:n.bailsMap)===null||g===void 0?void 0:g[d])!==null&&y!==void 0?y:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let cI=0;function kU(t,e){const{value:n,initialValue:i,setInitialValue:o}=xU(t,e.modelValue,e.form);if(!e.form){let y=function(b){var _;"value"in b&&(n.value=b.value),"errors"in b&&d(b.errors),"touched"in b&&(g.touched=(_=b.touched)!==null&&_!==void 0?_:g.touched),"initialValue"in b&&o(b.initialValue)};const{errors:f,setErrors:d}=RU(),v=cI>=Number.MAX_SAFE_INTEGER?0:++cI,g=OU(n,i,f);return{id:v,path:t,value:n,initialValue:i,meta:g,flags:{pendingUnmount:{[v]:!1},pendingReset:!1},errors:f,setState:y}}const u=e.form.createPathState(t,{bails:e.bails,label:e.label,type:e.type,validate:e.validate}),a=Bt(()=>u.errors);function l(f){var d,v,g;"value"in f&&(n.value=f.value),"errors"in f&&((d=e.form)===null||d===void 0||d.setFieldError(Gt(t),f.errors)),"touched"in f&&((v=e.form)===null||v===void 0||v.setFieldTouched(Gt(t),(g=f.touched)!==null&&g!==void 0?g:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:t,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function xU(t,e,n){const i=gn(Gt(e));function o(){return n?Nn(n.initialValues.value,Gt(t),Gt(i)):Gt(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(Gt(t),d,!0)}const a=Bt(o);if(!n)return{value:gn(o()),initialValue:a,setInitialValue:u};const l=CU(e,n,a,t);return n.stageInitialValue(Gt(t),l,!0),{value:Bt({get(){return Nn(n.values,Gt(t))},set(d){n.setFieldValue(Gt(t),d,!1)}}),initialValue:a,setInitialValue:u}}function CU(t,e,n,i){return ae(t)?Gt(t):t!==void 0?t:Nn(e.values,Gt(i),Gt(n))}function OU(t,e,n){const i=Yr({touched:!1,pending:!1,valid:!0,validated:!!Gt(n).length,initialValue:Bt(()=>Gt(e)),dirty:Bt(()=>!_n(Gt(t),Gt(e)))});return Wn(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function RU(){const t=gn([]);return{errors:t,setErrors:e=>{t.value=cg(e)}}}function DU(t,e,n){return rc(n==null?void 0:n.type)?LU(t,e,n):FA(t,e,n)}function FA(t,e,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:v,controlled:g,keepValueOnUnmount:y,syncVModel:b,form:_}=PU(n),S=g?OA(ah):void 0,N=_||S,O=Bt(()=>Ju(_e(t))),P=Bt(()=>{if(_e(N==null?void 0:N.schema))return;const gt=Gt(e);return gf(gt)||Di(gt)||Qe(gt)||Array.isArray(gt)?gt:DA(gt)}),{id:j,value:q,initialValue:nt,meta:V,setState:It,errors:W,flags:ht}=kU(O,{modelValue:i,form:N,bails:u,label:f,type:a,validate:P.value?Qt:void 0}),A=Bt(()=>W.value[0]);b&&MU({value:q,prop:b,handleChange:ot,shouldValidate:()=>d&&!ht.pendingReset});const Wt=(dt,gt=!1)=>{V.touched=!0,gt&&se()};async function oe(dt){var gt,R;return N!=null&&N.validateSchema?(gt=(await N.validateSchema(dt)).results[_e(O)])!==null&&gt!==void 0?gt:{valid:!0,errors:[]}:P.value?PA(q.value,P.value,{name:_e(O),label:_e(f),values:(R=N==null?void 0:N.values)!==null&&R!==void 0?R:{},bails:u}):{valid:!0,errors:[]}}const se=ag(async()=>(V.pending=!0,V.validated=!0,oe("validated-only")),dt=>{if(!ht.pendingUnmount[de.id])return It({errors:dt.errors}),V.pending=!1,V.valid=dt.valid,dt}),ce=ag(async()=>oe("silent"),dt=>(V.valid=dt.valid,dt));function Qt(dt){return(dt==null?void 0:dt.mode)==="silent"?ce():se()}function ot(dt,gt=!0){const R=mf(dt);Ie(R,gt)}kg(()=>{if(o)return se();(!N||!N.validateSchema)&&ce()});function Lt(dt){V.touched=dt}function vt(dt){var gt;const R=dt&&"value"in dt?dt.value:nt.value;It({value:le(R),initialValue:le(R),touched:(gt=dt==null?void 0:dt.touched)!==null&&gt!==void 0?gt:!1,errors:(dt==null?void 0:dt.errors)||[]}),V.pending=!1,V.validated=!1,ce()}const he=xf();function Ie(dt,gt=!0){q.value=he&&b?fU(dt,he.props.modelModifiers):dt,(gt?se:ce)()}function Ve(dt){It({errors:Array.isArray(dt)?dt:[dt]})}const Ce=Bt({get(){return q.value},set(dt){Ie(dt,d)}}),de={id:j,name:O,label:f,value:Ce,meta:V,errors:W,errorMessage:A,type:a,checkedValue:l,uncheckedValue:v,bails:u,keepValueOnUnmount:y,resetField:vt,handleReset:()=>vt(),validate:Qt,handleChange:ot,handleBlur:Wt,setState:It,setTouched:Lt,setErrors:Ve,setValue:Ie};if(Is(iU,de),ae(e)&&typeof Gt(e)!="function"&&Wn(e,(dt,gt)=>{_n(dt,gt)||(V.validated?se():ce())},{deep:!0}),!N)return de;const Pn=Bt(()=>{const dt=P.value;return!dt||Qe(dt)||gf(dt)||Di(dt)||Array.isArray(dt)?{}:Object.keys(dt).reduce((gt,R)=>{const U=mU(dt[R]).map(J=>J.__locatorRef).reduce((J,st)=>{const Rt=Nn(N.values,st)||N.values[st];return Rt!==void 0&&(J[st]=Rt),J},{});return Object.assign(gt,U),gt},{})});return Wn(Pn,(dt,gt)=>{if(!Object.keys(dt).length)return;!_n(dt,gt)&&(V.validated?se():ce())}),QI(()=>{var dt;const gt=(dt=_e(de.keepValueOnUnmount))!==null&&dt!==void 0?dt:_e(N.keepValuesOnUnmount),R=_e(O);if(gt||!N||ht.pendingUnmount[de.id]){N==null||N.removePathState(R,j);return}ht.pendingUnmount[de.id]=!0;const U=N.getPathState(R);if(Array.isArray(U==null?void 0:U.id)&&(U!=null&&U.multiple)?U!=null&&U.id.includes(de.id):(U==null?void 0:U.id)===de.id){if(U!=null&&U.multiple&&Array.isArray(U.value)){const st=U.value.findIndex(Rt=>_n(Rt,_e(de.checkedValue)));if(st>-1){const Rt=[...U.value];Rt.splice(st,1),N.setFieldValue(R,Rt)}Array.isArray(U.id)&&U.id.splice(U.id.indexOf(de.id),1)}else N.unsetPathValue(_e(O));N.removePathState(R,j)}}),de}function PU(t){const e=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(t!=null&&t.syncVModel),i=typeof(t==null?void 0:t.syncVModel)=="string"?t.syncVModel:(t==null?void 0:t.modelPropName)||"modelValue",o=n&&!("initialValue"in(t||{}))?fg(xf(),i):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},e()),{initialValue:o});const u="valueProp"in t?t.valueProp:t.checkedValue,a="standalone"in t?!t.standalone:t.controlled,l=(t==null?void 0:t.modelPropName)||(t==null?void 0:t.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},e()),t||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function LU(t,e,n){const i=n!=null&&n.standalone?void 0:OA(ah),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=Bt(()=>{const g=_e(l.value),y=_e(o);return Array.isArray(g)?g.findIndex(b=>_n(b,y))>=0:_n(y,g)});function v(g,y=!0){var b,_;if(d.value===((b=g==null?void 0:g.target)===null||b===void 0?void 0:b.checked)){y&&l.validate();return}const S=_e(t),N=i==null?void 0:i.getPathState(S),O=mf(g);let P=(_=_e(o))!==null&&_!==void 0?_:O;i&&(N!=null&&N.multiple)&&N.type==="checkbox"?P=sI(Nn(i.values,S)||[],P,void 0):(n==null?void 0:n.type)==="checkbox"&&(P=sI(_e(l.value),P,_e(u))),f(P,y)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:v})}return a(FA(t,e,n))}function MU({prop:t,value:e,handleChange:n,shouldValidate:i}){const o=xf();if(!o||!t)return;const u=typeof t=="string"?t:"modelValue",a=`update:${u}`;u in o.props&&(Wn(e,l=>{_n(l,fg(o,u))||o.emit(a,l)}),Wn(()=>fg(o,u),l=>{if(l===vf&&e.value===void 0)return;const f=l===vf?void 0:l;_n(f,e.value)||n(f,i())}))}function fg(t,e){if(t)return t.props[e]}const FU=Fa({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Ii().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:vf},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=yi(t,"rules"),i=yi(t,"name"),o=yi(t,"label"),u=yi(t,"uncheckedValue"),a=yi(t,"keepValue"),{errors:l,value:f,errorMessage:d,validate:v,handleChange:g,handleBlur:y,setTouched:b,resetField:_,handleReset:S,meta:N,checked:O,setErrors:P}=DU(i,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:jU(t,e),checkedValue:e.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:t.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),j=function(ht,A=!0){g(ht,A)},q=Bt(()=>{const{validateOnInput:W,validateOnChange:ht,validateOnBlur:A,validateOnModelUpdate:Wt}=VU(t);function oe(ot){y(ot,A),Qe(e.attrs.onBlur)&&e.attrs.onBlur(ot)}function se(ot){j(ot,W),Qe(e.attrs.onInput)&&e.attrs.onInput(ot)}function ce(ot){j(ot,ht),Qe(e.attrs.onChange)&&e.attrs.onChange(ot)}const Qt={name:t.name,onBlur:oe,onInput:se,onChange:ce};return Qt["onUpdate:modelValue"]=ot=>j(ot,Wt),Qt}),nt=Bt(()=>{const W=Object.assign({},q.value);rc(e.attrs.type)&&O&&(W.checked=O.value);const ht=lI(t,e);return lU(ht,e.attrs)&&(W.value=f.value),W}),V=Bt(()=>Object.assign(Object.assign({},q.value),{modelValue:f.value}));function It(){return{field:nt.value,componentField:V.value,value:f.value,meta:N,errors:l.value,errorMessage:d.value,validate:v,resetField:_,handleChange:j,handleInput:W=>j(W,!1),handleReset:S,handleBlur:q.value.onBlur,setTouched:b,setErrors:P}}return e.expose({setErrors:P,setTouched:b,reset:_,validate:v,handleChange:g}),()=>{const W=Cg(lI(t,e)),ht=ey(W,e,It);return W?ks(W,Object.assign(Object.assign({},e.attrs),nt.value),ht):ht}}});function lI(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function VU(t){var e,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=Ii();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:u,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=t.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=t.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function jU(t,e){return rc(e.attrs.type)?rI(t,"modelValue")?t.modelValue:void 0:rI(t,"modelValue")?t.modelValue:e.attrs.value}const UU=FU;let BU=0;const Gu=["bails","fieldsCount","id","multiple","type","validate"];function VA(t){const e=Gt(t==null?void 0:t.initialValues)||{},n=Gt(t==null?void 0:t.validationSchema);return n&&Di(n)&&Qe(n.cast)?le(n.cast(e)||{}):le(e)}function qU(t){var e;const n=BU++;let i=0;const o=gn(!1),u=gn(!1),a=gn(0),l=[],f=Yr(VA(t)),d=gn([]),v=gn({}),g=gn({}),y=hU(()=>{g.value=d.value.reduce((x,k)=>(x[Ju(_e(k.path))]=k,x),{})});function b(x,k){const B=ot(x);if(!B){typeof x=="string"&&(v.value[Ju(x)]=cg(k));return}if(typeof x=="string"){const rt=Ju(x);v.value[rt]&&delete v.value[rt]}B.errors=cg(k),B.valid=!B.errors.length}function _(x){er(x).forEach(k=>{b(k,x[k])})}t!=null&&t.initialErrors&&_(t.initialErrors);const S=Bt(()=>{const x=d.value.reduce((k,B)=>(B.errors.length&&(k[B.path]=B.errors),k),{});return Object.assign(Object.assign({},v.value),x)}),N=Bt(()=>er(S.value).reduce((x,k)=>{const B=S.value[k];return B!=null&&B.length&&(x[k]=B[0]),x},{})),O=Bt(()=>d.value.reduce((x,k)=>(x[k.path]={name:k.path||"",label:k.label||""},x),{})),P=Bt(()=>d.value.reduce((x,k)=>{var B;return x[k.path]=(B=k.bails)!==null&&B!==void 0?B:!0,x},{})),j=Object.assign({},(t==null?void 0:t.initialErrors)||{}),q=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:nt,originalInitialValues:V,setInitialValues:It}=KU(d,f,t),W=$U(d,f,V,N),ht=Bt(()=>d.value.reduce((x,k)=>{const B=Nn(f,k.path);return co(x,k.path,B),x},{})),A=t==null?void 0:t.validationSchema;function Wt(x,k){var B,rt;const ct=Bt(()=>Nn(nt.value,_e(x))),At=g.value[_e(x)];if(At){((k==null?void 0:k.type)==="checkbox"||(k==null?void 0:k.type)==="radio")&&(At.multiple=!0);const tn=i++;return Array.isArray(At.id)?At.id.push(tn):At.id=[At.id,tn],At.fieldsCount++,At.__flags.pendingUnmount[tn]=!1,At}const Ft=Bt(()=>Nn(f,_e(x))),kt=_e(x),Mt=i++,Dt=Yr({id:Mt,path:x,touched:!1,pending:!1,valid:!0,validated:!!(!((B=j[kt])===null||B===void 0)&&B.length),initialValue:ct,errors:MI([]),bails:(rt=k==null?void 0:k.bails)!==null&&rt!==void 0?rt:!1,label:k==null?void 0:k.label,type:(k==null?void 0:k.type)||"default",value:Ft,multiple:!1,__flags:{pendingUnmount:{[Mt]:!1},pendingReset:!1},fieldsCount:1,validate:k==null?void 0:k.validate,dirty:Bt(()=>!_n(Gt(Ft),Gt(ct)))});return d.value.push(Dt),g.value[kt]=Dt,y(),N.value[kt]&&!j[kt]&&xr(()=>{Z(kt,{mode:"silent"})}),ae(x)&&Wn(x,tn=>{y();const en=le(Ft.value);g.value[tn]=Dt,xr(()=>{co(f,tn,en)})}),Dt}const oe=uI(mt,5),se=uI(mt,5),ce=ag(async x=>await x==="silent"?oe():se(),(x,[k])=>{const B=er(gt.errorBag.value);return[...new Set([...er(x.results),...d.value.map(ct=>ct.path),...B])].sort().reduce((ct,At)=>{const Ft=At,kt=ot(Ft)||Lt(Ft),Mt=(x.results[Ft]||{errors:[]}).errors,Dt={errors:Mt,valid:!Mt.length};return ct.results[Ft]=Dt,Dt.valid||(ct.errors[Ft]=Dt.errors[0]),kt&&v.value[Ft]&&delete v.value[Ft],kt?(kt.valid=Dt.valid,k==="silent"||k==="validated-only"&&!kt.validated||b(kt,Dt.errors),ct):(b(Ft,Mt),ct)},{valid:x.valid,results:{},errors:{}})});function Qt(x){d.value.forEach(x)}function ot(x){const k=typeof x=="string"?Ju(x):x;return typeof k=="string"?g.value[k]:k}function Lt(x){return d.value.filter(B=>x.startsWith(B.path)).reduce((B,rt)=>B?rt.path.length>B.path.length?rt:B:rt,void 0)}let vt=[],he;function Ie(x){return vt.push(x),he||(he=xr(()=>{[...vt].sort().reverse().forEach(B=>{oI(f,B)}),vt=[],he=null})),he}function Ve(x){return function(B,rt){return function(At){return At instanceof Event&&(At.preventDefault(),At.stopPropagation()),Qt(Ft=>Ft.touched=!0),o.value=!0,a.value++,Y().then(Ft=>{const kt=le(f);if(Ft.valid&&typeof B=="function"){const Mt=le(ht.value);let Dt=x?Mt:kt;return Ft.values&&(Dt=Ft.values),B(Dt,{evt:At,controlledValues:Mt,setErrors:_,setFieldError:b,setTouched:F,setFieldTouched:I,setValues:J,setFieldValue:R,resetForm:et,resetField:z})}!Ft.valid&&typeof rt=="function"&&rt({values:kt,evt:At,errors:Ft.errors,results:Ft.results})}).then(Ft=>(o.value=!1,Ft),Ft=>{throw o.value=!1,Ft})}}}const de=Ve(!1);de.withControlled=Ve(!0);function Pn(x,k){const B=d.value.findIndex(ct=>ct.path===x),rt=d.value[B];if(!(B===-1||!rt)){if(xr(()=>{Z(x,{mode:"silent",warn:!1})}),rt.multiple&&rt.fieldsCount&&rt.fieldsCount--,Array.isArray(rt.id)){const ct=rt.id.indexOf(k);ct>=0&&rt.id.splice(ct,1),delete rt.__flags.pendingUnmount[k]}(!rt.multiple||rt.fieldsCount<=0)&&(d.value.splice(B,1),Q(x),y(),delete g.value[x])}}function dt(x){return Qt(k=>{k.path.startsWith(x)&&er(k.__flags.pendingUnmount).forEach(B=>{k.__flags.pendingUnmount[B]=!0})})}const gt={formId:n,values:f,controlledValues:ht,errorBag:S,errors:N,schema:A,submitCount:a,meta:W,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:q,validateSchema:Gt(A)?ce:void 0,validate:Y,setFieldError:b,validateField:Z,setFieldValue:R,setValues:J,setErrors:_,setFieldTouched:I,setTouched:F,resetForm:et,resetField:z,handleSubmit:de,stageInitialValue:wt,unsetInitialValue:Q,setFieldInitialValue:ut,useFieldModel:Rt,createPathState:Wt,getPathState:ot,unsetPathValue:Ie,removePathState:Pn,initialValues:nt,getAllPathStates:()=>d.value,markForUnmount:dt,isFieldTouched:T,isFieldDirty:C,isFieldValid:M};function R(x,k,B=!0){const rt=le(k),ct=typeof x=="string"?x:x.path;ot(ct)||Wt(ct),co(f,ct,rt),B&&Z(ct)}function U(x,k=!0){er(f).forEach(B=>{delete f[B]}),er(x).forEach(B=>{R(B,x[B],!1)}),k&&Y()}function J(x,k=!0){pf(f,x),l.forEach(B=>B&&B.reset()),k&&Y()}function st(x){const k=ot(Gt(x))||Wt(x);return Bt({get(){return k.value},set(B){const rt=Gt(x);R(rt,B,!1),k.validated=!0,k.pending=!0,Z(rt).then(()=>{k.pending=!1})}})}function Rt(x){return Array.isArray(x)?x.map(st):st(x)}function I(x,k){const B=ot(x);B&&(B.touched=k)}function T(x){var k;return!!(!((k=ot(x))===null||k===void 0)&&k.touched)}function C(x){var k;return!!(!((k=ot(x))===null||k===void 0)&&k.dirty)}function M(x){var k;return!!(!((k=ot(x))===null||k===void 0)&&k.valid)}function F(x){if(typeof x=="boolean"){Qt(k=>{k.touched=x});return}er(x).forEach(k=>{I(k,!!x[k])})}function z(x,k){var B;const rt=k&&"value"in k?k.value:Nn(nt.value,x),ct=ot(x);ct&&(ct.__flags.pendingReset=!0),ut(x,le(rt)),R(x,rt,!1),I(x,(B=k==null?void 0:k.touched)!==null&&B!==void 0?B:!1),b(x,(k==null?void 0:k.errors)||[]),xr(()=>{ct&&(ct.__flags.pendingReset=!1)})}function et(x,k){let B=x!=null&&x.values?x.values:V.value;B=Di(A)&&Qe(A.cast)?A.cast(B):B,It(B),Qt(rt=>{var ct;rt.__flags.pendingReset=!0,rt.validated=!1,rt.touched=((ct=x==null?void 0:x.touched)===null||ct===void 0?void 0:ct[rt.path])||!1,R(rt.path,Nn(B,rt.path),!1),b(rt.path,void 0)}),k!=null&&k.force?U(B,!1):J(B,!1),_((x==null?void 0:x.errors)||{}),a.value=(x==null?void 0:x.submitCount)||0,xr(()=>{Y({mode:"silent"}),Qt(rt=>{rt.__flags.pendingReset=!1})})}async function Y(x){const k=(x==null?void 0:x.mode)||"force";if(k==="force"&&Qt(At=>At.validated=!0),gt.validateSchema)return gt.validateSchema(k);u.value=!0;const B=await Promise.all(d.value.map(At=>At.validate?At.validate(x).then(Ft=>({key:At.path,valid:Ft.valid,errors:Ft.errors})):Promise.resolve({key:At.path,valid:!0,errors:[]})));u.value=!1;const rt={},ct={};for(const At of B)rt[At.key]={valid:At.valid,errors:At.errors},At.errors.length&&(ct[At.key]=At.errors[0]);return{valid:B.every(At=>At.valid),results:rt,errors:ct}}async function Z(x,k){var B;const rt=ot(x);if(rt&&(k==null?void 0:k.mode)!=="silent"&&(rt.validated=!0),A){const{results:ct}=await ce((k==null?void 0:k.mode)||"validated-only");return ct[x]||{errors:[],valid:!0}}return rt!=null&&rt.validate?rt.validate(k):(!rt&&(B=k==null?void 0:k.warn),Promise.resolve({errors:[],valid:!0}))}function Q(x){oI(nt.value,x)}function wt(x,k,B=!1){ut(x,k),co(f,x,k),B&&!(t!=null&&t.initialValues)&&co(V.value,x,le(k))}function ut(x,k){co(nt.value,x,le(k))}async function mt(){const x=Gt(A);if(!x)return{valid:!0,results:{},errors:{}};u.value=!0;const k=gf(x)||Di(x)?await AU(x,f):await NU(x,f,{names:O.value,bailsMap:P.value});return u.value=!1,k}const St=de((x,{evt:k})=>{CA(k)&&k.target.submit()});kg(()=>{if(t!=null&&t.initialErrors&&_(t.initialErrors),t!=null&&t.initialTouched&&F(t.initialTouched),t!=null&&t.validateOnMount){Y();return}gt.validateSchema&&gt.validateSchema("silent")}),ae(A)&&Wn(A,()=>{var x;(x=gt.validateSchema)===null||x===void 0||x.call(gt,"validated-only")}),Is(ah,gt);function Ut(x,k){const B=ot(_e(x))||Wt(x),rt=()=>Qe(k)?k(zu(B,Gu)):k||{};function ct(){var kt;B.touched=!0,((kt=rt().validateOnBlur)!==null&&kt!==void 0?kt:Ii().validateOnBlur)&&Z(B.path)}function At(kt){var Mt;const Dt=(Mt=rt().validateOnModelUpdate)!==null&&Mt!==void 0?Mt:Ii().validateOnModelUpdate;R(B.path,kt,Dt)}return Bt(()=>{if(Qe(k)){const Dt=k(B),tn=Dt.model||"modelValue";return Object.assign({onBlur:ct,[tn]:B.value,[`onUpdate:${tn}`]:At},Dt.props||{})}const kt=(k==null?void 0:k.model)||"modelValue",Mt={onBlur:ct,[kt]:B.value,[`onUpdate:${kt}`]:At};return k!=null&&k.mapProps?Object.assign(Object.assign({},Mt),k.mapProps(zu(B,Gu))):Mt})}function _t(x,k){const B=ot(_e(x))||Wt(x),rt=()=>Qe(k)?k(zu(B,Gu)):k||{};function ct(){var Mt;B.touched=!0,((Mt=rt().validateOnBlur)!==null&&Mt!==void 0?Mt:Ii().validateOnBlur)&&Z(B.path)}function At(Mt){var Dt;const tn=mf(Mt),en=(Dt=rt().validateOnInput)!==null&&Dt!==void 0?Dt:Ii().validateOnInput;R(B.path,tn,en)}function Ft(Mt){var Dt;const tn=mf(Mt),en=(Dt=rt().validateOnChange)!==null&&Dt!==void 0?Dt:Ii().validateOnChange;R(B.path,tn,en)}return Bt(()=>{const Mt={value:B.value,onChange:Ft,onInput:At,onBlur:ct};return Qe(k)?Object.assign(Object.assign({},Mt),k(zu(B,Gu)).attrs||{}):k!=null&&k.mapAttrs?Object.assign(Object.assign({},Mt),k.mapAttrs(zu(B,Gu))):Mt})}return Object.assign(Object.assign({},gt),{values:Eg(f),handleReset:()=>et(),submitForm:St,defineComponentBinds:Ut,defineInputBinds:_t})}function $U(t,e,n,i){const o={touched:"some",pending:"some",valid:"every"},u=Bt(()=>!_n(e,Gt(n)));function a(){const f=t.value;return er(o).reduce((d,v)=>{const g=o[v];return d[v]=f[g](y=>y[v]),d},{})}const l=Yr(a());return KO(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),Bt(()=>Object.assign(Object.assign({initialValues:Gt(n)},l),{valid:l.valid&&!er(i.value).length,dirty:u.value}))}function KU(t,e,n){const i=VA(n),o=n==null?void 0:n.initialValues,u=gn(i),a=gn(le(i));function l(f,d=!1){u.value=pf(le(u.value)||{},le(f)),a.value=pf(le(a.value)||{},le(f)),d&&t.value.forEach(v=>{if(v.touched)return;const y=Nn(u.value,v.path);co(e,v.path,le(y))})}return ae(o)&&Wn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:u,originalInitialValues:a,setInitialValues:l}}const HU=Fa({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=yi(t,"initialValues"),i=yi(t,"validationSchema"),o=yi(t,"keepValues"),{errors:u,errorBag:a,values:l,meta:f,isSubmitting:d,isValidating:v,submitCount:g,controlledValues:y,validate:b,validateField:_,handleReset:S,resetForm:N,handleSubmit:O,setErrors:P,setFieldError:j,setFieldValue:q,setValues:nt,setFieldTouched:V,setTouched:It,resetField:W}=qU({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:o}),ht=O((Lt,{evt:vt})=>{CA(vt)&&vt.target.submit()},t.onInvalidSubmit),A=t.onSubmit?O(t.onSubmit,t.onInvalidSubmit):ht;function Wt(Lt){Zm(Lt)&&Lt.preventDefault(),S(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function oe(Lt,vt){return O(typeof Lt=="function"&&!vt?Lt:vt,t.onInvalidSubmit)(Lt)}function se(){return le(l)}function ce(){return le(f.value)}function Qt(){return le(u.value)}function ot(){return{meta:f.value,errors:u.value,errorBag:a.value,values:l,isSubmitting:d.value,isValidating:v.value,submitCount:g.value,controlledValues:y.value,validate:b,validateField:_,handleSubmit:oe,handleReset:S,submitForm:ht,setErrors:P,setFieldError:j,setFieldValue:q,setValues:nt,setFieldTouched:V,setTouched:It,resetForm:N,resetField:W,getValues:se,getMeta:ce,getErrors:Qt}}return e.expose({setFieldError:j,setErrors:P,setFieldValue:q,setValues:nt,setFieldTouched:V,setTouched:It,resetForm:N,validate:b,validateField:_,resetField:W,getValues:se,getMeta:ce,getErrors:Qt}),function(){const vt=t.as==="form"?t.as:t.as?Cg(t.as):null,he=ey(vt,e,ot);return vt?ks(vt,Object.assign(Object.assign(Object.assign({},vt==="form"?{novalidate:!0}:{}),e.attrs),{onSubmit:A,onReset:Wt}),he):he}}}),zU=HU,GU=Fa({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=nr(ah,void 0),i=Bt(()=>n==null?void 0:n.errors.value[t.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=t.as?Cg(t.as):t.as,a=ey(u,e,o),l=Object.assign({role:"alert"},e.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?ks(u||"span",l,i.value):ks(u,l,a)}}}),WU=GU;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const _l={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},QU=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function ic(t,e){return Array.isArray(t)?t[0]:t[e]}function ji(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const jA=(t,e)=>{if(ji(t))return!0;const n=QU(e);if(Array.isArray(t))return t.every(o=>jA(o,{locale:n}));const i=String(t);return n?(_l[n]||_l.en).test(i):Object.keys(_l).some(o=>_l[o].test(i))},YU=(t,e)=>{const n=ic(e,"target");return String(t)===String(n)},XU=t=>{if(ji(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function JU(t){return t==null}function ZU(t){return Array.isArray(t)&&t.length===0}const UA=(t,e)=>{if(ji(t))return!0;const n=ic(e,"length");return Array.isArray(t)?t.every(i=>UA(i,{length:n})):[...String(t)].length<=Number(n)},BA=(t,e)=>{if(ji(t))return!0;const n=ic(e,"max");return Array.isArray(t)?t.length>0&&t.every(i=>BA(i,{max:n})):Number(t)<=Number(n)},qA=(t,e)=>{if(ji(t))return!0;const n=ic(e,"length");return Array.isArray(t)?t.every(i=>qA(i,{length:n})):[...String(t)].length>=Number(n)},$A=(t,e)=>{if(ji(t))return!0;const n=ic(e,"min");return Array.isArray(t)?t.length>0&&t.every(i=>$A(i,{min:n})):Number(t)>=Number(n)},KA=(t,e)=>ji(t)?!0:Array.isArray(t)?t.every(n=>KA(n,e)):Array.from(e).some(n=>n==t),fI=(t,e)=>ji(t)?!0:!KA(t,e),hI=t=>JU(t)||ZU(t)||t===!1?!1:!!String(t).trim().length,t3={install(t){t.component("VeeForm",zU),t.component("VeeField",UU),t.component("ErrorMessage",WU),cr("required",hI),cr("tos",hI),cr("min",qA),cr("max",UA),cr("alpha_spaces",jA),cr("email",XU),cr("min_value",$A),cr("max_value",BA),cr("passwords_missmatch",YU),cr("excluded",fI),cr("country_excluded",fI),bU({generateMessage:e=>{const n={required:`The field ${e.field} is required.`,min:`The field ${e.field} must have at least ${e.rule.params} characters.`,max:`The field ${e.field} maximun length is ${e.rule.params}.`,alpha_spaces:`The field ${e.field} may only contain alphabetical characters and spaces.`,email:`The field ${e.field} must be a valid email.`,min_value:`The field ${e.field} can't be under ${e.rule.params}.`,max_value:`The field ${e.field} can't be above ${e.rule.params}.`,excluded:`You are not allowed to use this value for the field ${e.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${e.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service."};return n[e.rule.name]?n[e.rule.name]:`The field ${e.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};const lh=rD(Bj);lh.use(sD());lh.use(X2);lh.use(t3);lh.mount("#app");export{Zr as _,Hn as c,un as o};
