(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function av(e,t){const n=Object.create(null),i=e.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const _t={},Vs=[],Sr=()=>{},wO=()=>!1,bO=/^on[^a-z]/,ih=e=>bO.test(e),uv=e=>e.startsWith("onUpdate:"),Zt=Object.assign,cv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},IO=Object.prototype.hasOwnProperty,Ze=(e,t)=>IO.call(e,t),Ae=Array.isArray,Us=e=>dc(e)==="[object Map]",oh=e=>dc(e)==="[object Set]",Fb=e=>dc(e)==="[object Date]",Ve=e=>typeof e=="function",qt=e=>typeof e=="string",Vu=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",SE=e=>dt(e)&&Ve(e.then)&&Ve(e.catch),AE=Object.prototype.toString,dc=e=>AE.call(e),EO=e=>dc(e).slice(8,-1),kE=e=>dc(e)==="[object Object]",lv=e=>qt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sf=av(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},TO=/-(\w)/g,Wr=sh(e=>e.replace(TO,(t,n)=>n?n.toUpperCase():"")),SO=/\B([A-Z])/g,ya=sh(e=>e.replace(SO,"-$1").toLowerCase()),ah=sh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Nm=sh(e=>e?`on${ah(e)}`:""),Uu=(e,t)=>!Object.is(e,t),af=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},vf=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},xE=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Vb;const sg=()=>Vb||(Vb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hs(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],o=qt(i)?CO(i):Hs(i);if(o)for(const s in o)t[s]=o[s]}return t}else{if(qt(e))return e;if(dt(e))return e}}const AO=/;(?![^(]*\))/g,kO=/:([^]+)/,xO=/\/\*[^]*?\*\//g;function CO(e){const t={};return e.replace(xO,"").split(AO).forEach(n=>{if(n){const i=n.split(kO);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function jt(e){let t="";if(qt(e))t=e;else if(Ae(e))for(let n=0;n<e.length;n++){const i=jt(e[n]);i&&(t+=i+" ")}else if(dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const RO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",NO=av(RO);function CE(e){return!!e||e===""}function OO(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=uh(e[i],t[i]);return n}function uh(e,t){if(e===t)return!0;let n=Fb(e),i=Fb(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=Vu(e),i=Vu(t),n||i)return e===t;if(n=Ae(e),i=Ae(t),n||i)return n&&i?OO(e,t):!1;if(n=dt(e),i=dt(t),n||i){if(!n||!i)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(l&&!f||!l&&f||!uh(e[u],t[u]))return!1}}return String(e)===String(t)}function PO(e,t){return e.findIndex(n=>uh(n,t))}const Et=e=>qt(e)?e:e==null?"":Ae(e)||dt(e)&&(e.toString===AE||!Ve(e.toString))?JSON.stringify(e,RE,2):String(e),RE=(e,t)=>t&&t.__v_isRef?RE(e,t.value):Us(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:oh(t)?{[`Set(${t.size})`]:[...t.values()]}:dt(t)&&!Ae(t)&&!kE(t)?String(t):t;let Qn;class NE{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Qn,!t&&Qn&&(this.index=(Qn.scopes||(Qn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Qn;try{return Qn=this,t()}finally{Qn=n}}}on(){Qn=this}off(){Qn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function OE(e){return new NE(e)}function DO(e,t=Qn){t&&t.active&&t.effects.push(e)}function PE(){return Qn}function LO(e){Qn&&Qn.cleanups.push(e)}const fv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},DE=e=>(e.w&Hi)>0,LE=e=>(e.n&Hi)>0,MO=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Hi},FO=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const o=t[i];DE(o)&&!LE(o)?o.delete(e):t[n++]=o,o.w&=~Hi,o.n&=~Hi}t.length=n}},yf=new WeakMap;let Iu=0,Hi=1;const ag=30;let Er;const Do=Symbol(""),ug=Symbol("");class hv{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,DO(this,i)}run(){if(!this.active)return this.fn();let t=Er,n=Ui;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Er,Er=this,Ui=!0,Hi=1<<++Iu,Iu<=ag?MO(this):Ub(this),this.fn()}finally{Iu<=ag&&FO(this),Hi=1<<--Iu,Er=this.parent,Ui=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Er===this?this.deferStop=!0:this.active&&(Ub(this),this.onStop&&this.onStop(),this.active=!1)}}function Ub(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ui=!0;const ME=[];function _a(){ME.push(Ui),Ui=!1}function wa(){const e=ME.pop();Ui=e===void 0?!0:e}function Bn(e,t,n){if(Ui&&Er){let i=yf.get(e);i||yf.set(e,i=new Map);let o=i.get(n);o||i.set(n,o=fv()),FE(o)}}function FE(e,t){let n=!1;Iu<=ag?LE(e)||(e.n|=Hi,n=!DE(e)):n=!e.has(Er),n&&(e.add(Er),Er.deps.push(e))}function ci(e,t,n,i,o,s){const u=yf.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&Ae(e)){const f=Number(i);u.forEach((p,g)=>{(g==="length"||g>=f)&&l.push(p)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":Ae(e)?lv(n)&&l.push(u.get("length")):(l.push(u.get(Do)),Us(e)&&l.push(u.get(ug)));break;case"delete":Ae(e)||(l.push(u.get(Do)),Us(e)&&l.push(u.get(ug)));break;case"set":Us(e)&&l.push(u.get(Do));break}if(l.length===1)l[0]&&cg(l[0]);else{const f=[];for(const p of l)p&&f.push(...p);cg(fv(f))}}function cg(e,t){const n=Ae(e)?e:[...e];for(const i of n)i.computed&&jb(i);for(const i of n)i.computed||jb(i)}function jb(e,t){(e!==Er||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function VO(e,t){var n;return(n=yf.get(e))==null?void 0:n.get(t)}const UO=av("__proto__,__v_isRef,__isVue"),VE=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Vu)),jO=dv(),BO=dv(!1,!0),qO=dv(!0),Bb=$O();function $O(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=et(this);for(let s=0,u=this.length;s<u;s++)Bn(i,"get",s+"");const o=i[t](...n);return o===-1||o===!1?i[t](...n.map(et)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){_a();const i=et(this)[t].apply(this,n);return wa(),i}}),e}function HO(e){const t=et(this);return Bn(t,"has",e),t.hasOwnProperty(e)}function dv(e=!1,t=!1){return function(i,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?sP:$E:t?qE:BE).get(i))return i;const u=Ae(i);if(!e){if(u&&Ze(Bb,o))return Reflect.get(Bb,o,s);if(o==="hasOwnProperty")return HO}const l=Reflect.get(i,o,s);return(Vu(o)?VE.has(o):UO(o))||(e||Bn(i,"get",o),t)?l:ht(l)?u&&lv(o)?l:l.value:dt(l)?e?gv(l):li(l):l}}const KO=UE(),GO=UE(!0);function UE(e=!1){return function(n,i,o,s){let u=n[i];if(Ks(u)&&ht(u)&&!ht(o))return!1;if(!e&&(!_f(o)&&!Ks(o)&&(u=et(u),o=et(o)),!Ae(n)&&ht(u)&&!ht(o)))return u.value=o,!0;const l=Ae(n)&&lv(i)?Number(i)<n.length:Ze(n,i),f=Reflect.set(n,i,o,s);return n===et(s)&&(l?Uu(o,u)&&ci(n,"set",i,o):ci(n,"add",i,o)),f}}function zO(e,t){const n=Ze(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&ci(e,"delete",t,void 0),i}function WO(e,t){const n=Reflect.has(e,t);return(!Vu(t)||!VE.has(t))&&Bn(e,"has",t),n}function XO(e){return Bn(e,"iterate",Ae(e)?"length":Do),Reflect.ownKeys(e)}const jE={get:jO,set:KO,deleteProperty:zO,has:WO,ownKeys:XO},YO={get:qO,set(e,t){return!0},deleteProperty(e,t){return!0}},QO=Zt({},jE,{get:BO,set:GO}),pv=e=>e,ch=e=>Reflect.getPrototypeOf(e);function Ul(e,t,n=!1,i=!1){e=e.__v_raw;const o=et(e),s=et(t);n||(t!==s&&Bn(o,"get",t),Bn(o,"get",s));const{has:u}=ch(o),l=i?pv:n?yv:ju;if(u.call(o,t))return l(e.get(t));if(u.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function jl(e,t=!1){const n=this.__v_raw,i=et(n),o=et(e);return t||(e!==o&&Bn(i,"has",e),Bn(i,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function Bl(e,t=!1){return e=e.__v_raw,!t&&Bn(et(e),"iterate",Do),Reflect.get(e,"size",e)}function qb(e){e=et(e);const t=et(this);return ch(t).has.call(t,e)||(t.add(e),ci(t,"add",e,e)),this}function $b(e,t){t=et(t);const n=et(this),{has:i,get:o}=ch(n);let s=i.call(n,e);s||(e=et(e),s=i.call(n,e));const u=o.call(n,e);return n.set(e,t),s?Uu(t,u)&&ci(n,"set",e,t):ci(n,"add",e,t),this}function Hb(e){const t=et(this),{has:n,get:i}=ch(t);let o=n.call(t,e);o||(e=et(e),o=n.call(t,e)),i&&i.call(t,e);const s=t.delete(e);return o&&ci(t,"delete",e,void 0),s}function Kb(){const e=et(this),t=e.size!==0,n=e.clear();return t&&ci(e,"clear",void 0,void 0),n}function ql(e,t){return function(i,o){const s=this,u=s.__v_raw,l=et(u),f=t?pv:e?yv:ju;return!e&&Bn(l,"iterate",Do),u.forEach((p,g)=>i.call(o,f(p),f(g),s))}}function $l(e,t,n){return function(...i){const o=this.__v_raw,s=et(o),u=Us(s),l=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,p=o[e](...i),g=n?pv:t?yv:ju;return!t&&Bn(s,"iterate",f?ug:Do),{next(){const{value:h,done:m}=p.next();return m?{value:h,done:m}:{value:l?[g(h[0]),g(h[1])]:g(h),done:m}},[Symbol.iterator](){return this}}}}function Ti(e){return function(...t){return e==="delete"?!1:this}}function JO(){const e={get(s){return Ul(this,s)},get size(){return Bl(this)},has:jl,add:qb,set:$b,delete:Hb,clear:Kb,forEach:ql(!1,!1)},t={get(s){return Ul(this,s,!1,!0)},get size(){return Bl(this)},has:jl,add:qb,set:$b,delete:Hb,clear:Kb,forEach:ql(!1,!0)},n={get(s){return Ul(this,s,!0)},get size(){return Bl(this,!0)},has(s){return jl.call(this,s,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:ql(!0,!1)},i={get(s){return Ul(this,s,!0,!0)},get size(){return Bl(this,!0)},has(s){return jl.call(this,s,!0)},add:Ti("add"),set:Ti("set"),delete:Ti("delete"),clear:Ti("clear"),forEach:ql(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=$l(s,!1,!1),n[s]=$l(s,!0,!1),t[s]=$l(s,!1,!0),i[s]=$l(s,!0,!0)}),[e,n,t,i]}const[ZO,eP,tP,nP]=JO();function mv(e,t){const n=t?e?nP:tP:e?eP:ZO;return(i,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?i:Reflect.get(Ze(n,o)&&o in i?n:i,o,s)}const rP={get:mv(!1,!1)},iP={get:mv(!1,!0)},oP={get:mv(!0,!1)},BE=new WeakMap,qE=new WeakMap,$E=new WeakMap,sP=new WeakMap;function aP(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function uP(e){return e.__v_skip||!Object.isExtensible(e)?0:aP(EO(e))}function li(e){return Ks(e)?e:vv(e,!1,jE,rP,BE)}function HE(e){return vv(e,!1,QO,iP,qE)}function gv(e){return vv(e,!0,YO,oP,$E)}function vv(e,t,n,i,o){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=uP(e);if(u===0)return e;const l=new Proxy(e,u===2?i:n);return o.set(e,l),l}function ji(e){return Ks(e)?ji(e.__v_raw):!!(e&&e.__v_isReactive)}function Ks(e){return!!(e&&e.__v_isReadonly)}function _f(e){return!!(e&&e.__v_isShallow)}function KE(e){return ji(e)||Ks(e)}function et(e){const t=e&&e.__v_raw;return t?et(t):e}function lh(e){return vf(e,"__v_skip",!0),e}const ju=e=>dt(e)?li(e):e,yv=e=>dt(e)?gv(e):e;function GE(e){Ui&&Er&&(e=et(e),FE(e.dep||(e.dep=fv())))}function zE(e,t){e=et(e);const n=e.dep;n&&cg(n)}function ht(e){return!!(e&&e.__v_isRef===!0)}function An(e){return XE(e,!1)}function WE(e){return XE(e,!0)}function XE(e,t){return ht(e)?e:new cP(e,t)}class cP{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:et(t),this._value=n?t:ju(t)}get value(){return GE(this),this._value}set value(t){const n=this.__v_isShallow||_f(t)||Ks(t);t=n?t:et(t),Uu(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ju(t),zE(this))}}function Ye(e){return ht(e)?e.value:e}function kt(e){return Ve(e)?e():Ye(e)}const lP={get:(e,t,n)=>Ye(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const o=e[t];return ht(o)&&!ht(n)?(o.value=n,!0):Reflect.set(e,t,n,i)}};function YE(e){return ji(e)?e:new Proxy(e,lP)}function fP(e){const t=Ae(e)?new Array(e.length):{};for(const n in e)t[n]=QE(e,n);return t}class hP{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return VO(et(this._object),this._key)}}class dP{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Pi(e,t,n){return ht(e)?e:Ve(e)?new dP(e):dt(e)&&arguments.length>1?QE(e,t,n):An(e)}function QE(e,t,n){const i=e[t];return ht(i)?i:new hP(e,t,n)}class pP{constructor(t,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new hv(t,()=>{this._dirty||(this._dirty=!0,zE(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const t=et(this);return GE(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function mP(e,t,n=!1){let i,o;const s=Ve(e);return s?(i=e,o=Sr):(i=e.get,o=e.set),new pP(i,o,s||!o,n)}function Bi(e,t,n,i){let o;try{o=i?e(...i):e()}catch(s){fh(s,t,n)}return o}function Ar(e,t,n,i){if(Ve(e)){const s=Bi(e,t,n,i);return s&&SE(s)&&s.catch(u=>{fh(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(Ar(e[s],t,n,i));return o}function fh(e,t,n,i=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=n;for(;s;){const p=s.ec;if(p){for(let g=0;g<p.length;g++)if(p[g](e,u,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Bi(f,null,10,[e,u,l]);return}}gP(e,n,o,i)}function gP(e,t,n,i=!0){console.error(e)}let Bu=!1,lg=!1;const mn=[];let $r=0;const js=[];let ri=null,So=0;const JE=Promise.resolve();let _v=null;function Br(e){const t=_v||JE;return e?t.then(this?e.bind(this):e):t}function vP(e){let t=$r+1,n=mn.length;for(;t<n;){const i=t+n>>>1;qu(mn[i])<e?t=i+1:n=i}return t}function wv(e){(!mn.length||!mn.includes(e,Bu&&e.allowRecurse?$r+1:$r))&&(e.id==null?mn.push(e):mn.splice(vP(e.id),0,e),ZE())}function ZE(){!Bu&&!lg&&(lg=!0,_v=JE.then(tT))}function yP(e){const t=mn.indexOf(e);t>$r&&mn.splice(t,1)}function _P(e){Ae(e)?js.push(...e):(!ri||!ri.includes(e,e.allowRecurse?So+1:So))&&js.push(e),ZE()}function Gb(e,t=Bu?$r+1:0){for(;t<mn.length;t++){const n=mn[t];n&&n.pre&&(mn.splice(t,1),t--,n())}}function eT(e){if(js.length){const t=[...new Set(js)];if(js.length=0,ri){ri.push(...t);return}for(ri=t,ri.sort((n,i)=>qu(n)-qu(i)),So=0;So<ri.length;So++)ri[So]();ri=null,So=0}}const qu=e=>e.id==null?1/0:e.id,wP=(e,t)=>{const n=qu(e)-qu(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function tT(e){lg=!1,Bu=!0,mn.sort(wP);const t=Sr;try{for($r=0;$r<mn.length;$r++){const n=mn[$r];n&&n.active!==!1&&Bi(n,null,14)}}finally{$r=0,mn.length=0,eT(),Bu=!1,_v=null,(mn.length||js.length)&&tT()}}function bP(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||_t;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in i){const g=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:m}=i[g]||_t;m&&(o=n.map(y=>qt(y)?y.trim():y)),h&&(o=n.map(xE))}let l,f=i[l=Nm(t)]||i[l=Nm(Wr(t))];!f&&s&&(f=i[l=Nm(ya(t))]),f&&Ar(f,e,6,o);const p=i[l+"Once"];if(p){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Ar(p,e,6,o)}}function nT(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(o!==void 0)return o;const s=e.emits;let u={},l=!1;if(!Ve(e)){const f=p=>{const g=nT(p,t,!0);g&&(l=!0,Zt(u,g))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(dt(e)&&i.set(e,null),null):(Ae(s)?s.forEach(f=>u[f]=null):Zt(u,s),dt(e)&&i.set(e,u),u)}function hh(e,t){return!e||!ih(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ze(e,t[0].toLowerCase()+t.slice(1))||Ze(e,ya(t))||Ze(e,t))}let Vn=null,rT=null;function wf(e){const t=Vn;return Vn=e,rT=e&&e.type.__scopeId||null,t}function tr(e,t=Vn,n){if(!t||e._n)return e;const i=(...o)=>{i._d&&r1(-1);const s=wf(t);let u;try{u=e(...o)}finally{wf(s),i._d&&r1(1)}return u};return i._n=!0,i._c=!0,i._d=!0,i}function Om(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[u],slots:l,attrs:f,emit:p,render:g,renderCache:h,data:m,setupState:y,ctx:_,inheritAttrs:I}=e;let E,T;const C=wf(e);try{if(n.shapeFlag&4){const F=o||i;E=qr(g.call(F,F,h,s,y,m,_)),T=f}else{const F=t;E=qr(F.length>1?F(s,{attrs:f,slots:l,emit:p}):F(s,null)),T=t.props?f:IP(f)}}catch(F){xu.length=0,fh(F,e,1),E=Te(jo)}let D=E;if(T&&I!==!1){const F=Object.keys(T),{shapeFlag:J}=D;F.length&&J&7&&(u&&F.some(uv)&&(T=EP(T,u)),D=zs(D,T))}return n.dirs&&(D=zs(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),E=D,wf(C),E}const IP=e=>{let t;for(const n in e)(n==="class"||n==="style"||ih(n))&&((t||(t={}))[n]=e[n]);return t},EP=(e,t)=>{const n={};for(const i in e)(!uv(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function TP(e,t,n){const{props:i,children:o,component:s}=e,{props:u,children:l,patchFlag:f}=t,p=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?zb(i,u,p):!!u;if(f&8){const g=t.dynamicProps;for(let h=0;h<g.length;h++){const m=g[h];if(u[m]!==i[m]&&!hh(p,m))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===u?!1:i?u?zb(i,u,p):!0:!!u;return!1}function zb(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let o=0;o<i.length;o++){const s=i[o];if(t[s]!==e[s]&&!hh(n,s))return!0}return!1}function SP({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const AP=e=>e.__isSuspense;function kP(e,t){t&&t.pendingBranch?Ae(e)?t.effects.push(...e):t.effects.push(e):_P(e)}function xP(e,t){return bv(e,null,t)}const Hl={};function ir(e,t,n){return bv(e,t,n)}function bv(e,t,{immediate:n,deep:i,flush:o,onTrack:s,onTrigger:u}=_t){var l;const f=PE()===((l=Wt)==null?void 0:l.scope)?Wt:null;let p,g=!1,h=!1;if(ht(e)?(p=()=>e.value,g=_f(e)):ji(e)?(p=()=>e,i=!0):Ae(e)?(h=!0,g=e.some(F=>ji(F)||_f(F)),p=()=>e.map(F=>{if(ht(F))return F.value;if(ji(F))return xo(F);if(Ve(F))return Bi(F,f,2)})):Ve(e)?t?p=()=>Bi(e,f,2):p=()=>{if(!(f&&f.isUnmounted))return m&&m(),Ar(e,f,3,[y])}:p=Sr,t&&i){const F=p;p=()=>xo(F())}let m,y=F=>{m=C.onStop=()=>{Bi(F,f,4)}},_;if(Gu)if(y=Sr,t?n&&Ar(t,f,3,[p(),h?[]:void 0,y]):p(),o==="sync"){const F=vD();_=F.__watcherHandles||(F.__watcherHandles=[])}else return Sr;let I=h?new Array(e.length).fill(Hl):Hl;const E=()=>{if(C.active)if(t){const F=C.run();(i||g||(h?F.some((J,V)=>Uu(J,I[V])):Uu(F,I)))&&(m&&m(),Ar(t,f,3,[F,I===Hl?void 0:h&&I[0]===Hl?[]:I,y]),I=F)}else C.run()};E.allowRecurse=!!t;let T;o==="sync"?T=E:o==="post"?T=()=>Mn(E,f&&f.suspense):(E.pre=!0,f&&(E.id=f.uid),T=()=>wv(E));const C=new hv(p,T);t?n?E():I=C.run():o==="post"?Mn(C.run.bind(C),f&&f.suspense):C.run();const D=()=>{C.stop(),f&&f.scope&&cv(f.scope.effects,C)};return _&&_.push(D),D}function CP(e,t,n){const i=this.proxy,o=qt(e)?e.includes(".")?iT(i,e):()=>i[e]:e.bind(i,i);let s;Ve(t)?s=t:(s=t.handler,n=t);const u=Wt;Ws(this);const l=bv(o,s.bind(i),n);return u?Ws(u):Lo(),l}function iT(e,t){const n=t.split(".");return()=>{let i=e;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function xo(e,t){if(!dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ht(e))xo(e.value,t);else if(Ae(e))for(let n=0;n<e.length;n++)xo(e[n],t);else if(oh(e)||Us(e))e.forEach(n=>{xo(n,t)});else if(kE(e))for(const n in e)xo(e[n],t);return e}function bf(e,t){const n=Vn;if(n===null)return e;const i=vh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,l,f,p=_t]=t[s];u&&(Ve(u)&&(u={mounted:u,updated:u}),u.deep&&xo(l),o.push({dir:u,instance:i,value:l,oldValue:void 0,arg:f,modifiers:p}))}return e}function wo(e,t,n,i){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const l=o[u];s&&(l.oldValue=s[u].value);let f=l.dir[i];f&&(_a(),Ar(f,n,8,[e.el,l,e,t]),wa())}}function pc(e,t){return Ve(e)?(()=>Zt({name:e.name},t,{setup:e}))():e}const uf=e=>!!e.type.__asyncLoader,oT=e=>e.type.__isKeepAlive;function RP(e,t){sT(e,"a",t)}function NP(e,t){sT(e,"da",t)}function sT(e,t,n=Wt){const i=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(dh(t,i,n),n){let o=n.parent;for(;o&&o.parent;)oT(o.parent.vnode)&&OP(i,t,n,o),o=o.parent}}function OP(e,t,n,i){const o=dh(t,e,i,!0);uT(()=>{cv(i[t],o)},n)}function dh(e,t,n=Wt,i=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;_a(),Ws(n);const l=Ar(t,n,e,u);return Lo(),wa(),l});return i?o.unshift(s):o.push(s),s}}const hi=e=>(t,n=Wt)=>(!Gu||e==="sp")&&dh(e,(...i)=>t(...i),n),PP=hi("bm"),Iv=hi("m"),DP=hi("bu"),LP=hi("u"),aT=hi("bum"),uT=hi("um"),MP=hi("sp"),FP=hi("rtg"),VP=hi("rtc");function UP(e,t=Wt){dh("ec",e,t)}const Ev="components";function wt(e,t){return lT(Ev,e,!0,t)||e}const cT=Symbol.for("v-ndc");function Tv(e){return qt(e)?lT(Ev,e,!1)||e:e||cT}function lT(e,t,n=!0,i=!1){const o=Vn||Wt;if(o){const s=o.type;if(e===Ev){const l=pD(s,!1);if(l&&(l===t||l===Wr(t)||l===ah(Wr(t))))return s}const u=Wb(o[e]||s[e],t)||Wb(o.appContext[e],t);return!u&&i?s:u}}function Wb(e,t){return e&&(e[t]||e[Wr(t)]||e[ah(Wr(t))])}function mc(e,t,n,i){let o;const s=n&&n[i];if(Ae(e)||qt(e)){o=new Array(e.length);for(let u=0,l=e.length;u<l;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(dt(e))if(e[Symbol.iterator])o=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);o=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const p=u[l];o[l]=t(e[p],p,l,s&&s[l])}}else o=[];return n&&(n[i]=o),o}const fg=e=>e?bT(e)?vh(e)||e.proxy:fg(e.parent):null,ku=Zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>fg(e.parent),$root:e=>fg(e.root),$emit:e=>e.emit,$options:e=>Sv(e),$forceUpdate:e=>e.f||(e.f=()=>wv(e.update)),$nextTick:e=>e.n||(e.n=Br.bind(e.proxy)),$watch:e=>CP.bind(e)}),Pm=(e,t)=>e!==_t&&!e.__isScriptSetup&&Ze(e,t),jP={get({_:e},t){const{ctx:n,setupState:i,data:o,props:s,accessCache:u,type:l,appContext:f}=e;let p;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Pm(i,t))return u[t]=1,i[t];if(o!==_t&&Ze(o,t))return u[t]=2,o[t];if((p=e.propsOptions[0])&&Ze(p,t))return u[t]=3,s[t];if(n!==_t&&Ze(n,t))return u[t]=4,n[t];hg&&(u[t]=0)}}const g=ku[t];let h,m;if(g)return t==="$attrs"&&Bn(e,"get",t),g(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==_t&&Ze(n,t))return u[t]=4,n[t];if(m=f.config.globalProperties,Ze(m,t))return m[t]},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return Pm(o,t)?(o[t]=n,!0):i!==_t&&Ze(i,t)?(i[t]=n,!0):Ze(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},u){let l;return!!n[u]||e!==_t&&Ze(e,u)||Pm(t,u)||(l=s[0])&&Ze(l,u)||Ze(i,u)||Ze(ku,u)||Ze(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ze(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Xb(e){return Ae(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let hg=!0;function BP(e){const t=Sv(e),n=e.proxy,i=e.ctx;hg=!1,t.beforeCreate&&Yb(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:l,provide:f,inject:p,created:g,beforeMount:h,mounted:m,beforeUpdate:y,updated:_,activated:I,deactivated:E,beforeDestroy:T,beforeUnmount:C,destroyed:D,unmounted:F,render:J,renderTracked:V,renderTriggered:me,errorCaptured:G,serverPrefetch:Y,expose:x,inheritAttrs:Ke,components:st,directives:it,filters:Je}=t;if(p&&qP(p,i,null),u)for(const Me in u){const ge=u[Me];Ve(ge)&&(i[Me]=ge.bind(n))}if(o){const Me=o.call(n,n);dt(Me)&&(e.data=li(Me))}if(hg=!0,s)for(const Me in s){const ge=s[Me],gt=Ve(ge)?ge.bind(n,n):Ve(ge.get)?ge.get.bind(n,n):Sr,Ct=!Ve(ge)&&Ve(ge.set)?ge.set.bind(n):Sr,Kt=qe({get:gt,set:Ct});Object.defineProperty(i,Me,{enumerable:!0,configurable:!0,get:()=>Kt.value,set:Mt=>Kt.value=Mt})}if(l)for(const Me in l)fT(l[Me],i,n,Me);if(f){const Me=Ve(f)?f.call(n):f;Reflect.ownKeys(Me).forEach(ge=>{Bs(ge,Me[ge])})}g&&Yb(g,e,"c");function ae(Me,ge){Ae(ge)?ge.forEach(gt=>Me(gt.bind(n))):ge&&Me(ge.bind(n))}if(ae(PP,h),ae(Iv,m),ae(DP,y),ae(LP,_),ae(RP,I),ae(NP,E),ae(UP,G),ae(VP,V),ae(FP,me),ae(aT,C),ae(uT,F),ae(MP,Y),Ae(x))if(x.length){const Me=e.exposed||(e.exposed={});x.forEach(ge=>{Object.defineProperty(Me,ge,{get:()=>n[ge],set:gt=>n[ge]=gt})})}else e.exposed||(e.exposed={});J&&e.render===Sr&&(e.render=J),Ke!=null&&(e.inheritAttrs=Ke),st&&(e.components=st),it&&(e.directives=it)}function qP(e,t,n=Sr){Ae(e)&&(e=dg(e));for(const i in e){const o=e[i];let s;dt(o)?"default"in o?s=mr(o.from||i,o.default,!0):s=mr(o.from||i):s=mr(o),ht(s)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[i]=s}}function Yb(e,t,n){Ar(Ae(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function fT(e,t,n,i){const o=i.includes(".")?iT(n,i):()=>n[i];if(qt(e)){const s=t[e];Ve(s)&&ir(o,s)}else if(Ve(e))ir(o,e.bind(n));else if(dt(e))if(Ae(e))e.forEach(s=>fT(s,t,n,i));else{const s=Ve(e.handler)?e.handler.bind(n):t[e.handler];Ve(s)&&ir(o,s,e)}}function Sv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!i?f=t:(f={},o.length&&o.forEach(p=>If(f,p,u,!0)),If(f,t,u)),dt(t)&&s.set(t,f),f}function If(e,t,n,i=!1){const{mixins:o,extends:s}=t;s&&If(e,s,n,!0),o&&o.forEach(u=>If(e,u,n,!0));for(const u in t)if(!(i&&u==="expose")){const l=$P[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const $P={data:Qb,props:Jb,emits:Jb,methods:Eu,computed:Eu,beforeCreate:En,created:En,beforeMount:En,mounted:En,beforeUpdate:En,updated:En,beforeDestroy:En,beforeUnmount:En,destroyed:En,unmounted:En,activated:En,deactivated:En,errorCaptured:En,serverPrefetch:En,components:Eu,directives:Eu,watch:KP,provide:Qb,inject:HP};function Qb(e,t){return t?e?function(){return Zt(Ve(e)?e.call(this,this):e,Ve(t)?t.call(this,this):t)}:t:e}function HP(e,t){return Eu(dg(e),dg(t))}function dg(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function En(e,t){return e?[...new Set([].concat(e,t))]:t}function Eu(e,t){return e?Zt(Object.create(null),e,t):t}function Jb(e,t){return e?Ae(e)&&Ae(t)?[...new Set([...e,...t])]:Zt(Object.create(null),Xb(e),Xb(t??{})):t}function KP(e,t){if(!e)return t;if(!t)return e;const n=Zt(Object.create(null),e);for(const i in t)n[i]=En(e[i],t[i]);return n}function hT(){return{app:null,config:{isNativeTag:wO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let GP=0;function zP(e,t){return function(i,o=null){Ve(i)||(i=Zt({},i)),o!=null&&!dt(o)&&(o=null);const s=hT(),u=new Set;let l=!1;const f=s.app={_uid:GP++,_component:i,_props:o,_container:null,_context:s,_instance:null,version:yD,get config(){return s.config},set config(p){},use(p,...g){return u.has(p)||(p&&Ve(p.install)?(u.add(p),p.install(f,...g)):Ve(p)&&(u.add(p),p(f,...g))),f},mixin(p){return s.mixins.includes(p)||s.mixins.push(p),f},component(p,g){return g?(s.components[p]=g,f):s.components[p]},directive(p,g){return g?(s.directives[p]=g,f):s.directives[p]},mount(p,g,h){if(!l){const m=Te(i,o);return m.appContext=s,g&&t?t(m,p):e(m,p,h),l=!0,f._container=p,p.__vue_app__=f,vh(m.component)||m.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(p,g){return s.provides[p]=g,f},runWithContext(p){$u=f;try{return p()}finally{$u=null}}};return f}}let $u=null;function Bs(e,t){if(Wt){let n=Wt.provides;const i=Wt.parent&&Wt.parent.provides;i===n&&(n=Wt.provides=Object.create(i)),n[e]=t}}function mr(e,t,n=!1){const i=Wt||Vn;if(i||$u){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:$u._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&Ve(t)?t.call(i&&i.proxy):t}}function WP(){return!!(Wt||Vn||$u)}function XP(e,t,n,i=!1){const o={},s={};vf(s,mh,1),e.propsDefaults=Object.create(null),dT(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=i?o:HE(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function YP(e,t,n,i){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,l=et(o),[f]=e.propsOptions;let p=!1;if((i||u>0)&&!(u&16)){if(u&8){const g=e.vnode.dynamicProps;for(let h=0;h<g.length;h++){let m=g[h];if(hh(e.emitsOptions,m))continue;const y=t[m];if(f)if(Ze(s,m))y!==s[m]&&(s[m]=y,p=!0);else{const _=Wr(m);o[_]=pg(f,l,_,y,e,!1)}else y!==s[m]&&(s[m]=y,p=!0)}}}else{dT(e,t,o,s)&&(p=!0);let g;for(const h in l)(!t||!Ze(t,h)&&((g=ya(h))===h||!Ze(t,g)))&&(f?n&&(n[h]!==void 0||n[g]!==void 0)&&(o[h]=pg(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!Ze(t,h))&&(delete s[h],p=!0)}p&&ci(e,"set","$attrs")}function dT(e,t,n,i){const[o,s]=e.propsOptions;let u=!1,l;if(t)for(let f in t){if(sf(f))continue;const p=t[f];let g;o&&Ze(o,g=Wr(f))?!s||!s.includes(g)?n[g]=p:(l||(l={}))[g]=p:hh(e.emitsOptions,f)||(!(f in i)||p!==i[f])&&(i[f]=p,u=!0)}if(s){const f=et(n),p=l||_t;for(let g=0;g<s.length;g++){const h=s[g];n[h]=pg(o,f,h,p[h],e,!Ze(p,h))}}return u}function pg(e,t,n,i,o,s){const u=e[n];if(u!=null){const l=Ze(u,"default");if(l&&i===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&Ve(f)){const{propsDefaults:p}=o;n in p?i=p[n]:(Ws(o),i=p[n]=f.call(null,t),Lo())}else i=f}u[0]&&(s&&!l?i=!1:u[1]&&(i===""||i===ya(n))&&(i=!0))}return i}function pT(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,u={},l=[];let f=!1;if(!Ve(e)){const g=h=>{f=!0;const[m,y]=pT(h,t,!0);Zt(u,m),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}if(!s&&!f)return dt(e)&&i.set(e,Vs),Vs;if(Ae(s))for(let g=0;g<s.length;g++){const h=Wr(s[g]);Zb(h)&&(u[h]=_t)}else if(s)for(const g in s){const h=Wr(g);if(Zb(h)){const m=s[g],y=u[h]=Ae(m)||Ve(m)?{type:m}:Zt({},m);if(y){const _=n1(Boolean,y.type),I=n1(String,y.type);y[0]=_>-1,y[1]=I<0||_<I,(_>-1||Ze(y,"default"))&&l.push(h)}}}const p=[u,l];return dt(e)&&i.set(e,p),p}function Zb(e){return e[0]!=="$"}function e1(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function t1(e,t){return e1(e)===e1(t)}function n1(e,t){return Ae(t)?t.findIndex(n=>t1(n,e)):Ve(t)&&t1(t,e)?0:-1}const mT=e=>e[0]==="_"||e==="$stable",Av=e=>Ae(e)?e.map(qr):[qr(e)],QP=(e,t,n)=>{if(t._n)return t;const i=tr((...o)=>Av(t(...o)),n);return i._c=!1,i},gT=(e,t,n)=>{const i=e._ctx;for(const o in e){if(mT(o))continue;const s=e[o];if(Ve(s))t[o]=QP(o,s,i);else if(s!=null){const u=Av(s);t[o]=()=>u}}},vT=(e,t)=>{const n=Av(t);e.slots.default=()=>n},JP=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=et(t),vf(t,"_",n)):gT(t,e.slots={})}else e.slots={},t&&vT(e,t);vf(e.slots,mh,1)},ZP=(e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,u=_t;if(i.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(Zt(o,t),!n&&l===1&&delete o._):(s=!t.$stable,gT(t,o)),u=t}else t&&(vT(e,t),u={default:1});if(s)for(const l in o)!mT(l)&&!(l in u)&&delete o[l]};function mg(e,t,n,i,o=!1){if(Ae(e)){e.forEach((m,y)=>mg(m,t&&(Ae(t)?t[y]:t),n,i,o));return}if(uf(i)&&!o)return;const s=i.shapeFlag&4?vh(i.component)||i.component.proxy:i.el,u=o?null:s,{i:l,r:f}=e,p=t&&t.r,g=l.refs===_t?l.refs={}:l.refs,h=l.setupState;if(p!=null&&p!==f&&(qt(p)?(g[p]=null,Ze(h,p)&&(h[p]=null)):ht(p)&&(p.value=null)),Ve(f))Bi(f,l,12,[u,g]);else{const m=qt(f),y=ht(f);if(m||y){const _=()=>{if(e.f){const I=m?Ze(h,f)?h[f]:g[f]:f.value;o?Ae(I)&&cv(I,s):Ae(I)?I.includes(s)||I.push(s):m?(g[f]=[s],Ze(h,f)&&(h[f]=g[f])):(f.value=[s],e.k&&(g[e.k]=f.value))}else m?(g[f]=u,Ze(h,f)&&(h[f]=u)):y&&(f.value=u,e.k&&(g[e.k]=u))};u?(_.id=-1,Mn(_,n)):_()}}}const Mn=kP;function eD(e){return tD(e)}function tD(e,t){const n=sg();n.__VUE__=!0;const{insert:i,remove:o,patchProp:s,createElement:u,createText:l,createComment:f,setText:p,setElementText:g,parentNode:h,nextSibling:m,setScopeId:y=Sr,insertStaticContent:_}=e,I=(A,k,P,j=null,B=null,W=null,ie=!1,Z=null,ne=!!k.dynamicChildren)=>{if(A===k)return;A&&!pu(A,k)&&(j=L(A),Mt(A,B,W,!0),A=null),k.patchFlag===-2&&(ne=!1,k.dynamicChildren=null);const{type:Q,ref:we,shapeFlag:ce}=k;switch(Q){case ph:E(A,k,P,j);break;case jo:T(A,k,P,j);break;case Dm:A==null&&C(k,P,j,ie);break;case zt:st(A,k,P,j,B,W,ie,Z,ne);break;default:ce&1?J(A,k,P,j,B,W,ie,Z,ne):ce&6?it(A,k,P,j,B,W,ie,Z,ne):(ce&64||ce&128)&&Q.process(A,k,P,j,B,W,ie,Z,ne,te)}we!=null&&B&&mg(we,A&&A.ref,W,k||A,!k)},E=(A,k,P,j)=>{if(A==null)i(k.el=l(k.children),P,j);else{const B=k.el=A.el;k.children!==A.children&&p(B,k.children)}},T=(A,k,P,j)=>{A==null?i(k.el=f(k.children||""),P,j):k.el=A.el},C=(A,k,P,j)=>{[A.el,A.anchor]=_(A.children,k,P,j,A.el,A.anchor)},D=({el:A,anchor:k},P,j)=>{let B;for(;A&&A!==k;)B=m(A),i(A,P,j),A=B;i(k,P,j)},F=({el:A,anchor:k})=>{let P;for(;A&&A!==k;)P=m(A),o(A),A=P;o(k)},J=(A,k,P,j,B,W,ie,Z,ne)=>{ie=ie||k.type==="svg",A==null?V(k,P,j,B,W,ie,Z,ne):Y(A,k,B,W,ie,Z,ne)},V=(A,k,P,j,B,W,ie,Z)=>{let ne,Q;const{type:we,props:ce,shapeFlag:ye,transition:xe,dirs:Be}=A;if(ne=A.el=u(A.type,W,ce&&ce.is,ce),ye&8?g(ne,A.children):ye&16&&G(A.children,ne,null,j,B,W&&we!=="foreignObject",ie,Z),Be&&wo(A,null,j,"created"),me(ne,A,A.scopeId,ie,j),ce){for(const O in ce)O!=="value"&&!sf(O)&&s(ne,O,null,ce[O],W,A.children,j,B,ve);"value"in ce&&s(ne,"value",null,ce.value),(Q=ce.onVnodeBeforeMount)&&Ur(Q,j,A)}Be&&wo(A,null,j,"beforeMount");const Ie=(!B||B&&!B.pendingBranch)&&xe&&!xe.persisted;Ie&&xe.beforeEnter(ne),i(ne,k,P),((Q=ce&&ce.onVnodeMounted)||Ie||Be)&&Mn(()=>{Q&&Ur(Q,j,A),Ie&&xe.enter(ne),Be&&wo(A,null,j,"mounted")},B)},me=(A,k,P,j,B)=>{if(P&&y(A,P),j)for(let W=0;W<j.length;W++)y(A,j[W]);if(B){let W=B.subTree;if(k===W){const ie=B.vnode;me(A,ie,ie.scopeId,ie.slotScopeIds,B.parent)}}},G=(A,k,P,j,B,W,ie,Z,ne=0)=>{for(let Q=ne;Q<A.length;Q++){const we=A[Q]=Z?Ri(A[Q]):qr(A[Q]);I(null,we,k,P,j,B,W,ie,Z)}},Y=(A,k,P,j,B,W,ie)=>{const Z=k.el=A.el;let{patchFlag:ne,dynamicChildren:Q,dirs:we}=k;ne|=A.patchFlag&16;const ce=A.props||_t,ye=k.props||_t;let xe;P&&bo(P,!1),(xe=ye.onVnodeBeforeUpdate)&&Ur(xe,P,k,A),we&&wo(k,A,P,"beforeUpdate"),P&&bo(P,!0);const Be=B&&k.type!=="foreignObject";if(Q?x(A.dynamicChildren,Q,Z,P,j,Be,W):ie||ge(A,k,Z,null,P,j,Be,W,!1),ne>0){if(ne&16)Ke(Z,k,ce,ye,P,j,B);else if(ne&2&&ce.class!==ye.class&&s(Z,"class",null,ye.class,B),ne&4&&s(Z,"style",ce.style,ye.style,B),ne&8){const Ie=k.dynamicProps;for(let O=0;O<Ie.length;O++){const N=Ie[O],K=ce[N],oe=ye[N];(oe!==K||N==="value")&&s(Z,N,K,oe,B,A.children,P,j,ve)}}ne&1&&A.children!==k.children&&g(Z,k.children)}else!ie&&Q==null&&Ke(Z,k,ce,ye,P,j,B);((xe=ye.onVnodeUpdated)||we)&&Mn(()=>{xe&&Ur(xe,P,k,A),we&&wo(k,A,P,"updated")},j)},x=(A,k,P,j,B,W,ie)=>{for(let Z=0;Z<k.length;Z++){const ne=A[Z],Q=k[Z],we=ne.el&&(ne.type===zt||!pu(ne,Q)||ne.shapeFlag&70)?h(ne.el):P;I(ne,Q,we,null,j,B,W,ie,!0)}},Ke=(A,k,P,j,B,W,ie)=>{if(P!==j){if(P!==_t)for(const Z in P)!sf(Z)&&!(Z in j)&&s(A,Z,P[Z],null,ie,k.children,B,W,ve);for(const Z in j){if(sf(Z))continue;const ne=j[Z],Q=P[Z];ne!==Q&&Z!=="value"&&s(A,Z,Q,ne,ie,k.children,B,W,ve)}"value"in j&&s(A,"value",P.value,j.value)}},st=(A,k,P,j,B,W,ie,Z,ne)=>{const Q=k.el=A?A.el:l(""),we=k.anchor=A?A.anchor:l("");let{patchFlag:ce,dynamicChildren:ye,slotScopeIds:xe}=k;xe&&(Z=Z?Z.concat(xe):xe),A==null?(i(Q,P,j),i(we,P,j),G(k.children,P,we,B,W,ie,Z,ne)):ce>0&&ce&64&&ye&&A.dynamicChildren?(x(A.dynamicChildren,ye,P,B,W,ie,Z),(k.key!=null||B&&k===B.subTree)&&yT(A,k,!0)):ge(A,k,P,we,B,W,ie,Z,ne)},it=(A,k,P,j,B,W,ie,Z,ne)=>{k.slotScopeIds=Z,A==null?k.shapeFlag&512?B.ctx.activate(k,P,j,ie,ne):Je(k,P,j,B,W,ie,ne):ze(A,k,ne)},Je=(A,k,P,j,B,W,ie)=>{const Z=A.component=cD(A,j,B);if(oT(A)&&(Z.ctx.renderer=te),lD(Z),Z.asyncDep){if(B&&B.registerDep(Z,ae),!A.el){const ne=Z.subTree=Te(jo);T(null,ne,k,P)}return}ae(Z,A,k,P,B,W,ie)},ze=(A,k,P)=>{const j=k.component=A.component;if(TP(A,k,P))if(j.asyncDep&&!j.asyncResolved){Me(j,k,P);return}else j.next=k,yP(j.update),j.update();else k.el=A.el,j.vnode=k},ae=(A,k,P,j,B,W,ie)=>{const Z=()=>{if(A.isMounted){let{next:we,bu:ce,u:ye,parent:xe,vnode:Be}=A,Ie=we,O;bo(A,!1),we?(we.el=Be.el,Me(A,we,ie)):we=Be,ce&&af(ce),(O=we.props&&we.props.onVnodeBeforeUpdate)&&Ur(O,xe,we,Be),bo(A,!0);const N=Om(A),K=A.subTree;A.subTree=N,I(K,N,h(K.el),L(K),A,B,W),we.el=N.el,Ie===null&&SP(A,N.el),ye&&Mn(ye,B),(O=we.props&&we.props.onVnodeUpdated)&&Mn(()=>Ur(O,xe,we,Be),B)}else{let we;const{el:ce,props:ye}=k,{bm:xe,m:Be,parent:Ie}=A,O=uf(k);if(bo(A,!1),xe&&af(xe),!O&&(we=ye&&ye.onVnodeBeforeMount)&&Ur(we,Ie,k),bo(A,!0),ce&&Pe){const N=()=>{A.subTree=Om(A),Pe(ce,A.subTree,A,B,null)};O?k.type.__asyncLoader().then(()=>!A.isUnmounted&&N()):N()}else{const N=A.subTree=Om(A);I(null,N,P,j,A,B,W),k.el=N.el}if(Be&&Mn(Be,B),!O&&(we=ye&&ye.onVnodeMounted)){const N=k;Mn(()=>Ur(we,Ie,N),B)}(k.shapeFlag&256||Ie&&uf(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&A.a&&Mn(A.a,B),A.isMounted=!0,k=P=j=null}},ne=A.effect=new hv(Z,()=>wv(Q),A.scope),Q=A.update=()=>ne.run();Q.id=A.uid,bo(A,!0),Q()},Me=(A,k,P)=>{k.component=A;const j=A.vnode.props;A.vnode=k,A.next=null,YP(A,k.props,j,P),ZP(A,k.children,P),_a(),Gb(),wa()},ge=(A,k,P,j,B,W,ie,Z,ne=!1)=>{const Q=A&&A.children,we=A?A.shapeFlag:0,ce=k.children,{patchFlag:ye,shapeFlag:xe}=k;if(ye>0){if(ye&128){Ct(Q,ce,P,j,B,W,ie,Z,ne);return}else if(ye&256){gt(Q,ce,P,j,B,W,ie,Z,ne);return}}xe&8?(we&16&&ve(Q,B,W),ce!==Q&&g(P,ce)):we&16?xe&16?Ct(Q,ce,P,j,B,W,ie,Z,ne):ve(Q,B,W,!0):(we&8&&g(P,""),xe&16&&G(ce,P,j,B,W,ie,Z,ne))},gt=(A,k,P,j,B,W,ie,Z,ne)=>{A=A||Vs,k=k||Vs;const Q=A.length,we=k.length,ce=Math.min(Q,we);let ye;for(ye=0;ye<ce;ye++){const xe=k[ye]=ne?Ri(k[ye]):qr(k[ye]);I(A[ye],xe,P,null,B,W,ie,Z,ne)}Q>we?ve(A,B,W,!0,!1,ce):G(k,P,j,B,W,ie,Z,ne,ce)},Ct=(A,k,P,j,B,W,ie,Z,ne)=>{let Q=0;const we=k.length;let ce=A.length-1,ye=we-1;for(;Q<=ce&&Q<=ye;){const xe=A[Q],Be=k[Q]=ne?Ri(k[Q]):qr(k[Q]);if(pu(xe,Be))I(xe,Be,P,null,B,W,ie,Z,ne);else break;Q++}for(;Q<=ce&&Q<=ye;){const xe=A[ce],Be=k[ye]=ne?Ri(k[ye]):qr(k[ye]);if(pu(xe,Be))I(xe,Be,P,null,B,W,ie,Z,ne);else break;ce--,ye--}if(Q>ce){if(Q<=ye){const xe=ye+1,Be=xe<we?k[xe].el:j;for(;Q<=ye;)I(null,k[Q]=ne?Ri(k[Q]):qr(k[Q]),P,Be,B,W,ie,Z,ne),Q++}}else if(Q>ye)for(;Q<=ce;)Mt(A[Q],B,W,!0),Q++;else{const xe=Q,Be=Q,Ie=new Map;for(Q=Be;Q<=ye;Q++){const Ne=k[Q]=ne?Ri(k[Q]):qr(k[Q]);Ne.key!=null&&Ie.set(Ne.key,Q)}let O,N=0;const K=ye-Be+1;let oe=!1,fe=0;const Ce=new Array(K);for(Q=0;Q<K;Q++)Ce[Q]=0;for(Q=xe;Q<=ce;Q++){const Ne=A[Q];if(N>=K){Mt(Ne,B,W,!0);continue}let Fe;if(Ne.key!=null)Fe=Ie.get(Ne.key);else for(O=Be;O<=ye;O++)if(Ce[O-Be]===0&&pu(Ne,k[O])){Fe=O;break}Fe===void 0?Mt(Ne,B,W,!0):(Ce[Fe-Be]=Q+1,Fe>=fe?fe=Fe:oe=!0,I(Ne,k[Fe],P,null,B,W,ie,Z,ne),N++)}const Ue=oe?nD(Ce):Vs;for(O=Ue.length-1,Q=K-1;Q>=0;Q--){const Ne=Be+Q,Fe=k[Ne],De=Ne+1<we?k[Ne+1].el:j;Ce[Q]===0?I(null,Fe,P,De,B,W,ie,Z,ne):oe&&(O<0||Q!==Ue[O]?Kt(Fe,P,De,2):O--)}}},Kt=(A,k,P,j,B=null)=>{const{el:W,type:ie,transition:Z,children:ne,shapeFlag:Q}=A;if(Q&6){Kt(A.component.subTree,k,P,j);return}if(Q&128){A.suspense.move(k,P,j);return}if(Q&64){ie.move(A,k,P,te);return}if(ie===zt){i(W,k,P);for(let ce=0;ce<ne.length;ce++)Kt(ne[ce],k,P,j);i(A.anchor,k,P);return}if(ie===Dm){D(A,k,P);return}if(j!==2&&Q&1&&Z)if(j===0)Z.beforeEnter(W),i(W,k,P),Mn(()=>Z.enter(W),B);else{const{leave:ce,delayLeave:ye,afterLeave:xe}=Z,Be=()=>i(W,k,P),Ie=()=>{ce(W,()=>{Be(),xe&&xe()})};ye?ye(W,Be,Ie):Ie()}else i(W,k,P)},Mt=(A,k,P,j=!1,B=!1)=>{const{type:W,props:ie,ref:Z,children:ne,dynamicChildren:Q,shapeFlag:we,patchFlag:ce,dirs:ye}=A;if(Z!=null&&mg(Z,null,P,A,!0),we&256){k.ctx.deactivate(A);return}const xe=we&1&&ye,Be=!uf(A);let Ie;if(Be&&(Ie=ie&&ie.onVnodeBeforeUnmount)&&Ur(Ie,k,A),we&6)de(A.component,P,j);else{if(we&128){A.suspense.unmount(P,j);return}xe&&wo(A,null,k,"beforeUnmount"),we&64?A.type.remove(A,k,P,B,te,j):Q&&(W!==zt||ce>0&&ce&64)?ve(Q,k,P,!1,!0):(W===zt&&ce&384||!B&&we&16)&&ve(ne,k,P),j&&vt(A)}(Be&&(Ie=ie&&ie.onVnodeUnmounted)||xe)&&Mn(()=>{Ie&&Ur(Ie,k,A),xe&&wo(A,null,k,"unmounted")},P)},vt=A=>{const{type:k,el:P,anchor:j,transition:B}=A;if(k===zt){Gn(P,j);return}if(k===Dm){F(A);return}const W=()=>{o(P),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(A.shapeFlag&1&&B&&!B.persisted){const{leave:ie,delayLeave:Z}=B,ne=()=>ie(P,W);Z?Z(A.el,W,ne):ne()}else W()},Gn=(A,k)=>{let P;for(;A!==k;)P=m(A),o(A),A=P;o(k)},de=(A,k,P)=>{const{bum:j,scope:B,update:W,subTree:ie,um:Z}=A;j&&af(j),B.stop(),W&&(W.active=!1,Mt(ie,A,k,P)),Z&&Mn(Z,k),Mn(()=>{A.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},ve=(A,k,P,j=!1,B=!1,W=0)=>{for(let ie=W;ie<A.length;ie++)Mt(A[ie],k,P,j,B)},L=A=>A.shapeFlag&6?L(A.component.subTree):A.shapeFlag&128?A.suspense.next():m(A.anchor||A.el),$=(A,k,P)=>{A==null?k._vnode&&Mt(k._vnode,null,null,!0):I(k._vnode||null,A,k,null,null,null,P),Gb(),eT(),k._vnode=A},te={p:I,um:Mt,m:Kt,r:vt,mt:Je,mc:G,pc:ge,pbc:x,n:L,o:e};let ue,Pe;return t&&([ue,Pe]=t(te)),{render:$,hydrate:ue,createApp:zP($,ue)}}function bo({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function yT(e,t,n=!1){const i=e.children,o=t.children;if(Ae(i)&&Ae(o))for(let s=0;s<i.length;s++){const u=i[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Ri(o[s]),l.el=u.el),n||yT(u,l)),l.type===ph&&(l.el=u.el)}}function nD(e){const t=e.slice(),n=[0];let i,o,s,u,l;const f=e.length;for(i=0;i<f;i++){const p=e[i];if(p!==0){if(o=n[n.length-1],e[o]<p){t[i]=o,n.push(i);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<p?s=l+1:u=l;p<e[n[s]]&&(s>0&&(t[i]=n[s-1]),n[s]=i)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const rD=e=>e.__isTeleport,zt=Symbol.for("v-fgt"),ph=Symbol.for("v-txt"),jo=Symbol.for("v-cmt"),Dm=Symbol.for("v-stc"),xu=[];let Tr=null;function $e(e=!1){xu.push(Tr=e?null:[])}function iD(){xu.pop(),Tr=xu[xu.length-1]||null}let Hu=1;function r1(e){Hu+=e}function _T(e){return e.dynamicChildren=Hu>0?Tr||Vs:null,iD(),Hu>0&&Tr&&Tr.push(e),e}function rt(e,t,n,i,o,s){return _T(R(e,t,n,i,o,s,!0))}function Gs(e,t,n,i,o){return _T(Te(e,t,n,i,o,!0))}function gg(e){return e?e.__v_isVNode===!0:!1}function pu(e,t){return e.type===t.type&&e.key===t.key}const mh="__vInternal",wT=({key:e})=>e??null,cf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?qt(e)||ht(e)||Ve(e)?{i:Vn,r:e,k:t,f:!!n}:e:null);function R(e,t=null,n=null,i=0,o=null,s=e===zt?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&wT(t),ref:t&&cf(t),scopeId:rT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Vn};return l?(kv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=qt(n)?8:16),Hu>0&&!u&&Tr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Tr.push(f),f}const Te=oD;function oD(e,t=null,n=null,i=0,o=null,s=!1){if((!e||e===cT)&&(e=jo),gg(e)){const l=zs(e,t,!0);return n&&kv(l,n),Hu>0&&!s&&Tr&&(l.shapeFlag&6?Tr[Tr.indexOf(e)]=l:Tr.push(l)),l.patchFlag|=-2,l}if(mD(e)&&(e=e.__vccOpts),t){t=sD(t);let{class:l,style:f}=t;l&&!qt(l)&&(t.class=jt(l)),dt(f)&&(KE(f)&&!Ae(f)&&(f=Zt({},f)),t.style=Hs(f))}const u=qt(e)?1:AP(e)?128:rD(e)?64:dt(e)?4:Ve(e)?2:0;return R(e,t,n,i,o,u,s,!0)}function sD(e){return e?KE(e)||mh in e?Zt({},e):e:null}function zs(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:u}=e,l=t?Ku(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&wT(l),ref:t&&t.ref?n&&o?Ae(o)?o.concat(cf(t)):[o,cf(t)]:cf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==zt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&zs(e.ssContent),ssFallback:e.ssFallback&&zs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Lt(e=" ",t=0){return Te(ph,null,e,t)}function Co(e="",t=!1){return t?($e(),Gs(jo,null,e)):Te(jo,null,e)}function qr(e){return e==null||typeof e=="boolean"?Te(jo):Ae(e)?Te(zt,null,e.slice()):typeof e=="object"?Ri(e):Te(ph,null,String(e))}function Ri(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:zs(e)}function kv(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Ae(t))n=16;else if(typeof t=="object")if(i&65){const o=t.default;o&&(o._c&&(o._d=!1),kv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(mh in t)?t._ctx=Vn:o===3&&Vn&&(Vn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ve(t)?(t={default:t,_ctx:Vn},n=32):(t=String(t),i&64?(n=16,t=[Lt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ku(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const o in i)if(o==="class")t.class!==i.class&&(t.class=jt([t.class,i.class]));else if(o==="style")t.style=Hs([t.style,i.style]);else if(ih(o)){const s=t[o],u=i[o];u&&s!==u&&!(Ae(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=i[o])}return t}function Ur(e,t,n,i=null){Ar(e,t,7,[n,i])}const aD=hT();let uD=0;function cD(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||aD,s={uid:uD++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new NE(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pT(i,o),emitsOptions:nT(i,o),emit:null,emitted:null,propsDefaults:_t,inheritAttrs:i.inheritAttrs,ctx:_t,data:_t,props:_t,attrs:_t,slots:_t,refs:_t,setupState:_t,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=bP.bind(null,s),e.ce&&e.ce(s),s}let Wt=null;const gh=()=>Wt||Vn;let xv,As,i1="__VUE_INSTANCE_SETTERS__";(As=sg()[i1])||(As=sg()[i1]=[]),As.push(e=>Wt=e),xv=e=>{As.length>1?As.forEach(t=>t(e)):As[0](e)};const Ws=e=>{xv(e),e.scope.on()},Lo=()=>{Wt&&Wt.scope.off(),xv(null)};function bT(e){return e.vnode.shapeFlag&4}let Gu=!1;function lD(e,t=!1){Gu=t;const{props:n,children:i}=e.vnode,o=bT(e);XP(e,n,o,t),JP(e,i);const s=o?fD(e,t):void 0;return Gu=!1,s}function fD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=lh(new Proxy(e.ctx,jP));const{setup:i}=n;if(i){const o=e.setupContext=i.length>1?dD(e):null;Ws(e),_a();const s=Bi(i,e,0,[e.props,o]);if(wa(),Lo(),SE(s)){if(s.then(Lo,Lo),t)return s.then(u=>{o1(e,u,t)}).catch(u=>{fh(u,e,0)});e.asyncDep=s}else o1(e,s,t)}else IT(e,t)}function o1(e,t,n){Ve(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=YE(t)),IT(e,n)}let s1;function IT(e,t,n){const i=e.type;if(!e.render){if(!t&&s1&&!i.render){const o=i.template||Sv(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:f}=i,p=Zt(Zt({isCustomElement:s,delimiters:l},u),f);i.render=s1(o,p)}}e.render=i.render||Sr}Ws(e),_a(),BP(e),wa(),Lo()}function hD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Bn(e,"get","$attrs"),t[n]}}))}function dD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return hD(e)},slots:e.slots,emit:e.emit,expose:t}}function vh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(YE(lh(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in ku)return ku[n](e)},has(t,n){return n in t||n in ku}}))}function pD(e,t=!0){return Ve(e)?e.displayName||e.name:e.name||t&&e.__name}function mD(e){return Ve(e)&&"__vccOpts"in e}const qe=(e,t)=>mP(e,t,Gu);function Xs(e,t,n){const i=arguments.length;return i===2?dt(t)&&!Ae(t)?gg(t)?Te(e,null,[t]):Te(e,t):Te(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&gg(n)&&(n=[n]),Te(e,t,n))}const gD=Symbol.for("v-scx"),vD=()=>mr(gD),yD="3.3.4",_D="http://www.w3.org/2000/svg",Ao=typeof document<"u"?document:null,a1=Ao&&Ao.createElement("template"),wD={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const o=t?Ao.createElementNS(_D,e):Ao.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:e=>Ao.createTextNode(e),createComment:e=>Ao.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ao.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{a1.innerHTML=i?`<svg>${e}</svg>`:e;const l=a1.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function bD(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function ID(e,t,n){const i=e.style,o=qt(n);if(n&&!o){if(t&&!qt(t))for(const s in t)n[s]==null&&vg(i,s,"");for(const s in n)vg(i,s,n[s])}else{const s=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=s)}}const u1=/\s*!important$/;function vg(e,t,n){if(Ae(n))n.forEach(i=>vg(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=ED(e,t);u1.test(n)?e.setProperty(ya(i),n.replace(u1,""),"important"):e[i]=n}}const c1=["Webkit","Moz","ms"],Lm={};function ED(e,t){const n=Lm[t];if(n)return n;let i=Wr(t);if(i!=="filter"&&i in e)return Lm[t]=i;i=ah(i);for(let o=0;o<c1.length;o++){const s=c1[o]+i;if(s in e)return Lm[t]=s}return t}const l1="http://www.w3.org/1999/xlink";function TD(e,t,n,i,o){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(l1,t.slice(6,t.length)):e.setAttributeNS(l1,t,n);else{const s=NO(t);n==null||s&&!CE(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function SD(e,t,n,i,o,s,u){if(t==="innerHTML"||t==="textContent"){i&&u(i,o,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const p=l==="OPTION"?e.getAttribute("value"):e.value,g=n??"";p!==g&&(e.value=g),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const p=typeof e[t];p==="boolean"?n=CE(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function ET(e,t,n,i){e.addEventListener(t,n,i)}function AD(e,t,n,i){e.removeEventListener(t,n,i)}function kD(e,t,n,i,o=null){const s=e._vei||(e._vei={}),u=s[t];if(i&&u)u.value=i;else{const[l,f]=xD(t);if(i){const p=s[t]=ND(i,o);ET(e,l,p,f)}else u&&(AD(e,l,u,f),s[t]=void 0)}}const f1=/(?:Once|Passive|Capture)$/;function xD(e){let t;if(f1.test(e)){t={};let i;for(;i=e.match(f1);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ya(e.slice(2)),t]}let Mm=0;const CD=Promise.resolve(),RD=()=>Mm||(CD.then(()=>Mm=0),Mm=Date.now());function ND(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ar(OD(i,n.value),t,5,[i])};return n.value=e,n.attached=RD(),n}function OD(e,t){if(Ae(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>o=>!o._stopped&&i&&i(o))}else return t}const h1=/^on[a-z]/,PD=(e,t,n,i,o=!1,s,u,l,f)=>{t==="class"?bD(e,i,o):t==="style"?ID(e,n,i):ih(t)?uv(t)||kD(e,t,n,i,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):DD(e,t,i,o))?SD(e,t,i,s,u,l,f):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),TD(e,t,i,o))};function DD(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&h1.test(t)&&Ve(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||h1.test(t)&&qt(n)?!1:t in e}const d1=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ae(t)?n=>af(t,n):t},LD={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const o=oh(t);ET(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?xE(Ef(u)):Ef(u));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=d1(i)},mounted(e,{value:t}){p1(e,t)},beforeUpdate(e,t,n){e._assign=d1(n)},updated(e,{value:t}){p1(e,t)}};function p1(e,t){const n=e.multiple;if(!(n&&!Ae(t)&&!oh(t))){for(let i=0,o=e.options.length;i<o;i++){const s=e.options[i],u=Ef(s);if(n)Ae(t)?s.selected=PO(t,u)>-1:s.selected=t.has(u);else if(uh(Ef(s),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ef(e){return"_value"in e?e._value:e.value}const MD=["ctrl","shift","alt","meta"],FD={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>MD.some(n=>e[`${n}Key`]&&!t.includes(n))},nn=(e,t)=>(n,...i)=>{for(let o=0;o<t.length;o++){const s=FD[t[o]];if(s&&s(n,t))return}return e(n,...i)},yg={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):mu(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),mu(e,!0),i.enter(e)):i.leave(e,()=>{mu(e,!1)}):mu(e,t))},beforeUnmount(e,{value:t}){mu(e,t)}};function mu(e,t){e.style.display=t?e._vod:"none"}const VD=Zt({patchProp:PD},wD);let m1;function UD(){return m1||(m1=eD(VD))}const jD=(...e)=>{const t=UD().createApp(...e),{mount:n}=t;return t.mount=i=>{const o=BD(i);if(!o)return;const s=t._component;!Ve(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function BD(e){return qt(e)?document.querySelector(e):e}var qD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let TT;const yh=e=>TT=e,ST=Symbol();function _g(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Cu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Cu||(Cu={}));function $D(){const e=OE(!0),t=e.run(()=>An({}));let n=[],i=[];const o=lh({install(s){yh(o),o._a=s,s.provide(ST,o),s.config.globalProperties.$pinia=o,i.forEach(u=>n.push(u)),i=[]},use(s){return!this._a&&!qD?i.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const AT=()=>{};function g1(e,t,n,i=AT){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),i())};return!n&&PE()&&LO(o),o}function ks(e,...t){e.slice().forEach(n=>{n(...t)})}const HD=e=>e();function wg(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],o=e[n];_g(o)&&_g(i)&&e.hasOwnProperty(n)&&!ht(i)&&!ji(i)?e[n]=wg(o,i):e[n]=i}return e}const KD=Symbol();function GD(e){return!_g(e)||!e.hasOwnProperty(KD)}const{assign:Ci}=Object;function zD(e){return!!(ht(e)&&e.effect)}function WD(e,t,n,i){const{state:o,actions:s,getters:u}=t,l=n.state.value[e];let f;function p(){l||(n.state.value[e]=o?o():{});const g=fP(n.state.value[e]);return Ci(g,s,Object.keys(u||{}).reduce((h,m)=>(h[m]=lh(qe(()=>{yh(n);const y=n._s.get(e);return u[m].call(y,y)})),h),{}))}return f=kT(e,p,t,n,i,!0),f}function kT(e,t,n={},i,o,s){let u;const l=Ci({actions:{}},n),f={deep:!0};let p,g,h=[],m=[],y;const _=i.state.value[e];!s&&!_&&(i.state.value[e]={}),An({});let I;function E(G){let Y;p=g=!1,typeof G=="function"?(G(i.state.value[e]),Y={type:Cu.patchFunction,storeId:e,events:y}):(wg(i.state.value[e],G),Y={type:Cu.patchObject,payload:G,storeId:e,events:y});const x=I=Symbol();Br().then(()=>{I===x&&(p=!0)}),g=!0,ks(h,Y,i.state.value[e])}const T=s?function(){const{state:Y}=n,x=Y?Y():{};this.$patch(Ke=>{Ci(Ke,x)})}:AT;function C(){u.stop(),h=[],m=[],i._s.delete(e)}function D(G,Y){return function(){yh(i);const x=Array.from(arguments),Ke=[],st=[];function it(ae){Ke.push(ae)}function Je(ae){st.push(ae)}ks(m,{args:x,name:G,store:J,after:it,onError:Je});let ze;try{ze=Y.apply(this&&this.$id===e?this:J,x)}catch(ae){throw ks(st,ae),ae}return ze instanceof Promise?ze.then(ae=>(ks(Ke,ae),ae)).catch(ae=>(ks(st,ae),Promise.reject(ae))):(ks(Ke,ze),ze)}}const F={_p:i,$id:e,$onAction:g1.bind(null,m),$patch:E,$reset:T,$subscribe(G,Y={}){const x=g1(h,G,Y.detached,()=>Ke()),Ke=u.run(()=>ir(()=>i.state.value[e],st=>{(Y.flush==="sync"?g:p)&&G({storeId:e,type:Cu.direct,events:y},st)},Ci({},f,Y)));return x},$dispose:C},J=li(F);i._s.set(e,J);const me=(i._a&&i._a.runWithContext||HD)(()=>i._e.run(()=>(u=OE()).run(t)));for(const G in me){const Y=me[G];if(ht(Y)&&!zD(Y)||ji(Y))s||(_&&GD(Y)&&(ht(Y)?Y.value=_[G]:wg(Y,_[G])),i.state.value[e][G]=Y);else if(typeof Y=="function"){const x=D(G,Y);me[G]=x,l.actions[G]=Y}}return Ci(J,me),Ci(et(J),me),Object.defineProperty(J,"$state",{get:()=>i.state.value[e],set:G=>{E(Y=>{Ci(Y,G)})}}),i._p.forEach(G=>{Ci(J,u.run(()=>G({store:J,app:i._a,pinia:i,options:l})))}),_&&s&&n.hydrate&&n.hydrate(J.$state,_),p=!0,g=!0,J}function Cv(e,t,n){let i,o;const s=typeof t=="function";typeof e=="string"?(i=e,o=s?n:t):(o=e,i=e.id);function u(l,f){const p=WP();return l=l||(p?mr(ST,null):null),l&&yh(l),l=TT,l._s.has(i)||(s?kT(i,t,o,l):WD(i,o,l)),l._s.get(i)}return u.$id=i,u}let XD="Store";function YD(...e){return e.reduce((t,n)=>(t[n.$id+XD]=function(){return n(this.$pinia)},t),{})}function zu(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(){return e(this.$pinia)[i]},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(){const o=e(this.$pinia),s=t[i];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function gc(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[i](...o)},n),{}):Object.keys(t).reduce((n,i)=>(n[i]=function(...o){return e(this.$pinia)[t[i]](...o)},n),{})}function Rv(e,t){return Array.isArray(t)?t.reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[i]},set(o){return e(this.$pinia)[i]=o}},n),{}):Object.keys(t).reduce((n,i)=>(n[i]={get(){return e(this.$pinia)[t[i]]},set(o){return e(this.$pinia)[t[i]]=o}},n),{})}const Tf=Cv("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var bg=function(e,t){return bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},bg(e,t)};function Se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");bg(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Ys=function(){return Ys=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ys.apply(this,arguments)};function H(e,t,n,i){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(g){try{p(i.next(g))}catch(h){u(h)}}function f(g){try{p(i.throw(g))}catch(h){u(h)}}function p(g){g.done?s(g.value):o(g.value).then(l,f)}p((i=i.apply(e,t||[])).next())})}function q(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(p){return function(g){return f([p,g])}}function f(p){if(i)throw new TypeError("Generator is already executing.");for(;u&&(u=0,p[0]&&(n=0)),n;)try{if(i=1,o&&(s=p[0]&2?o.return:p[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,p[1])).done)return s;switch(o=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(g){p=[6,g],o=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Fm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(u)throw u.error}}return s}function Tt(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,s;i<o;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xT=function(e){for(var t=[],n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},QD=function(e){for(var t=[],n=0,i=0;n<e.length;){var o=e[n++];if(o<128)t[i++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[i++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[i++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},JD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,p=f?e[o+2]:0,g=s>>2,h=(s&3)<<4|l>>4,m=(l&15)<<2|p>>6,y=p&63;f||(y=64,u||(m=64)),i.push(n[g],n[h],n[m],n[y])}return i.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xT(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):QD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,p=f?n[e.charAt(o)]:64;++o;var g=o<e.length,h=g?n[e.charAt(o)]:64;if(++o,s==null||l==null||p==null||h==null)throw Error();var m=s<<2|l>>4;if(i.push(m),p!==64){var y=l<<4&240|p>>2;if(i.push(y),h!==64){var _=p<<6&192|h;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ZD=function(e){var t=xT(e);return JD.encodeByteArray(t,!0)},v1=function(e){return ZD(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(e){return Wu(void 0,e)}function Wu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var i in t)!t.hasOwnProperty(i)||!tL(i)||(e[i]=Wu(e[i],t[i]));return e}function tL(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nL=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){t.resolve=n,t.reject=i})}return e.prototype.wrapCallback=function(t){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(i):t(i,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Ys({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[v1(JSON.stringify(n)),v1(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bo())}function RT(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iL(){return typeof self=="object"&&self.self===self}function oL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function sL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aL(){return Bo().indexOf("Electron/")>=0}function uL(){var e=Bo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function cL(){return Bo().indexOf("MSAppHost/")>=0}function lL(){return!RT()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fL="FirebaseError",NT=function(e){Se(t,e);function t(n,i,o){var s=e.call(this,i)||this;return s.code=n,s.customData=o,s.name=fL,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,Nv.prototype.create),s}return t}(Error),Nv=function(){function e(t,n,i){this.service=t,this.serviceName=n,this.errors=i}return e.prototype.create=function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?hL(u,o):"Error",f=this.serviceName+": "+l+" ("+s+").",p=new NT(s,f,o);return p},e}();function hL(e,t){return e.replace(dL,function(n,i){var o=t[i];return o!=null?String(o):"<"+i+"?>"})}var dL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pL(e,t){var n=new mL(e,t);return n.subscribe.bind(n)}var mL=function(){function e(t,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(i)}).catch(function(o){i.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,i){var o=this,s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");gL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Vm),s.error===void 0&&(s.error=Vm),s.complete===void 0&&(s.complete=Vm);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[t]!==void 0)try{n(i.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function gL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,i=t;n<i.length;n++){var o=i[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function Vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(e){return e&&e._delegate?e._delegate:e}var vc=function(){function e(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Eo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var i=new nL;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,i;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(_L(t))try{this.getOrInitializeService({instanceIdentifier:Eo})}catch{}try{for(var o=Fm(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=Kl(s.value,2),l=u[0],f=u[1],p=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:p});f.resolve(g)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Eo),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Tt(Tt([],Kl(t.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),Kl(t.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Eo),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Eo),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,i;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=Fm(this.instancesDeferred.entries()),p=f.next();!p.done;p=f.next()){var g=Kl(p.value,2),h=g[0],m=g[1],y=this.normalizeInstanceIdentifier(h);u===y&&m.resolve(l)}}catch(_){n={error:_}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var i,o=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var i,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=Fm(s),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(p){i={error:p}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,i=t.options,o=i===void 0?{}:i,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yL(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Eo),this.component?this.component.multipleInstances?t:Eo:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function yL(e){return e===Eo?void 0:e}function _L(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wL=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new vL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ir(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)i[o]=s[u];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Io,Ov=[],nt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(nt||(nt={}));var OT={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},bL=nt.INFO,IL=(Io={},Io[nt.DEBUG]="log",Io[nt.VERBOSE]="log",Io[nt.INFO]="info",Io[nt.WARN]="warn",Io[nt.ERROR]="error",Io),EL=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=IL[t];if(s)console[s].apply(console,Ir(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},PT=function(){function e(t){this.name=t,this._logLevel=bL,this._logHandler=EL,this._userLogHandler=null,Ov.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in nt))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?OT[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,nt.DEBUG],t)),this._logHandler.apply(this,Ir([this,nt.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,nt.VERBOSE],t)),this._logHandler.apply(this,Ir([this,nt.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,nt.INFO],t)),this._logHandler.apply(this,Ir([this,nt.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,nt.WARN],t)),this._logHandler.apply(this,Ir([this,nt.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ir([this,nt.ERROR],t)),this._logHandler.apply(this,Ir([this,nt.ERROR],t))},e}();function TL(e){Ov.forEach(function(t){t.setLogLevel(e)})}function SL(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=OT[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,p){for(var g=[],h=2;h<arguments.length;h++)g[h-2]=arguments[h];var m=g.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");p>=(l??f.logLevel)&&e({level:nt[p].toLowerCase(),message:m,args:g,type:f.name})}},i=0,o=Ov;i<o.length;i++){var s=o[i];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si,AL=(Si={},Si["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Si["bad-app-name"]="Illegal App name: '{$appName}",Si["duplicate-app"]="Firebase App named '{$appName}' already exists",Si["app-deleted"]="Firebase App named '{$appName}' already deleted",Si["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Si["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Si),Os=new Nv("app","Firebase",AL),DT="@firebase/app",kL="0.6.30",xL="@firebase/analytics",CL="@firebase/app-check",RL="@firebase/auth",NL="@firebase/database",OL="@firebase/functions",PL="@firebase/installations",DL="@firebase/messaging",LL="@firebase/performance",ML="@firebase/remote-config",FL="@firebase/storage",VL="@firebase/firestore",UL="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,Sf="[DEFAULT]",jL=(hn={},hn[DT]="fire-core",hn[xL]="fire-analytics",hn[CL]="fire-app-check",hn[RL]="fire-auth",hn[NL]="fire-rtdb",hn[OL]="fire-fn",hn[PL]="fire-iid",hn[DL]="fire-fcm",hn[LL]="fire-perf",hn[ML]="fire-rc",hn[FL]="fire-gcs",hn[VL]="fire-fst",hn["fire-js"]="fire-js",hn[UL]="fire-js-all",hn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs=new PT("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lf=function(){function e(t,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=eL(t),this.container=new wL(n.name),this._addComponent(new vc("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var i;n===void 0&&(n=Sf),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Sf),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){Qs.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Os.create("app-deleted",{appName:this.name_})},e}();lf.prototype.name&&lf.prototype.options||lf.prototype.delete||console.log("dc");var BL="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e){var t={},n=new Map,i={__esModule:!0,initializeApp:u,app:s,registerVersion:p,setLogLevel:TL,onLog:g,apps:null,SDK_VERSION:BL,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(m){delete t[m]}function s(m){if(m=m||Sf,!y1(t,m))throw Os.create("no-app",{appName:m});return t[m]}s.App=e;function u(m,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var _=y;y={name:_}}var I=y;I.name===void 0&&(I.name=Sf);var E=I.name;if(typeof E!="string"||!E)throw Os.create("bad-app-name",{appName:String(E)});if(y1(t,E))throw Os.create("duplicate-app",{appName:E});var T=new e(m,I,i);return t[E]=T,T}function l(){return Object.keys(t).map(function(m){return t[m]})}function f(m){var y=m.name;if(n.has(y))return Qs.debug("There were multiple attempts to register component "+y+"."),m.type==="PUBLIC"?i[y]:null;if(n.set(y,m),m.type==="PUBLIC"){var _=function(C){if(C===void 0&&(C=s()),typeof C[y]!="function")throw Os.create("invalid-app-argument",{appName:y});return C[y]()};m.serviceProps!==void 0&&Wu(_,m.serviceProps),i[y]=_,e.prototype[y]=function(){for(var C=[],D=0;D<arguments.length;D++)C[D]=arguments[D];var F=this._getService.bind(this,y);return F.apply(this,m.multipleInstances?C:[])}}for(var I=0,E=Object.keys(t);I<E.length;I++){var T=E[I];t[T]._addComponent(m)}return m.type==="PUBLIC"?i[y]:null}function p(m,y,_){var I,E=(I=jL[m])!==null&&I!==void 0?I:m;_&&(E+="-"+_);var T=E.match(/\s|\//),C=y.match(/\s|\//);if(T||C){var D=['Unable to register library "'+E+'" with version "'+y+'":'];T&&D.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),T&&C&&D.push("and"),C&&D.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),Qs.warn(D.join(" "));return}f(new vc(E+"-version",function(){return{library:E,version:y}},"VERSION"))}function g(m,y){if(m!==null&&typeof m!="function")throw Os.create("invalid-log-argument");SL(m,y)}function h(m,y){if(y==="serverAuth")return null;var _=y;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){var e=qL(lf);e.INTERNAL=Ys(Ys({},e.INTERNAL),{createFirebaseNamespace:LT,extendNamespace:t,createSubscribe:pL,ErrorFactory:Nv,deepExtend:Wu});function t(n){Wu(e,n)}return e}var Pv=LT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $L=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(HL(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},e}();function HL(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(e,t){e.INTERNAL.registerComponent(new vc("platform-logger",function(n){return new $L(n)},"PRIVATE")),e.registerVersion(DT,kL,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(iL()&&self.firebase!==void 0){Qs.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var _1=self.firebase.SDK_VERSION;_1&&_1.indexOf("LITE")>=0&&Qs.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var GL=Pv.initializeApp;Pv.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return RT()&&Qs.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),GL.apply(void 0,e)};var ke=Pv;KL(ke);var zL="firebase",MT="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ke.registerVersion(zL,MT,"app");ke.SDK_VERSION=MT;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,a,c){r!=Array.prototype&&r!=Object.prototype&&(r[a]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var a=0;a<r.length;++a){var c=r[a];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,a){if(a){var c=i;r=r.split(".");for(var d=0;d<r.length-1;d++){var v=r[d];v in c||(c[v]={}),c=c[v]}r=r[r.length-1],d=c[r],a=a(d),a!=d&&a!=null&&t(c,r,{configurable:!0,writable:!0,value:a})}}function s(r){var a=0;return function(){return a<r.length?{done:!1,value:r[a++]}:{done:!0}}}function u(r){var a=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return a?a.call(r):{next:s(r)}}o("Promise",function(r){function a(b){this.b=0,this.c=void 0,this.a=[];var S=this.f();try{b(S.resolve,S.reject)}catch(U){S.reject(U)}}function c(){this.a=null}function d(b){return b instanceof a?b:new a(function(S){S(b)})}if(r)return r;c.prototype.b=function(b){if(this.a==null){this.a=[];var S=this;this.c(function(){S.g()})}this.a.push(b)};var v=i.setTimeout;c.prototype.c=function(b){v(b,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var b=this.a;this.a=[];for(var S=0;S<b.length;++S){var U=b[S];b[S]=null;try{U()}catch(z){this.f(z)}}}this.a=null},c.prototype.f=function(b){this.c(function(){throw b})},a.prototype.f=function(){function b(z){return function(Oe){U||(U=!0,z.call(S,Oe))}}var S=this,U=!1;return{resolve:b(this.m),reject:b(this.g)}},a.prototype.m=function(b){if(b===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(b instanceof a)this.s(b);else{e:switch(typeof b){case"object":var S=b!=null;break e;case"function":S=!0;break e;default:S=!1}S?this.v(b):this.h(b)}},a.prototype.v=function(b){var S=void 0;try{S=b.then}catch(U){this.g(U);return}typeof S=="function"?this.u(S,b):this.h(b)},a.prototype.g=function(b){this.i(2,b)},a.prototype.h=function(b){this.i(1,b)},a.prototype.i=function(b,S){if(this.b!=0)throw Error("Cannot settle("+b+", "+S+"): Promise already settled in state"+this.b);this.b=b,this.c=S,this.l()},a.prototype.l=function(){if(this.a!=null){for(var b=0;b<this.a.length;++b)w.b(this.a[b]);this.a=null}};var w=new c;return a.prototype.s=function(b){var S=this.f();b.Ra(S.resolve,S.reject)},a.prototype.u=function(b,S){var U=this.f();try{b.call(S,U.resolve,U.reject)}catch(z){U.reject(z)}},a.prototype.then=function(b,S){function U(tt,Qt){return typeof tt=="function"?function(ti){try{z(tt(ti))}catch(Rm){Oe(Rm)}}:Qt}var z,Oe,ut=new a(function(tt,Qt){z=tt,Oe=Qt});return this.Ra(U(b,z),U(S,Oe)),ut},a.prototype.catch=function(b){return this.then(void 0,b)},a.prototype.Ra=function(b,S){function U(){switch(z.b){case 1:b(z.c);break;case 2:S(z.c);break;default:throw Error("Unexpected state: "+z.b)}}var z=this;this.a==null?w.b(U):this.a.push(U)},a.resolve=d,a.reject=function(b){return new a(function(S,U){U(b)})},a.race=function(b){return new a(function(S,U){for(var z=u(b),Oe=z.next();!Oe.done;Oe=z.next())d(Oe.value).Ra(S,U)})},a.all=function(b){var S=u(b),U=S.next();return U.done?d([]):new a(function(z,Oe){function ut(ti){return function(Rm){tt[ti]=Rm,Qt--,Qt==0&&z(tt)}}var tt=[],Qt=0;do tt.push(void 0),Qt++,d(U.value).Ra(ut(tt.length-1),Oe),U=S.next();while(!U.done)})},a});var l=l||{},f=this||self,p=/^[\w+/_-]+[=]{0,2}$/,g=null;function h(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&p.test(r)?r:""}function m(){}function y(r){var a=typeof r;return a!="object"?a:r?Array.isArray(r)?"array":a:"null"}function _(r){var a=y(r);return a=="array"||a=="object"&&typeof r.length=="number"}function I(r){return y(r)=="function"}function E(r){var a=typeof r;return a=="object"&&r!=null||a=="function"}function T(r){return Object.prototype.hasOwnProperty.call(r,C)&&r[C]||(r[C]=++D)}var C="closure_uid_"+(1e9*Math.random()>>>0),D=0;function F(r,a,c){return r.call.apply(r.bind,arguments)}function J(r,a,c){if(!r)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,d),r.apply(a,v)}}return function(){return r.apply(a,arguments)}}function V(r,a,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=F:V=J,V.apply(null,arguments)}function me(r,a){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();return d.push.apply(d,arguments),r.apply(this,d)}}function G(r,a){function c(){}c.prototype=a.prototype,r.bb=a.prototype,r.prototype=new c,r.prototype.constructor=r}function Y(r){return r}function x(r,a,c){this.code=st+r,this.message=a||it[r]||"",this.a=c||null}G(x,Error),x.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},x.prototype.toJSON=function(){return this.w()};function Ke(r){var a=r&&r.code;return a?new x(a.substring(st.length),r.message,r.serverResponse):null}var st="auth/",it={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Je={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function ze(r){for(var a in Je)if(Je[a].id===r)return r=Je[a],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var ae;ae=ze("__EID__")?"__EID__":void 0;function Me(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function ge(r){if(Error.captureStackTrace)Error.captureStackTrace(this,ge);else{var a=Error().stack;a&&(this.stack=a)}r&&(this.message=String(r))}G(ge,Error),ge.prototype.name="CustomError";function gt(r,a){r=r.split("%s");for(var c="",d=r.length-1,v=0;v<d;v++)c+=r[v]+(v<a.length?a[v]:"%s");ge.call(this,c+r[d])}G(gt,ge),gt.prototype.name="AssertionError";function Ct(r,a){throw new gt("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Kt(r,a){this.c=r,this.f=a,this.b=0,this.a=null}Kt.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Mt(r,a){r.f(a),100>r.b&&(r.b++,a.next=r.a,r.a=a)}function vt(){this.b=this.a=null}var Gn=new Kt(function(){return new ve},function(r){r.reset()});vt.prototype.add=function(r,a){var c=Gn.get();c.set(r,a),this.b?this.b.next=c:this.a=c,this.b=c};function de(){var r=I_,a=null;return r.a&&(a=r.a,r.a=r.a.next,r.a||(r.b=null),a.next=null),a}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(r,a){this.a=r,this.b=a,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(r,a){return Array.prototype.indexOf.call(r,a,void 0)}:function(r,a){if(typeof r=="string")return typeof a!="string"||a.length!=1?-1:r.indexOf(a,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===a)return c;return-1},$=Array.prototype.forEach?function(r,a,c){Array.prototype.forEach.call(r,a,c)}:function(r,a,c){for(var d=r.length,v=typeof r=="string"?r.split(""):r,w=0;w<d;w++)w in v&&a.call(c,v[w],w,r)};function te(r,a){for(var c=typeof r=="string"?r.split(""):r,d=r.length-1;0<=d;--d)d in c&&a.call(void 0,c[d],d,r)}var ue=Array.prototype.filter?function(r,a){return Array.prototype.filter.call(r,a,void 0)}:function(r,a){for(var c=r.length,d=[],v=0,w=typeof r=="string"?r.split(""):r,b=0;b<c;b++)if(b in w){var S=w[b];a.call(void 0,S,b,r)&&(d[v++]=S)}return d},Pe=Array.prototype.map?function(r,a){return Array.prototype.map.call(r,a,void 0)}:function(r,a){for(var c=r.length,d=Array(c),v=typeof r=="string"?r.split(""):r,w=0;w<c;w++)w in v&&(d[w]=a.call(void 0,v[w],w,r));return d},A=Array.prototype.some?function(r,a){return Array.prototype.some.call(r,a,void 0)}:function(r,a){for(var c=r.length,d=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in d&&a.call(void 0,d[v],v,r))return!0;return!1};function k(r){e:{for(var a=ZC,c=r.length,d=typeof r=="string"?r.split(""):r,v=0;v<c;v++)if(v in d&&a.call(void 0,d[v],v,r)){a=v;break e}a=-1}return 0>a?null:typeof r=="string"?r.charAt(a):r[a]}function P(r,a){return 0<=L(r,a)}function j(r,a){a=L(r,a);var c;return(c=0<=a)&&Array.prototype.splice.call(r,a,1),c}function B(r,a){var c=0;te(r,function(d,v){a.call(void 0,d,v,r)&&Array.prototype.splice.call(r,v,1).length==1&&c++})}function W(r){return Array.prototype.concat.apply([],arguments)}function ie(r){var a=r.length;if(0<a){for(var c=Array(a),d=0;d<a;d++)c[d]=r[d];return c}return[]}var Z=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},ne=/&/g,Q=/</g,we=/>/g,ce=/"/g,ye=/'/g,xe=/\x00/g,Be=/[\x00&<>"']/;function Ie(r,a){return r.indexOf(a)!=-1}function O(r,a){return r<a?-1:r>a?1:0}var N;e:{var K=f.navigator;if(K){var oe=K.userAgent;if(oe){N=oe;break e}}N=""}function fe(r){return Ie(N,r)}function Ce(r,a){for(var c in r)a.call(void 0,r[c],c,r)}function Ue(r){for(var a in r)return!1;return!0}function Ne(r){var a={},c;for(c in r)a[c]=r[c];return a}var Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(r,a){for(var c,d,v=1;v<arguments.length;v++){d=arguments[v];for(c in d)r[c]=d[c];for(var w=0;w<Fe.length;w++)c=Fe[w],Object.prototype.hasOwnProperty.call(d,c)&&(r[c]=d[c])}}function ln(r,a){e:{try{var c=r&&r.ownerDocument,d=c&&(c.defaultView||c.parentWindow);if(d=d||f,d.Element&&d.Location){var v=d;break e}}catch{}v=null}if(v&&typeof v[a]<"u"&&(!r||!(r instanceof v[a])&&(r instanceof v.Location||r instanceof v.Element))){if(E(r))try{var w=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{w="<object could not be stringified>"}else w=r===void 0?"undefined":r===null?"null":typeof r;Ct("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,w)}}function fn(r,a){this.a=r===Vc&&a||"",this.b=r_}fn.prototype.ta=!0,fn.prototype.sa=function(){return this.a},fn.prototype.toString=function(){return"Const{"+this.a+"}"};function rd(r){return r instanceof fn&&r.constructor===fn&&r.b===r_?r.a:(Ct("expected object of type Const, got '"+r+"'"),"type_error:Const")}var r_={},Vc={},Uc;function i_(){if(Uc===void 0){var r=null,a=f.trustedTypes;if(a&&a.createPolicy){try{r=a.createPolicy("goog#html",{createHTML:Y,createScript:Y,createScriptURL:Y})}catch(c){f.console&&f.console.error(c.message)}Uc=r}else Uc=r}return Uc}function rs(r,a){this.a=a===s_?r:""}rs.prototype.ta=!0,rs.prototype.sa=function(){return this.a.toString()},rs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function o_(r){return r instanceof rs&&r.constructor===rs?r.a:(Ct("expected object of type TrustedResourceUrl, got '"+r+"' of type "+y(r)),"type_error:TrustedResourceUrl")}function id(r,a){var c=rd(r);if(!Cx.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(xx,function(d,v){if(!Object.prototype.hasOwnProperty.call(a,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(a));return d=a[v],d instanceof fn?rd(d):encodeURIComponent(String(d))}),Rx(r)}var xx=/%{(\w+)}/g,Cx=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,s_={};function Rx(r){var a=i_();return r=a?a.createScriptURL(r):r,new rs(r,s_)}function On(r,a){this.a=a===Oa?r:""}On.prototype.ta=!0,On.prototype.sa=function(){return this.a.toString()},On.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function jc(r){return r instanceof On&&r.constructor===On?r.a:(Ct("expected object of type SafeUrl, got '"+r+"' of type "+y(r)),"type_error:SafeUrl")}var Nx=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Ox=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,a_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function u_(r){if(r instanceof On)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),a_.test(r))r=new On(r,Oa);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var a=r.match(Ox);r=a&&Nx.test(a[1])?new On(r,Oa):null}return r}function c_(r){return r instanceof On?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),a_.test(r)||(r="about:invalid#zClosurez"),new On(r,Oa))}var Oa={},l_=new On("about:invalid#zClosurez",Oa);function is(r,a,c){this.a=c===f_?r:""}is.prototype.ta=!0,is.prototype.sa=function(){return this.a.toString()},is.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function Px(r){return r instanceof is&&r.constructor===is?r.a:(Ct("expected object of type SafeHtml, got '"+r+"' of type "+y(r)),"type_error:SafeHtml")}var f_={};function Dx(r,a){ln(r,"HTMLScriptElement"),r.src=o_(a),(a=r.ownerDocument&&r.ownerDocument.defaultView)&&a!=f?a=h(a.document):(g===null&&(g=h(f.document)),a=g),a&&r.setAttribute("nonce",a)}function h_(r,a,c,d){return r=r instanceof On?r:c_(r),a=a||f,c=c instanceof fn?rd(c):c||"",a.open(jc(r),c,d,void 0)}function d_(r,a){for(var c=r.split("%s"),d="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)d+=c.shift()+v.shift();return d+c.join("%s")}function od(r){return Be.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(ne,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Q,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(we,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(ce,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(ye,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(xe,"&#0;"))),r}function sd(r){return sd[" "](r),r}sd[" "]=m;function Lx(r,a){var c=Ux;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=a(r)}var Mx=fe("Opera"),gr=fe("Trident")||fe("MSIE"),p_=fe("Edge"),Fx=p_||gr,m_=fe("Gecko")&&!(Ie(N.toLowerCase(),"webkit")&&!fe("Edge"))&&!(fe("Trident")||fe("MSIE"))&&!fe("Edge"),Vx=Ie(N.toLowerCase(),"webkit")&&!fe("Edge");function g_(){var r=f.document;return r?r.documentMode:void 0}var Bc;e:{var ad="",ud=function(){var r=N;if(m_)return/rv:([^\);]+)(\)|;)/.exec(r);if(p_)return/Edge\/([\d\.]+)/.exec(r);if(gr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(Vx)return/WebKit\/(\S+)/.exec(r);if(Mx)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(ud&&(ad=ud?ud[1]:""),gr){var cd=g_();if(cd!=null&&cd>parseFloat(ad)){Bc=String(cd);break e}}Bc=ad}var Ux={};function v_(r){return Lx(r,function(){for(var a=0,c=Z(String(Bc)).split("."),d=Z(String(r)).split("."),v=Math.max(c.length,d.length),w=0;a==0&&w<v;w++){var b=c[w]||"",S=d[w]||"";do{if(b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],b[0].length==0&&S[0].length==0)break;a=O(b[1].length==0?0:parseInt(b[1],10),S[1].length==0?0:parseInt(S[1],10))||O(b[2].length==0,S[2].length==0)||O(b[2],S[2]),b=b[3],S=S[3]}while(a==0)}return 0<=a})}var ld;if(f.document&&gr){var y_=g_();ld=y_||parseInt(Bc,10)||void 0}else ld=void 0;var gi=ld;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var jx=!gr||9<=Number(gi);function Pa(r){var a=document;return typeof r=="string"?a.getElementById(r):r}function __(r,a){Ce(a,function(c,d){c&&typeof c=="object"&&c.ta&&(c=c.sa()),d=="style"?r.style.cssText=c:d=="class"?r.className=c:d=="for"?r.htmlFor=c:w_.hasOwnProperty(d)?r.setAttribute(w_[d],c):d.lastIndexOf("aria-",0)==0||d.lastIndexOf("data-",0)==0?r.setAttribute(d,c):r[d]=c})}var w_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Bx(r,a,c){var d=arguments,v=document,w=String(d[0]),b=d[1];if(!jx&&b&&(b.name||b.type)){if(w=["<",w],b.name&&w.push(' name="',od(b.name),'"'),b.type){w.push(' type="',od(b.type),'"');var S={};De(S,b),delete S.type,b=S}w.push(">"),w=w.join("")}return w=qc(v,w),b&&(typeof b=="string"?w.className=b:Array.isArray(b)?w.className=b.join(" "):__(w,b)),2<d.length&&qx(v,w,d),w}function qx(r,a,c){function d(S){S&&a.appendChild(typeof S=="string"?r.createTextNode(S):S)}for(var v=2;v<c.length;v++){var w=c[v];if(!_(w)||E(w)&&0<w.nodeType)d(w);else{e:{if(w&&typeof w.length=="number"){if(E(w)){var b=typeof w.item=="function"||typeof w.item=="string";break e}if(I(w)){b=typeof w.item=="function";break e}}b=!1}$(b?ie(w):w,d)}}}function qc(r,a){return a=String(a),r.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),r.createElement(a)}function b_(r){f.setTimeout(function(){throw r},0)}var fd;function $x(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!fe("Presto")&&(r=function(){var v=qc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var w=v.contentWindow;v=w.document,v.open(),v.close();var b="callImmediate"+Math.random(),S=w.location.protocol=="file:"?"*":w.location.protocol+"//"+w.location.host;v=V(function(U){(S=="*"||U.origin==S)&&U.data==b&&this.port1.onmessage()},this),w.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){w.postMessage(b,S)}}}),typeof r<"u"&&!fe("Trident")&&!fe("MSIE")){var a=new r,c={},d=c;return a.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){d.next={Hb:v},d=d.next,a.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function $c(r,a){Hc||Hx(),hd||(Hc(),hd=!0),I_.add(r,a)}var Hc;function Hx(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);Hc=function(){r.then(E_)}}else Hc=function(){var a=E_;!I(f.setImmediate)||f.Window&&f.Window.prototype&&!fe("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(fd||(fd=$x()),fd(a)):f.setImmediate(a)}}var hd=!1,I_=new vt;function E_(){for(var r;r=de();){try{r.a.call(r.b)}catch(a){b_(a)}Mt(Gn,r)}hd=!1}function Ge(r,a){if(this.a=eo,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=m)try{var c=this;r.call(a,function(d){to(c,Da,d)},function(d){if(!(d instanceof os))try{throw d instanceof Error?d:Error("Promise rejected.")}catch{}to(c,Qr,d)})}catch(d){to(this,Qr,d)}}var eo=0,Da=2,Qr=3;function T_(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}T_.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var S_=new Kt(function(){return new T_},function(r){r.reset()});function dd(r,a,c){var d=S_.get();return d.g=r,d.b=a,d.f=c,d}function Ee(r){if(r instanceof Ge)return r;var a=new Ge(m);return to(a,Da,r),a}function bt(r){return new Ge(function(a,c){c(r)})}function A_(r,a,c){R_(r,a,c,null)||$c(me(a,r))}function Kx(r){return new Ge(function(a,c){var d=r.length,v=[];if(d)for(var w=function(z,Oe){d--,v[z]=Oe,d==0&&a(v)},b=function(z){c(z)},S=0,U;S<r.length;S++)U=r[S],A_(U,me(w,S),b);else a(v)})}function k_(r){return new Ge(function(a){var c=r.length,d=[];if(c)for(var v=function(S,U,z){c--,d[S]=U?{Qb:!0,value:z}:{Qb:!1,reason:z},c==0&&a(d)},w=0,b;w<r.length;w++)b=r[w],A_(b,me(v,w,!0),me(v,w,!1));else a(d)})}Ge.prototype.then=function(r,a,c){return C_(this,I(r)?r:null,I(a)?a:null,c)},Ge.prototype.$goog_Thenable=!0,e=Ge.prototype,e.oa=function(r,a){return r=dd(r,r,a),r.c=!0,pd(this,r),this},e.o=function(r,a){return C_(this,null,r,a)},e.cancel=function(r){if(this.a==eo){var a=new os(r);$c(function(){x_(this,a)},this)}};function x_(r,a){if(r.a==eo)if(r.c){var c=r.c;if(c.b){for(var d=0,v=null,w=null,b=c.b;b&&(b.c||(d++,b.a==r&&(v=b),!(v&&1<d)));b=b.next)v||(w=b);v&&(c.a==eo&&d==1?x_(c,a):(w?(d=w,d.next==c.f&&(c.f=d),d.next=d.next.next):O_(c),P_(c,v,Qr,a)))}r.c=null}else to(r,Qr,a)}function pd(r,a){r.b||r.a!=Da&&r.a!=Qr||N_(r),r.f?r.f.next=a:r.b=a,r.f=a}function C_(r,a,c,d){var v=dd(null,null,null);return v.a=new Ge(function(w,b){v.g=a?function(S){try{var U=a.call(d,S);w(U)}catch(z){b(z)}}:w,v.b=c?function(S){try{var U=c.call(d,S);U===void 0&&S instanceof os?b(S):w(U)}catch(z){b(z)}}:b}),v.a.c=r,pd(r,v),v.a}e.$c=function(r){this.a=eo,to(this,Da,r)},e.ad=function(r){this.a=eo,to(this,Qr,r)};function to(r,a,c){r.a==eo&&(r===c&&(a=Qr,c=new TypeError("Promise cannot resolve to itself")),r.a=1,R_(c,r.$c,r.ad,r)||(r.i=c,r.a=a,r.c=null,N_(r),a!=Qr||c instanceof os||zx(r,c)))}function R_(r,a,c,d){if(r instanceof Ge)return pd(r,dd(a||m,c||null,d)),!0;if(Me(r))return r.then(a,c,d),!0;if(E(r))try{var v=r.then;if(I(v))return Gx(r,v,a,c,d),!0}catch(w){return c.call(d,w),!0}return!1}function Gx(r,a,c,d,v){function w(U){S||(S=!0,d.call(v,U))}function b(U){S||(S=!0,c.call(v,U))}var S=!1;try{a.call(r,b,w)}catch(U){w(U)}}function N_(r){r.h||(r.h=!0,$c(r.gc,r))}function O_(r){var a=null;return r.b&&(a=r.b,r.b=a.next,a.next=null),r.b||(r.f=null),a}e.gc=function(){for(var r;r=O_(this);)P_(this,r,this.a,this.i);this.h=!1};function P_(r,a,c,d){if(c==Qr&&a.b&&!a.c)for(;r&&r.g;r=r.c)r.g=!1;if(a.a)a.a.c=null,D_(a,c,d);else try{a.c?a.g.call(a.f):D_(a,c,d)}catch(v){L_.call(null,v)}Mt(S_,a)}function D_(r,a,c){a==Da?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function zx(r,a){r.g=!0,$c(function(){r.g&&L_.call(null,a)})}var L_=b_;function os(r){ge.call(this,r)}G(os,ge),os.prototype.name="cancel";function Kc(){this.ya=this.ya,this.pa=this.pa}var Wx=0;Kc.prototype.ya=!1;function M_(r){!r.ya&&(r.ya=!0,r.Da(),Wx!=0)&&T(r)}Kc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xx=Object.freeze||function(r){return r},F_=!gr||9<=Number(gi),Yx=gr&&!v_("9"),Qx=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,a=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",m,a),f.removeEventListener("test",m,a)}catch{}return r}();function Pn(r,a){this.type=r,this.b=this.target=a,this.defaultPrevented=!1}Pn.prototype.preventDefault=function(){this.defaultPrevented=!0};function no(r,a){if(Pn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,d=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=a,a=r.relatedTarget){if(m_){e:{try{sd(a.nodeName);var v=!0;break e}catch{}v=!1}v||(a=null)}}else c=="mouseover"?a=r.fromElement:c=="mouseout"&&(a=r.toElement);this.relatedTarget=a,d?(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:Jx[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}G(no,Pn);var Jx=Xx({2:"touch",3:"pen",4:"mouse"});no.prototype.preventDefault=function(){no.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,Yx)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},no.prototype.g=function(){return this.a};var La="closure_listenable_"+(1e6*Math.random()|0),Zx=0;function eC(r,a,c,d,v){this.listener=r,this.proxy=null,this.src=a,this.type=c,this.capture=!!d,this.Wa=v,this.key=++Zx,this.wa=this.Qa=!1}function Gc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function zc(r){this.src=r,this.a={},this.b=0}zc.prototype.add=function(r,a,c,d,v){var w=r.toString();r=this.a[w],r||(r=this.a[w]=[],this.b++);var b=gd(r,a,d,v);return-1<b?(a=r[b],c||(a.Qa=!1)):(a=new eC(a,this.src,w,!!d,v),a.Qa=c,r.push(a)),a};function md(r,a){var c=a.type;c in r.a&&j(r.a[c],a)&&(Gc(a),r.a[c].length==0&&(delete r.a[c],r.b--))}function gd(r,a,c,d){for(var v=0;v<r.length;++v){var w=r[v];if(!w.wa&&w.listener==a&&w.capture==!!c&&w.Wa==d)return v}return-1}var vd="closure_lm_"+(1e6*Math.random()|0),yd={};function ur(r,a,c,d,v){if(d&&d.once)_d(r,a,c,d,v);else if(Array.isArray(a))for(var w=0;w<a.length;w++)ur(r,a[w],c,d,v);else c=bd(c),r&&r[La]?$_(r,a,c,E(d)?!!d.capture:!!d,v):V_(r,a,c,!1,d,v)}function V_(r,a,c,d,v,w){if(!a)throw Error("Invalid event type");var b=E(v)?!!v.capture:!!v,S=Wc(r);if(S||(r[vd]=S=new zc(r)),c=S.add(a,c,d,b,w),!c.proxy)if(d=tC(),c.proxy=d,d.src=r,d.listener=c,r.addEventListener)Qx||(v=b),v===void 0&&(v=!1),r.addEventListener(a.toString(),d,v);else if(r.attachEvent)r.attachEvent(j_(a.toString()),d);else if(r.addListener&&r.removeListener)r.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.")}function tC(){var r=nC,a=F_?function(c){return r.call(a.src,a.listener,c)}:function(c){if(c=r.call(a.src,a.listener,c),!c)return c};return a}function _d(r,a,c,d,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)_d(r,a[w],c,d,v);else c=bd(c),r&&r[La]?Id(r,a,c,E(d)?!!d.capture:!!d,v):V_(r,a,c,!0,d,v)}function zn(r,a,c,d,v){if(Array.isArray(a))for(var w=0;w<a.length;w++)zn(r,a[w],c,d,v);else d=E(d)?!!d.capture:!!d,c=bd(c),r&&r[La]?(r=r.v,a=String(a).toString(),a in r.a&&(w=r.a[a],c=gd(w,c,d,v),-1<c&&(Gc(w[c]),Array.prototype.splice.call(w,c,1),w.length==0&&(delete r.a[a],r.b--)))):r&&(r=Wc(r))&&(a=r.a[a.toString()],r=-1,a&&(r=gd(a,c,d,v)),(c=-1<r?a[r]:null)&&U_(c))}function U_(r){if(typeof r!="number"&&r&&!r.wa){var a=r.src;if(a&&a[La])md(a.v,r);else{var c=r.type,d=r.proxy;a.removeEventListener?a.removeEventListener(c,d,r.capture):a.detachEvent?a.detachEvent(j_(c),d):a.addListener&&a.removeListener&&a.removeListener(d),(c=Wc(a))?(md(c,r),c.b==0&&(c.src=null,a[vd]=null)):Gc(r)}}}function j_(r){return r in yd?yd[r]:yd[r]="on"+r}function B_(r,a,c,d){var v=!0;if((r=Wc(r))&&(a=r.a[a.toString()]))for(a=a.concat(),r=0;r<a.length;r++){var w=a[r];w&&w.capture==c&&!w.wa&&(w=q_(w,d),v=v&&w!==!1)}return v}function q_(r,a){var c=r.listener,d=r.Wa||r.src;return r.Qa&&U_(r),c.call(d,a)}function nC(r,a){if(r.wa)return!0;if(!F_){if(!a)e:{a=["window","event"];for(var c=f,d=0;d<a.length;d++)if(c=c[a[d]],c==null){a=null;break e}a=c}if(d=a,a=new no(d,this),c=!0,!(0>d.keyCode||d.returnValue!=null)){e:{var v=!1;if(d.keyCode==0)try{d.keyCode=-1;break e}catch{v=!0}(v||d.returnValue==null)&&(d.returnValue=!0)}for(d=[],v=a.b;v;v=v.parentNode)d.push(v);for(r=r.type,v=d.length-1;0<=v;v--){a.b=d[v];var w=B_(d[v],r,!0,a);c=c&&w}for(v=0;v<d.length;v++)a.b=d[v],w=B_(d[v],r,!1,a),c=c&&w}return c}return q_(r,new no(a,this))}function Wc(r){return r=r[vd],r instanceof zc?r:null}var wd="__closure_events_fn_"+(1e9*Math.random()>>>0);function bd(r){return I(r)?r:(r[wd]||(r[wd]=function(a){return r.handleEvent(a)}),r[wd])}function wn(){Kc.call(this),this.v=new zc(this),this.bc=this,this.hb=null}G(wn,Kc),wn.prototype[La]=!0,wn.prototype.addEventListener=function(r,a,c,d){ur(this,r,a,c,d)},wn.prototype.removeEventListener=function(r,a,c,d){zn(this,r,a,c,d)},wn.prototype.dispatchEvent=function(r){var a,c=this.hb;if(c)for(a=[];c;c=c.hb)a.push(c);c=this.bc;var d=r.type||r;if(typeof r=="string")r=new Pn(r,c);else if(r instanceof Pn)r.target=r.target||c;else{var v=r;r=new Pn(d,c),De(r,v)}if(v=!0,a)for(var w=a.length-1;0<=w;w--){var b=r.b=a[w];v=Xc(b,d,!0,r)&&v}if(b=r.b=c,v=Xc(b,d,!0,r)&&v,v=Xc(b,d,!1,r)&&v,a)for(w=0;w<a.length;w++)b=r.b=a[w],v=Xc(b,d,!1,r)&&v;return v},wn.prototype.Da=function(){if(wn.bb.Da.call(this),this.v){var r=this.v,a;for(a in r.a){for(var c=r.a[a],d=0;d<c.length;d++)Gc(c[d]);delete r.a[a],r.b--}}this.hb=null};function $_(r,a,c,d,v){r.v.add(String(a),c,!1,d,v)}function Id(r,a,c,d,v){r.v.add(String(a),c,!0,d,v)}function Xc(r,a,c,d){if(a=r.v.a[String(a)],!a)return!0;a=a.concat();for(var v=!0,w=0;w<a.length;++w){var b=a[w];if(b&&!b.wa&&b.capture==c){var S=b.listener,U=b.Wa||b.src;b.Qa&&md(r.v,b),v=S.call(U,d)!==!1&&v}}return v&&!d.defaultPrevented}function Ed(r,a,c){if(I(r))c&&(r=V(r,c));else if(r&&typeof r.handleEvent=="function")r=V(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(r,a||0)}function ss(r){var a=null;return new Ge(function(c,d){a=Ed(function(){c(void 0)},r),a==-1&&d(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(a),c})}function H_(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var a=[],c=r.length,d=0;d<c;d++)a.push(r[d]);return a}a=[],c=0;for(d in r)a[c++]=r[d];return a}function K_(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var a=[];r=r.length;for(var c=0;c<r;c++)a.push(c);return a}a=[],c=0;for(var d in r)a[c++]=d;return a}}function rC(r,a){if(r.forEach&&typeof r.forEach=="function")r.forEach(a,void 0);else if(_(r)||typeof r=="string")$(r,a,void 0);else for(var c=K_(r),d=H_(r),v=d.length,w=0;w<v;w++)a.call(void 0,d[w],c&&c[w],r)}function as(r,a){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(r)if(r instanceof as)for(c=r.Y(),d=0;d<c.length;d++)this.set(c[d],r.get(c[d]));else for(d in r)this.set(d,r[d])}e=as.prototype,e.X=function(){Td(this);for(var r=[],a=0;a<this.a.length;a++)r.push(this.b[this.a[a]]);return r},e.Y=function(){return Td(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Td(r){if(r.c!=r.a.length){for(var a=0,c=0;a<r.a.length;){var d=r.a[a];ro(r.b,d)&&(r.a[c++]=d),a++}r.a.length=c}if(r.c!=r.a.length){var v={};for(c=a=0;a<r.a.length;)d=r.a[a],ro(v,d)||(r.a[c++]=d,v[d]=1),a++;r.a.length=c}}e.get=function(r,a){return ro(this.b,r)?this.b[r]:a},e.set=function(r,a){ro(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=a},e.forEach=function(r,a){for(var c=this.Y(),d=0;d<c.length;d++){var v=c[d],w=this.get(v);r.call(a,w,v,this)}};function ro(r,a){return Object.prototype.hasOwnProperty.call(r,a)}var G_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function iC(r,a){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var d=r[c].indexOf("="),v=null;if(0<=d){var w=r[c].substring(0,d);v=r[c].substring(d+1)}else w=r[c];a(w,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function vi(r,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof vi?(this.i=a!==void 0?a:r.i,Ma(this,r.c),this.l=r.l,this.a=r.a,Fa(this,r.g),this.f=r.f,Sd(this,Y_(r.b)),this.h=r.h):r&&(c=String(r).match(G_))?(this.i=!!a,Ma(this,c[1]||"",!0),this.l=Va(c[2]||""),this.a=Va(c[3]||"",!0),Fa(this,c[4]),this.f=Va(c[5]||"",!0),Sd(this,c[6]||"",!0),this.h=Va(c[7]||"")):(this.i=!!a,this.b=new io(null,this.i))}vi.prototype.toString=function(){var r=[],a=this.c;a&&r.push(Ua(a,z_,!0),":");var c=this.a;return(c||a=="file")&&(r.push("//"),(a=this.l)&&r.push(Ua(a,z_,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(Ua(c,c.charAt(0)=="/"?aC:sC,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",Ua(c,cC)),r.join("")},vi.prototype.resolve=function(r){var a=new vi(this),c=!!r.c;c?Ma(a,r.c):c=!!r.l,c?a.l=r.l:c=!!r.a,c?a.a=r.a:c=r.g!=null;var d=r.f;if(c)Fa(a,r.g);else if(c=!!r.f){if(d.charAt(0)!="/")if(this.a&&!this.f)d="/"+d;else{var v=a.f.lastIndexOf("/");v!=-1&&(d=a.f.substr(0,v+1)+d)}if(v=d,v==".."||v==".")d="";else if(Ie(v,"./")||Ie(v,"/.")){d=v.lastIndexOf("/",0)==0,v=v.split("/");for(var w=[],b=0;b<v.length;){var S=v[b++];S=="."?d&&b==v.length&&w.push(""):S==".."?((1<w.length||w.length==1&&w[0]!="")&&w.pop(),d&&b==v.length&&w.push("")):(w.push(S),d=!0)}d=w.join("/")}else d=v}return c?a.f=d:c=r.b.toString()!=="",c?Sd(a,Y_(r.b)):c=!!r.h,c&&(a.h=r.h),a};function Ma(r,a,c){r.c=c?Va(a,!0):a,r.c&&(r.c=r.c.replace(/:$/,""))}function Fa(r,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);r.g=a}else r.g=null}function Sd(r,a,c){a instanceof io?(r.b=a,lC(r.b,r.i)):(c||(a=Ua(a,uC)),r.b=new io(a,r.i))}function Ot(r,a,c){r.b.set(a,c)}function cr(r,a){return r.b.get(a)}function Dn(r){return r instanceof vi?new vi(r):new vi(r,void 0)}function Yc(r,a,c,d){var v=new vi(null,void 0);return r&&Ma(v,r),a&&(v.a=a),c&&Fa(v,c),d&&(v.f=d),v}function Va(r,a){return r?a?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Ua(r,a,c){return typeof r=="string"?(r=encodeURI(r).replace(a,oC),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function oC(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var z_=/[#\/\?@]/g,sC=/[#\?:]/g,aC=/[#\?]/g,uC=/[#\?@]/g,cC=/#/g;function io(r,a){this.b=this.a=null,this.c=r||null,this.f=!!a}function yi(r){r.a||(r.a=new as,r.b=0,r.c&&iC(r.c,function(a,c){r.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function W_(r){var a=K_(r);if(typeof a>"u")throw Error("Keys are undefined");var c=new io(null,void 0);r=H_(r);for(var d=0;d<a.length;d++){var v=a[d],w=r[d];Array.isArray(w)?X_(c,v,w):c.add(v,w)}return c}e=io.prototype,e.add=function(r,a){yi(this),this.c=null,r=us(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(a),this.b+=1,this};function Or(r,a){yi(r),a=us(r,a),ro(r.a.b,a)&&(r.c=null,r.b-=r.a.get(a).length,r=r.a,ro(r.b,a)&&(delete r.b[a],r.c--,r.a.length>2*r.c&&Td(r)))}e.clear=function(){this.a=this.c=null,this.b=0};function Ad(r,a){return yi(r),a=us(r,a),ro(r.a.b,a)}e.forEach=function(r,a){yi(this),this.a.forEach(function(c,d){$(c,function(v){r.call(a,v,d,this)},this)},this)},e.Y=function(){yi(this);for(var r=this.a.X(),a=this.a.Y(),c=[],d=0;d<a.length;d++)for(var v=r[d],w=0;w<v.length;w++)c.push(a[d]);return c},e.X=function(r){yi(this);var a=[];if(typeof r=="string")Ad(this,r)&&(a=W(a,this.a.get(us(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)a=W(a,r[c])}return a},e.set=function(r,a){return yi(this),this.c=null,r=us(this,r),Ad(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[a]),this.b+=1,this},e.get=function(r,a){return r?(r=this.X(r),0<r.length?String(r[0]):a):a};function X_(r,a,c){Or(r,a),0<c.length&&(r.c=null,r.a.set(us(r,a),ie(c)),r.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],a=this.a.Y(),c=0;c<a.length;c++){var d=a[c],v=encodeURIComponent(String(d));d=this.X(d);for(var w=0;w<d.length;w++){var b=v;d[w]!==""&&(b+="="+encodeURIComponent(String(d[w]))),r.push(b)}}return this.c=r.join("&")};function Y_(r){var a=new io;return a.c=r.c,r.a&&(a.a=new as(r.a),a.b=r.b),a}function us(r,a){return a=String(a),r.f&&(a=a.toLowerCase()),a}function lC(r,a){a&&!r.f&&(yi(r),r.c=null,r.a.forEach(function(c,d){var v=d.toLowerCase();d!=v&&(Or(this,d),X_(this,v,c))},r)),r.f=a}function Q_(r){var a=[];return kd(new fC,r,a),a.join("")}function fC(){}function kd(r,a,c){if(a==null)c.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var d=a;a=d.length,c.push("[");for(var v="",w=0;w<a;w++)c.push(v),kd(r,d[w],c),v=",";c.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{c.push("{"),v="";for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(w=a[d],typeof w!="function"&&(c.push(v),Z_(d,c),c.push(":"),kd(r,w,c),v=","));c.push("}");return}}switch(typeof a){case"string":Z_(a,c);break;case"number":c.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":c.push(String(a));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var J_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},hC=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Z_(r,a){a.push('"',r.replace(hC,function(c){var d=J_[c];return d||(d="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),J_[c]=d),d}),'"')}function xd(){var r=tn();return gr&&!!gi&&gi==11||/Edge\/\d+/.test(r)}function ja(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function e0(r,a){a=a||f.window;var c="about:blank";r&&(c=jc(u_(r)||l_)),a.location.href=c}function t0(r,a){var c=[],d;for(d in r)d in a?typeof r[d]!=typeof a[d]?c.push(d):typeof r[d]=="object"&&r[d]!=null&&a[d]!=null?0<t0(r[d],a[d]).length&&c.push(d):r[d]!==a[d]&&c.push(d):c.push(d);for(d in a)d in r||c.push(d);return c}function dC(){var r=tn();return r=cs(r)!=o0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!gr||!gi||9<gi}function n0(r){return r=(r||tn()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function oo(r){r=r||f.window;try{r.close()}catch{}}function r0(r,a,c){var d=Math.floor(1e9*Math.random()).toString();a=a||500,c=c||600;var v=(window.screen.availHeight-c)/2,w=(window.screen.availWidth-a)/2;a={width:a,height:c,top:0<v?v:0,left:0<w?w:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=tn().toLowerCase(),d&&(a.target=d,Ie(c,"crios/")&&(a.target="_blank")),cs(tn())==Nd&&(r=r||"http://localhost",a.scrollbars=!0),c=r||"",(r=a)||(r={}),d=window,a=c instanceof On?c:u_(typeof c.href<"u"?c.href:String(c))||l_,c=r.target||c.target,v=[];for(b in r)switch(b){case"width":case"height":case"top":case"left":v.push(b+"="+r[b]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(b+"="+(r[b]?1:0))}var b=v.join(",");if((fe("iPhone")&&!fe("iPod")&&!fe("iPad")||fe("iPad")||fe("iPod"))&&d.navigator&&d.navigator.standalone&&c&&c!="_self"?(b=qc(document,"A"),ln(b,"HTMLAnchorElement"),a=a instanceof On?a:c_(a),b.href=jc(a),b.setAttribute("target",c),r.noreferrer&&b.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,d,1),b.dispatchEvent(r),b={}):r.noreferrer?(b=h_("",d,c,b),r=jc(a),b&&(Fx&&Ie(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),b.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+od(r)+'">',r=(d=i_())?d.createHTML(r):r,r=new is(r,null,f_),d=b.document)&&(d.write(Px(r)),d.close())):(b=h_(a,d,c,b))&&r.noopener&&(b.opener=null),b)try{b.focus()}catch{}return b}function pC(r){return new Ge(function(a){function c(){ss(2e3).then(function(){if(!r||r.closed)a();else return c()})}return c()})}var mC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^[^@]+@[^@]+$/;function Qc(){var r=null;return new Ge(function(a){f.document.readyState=="complete"?a():(r=function(){a()},_d(window,"load",r))}).o(function(a){throw zn(window,"load",r),a})}function vC(){return Cd(void 0)?Qc().then(function(){return new Ge(function(r,a){var c=f.document,d=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(d),r()},!1)})}):bt(Error("Cordova must run in an Android or iOS file scheme."))}function Cd(r){return r=r||tn(),!(fs()!=="file:"&&fs()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rd(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function vr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Pr(){return ke.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":ke.INTERNAL.hasOwnProperty("node")?"Node":vr()?"Worker":"Browser"}function i0(){var r=Pr();return r==="ReactNative"||r==="Node"}function yC(){for(var r=50,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}var Nd="Firefox",o0="Chrome";function cs(r){var a=r.toLowerCase();if(Ie(a,"opera/")||Ie(a,"opr/")||Ie(a,"opios/"))return"Opera";if(Ie(a,"iemobile"))return"IEMobile";if(Ie(a,"msie")||Ie(a,"trident/"))return"IE";if(Ie(a,"edge/"))return"Edge";if(Ie(a,"firefox/"))return Nd;if(Ie(a,"silk/"))return"Silk";if(Ie(a,"blackberry"))return"Blackberry";if(Ie(a,"webos"))return"Webos";if(!Ie(a,"safari/")||Ie(a,"chrome/")||Ie(a,"crios/")||Ie(a,"android"))if(!Ie(a,"chrome/")&&!Ie(a,"crios/")||Ie(a,"edge/")){if(Ie(a,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return o0;else return"Safari";return"Other"}var s0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function ls(r,a){a=a||[];var c=[],d={},v;for(v in s0)d[s0[v]]=!0;for(v=0;v<a.length;v++)typeof d[a[v]]<"u"&&(delete d[a[v]],c.push(a[v]));return c.sort(),a=c,a.length||(a=["FirebaseCore-web"]),c=Pr(),c==="Browser"?(d=tn(),c=cs(d)):c==="Worker"&&(d=tn(),c=cs(d)+"-"+c),c+"/JsCore/"+r+"/"+a.join(",")}function tn(){return f.navigator&&f.navigator.userAgent||""}function It(r,a){r=r.split("."),a=a||f;for(var c=0;c<r.length&&typeof a=="object"&&a!=null;c++)a=a[r[c]];return c!=r.length&&(a=void 0),a}function Od(){try{var r=f.localStorage,a=ao();if(r)return r.setItem(a,"1"),r.removeItem(a),xd()?!!f.indexedDB:!0}catch{return vr()&&!!f.indexedDB}return!1}function so(){return(Jc()||fs()==="chrome-extension:"||Cd())&&!i0()&&Od()&&!vr()}function Jc(){return fs()==="http:"||fs()==="https:"}function fs(){return f.location&&f.location.protocol||null}function Ba(r){return r=r||tn(),!(n0(r)||cs(r)==Nd)}function qa(r){return typeof r>"u"?null:Q_(r)}function a0(r){var a={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(a[c]=r[c]);return a}function hs(r){if(r!==null)return JSON.parse(r)}function ao(r){return r||Math.floor(1e9*Math.random()).toString()}function u0(r){return r=r||tn(),!(cs(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function c0(){var r=f.___jsl;if(r&&r.H){for(var a in r.H)if(r.H[a].r=r.H[a].r||[],r.H[a].L=r.H[a].L||[],r.H[a].r=r.H[a].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function _i(r,a){if(r>a)throw Error("Short delay should be less than long delay!");this.a=r,this.c=a,r=tn(),a=Pr(),this.b=n0(r)||a==="ReactNative"}_i.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Jc()||fs()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Pd(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function _C(){var r=f.document,a=null;return Pd()||!r?Ee():new Ge(function(c){a=function(){Pd()&&(r.removeEventListener("visibilitychange",a,!1),c())},r.addEventListener("visibilitychange",a,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",a,!1),c})}function $a(r){try{var a=new Date(parseInt(r,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(r))return a.toUTCString()}catch{}return null}function l0(){return!(!It("fireauth.oauthhelper",f)&&!It("fireauth.iframe",f))}function wC(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function bC(){var r=f.navigator;return r&&r.serviceWorker?Ee().then(function(){return r.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Ee(null)}var f0={};function Dd(r){f0[r]||(f0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Ld;try{var Md={};Object.defineProperty(Md,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Md,"abcd",{configurable:!0,enumerable:!0,value:2}),Ld=Md.abcd==2}catch{Ld=!1}function pe(r,a,c){Ld?Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:c}):r[a]=c}function bn(r,a){if(a)for(var c in a)a.hasOwnProperty(c)&&pe(r,c,a[c])}function Dr(r){var a={};return bn(a,r),a}function IC(r){var a={},c;for(c in r)r.hasOwnProperty(c)&&(a[c]=r[c]);return a}function EC(r,a){if(!a||!a.length)return!0;if(!r)return!1;for(var c=0;c<a.length;c++){var d=r[a[c]];if(d==null||d==="")return!1}return!0}function Fd(r){var a=r;if(typeof r=="object"&&r!=null){a="length"in r?[]:{};for(var c in r)pe(a,c,Fd(r[c]))}return a}function Vd(r){var a=r&&(r[qd]?"phone":null);if(a&&r&&r[Bd]){pe(this,"uid",r[Bd]),pe(this,"displayName",r[h0]||null);var c=null;r[jd]&&(c=new Date(r[jd]).toUTCString()),pe(this,"enrollmentTime",c),pe(this,"factorId",a)}else throw new x("internal-error","Internal assert: invalid MultiFactorInfo object")}Vd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function Ud(r){try{var a=new Ha(r)}catch{a=null}return a}var h0="displayName",jd="enrolledAt",Bd="mfaEnrollmentId",qd="phoneInfo";function Ha(r){Vd.call(this,r),pe(this,"phoneNumber",r[qd])}G(Ha,Vd),Ha.prototype.w=function(){var r=Ha.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function TC(r){var a={},c=r[SC],d=r[kC],v=r[xC];if(r=Ud(r[AC]),!v||v!=Zc&&v!=Ka&&!c||v==Ka&&!d||v==$d&&!r)throw Error("Invalid checkActionCode response!");v==Ka?(a[p0]=c||null,a[m0]=c||null,a[d0]=d):(a[p0]=d||null,a[m0]=d||null,a[d0]=c||null),a[CC]=r||null,pe(this,NC,v),pe(this,RC,Fd(a))}var $d="REVERT_SECOND_FACTOR_ADDITION",Zc="EMAIL_SIGNIN",Ka="VERIFY_AND_CHANGE_EMAIL",SC="email",AC="mfaInfo",kC="newEmail",xC="requestType",d0="email",p0="fromEmail",CC="multiFactorInfo",m0="previousEmail",RC="data",NC="operation";function Hd(r){r=Dn(r);var a=cr(r,g0)||null,c=cr(r,v0)||null,d=cr(r,y0)||null;if(d=d&&LC[d]||null,!a||!c||!d)throw new x("argument-error",g0+", "+v0+"and "+y0+" are required in a valid action code URL.");bn(this,{apiKey:a,operation:d,code:c,continueUrl:cr(r,OC)||null,languageCode:cr(r,PC)||null,tenantId:cr(r,DC)||null})}var g0="apiKey",v0="oobCode",OC="continueUrl",PC="languageCode",y0="mode",DC="tenantId",LC={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:$d,signIn:Zc,verifyAndChangeEmail:Ka,verifyEmail:"VERIFY_EMAIL"};function _0(r){try{return new Hd(r)}catch{return null}}function el(r){var a=r[MC];if(typeof a>"u")throw new x("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new x("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var c=r[w0];if(c&&typeof c=="object"){a=c[S0];var d=c[E0];if(c=c[T0],typeof a=="string"&&a.length){if(this.a=a,typeof d<"u"&&typeof d!="boolean")throw new x("argument-error",E0+" property must be a boolean when specified.");if(this.g=!!d,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new x("argument-error",T0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof a<"u")throw new x("argument-error",S0+" property must be a non empty string when specified.");if(typeof d<"u"||typeof c<"u")throw new x("missing-android-pkg-name")}}else if(typeof c<"u")throw new x("argument-error",w0+" property must be a non null object when specified.");if(this.f=null,(a=r[I0])&&typeof a=="object"){if(a=a[A0],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new x("argument-error",A0+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new x("argument-error",I0+" property must be a non null object when specified.");if(a=r[Kd],typeof a<"u"&&typeof a!="boolean")throw new x("argument-error",Kd+" property must be a boolean when specified.");if(this.c=!!a,r=r[b0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new x("argument-error",b0+" property must be a non empty string when specified.");this.i=r||null}var w0="android",b0="dynamicLinkDomain",Kd="handleCodeInApp",I0="iOS",MC="url",E0="installApp",T0="minimumVersion",S0="packageName",A0="bundleId";function tl(r){var a={};a.continueUrl=r.h,a.canHandleCodeInApp=r.c,(a.androidPackageName=r.a)&&(a.androidMinimumVersion=r.b,a.androidInstallApp=r.g),a.iOSBundleId=r.f,a.dynamicLinkDomain=r.i;for(var c in a)a[c]===null&&delete a[c];return a}function FC(r){return Pe(r,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var Ga=null;function VC(r){var a=[];return UC(r,function(c){a.push(c)}),a}function UC(r,a){function c(U){for(;d<r.length;){var z=r.charAt(d++),Oe=Ga[z];if(Oe!=null)return Oe;if(!/^[\s\xa0]*$/.test(z))throw Error("Unknown base64 encoding at char: "+z)}return U}jC();for(var d=0;;){var v=c(-1),w=c(0),b=c(64),S=c(64);if(S===64&&v===-1)break;a(v<<2|w>>4),b!=64&&(a(w<<4&240|b>>2),S!=64&&a(b<<6&192|S))}}function jC(){if(!Ga){Ga={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=r.concat(a[c].split("")),v=0;v<d.length;v++){var w=d[v];Ga[w]===void 0&&(Ga[w]=v)}}}function nl(r){var a=k0(r);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=r,this.a=a.exp,this.i=a.sub,r=Date.now()/1e3,this.g=a.iat||(r>this.a?this.a:r),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}nl.prototype.T=function(){return this.f},nl.prototype.l=function(){return this.c},nl.prototype.toString=function(){return this.h};function rl(r){try{return new nl(r)}catch{return null}}function k0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var a=(4-r.length%4)%4,c=0;c<a;c++)r+=".";try{var d=VC(r);for(r=[],c=a=0;a<d.length;){var v=d[a++];if(128>v)r[c++]=String.fromCharCode(v);else if(191<v&&224>v){var w=d[a++];r[c++]=String.fromCharCode((v&31)<<6|w&63)}else if(239<v&&365>v){w=d[a++];var b=d[a++],S=d[a++],U=((v&7)<<18|(w&63)<<12|(b&63)<<6|S&63)-65536;r[c++]=String.fromCharCode(55296+(U>>10)),r[c++]=String.fromCharCode(56320+(U&1023))}else w=d[a++],b=d[a++],r[c++]=String.fromCharCode((v&15)<<12|(w&63)<<6|b&63)}return JSON.parse(r.join(""))}catch{}return null}var x0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),il=["client_id","response_type","scope","redirect_uri","state"],Gd={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:il},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:il},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:il},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:x0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function zd(r){for(var a in Gd)if(Gd[a].fa==r)return Gd[a];return null}function C0(r){var a={};a["facebook.com"]=N0,a["google.com"]=P0,a["github.com"]=O0,a["twitter.com"]=D0;var c=r&&r[R0];try{if(c)return a[c]?new a[c](r):new Lr(r);if(typeof r[Wd]<"u")return new Xd(r)}catch{}return null}var Wd="idToken",R0="providerId";function Xd(r){var a=r[R0];if(!a&&r[Wd]){var c=rl(r[Wd]);c&&c.b&&(a=c.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pe(this,"providerId",a),pe(this,"isNewUser",c)}function Lr(r){Xd.call(this,r),r=hs(r.rawUserInfo||"{}"),pe(this,"profile",Fd(r||{}))}G(Lr,Xd);function N0(r){if(Lr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}G(N0,Lr);function O0(r){if(Lr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pe(this,"username",this.profile&&this.profile.login||null)}G(O0,Lr);function P0(r){if(Lr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}G(P0,Lr);function D0(r){if(Lr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pe(this,"username",r.screenName||null)}G(D0,Lr);function L0(r){var a=Dn(r),c=cr(a,"link"),d=cr(Dn(c),"link");return a=cr(a,"deep_link_id"),cr(Dn(a),"link")||a||d||c||r}function ol(r,a){if(!r&&!a)throw new x("internal-error","Internal assert: no raw session string available");if(r&&a)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=a||null,this.type=this.a?za:sl}var za="enroll",sl="signin";ol.prototype.Ha=function(){return this.a?Ee(this.a):Ee(this.b)},ol.prototype.w=function(){return this.type==za?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ds(){}ds.prototype.ka=function(){},ds.prototype.b=function(){},ds.prototype.c=function(){},ds.prototype.w=function(){};function ps(r,a){return r.then(function(c){if(c[wr]){var d=rl(c[wr]);if(!d||a!=d.i)throw new x("user-mismatch");return c}throw new x("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==st+"user-not-found"?new x("user-mismatch"):c})}function uo(r,a){if(a)this.a=a;else throw new x("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",r)}uo.prototype.ka=function(r){return _p(r,Yd(this))},uo.prototype.b=function(r,a){var c=Yd(this);return c.idToken=a,wp(r,c)},uo.prototype.c=function(r,a){return ps(bp(r,Yd(this)),a)};function Yd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}uo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function BC(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new uo(r.providerId,r.pendingToken)}catch{}return null}function Jr(r,a,c){if(this.a=null,a.idToken||a.accessToken)a.idToken&&pe(this,"idToken",a.idToken),a.accessToken&&pe(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&pe(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)pe(this,"accessToken",a.oauthToken),pe(this,"secret",a.oauthTokenSecret);else throw new x("internal-error","failed to construct a credential");pe(this,"providerId",r),pe(this,"signInMethod",c)}Jr.prototype.ka=function(r){return _p(r,Qd(this))},Jr.prototype.b=function(r,a){var c=Qd(this);return c.idToken=a,wp(r,c)},Jr.prototype.c=function(r,a){var c=Qd(this);return ps(bp(r,c),a)};function Qd(r){var a={};return r.idToken&&(a.id_token=r.idToken),r.accessToken&&(a.access_token=r.accessToken),r.secret&&(a.oauth_token_secret=r.secret),a.providerId=r.providerId,r.nonce&&!r.a&&(a.nonce=r.nonce),a={postBody:W_(a).toString(),requestUri:"http://localhost"},r.a&&(delete a.postBody,a.pendingToken=r.a),a}Jr.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function qC(r){if(r&&r.providerId&&r.signInMethod){var a={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Jr(r.providerId,a,r.signInMethod)}catch{}}return null}function co(r,a){this.Qc=a||[],bn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(zd(r)||{}).Ja||null,this.pb=null}co.prototype.Ka=function(r){return this.Jb=Ne(r),this};function M0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,r,[])}G(M0,co);function Wn(r){co.call(this,r,il),this.a=[]}G(Wn,co),Wn.prototype.Ca=function(r){return P(this.a,r)||this.a.push(r),this},Wn.prototype.Rb=function(){return ie(this.a)},Wn.prototype.credential=function(r,a){var c;if(E(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:a||null},!c.idToken&&!c.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new Jr(this.providerId,c,this.providerId)};function lo(){Wn.call(this,"facebook.com")}G(lo,Wn),pe(lo,"PROVIDER_ID","facebook.com"),pe(lo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function F0(r){if(!r)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=r;return E(r)&&(a=r.accessToken),new lo().credential({accessToken:a})}function fo(){Wn.call(this,"github.com")}G(fo,Wn),pe(fo,"PROVIDER_ID","github.com"),pe(fo,"GITHUB_SIGN_IN_METHOD","github.com");function V0(r){if(!r)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=r;return E(r)&&(a=r.accessToken),new fo().credential({accessToken:a})}function ho(){Wn.call(this,"google.com"),this.Ca("profile")}G(ho,Wn),pe(ho,"PROVIDER_ID","google.com"),pe(ho,"GOOGLE_SIGN_IN_METHOD","google.com");function U0(r,a){var c=r;return E(r)&&(c=r.idToken,a=r.accessToken),new ho().credential({idToken:c,accessToken:a})}function ms(){co.call(this,"twitter.com",x0)}G(ms,co),pe(ms,"PROVIDER_ID","twitter.com"),pe(ms,"TWITTER_SIGN_IN_METHOD","twitter.com");function j0(r,a){var c=r;if(E(c)||(c={oauthToken:r,oauthTokenSecret:a}),!c.oauthToken||!c.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Jr("twitter.com",c,"twitter.com")}function wi(r,a,c){this.a=r,this.f=a,pe(this,"providerId","password"),pe(this,"signInMethod",c===lr.EMAIL_LINK_SIGN_IN_METHOD?lr.EMAIL_LINK_SIGN_IN_METHOD:lr.EMAIL_PASSWORD_SIGN_IN_METHOD)}wi.prototype.ka=function(r){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?We(r,AR,{email:this.a,oobCode:this.f}):We(r,pw,{email:this.a,password:this.f})},wi.prototype.b=function(r,a){return this.signInMethod==lr.EMAIL_LINK_SIGN_IN_METHOD?We(r,kR,{idToken:a,email:this.a,oobCode:this.f}):We(r,dw,{idToken:a,email:this.a,password:this.f})},wi.prototype.c=function(r,a){return ps(this.ka(r),a)},wi.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function $C(r){return r&&r.email&&r.password?new wi(r.email,r.password,r.signInMethod):null}function lr(){bn(this,{providerId:"password",isOAuthProvider:!1})}function B0(r,a){if(a=Jd(a),!a)throw new x("argument-error","Invalid email link!");return new wi(r,a.code,lr.EMAIL_LINK_SIGN_IN_METHOD)}function Jd(r){return r=L0(r),(r=_0(r))&&r.operation===Zc?r:null}bn(lr,{PROVIDER_ID:"password"}),bn(lr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),bn(lr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function bi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new x("internal-error");this.a=r,pe(this,"providerId","phone"),this.fa="phone",pe(this,"signInMethod","phone")}bi.prototype.ka=function(r){return r.gb(Wa(this))},bi.prototype.b=function(r,a){var c=Wa(this);return c.idToken=a,We(r,zR,c)},bi.prototype.c=function(r,a){var c=Wa(this);return c.operation="REAUTH",r=We(r,WR,c),ps(r,a)},bi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function HC(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var a={};return $(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(a[c]=r[c])}),new bi(a)}return null}function Wa(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function Zr(r){try{this.a=r||ke.auth()}catch{throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}bn(this,{providerId:"phone",isOAuthProvider:!1})}Zr.prototype.gb=function(r,a){var c=this.a.a;return Ee(a.verify()).then(function(d){if(typeof d!="string")throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var v=E(r)?r.session:null,w=E(r)?r.phoneNumber:r,b;return v&&v.type==za?b=v.Ha().then(function(S){return vR(c,{idToken:S,phoneEnrollmentInfo:{phoneNumber:w,recaptchaToken:d}})}):v&&v.type==sl?b=v.Ha().then(function(S){return yR(c,{mfaPendingCredential:S,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:d}})}):b=gR(c,{phoneNumber:w,recaptchaToken:d}),b.then(function(S){return typeof a.reset=="function"&&a.reset(),S},function(S){throw typeof a.reset=="function"&&a.reset(),S});default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function q0(r,a){if(!r)throw new x("missing-verification-id");if(!a)throw new x("missing-verification-code");return new bi({fb:r,eb:a})}bn(Zr,{PROVIDER_ID:"phone"}),bn(Zr,{PHONE_SIGN_IN_METHOD:"phone"});function Zd(r){if(r.temporaryProof&&r.phoneNumber)return new bi({La:r.temporaryProof,ea:r.phoneNumber});var a=r&&r.providerId;if(!a||a==="password")return null;var c=r&&r.oauthAccessToken,d=r&&r.oauthTokenSecret,v=r&&r.nonce,w=r&&r.oauthIdToken,b=r&&r.pendingToken;try{switch(a){case"google.com":return U0(w,c);case"facebook.com":return F0(c);case"github.com":return V0(c);case"twitter.com":return j0(c,d);default:return c||d||w||b?b?a.indexOf("saml.")==0?new uo(a,b):new Jr(a,{pendingToken:b,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},a):new Wn(a).credential({idToken:w,accessToken:c,rawNonce:v}):null}}catch{return null}}function ep(r){if(!r.isOAuthProvider)throw new x("invalid-oauth-provider")}function yr(r,a,c,d,v,w,b){if(this.c=r,this.b=a||null,this.g=c||null,this.f=d||null,this.i=w||null,this.h=b||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}else throw new x("invalid-auth-event")}yr.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},yr.prototype.T=function(){return this.h},yr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function $0(r){return r=r||{},r.type?new yr(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Ke(r.error),r.postBody,r.tenantId):null}function KC(){this.b=null,this.a=[]}var tp=null;function GC(r){var a=tp;a.a.push(r),a.b||(a.b=function(c){for(var d=0;d<a.a.length;d++)a.a[d](c)},r=It("universalLinks.subscribe",f),typeof r=="function"&&r(null,a.b))}function np(r){var a="unauthorized-domain",c=void 0,d=Dn(r);r=d.a,d=d.c,d=="chrome-extension"?c=d_("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):d=="http"||d=="https"?c=d_("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):a="operation-not-supported-in-this-environment",x.call(this,a,c)}G(np,x);function Xa(r,a,c){x.call(this,r,c),r=a||{},r.Kb&&pe(this,"email",r.Kb),r.ea&&pe(this,"phoneNumber",r.ea),r.credential&&pe(this,"credential",r.credential),r.$b&&pe(this,"tenantId",r.$b)}G(Xa,x),Xa.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&De(r,a),r},Xa.prototype.toJSON=function(){return this.w()};function al(r){if(r.code){var a=r.code||"";a.indexOf(st)==0&&(a=a.substring(st.length));var c={credential:Zd(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new x(a,r.message||void 0);return new Xa(a,c,r.message)}return null}function Ya(){}Ya.prototype.c=null;function H0(r){return r.c||(r.c=r.b())}var rp;function ul(){}G(ul,Ya),ul.prototype.a=function(){var r=K0(this);return r?new ActiveXObject(r):new XMLHttpRequest},ul.prototype.b=function(){var r={};return K0(this)&&(r[0]=!0,r[1]=!0),r};function K0(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var d=a[c];try{return new ActiveXObject(d),r.f=d}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}rp=new ul;function cl(){}G(cl,Ya),cl.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new G0;throw Error("Unsupported browser")},cl.prototype.b=function(){return{}};function G0(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}e=G0.prototype,e.open=function(r,a,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,a)},e.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ip(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",ip(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,ip(this,1)};function ip(r,a){r.readyState=a,r.onreadystatechange&&r.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function op(r,a,c){this.reset(r,a,c,void 0,void 0)}op.prototype.a=null,op.prototype.reset=function(r,a,c,d,v){delete this.a};function sp(r){this.f=r,this.b=this.c=this.a=null}function Qa(r,a){this.name=r,this.value=a}Qa.prototype.toString=function(){return this.name};var z0=new Qa("SEVERE",1e3),ap=new Qa("WARNING",900),zC=new Qa("CONFIG",700),WC=new Qa("FINE",500);function W0(r){return r.c?r.c:r.a?W0(r.a):(Ct("Root logger has no level set."),null)}sp.prototype.log=function(r,a,c){if(r.value>=W0(this).value)for(I(a)&&(a=a()),r=new op(r,String(a),this.f),c&&(r.a=c),c=this;c;)c=c.a};var up={},ll=null;function cp(r){ll||(ll=new sp(""),up[""]=ll,ll.c=zC);var a;if(!(a=up[r])){a=new sp(r);var c=r.lastIndexOf("."),d=r.substr(c+1);c=cp(r.substr(0,c)),c.b||(c.b={}),c.b[d]=a,a.a=c,up[r]=a}return a}function fr(r,a){r&&r.log(WC,a,void 0)}function fl(r){this.f=r}G(fl,Ya),fl.prototype.a=function(){return new hl(this.f)},fl.prototype.b=function(r){return function(){return r}}({});function hl(r){wn.call(this),this.u=r,this.h=void 0,this.readyState=lp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=cp("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}G(hl,wn);var lp=0;e=hl.prototype,e.open=function(r,a){if(this.readyState!=lp)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=a,this.readyState=1,Za(this)},e.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(a.body=r),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Ja(this)),this.readyState=lp},e.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Za(this)),this.a&&(this.readyState=3,Za(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,X0(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function X0(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}e.pc=function(r){if(this.a){var a=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});a&&(this.response=this.responseText+=a),r.done?Ja(this):Za(this),this.readyState==3&&X0(this)}},e.tc=function(r){this.a&&(this.response=this.responseText=r,Ja(this))},e.sc=function(r){this.a&&(this.response=r,Ja(this))},e.Va=function(r){var a=this.i;a&&a.log(ap,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Ja(this)};function Ja(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Za(r)}e.setRequestHeader=function(r,a){this.l.append(r,a)},e.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(ap,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(ap,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var a=this.b.entries(),c=a.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=a.next();return r.join(`\r
`)};function Za(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(hl.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function eu(r){wn.call(this),this.headers=new as,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Y0,this.u=this.S=!1}G(eu,wn);var Y0="";eu.prototype.b=cp("goog.net.XhrIo");var XC=/^https?$/i,YC=["POST","PUT"];function QC(r,a,c,d,v){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+a);c=c?c.toUpperCase():"GET",r.l=a,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():rp.a(),r.C=r.D?H0(r.D):H0(rp),r.a.onreadystatechange=V(r.Wb,r);try{fr(r.b,ei(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(a),!0),r.N=!1}catch(b){fr(r.b,ei(r,"Error opening Xhr: "+b.message)),Q0(r,b);return}a=d||"";var w=new as(r.headers);v&&rC(v,function(b,S){w.set(S,b)}),v=k(w.Y()),d=f.FormData&&a instanceof f.FormData,!P(YC,c)||v||d||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),w.forEach(function(b,S){this.a.setRequestHeader(S,b)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{ew(r),0<r.g&&(r.u=JC(r.a),fr(r.b,ei(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=V(r.Ma,r)):r.s=Ed(r.Ma,r.g,r)),fr(r.b,ei(r,"Sending request")),r.i=!0,r.a.send(a),r.i=!1}catch(b){fr(r.b,ei(r,"Send error: "+b.message)),Q0(r,b)}}function JC(r){return gr&&v_(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function ZC(r){return r.toLowerCase()=="content-type"}e=eu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fr(this.b,ei(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function Q0(r,a){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=a,J0(r),dl(r)}function J0(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(fr(this.b,ei(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),dl(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),dl(this,!0)),eu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Z0(this):this.Jc())},e.Jc=function(){Z0(this)};function Z0(r){if(r.c&&typeof l<"u"){if(r.C[1]&&tu(r)==4&&pl(r)==2)fr(r.b,ei(r,"Local request error detected and ignored"));else if(r.i&&tu(r)==4)Ed(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),tu(r)==4){fr(r.b,ei(r,"Request complete")),r.c=!1;try{var a=pl(r);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var d;if(!(d=c)){var v;if(v=a===0){var w=String(r.l).match(G_)[1]||null;if(!w&&f.self&&f.self.location){var b=f.self.location.protocol;w=b.substr(0,b.length-1)}v=!XC.test(w?w.toLowerCase():"")}d=v}if(d)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var S=2<tu(r)?r.a.statusText:""}catch(U){fr(r.b,"Can not get status: "+U.message),S=""}r.h=S+" ["+pl(r)+"]",J0(r)}}finally{dl(r)}}}}function dl(r,a){if(r.a){ew(r);var c=r.a,d=r.C[0]?m:null;r.a=null,r.C=null,a||r.dispatchEvent("ready");try{c.onreadystatechange=d}catch(v){(r=r.b)&&r.log(z0,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function ew(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function tu(r){return r.a?r.a.readyState:0}function pl(r){try{return 2<tu(r)?r.a.status:-1}catch{return-1}}function eR(r){try{return r.a?r.a.responseText:""}catch(a){return fr(r.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Y0:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(z0,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return fr(this.b,"Can not get response: "+a.message),null}};function ei(r,a){return a+" ["+r.P+" "+r.l+" "+pl(r)+"]"}function po(r){var a=rR;this.g=[],this.u=a,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}po.prototype.cancel=function(r){if(this.a)this.c instanceof po&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,r?a.cancel(r):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new ru,ml(this),nu(this,!1,r))}},po.prototype.m=function(r,a){this.i=!1,nu(this,r,a)};function nu(r,a,c){r.a=!0,r.c=c,r.f=!a,nw(r)}function ml(r){if(r.a){if(!r.v)throw new gl;r.v=!1}}function tR(r,a){fp(r,null,a,void 0)}function fp(r,a,c,d){r.g.push([a,c,d]),r.a&&nw(r)}po.prototype.then=function(r,a,c){var d,v,w=new Ge(function(b,S){d=b,v=S});return fp(this,d,function(b){b instanceof ru?w.cancel():v(b)}),w.then(r,a,c)},po.prototype.$goog_Thenable=!0;function tw(r){return A(r.g,function(a){return I(a[1])})}function nw(r){if(r.h&&r.a&&tw(r)){var a=r.h,c=vl[a];c&&(f.clearTimeout(c.a),delete vl[a]),r.h=0}r.b&&(r.b.l--,delete r.b),a=r.c;for(var d=c=!1;r.g.length&&!r.i;){var v=r.g.shift(),w=v[0],b=v[1];if(v=v[2],w=r.f?b:w)try{var S=w.call(v||r.s,a);S!==void 0&&(r.f=r.f&&(S==a||S instanceof Error),r.c=a=S),(Me(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(d=!0,r.i=!0)}catch(U){a=U,r.f=!0,tw(r)||(c=!0)}}r.c=a,d&&(S=V(r.m,r,!0),d=V(r.m,r,!1),a instanceof po?(fp(a,S,d),a.C=!0):a.then(S,d)),c&&(a=new rw(a),vl[a.a]=a,r.h=a.a)}function gl(){ge.call(this)}G(gl,ge),gl.prototype.message="Deferred has already fired",gl.prototype.name="AlreadyCalledError";function ru(){ge.call(this)}G(ru,ge),ru.prototype.message="Deferred was canceled",ru.prototype.name="CanceledError";function rw(r){this.a=f.setTimeout(V(this.c,this),0),this.b=r}rw.prototype.c=function(){throw delete vl[this.a],this.b};var vl={};function hp(r){var a={},c=a.document||document,d=o_(r).toString(),v=qc(document,"SCRIPT"),w={Xb:v,Ma:void 0},b=new po(w),S=null,U=a.timeout!=null?a.timeout:5e3;return 0<U&&(S=window.setTimeout(function(){yl(v,!0);var z=new dp(oR,"Timeout reached for loading script "+d);ml(b),nu(b,!1,z)},U),w.Ma=S),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(yl(v,a.xd||!1,S),ml(b),nu(b,!0,null))},v.onerror=function(){yl(v,!0,S);var z=new dp(iR,"Error while loading script "+d);ml(b),nu(b,!1,z)},w=a.attributes||{},De(w,{type:"text/javascript",charset:"UTF-8"}),__(v,w),Dx(v,r),nR(c).appendChild(v),b}function nR(r){var a;return(a=(r||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:r.documentElement}function rR(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&yl(r,!0,this.Ma)}}function yl(r,a,c){c!=null&&f.clearTimeout(c),r.onload=m,r.onerror=m,r.onreadystatechange=m,a&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var iR=0,oR=1;function dp(r,a){var c="Jsloader error (code #"+r+")";a&&(c+=": "+a),ge.call(this,c),this.code=r}G(dp,ge);function _l(r){this.f=r}G(_l,Ya),_l.prototype.a=function(){return new this.f},_l.prototype.b=function(){return{}};function _r(r,a,c){if(this.c=r,r=a||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||sR,this.g=Ne(r.secureTokenHeaders||aR),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||uR,this.a=Ne(r.firebaseHeaders||cR),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Pr()=="Node",c=f.XMLHttpRequest||c&&ke.INTERNAL.node&&ke.INTERNAL.node.XMLHttpRequest,!c&&!vr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,vr()?this.f=new fl(self):i0()?this.f=new _l(c):this.f=new cl,this.b=null}var pp,wr="idToken",sR=new _i(3e4,6e4),aR={"Content-Type":"application/x-www-form-urlencoded"},uR=new _i(3e4,6e4),cR={"Content-Type":"application/json"};function iw(r,a){a?r.a["X-Firebase-Locale"]=a:delete r.a["X-Firebase-Locale"]}function wl(r,a){a&&(r.l=mp("https://securetoken.googleapis.com/v1/token",a),r.h=mp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),r.i=mp("https://identitytoolkit.googleapis.com/v2/",a))}function mp(r,a){return r=Dn(r),a=Dn(a.url),r.f=r.a+r.f,Ma(r,a.c),r.a=a.a,Fa(r,a.g),r.toString()}function ow(r,a){a?(r.a["X-Client-Version"]=a,r.g["X-Client-Version"]=a):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}_r.prototype.T=function(){return this.b};function sw(r,a,c,d,v,w,b){dC()||vr()?r=V(r.u,r):(pp||(pp=new Ge(function(S,U){fR(S,U)})),r=V(r.s,r)),r(a,c,d,v,w,b)}_r.prototype.u=function(r,a,c,d,v,w){if(vr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var b=new eu(this.f);if(w){b.g=Math.max(0,w);var S=setTimeout(function(){b.dispatchEvent("timeout")},w)}$_(b,"complete",function(){S&&clearTimeout(S);var U=null;try{U=JSON.parse(eR(this))||null}catch{U=null}a&&a(U)}),Id(b,"ready",function(){S&&clearTimeout(S),M_(this)}),Id(b,"timeout",function(){S&&clearTimeout(S),M_(this),a&&a(null)}),QC(b,r,c,d,v)};var lR=new fn(Vc,"https://apis.google.com/js/client.js?onload=%{onload}"),aw="__fcb"+Math.floor(1e6*Math.random()).toString();function fR(r,a){if(((window.gapi||{}).client||{}).request)r();else{f[aw]=function(){((window.gapi||{}).client||{}).request?r():a(Error("CORS_UNSUPPORTED"))};var c=id(lR,{onload:aw});tR(hp(c),function(){a(Error("CORS_UNSUPPORTED"))})}}_r.prototype.s=function(r,a,c,d,v){var w=this;pp.then(function(){window.gapi.client.setApiKey(w.c);var b=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:d,headers:v,authType:"none",callback:function(S){window.gapi.auth.setToken(b),a&&a(S)}})}).o(function(b){a&&a({error:{message:b&&b.message||"CORS_UNSUPPORTED"}})})};function hR(r,a){return new Ge(function(c,d){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?sw(r,r.l+"?key="+encodeURIComponent(r.c),function(v){v?v.error?d(Ep(v)):v.access_token&&v.refresh_token?c(v):d(new x("internal-error")):d(new x("network-request-failed"))},"POST",W_(a).toString(),r.g,r.m.get()):d(new x("internal-error"))})}function uw(r,a,c,d,v,w,b){var S=Dn(a+c);Ot(S,"key",r.c),b&&Ot(S,"cb",Date.now().toString());var U=d=="GET";if(U)for(var z in v)v.hasOwnProperty(z)&&Ot(S,z,v[z]);return new Ge(function(Oe,ut){sw(r,S.toString(),function(tt){tt?tt.error?ut(Ep(tt,w||{})):Oe(tt):ut(new x("network-request-failed"))},d,U?void 0:Q_(a0(v)),r.a,r.v.get())})}function mo(r){if(r=r.email,typeof r!="string"||!gC.test(r))throw new x("invalid-email")}function cw(r){"email"in r&&mo(r)}function dR(r,a){return We(r,ER,{identifier:a,continueUri:Jc()?ja():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function pR(r){return We(r,LR,{}).then(function(a){return a.authorizedDomains||[]})}function Ln(r){if(!r[wr])throw r.mfaPendingCredential?new x("multi-factor-auth-required",null,Ne(r)):new x("internal-error")}function gp(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new x("internal-error")}else{if(!r.sessionInfo)throw new x("missing-verification-id");if(!r.code)throw new x("missing-verification-code")}}_r.prototype.Ab=function(){return We(this,UR,{})},_r.prototype.Cb=function(r,a){return We(this,hw,{idToken:r,email:a})},_r.prototype.Db=function(r,a){return We(this,dw,{idToken:r,password:a})};var mR={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=_r.prototype,e.Eb=function(r,a){var c={idToken:r},d=[];return Ce(mR,function(v,w){var b=a[w];b===null?d.push(v):w in a&&(c[w]=b)}),d.length&&(c.deleteAttribute=d),We(this,hw,c)},e.wb=function(r,a){return r={requestType:"PASSWORD_RESET",email:r},De(r,a),We(this,DR,r)},e.xb=function(r,a){return r={requestType:"EMAIL_SIGNIN",email:r},De(r,a),We(this,NR,r)},e.vb=function(r,a){return r={requestType:"VERIFY_EMAIL",idToken:r},De(r,a),We(this,OR,r)},e.Fb=function(r,a,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:a},De(r,c),We(this,PR,r)};function gR(r,a){return We(r,VR,a)}e.gb=function(r){return We(this,GR,r)};function vR(r,a){return We(r,jR,a).then(function(c){return c.phoneSessionInfo.sessionInfo})}function lw(r){if(!r.phoneVerificationInfo)throw new x("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new x("missing-verification-code")}function yR(r,a){return We(r,BR,a).then(function(c){return c.phoneResponseInfo.sessionInfo})}function _R(r,a,c){return We(r,SR,{idToken:a,deleteProvider:c})}function vp(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new x("internal-error")}function yp(r,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(r.sessionId?a.nonce=r.sessionId:r.postBody&&(r=new io(r.postBody),Ad(r,"nonce")&&(a.nonce=r.get("nonce")))),a}function fw(r){var a=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",a=al(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",a=al(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",a=al(r)):r.errorMessage&&(a=mw(r.errorMessage)),a)throw a;Ln(r)}function _p(r,a){return a.returnIdpCredential=!0,We(r,qR,a)}function wp(r,a){return a.returnIdpCredential=!0,We(r,HR,a)}function bp(r,a){return a.returnIdpCredential=!0,a.autoCreate=!1,We(r,$R,a)}function Ip(r){if(!r.oobCode)throw new x("invalid-action-code")}e.ob=function(r,a){return We(this,FR,{oobCode:r,newPassword:a})},e.Sa=function(r){return We(this,bR,{oobCode:r})},e.kb=function(r){return We(this,wR,{oobCode:r})};var wR={endpoint:"setAccountInfo",A:Ip,Z:"email",B:!0},bR={endpoint:"resetPassword",A:Ip,G:function(r){var a=r.requestType;if(!a||!r.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},B:!0},IR={endpoint:"signupNewUser",A:function(r){if(mo(r),!r.password)throw new x("weak-password")},G:Ln,V:!0,B:!0},ER={endpoint:"createAuthUri",B:!0},TR={endpoint:"deleteAccount",O:["idToken"]},SR={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new x("internal-error")}},AR={endpoint:"emailLinkSignin",O:["email","oobCode"],A:mo,G:Ln,V:!0,B:!0},kR={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:mo,G:Ln,V:!0},xR={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:lw,G:Ln,B:!0,Na:!0},CR={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:lw,G:Ln,B:!0,Na:!0},RR={endpoint:"getAccountInfo"},NR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new x("internal-error");mo(r)},Z:"email",B:!0},OR={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new x("internal-error")},Z:"email",B:!0},PR={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new x("internal-error")},Z:"email",B:!0},DR={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new x("internal-error");mo(r)},Z:"email",B:!0},LR={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},MR={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new x("internal-error")}},FR={endpoint:"resetPassword",A:Ip,Z:"email",B:!0},VR={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},hw={endpoint:"setAccountInfo",O:["idToken"],A:cw,V:!0},dw={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(cw(r),!r.password)throw new x("weak-password")},G:Ln,V:!0},UR={endpoint:"signupNewUser",G:Ln,V:!0,B:!0},jR={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new x("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},BR={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},qR={endpoint:"verifyAssertion",A:vp,Za:yp,G:fw,V:!0,B:!0},$R={endpoint:"verifyAssertion",A:vp,Za:yp,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new x("user-not-found");if(r.errorMessage)throw mw(r.errorMessage);Ln(r)},V:!0,B:!0},HR={endpoint:"verifyAssertion",A:function(r){if(vp(r),!r.idToken)throw new x("internal-error")},Za:yp,G:fw,V:!0},KR={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new x("invalid-custom-token")},G:Ln,V:!0,B:!0},pw={endpoint:"verifyPassword",A:function(r){if(mo(r),!r.password)throw new x("wrong-password")},G:Ln,V:!0,B:!0},GR={endpoint:"verifyPhoneNumber",A:gp,G:Ln,B:!0},zR={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new x("internal-error");gp(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",al(r);Ln(r)}},WR={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:gp,G:Ln,B:!0},XR={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[wr]^!!r.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function We(r,a,c){if(!EC(c,a.O))return bt(new x("internal-error"));var d=!!a.Na,v=a.Vb||"POST",w;return Ee(c).then(a.A).then(function(){return a.V&&(c.returnSecureToken=!0),a.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),d?uw(r,r.i,a.endpoint,v,c,a.Ib,a.mb||!1):uw(r,r.h,a.endpoint,v,c,a.Ib,a.mb||!1)}).then(function(b){return w=b,a.Za?a.Za(c,w):w}).then(a.G).then(function(){if(!a.Z)return w;if(!(a.Z in w))throw new x("internal-error");return w[a.Z]})}function mw(r){return Ep({error:{errors:[{message:r}],code:400,message:r}})}function Ep(r,a){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",d={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=d[c]?new x(d[c]):null)return c;c=r.error&&r.error.message||"",d={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},De(d,a||{}),a=(a=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var v in d)if(c.indexOf(v)===0)return new x(d[v],a);return!a&&r&&(a=qa(r)),new x("internal-error",a)}function YR(r){this.b=r,this.a=null,this.sb=QR(this)}function QR(r){return rN().then(function(){return new Ge(function(a,c){It("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(d){function v(){clearTimeout(w),a()}r.a=d,r.a.restyle({setHideOnLeave:!1});var w=setTimeout(function(){c(Error("Network Error"))},nN.get());d.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function JR(r,a){return r.sb.then(function(){return new Ge(function(c){r.a.send(a.type,a,c,It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function ZR(r,a){r.sb.then(function(){r.a.register("authEvent",a,It("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var eN=new fn(Vc,"https://apis.google.com/js/api.js?onload=%{onload}"),tN=new _i(3e4,6e4),nN=new _i(5e3,15e3),bl=null;function rN(){return bl||(bl=new Ge(function(r,a){function c(){c0(),It("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){c0(),a(Error("Network Error"))},timeout:tN.get()})}if(It("gapi.iframes.Iframe"))r();else if(It("gapi.load"))c();else{var d="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[d]=function(){It("gapi.load")?c():a(Error("Network Error"))},d=id(eN,{onload:d}),Ee(hp(d)).o(function(){a(Error("Network Error"))})}}).o(function(r){throw bl=null,r}))}function gw(r,a,c,d){this.l=r,this.h=a,this.i=c,this.g=d,this.f=null,this.g?(r=Dn(this.g.url),r=Yc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Yc("https",this.l,null,"/__/auth/iframe"),this.a=r,Ot(this.a,"apiKey",this.h),Ot(this.a,"appName",this.i),this.b=null,this.c=[]}gw.prototype.toString=function(){return this.f?Ot(this.a,"v",this.f):Or(this.a.b,"v"),this.b?Ot(this.a,"eid",this.b):Or(this.a.b,"eid"),this.c.length?Ot(this.a,"fw",this.c.join(",")):Or(this.a.b,"fw"),this.a.toString()};function Tp(r,a,c,d,v,w){this.u=r,this.s=a,this.c=c,this.m=d,this.v=w,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Tp.prototype.zb=function(r){return this.h=r,this},Tp.prototype.toString=function(){if(this.v){var r=Dn(this.v.url);r=Yc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Yc("https",this.u,null,"/__/auth/handler");if(Ot(r,"apiKey",this.s),Ot(r,"appName",this.c),Ot(r,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var c=ke.app(this.c).auth().la()}catch{c=null}a.pb=c,Ot(r,"providerId",this.a.providerId),c=this.a,a=a0(c.Jb);for(var d in a)a[d]=a[d].toString();d=c.Qc,a=Ne(a);for(var v=0;v<d.length;v++){var w=d[v];w in a&&delete a[w]}c.qb&&c.pb&&!a[c.qb]&&(a[c.qb]=c.pb),Ue(a)||Ot(r,"customParameters",qa(a))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ot(r,"scopes",c.join(","))),this.l?Ot(r,"redirectUrl",this.l):Or(r.b,"redirectUrl"),this.g?Ot(r,"eventId",this.g):Or(r.b,"eventId"),this.i?Ot(r,"v",this.i):Or(r.b,"v"),this.b)for(var b in this.b)this.b.hasOwnProperty(b)&&!cr(r,b)&&Ot(r,b,this.b[b]);return this.h?Ot(r,"tid",this.h):Or(r.b,"tid"),this.f?Ot(r,"eid",this.f):Or(r.b,"eid"),b=Sp(this.c),b.length&&Ot(r,"fw",b.join(",")),r.toString()};function Sp(r){try{return ke.app(r).auth().Ga()}catch{return[]}}function vw(r,a,c,d,v,w){this.s=r,this.g=a,this.b=c,this.f=w,this.c=d||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function yw(r){var a=ja();return pR(r).then(function(c){e:{var d=Dn(a),v=d.c;d=d.a;for(var w=0;w<c.length;w++){var b=c[w],S=d,U=v;if(b.indexOf("chrome-extension://")==0?S=Dn(b).a==S&&U=="chrome-extension":U!="http"&&U!="https"?S=!1:mC.test(b)?S=S==b:(b=b.split(".").join("\\."),S=new RegExp("^(.+\\."+b+"|"+b+")$","i").test(S)),S){c=!0;break e}}c=!1}if(!c)throw new np(ja())})}function _w(r){return r.m||(r.m=Qc().then(function(){if(!r.u){var a=r.c,c=r.i,d=Sp(r.b),v=new gw(r.s,r.g,r.b,r.f);v.f=a,v.b=c,v.c=ie(d||[]),r.u=v.toString()}r.v=new YR(r.u),iN(r)})),r.m}e=vw.prototype,e.Pb=function(r,a,c){var d=new x("popup-closed-by-user"),v=new x("web-storage-unsupported"),w=this,b=!1;return this.ma().then(function(){oN(w).then(function(S){S||(r&&oo(r),a(v),b=!0)})}).o(function(){}).then(function(){if(!b)return pC(r)}).then(function(){if(!b)return ss(c).then(function(){a(d)})})},e.Yb=function(){var r=tn();return!Ba(r)&&!u0(r)},e.Ub=function(){return!1},e.Nb=function(r,a,c,d,v,w,b,S){if(!r)return bt(new x("popup-blocked"));if(b&&!Ba())return this.ma().o(function(z){oo(r),v(z)}),d(),Ee();this.a||(this.a=yw(ww(this)));var U=this;return this.a.then(function(){var z=U.ma().o(function(Oe){throw oo(r),v(Oe),Oe});return d(),z}).then(function(){if(ep(c),!b){var z=iu(U.s,U.g,U.b,a,c,null,w,U.c,void 0,U.i,S,U.f);e0(z,r)}}).o(function(z){throw z.code=="auth/network-request-failed"&&(U.a=null),z})};function ww(r){return r.l||(r.C=r.c?ls(r.c,Sp(r.b)):null,r.l=new _r(r.g,ze(r.i),r.C),r.f&&wl(r.l,r.f)),r.l}e.Ob=function(r,a,c,d){this.a||(this.a=yw(ww(this)));var v=this;return this.a.then(function(){ep(a);var w=iu(v.s,v.g,v.b,r,a,ja(),c,v.c,void 0,v.i,d,v.f);e0(w)}).o(function(w){throw w.code=="auth/network-request-failed"&&(v.a=null),w})},e.ma=function(){var r=this;return _w(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new x("network-request-failed")})},e.ac=function(){return!0};function iu(r,a,c,d,v,w,b,S,U,z,Oe,ut){return r=new Tp(r,a,c,d,v,ut),r.l=w,r.g=b,r.i=S,r.b=Ne(U||null),r.f=z,r.zb(Oe).toString()}function iN(r){if(!r.v)throw Error("IfcHandler must be initialized!");ZR(r.v,function(a){var c={};if(a&&a.authEvent){var d=!1;for(a=$0(a.authEvent),c=0;c<r.h.length;c++)d=r.h[c](a)||d;return c={},c.status=d?"ACK":"ERROR",Ee(c)}return c.status="ERROR",Ee(c)})}function oN(r){var a={type:"webStorageSupport"};return _w(r).then(function(){return JR(r.v,a)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(r){this.h.push(r)},e.Ta=function(r){B(this.h,function(a){return a==r})};function bw(r){if(this.a=r||ke.INTERNAL.reactNative&&ke.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=bw.prototype,e.get=function(r){return Ee(this.a.getItem(r)).then(function(a){return a&&hs(a)})},e.set=function(r,a){return Ee(this.a.setItem(r,qa(a)))},e.U=function(r){return Ee(this.a.removeItem(r))},e.ca=function(){},e.ia=function(){};function Iw(r){this.b=r,this.a={},this.f=V(this.c,this)}var Ew=[];function sN(){var r=vr()?self:null;if($(Ew,function(c){c.b==r&&(a=c)}),!a){var a=new Iw(r);Ew.push(a)}return a}Iw.prototype.c=function(r){var a=r.data.eventType,c=r.data.eventId,d=this.a[a];if(d&&0<d.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:a,response:null});var v=[];$(d,function(w){v.push(Ee().then(function(){return w(r.origin,r.data.data)}))}),k_(v).then(function(w){var b=[];$(w,function(S){b.push({fulfilled:S.Qb,value:S.value,reason:S.reason?S.reason.message:void 0})}),$(b,function(S){for(var U in S)typeof S[U]>"u"&&delete S[U]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:a,response:b})})}};function Tw(r,a,c){Ue(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[a]>"u"&&(r.a[a]=[]),r.a[a].push(c)}function Sw(r){this.a=r}Sw.prototype.postMessage=function(r,a){this.a.postMessage(r,a)};function Aw(r){this.c=r,this.b=!1,this.a=[]}function kw(r,a,c,d){var v,w=c||{},b,S,U,z=null;if(r.b)return bt(Error("connection_unavailable"));var Oe=d?800:50,ut=typeof MessageChannel<"u"?new MessageChannel:null;return new Ge(function(tt,Qt){ut?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),ut.port1.start(),S=setTimeout(function(){Qt(Error("unsupported_event"))},Oe),b=function(ti){ti.data.eventId===v&&(ti.data.status==="ack"?(clearTimeout(S),U=setTimeout(function(){Qt(Error("timeout"))},3e3)):ti.data.status==="done"?(clearTimeout(U),typeof ti.data.response<"u"?tt(ti.data.response):Qt(Error("unknown_error"))):(clearTimeout(S),clearTimeout(U),Qt(Error("invalid_response"))))},z={messageChannel:ut,onMessage:b},r.a.push(z),ut.port1.addEventListener("message",b),r.c.postMessage({eventType:a,eventId:v,data:w},[ut.port2])):Qt(Error("connection_unavailable"))}).then(function(tt){return Ap(r,z),tt}).o(function(tt){throw Ap(r,z),tt})}function Ap(r,a){if(a){var c=a.messageChannel,d=a.onMessage;c&&(c.port1.removeEventListener("message",d),c.port1.close()),B(r.a,function(v){return v==a})}}Aw.prototype.close=function(){for(;0<this.a.length;)Ap(this,this.a[0]);this.b=!0};function xw(){if(!Cp())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;vr()&&self?(this.v=sN(),Tw(this.v,"keyChanged",function(a,c){return Nw(r).then(function(d){return 0<d.length&&$(r.a,function(v){v(d)}),{keyProcessed:P(d,c.key)}})}),Tw(this.v,"ping",function(){return Ee(["keyChanged"])})):bC().then(function(a){(r.h=a)&&(r.g=new Aw(new Sw(a)),kw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&P(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var kp;function aN(r){return new Ge(function(a,c){var d=r.m.deleteDatabase("firebaseLocalStorageDb");d.onsuccess=function(){a()},d.onerror=function(v){c(Error(v.target.error))}})}function Cw(r){return new Ge(function(a,c){var d=r.m.open("firebaseLocalStorageDb",1);d.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},d.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(w){c(w)}},d.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?a(v):aN(r).then(function(){return Cw(r)}).then(function(w){a(w)}).o(function(w){c(w)})}})}function xp(r){return r.i||(r.i=Cw(r)),r.i}function Il(r,a){function c(v,w){xp(r).then(a).then(v).o(function(b){if(3<++d)w(b);else return xp(r).then(function(S){return S.close(),r.i=void 0,c(v,w)}).o(function(S){w(S)})})}var d=0;return new Ge(c)}function Cp(){try{return!!f.indexedDB}catch{return!1}}function ou(r){return r.objectStore("firebaseLocalStorage")}function su(r,a){return r.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function gs(r){return new Ge(function(a,c){r.onsuccess=function(d){d&&d.target?a(d.target.result):a()},r.onerror=function(d){c(d.target.error)}})}e=xw.prototype,e.set=function(r,a){var c=this,d=!1;return Il(this,function(v){return v=ou(su(v,!0)),gs(v.get(r))}).then(function(v){return Il(c,function(w){if(w=ou(su(w,!0)),v)return v.value=a,gs(w.put(v));c.b++,d=!0;var b={};return b.fbase_key=r,b.value=a,gs(w.add(b))})}).then(function(){return c.c[r]=a,Rw(c,r)}).oa(function(){d&&c.b--})};function Rw(r,a){return r.g&&r.h&&wC()===r.h?kw(r.g,"keyChanged",{key:a},r.s).then(function(){}).o(function(){}):Ee()}e.get=function(r){return Il(this,function(a){return gs(ou(su(a,!1)).get(r))}).then(function(a){return a&&a.value})},e.U=function(r){var a=this,c=!1;return Il(this,function(d){return c=!0,a.b++,gs(ou(su(d,!0)).delete(r))}).then(function(){return delete a.c[r],Rw(a,r)}).oa(function(){c&&a.b--})};function Nw(r){return xp(r).then(function(a){var c=ou(su(a,!1));return c.getAll?gs(c.getAll()):new Ge(function(d,v){var w=[],b=c.openCursor();b.onsuccess=function(S){(S=S.target.result)?(w.push(S.value),S.continue()):d(w)},b.onerror=function(S){v(S.target.error)}})}).then(function(a){var c={},d=[];if(r.b==0){for(d=0;d<a.length;d++)c[a[d].fbase_key]=a[d].value;d=t0(r.c,c),r.c=c}return d})}e.ca=function(r){this.a.length==0&&uN(this),this.a.push(r)},e.ia=function(r){B(this.a,function(a){return a==r}),this.a.length==0&&Ow(this)};function uN(r){function a(){r.f=setTimeout(function(){r.l=Nw(r).then(function(c){0<c.length&&$(r.a,function(d){d(c)})}).then(function(){a()}).o(function(c){c.message!="STOP_EVENT"&&a()})},800)}Ow(r),a()}function Ow(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function Pw(r){var a=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Ee().then(function(){if(Cp()){var d=ao(),v="__sak"+d;return kp||(kp=new xw),c=kp,c.set(v,d).then(function(){return c.get(v)}).then(function(w){if(w!==d)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return a.c})}return a.c}).then(function(d){return a.type=d.type,d.ca(function(v){$(a.a,function(w){w(v)})}),d})}e=Pw.prototype,e.get=function(r){return this.b.then(function(a){return a.get(r)})},e.set=function(r,a){return this.b.then(function(c){return c.set(r,a)})},e.U=function(r){return this.b.then(function(a){return a.U(r)})},e.ca=function(r){this.a.push(r)},e.ia=function(r){B(this.a,function(a){return a==r})};function au(){this.a={},this.type="inMemory"}e=au.prototype,e.get=function(r){return Ee(this.a[r])},e.set=function(r,a){return this.a[r]=a,Ee()},e.U=function(r){return delete this.a[r],Ee()},e.ca=function(){},e.ia=function(){};function El(){if(!cN())throw Pr()=="Node"?new x("internal-error","The LocalStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=Dw()||ke.INTERNAL.node.localStorage,this.type="localStorage"}function Dw(){try{var r=f.localStorage,a=ao();return r&&(r.setItem(a,"1"),r.removeItem(a)),r}catch{return null}}function cN(){var r=Pr()=="Node";if(r=Dw()||r&&ke.INTERNAL.node&&ke.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=El.prototype,e.get=function(r){var a=this;return Ee().then(function(){var c=a.a.getItem(r);return hs(c)})},e.set=function(r,a){var c=this;return Ee().then(function(){var d=qa(a);d===null?c.U(r):c.a.setItem(r,d)})},e.U=function(r){var a=this;return Ee().then(function(){a.a.removeItem(r)})},e.ca=function(r){f.window&&ur(f.window,"storage",r)},e.ia=function(r){f.window&&zn(f.window,"storage",r)};function Rp(){this.type="nullStorage"}e=Rp.prototype,e.get=function(){return Ee(null)},e.set=function(){return Ee()},e.U=function(){return Ee()},e.ca=function(){},e.ia=function(){};function Np(){if(!lN())throw Pr()=="Node"?new x("internal-error","The SessionStorage compatibility library was not found."):new x("web-storage-unsupported");this.a=Lw()||ke.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Lw(){try{var r=f.sessionStorage,a=ao();return r&&(r.setItem(a,"1"),r.removeItem(a)),r}catch{return null}}function lN(){var r=Pr()=="Node";if(r=Lw()||r&&ke.INTERNAL.node&&ke.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}e=Np.prototype,e.get=function(r){var a=this;return Ee().then(function(){var c=a.a.getItem(r);return hs(c)})},e.set=function(r,a){var c=this;return Ee().then(function(){var d=qa(a);d===null?c.U(r):c.a.setItem(r,d)})},e.U=function(r){var a=this;return Ee().then(function(){a.a.removeItem(r)})},e.ca=function(){},e.ia=function(){};function fN(){var r={};r.Browser=hN,r.Node=dN,r.ReactNative=pN,r.Worker=mN,this.a=r[Pr()]}var Op,hN={F:El,cb:Np},dN={F:El,cb:Np},pN={F:bw,cb:Rp},mN={F:El,cb:Rp},vs={rd:"local",NONE:"none",td:"session"};function gN(r){var a=new x("invalid-persistence-type"),c=new x("unsupported-persistence-type");e:{for(d in vs)if(vs[d]==r){var d=!0;break e}d=!1}if(!d||typeof r!="string")throw a;switch(Pr()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Cp()&&r!=="none")throw c;break;default:if(!Od()&&r!=="none")throw c}}function Mw(){var r=!!(!u0(tn())&&Rd()),a=Ba(),c=Od();this.m=r,this.h=a,this.l=c,this.a={},Op||(Op=new fN),r=Op;try{this.g=!xd()&&l0()||!f.indexedDB?new r.a.F:new Pw(vr()?new au:new r.a.F)}catch{this.g=new au,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new au}this.v=new au,this.f=V(this.Zb,this),this.b={}}var Pp;function uu(){return Pp||(Pp=new Mw),Pp}function go(r,a){switch(a){case"session":return r.i;case"none":return r.v;default:return r.g}}function ys(r,a){return"firebase:"+r.name+(a?":"+a:"")}function vN(r,a,c){var d=ys(a,c),v=go(r,a.F);return r.get(a,c).then(function(w){var b=null;try{b=hs(f.localStorage.getItem(d))}catch{}if(b&&!w)return f.localStorage.removeItem(d),r.set(a,b,c);b&&w&&v.type!="localStorage"&&f.localStorage.removeItem(d)})}e=Mw.prototype,e.get=function(r,a){return go(this,r.F).get(ys(r,a))};function _s(r,a,c){return c=ys(a,c),a.F=="local"&&(r.b[c]=null),go(r,a.F).U(c)}e.set=function(r,a,c){var d=ys(r,c),v=this,w=go(this,r.F);return w.set(d,a).then(function(){return w.get(d)}).then(function(b){r.F=="local"&&(v.b[d]=b)})},e.addListener=function(r,a,c){r=ys(r,a),this.l&&(this.b[r]=f.localStorage.getItem(r)),Ue(this.a)&&(go(this,"local").ca(this.f),this.h||(xd()||!l0())&&f.indexedDB||!this.l||yN(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},e.removeListener=function(r,a,c){r=ys(r,a),this.a[r]&&(B(this.a[r],function(d){return d==c}),this.a[r].length==0&&delete this.a[r]),Ue(this.a)&&(go(this,"local").ia(this.f),Dp(this))};function yN(r){Dp(r),r.c=setInterval(function(){for(var a in r.a){var c=f.localStorage.getItem(a),d=r.b[a];c!=d&&(r.b[a]=c,c=new no({type:"storage",key:a,target:window,oldValue:d,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Dp(r){r.c&&(clearInterval(r.c),r.c=null)}e.Zb=function(r){if(r&&r.g){var a=r.a.key;if(a==null)for(var c in this.a){var d=this.b[c];typeof d>"u"&&(d=null);var v=f.localStorage.getItem(c);v!==d&&(this.b[c]=v,this.nb(c))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof r.a.a<"u"?go(this,"local").ia(this.f):Dp(this),this.m){if(c=f.localStorage.getItem(a),d=r.a.newValue,d!==c)d!==null?f.localStorage.setItem(a,d):f.localStorage.removeItem(a);else if(this.b[a]===d&&typeof r.a.a>"u")return}var w=this;c=function(){(typeof r.a.a<"u"||w.b[a]!==f.localStorage.getItem(a))&&(w.b[a]=f.localStorage.getItem(a),w.nb(a))},gr&&gi&&gi==10&&f.localStorage.getItem(a)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else $(r,V(this.nb,this))},e.nb=function(r){this.a[r]&&$(this.a[r],function(a){a()})};function _N(r){this.a=r,this.b=uu()}var Lp={name:"authEvent",F:"local"};function wN(r){return r.b.get(Lp,r.a).then(function(a){return $0(a)})}function bN(){this.a=uu()}function IN(){this.b=-1}function Tl(r,a){this.b=Fw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),Sl===void 0&&(f.Int32Array?Sl=new Int32Array(jw):Sl=jw),this.reset()}var Sl;G(Tl,IN);for(var Fw=64,EN=Fw-1,Vw=[],Mp=0;Mp<EN;Mp++)Vw[Mp]=0;var Uw=W(128,Vw);Tl.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ie(this.h)};function Fp(r){for(var a=r.f,c=r.l,d=0,v=0;v<a.length;)c[d++]=a[v]<<24|a[v+1]<<16|a[v+2]<<8|a[v+3],v=4*d;for(a=16;64>a;a++){v=c[a-15]|0,d=c[a-2]|0;var w=(c[a-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,b=(c[a-7]|0)+((d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10)|0;c[a]=w+b|0}d=r.a[0]|0,v=r.a[1]|0;var S=r.a[2]|0,U=r.a[3]|0,z=r.a[4]|0,Oe=r.a[5]|0,ut=r.a[6]|0;for(w=r.a[7]|0,a=0;64>a;a++){var tt=((d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10))+(d&v^d&S^v&S)|0;b=z&Oe^~z&ut,w=w+((z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))|0,b=b+(Sl[a]|0)|0,b=w+(b+(c[a]|0)|0)|0,w=ut,ut=Oe,Oe=z,z=U+b|0,U=S,S=v,v=d,d=b+tt|0}r.a[0]=r.a[0]+d|0,r.a[1]=r.a[1]+v|0,r.a[2]=r.a[2]+S|0,r.a[3]=r.a[3]+U|0,r.a[4]=r.a[4]+z|0,r.a[5]=r.a[5]+Oe|0,r.a[6]=r.a[6]+ut|0,r.a[7]=r.a[7]+w|0}function Vp(r,a,c){c===void 0&&(c=a.length);var d=0,v=r.c;if(typeof a=="string")for(;d<c;)r.f[v++]=a.charCodeAt(d++),v==r.b&&(Fp(r),v=0);else if(_(a))for(;d<c;){var w=a[d++];if(!(typeof w=="number"&&0<=w&&255>=w&&w==(w|0)))throw Error("message must be a byte array");r.f[v++]=w,v==r.b&&(Fp(r),v=0)}else throw Error("message must be string or array");r.c=v,r.g+=c}var jw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Bw(){Tl.call(this,8,TN)}G(Bw,Tl);var TN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function qw(r,a,c,d,v,w){this.v=r,this.i=a,this.l=c,this.m=d||null,this.u=v||null,this.s=w,this.h=a+":"+c,this.C=new bN,this.g=new _N(this.h),this.f=null,this.b=[],this.a=this.c=null}function Al(r){return new x("invalid-cordova-configuration",r)}e=qw.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=vC().then(function(){if(typeof It("universalLinks.subscribe",f)!="function")throw Al("cordova-universal-links-plugin-fix is not installed");if(typeof It("BuildInfo.packageName",f)>"u")throw Al("cordova-plugin-buildinfo is not installed");if(typeof It("cordova.plugins.browsertab.openUrl",f)!="function")throw Al("cordova-plugin-browsertab is not installed");if(typeof It("cordova.InAppBrowser.open",f)!="function")throw Al("cordova-plugin-inappbrowser is not installed")},function(){throw new x("cordova-not-ready")})};function SN(){for(var r=20,a=[];0<r;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return a.join("")}function AN(r){var a=new Bw;Vp(a,r),r=[];var c=8*a.g;56>a.c?Vp(a,Uw,56-a.c):Vp(a,Uw,a.b-(a.c-56));for(var d=63;56<=d;d--)a.f[d]=c&255,c/=256;for(Fp(a),d=c=0;d<a.i;d++)for(var v=24;0<=v;v-=8)r[c++]=a.a[d]>>v&255;return FC(r)}e.Pb=function(r,a){return a(new x("operation-not-supported-in-this-environment")),Ee()},e.Nb=function(){return bt(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(r,a,c,d){if(this.c)return bt(new x("redirect-operation-pending"));var v=this,w=f.document,b=null,S=null,U=null,z=null;return this.c=Ee().then(function(){return ep(a),Hw(v)}).then(function(){return kN(v,r,a,c,d)}).then(function(){return new Ge(function(Oe,ut){S=function(){var tt=It("cordova.plugins.browsertab.close",f);return Oe(),typeof tt=="function"&&tt(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(S),U=function(){b||(b=ss(2e3).then(function(){ut(new x("redirect-cancelled-by-user"))}))},z=function(){Pd()&&U()},w.addEventListener("resume",U,!1),tn().toLowerCase().match(/android/)||w.addEventListener("visibilitychange",z,!1)}).o(function(Oe){return Up(v).then(function(){throw Oe})})}).oa(function(){U&&w.removeEventListener("resume",U,!1),z&&w.removeEventListener("visibilitychange",z,!1),b&&b.cancel(),S&&v.Ta(S),v.c=null})};function kN(r,a,c,d,v){var w=SN(),b=new yr(a,d,null,w,new x("no-auth-event"),null,v),S=It("BuildInfo.packageName",f);if(typeof S!="string")throw new x("invalid-cordova-configuration");var U=It("BuildInfo.displayName",f),z={};if(tn().toLowerCase().match(/iphone|ipad|ipod/))z.ibi=S;else if(tn().toLowerCase().match(/android/))z.apn=S;else return bt(new x("operation-not-supported-in-this-environment"));U&&(z.appDisplayName=U),w=AN(w),z.sessionId=w;var Oe=iu(r.v,r.i,r.l,a,c,null,d,r.m,z,r.u,v,r.s);return r.ma().then(function(){var ut=r.h;return r.C.a.set(Lp,b.w(),ut)}).then(function(){var ut=It("cordova.plugins.browsertab.isAvailable",f);if(typeof ut!="function")throw new x("invalid-cordova-configuration");var tt=null;ut(function(Qt){if(Qt){if(tt=It("cordova.plugins.browsertab.openUrl",f),typeof tt!="function")throw new x("invalid-cordova-configuration");tt(Oe)}else{if(tt=It("cordova.InAppBrowser.open",f),typeof tt!="function")throw new x("invalid-cordova-configuration");Qt=tn(),r.a=tt(Oe,Qt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Qt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function $w(r,a){for(var c=0;c<r.b.length;c++)try{r.b[c](a)}catch{}}function Hw(r){return r.f||(r.f=r.ma().then(function(){return new Ge(function(a){function c(d){return a(d),r.Ta(c),!1}r.Ea(c),xN(r)})})),r.f}function Up(r){var a=null;return wN(r.g).then(function(c){return a=c,c=r.g,_s(c.b,Lp,c.a)}).then(function(){return a})}function xN(r){function a(b){d=!0,v&&v.cancel(),Up(r).then(function(S){var U=c;if(S&&b&&b.url){var z=null;U=L0(b.url),U.indexOf("/__/auth/callback")!=-1&&(z=Dn(U),z=hs(cr(z,"firebaseError")||null),z=(z=typeof z=="object"?Ke(z):null)?new yr(S.c,S.b,null,null,z,null,S.T()):new yr(S.c,S.b,U,S.f,null,null,S.T())),U=z||c}$w(r,U)})}var c=new yr("unknown",null,null,null,new x("no-auth-event")),d=!1,v=ss(500).then(function(){return Up(r).then(function(){d||$w(r,c)})}),w=f.handleOpenURL;f.handleOpenURL=function(b){if(b.toLowerCase().indexOf(It("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:b}),typeof w=="function")try{w(b)}catch(S){console.error(S)}},tp||(tp=new KC),GC(a)}e.Ea=function(r){this.b.push(r),Hw(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new yr("unknown",null,null,null,new x("no-auth-event")),r(a))})},e.Ta=function(r){B(this.b,function(a){return a==r})};function CN(r){this.a=r,this.b=uu()}var jp={name:"pendingRedirect",F:"session"};function RN(r){return r.b.set(jp,"pending",r.a)}function Bp(r){return _s(r.b,jp,r.a)}function NN(r){return r.b.get(jp,r.a).then(function(a){return a=="pending"})}function kl(r,a,c,d){this.i={},this.u=0,this.D=r,this.v=a,this.m=c,this.J=d,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new Cl,this.C=new eb,this.g=new CN(Qw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Kw(this.D,this.v,this.m,ae,this.J)}function Kw(r,a,c,d,v){var w=ke.SDK_VERSION||null;return Cd()?new qw(r,a,c,w,d,v):new vw(r,a,c,w,d,v)}kl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Kw(this.D,this.v,this.m,null,this.J),this.i={}};function Gw(r){r.f||(r.f=!0,r.a.Ea(r.l));var a=r.a;return r.a.ma().o(function(c){throw r.a==a&&r.reset(),c})}function zw(r){r.a.Yb()&&Gw(r).o(function(a){var c=new yr("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));$p(a)&&r.s(c)}),r.a.Ub()||Jw(r.b)}function xl(r,a){P(r.h,a)||r.h.push(a),r.f||NN(r.g).then(function(c){c?Bp(r.g).then(function(){Gw(r).o(function(d){var v=new yr("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));$p(d)&&r.s(v)})}):zw(r)}).o(function(){zw(r)})}function qp(r,a){B(r.h,function(c){return c==a})}kl.prototype.s=function(r){if(!r)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var a=!1,c=0;c<this.h.length;c++){var d=this.h[c];if(d.Gb(r.c,r.b)){(a=this.c[r.c])&&(a.h(r,d),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),a=!0;break}}return Jw(this.b),a};var ON=new _i(2e3,1e4),PN=new _i(3e4,6e4);kl.prototype.ra=function(){return this.b.ra()};function Ww(r,a,c,d,v,w,b){return r.a.Nb(a,c,d,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},v,w,b)}function $p(r){return!!(r&&r.code=="auth/cordova-not-ready")}function Xw(r,a,c,d,v){var w;return RN(r.g).then(function(){return r.a.Ob(a,c,d,v).o(function(b){if($p(b))throw new x("operation-not-supported-in-this-environment");return w=b,Bp(r.g).then(function(){throw w})}).then(function(){return r.a.ac()?new Ge(function(){}):Bp(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function Yw(r,a,c,d,v){return r.a.Pb(d,function(w){a.na(c,null,w,v)},ON.get())}var Hp={};function Qw(r,a,c){return r=r+":"+a,c&&(r=r+":"+c.url),r}function Kp(r,a,c,d){var v=Qw(a,c,d);return Hp[v]||(Hp[v]=new kl(r,a,c,d)),Hp[v]}function Cl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}Cl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Cl.prototype.h=function(r,a){if(r){this.reset(),this.g=!0;var c=r.c,d=r.b,v=r.a&&r.a.code=="auth/web-storage-unsupported",w=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!w),c!="unknown"||v||w?r.a?(vo(this,!0,null,r.a),Ee()):a.Fa(c,d)?DN(this,r,a):bt(new x("invalid-auth-event")):(vo(this,!1,null,null),Ee())}else bt(new x("invalid-auth-event"))};function Jw(r){r.g||(r.g=!0,vo(r,!1,null,null))}function Rl(r){r.g&&!r.i&&vo(r,!1,null,null)}function DN(r,a,c){c=c.Fa(a.c,a.b);var d=a.g,v=a.f,w=a.i,b=a.T(),S=!!a.c.match(/Redirect$/);c(d,v,b,w).then(function(U){vo(r,S,U,null)}).o(function(U){vo(r,S,null,U)})}function LN(r,a){if(r.b=function(){return bt(a)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](a)}function Zw(r,a){if(r.b=function(){return Ee(a)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](a)}function vo(r,a,c,d){a?d?LN(r,d):Zw(r,c):Zw(r,{user:null}),r.f=[],r.c=[]}Cl.prototype.ra=function(){var r=this;return new Ge(function(a,c){r.b?r.b().then(a,c):(r.f.push(a),r.c.push(c),MN(r))})};function MN(r){var a=new x("timeout");r.a&&r.a.cancel(),r.a=ss(PN.get()).then(function(){r.b||(r.g=!0,vo(r,!0,null,a))})}function eb(){}eb.prototype.h=function(r,a){if(r){var c=r.c,d=r.b;r.a?(a.na(r.c,null,r.a,r.b),Ee()):a.Fa(c,d)?FN(r,a):bt(new x("invalid-auth-event"))}else bt(new x("invalid-auth-event"))};function FN(r,a){var c=r.b,d=r.c;a.Fa(d,c)(r.g,r.f,r.T(),r.i).then(function(v){a.na(d,v,null,c)}).o(function(v){a.na(d,null,v,c)})}function tb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function Gp(r,a){this.a=a,pe(this,"verificationId",r)}Gp.prototype.confirm=function(r){return r=q0(this.verificationId,r),this.a(r)};function zp(r,a,c,d){return new Zr(r).gb(a,c).then(function(v){return new Gp(v,d)})}function VN(r){var a=k0(r);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");bn(this,{token:r,expirationTime:$a(1e3*a.exp),authTime:$a(1e3*a.auth_time),issuedAtTime:$a(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function Wp(r,a,c){var d=a&&a[rb];if(!d)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=Ne(a),this.g=c,this.c=new ol(null,d),this.b=[];var v=this;$(a[nb]||[],function(w){(w=Ud(w))&&v.b.push(w)}),pe(this,"auth",this.a),pe(this,"session",this.c),pe(this,"hints",this.b)}var nb="mfaInfo",rb="mfaPendingCredential";Wp.prototype.Rc=function(r){var a=this;return r.tb(this.a.a,this.c).then(function(c){var d=Ne(a.f);return delete d[nb],delete d[rb],De(d,c),a.g(d)})};function Xp(r,a,c,d){x.call(this,"multi-factor-auth-required",d,a),this.b=new Wp(r,a,c),pe(this,"resolver",this.b)}G(Xp,x);function ib(r,a,c){if(r&&E(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new Xp(a,r.serverResponse,c,r.message)}catch{}return null}function ob(){}ob.prototype.tb=function(r,a,c){return a.type==za?UN(this,r,a,c):jN(this,r,a)};function UN(r,a,c,d){return c.Ha().then(function(v){return v={idToken:v},typeof d<"u"&&(v.displayName=d),De(v,{phoneVerificationInfo:Wa(r.a)}),We(a,xR,v)})}function jN(r,a,c){return c.Ha().then(function(d){return d={mfaPendingCredential:d},De(d,{phoneVerificationInfo:Wa(r.a)}),We(a,CR,d)})}function Yp(r){pe(this,"factorId",r.fa),this.a=r}G(Yp,ob);function sb(r){if(Yp.call(this,r),this.a.fa!=Zr.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}G(sb,Yp);function ws(r,a){Pn.call(this,r);for(var c in a)this[c]=a[c]}G(ws,Pn);function Qp(r,a){this.a=r,this.b=[],this.c=V(this.yc,this),ur(this.a,"userReloaded",this.c);var c=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&$(a.multiFactor.enrolledFactors,function(d){var v=null,w={};if(d){d.uid&&(w[Bd]=d.uid),d.displayName&&(w[h0]=d.displayName),d.enrollmentTime&&(w[jd]=new Date(d.enrollmentTime).toISOString()),d.phoneNumber&&(w[qd]=d.phoneNumber);try{v=new Ha(w)}catch{}d=v}else d=null;d&&c.push(d)}),Nl(this,c)}function BN(r){var a=[];return $(r.mfaInfo||[],function(c){(c=Ud(c))&&a.push(c)}),a}e=Qp.prototype,e.yc=function(r){Nl(this,BN(r.hd))};function Nl(r,a){r.b=a,pe(r,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(r){return new ol(r,null)})},e.fc=function(r,a){var c=this,d=this.a.a;return this.Sb().then(function(v){return r.tb(d,v,a)}).then(function(v){return Mr(c.a,v),c.a.reload()})},e.bd=function(r){var a=this,c=typeof r=="string"?r:r.uid,d=this.a.a;return this.a.I().then(function(v){return We(d,XR,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var w=ue(a.b,function(b){return b.uid!=c});return Nl(a,w),Mr(a.a,v),a.a.reload().o(function(b){if(b.code!="auth/user-token-expired")throw b})})},e.w=function(){return{multiFactor:{enrolledFactors:Pe(this.b,function(r){return r.w()})}}};function Jp(r,a,c){if(this.h=r,this.i=a,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}Jp.prototype.start=function(){this.a=this.c,Zp(this,!0)};function qN(r,a){return a?(r.a=r.c,r.g()):(a=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),a)}function Zp(r,a){r.stop(),r.b=ss(qN(r,a)).then(function(){return _C()}).then(function(){return r.h()}).then(function(){Zp(r,!0)}).o(function(c){r.i(c)&&Zp(r,!1)})}Jp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function em(r){this.f=r,this.b=this.a=null,this.c=Date.now()}em.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function ab(r,a){typeof a>"u"&&(r.b?(a=r.b,a=a.a-a.g):a=0),r.c=Date.now()+1e3*a}function ub(r,a){r.b=rl(a[wr]||""),r.a=a.refreshToken,a=a.expiresIn,ab(r,typeof a<"u"?Number(a):void 0)}function $N(r,a){r.b=a.b,r.a=a.a,r.c=a.c}function HN(r,a){return hR(r.f,a).then(function(c){return r.b=rl(c.access_token),r.a=c.refresh_token,ab(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}em.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?bt(new x("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?HN(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b.toString(),refreshToken:this.a})};function Ol(r,a){this.a=r||null,this.b=a||null,bn(this,{lastSignInTime:$a(a||null),creationTime:$a(r||null)})}function KN(r){return new Ol(r.a,r.b)}Ol.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function GN(r,a,c,d,v,w){bn(this,{uid:r,displayName:d||null,photoURL:v||null,email:c||null,phoneNumber:w||null,providerId:a})}function Xn(r,a,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var d=ke.SDK_VERSION?ls(ke.SDK_VERSION):null;this.a=new _r(this.l,ze(ae),d),(this.u=r.emulatorConfig||null)&&wl(this.a,this.u),this.h=new em(this.a),am(this,a[wr]),ub(this.h,a),pe(this,"refreshToken",this.h.a),lb(this,c||{}),wn.call(this),this.P=!1,this.s&&so()&&(this.b=Kp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=zN(this),this.ba=V(this.ib,this);var v=this;this.za=null,this.Pa=function(w){v.xa(w.h)},this.qa=null,this.Ba=function(w){tm(v,w.c)},this.$=null,this.aa=[],this.Oa=function(w){cu(v,w.f)},this.ja=null,this.S=new Qp(this,c),pe(this,"multiFactor",this.S)}G(Xn,wn),Xn.prototype.xa=function(r){this.za=r,iw(this.a,r)};function tm(r,a){r.u=a,wl(r.a,a),r.b&&(a=r.b,r.b=Kp(r.s,r.l,r.m,r.u),r.P&&(qp(a,r),xl(r.b,r)))}Xn.prototype.la=function(){return this.za};function nm(r,a){r.qa&&zn(r.qa,"languageCodeChanged",r.Pa),(r.qa=a)&&ur(a,"languageCodeChanged",r.Pa)}function rm(r,a){r.$&&zn(r.$,"emulatorConfigChanged",r.Ba),(r.$=a)&&ur(a,"emulatorConfigChanged",r.Ba)}function cu(r,a){r.aa=a,ow(r.a,ke.SDK_VERSION?ls(ke.SDK_VERSION,r.aa):null)}Xn.prototype.Ga=function(){return ie(this.aa)};function im(r,a){r.ja&&zn(r.ja,"frameworkChanged",r.Oa),(r.ja=a)&&ur(a,"frameworkChanged",r.Oa)}Xn.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function om(r){try{return ke.app(r.m).auth()}catch{throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function zN(r){return new Jp(function(){return r.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=r.h.c-Date.now()-3e5;return 0<a?a:0})}function cb(r){r.J||r.D.b||(r.D.start(),zn(r,"tokenChanged",r.ba),ur(r,"tokenChanged",r.ba))}function sm(r){zn(r,"tokenChanged",r.ba),r.D.stop()}function am(r,a){r.Aa=a,pe(r,"_lat",a)}function WN(r,a){B(r.W,function(c){return c==a})}function yo(r){for(var a=[],c=0;c<r.W.length;c++)a.push(r.W[c](r));return k_(a).then(function(){return r})}function lu(r){r.b&&!r.P&&(r.P=!0,xl(r.b,r))}function lb(r,a){bn(r,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Ol(a.createdAt,a.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pe(Xn.prototype,"providerId","firebase");function fb(){}function um(r){return Ee().then(function(){if(r.J)throw new x("app-deleted")})}function cm(r){return Pe(r.providerData,function(a){return a.providerId})}function lm(r,a){a&&(hb(r,a.providerId),r.providerData.push(a))}function hb(r,a){B(r.providerData,function(c){return c.providerId==a})}function Ii(r,a,c){(a!="uid"||c)&&r.hasOwnProperty(a)&&pe(r,a,c)}function Pl(r,a){r!=a&&(bn(r,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?pe(r,"metadata",KN(a.metadata)):pe(r,"metadata",new Ol),$(a.providerData,function(c){lm(r,c)}),$N(r.h,a.h),pe(r,"refreshToken",r.h.a),Nl(r.S,a.S.b))}e=Xn.prototype,e.reload=function(){var r=this;return Gt(this,um(this).then(function(){return fm(r).then(function(){return yo(r)}).then(fb)}))};function fm(r){return r.I().then(function(a){var c=r.isAnonymous;return XN(r,a).then(function(){return c||Ii(r,"isAnonymous",!1),a})})}e.oc=function(r){return this.I(r).then(function(a){return new VN(a)})},e.I=function(r){var a=this;return Gt(this,um(this).then(function(){return a.h.getToken(r)}).then(function(c){if(!c)throw new x("internal-error");return c.accessToken!=a.Aa&&(am(a,c.accessToken),a.dispatchEvent(new ws("tokenChanged"))),Ii(a,"refreshToken",c.refreshToken),c.accessToken}))};function Mr(r,a){a[wr]&&r.Aa!=a[wr]&&(ub(r.h,a),r.dispatchEvent(new ws("tokenChanged")),am(r,a[wr]),Ii(r,"refreshToken",r.h.a))}function XN(r,a){return We(r.a,RR,{idToken:a}).then(V(r.Kc,r))}e.Kc=function(r){if(r=r.users,!r||!r.length)throw new x("internal-error");r=r[0],lb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var a=YN(r),c=0;c<a.length;c++)lm(this,a[c]);Ii(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new ws("userReloaded",{hd:r}))};function YN(r){return(r=r.providerUserInfo)&&r.length?Pe(r,function(a){return new GN(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(r){return Dd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},e.ub=function(r){var a=this,c=null;return Gt(this,r.c(this.a,this.uid).then(function(d){return Mr(a,d),c=fu(a,d,"reauthenticate"),a.i=null,a.reload()}).then(function(){return c}),!0)};function Dl(r,a){return fm(r).then(function(){if(P(cm(r),a))return yo(r).then(function(){throw new x("provider-already-linked")})})}e.Cc=function(r){return Dd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},e.rb=function(r){var a=this,c=null;return Gt(this,Dl(this,r.providerId).then(function(){return a.I()}).then(function(d){return r.b(a.a,d)}).then(function(d){return c=fu(a,d,"link"),db(a,d)}).then(function(){return c}))},e.Dc=function(r,a){var c=this;return Gt(this,Dl(this,"phone").then(function(){return zp(om(c),r,a,V(c.rb,c))}))},e.Mc=function(r,a){var c=this;return Gt(this,Ee().then(function(){return zp(om(c),r,a,V(c.ub,c))}),!0)};function fu(r,a,c){var d=Zd(a);return a=C0(a),Dr({user:r,credential:d,additionalUserInfo:a,operationType:c})}function db(r,a){return Mr(r,a),r.reload().then(function(){return r})}e.Cb=function(r){var a=this;return Gt(this,this.I().then(function(c){return a.a.Cb(c,r)}).then(function(c){return Mr(a,c),a.reload()}))},e.ed=function(r){var a=this;return Gt(this,this.I().then(function(c){return r.b(a.a,c)}).then(function(c){return Mr(a,c),a.reload()}))},e.Db=function(r){var a=this;return Gt(this,this.I().then(function(c){return a.a.Db(c,r)}).then(function(c){return Mr(a,c),a.reload()}))},e.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return um(this);var a=this;return Gt(this,this.I().then(function(c){return a.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Mr(a,c),Ii(a,"displayName",c.displayName||null),Ii(a,"photoURL",c.photoUrl||null),$(a.providerData,function(d){d.providerId==="password"&&(pe(d,"displayName",a.displayName),pe(d,"photoURL",a.photoURL))}),yo(a)}).then(fb))},e.cd=function(r){var a=this;return Gt(this,fm(this).then(function(c){return P(cm(a),r)?_R(a.a,c,[r]).then(function(d){var v={};return $(d.providerUserInfo||[],function(w){v[w.providerId]=!0}),$(cm(a),function(w){v[w]||hb(a,w)}),v[Zr.PROVIDER_ID]||pe(a,"phoneNumber",null),yo(a)}):yo(a).then(function(){throw new x("no-such-provider")})}))},e.delete=function(){var r=this;return Gt(this,this.I().then(function(a){return We(r.a,TR,{idToken:a})}).then(function(){r.dispatchEvent(new ws("userDeleted"))})).then(function(){for(var a=0;a<r.N.length;a++)r.N[a].cancel("app-deleted");nm(r,null),rm(r,null),im(r,null),r.N=[],r.J=!0,sm(r),pe(r,"refreshToken",null),r.b&&qp(r.b,r)})},e.Gb=function(r,a){return!!(r=="linkViaPopup"&&(this.g||null)==a&&this.f||r=="reauthViaPopup"&&(this.g||null)==a&&this.f||r=="linkViaRedirect"&&(this.ga||null)==a||r=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(r,a,c,d){r!="linkViaPopup"&&r!="reauthViaPopup"||d!=(this.g||null)||(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,a){return r=="linkViaPopup"&&a==(this.g||null)?V(this.Lb,this):r=="reauthViaPopup"&&a==(this.g||null)?V(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==a?V(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==a?V(this.Mb,this):null},e.Ec=function(r){var a=this;return pb(this,"linkViaPopup",r,function(){return Dl(a,r.providerId).then(function(){return yo(a)})},!1)},e.Nc=function(r){return pb(this,"reauthViaPopup",r,function(){return Ee()},!0)};function pb(r,a,c,d,v){if(!so())return bt(new x("operation-not-supported-in-this-environment"));if(r.i&&!v)return bt(r.i);var w=zd(c.providerId),b=ao(r.uid+":::"),S=null;(!Ba()||Rd())&&r.s&&c.isOAuthProvider&&(S=iu(r.s,r.l,r.m,a,c,null,b,ke.SDK_VERSION||null,null,null,r.tenantId,r.u));var U=r0(S,w&&w.va,w&&w.ua);return d=d().then(function(){if(gb(r),!v)return r.I().then(function(){})}).then(function(){return Ww(r.b,U,a,c,b,!!S,r.tenantId)}).then(function(){return new Ge(function(z,Oe){r.na(a,null,new x("cancelled-popup-request"),r.g||null),r.f=z,r.C=Oe,r.g=b,r.c=Yw(r.b,r,a,U,b)})}).then(function(z){return U&&oo(U),z?Dr(z):null}).o(function(z){throw U&&oo(U),z}),Gt(r,d,v)}e.Fc=function(r){var a=this;return mb(this,"linkViaRedirect",r,function(){return Dl(a,r.providerId)},!1)},e.Oc=function(r){return mb(this,"reauthViaRedirect",r,function(){return Ee()},!0)};function mb(r,a,c,d,v){if(!so())return bt(new x("operation-not-supported-in-this-environment"));if(r.i&&!v)return bt(r.i);var w=null,b=ao(r.uid+":::");return d=d().then(function(){if(gb(r),!v)return r.I().then(function(){})}).then(function(){return r.ga=b,yo(r)}).then(function(S){return r.ha&&(S=r.ha,S=S.b.set(hm,r.w(),S.a)),S}).then(function(){return Xw(r.b,a,c,b,r.tenantId)}).o(function(S){if(w=S,r.ha)return yb(r.ha);throw w}).then(function(){if(w)throw w}),Gt(r,d,v)}function gb(r){if(!r.b||!r.P)throw r.b&&!r.P?new x("internal-error"):new x("auth-domain-config-required")}e.Lb=function(r,a,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null;return c=this.I().then(function(b){return wp(v.a,{requestUri:r,postBody:d,sessionId:a,idToken:b})}).then(function(b){return w=fu(v,b,"link"),db(v,b)}).then(function(){return w}),Gt(this,c)},e.Mb=function(r,a,c,d){var v=this;this.c&&(this.c.cancel(),this.c=null);var w=null,b=Ee().then(function(){return ps(bp(v.a,{requestUri:r,sessionId:a,postBody:d,tenantId:c}),v.uid)}).then(function(S){return w=fu(v,S,"reauthenticate"),Mr(v,S),v.i=null,v.reload()}).then(function(){return w});return Gt(this,b,!0)},e.vb=function(r){var a=this,c=null;return Gt(this,this.I().then(function(d){return c=d,typeof r>"u"||Ue(r)?{}:tl(new el(r))}).then(function(d){return a.a.vb(c,d)}).then(function(d){if(a.email!=d)return a.reload()}).then(function(){}))},e.Fb=function(r,a){var c=this,d=null;return Gt(this,this.I().then(function(v){return d=v,typeof a>"u"||Ue(a)?{}:tl(new el(a))}).then(function(v){return c.a.Fb(d,r,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function Gt(r,a,c){var d=QN(r,a,c);return r.N.push(d),d.oa(function(){j(r.N,d)}),d.o(function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=ib(v.w(),om(r),V(r.jc,r))),w||v})}e.jc=function(r){var a=null,c=this;return r=ps(Ee(r),c.uid).then(function(d){return a=fu(c,d,"reauthenticate"),Mr(c,d),c.i=null,c.reload()}).then(function(){return a}),Gt(this,r,!0)};function QN(r,a,c){return r.i&&!c?(a.cancel(),bt(r.i)):a.o(function(d){throw!d||d.code!="auth/user-disabled"&&d.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new ws("userInvalidated")),r.i=d),d})}e.toJSON=function(){return this.w()},e.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&De(r,this.metadata.w()),$(this.providerData,function(a){r.providerData.push(IC(a))}),De(r,this.S.w()),r};function vb(r){if(!r.apiKey)return null;var a={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[wr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var d=r.stsTokenManager.expirationTime;d&&(c.expiresIn=(d-Date.now())/1e3)}else return null;var v=new Xn(a,c,r);return r.providerData&&$(r.providerData,function(w){w&&lm(v,Dr(w))}),r.redirectEventId&&(v.ga=r.redirectEventId),v}function JN(r,a,c,d){var v=new Xn(r,a);return c&&(v.ha=c),d&&cu(v,d),v.reload().then(function(){return v})}function ZN(r,a,c,d){var v=r.h,w={};return w[wr]=v.b&&v.b.toString(),w.refreshToken=v.a,a=new Xn(a||{apiKey:r.l,authDomain:r.s,appName:r.m},w),c&&(a.ha=c),d&&cu(a,d),Pl(a,r),a}function eO(r){this.a=r,this.b=uu()}var hm={name:"redirectUser",F:"session"};function yb(r){return _s(r.b,hm,r.a)}function tO(r,a){return r.b.get(hm,r.a).then(function(c){return c&&a&&(c.authDomain=a),vb(c||{})})}function dm(r){this.a=r,this.b=uu(),this.c=null,this.f=nO(this),this.b.addListener(Fr("local"),this.a,V(this.g,this))}dm.prototype.g=function(){var r=this,a=Fr("local");bs(this,function(){return Ee().then(function(){return r.c&&r.c.F!="local"?r.b.get(a,r.a):null}).then(function(c){if(c)return pm(r,"local").then(function(){r.c=a})})})};function pm(r,a){var c=[],d;for(d in vs)vs[d]!==a&&c.push(_s(r.b,Fr(vs[d]),r.a));return c.push(_s(r.b,mm,r.a)),Kx(c)}function nO(r){var a=Fr("local"),c=Fr("session"),d=Fr("none");return vN(r.b,a,r.a).then(function(){return r.b.get(c,r.a)}).then(function(v){return v?c:r.b.get(d,r.a).then(function(w){return w?d:r.b.get(a,r.a).then(function(b){return b?a:r.b.get(mm,r.a).then(function(S){return S?Fr(S):a})})})}).then(function(v){return r.c=v,pm(r,v.F)}).o(function(){r.c||(r.c=a)})}var mm={name:"persistence",F:"session"};function Fr(r){return{name:"authUser",F:r}}dm.prototype.yb=function(r){var a=null,c=this;return gN(r),bs(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(d){return a=d,pm(c,r)}).then(function(){if(c.c=Fr(r),a)return c.b.set(c.c,a,c.a)}):Ee()})};function rO(r){return bs(r,function(){return r.b.set(mm,r.c.F,r.a)})}function _b(r,a){return bs(r,function(){return r.b.set(r.c,a.w(),r.a)})}function wb(r){return bs(r,function(){return _s(r.b,r.c,r.a)})}function bb(r,a,c){return bs(r,function(){return r.b.get(r.c,r.a).then(function(d){return d&&a&&(d.authDomain=a),d&&c&&(d.emulatorConfig=c),vb(d||{})})})}function bs(r,a){return r.f=r.f.then(a,a),r.f}function br(r){if(this.l=!1,pe(this,"settings",new tb),pe(this,"app",r),lt(this).options&&lt(this).options.apiKey)r=ke.SDK_VERSION?ls(ke.SDK_VERSION):null,this.a=new _r(lt(this).options&&lt(this).options.apiKey,ze(ae),r);else throw new x("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=ke.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=ke.INTERNAL.createSubscribe(V(this.Ac,this)),Is(this,null),this.i=new dm(lt(this).options.apiKey+":"+lt(this).name),this.D=new eO(lt(this).options.apiKey+":"+lt(this).name),this.$=Rt(this,cO(this)),this.h=Rt(this,lO(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,sO(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,wn.call(this),oO(this),this.J=[],this.R=null}G(br,wn);function Ib(r){Pn.call(this,"languageCodeChanged"),this.h=r}G(Ib,Pn);function Eb(r){Pn.call(this,"emulatorConfigChanged"),this.c=r}G(Eb,Pn);function Tb(r){Pn.call(this,"frameworkChanged"),this.f=r}G(Tb,Pn),e=br.prototype,e.yb=function(r){return r=this.i.yb(r),Rt(this,r)},e.xa=function(r){this.aa===r||this.l||(this.aa=r,iw(this.a,this.aa),this.dispatchEvent(new Ib(this.la())))},e.la=function(){return this.aa},e.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},e.gd=function(r,a){if(!this.R){if(!/^https?:\/\//.test(r))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,iO(a),this.R={url:r,ec:a},this.settings.jb=!0,wl(this.a,this.R),this.dispatchEvent(new Eb(this.R))}};function iO(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Qc().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(r){this.J.push(r),ow(this.a,ke.SDK_VERSION?ls(ke.SDK_VERSION,this.J):null),this.dispatchEvent(new Tb(this.J))},e.Ga=function(){return ie(this.J)},e.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},e.T=function(){return this.S};function oO(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var a=Dn(this.R.url);a=Dr({protocol:a.c,host:a.a,port:a.g,options:Dr({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:lt(this).options.apiKey,authDomain:lt(this).options.authDomain,appName:lt(this).name,currentUser:je(this)&&je(this).w()}};function gm(r){return r.Oa||bt(new x("auth-domain-config-required"))}function sO(r){var a=lt(r).options.authDomain,c=lt(r).options.apiKey;a&&so()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=Kp(a,c,lt(r).name,r.R),xl(r.b,r),je(r)&&lu(je(r)),r.m){lu(r.m);var d=r.m;d.xa(r.la()),nm(d,r),d=r.m,cu(d,r.J),im(d,r),d=r.m,tm(d,r.R),rm(d,r),r.m=null}return r.b}}))}e.Gb=function(r,a){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(r,a,c,d){r=="signInViaPopup"&&this.g==d&&(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(r,a){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==a&&this.f?V(this.ic,this):null},e.ic=function(r,a,c,d){var v=this,w={requestUri:r,postBody:d,sessionId:a,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return _o(v,_p(v.a,w))})},e.Xc=function(r){if(!so())return bt(new x("operation-not-supported-in-this-environment"));var a=this,c=zd(r.providerId),d=ao(),v=null;(!Ba()||Rd())&&lt(this).options.authDomain&&r.isOAuthProvider&&(v=iu(lt(this).options.authDomain,lt(this).options.apiKey,lt(this).name,"signInViaPopup",r,null,d,ke.SDK_VERSION||null,null,null,this.T(),this.R));var w=r0(v,c&&c.va,c&&c.ua);return c=gm(this).then(function(b){return Ww(b,w,"signInViaPopup",r,d,!!v,a.T())}).then(function(){return new Ge(function(b,S){a.na("signInViaPopup",null,new x("cancelled-popup-request"),a.g),a.f=b,a.C=S,a.g=d,a.c=Yw(a.b,a,"signInViaPopup",w,d)})}).then(function(b){return w&&oo(w),b?Dr(b):null}).o(function(b){throw w&&oo(w),b}),Rt(this,c)},e.Yc=function(r){if(!so())return bt(new x("operation-not-supported-in-this-environment"));var a=this,c=gm(this).then(function(){return rO(a.i)}).then(function(){return Xw(a.b,"signInViaRedirect",r,void 0,a.T())});return Rt(this,c)};function Sb(r){if(!so())return bt(new x("operation-not-supported-in-this-environment"));var a=gm(r).then(function(){return r.b.ra()}).then(function(c){return c?Dr(c):null});return Rt(r,a)}e.ra=function(){var r=this;return Sb(this).then(function(a){return r.b&&Rl(r.b.b),a}).o(function(a){throw r.b&&Rl(r.b.b),a})},e.dd=function(r){if(!r)return bt(new x("null-user"));if(this.S!=r.tenantId)return bt(new x("tenant-id-mismatch"));var a=this,c={};c.apiKey=lt(this).options.apiKey,c.authDomain=lt(this).options.authDomain,c.appName=lt(this).name;var d=ZN(r,c,a.D,a.Ga());return Rt(this,this.h.then(function(){if(lt(a).options.apiKey!=r.l)return d.reload()}).then(function(){return je(a)&&r.uid==je(a).uid?(Pl(je(a),r),a.da(r)):(Is(a,d),lu(d),a.da(d))}).then(function(){hu(a)}))};function aO(r,a){var c={};return c.apiKey=lt(r).options.apiKey,c.authDomain=lt(r).options.authDomain,c.appName=lt(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return JN(c,a,r.D,r.Ga())}).then(function(d){return je(r)&&d.uid==je(r).uid?(Pl(je(r),d),r.da(d)):(Is(r,d),lu(d),r.da(d))}).then(function(){hu(r)})}function Is(r,a){je(r)&&(WN(je(r),r.Ba),zn(je(r),"tokenChanged",r.qa),zn(je(r),"userDeleted",r.za),zn(je(r),"userInvalidated",r.Aa),sm(je(r))),a&&(a.W.push(r.Ba),ur(a,"tokenChanged",r.qa),ur(a,"userDeleted",r.za),ur(a,"userInvalidated",r.Aa),0<r.u&&cb(a)),pe(r,"currentUser",a),a&&(a.xa(r.la()),nm(a,r),cu(a,r.J),im(a,r),tm(a,r.R),rm(a,r))}e.Bb=function(){var r=this,a=this.h.then(function(){return r.b&&Rl(r.b.b),je(r)?(Is(r,null),wb(r.i).then(function(){hu(r)})):Ee()});return Rt(this,a)};function uO(r){var a=tO(r.D,lt(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),yb(r.D)});return Rt(r,a)}function cO(r){var a=lt(r).options.authDomain,c=uO(r).then(function(){return bb(r.i,a,r.R)}).then(function(d){return d?(d.ha=r.D,r.m&&(r.m.ga||null)==(d.ga||null)?d:d.reload().then(function(){return _b(r.i,d).then(function(){return d})}).o(function(v){return v.code=="auth/network-request-failed"?d:wb(r.i)})):null}).then(function(d){Is(r,d||null)});return Rt(r,c)}function lO(r){return r.$.then(function(){return Sb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var a=r.i;a.b.addListener(Fr("local"),a.a,r.ja)}})}e.Zc=function(){var r=this;return bb(this.i,lt(this).options.authDomain).then(function(a){if(!r.l){var c;if(c=je(r)&&a){c=je(r).uid;var d=a.uid;c=c==null||c===""||d===void 0||d===null||d===""?!1:c==d}if(c)return Pl(je(r),a),je(r).I();(je(r)||a)&&(Is(r,a),a&&(lu(a),a.ha=r.D),r.b&&xl(r.b,r),hu(r))}})},e.da=function(r){return _b(this.i,r)},e.mc=function(){hu(this),this.da(je(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function _o(r,a){var c=null,d=null;return Rt(r,a.then(function(v){return c=Zd(v),d=C0(v),aO(r,v)},function(v){var w=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(w=ib(v.w(),r,V(r.kc,r))),w||v}).then(function(){return Dr({user:je(r),credential:c,additionalUserInfo:d,operationType:"signIn"})}))}e.kc=function(r){var a=this;return this.h.then(function(){return _o(a,Ee(r))})},e.zc=function(r){var a=this;this.addAuthTokenListener(function(){r.next(je(a))})},e.Ac=function(r){var a=this;fO(this,function(){r.next(je(a))})},e.Ic=function(r,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(je(d)):typeof r.next=="function"&&r.next(je(d))}),this.Pa(r,a,c)},e.Hc=function(r,a,c){var d=this;return this.ba&&Promise.resolve().then(function(){d.W=d.getUid(),typeof r=="function"?r(je(d)):typeof r.next=="function"&&r.next(je(d))}),this.ib(r,a,c)},e.nc=function(r){var a=this,c=this.h.then(function(){return je(a)?je(a).I(r).then(function(d){return{accessToken:d}}):null});return Rt(this,c)},e.Tc=function(r){var a=this;return this.h.then(function(){return _o(a,We(a.a,KR,{token:r}))}).then(function(c){var d=c.user;return Ii(d,"isAnonymous",!1),a.da(d),c})},e.Uc=function(r,a){var c=this;return this.h.then(function(){return _o(c,We(c.a,pw,{email:r,password:a}))})},e.dc=function(r,a){var c=this;return this.h.then(function(){return _o(c,We(c.a,IR,{email:r,password:a}))})},e.ab=function(r){var a=this;return this.h.then(function(){return _o(a,r.ka(a.a))})},e.Sc=function(r){return Dd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},e.Ab=function(){var r=this;return this.h.then(function(){var a=je(r);if(a&&a.isAnonymous){var c=Dr({providerId:null,isNewUser:!1});return Dr({user:a,credential:null,additionalUserInfo:c,operationType:"signIn"})}return _o(r,r.a.Ab()).then(function(d){var v=d.user;return Ii(v,"isAnonymous",!0),r.da(v),d})})};function lt(r){return r.app}function je(r){return r.currentUser}e.getUid=function(){return je(this)&&je(this).uid||null};function Ll(r){return je(r)&&je(r)._lat||null}function hu(r){if(r.ba){for(var a=0;a<r.s.length;a++)r.s[a]&&r.s[a](Ll(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),a=0;a<r.N.length;a++)r.N[a]&&r.N[a](Ll(r))}}e.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&je(this)&&cb(je(this))},e.Pc=function(r){var a=this;$(this.s,function(c){c==r&&a.u--}),0>this.u&&(this.u=0),this.u==0&&je(this)&&sm(je(this)),this.removeAuthTokenListener(r)},e.addAuthTokenListener=function(r){var a=this;this.s.push(r),Rt(this,this.h.then(function(){a.l||P(a.s,r)&&r(Ll(a))}))},e.removeAuthTokenListener=function(r){B(this.s,function(a){return a==r})};function fO(r,a){r.N.push(a),Rt(r,r.h.then(function(){!r.l&&P(r.N,a)&&r.W!==r.getUid()&&(r.W=r.getUid(),a(Ll(r)))}))}e.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Fr("local"),r.a,this.ja)),this.b&&(qp(this.b,this),Rl(this.b.b)),Promise.resolve()};function Rt(r,a){return r.P.push(a),a.oa(function(){j(r.P,a)}),a}e.hc=function(r){return Rt(this,dR(this.a,r))},e.Bc=function(r){return!!Jd(r)},e.xb=function(r,a){var c=this;return Rt(this,Ee().then(function(){var d=new el(a);if(!d.c)throw new x("argument-error",Kd+" must be true when sending sign in link to email");return tl(d)}).then(function(d){return c.a.xb(r,d)}).then(function(){}))},e.jd=function(r){return this.Sa(r).then(function(a){return a.data.email})},e.ob=function(r,a){return Rt(this,this.a.ob(r,a).then(function(){}))},e.Sa=function(r){return Rt(this,this.a.Sa(r).then(function(a){return new TC(a)}))},e.kb=function(r){return Rt(this,this.a.kb(r).then(function(){}))},e.wb=function(r,a){var c=this;return Rt(this,Ee().then(function(){return typeof a>"u"||Ue(a)?{}:tl(new el(a))}).then(function(d){return c.a.wb(r,d)}).then(function(){}))},e.Wc=function(r,a){return Rt(this,zp(this,r,a,V(this.ab,this)))},e.Vc=function(r,a){var c=this;return Rt(this,Ee().then(function(){var d=a||ja(),v=B0(r,d);if(d=Jd(d),!d)throw new x("argument-error","Invalid email link!");if(d.tenantId!==c.T())throw new x("tenant-id-mismatch");return c.ab(v)}))};function du(){}du.prototype.render=function(){},du.prototype.reset=function(){},du.prototype.getResponse=function(){},du.prototype.execute=function(){};function Es(){this.a={},this.b=1e12}var vm=null;Es.prototype.render=function(r,a){return this.a[this.b.toString()]=new Ml(r,a),this.b++},Es.prototype.reset=function(r){var a=ym(this,r);r=Ab(r),a&&r&&(a.delete(),delete this.a[r])},Es.prototype.getResponse=function(r){return(r=ym(this,r))?r.getResponse():null},Es.prototype.execute=function(r){(r=ym(this,r))&&r.execute()};function ym(r,a){return(a=Ab(a))&&r.a[a]||null}function Ab(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function Ml(r,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Pa(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():ur(this.f,"click",this.i)}Ml.prototype.getResponse=function(){return _m(this),this.b},Ml.prototype.execute=function(){_m(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=yC();var a=r.c.callback,c=r.c["expired-callback"];if(a)try{a(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},Ml.prototype.delete=function(){_m(this),this.g=!0,clearTimeout(this.a),this.a=null,zn(this.f,"click",this.i)};function _m(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function wm(){}pe(wm,"FACTOR_ID","phone");function bm(){}bm.prototype.g=function(){return vm||(vm=new Es),Ee(vm)},bm.prototype.c=function(){};var Im=null;function Em(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var hO=new fn(Vc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),dO=new _i(3e4,6e4);Em.prototype.g=function(r){var a=this;return new Ge(function(c,d){var v=setTimeout(function(){d(new x("network-request-failed"))},dO.get());if(!f.grecaptcha||r!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=r;var b=f.grecaptcha.render;f.grecaptcha.render=function(S,U){return S=b(S,U),a.b++,S},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),d(new x("internal-error"));delete f[a.a]};var w=id(hO,{onload:a.a,hl:r||""});Ee(hp(w)).o(function(){clearTimeout(v),d(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},Em.prototype.c=function(){this.b--};var Tm=null;function Sm(r,a,c,d,v,w,b){if(pe(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,b?(Im||(Im=new bm),b=Im):(Tm||(Tm=new Em),b=Tm),this.m=b,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Cb])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[pO]==="invisible",!f.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Pa(a)||!this.i&&Pa(a).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new _r(r,w||null,v||null),this.u=d||function(){return null};var S=this;this.l=[];var U=this.a[kb];this.a[kb]=function(Oe){if(Rb(S,Oe),typeof U=="function")U(Oe);else if(typeof U=="string"){var ut=It(U,f);typeof ut=="function"&&ut(Oe)}};var z=this.a[xb];this.a[xb]=function(){if(Rb(S,null),typeof z=="function")z();else if(typeof z=="string"){var Oe=It(z,f);typeof Oe=="function"&&Oe()}}}var kb="callback",xb="expired-callback",Cb="sitekey",pO="size";function Rb(r,a){for(var c=0;c<r.l.length;c++)try{r.l[c](a)}catch{}}function mO(r,a){B(r.l,function(c){return c==a})}function Am(r,a){return r.h.push(a),a.oa(function(){j(r.h,a)}),a}e=Sm.prototype,e.Ia=function(){var r=this;return this.f?this.f:this.f=Am(this,Ee().then(function(){if(Jc()&&!vr())return Qc();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(a){return r.g=a,We(r.s,MR,{})}).then(function(a){r.a[Cb]=a.recaptchaSiteKey}).o(function(a){throw r.f=null,a}))},e.render=function(){Fl(this);var r=this;return Am(this,this.Ia().then(function(){if(r.c===null){var a=r.v;if(!r.i){var c=Pa(a);a=Bx("DIV"),c.appendChild(a)}r.c=r.g.render(a,r.a)}return r.c}))},e.verify=function(){Fl(this);var r=this;return Am(this,this.render().then(function(a){return new Ge(function(c){var d=r.g.getResponse(a);if(d)c(d);else{var v=function(w){w&&(mO(r,v),c(w))};r.l.push(v),r.i&&r.g.execute(r.c)}})}))},e.reset=function(){Fl(this),this.c!==null&&this.g.reset(this.c)};function Fl(r){if(r.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Fl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=Pa(this.v);for(var a;a=r.firstChild;)r.removeChild(a)}};function km(r,a,c){var d=!1;try{this.b=c||ke.app()}catch{throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new x("invalid-api-key");var v=this,w=null;try{w=this.b.auth().Ga()}catch{}try{d=this.b.auth().settings.appVerificationDisabledForTesting}catch{}w=ke.SDK_VERSION?ls(ke.SDK_VERSION,w):null,Sm.call(this,c,r,a,function(){try{var b=v.b.auth().la()}catch{b=null}return b},w,ze(ae),d)}G(km,Sm);function Nb(r,a,c,d){e:{c=Array.prototype.slice.call(c);for(var v=0,w=!1,b=0;b<a.length;b++)if(a[b].optional)w=!0;else{if(w)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(w=a.length,c.length<v||w<c.length)d="Expected "+(v==w?v==1?"1 argument":v+" arguments":v+"-"+w+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(w=a[v].optional&&c[v]===void 0,!a[v].M(c[v])&&!w){if(a=a[v],0>v||v>=Ob.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");c=Ob[v],d=(d?"":c+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}d=null}}if(d)throw new x("argument-error",r+" failed: "+d)}var Ob="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function he(r,a){return{name:r||"",K:"a valid string",optional:!!a,M:function(c){return typeof c=="string"}}}function xm(r,a){return{name:r||"",K:"a boolean",optional:!!a,M:function(c){return typeof c=="boolean"}}}function Ft(r,a){return{name:r||"",K:"a valid object",optional:!!a,M:E}}function Ts(r,a){return{name:r||"",K:"a function",optional:!!a,M:function(c){return typeof c=="function"}}}function Vr(r,a){return{name:r||"",K:"null",optional:!!a,M:function(c){return c===null}}}function gO(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function vO(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof br)}}}function yO(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof ke.app.App)}}}function Ei(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var c=!r||a.providerId===r;return!(!a.ka||!c)}}}function Pb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function Ss(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Cm(r,a){return E(r)&&typeof r.type=="string"&&r.type===a&&typeof r.Ha=="function"}function Db(r){return E(r)&&typeof r.uid=="string"}function Vl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function Pt(r,a,c,d){return{name:c||"",K:r.K+" or "+a.K,optional:!!d,M:function(v){return r.M(v)||a.M(v)}}}function At(r,a){for(var c in a){var d=a[c].name;r[d]=Mb(d,r[c],a[c].j)}}function Lb(r,a){for(var c in a){var d=a[c].name;d!==c&&Object.defineProperty(r,d,{get:me(function(v){return this[v]},c),set:me(function(v,w,b,S){Nb(v,[b],[S],!0),this[w]=S},d,c,a[c].lb),enumerable:!0})}}function Dt(r,a,c,d){r[a]=Mb(a,c,d)}function Mb(r,a,c){function d(){var b=Array.prototype.slice.call(arguments);return Nb(v,c,b),a.apply(this,b)}if(!c)return a;var v=_O(r),w;for(w in a)d[w]=a[w];for(w in a.prototype)d.prototype[w]=a.prototype[w];return d}function _O(r){return r=r.split("."),r[r.length-1]}At(br.prototype,{kb:{name:"applyActionCode",j:[he("code")]},Sa:{name:"checkActionCode",j:[he("code")]},ob:{name:"confirmPasswordReset",j:[he("code"),he("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[he("email"),he("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[he("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[he("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Pt(Ft(),Ts(),"nextOrObserver"),Ts("opt_error",!0),Ts("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Pt(Ft(),Ts(),"nextOrObserver"),Ts("opt_error",!0),Ts("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[he("email"),Pt(Ft("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[he("email"),Ft("actionCodeSettings")]},yb:{name:"setPersistence",j:[he("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Ei()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Ei()]},Tc:{name:"signInWithCustomToken",j:[he("token")]},Uc:{name:"signInWithEmailAndPassword",j:[he("email"),he("password")]},Vc:{name:"signInWithEmailLink",j:[he("email"),he("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[he("phoneNumber"),Vl()]},Xc:{name:"signInWithPopup",j:[Ss()]},Yc:{name:"signInWithRedirect",j:[Ss()]},dd:{name:"updateCurrentUser",j:[Pt(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(a){return!!(a&&a instanceof Xn)}}}(),Vr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[he(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[he("url"),Ft("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[he("code")]}}),Lb(br.prototype,{lc:{name:"languageCode",lb:Pt(he(),Vr(),"languageCode")},ti:{name:"tenantId",lb:Pt(he(),Vr(),"tenantId")}}),br.Persistence=vs,br.Persistence.LOCAL="local",br.Persistence.SESSION="session",br.Persistence.NONE="none",At(Xn.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[xm("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[xm("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Ei()]},rb:{name:"linkWithCredential",j:[Ei()]},Dc:{name:"linkWithPhoneNumber",j:[he("phoneNumber"),Vl()]},Ec:{name:"linkWithPopup",j:[Ss()]},Fc:{name:"linkWithRedirect",j:[Ss()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Ei()]},ub:{name:"reauthenticateWithCredential",j:[Ei()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[he("phoneNumber"),Vl()]},Nc:{name:"reauthenticateWithPopup",j:[Ss()]},Oc:{name:"reauthenticateWithRedirect",j:[Ss()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Pt(Ft("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[he(null,!0)]},cd:{name:"unlink",j:[he("provider")]},Cb:{name:"updateEmail",j:[he("email")]},Db:{name:"updatePassword",j:[he("password")]},ed:{name:"updatePhoneNumber",j:[Ei("phone")]},Eb:{name:"updateProfile",j:[Ft("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[he("email"),Pt(Ft("opt_actionCodeSettings",!0),Vr(null,!0),"opt_actionCodeSettings",!0)]}}),At(Es.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(du.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),At(Ge.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Lb(tb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:xm("appVerificationDisabledForTesting")}}),At(Gp.prototype,{confirm:{name:"confirm",j:[he("verificationCode")]}}),Dt(ds,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var a,c=[qC,$C,HC,BC],d=0;d<c.length;d++)if(a=c[d](r))return a;return null},[Pt(he(),Ft(),"json")]),Dt(lr,"credential",function(r,a){return new wi(r,a)},[he("email"),he("password")]),At(wi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),At(lo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Dt(lo,"credential",F0,[Pt(he(),Ft(),"token")]),Dt(lr,"credentialWithLink",B0,[he("email"),he("emailLink")]),At(fo.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Dt(fo,"credential",V0,[Pt(he(),Ft(),"token")]),At(ho.prototype,{Ca:{name:"addScope",j:[he("scope")]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Dt(ho,"credential",U0,[Pt(he(),Pt(Ft(),Vr()),"idToken"),Pt(he(),Vr(),"accessToken",!0)]),At(ms.prototype,{Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),Dt(ms,"credential",j0,[Pt(he(),Ft(),"token"),he("secret",!0)]),At(Wn.prototype,{Ca:{name:"addScope",j:[he("scope")]},credential:{name:"credential",j:[Pt(he(),Pt(Ft(),Vr()),"optionsOrIdToken"),Pt(he(),Vr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ft("customOAuthParameters")]}}),At(Jr.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),At(uo.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),Dt(Zr,"credential",q0,[he("verificationId"),he("verificationCode")]),At(Zr.prototype,{gb:{name:"verifyPhoneNumber",j:[Pt(he(),function(r,a){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(c){return c?c.session&&c.phoneNumber?Cm(c.session,za)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Cm(c.session,sl)&&Db(c.multiFactorHint):c.session&&c.multiFactorUid?Cm(c.session,sl)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Vl()]}}),At(bi.prototype,{w:{name:"toJSON",j:[he(null,!0)]}}),At(x.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),At(Xa.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),At(np.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),At(Xp.prototype,{toJSON:{name:"toJSON",j:[he(null,!0)]}}),At(Wp.prototype,{Rc:{name:"resolveSignIn",j:[Pb()]}}),At(Qp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Pb(),he("displayName",!0)]},bd:{name:"unenroll",j:[Pt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Db},he(),"multiFactorInfoIdentifier")]}}),At(km.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Dt(Hd,"parseLink",_0,[he("link")]),Dt(wm,"assertion",function(r){return new sb(r)},[Ei("phone")]),function(){if(typeof ke<"u"&&ke.INTERNAL&&ke.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:$d,VERIFY_AND_CHANGE_EMAIL:Ka,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:br,AuthCredential:ds,Error:x};Dt(r,"EmailAuthProvider",lr,[]),Dt(r,"FacebookAuthProvider",lo,[]),Dt(r,"GithubAuthProvider",fo,[]),Dt(r,"GoogleAuthProvider",ho,[]),Dt(r,"TwitterAuthProvider",ms,[]),Dt(r,"OAuthProvider",Wn,[he("providerId")]),Dt(r,"SAMLAuthProvider",M0,[he("providerId")]),Dt(r,"PhoneAuthProvider",Zr,[vO()]),Dt(r,"RecaptchaVerifier",km,[Pt(he(),gO(),"recaptchaContainer"),Ft("recaptchaParameters",!0),yO()]),Dt(r,"ActionCodeURL",Hd,[]),Dt(r,"PhoneMultiFactorGenerator",wm,[]),ke.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new br(a)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),ke.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:V(a.getUid,a),getToken:V(a.nc,a),addAuthTokenListener:V(a.cc,a),removeAuthTokenListener:V(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),ke.registerVersion("@firebase/auth","0.16.8"),ke.INTERNAL.extendNamespace({User:Xn})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ig=function(e,t){return Ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Ig(e,t)};function WL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ig(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function FT(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var XL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},le,Dv=Dv||{},Le=XL||self;function Af(){}function Eg(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function yc(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function YL(e){return Object.prototype.hasOwnProperty.call(e,Um)&&e[Um]||(e[Um]=++QL)}var Um="closure_uid_"+(1e9*Math.random()>>>0),QL=0;function JL(e,t,n){return e.call.apply(e.bind,arguments)}function ZL(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function an(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?an=JL:an=ZL,an.apply(null,arguments)}function Gl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function cn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(i,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(i,u)}}function Wi(){this.s=this.s,this.o=this.o}var eM=0;Wi.prototype.s=!1;Wi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),eM!=0)&&YL(this)};Wi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var VT=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},UT=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var i=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<i;s++)s in o&&t.call(n,o[s],s,e)};function tM(e){e:{for(var t=GM,n=e.length,i=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in i&&t.call(void 0,i[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function w1(e){return Array.prototype.concat.apply([],arguments)}function Lv(e){var t=e.length;if(0<t){for(var n=Array(t),i=0;i<t;i++)n[i]=e[i];return n}return[]}function kf(e){return/^[\s\xa0]*$/.test(e)}var b1=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function kn(e,t){return e.indexOf(t)!=-1}function jm(e,t){return e<t?-1:e>t?1:0}var xn;e:{var I1=Le.navigator;if(I1){var E1=I1.userAgent;if(E1){xn=E1;break e}}xn=""}function Mv(e,t,n){for(var i in e)t.call(n,e[i],i,e)}function jT(e){var t={};for(var n in e)t[n]=e[n];return t}var T1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BT(e,t){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)e[n]=i[n];for(var s=0;s<T1.length;s++)n=T1[s],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Fv(e){return Fv[" "](e),e}Fv[" "]=Af;function nM(e){var t=oM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var rM=kn(xn,"Opera"),Js=kn(xn,"Trident")||kn(xn,"MSIE"),qT=kn(xn,"Edge"),Tg=qT||Js,$T=kn(xn,"Gecko")&&!(kn(xn.toLowerCase(),"webkit")&&!kn(xn,"Edge"))&&!(kn(xn,"Trident")||kn(xn,"MSIE"))&&!kn(xn,"Edge"),iM=kn(xn.toLowerCase(),"webkit")&&!kn(xn,"Edge");function HT(){var e=Le.document;return e?e.documentMode:void 0}var xf;e:{var Bm="",qm=function(){var e=xn;if($T)return/rv:([^\);]+)(\)|;)/.exec(e);if(qT)return/Edge\/([\d\.]+)/.exec(e);if(Js)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(iM)return/WebKit\/(\S+)/.exec(e);if(rM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(qm&&(Bm=qm?qm[1]:""),Js){var $m=HT();if($m!=null&&$m>parseFloat(Bm)){xf=String($m);break e}}xf=Bm}var oM={};function sM(){return nM(function(){for(var e=0,t=b1(String(xf)).split("."),n=b1("9").split("."),i=Math.max(t.length,n.length),o=0;e==0&&o<i;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=jm(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||jm(s[2].length==0,u[2].length==0)||jm(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Sg;if(Le.document&&Js){var S1=HT();Sg=S1||parseInt(xf,10)||void 0}else Sg=void 0;var aM=Sg,uM=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",Af,t),Le.removeEventListener("test",Af,t)}catch{}return e}();function vn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}vn.prototype.h=function(){this.defaultPrevented=!0};function Xu(e,t){if(vn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if($T){e:{try{Fv(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:cM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xu.Z.h.call(this)}}cn(Xu,vn);var cM={2:"touch",3:"pen",4:"mouse"};Xu.prototype.h=function(){Xu.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),lM=0;function fM(e,t,n,i,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ia=o,this.key=++lM,this.ca=this.fa=!1}function _h(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function wh(e){this.src=e,this.g={},this.h=0}wh.prototype.add=function(e,t,n,i,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=kg(e,t,i,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new fM(t,this.src,s,!!i,o),t.fa=n,e.push(t)),t};function Ag(e,t){var n=t.type;if(n in e.g){var i=e.g[n],o=VT(i,t),s;(s=0<=o)&&Array.prototype.splice.call(i,o,1),s&&(_h(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function kg(e,t,n,i){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==i)return o}return-1}var Vv="closure_lm_"+(1e6*Math.random()|0),Hm={};function KT(e,t,n,i,o){if(i&&i.once)return zT(e,t,n,i,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)KT(e,t[s],n,i,o);return null}return n=Bv(n),e&&e[_c]?e.N(t,n,yc(i)?!!i.capture:!!i,o):GT(e,t,n,!1,i,o)}function GT(e,t,n,i,o,s){if(!t)throw Error("Invalid event type");var u=yc(o)?!!o.capture:!!o,l=jv(e);if(l||(e[Vv]=l=new wh(e)),n=l.add(t,n,i,u,s),n.proxy)return n;if(i=hM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)uM||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),i,o);else if(e.attachEvent)e.attachEvent(XT(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hM(){function e(n){return t.call(e.src,e.listener,n)}var t=dM;return e}function zT(e,t,n,i,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)zT(e,t[s],n,i,o);return null}return n=Bv(n),e&&e[_c]?e.O(t,n,yc(i)?!!i.capture:!!i,o):GT(e,t,n,!0,i,o)}function WT(e,t,n,i,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)WT(e,t[s],n,i,o);else i=yc(i)?!!i.capture:!!i,n=Bv(n),e&&e[_c]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=kg(s,n,i,o),-1<n&&(_h(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=jv(e))&&(t=e.g[t.toString()],e=-1,t&&(e=kg(t,n,i,o)),(n=-1<e?t[e]:null)&&Uv(n))}function Uv(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[_c])Ag(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(XT(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=jv(t))?(Ag(n,e),n.h==0&&(n.src=null,t[Vv]=null)):_h(e)}}}function XT(e){return e in Hm?Hm[e]:Hm[e]="on"+e}function dM(e,t){if(e.ca)e=!0;else{t=new Xu(t,this);var n=e.listener,i=e.ia||e.src;e.fa&&Uv(e),e=n.call(i,t)}return e}function jv(e){return e=e[Vv],e instanceof wh?e:null}var Km="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bv(e){return typeof e=="function"?e:(e[Km]||(e[Km]=function(t){return e.handleEvent(t)}),e[Km])}function en(){Wi.call(this),this.i=new wh(this),this.P=this,this.I=null}cn(en,Wi);en.prototype[_c]=!0;en.prototype.removeEventListener=function(e,t,n,i){WT(this,e,t,n,i)};function un(e,t){var n,i=e.I;if(i)for(n=[];i;i=i.I)n.push(i);if(e=e.P,i=t.type||t,typeof t=="string")t=new vn(t,e);else if(t instanceof vn)t.target=t.target||e;else{var o=t;t=new vn(i,e),BT(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=zl(u,i,!0,t)&&o}if(u=t.g=e,o=zl(u,i,!0,t)&&o,o=zl(u,i,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=zl(u,i,!1,t)&&o}en.prototype.M=function(){if(en.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)_h(n[i]);delete e.g[t],e.h--}}this.I=null};en.prototype.N=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};en.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function zl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&Ag(e.i,u),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var qv=Le.JSON.stringify;function pM(){var e=QT,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var mM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var i=YT.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i},e}(),YT=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new gM},function(e){return e.reset()}),gM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function vM(e){Le.setTimeout(function(){throw e},0)}function $v(e,t){xg||yM(),Cg||(xg(),Cg=!0),QT.add(e,t)}var xg;function yM(){var e=Le.Promise.resolve(void 0);xg=function(){e.then(_M)}}var Cg=!1,QT=new mM;function _M(){for(var e;e=pM();){try{e.h.call(e.g)}catch(n){vM(n)}var t=YT;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Cg=!1}function bh(e,t){en.call(this),this.h=e||1,this.g=t||Le,this.j=an(this.kb,this),this.l=Date.now()}cn(bh,en);le=bh.prototype;le.da=!1;le.S=null;le.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),un(this,"tick"),this.da&&(Hv(this),this.start()))}};le.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hv(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}le.M=function(){bh.Z.M.call(this),Hv(this),delete this.g};function Kv(e,t,n){if(typeof e=="function")n&&(e=an(e,n));else if(e&&typeof e.handleEvent=="function")e=an(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function JT(e){e.g=Kv(function(){e.g=null,e.i&&(e.i=!1,JT(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var wM=function(e){WL(t,e);function t(n,i){var o=e.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:JT(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Wi);function Yu(e){Wi.call(this),this.h=e,this.g={}}cn(Yu,Wi);var A1=[];function ZT(e,t,n,i){Array.isArray(n)||(n&&(A1[0]=n.toString()),n=A1);for(var o=0;o<n.length;o++){var s=KT(t,n[o],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function eS(e){Mv(e.g,function(t,n){this.g.hasOwnProperty(n)&&Uv(t)},e),e.g={}}Yu.prototype.M=function(){Yu.Z.M.call(this),eS(this)};Yu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ih(){this.g=!0}Ih.prototype.Aa=function(){this.g=!1};function bM(e,t,n,i,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),f=0;f<l.length;f++){var p=l[f].split("=");if(1<p.length){var g=p[0];p=p[1];var h=g.split("_");u=2<=h.length&&h[1]=="type"?u+(g+"="+p+"&"):u+(g+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function IM(e,t,n,i,o,s,u){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function Ms(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+TM(e,n)+(i?" "+i:"")})}function EM(e,t){e.info(function(){return"TIMEOUT: "+t})}Ih.prototype.info=function(){};function TM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return qv(n)}catch{return t}}var Xo={},k1=null;function Eh(){return k1=k1||new en}Xo.Ma="serverreachability";function tS(e){vn.call(this,Xo.Ma,e)}cn(tS,vn);function Qu(e){var t=Eh();un(t,new tS(t))}Xo.STAT_EVENT="statevent";function nS(e,t){vn.call(this,Xo.STAT_EVENT,e),this.stat=t}cn(nS,vn);function Cn(e){var t=Eh();un(t,new nS(t,e))}Xo.Na="timingevent";function rS(e,t){vn.call(this,Xo.Na,e),this.size=t}cn(rS,vn);function wc(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){e()},t)}var Th={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},iS={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gv(){}Gv.prototype.h=null;function x1(e){return e.h||(e.h=e.i())}function oS(){}var bc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zv(){vn.call(this,"d")}cn(zv,vn);function Wv(){vn.call(this,"c")}cn(Wv,vn);var Rg;function Sh(){}cn(Sh,Gv);Sh.prototype.g=function(){return new XMLHttpRequest};Sh.prototype.i=function(){return{}};Rg=new Sh;function Ic(e,t,n,i){this.l=e,this.j=t,this.m=n,this.X=i||1,this.V=new Yu(this),this.P=SM,e=Tg?125:void 0,this.W=new bh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sS}function sS(){this.i=null,this.g="",this.h=!1}var SM=45e3,Ng={},Cf={};le=Ic.prototype;le.setTimeout=function(e){this.P=e};function Og(e,t,n){e.K=1,e.v=kh(fi(t)),e.s=n,e.U=!0,aS(e,null)}function aS(e,t){e.F=Date.now(),Ec(e),e.A=fi(e.v);var n=e.A,i=e.X;Array.isArray(i)||(i=[String(i)]),pS(n.h,"t",i),e.C=0,n=e.l.H,e.h=new sS,e.g=DS(e.l,n?t:null,!e.s),0<e.O&&(e.L=new wM(an(e.Ia,e,e.g),e.O)),ZT(e.V,e.g,"readystatechange",e.gb),t=e.H?jT(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Qu(),bM(e.j,e.u,e.A,e.m,e.X,e.s)}le.gb=function(e){e=e.target;var t=this.L;t&&ii(e)==3?t.l():this.Ia(e)};le.Ia=function(e){try{if(e==this.g)e:{var t=ii(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>t)&&(t!=3||Tg||this.g&&(this.h.h||this.g.ga()||O1(this.g)))){this.I||t!=4||n==7||(n==8||0>=i?Qu(3):Qu(2)),Ah(this);var o=this.g.ba();this.N=o;t:if(uS(this)){var s=O1(this.g);e="";var u=s.length,l=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ro(this),Ru(this);var f="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,IM(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var p,g=this.g;if((p=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!kf(p)){var h=p;break t}}h=null}if(o=h)Ms(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pg(this,o);else{this.i=!1,this.o=3,Cn(12),Ro(this),Ru(this);break e}}this.U?(cS(this,t,f),Tg&&this.i&&t==3&&(ZT(this.V,this.W,"tick",this.fb),this.W.start())):(Ms(this.j,this.m,f,null),Pg(this,f)),t==4&&Ro(this),this.i&&!this.I&&(t==4?RS(this.l,this):(this.i=!1,Ec(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Cn(12)):(this.o=0,Cn(13)),Ro(this),Ru(this)}}}catch{}finally{}};function uS(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function cS(e,t,n){for(var i=!0,o;!e.I&&e.C<n.length;)if(o=AM(e,n),o==Cf){t==4&&(e.o=4,Cn(14),i=!1),Ms(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Ng){e.o=4,Cn(15),Ms(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ms(e.j,e.m,o,null),Pg(e,o);uS(e)&&o!=Cf&&o!=Ng&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Cn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ry(t),t.L=!0,Cn(11))):(Ms(e.j,e.m,n,"[Invalid Chunked Response]"),Ro(e),Ru(e))}le.fb=function(){if(this.g){var e=ii(this.g),t=this.g.ga();this.C<t.length&&(Ah(this),cS(this,e,t),this.i&&e!=4&&Ec(this))}};function AM(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Cf:(n=Number(t.substring(n,i)),isNaN(n)?Ng:(i+=1,i+n>t.length?Cf:(t=t.substr(i,n),e.C=i+n,t)))}le.cancel=function(){this.I=!0,Ro(this)};function Ec(e){e.Y=Date.now()+e.P,lS(e,e.P)}function lS(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=wc(an(e.eb,e),t)}function Ah(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}le.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(EM(this.j,this.A),this.K!=2&&(Qu(),Cn(17)),Ro(this),this.o=2,Ru(this)):lS(this,this.Y-e)};function Ru(e){e.l.G==0||e.I||RS(e.l,e)}function Ro(e){Ah(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,Hv(e.W),eS(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pg(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||Dg(n.i,e))){if(n.I=e.N,!e.J&&Dg(n.i,e)&&n.G==3){try{var i=n.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Pf(n),Rh(n);else break e;ny(n),Cn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=wc(an(n.ab,n),6e3));if(1>=vS(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else No(n,11)}else if((e.J||n.g==e)&&Pf(n),!kf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var p=e.g;if(p){var g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var h=i.i;!h.g&&(kn(g,"spdy")||kn(g,"quic")||kn(g,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Qv(h,h.h),h.h=null))}if(i.D){var m=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.sa=m,St(i.F,i.D,m))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var y=e;if(i.oa=PS(i,i.H?i.la:null,i.W),y.J){yS(i.i,y);var _=y,I=i.K;I&&_.setTimeout(I),_.B&&(Ah(_),Ec(_)),i.g=y}else xS(i);0<n.l.length&&Nh(n)}else s[0]!="stop"&&s[0]!="close"||No(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?No(n,7):ty(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}Qu(4)}catch{}}function kM(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Eg(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Xv(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Eg(e)||typeof e=="string")UT(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Eg(e)||typeof e=="string"){n=[];for(var i=e.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,e)n[i++]=o;i=kM(e),o=i.length;for(var s=0;s<o;s++)t.call(void 0,i[s],n&&n[s],e)}}function ba(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(e)if(e instanceof ba)for(n=e.T(),i=0;i<n.length;i++)this.set(n[i],e.get(n[i]));else for(i in e)this.set(i,e[i])}le=ba.prototype;le.R=function(){Yv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};le.T=function(){return Yv(this),this.g.concat()};function Yv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var i=e.g[t];qo(e.h,i)&&(e.g[n++]=i),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)i=e.g[t],qo(o,i)||(e.g[n++]=i,o[i]=1),t++;e.g.length=n}}le.get=function(e,t){return qo(this.h,e)?this.h[e]:t};le.set=function(e,t){qo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};le.forEach=function(e,t){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],s=this.get(o);e.call(t,s,o,this)}};function qo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var fS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),o=null;if(0<=i){var s=e[n].substring(0,i);o=e[n].substring(i+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function $o(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof $o){this.g=t!==void 0?t:e.g,Rf(this,e.j),this.s=e.s,Nf(this,e.i),Of(this,e.m),this.l=e.l,t=e.h;var n=new Ju;n.i=t.i,t.g&&(n.g=new ba(t.g),n.h=t.h),C1(this,n),this.o=e.o}else e&&(n=String(e).match(fS))?(this.g=!!t,Rf(this,n[1]||"",!0),this.s=Nu(n[2]||""),Nf(this,n[3]||"",!0),Of(this,n[4]),this.l=Nu(n[5]||"",!0),C1(this,n[6]||"",!0),this.o=Nu(n[7]||"")):(this.g=!!t,this.h=new Ju(null,this.g))}$o.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Tu(t,R1,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Tu(t,R1,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Tu(n,n.charAt(0)=="/"?PM:OM,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Tu(n,LM)),e.join("")};function fi(e){return new $o(e)}function Rf(e,t,n){e.j=n?Nu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Nf(e,t,n){e.i=n?Nu(t,!0):t}function Of(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function C1(e,t,n){t instanceof Ju?(e.h=t,MM(e.h,e.g)):(n||(t=Tu(t,DM)),e.h=new Ju(t,e.g))}function St(e,t,n){e.h.set(t,n)}function kh(e){return St(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function CM(e){return e instanceof $o?fi(e):new $o(e,void 0)}function RM(e,t,n,i){var o=new $o(null,void 0);return e&&Rf(o,e),t&&Nf(o,t),n&&Of(o,n),i&&(o.l=i),o}function Nu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Tu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,NM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function NM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var R1=/[#\/\?@]/g,OM=/[#\?:]/g,PM=/[#\?]/g,DM=/[#\?@]/g,LM=/#/g;function Ju(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Xi(e){e.g||(e.g=new ba,e.h=0,e.i&&xM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}le=Ju.prototype;le.add=function(e,t){Xi(this),this.i=null,e=Ia(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function hS(e,t){Xi(e),t=Ia(e,t),qo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,qo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Yv(e)))}function dS(e,t){return Xi(e),t=Ia(e,t),qo(e.g.h,t)}le.forEach=function(e,t){Xi(this),this.g.forEach(function(n,i){UT(n,function(o){e.call(t,o,i,this)},this)},this)};le.T=function(){Xi(this);for(var e=this.g.R(),t=this.g.T(),n=[],i=0;i<t.length;i++)for(var o=e[i],s=0;s<o.length;s++)n.push(t[i]);return n};le.R=function(e){Xi(this);var t=[];if(typeof e=="string")dS(this,e)&&(t=w1(t,this.g.get(Ia(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=w1(t,e[n])}return t};le.set=function(e,t){return Xi(this),this.i=null,e=Ia(this,e),dS(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};le.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function pS(e,t,n){hS(e,t),0<n.length&&(e.i=null,e.g.set(Ia(e,t),Lv(n)),e.h+=n.length)}le.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var i=t[n],o=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var u=o;i[s]!==""&&(u+="="+encodeURIComponent(String(i[s]))),e.push(u)}}return this.i=e.join("&")};function Ia(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function MM(e,t){t&&!e.j&&(Xi(e),e.i=null,e.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(hS(this,i),pS(this,o,n))},e)),e.j=t}var FM=function(){function e(t,n){this.h=t,this.g=n}return e}();function mS(e){this.l=e||VM,Le.PerformanceNavigationTiming?(e=Le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var VM=10;function gS(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function vS(e){return e.h?1:e.g?e.g.size:0}function Dg(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Qv(e,t){e.g?e.g.add(t):e.h=t}function yS(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}mS.prototype.cancel=function(){var e,t;if(this.i=_S(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=FT(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function _S(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var i=e.i;try{for(var o=FT(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Lv(e.i)}function Jv(){}Jv.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)};Jv.prototype.parse=function(e){return Le.JSON.parse(e,void 0)};function UM(){this.g=new Jv}function jM(e,t,n){var i=n||"";try{Xv(e,function(o,s){var u=o;yc(o)&&(u=qv(o)),t.push(i+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(i+"type="+encodeURIComponent("_badmap")),o}}function BM(e,t){var n=new Ih;if(Le.Image){var i=new Image;i.onload=Gl(Wl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Gl(Wl,n,i,"TestLoadImage: error",!1,t),i.onabort=Gl(Wl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Gl(Wl,n,i,"TestLoadImage: timeout",!1,t),Le.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Wl(e,t,n,i,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(i)}catch{}}function Tc(e){this.l=e.$b||null,this.j=e.ib||!1}cn(Tc,Gv);Tc.prototype.g=function(){return new xh(this.l,this.j)};Tc.prototype.i=function(e){return function(){return e}}({});function xh(e,t){en.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Zv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(xh,en);var Zv=0;le=xh.prototype;le.open=function(e,t){if(this.readyState!=Zv)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Zu(this)};le.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};le.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sc(this)),this.readyState=Zv};le.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Zu(this)),this.g&&(this.readyState=3,Zu(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wS(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function wS(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}le.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sc(this):Zu(this),this.readyState==3&&wS(this)}};le.Ua=function(e){this.g&&(this.response=this.responseText=e,Sc(this))};le.Ta=function(e){this.g&&(this.response=e,Sc(this))};le.ha=function(){this.g&&Sc(this)};function Sc(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Zu(e)}le.setRequestHeader=function(e,t){this.v.append(e,t)};le.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};le.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Zu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(xh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var qM=Le.JSON.parse;function $t(e){en.call(this),this.headers=new ba,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bS,this.K=this.L=!1}cn($t,en);var bS="",$M=/^https?$/i,HM=["POST","PUT"];le=$t.prototype;le.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rg.g(),this.C=this.u?x1(this.u):x1(Rg),this.g.onreadystatechange=an(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){N1(this,s);return}e=n||"";var o=new ba(this.headers);i&&Xv(i,function(s,u){o.set(u,s)}),i=tM(o.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=VT(HM,t))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{TS(this),0<this.B&&((this.K=KM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.pa,this)):this.A=Kv(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){N1(this,s)}};function KM(e){return Js&&sM()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function GM(e){return e.toLowerCase()=="content-type"}le.pa=function(){typeof Dv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,un(this,"timeout"),this.abort(8))};function N1(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,IS(e),Ch(e)}function IS(e){e.D||(e.D=!0,un(e,"complete"),un(e,"error"))}le.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,un(this,"complete"),un(this,"abort"),Ch(this))};le.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ch(this,!0)),$t.Z.M.call(this)};le.Fa=function(){this.s||(this.F||this.v||this.l?ES(this):this.cb())};le.cb=function(){ES(this)};function ES(e){if(e.h&&typeof Dv<"u"&&(!e.C[1]||ii(e)!=4||e.ba()!=2)){if(e.v&&ii(e)==4)Kv(e.Fa,0,e);else if(un(e,"readystatechange"),ii(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var i;if(!(i=n)){var o;if(o=t===0){var s=String(e.H).match(fS)[1]||null;if(!s&&Le.self&&Le.self.location){var u=Le.self.location.protocol;s=u.substr(0,u.length-1)}o=!$M.test(s?s.toLowerCase():"")}i=o}if(i)un(e,"complete"),un(e,"success");else{e.m=6;try{var l=2<ii(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",IS(e)}}finally{Ch(e)}}}}function Ch(e,t){if(e.g){TS(e);var n=e.g,i=e.C[0]?Af:null;e.g=null,e.C=null,t||un(e,"ready");try{n.onreadystatechange=i}catch{}}}function TS(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function ii(e){return e.g?e.g.readyState:0}le.ba=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}};le.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};le.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),qM(t)}};function O1(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case bS:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}le.Da=function(){return this.m};le.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function zM(e){var t="";return Mv(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function ey(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=zM(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):St(e,t,n))}function gu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function SS(e){this.za=0,this.l=[],this.h=new Ih,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gu("baseRetryDelayMs",5e3,e),this.$a=gu("retryDelaySeedMs",1e4,e),this.Ya=gu("forwardChannelMaxRetries",2,e),this.ra=gu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new mS(e&&e.concurrentRequestLimit),this.Ca=new UM,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}le=SS.prototype;le.ma=8;le.G=1;function ty(e){if(AS(e),e.G==3){var t=e.V++,n=fi(e.F);St(n,"SID",e.J),St(n,"RID",t),St(n,"TYPE","terminate"),Ac(e,n),t=new Ic(e,e.h,t,void 0),t.K=2,t.v=kh(fi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&(new Image().src=t.v,n=!0),n||(t.g=DS(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ec(t)}OS(e)}le.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Rh(e){e.g&&(ry(e),e.g.cancel(),e.g=null)}function AS(e){Rh(e),e.u&&(Le.clearTimeout(e.u),e.u=null),Pf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Le.clearTimeout(e.m),e.m=null)}function Gm(e,t){e.l.push(new FM(e.Za++,t)),e.G==3&&Nh(e)}function Nh(e){gS(e.i)||e.m||(e.m=!0,$v(e.Ha,e),e.C=0)}function WM(e,t){return vS(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=wc(an(e.Ha,e,t),NS(e,e.C)),e.C++,!0)}le.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ic(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=jT(n),BT(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var i=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(i+=s,4096<i){i=o;break e}if(i===4096||o===this.l.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=kS(this,t,i),o=fi(this.F),St(o,"RID",e),St(o,"CVER",22),this.D&&St(o,"X-HTTP-Session-Id",this.D),Ac(this,o),this.o&&n&&ey(o,this.o,n),Qv(this.i,t),this.Ra&&St(o,"TYPE","init"),this.ja?(St(o,"$req",i),St(o,"SID","null"),t.$=!0,Og(t,o,null)):Og(t,o,i),this.G=2}}else this.G==3&&(e?P1(this,e):this.l.length==0||gS(this.i)||P1(this))};function P1(e,t){var n;t?n=t.m:n=e.V++;var i=fi(e.F);St(i,"SID",e.J),St(i,"RID",n),St(i,"AID",e.U),Ac(e,i),e.o&&e.s&&ey(i,e.o,e.s),n=new Ic(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=kS(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Qv(e.i,n),Og(n,i,t)}function Ac(e,t){e.j&&Xv({},function(n,i){St(t,i,n)})}function kS(e,t,n){n=Math.min(e.l.length,n);var i=e.j?an(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var p=o[f].h,g=o[f].g;if(p-=s,0>p)s=Math.max(0,o[f].h-100),l=!1;else try{jM(g,u,"req"+p+"_")}catch{i&&i(g)}}if(l){i=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,i}function xS(e){e.g||e.u||(e.Y=1,$v(e.Ga,e),e.A=0)}function ny(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=wc(an(e.Ga,e),NS(e,e.A)),e.A++,!0)}le.Ga=function(){if(this.u=null,CS(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=wc(an(this.bb,this),e)}};le.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Cn(10),Rh(this),CS(this))};function ry(e){e.B!=null&&(Le.clearTimeout(e.B),e.B=null)}function CS(e){e.g=new Ic(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=fi(e.oa);St(t,"RID","rpc"),St(t,"SID",e.J),St(t,"CI",e.N?"0":"1"),St(t,"AID",e.U),Ac(e,t),St(t,"TYPE","xmlhttp"),e.o&&e.s&&ey(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=kh(fi(t)),n.s=null,n.U=!0,aS(n,e)}le.ab=function(){this.v!=null&&(this.v=null,Rh(this),ny(this),Cn(19))};function Pf(e){e.v!=null&&(Le.clearTimeout(e.v),e.v=null)}function RS(e,t){var n=null;if(e.g==t){Pf(e),ry(e),e.g=null;var i=2}else if(Dg(e.i,t))n=t.D,yS(e.i,t),i=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;i=Eh(),un(i,new rS(i,n)),Nh(e)}else xS(e);else if(o=t.o,o==3||o==0&&0<e.I||!(i==1&&WM(e,t)||i==2&&ny(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:No(e,5);break;case 4:No(e,10);break;case 3:No(e,6);break;default:No(e,2)}}}function NS(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function No(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var i=an(e.jb,e);n||(n=new $o("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||Rf(n,"https"),kh(n)),BM(n.toString(),i)}else Cn(2);e.G=0,e.j&&e.j.va(t),OS(e),AS(e)}le.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Cn(2)):(this.h.info("Failed to ping google.com"),Cn(1))};function OS(e){e.G=0,e.I=-1,e.j&&((_S(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,Lv(e.l),e.l.length=0),e.j.ua())}function PS(e,t,n){var i=CM(n);if(i.i!="")t&&Nf(i,t+"."+i.i),Of(i,i.m);else{var o=Le.location;i=RM(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&Mv(e.aa,function(s,u){St(i,u,s)}),t=e.D,n=e.sa,t&&n&&St(i,t,n),St(i,"VER",e.ma),Ac(e,i),i}function DS(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new $t(new Tc({ib:!0})):new $t(e.qa),t.L=e.H,t}function LS(){}le=LS.prototype;le.xa=function(){};le.wa=function(){};le.va=function(){};le.ua=function(){};le.Oa=function(){};function Df(){if(Js&&!(10<=Number(aM)))throw Error("Environmental error: no available transport.")}Df.prototype.g=function(e,t){return new ar(e,t)};function ar(e,t){en.call(this),this.g=new SS(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!kf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!kf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ea(this)}cn(ar,en);ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),$v(an(e.hb,e,t))),Cn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=PS(e,null,e.W),Nh(e)};ar.prototype.close=function(){ty(this.g)};ar.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,Gm(this.g,t)}else this.v?(t={},t.__data__=qv(e),Gm(this.g,t)):Gm(this.g,e)};ar.prototype.M=function(){this.g.j=null,delete this.j,ty(this.g),delete this.g,ar.Z.M.call(this)};function MS(e){zv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}cn(MS,zv);function FS(){Wv.call(this),this.status=1}cn(FS,Wv);function Ea(e){this.g=e}cn(Ea,LS);Ea.prototype.xa=function(){un(this.g,"a")};Ea.prototype.wa=function(e){un(this.g,new MS(e))};Ea.prototype.va=function(e){un(this.g,new FS)};Ea.prototype.ua=function(){un(this.g,"b")};Df.prototype.createWebChannel=Df.prototype.g;ar.prototype.send=ar.prototype.u;ar.prototype.open=ar.prototype.m;ar.prototype.close=ar.prototype.close;Th.NO_ERROR=0;Th.TIMEOUT=8;Th.HTTP_ERROR=6;iS.COMPLETE="complete";oS.EventType=bc;bc.OPEN="a";bc.CLOSE="b";bc.ERROR="c";bc.MESSAGE="d";en.prototype.listen=en.prototype.N;$t.prototype.listenOnce=$t.prototype.O;$t.prototype.getLastError=$t.prototype.La;$t.prototype.getLastErrorCode=$t.prototype.Da;$t.prototype.getStatus=$t.prototype.ba;$t.prototype.getResponseJson=$t.prototype.Qa;$t.prototype.getResponseText=$t.prototype.ga;$t.prototype.send=$t.prototype.ea;var XM=function(){return new Df},YM=function(){return Eh()},zm=Th,QM=iS,JM=Xo,D1={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ZM=Tc,Xl=oS,e2=$t;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr=function(){function e(t,n){var i=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();nr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=function(e){function t(n,i){var o=this;return(o=e.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Se(t,e),t}(Error),kr=new PT("@firebase/firestore");function Lg(){return kr.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=nt.DEBUG){var i=t.map(iy);kr.debug.apply(kr,Tt(["Firestore (8.10.1): "+e],i))}}function Bt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=nt.ERROR){var i=t.map(iy);kr.error.apply(kr,Tt(["Firestore (8.10.1): "+e],i))}}function Lf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(kr.logLevel<=nt.WARN){var i=t.map(iy);kr.warn.apply(kr,Tt(["Firestore (8.10.1): "+e],i))}}function iy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Bt(t),new Error(t)}function Re(e,t){e||_e()}function se(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VS=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,i="";i.length<20;)for(var o=t2(40),s=0;s<o.length;++s)i.length<20&&o[s]<n&&(i+=t.charAt(o[s]%t.length));return i},e}();function Xe(e,t){return e<t?-1:e>t?1:0}function Zs(e,t,n){return e.length===t.length&&e.every(function(i,o){return n(i,t[o])})}function US(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Xe(this.nanoseconds,t.nanoseconds):Xe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),He=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new jn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yo(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function jS(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BS=function(){function e(t,n,i){n===void 0?n=0:n>t.length&&_e(),i===void 0?i=t.length-n:i>t.length-n&&_e(),this.segments=t,this.offset=n,this.len=i}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(i){n.push(i)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var i=Math.min(t.length,n.length),o=0;o<i;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),ot=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new X(M.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(BS),n2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.construct=function(n,i,o){return new t(n,i,o)},t.isValidIdentifier=function(n){return n2.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var i=[],o="",s=0,u=function(){if(o.length===0)throw new X(M.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new X(M.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var p=n[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new X(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=p,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(u(),s++)}if(u(),l)throw new X(M.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(i)},t.emptyPath=function(){return new t([])},t}(BS),ea=function(){function e(t){this.fields=t,t.sort(Rr.comparator)}return e.prototype.covers=function(t){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return Zs(this.fields,t.fields,function(n,i){return n.isEqual(i)})},e}(),qn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Xe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();qn.EMPTY_BYTE_STRING=new qn("");var r2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ki(e){if(Re(!!e),typeof e=="string"){var t=0,n=r2.exec(e);if(Re(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Ut(e.seconds),nanos:Ut(e.nanos)}}function Ut(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ta(e){return typeof e=="string"?qn.fromBase64String(e):qn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qS(e){var t=e.mapValue.fields.__previous_value__;return oy(t)?qS(t):t}function ec(e){var t=Ki(e.mapValue.fields.__local_write_time__.timestampValue);return new jn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){return e==null}function Mf(e){return e===0&&1/e==-1/0}function $S(e){return typeof e=="number"&&Number.isInteger(e)&&!Mf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(ot.fromString(t))},e.fromName=function(t){return new e(ot.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&ot.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return ot.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new ot(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?oy(e)?4:10:_e()}function Xr(e,t){var n=Ho(e);if(n!==Ho(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ec(e).isEqual(ec(t));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var s=Ki(i.timestampValue),u=Ki(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,o){return ta(i.bytesValue).isEqual(ta(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,o){return Ut(i.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(i.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(e,t);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ut(i.integerValue)===Ut(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var s=Ut(i.doubleValue),u=Ut(o.doubleValue);return s===u?Mf(s)===Mf(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return Zs(e.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:return function(i,o){var s=i.mapValue.fields||{},u=o.mapValue.fields||{};if(L1(s)!==L1(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!Xr(s[l],u[l])))return!1;return!0}(e,t);default:return _e()}}function tc(e,t){return(e.values||[]).find(function(n){return Xr(n,t)})!==void 0}function na(e,t){var n=Ho(e),i=Ho(t);if(n!==i)return Xe(n,i);switch(n){case 0:return 0;case 1:return Xe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=Ut(o.integerValue||o.doubleValue),l=Ut(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return M1(e.timestampValue,t.timestampValue);case 4:return M1(ec(e),ec(t));case 5:return Xe(e.stringValue,t.stringValue);case 6:return function(o,s){var u=ta(o),l=ta(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),f=0;f<u.length&&f<l.length;f++){var p=Xe(u[f],l[f]);if(p!==0)return p}return Xe(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=Xe(Ut(o.latitude),Ut(s.latitude));return u!==0?u:Xe(Ut(o.longitude),Ut(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],f=0;f<u.length&&f<l.length;++f){var p=na(u[f],l[f]);if(p)return p}return Xe(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),f=s.fields||{},p=Object.keys(f);l.sort(),p.sort();for(var g=0;g<l.length&&g<p.length;++g){var h=Xe(l[g],p[g]);if(h!==0)return h;var m=na(u[l[g]],f[p[g]]);if(m!==0)return m}return Xe(l.length,p.length)}(e.mapValue,t.mapValue);default:throw _e()}}function M1(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Xe(e,t);var n=Ki(e),i=Ki(t),o=Xe(n.seconds,i.seconds);return o!==0?o:Xe(n.nanos,i.nanos)}function sy(e){return Mg(e)}function Mg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){var o=Ki(i);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ta(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,be.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(i){for(var o="[",s=!0,u=0,l=i.values||[];u<l.length;u++)s?s=!1:o+=",",o+=Mg(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(i){for(var o="{",s=!0,u=0,l=Object.keys(i.fields||{}).sort();u<l.length;u++){var f=l[u];s?s=!1:o+=",",o+=f+":"+Mg(i.fields[f])}return o+"}"}(e.mapValue):_e();var t,n}function Ff(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function Fg(e){return!!e&&"integerValue"in e}function ay(e){return!!e&&"arrayValue"in e}function F1(e){return!!e&&"nullValue"in e}function V1(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ff(e){return!!e&&"mapValue"in e}function Ou(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yo(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Ou(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(e.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Ou(e.arrayValue.values[i]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var er=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,i=0;i<t.length-1;++i)if(!ff(n=(n.mapValue.fields||{})[t.get(i)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ou(n)},e.prototype.setAll=function(t){var n=this,i=Rr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var p=n.getFieldsMap(i);n.applyChanges(p,o,s),o={},s=[],i=f.popLast()}l?o[f.lastSegment()]=Ou(l):s.push(f.lastSegment())});var u=this.getFieldsMap(i);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return Xr(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<t.length;++i){var o=n.mapValue.fields[t.get(i)];ff(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,i){Yo(n,function(l,f){return t[l]=f});for(var o=0,s=i;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Ou(this.value))},e}();function HS(e){var t=[];return Yo(e.fields,function(n,i){var o=new Rr([n]);if(ff(i)){var s=HS(i.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new ea(t)}var yn=function(){function e(t,n,i,o,s){this.key=t,this.documentType=n,this.version=i,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,He.min(),er.empty(),0)},e.newFoundDocument=function(t,n,i){return new e(t,1,n,i,0)},e.newNoDocument=function(t,n){return new e(t,2,n,er.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,er.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=er.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=er.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),i2=function(e,t,n,i,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(e,t,n,i,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new i2(e,t,n,i,o,s,u)}function kc(e){var t=se(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+sy(o.value)}(i)}).join(","),n+="|ob:",n+=t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Qo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Uf(t.startAt)),t.endAt&&(n+="|ub:",n+=Uf(t.endAt)),t.h=n}return t.h}function Oh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!h2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var i=0;i<e.filters.length;i++)if(o=e.filters[i],s=t.filters[i],o.op!==s.op||!o.field.isEqual(s.field)||!Xr(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!B1(e.startAt,t.startAt)&&B1(e.endAt,t.endAt)}function Vf(e){return be.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var rr=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).field=n,s.op=i,s.value=o,s}return Se(t,e),t.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new o2(n,i,o):i==="array-contains"?new u2(n,o):i==="in"?new c2(n,o):i==="not-in"?new l2(n,o):i==="array-contains-any"?new f2(n,o):new t(n,i,o)},t.l=function(n,i,o){return i==="in"?new s2(n,o):new a2(n,o)},t.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(na(i,this.value)):i!==null&&Ho(this.value)===Ho(i)&&this.m(na(i,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return _e()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),o2=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,o)||this).key=be.fromName(o.referenceValue),s}return Se(t,e),t.prototype.matches=function(n){var i=be.comparator(n.key,this.key);return this.m(i)},t}(rr),s2=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"in",i)||this).keys=KS("in",i),o}return Se(t,e),t.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},t}(rr),a2=function(e){function t(n,i){var o=this;return(o=e.call(this,n,"not-in",i)||this).keys=KS("not-in",i),o}return Se(t,e),t.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},t}(rr);function KS(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return be.fromName(i.referenceValue)})}var u2=function(e){function t(n,i){return e.call(this,n,"array-contains",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return ay(i)&&tc(i.arrayValue,this.value)},t}(rr),c2=function(e){function t(n,i){return e.call(this,n,"in",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&tc(this.value.arrayValue,i)},t}(rr),l2=function(e){function t(n,i){return e.call(this,n,"not-in",i)||this}return Se(t,e),t.prototype.matches=function(n){if(tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!tc(this.value.arrayValue,i)},t}(rr),f2=function(e){function t(n,i){return e.call(this,n,"array-contains-any",i)||this}return Se(t,e),t.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!ay(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return tc(i.value.arrayValue,s)})},t}(rr),nc=function(e,t){this.position=e,this.before=t};function Uf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return sy(t)}).join(",")}var qs=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function h2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function j1(e,t,n){for(var i=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(i=s.field.isKeyField()?be.comparator(be.fromName(u.referenceValue),n.key):na(u,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return e.before?i<=0:i<0}function B1(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var di=function(e,t,n,i,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function GS(e,t,n,i,o,s,u,l){return new di(e,t,n,i,o,s,u,l)}function xc(e){return new di(e)}function hf(e){return!Qo(e.limit)&&e.limitType==="F"}function jf(e){return!Qo(e.limit)&&e.limitType==="L"}function uy(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function cy(e){for(var t=0,n=e.filters;t<n.length;t++){var i=n[t];if(i.g())return i.field}return null}function ly(e){return e.collectionGroup!==null}function ra(e){var t=se(e);if(t.p===null){t.p=[];var n=cy(t),i=uy(t);if(n!==null&&i===null)n.isKeyField()||t.p.push(new qs(n)),t.p.push(new qs(Rr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new qs(Rr.keyField(),f))}}}return t.p}function Yr(e){var t=se(e);if(!t.T)if(t.limitType==="F")t.T=U1(t.path,t.collectionGroup,ra(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],i=0,o=ra(t);i<o.length;i++){var s=o[i],u=s.dir==="desc"?"asc":"desc";n.push(new qs(s.field,u))}var l=t.endAt?new nc(t.endAt.position,!t.endAt.before):null,f=t.startAt?new nc(t.startAt.position,!t.startAt.before):null;t.T=U1(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function zS(e,t,n){return new di(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Cc(e,t){return Oh(Yr(e),Yr(t))&&e.limitType===t.limitType}function WS(e){return kc(Yr(e))+"|lt:"+e.limitType}function Vg(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+sy(o.value);var o}).join(", ")+"]"),Qo(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Uf(t.startAt)),t.endAt&&(n+=", endAt: "+Uf(t.endAt)),"Target("+n+")"}(Yr(e))+"; limitType="+e.limitType+")"}function Rc(e,t){return t.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):be.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,i){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&i.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,i){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!j1(n.startAt,ra(n),i))&&(!n.endAt||!j1(n.endAt,ra(n),i))}(e,t)}function XS(e){return function(t,n){for(var i=!1,o=0,s=ra(e);o<s.length;o++){var u=s[o],l=d2(u,t,n);if(l!==0)return l;i=i||u.field.isKeyField()}return 0}}function d2(e,t,n){var i=e.field.isKeyField()?be.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),f=u.data.field(o);return l!==null&&f!==null?na(l,f):_e()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mf(t)?"-0":t}}function QS(e){return{integerValue:""+e}}function JS(e,t){return $S(t)?QS(t):YS(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ph=function(){this._=void 0};function p2(e,t,n){return e instanceof ia?function(i,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Ko?eA(e,t):e instanceof Go?tA(e,t):function(i,o){var s=ZS(i,o),u=q1(s)+q1(i.A);return Fg(s)&&Fg(i.A)?QS(u):YS(i.R,u)}(e,t)}function m2(e,t,n){return e instanceof Ko?eA(e,t):e instanceof Go?tA(e,t):n}function ZS(e,t){return e instanceof oa?Fg(n=t)||function(i){return!!i&&"doubleValue"in i}(n)?t:{integerValue:0}:null;var n}var ia=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t}(Ph),Ko=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Se(t,e),t}(Ph);function eA(e,t){for(var n=nA(t),i=function(u){n.some(function(l){return Xr(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var Go=function(e){function t(n){var i=this;return(i=e.call(this)||this).elements=n,i}return Se(t,e),t}(Ph);function tA(e,t){for(var n=nA(t),i=function(u){n=n.filter(function(l){return!Xr(l,u)})},o=0,s=e.elements;o<s.length;o++)i(s[o]);return{arrayValue:{values:n}}}var oa=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).R=n,o.A=i,o}return Se(t,e),t}(Ph);function q1(e){return Ut(e.integerValue||e.doubleValue)}function nA(e){return ay(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nc=function(e,t){this.field=e,this.transform=t},g2=function(e,t){this.version=e,this.transformResults=t},gn=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function df(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Dh=function(){};function v2(e,t,n){e instanceof Oc?function(i,o,s){var u=i.value.clone(),l=K1(i.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof Yi?function(i,o,s){if(df(i.precondition,o)){var u=K1(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(rA(i)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function Ug(e,t,n){e instanceof Oc?function(i,o,s){if(df(i.precondition,o)){var u=i.value.clone(),l=G1(i.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(H1(o),u).setHasLocalMutations()}}(e,t,n):e instanceof Yi?function(i,o,s){if(df(i.precondition,o)){var u=G1(i.fieldTransforms,s,o),l=o.data;l.setAll(rA(i)),l.setAll(u),o.convertToFoundDocument(H1(o),l).setHasLocalMutations()}}(e,t,n):function(i,o){df(i.precondition,o)&&o.convertToNoDocument(He.min())}(e,t)}function y2(e,t){for(var n=null,i=0,o=e.fieldTransforms;i<o.length;i++){var s=o[i],u=t.data.field(s.field),l=ZS(s.transform,u||null);l!=null&&(n==null&&(n=er.empty()),n.set(s.field,l))}return n||null}function $1(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Zs(n,i,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(f,p){return f instanceof Ko&&p instanceof Ko||f instanceof Go&&p instanceof Go?Zs(f.elements,p.elements,Xr):f instanceof oa&&p instanceof oa?Xr(f.A,p.A):f instanceof ia&&p instanceof ia}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function H1(e){return e.isFoundDocument()?e.version:He.min()}var Oc=function(e){function t(n,i,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=i,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Se(t,e),t}(Dh),Yi=function(e){function t(n,i,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return Se(t,e),t}(Dh);function rA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=e.data.field(n);t.set(n,i)}}),t}function K1(e,t,n){var i=new Map;Re(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);i.set(s.field,m2(u,l,n[o]))}return i}function G1(e,t,n){for(var i=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,f=n.data.field(u.field);i.set(u.field,p2(l,f,t))}return i}var Vt,Qe,Pc=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Se(t,e),t}(Dh),fy=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Se(t,e),t}(Dh),_2=function(e){this.count=e};function iA(e){switch(e){case M.OK:return _e();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return _e()}}function oA(e){if(e===void 0)return Bt("GRPC error has no .code"),M.UNKNOWN;switch(e){case Vt.OK:return M.OK;case Vt.CANCELLED:return M.CANCELLED;case Vt.UNKNOWN:return M.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return M.INTERNAL;case Vt.UNAVAILABLE:return M.UNAVAILABLE;case Vt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Vt.NOT_FOUND:return M.NOT_FOUND;case Vt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Vt.ABORTED:return M.ABORTED;case Vt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Vt.DATA_LOSS:return M.DATA_LOSS;default:return _e()}}(Qe=Vt||(Vt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n=function(){function e(t,n){this.comparator=t,this.root=n||Di.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Di.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Di.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(t,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,i){return t(n,i),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,i){return t.push(n+":"+i),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new Yl(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new Yl(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Yl(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new Yl(this.root,t,this.comparator,!0)},e}(),Yl=function(){function e(t,n,i,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?i(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),Di=function(){function e(t,n,i,o,s){this.key=t,this.value=n,this.color=i??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,i,o,s){return new e(t??this.key,n??this.value,i??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,i){var o=this,s=i(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,i),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,i))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var i,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();var t=this.left.check();if(t!==this.right.check())throw _e();return t+(this.isRed()?0:1)},e}();Di.EMPTY=null,Di.RED=!0,Di.BLACK=!1,Di.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw _e()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,i,o,s){return this},e.prototype.insert=function(t,n,i){return new Di(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){function e(t){this.comparator=t,this.data=new _n(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var i=this.data.getIteratorFrom(t[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new z1(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new z1(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(i){n=n.add(i)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),i=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),z1=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),w2=new _n(be.comparator);function xr(){return w2}var b2=new _n(be.comparator);function jg(){return b2}var I2=new _n(be.comparator);function E2(){return I2}var T2=new Yt(be.comparator);function mt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=T2,i=0,o=e;i<o.length;i++){var s=o[i];n=n.add(s)}return n}var S2=new Yt(Xe);function Lh(){return S2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hy=function(){function e(t,n,i,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var i=new Map;return i.set(t,dy.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(He.min(),i,Lh(),xr(),mt())},e}(),dy=function(){function e(t,n,i,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(qn.EMPTY_BYTE_STRING,n,mt(),mt(),mt())},e}(),pf=function(e,t,n,i){this.v=e,this.removedTargetIds=t,this.key=n,this.P=i},sA=function(e,t){this.targetId=e,this.V=t},aA=function(e,t,n,i){n===void 0&&(n=qn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i},W1=function(){function e(){this.S=0,this.D=Y1(),this.C=qn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=mt(),n=mt(),i=mt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:_e()}}),new dy(this.C,this.N,t,n,i)},e.prototype.L=function(){this.k=!1,this.D=Y1()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),A2=function(){function e(t){this.W=t,this.G=new Map,this.H=xr(),this.J=X1(),this.Y=new Yt(Xe)}return e.prototype.X=function(t){for(var n=0,i=t.v;n<i.length;n++){var o=i[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(i){var o=n.nt(i);switch(t.state){case 0:n.st(i)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(t.resumeToken));break;default:_e()}})},e.prototype.forEachTarget=function(t,n){var i=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){i.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,i=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Vf(s))if(i===0){var u=new be(s.path);this.tt(n,u,yn.newNoDocument(u,He.min()))}else Re(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,i=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&Vf(f.target)){var p=new be(f.target.path);n.H.get(p)!==null||n.at(l,p)||n.tt(l,p,yn.newNoDocument(p,t))}u.$&&(i.set(l,u.M()),u.L())}});var o=mt();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(p){var g=n.ot(p);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new hy(t,i,this.Y,this.H,o);return this.H=xr(),this.J=X1(),this.Y=new Yt(Xe),s},e.prototype.Z=function(t,n){if(this.st(t)){var i=this.at(t,n.key)?2:0;this.nt(t).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,i){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),i&&(this.H=this.H.insert(n,i))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new W1,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Yt(Xe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new W1),this.W.getRemoteKeysForTarget(t).forEach(function(i){n.tt(t,i,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function X1(){return new _n(be.comparator)}function Y1(){return new _n(be.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k2={asc:"ASCENDING",desc:"DESCENDING"},x2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2=function(e,t){this.databaseId=e,this.I=t};function rc(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function uA(e,t){return e.I?t.toBase64():t.toUint8Array()}function R2(e,t){return rc(e,t.toTimestamp())}function Rn(e){return Re(!!e),He.fromTimestamp(function(t){var n=Ki(t);return new jn(n.seconds,n.nanos)}(e))}function py(e,t){return function(n){return new ot(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function cA(e){var t=ot.fromString(e);return Re(gA(t)),t}function ic(e,t){return py(e.databaseId,t.path)}function si(e,t){var n=cA(t);if(n.get(1)!==e.databaseId.projectId)throw new X(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(fA(n))}function Bg(e,t){return py(e.databaseId,t)}function lA(e){var t=cA(e);return t.length===4?ot.emptyPath():fA(t)}function oc(e){return new ot(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fA(e){return Re(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Q1(e,t,n){return{name:ic(e,t),fields:n.value.mapValue.fields}}function N2(e,t,n){var i=si(e,t.name),o=Rn(t.updateTime),s=new er({mapValue:{fields:t.fields}}),u=yn.newFoundDocument(i,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Bf(e,t){var n;if(t instanceof Oc)n={update:Q1(e,t.key,t.value)};else if(t instanceof Pc)n={delete:ic(e,t.key)};else if(t instanceof Yi)n={update:Q1(e,t.key,t.data),updateMask:M2(t.fieldMask)};else{if(!(t instanceof fy))return _e();n={verify:ic(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(i){return function(o,s){var u=s.transform;if(u instanceof ia)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Ko)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Go)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof oa)return{fieldPath:s.field.canonicalString(),increment:u.A};throw _e()}(0,i)})),t.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:R2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(e,t.precondition)),n}function J1(e,t){var n=t.currentDocument?function(p){return p.updateTime!==void 0?gn.updateTime(Rn(p.updateTime)):p.exists!==void 0?gn.exists(p.exists):gn.none()}(t.currentDocument):gn.none(),i=t.updateTransforms?t.updateTransforms.map(function(p){return function(g,h){var m=null;if("setToServerValue"in h)Re(h.setToServerValue==="REQUEST_TIME"),m=new ia;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];m=new Ko(y)}else if("removeAllFromArray"in h){var _=h.removeAllFromArray.values||[];m=new Go(_)}else"increment"in h?m=new oa(g,h.increment):_e();var I=Rr.fromServerFormat(h.fieldPath);return new Nc(I,m)}(e,p)}):[];if(t.update){t.update.name;var o=si(e,t.update.name),s=new er({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(p){var g=p.fieldPaths||[];return new ea(g.map(function(h){return Rr.fromServerFormat(h)}))}(t.updateMask);return new Yi(o,s,u,n,i)}return new Oc(o,s,n,i)}if(t.delete){var l=si(e,t.delete);return new Pc(l,n)}if(t.verify){var f=si(e,t.verify);return new fy(f,n)}return _e()}function hA(e,t){return{documents:[Bg(e,t.path)]}}function dA(e,t){var n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Bg(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bg(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(p){return function(g){if(g.op==="=="){if(V1(g.value))return{unaryFilter:{field:xs(g.field),op:"IS_NAN"}};if(F1(g.value))return{unaryFilter:{field:xs(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(V1(g.value))return{unaryFilter:{field:xs(g.field),op:"IS_NOT_NAN"}};if(F1(g.value))return{unaryFilter:{field:xs(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(g.field),op:P2(g.op),value:g.value}}}(p)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(p){return{field:xs(p.field),direction:O2(p.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,f){return l.I||Qo(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=Z1(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Z1(t.endAt)),n}function pA(e){var t=lA(e.parent),n=e.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Re(i===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=mA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(m){return new qs(Fs(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)}));var f=null;n.limit&&(f=function(h){var m;return Qo(m=typeof h=="object"?h.value:h)?null:m}(n.limit));var p=null;n.startAt&&(p=eI(n.startAt));var g=null;return n.endAt&&(g=eI(n.endAt)),GS(t,o,l,u,f,"F",p,g)}function mA(e){return e?e.unaryFilter!==void 0?[L2(e)]:e.fieldFilter!==void 0?[D2(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return mA(t)}).reduce(function(t,n){return t.concat(n)}):_e():[]}function Z1(e){return{before:e.before,values:e.position}}function eI(e){var t=!!e.before,n=e.values||[];return new nc(n,t)}function O2(e){return k2[e]}function P2(e){return x2[e]}function xs(e){return{fieldPath:e.canonicalString()}}function Fs(e){return Rr.fromServerFormat(e.fieldPath)}function D2(e){return rr.create(Fs(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _e()}}(e.fieldFilter.op),e.fieldFilter.value)}function L2(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Fs(e.unaryFilter.field);return rr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Fs(e.unaryFilter.field);return rr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Fs(e.unaryFilter.field);return rr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Fs(e.unaryFilter.field);return rr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _e()}}function M2(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function gA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=tI(t)),t=F2(e.get(n),t);return tI(t)}function F2(e,t){for(var n=t,i=e.length,o=0;o<i;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function tI(e){return e+""}function oi(e){var t=e.length;if(Re(t>=2),t===2)return Re(e.charAt(0)===""&&e.charAt(1)===""),ot.emptyPath();for(var n=t-2,i=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&_e(),e.charAt(u+1)){case"":var l=e.substring(s,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:_e()}s=u+2}return new ot(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var V2=function(e,t){this.seconds=e,this.nanoseconds=t},Jn=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Jn.store="owner",Jn.key="owner";var qi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};qi.store="mutationQueues",qi.keyPath="userId";var yt=function(e,t,n,i,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};yt.store="mutations",yt.keyPath="batchId",yt.userMutationsIndex="userMutationsIndex",yt.userMutationsKeyPath=["userId","batchId"];var dn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Cr(n)]},e.key=function(t,n,i){return[t,Cr(n),i]},e}();dn.store="documentMutations",dn.PLACEHOLDER=new dn;var U2=function(e,t){this.path=e,this.readTime=t},j2=function(e,t){this.path=e,this.version=t},Nt=function(e,t,n,i,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=s};Nt.store="remoteDocuments",Nt.readTimeIndex="readTimeIndex",Nt.readTimeIndexPath="readTime",Nt.collectionReadTimeIndex="collectionReadTimeIndex",Nt.collectionReadTimeIndexPath=["parentPath","readTime"];var Hr=function(e){this.byteSize=e};Hr.store="remoteDocumentGlobal",Hr.key="remoteDocumentGlobalKey";var Un=function(e,t,n,i,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};Un.store="targets",Un.keyPath="targetId",Un.queryTargetsIndexName="queryTargetsIndex",Un.queryTargetsKeyPath=["canonicalId","targetId"];var sn=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};sn.store="targetDocuments",sn.keyPath=["targetId","path"],sn.documentTargetsIndex="documentTargetsIndex",sn.documentTargetsKeyPath=["path","targetId"];var Zn=function(e,t,n,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Zn.key="targetGlobalKey",Zn.store="targetGlobal";var Mo=function(e,t){this.collectionId=e,this.parent=t};Mo.store="collectionParents",Mo.keyPath=["collectionId","parent"];var ai=function(e,t,n,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=i};ai.store="clientMetadata",ai.keyPath="clientId";var sa=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};sa.store="bundles",sa.keyPath="bundleId";var aa=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};aa.store="namedQueries",aa.keyPath="name";var B2=Tt(Tt([],Tt(Tt([],Tt(Tt([],Tt(Tt([],[qi.store,yt.store,dn.store,Nt.store,Un.store,Jn.store,Zn.store,sn.store]),[ai.store])),[Hr.store])),[Mo.store])),[sa.store,aa.store]),vA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",yA=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),$n=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var i=this;return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){i.nextCallback=function(u){i.wrapSuccess(t,u).next(o,s)},i.catchCallback=function(u){i.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,i){t.next(n,i)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(i){return e.reject(i)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,i){n(t)})},e.reject=function(t){return new e(function(n,i){i(t)})},e.waitFor=function(t){return new e(function(n,i){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(f){return i(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),i=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)i(s[o]);return n},e.forEach=function(t,n){var i=this,o=[];return t.forEach(function(s,u){o.push(n.call(i,s,u))}),this.waitFor(o)},e}(),_A=function(){function e(t,n){var i=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new $n,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new Pu(t,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var s=my(o.target.error);i.ft.reject(new Pu(t,s))}}return e.open=function(t,n,i,o){try{return new e(n,t.transaction(o,i))}catch(s){throw new Pu(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new $2(n)},e}(),ua=function(){function e(t,n,i){this.name=t,this.version=n,this.wt=i,e._t(Bo())===12.2&&Bt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),ko(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Bo(),n=e._t(t),i=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var p=f.target.result;s(p)},l.onblocked=function(){u(new Pu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var p=f.target.error;p.name==="VersionError"?u(new X(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Pu(t,p))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var p=f.target.result;i.wt.Rt(p,l.transaction,f.oldVersion,i.version).next(function(){re("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return i.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,i,o){return H(this,void 0,void 0,function(){var s,u,l,f,p;return q(this,function(g){switch(g.label){case 0:s=n==="readonly",u=0,l=function(){var h,m,y,_,I;return q(this,function(E){switch(E.label){case 0:++u,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=E.sent(),h=_A.open(f.db,t,s?"readonly":"readwrite",i),m=o(h).catch(function(T){return h.abort(T),ee.reject(T)}).toPromise(),y={},m.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(E.sent(),m),y)];case 4:return _=E.sent(),I=_.name!=="FirebaseError"&&u<3,re("SimpleDb","Transaction failed with error:",_.message,"Retrying:",I),f.close(),I?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(p=g.sent())=="object")return[2,p.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),q2=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return ko(this.Pt.delete())},e}(),Pu=function(e){function t(n,i){var o=this;return(o=e.call(this,M.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Se(t,e),t}(X);function Jo(e){return e.name==="IndexedDbTransactionError"}var $2=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var i;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),i=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ko(i)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),ko(this.store.add(t))},e.prototype.get=function(t){var n=this;return ko(this.store.get(t)).next(function(i){return i===void 0&&(i=null),re("SimpleDb","GET",n.store.name,t,i),i})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),ko(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),ko(this.store.count())},e.prototype.Nt=function(t,n){var i=this.cursor(this.options(t,n)),o=[];return this.xt(i,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var i=this.options(t,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var i;n?i=t:(i={},n=t);var o=this.cursor(i);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(i,o){n.onerror=function(s){var u=my(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():i()}):i()}})},e.prototype.xt=function(t,n){var i=[];return new ee(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new q2(l),p=n(l.primaryKey,l.value,f);if(p instanceof ee){var g=p.catch(function(h){return f.done(),ee.reject(h)});i.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(i)})},e.prototype.options=function(t,n){var i;return t!==void 0&&(typeof t=="string"?i=t:n=t),{index:i,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var i=this.store.index(t.index);return t.Ft?i.openKeyCursor(t.range,n):i.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function ko(e){return new ee(function(t,n){e.onsuccess=function(i){var o=i.target.result;t(o)},e.onerror=function(i){var o=my(i.target.error);n(o)}})}var nI=!1;function my(e){var t=ua._t(Bo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var i=new X("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return nI||(nI=!0,setTimeout(function(){throw i},0)),i}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rI=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Se(t,e),t}(yA);function Hn(e,t){var n=se(e);return ua.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gy=function(){function e(t,n,i,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&v2(s,t,i[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,i=this.baseMutations;n<i.length;n++)(u=i[n]).key.isEqual(t.key)&&Ug(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&Ug(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(i){var o=t.get(i.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(He.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},mt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&Zs(this.mutations,t.mutations,function(n,i){return $1(n,i)})&&Zs(this.baseMutations,t.baseMutations,function(n,i){return $1(n,i)})},e}(),H2=function(){function e(t,n,i,o){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return e.from=function(t,n,i){Re(t.mutations.length===i.length);for(var o=E2(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,i[u].version);return new e(t,n,i,o)},e}(),Mh=function(){function e(t,n,i,o,s,u,l){s===void 0&&(s=He.min()),u===void 0&&(u=He.min()),l===void 0&&(l=qn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),wA=function(e){this.Lt=e};function qg(e,t){if(t.document)return N2(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=be.fromSegments(t.noDocument.path),i=la(t.noDocument.readTime),o=yn.newNoDocument(n,i);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=be.fromSegments(t.unknownDocument.path);return i=la(t.unknownDocument.version),yn.newUnknownDocument(s,i)}return _e()}function iI(e,t,n){var i=vy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,m){return{name:ic(h,m.key),fields:m.data.value.mapValue.fields,updateTime:rc(h,m.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Nt(null,null,s,u,i,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=ca(t.version);return u=t.hasCommittedMutations,new Nt(null,new U2(l,f),null,u,i,o)}if(t.isUnknownDocument()){var p=t.key.path.toArray(),g=ca(t.version);return new Nt(new j2(p,g),null,null,!0,i,o)}return _e()}function vy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function bA(e){var t=new jn(e[0],e[1]);return He.fromTimestamp(t)}function ca(e){var t=e.toTimestamp();return new V2(t.seconds,t.nanoseconds)}function la(e){var t=new jn(e.seconds,e.nanoseconds);return He.fromTimestamp(t)}function Ps(e,t){for(var n=(t.baseMutations||[]).map(function(f){return J1(e.Lt,f)}),i=0;i<t.mutations.length-1;++i){var o=t.mutations[i];if(i+1<t.mutations.length&&t.mutations[i+1].transform!==void 0){var s=t.mutations[i+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(i+1,1),++i}}var u=t.mutations.map(function(f){return J1(e.Lt,f)}),l=jn.fromMillis(t.localWriteTimeMs);return new gy(t.batchId,l,n,u)}function Su(e){var t,n,i=la(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?la(e.lastLimboFreeSnapshotVersion):He.min();return e.query.documents!==void 0?(Re((n=e.query).documents.length===1),t=Yr(xc(lA(n.documents[0])))):t=function(s){return Yr(pA(s))}(e.query),new Mh(t,e.targetId,0,e.lastListenSequenceNumber,i,o,qn.fromBase64String(e.resumeToken))}function IA(e,t){var n,i=ca(t.snapshotVersion),o=ca(t.lastLimboFreeSnapshotVersion);n=Vf(t.target)?hA(e.Lt,t.target):dA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new Un(t.targetId,kc(t.target),i,s,t.sequenceNumber,o,n)}function EA(e){var t=pA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?zS(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K2=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return oI(t).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:la(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return oI(t).put({bundleId:(i=n).id,createTime:ca(Rn(i.createTime)),version:i.version});var i},e.prototype.getNamedQuery=function(t,n){return sI(t).get(n).next(function(i){if(i)return{name:(o=i).name,query:EA(o.bundledQuery),readTime:la(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return sI(t).put(function(i){return{name:i.name,readTime:ca(Rn(i.readTime)),bundledQuery:i.bundledQuery}}(n))},e}();function oI(e){return Hn(e,sa.store)}function sI(e){return Hn(e,aa.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G2=function(){function e(){this.Bt=new yy}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),yy=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n]||new Yt(ot.comparator),s=!o.has(i);return this.index[n]=o.add(i),s},e.prototype.has=function(t){var n=t.lastSegment(),i=t.popLast(),o=this.index[n];return o&&o.has(i)},e.prototype.getEntries=function(t){return(this.index[t]||new Yt(ot.comparator)).toArray()},e}(),z2=function(){function e(){this.qt=new yy}return e.prototype.addToCollectionParentIndex=function(t,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){i.qt.add(n)});var u={collectionId:o,parent:Cr(s)};return aI(t).put(u)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var i=[],o=IDBKeyRange.bound([n,""],[US(n),""],!1,!0);return aI(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;i.push(oi(f.parent))}return i})},e}();function aI(e){return Hn(e,Mo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jr=function(){function e(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(e,t,n){var i=e.store(yt.store),o=e.store(dn.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:u},function(_,I,E){return l++,E.delete()});s.push(f.next(function(){Re(l===1)}));for(var p=[],g=0,h=n.mutations;g<h.length;g++){var m=h[g],y=dn.key(t,m.key.path,n.batchId);s.push(o.delete(y)),p.push(m.key)}return ee.waitFor(s).next(function(){return p})}function qf(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _e();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);var W2=function(){function e(t,n,i,o){this.userId=t,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,i,o){return Re(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,i,o)},e.prototype.checkEmpty=function(t){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ai(t).$t({index:yt.userMutationsIndex,range:i},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,i,o){var s=this,u=Ds(t),l=Ai(t);return l.add({}).next(function(f){Re(typeof f=="number");for(var p=new gy(f,n,i,o),g=function(T,C,D){var F=D.baseMutations.map(function(V){return Bf(T.Lt,V)}),J=D.mutations.map(function(V){return Bf(T.Lt,V)});return new yt(C,D.batchId,D.localWriteTime.toMillis(),F,J)}(s.R,s.userId,p),h=[],m=new Yt(function(T,C){return Xe(T.canonicalString(),C.canonicalString())}),y=0,_=o;y<_.length;y++){var I=_[y],E=dn.key(s.userId,I.key.path,f);m=m.add(I.key.path.popLast()),h.push(l.put(g)),h.push(u.put(E,dn.PLACEHOLDER))}return m.forEach(function(T){h.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[f]=p.keys()}),ee.waitFor(h).next(function(){return p})})},e.prototype.lookupMutationBatch=function(t,n){var i=this;return Ai(t).get(n).next(function(o){return o?(Re(o.userId===i.userId),Ps(i.R,o)):null})},e.prototype.jt=function(t,n){var i=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return i.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Ai(t).$t({index:yt.userMutationsIndex,range:s},function(l,f,p){f.userId===i.userId&&(Re(f.batchId>=o),u=Ps(i.R,f)),p.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return Ai(t).$t({index:yt.userMutationsIndex,range:n,reverse:!0},function(o,s,u){i=s.batchId,u.done()}).next(function(){return i})},e.prototype.getAllMutationBatches=function(t){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ai(t).Nt(yt.userMutationsIndex,i).next(function(o){return o.map(function(s){return Ps(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=dn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return Ds(t).$t({range:s},function(l,f,p){var g=l[0],h=l[1],m=l[2],y=oi(h);if(g===i.userId&&n.path.isEqual(y))return Ai(t).get(m).next(function(_){if(!_)throw _e();Re(_.userId===i.userId),u.push(Ps(i.R,_))});p.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Yt(Xe),s=[];return n.forEach(function(u){var l=dn.prefixForPath(i.userId,u.path),f=IDBKeyRange.lowerBound(l),p=Ds(t).$t({range:f},function(g,h,m){var y=g[0],_=g[1],I=g[2],E=oi(_);y===i.userId&&u.path.isEqual(E)?o=o.add(I):m.done()});s.push(p)}),ee.waitFor(s).next(function(){return i.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=this,o=n.path,s=o.length+1,u=dn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new Yt(Xe);return Ds(t).$t({range:l},function(p,g,h){var m=p[0],y=p[1],_=p[2],I=oi(y);m===i.userId&&o.isPrefixOf(I)?I.length===s&&(f=f.add(_)):h.done()}).next(function(){return i.Wt(t,f)})},e.prototype.Wt=function(t,n){var i=this,o=[],s=[];return n.forEach(function(u){s.push(Ai(t).get(u).next(function(l){if(l===null)throw _e();Re(l.userId===i.userId),o.push(Ps(i.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var i=this;return TA(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){i.Gt(n.batchId)}),ee.forEach(o,function(s){return i.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(i){if(!i)return ee.resolve();var o=IDBKeyRange.lowerBound(dn.prefixForUser(n.userId)),s=[];return Ds(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var p=oi(u[1]);s.push(p)}else f.done()}).next(function(){Re(s.length===0)})})},e.prototype.containsKey=function(t,n){return SA(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return AA(t).get(this.userId).next(function(i){return i||new qi(n.userId,-1,"")})},e}();function SA(e,t,n){var i=dn.prefixForPath(t,n.path),o=i[1],s=IDBKeyRange.lowerBound(i),u=!1;return Ds(e).$t({range:s,Ft:!0},function(l,f,p){var g=l[0],h=l[1];l[2],g===t&&h===o&&(u=!0),p.done()}).next(function(){return u})}function Ai(e){return Hn(e,yt.store)}function Ds(e){return Hn(e,dn.store)}function AA(e){return Hn(e,qi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $f=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),X2=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(i){var o=new $f(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(t,i).next(function(){return i.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return He.fromTimestamp(new jn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,i){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var i=this;return this.te(t,n).next(function(){return i.Xt(t).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var i=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Cs(t).delete(n.targetId)}).next(function(){return i.Xt(t)}).next(function(o){return Re(o.targetCount>0),o.targetCount-=1,i.Zt(t,o)})},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,u=[];return Cs(t).$t(function(l,f){var p=Su(f);p.sequenceNumber<=n&&i.get(p.targetId)===null&&(s++,u.push(o.removeTargetData(t,p)))}).next(function(){return ee.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Cs(t).$t(function(i,o){var s=Su(o);n(s)})},e.prototype.Xt=function(t){return cI(t).get(Zn.key).next(function(n){return Re(n!==null),n})},e.prototype.Zt=function(t,n){return cI(t).put(Zn.key,n)},e.prototype.te=function(t,n){return Cs(t).put(IA(this.R,n))},e.prototype.ee=function(t,n){var i=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,i=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,i=!0),i},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var i=kc(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),s=null;return Cs(t).$t({range:o,index:Un.queryTargetsIndexName},function(u,l,f){var p=Su(l);Oh(n,p.target)&&(s=p,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,i){var o=this,s=[],u=Li(t);return n.forEach(function(l){var f=Cr(l.path);s.push(u.put(new sn(i,f))),s.push(o.referenceDelegate.addReference(t,i,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,i){var o=this,s=Li(t);return ee.forEach(n,function(u){var l=Cr(u.path);return ee.waitFor([s.delete([i,l]),o.referenceDelegate.removeReference(t,i,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var i=Li(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Li(t),s=mt();return o.$t({range:i,Ft:!0},function(u,l,f){var p=oi(u[1]),g=new be(p);s=s.add(g)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var i=Cr(n.path),o=IDBKeyRange.bound([i],[US(i)],!1,!0),s=0;return Li(t).$t({index:sn.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var p=u[0];u[1],p!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Cs(t).get(n).next(function(i){return i?Su(i):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e){return Hn(e,Un.store)}function cI(e){return Hn(e,Zn.store)}function Li(e){return Hn(e,sn.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(e){return H(this,void 0,void 0,function(){return q(this,function(t){if(e.code!==M.FAILED_PRECONDITION||e.message!==vA)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(e,t){var n=e[0],i=e[1],o=t[0],s=t[1],u=Xe(n,o);return u===0?Xe(i,s):u}var Y2=function(){function e(t){this.ne=t,this.buffer=new Yt(lI),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();lI(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),Q2=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,i=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return H(n,void 0,void 0,function(){var o;return q(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return Jo(o=s.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Zo(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),J2=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(i){return Math.floor(n/100*i)})},e.prototype.nthSequenceNumber=function(t,n){var i=this;if(n===0)return ee.resolve(nr.o);var o=new Y2(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return i.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,i){return this.ae.removeTargets(t,n,i)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(uI)):this.getCacheSize(t).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),uI):i.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var i,o,s,u,l,f,p,g=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(m){return m>g.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+m),o=g.params.maximumSequenceNumbersToCollect):o=m,u=Date.now(),g.nthSequenceNumber(t,o)}).next(function(m){return i=m,l=Date.now(),g.removeTargets(t,i,n)}).next(function(m){return s=m,f=Date.now(),g.removeOrphanedDocuments(t,i)}).next(function(m){return p=Date.now(),Lg()<=nt.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+m+" documents in "+(p-f)+`ms
Total Duration: `+(p-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:m})})},e}(),Z2=function(){function e(t,n){this.db=t,this.garbageCollector=function(i,o){return new J2(i,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(i){return n.next(function(o){return i+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(i){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(i,o){return n(o)})},e.prototype.addReference=function(t,n,i){return Ql(t,i)},e.prototype.removeReference=function(t,n,i){return Ql(t,i)},e.prototype.removeTargets=function(t,n,i){return this.db.getTargetCache().removeTargets(t,n,i)},e.prototype.markPotentiallyOrphaned=function(t,n){return Ql(t,n)},e.prototype._e=function(t,n){return function(i,o){var s=!1;return AA(i).Ot(function(u){return SA(i,u,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,f){if(f<=n){var p=i._e(t,l).next(function(g){if(!g)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Li(t).delete([0,Cr(l.path)])})});s.push(p)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var i=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)},e.prototype.updateLimboDocument=function(t,n){return Ql(t,n)},e.prototype.we=function(t,n){var i,o=Li(t),s=nr.o;return o.$t({index:sn.documentTargetsIndex},function(u,l){var f=u[0];u[1];var p=l.path,g=l.sequenceNumber;f===0?(s!==nr.o&&n(new be(oi(i)),s),s=g,i=p):s=nr.o}).next(function(){s!==nr.o&&n(new be(oi(i)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function Ql(e,t){return Li(e).put(function(n,i){return new sn(0,Cr(n.path),i)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ta=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0)for(var o=0,s=i;o<s.length;o++){var u=s[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[i]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],t))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},e.prototype.forEach=function(t){Yo(this.inner,function(n,i){for(var o=0,s=i;o<s.length;o++){var u=s[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return jS(this.inner)},e}(),kA=function(){function e(){this.changes=new Ta(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:He.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:yn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?ee.resolve(i.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),eF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,i){return Ni(t).put(Jl(n),i)},e.prototype.removeEntry=function(t,n){var i=Ni(t),o=Jl(n);return i.delete(o)},e.prototype.updateMetadata=function(t,n){var i=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,i.me(t,o)})},e.prototype.getEntry=function(t,n){var i=this;return Ni(t).get(Jl(n)).next(function(o){return i.ye(n,o)})},e.prototype.ge=function(t,n){var i=this;return Ni(t).get(Jl(n)).next(function(o){return{document:i.ye(n,o),size:qf(o)}})},e.prototype.getEntries=function(t,n){var i=this,o=xr();return this.pe(t,n,function(s,u){var l=i.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var i=this,o=xr(),s=new _n(be.comparator);return this.pe(t,n,function(u,l){var f=i.ye(u,l);o=o.insert(u,f),s=s.insert(u,qf(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,i){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Ni(t).$t({range:o},function(l,f,p){for(var g=be.fromSegments(l);u&&be.comparator(u,g)<0;)i(u,null),u=s.getNext();u&&u.isEqual(g)&&(i(u,f),u=s.hasNext()?s.getNext():null),u?p.Ct(u.path.toArray()):p.done()}).next(function(){for(;u;)i(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){var o=this,s=xr(),u=n.path.length+1,l={};if(i.isEqual(He.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var p=n.path.toArray(),g=vy(i);l.range=IDBKeyRange.lowerBound([p,g],!0),l.index=Nt.collectionReadTimeIndex}return Ni(t).$t(l,function(h,m,y){if(h.length===u){var _=qg(o.R,m);n.path.isPrefixOf(_.key.path)?Rc(n,_)&&(s=s.insert(_.key,_)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new tF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return fI(t).get(Hr.key).next(function(n){return Re(!!n),n})},e.prototype.me=function(t,n){return fI(t).put(Hr.key,n)},e.prototype.ye=function(t,n){if(n){var i=qg(this.R,n);if(!i.isNoDocument()||!i.version.isEqual(He.min()))return i}return yn.newInvalidDocument(t)},e}(),tF=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new Ta(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Se(t,e),t.prototype.applyChanges=function(n){var i=this,o=[],s=0,u=new Yt(function(l,f){return Xe(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var p=i.Ae.get(l);if(f.document.isValidDocument()){var g=iI(i.Ie.R,f.document,i.getReadTime(l));u=u.add(l.path.popLast());var h=qf(g);s+=h-p,o.push(i.Ie.addEntry(n,l,g))}else if(s-=p,i.trackRemovals){var m=iI(i.Ie.R,yn.newNoDocument(l,He.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,m))}else o.push(i.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(s){return o.Ae.set(i,s.size),s.document})},t.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(s){var u=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(kA);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(e){return Hn(e,Hr.store)}function Ni(e){return Hn(e,Nt.store)}function Jl(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,i,o){var s=this;Re(i<o&&i>=0&&o<=11);var u=new _A("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore(Jn.store)}(t),function(f){f.createObjectStore(qi.store,{keyPath:qi.keyPath}),f.createObjectStore(yt.store,{keyPath:yt.keyPath,autoIncrement:!0}).createIndex(yt.userMutationsIndex,yt.userMutationsKeyPath,{unique:!0}),f.createObjectStore(dn.store)}(t),hI(t),function(f){f.createObjectStore(Nt.store)}(t));var l=ee.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(sn.store),f.deleteObjectStore(Un.store),f.deleteObjectStore(Zn.store)}(t),hI(t)),l=l.next(function(){return function(f){var p=f.store(Zn.store),g=new Zn(0,0,He.min().toTimestamp(),0);return p.put(Zn.key,g)}(u)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,p){return p.store(yt.store).Nt().next(function(g){f.deleteObjectStore(yt.store),f.createObjectStore(yt.store,{keyPath:yt.keyPath,autoIncrement:!0}).createIndex(yt.userMutationsIndex,yt.userMutationsKeyPath,{unique:!0});var h=p.store(yt.store),m=g.map(function(y){return h.put(y)});return ee.waitFor(m)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(ai.store,{keyPath:ai.keyPath})})(t)})),i<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Hr.store)}(t),s.be(u)})),i<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),i<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var p=f.objectStore(Nt.store);p.createIndex(Nt.readTimeIndex,Nt.readTimeIndexPath,{unique:!1}),p.createIndex(Nt.collectionReadTimeIndex,Nt.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(sa.store,{keyPath:sa.keyPath})})(t),function(f){f.createObjectStore(aa.store,{keyPath:aa.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Nt.store).$t(function(i,o){n+=qf(o)}).next(function(){var i=new Hr(n);return t.store(Hr.store).put(Hr.key,i)})},e.prototype.Re=function(t){var n=this,i=t.store(qi.store),o=t.store(yt.store);return i.Nt().next(function(s){return ee.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(yt.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(p){Re(p.userId===u.userId);var g=Ps(n.R,p);return TA(t,u.userId,g).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(sn.store),i=t.store(Nt.store);return t.store(Zn.store).get(Zn.key).next(function(o){var s=[];return i.$t(function(u,l){var f=new ot(u),p=function(g){return[0,Cr(g)]}(f);s.push(n.get(p).next(function(g){return g?ee.resolve():function(h){return n.put(new sn(0,Cr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(Mo.store,{keyPath:Mo.keyPath});var i=n.store(Mo.store),o=new yy,s=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return i.put({collectionId:l,parent:Cr(f)})}};return n.store(Nt.store).$t({Ft:!0},function(u,l){var f=new ot(u);return s(f.popLast())}).next(function(){return n.store(dn.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var p=oi(f);return s(p.popLast())})})},e.prototype.Ve=function(t){var n=this,i=t.store(Un.store);return i.$t(function(o,s){var u=Su(s),l=IA(n.R,u);return i.put(l)})},e}();function hI(e){e.createObjectStore(sn.store,{keyPath:sn.keyPath}).createIndex(sn.documentTargetsIndex,sn.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Un.store,{keyPath:Un.keyPath}).createIndex(Un.queryTargetsIndexName,Un.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Zn.store)}var Wm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rF=function(){function e(t,n,i,o,s,u,l,f,p,g){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=i,this.Se=s,this.window=u,this.document=l,this.De=p,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new X(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Z2(this,o),this.Le=n+"main",this.R=new wA(f),this.Be=new ua(this.Le,11,new nF(this.R)),this.qe=new X2(this.referenceDelegate,this.R),this.Ut=new z2,this.Ue=function(h,m){return new eF(h,m)}(this.R,this.Ut),this.Ke=new K2,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Bt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new X(M.FAILED_PRECONDITION,Wm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new nr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(i){return H(n,void 0,void 0,function(){return q(this,function(o){return this.started?[2,t(i)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(i){return H(n,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Zl(n).put(new ai(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(i){i||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(i){return t.isPrimary&&!i?t.Xe(n).next(function(){return!1}):!!i&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(Jo(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return vu(t).get(Jn.key).next(function(i){return ee.resolve(n.tn(i))})},e.prototype.en=function(t){return Zl(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s=this;return q(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Hn(l,ai.store);return f.Nt().next(function(p){var g=s.rn(p,18e5),h=p.filter(function(m){return g.indexOf(m)===-1});return ee.forEach(h,function(m){return f.delete(m.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,i=t;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):vu(t).get(Jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new X(M.FAILED_PRECONDITION,Wm);return!1}}return!(!n.networkEnabled||!n.inForeground)||Zl(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&re("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return q(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Jn.store,ai.store],function(i){var o=new rI(i,nr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var i=this;return t.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return Zl(n).Nt().next(function(i){return t.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return W2.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,B2,function(l){return s=new rI(l,o.Ne?o.Ne.next():nr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw Bt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new X(M.FAILED_PRECONDITION,vA);return i(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return i(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return vu(t).get(Jn.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new X(M.FAILED_PRECONDITION,Wm)})},e.prototype.Ze=function(t){var n=new Jn(this.clientId,this.allowTabSynchronization,Date.now());return vu(t).put(Jn.key,n)},e.yt=function(){return ua.yt()},e.prototype.Xe=function(t){var n=this,i=vu(t);return i.get(Jn.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),i.delete(Jn.key)):ee.resolve()})},e.prototype.sn=function(t,n){var i=Date.now();return!(t<i-n||t>i&&(Bt("Detected an update time that is in the future: "+t+" > "+i),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),lL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Bt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Bt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function vu(e){return Hn(e,Jn.store)}function Zl(e){return Hn(e,ai.store)}function _y(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var xA=function(){function e(t,n,i){this.Ue=t,this._n=n,this.Ut=i}return e.prototype.mn=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return i.yn(t,n,o)})},e.prototype.yn=function(t,n,i){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=i;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(i,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var i=this;return this.Ue.getEntries(t,n).next(function(o){return i.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return i.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,i){return function(o){return be.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):ly(n)?this.In(t,n,i):this.An(t,n,i)},e.prototype.Tn=function(t,n){return this.mn(t,new be(n)).next(function(i){var o=jg();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},e.prototype.In=function(t,n,i){var o=this,s=n.collectionGroup,u=jg();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var p=function(g,h){return new di(h,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(s));return o.An(t,p,i).next(function(g){g.forEach(function(h,m){u=u.insert(h,m)})})}).next(function(){return u})})},e.prototype.An=function(t,n,i){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,i).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(f){o=f;for(var p=0,g=s;p<g.length;p++)for(var h=g[p],m=0,y=h.mutations;m<y.length;m++){var _=y[m],I=_.key,E=o.get(I);E==null&&(E=yn.newInvalidDocument(I),o=o.insert(I,E)),Ug(_,E,h.localWriteTime),E.isFoundDocument()||(o=o.remove(I))}})}).next(function(){return o.forEach(function(l,f){Rc(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,i){for(var o=mt(),s=0,u=n;s<u.length;s++)for(var l=0,f=u[s].mutations;l<f.length;l++){var p=f[l];p instanceof Yi&&i.get(p.key)===null&&(o=o.add(p.key))}var g=i;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(m,y){y.isFoundDocument()&&(g=g.insert(m,y))}),g})},e}(),iF=function(){function e(t,n,i,o){this.targetId=t,this.fromCache=n,this.bn=i,this.vn=o}return e.Pn=function(t,n){for(var i=mt(),o=mt(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,i,o)},e}(),CA=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,i,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual(He.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(hf(n)||jf(n))&&s.Nn(n.limitType,l,o,i)?s.Dn(t,n):(Lg()<=nt.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vg(n)),s.Sn.getDocumentsMatchingQuery(t,n,i).next(function(f){return l.forEach(function(p){f=f.insert(p.key,p)}),f}))})},e.prototype.Cn=function(t,n){var i=new Yt(XS(t));return n.forEach(function(o,s){Rc(t,s)&&(i=i.add(s))}),i},e.prototype.Nn=function(t,n,i,o){if(i.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return Lg()<=nt.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",Vg(n)),this.Sn.getDocumentsMatchingQuery(t,n,He.min())},e}(),oF=function(){function e(t,n,i,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new _n(Xe),this.Fn=new Ta(function(s){return kc(s)},Oh),this.$n=He.min(),this._n=t.getMutationQueue(i),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new xA(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return t.collect(i,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(e,t,n,i){return new oF(e,t,n,i)}function NA(e,t){return H(this,void 0,void 0,function(){var n,i,o,s;return q(this,function(u){switch(u.label){case 0:return n=se(e),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(p){return f=p,i=n.persistence.getMutationQueue(t),o=new xA(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(p){for(var g=[],h=[],m=mt(),y=0,_=f;y<_.length;y++){var I=_[y];g.push(I.batchId);for(var E=0,T=I.mutations;E<T.length;E++){var C=T[E];m=m.add(C.key)}}for(var D=0,F=p;D<F.length;D++){var J=F[D];h.push(J.batchId);for(var V=0,me=J.mutations;V<me.length;V++){var G=me[V];m=m.add(G.key)}}return o.pn(l,m).next(function(Y){return{Ln:Y,removedBatchIds:g,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function sF(e,t){var n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,p){var g=f.batch,h=g.keys(),m=ee.resolve();return h.forEach(function(y){m=m.next(function(){return p.getEntry(l,y)}).next(function(_){var I=f.docVersions.get(y);Re(I!==null),_.version.compareTo(I)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&p.addEntry(_,f.commitVersion))})}),m.next(function(){return u._n.removeMutationBatch(l,g)})}(n,i,t,s).next(function(){return s.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function OA(e){var t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function aF(e,t){var n=se(e),i=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(g,h){var m=o.get(h);if(m){l.push(n.qe.removeMatchingKeys(s,g.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,g.addedDocuments,h)}));var y=g.resumeToken;if(y.approximateByteSize()>0){var _=m.withResumeToken(y,i).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,_),function(I,E,T){return Re(E.resumeToken.approximateByteSize()>0),I.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(m,_,g)&&l.push(n.qe.updateTargetData(s,_))}}});var f=xr();if(t.documentUpdates.forEach(function(g,h){t.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,g))}),l.push(uF(s,u,t.documentUpdates,i,void 0).next(function(g){f=g})),!i.isEqual(He.min())){var p=n.qe.getLastRemoteSnapshotVersion(s).next(function(g){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,i)});l.push(p)}return ee.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function uF(e,t,n,i,o){var s=mt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=xr();return n.forEach(function(f,p){var g=u.get(f),h=(o==null?void 0:o.get(f))||i;p.isNoDocument()&&p.version.isEqual(He.min())?(t.removeEntry(f,h),l=l.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p,h),l=l.insert(f,p)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),l})}function cF(e,t){var n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(i,t)})}function Hf(e,t){var n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(i).next(function(u){return o=new Mh(t,u,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(t,i.targetId)),i})}function fa(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u;return q(this,function(l){switch(l.label){case 0:i=se(e),o=i.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",s,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!Jo(u=l.sent()))throw u;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return i.kn=i.kn.remove(t),i.Fn.delete(o.target),[2]}})})}function Kf(e,t,n){var i=se(e),o=He.min(),s=mt();return i.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,p){var g=se(l),h=g.Fn.get(p);return h!==void 0?ee.resolve(g.kn.get(h)):g.qe.getTargetData(f,p)}(i,u,Yr(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){s=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(u,t,n?o:He.min(),n?s:mt())}).next(function(l){return{documents:l,Bn:s}})})}function PA(e,t){var n=se(e),i=se(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return i.lt(s,t).next(function(u){return u?u.target:null})})}function DA(e){var t=se(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,s){var u=se(i),l=xr(),f=vy(s),p=Ni(o),g=IDBKeyRange.lowerBound(f,!0);return p.$t({index:Nt.readTimeIndex,range:g},function(h,m){var y=qg(u.R,m);l=l.insert(y.key,y),f=m.readTime}).next(function(){return{wn:l,readTime:bA(f)}})}(t.On,n,t.$n)}).then(function(n){var i=n.wn,o=n.readTime;return t.$n=o,i})}function lF(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,(t=se(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var s=Ni(o),u=He.min();return s.$t({index:Nt.readTimeIndex,reverse:!0},function(l,f,p){f.readTime&&(u=bA(f.readTime)),p.done()}).next(function(){return u})}(i)}).then(function(i){t.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fF=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:Rn(i.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(i){return{name:i.name,query:EA(i.bundledQuery),readTime:Rn(i.readTime)}}(n)),ee.resolve()},e}(),wy=function(){function e(){this.Wn=new Yt(Jt.Gn),this.zn=new Yt(Jt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var i=new Jt(t,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},e.prototype.Jn=function(t,n){var i=this;t.forEach(function(o){return i.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Jt(t,n))},e.prototype.Xn=function(t,n){var i=this;t.forEach(function(o){return i.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,i=new be(new ot([])),o=new Jt(i,t),s=new Jt(i,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new be(new ot([])),i=new Jt(n,t),o=new Jt(n,t+1),s=mt();return this.zn.forEachInRange([i,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new Jt(t,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)},e}(),Jt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return be.comparator(t.key,n.key)||Xe(t.ns,n.ns)},e.Hn=function(t,n){return Xe(t.ns,n.ns)||be.comparator(t.key,n.key)},e}(),hF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Yt(Jt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,i,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new gy(s,n,i,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var p=f[l];this.rs=this.rs.add(new Jt(p.key,s)),this.Ut.addToCollectionParentIndex(t,p.key.path.popLast())}return ee.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var i=n+1,o=this.cs(i),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var i=this,o=new Jt(n,0),s=new Jt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var f=i.os(l.ns);u.push(f)}),ee.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var i=this,o=new Yt(Xe);return n.forEach(function(s){var u=new Jt(s,0),l=new Jt(s,Number.POSITIVE_INFINITY);i.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var i=n.path,o=i.length+1,s=i;be.isDocumentKey(s)||(s=s.child(""));var u=new Jt(new be(s),0),l=new Yt(Xe);return this.rs.forEachWhile(function(f){var p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(l=l.add(f.ns)),!0)},u),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,i=[];return t.forEach(function(o){var s=n.os(o);s!==null&&i.push(s)}),i},e.prototype.removeMutationBatch=function(t,n){var i=this;Re(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var u=new Jt(s.key,n.batchId);return o=o.delete(u),i.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){i.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var i=new Jt(n,0),o=this.rs.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),dF=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new _n(be.comparator),this.size=0}return e.prototype.addEntry=function(t,n,i){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var i=this.docs.get(n);return ee.resolve(i?i.document.clone():yn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var i=this,o=xr();return n.forEach(function(s){var u=i.docs.get(s);o=o.insert(s,u?u.document.clone():yn.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,i){for(var o=xr(),s=new be(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),f=l.key,p=l.value,g=p.document,h=p.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(i)<=0||Rc(n,g)&&(o=o.insert(g.key,g.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(i){return n(i)})},e.prototype.newChangeBuffer=function(t){return new pF(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),pF=function(e){function t(n){var i=this;return(i=e.call(this)||this).Ie=n,i}return Se(t,e),t.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(i.Ie.addEntry(n,u.document,i.getReadTime(s))):i.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},t.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},t}(kA),mF=function(){function e(t){this.persistence=t,this.ds=new Ta(function(n){return kc(n)},Oh),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.ws=0,this._s=new wy,this.targetCount=0,this.ys=$f.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(i,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new $f(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,i){var o=this,s=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var i=this.ds.get(n)||null;return ee.resolve(i)},e.prototype.addMatchingKeys=function(t,n,i){return this._s.Jn(n,i),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var i=this._s.es(n);return ee.resolve(i)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),gF=function(){function e(t,n){var i=this;this.gs={},this.Ne=new nr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new mF(this),this.Ut=new G2,this.Ue=function(o,s){return new dF(o,function(u){return i.referenceDelegate.ps(u)})}(this.Ut),this.R=new wA(n),this.Ke=new fF(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new hF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,i){var o=this;re("MemoryPersistence","Starting transaction:",t);var s=new vF(this.Ne.next());return this.referenceDelegate.Es(),i(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(t,n)}}))},e}(),vF=function(e){function t(n){var i=this;return(i=e.call(this)||this).currentSequenceNumber=n,i}return Se(t,e),t}(yA),yF=function(){function e(t){this.persistence=t,this.As=new wy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw _e()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var i=this;this.As.Zn(n.targetId).forEach(function(s){return i.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return i.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=be.fromPath(o);return n.Ps(t,s).next(function(u){u||i.removeEntry(s)})}).next(function(){return n.Rs=null,i.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var i=this;return this.Ps(t,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var i=this;return ee.or([function(){return ee.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(t,n)},function(){return i.persistence.Is(t,n)}])},e}(),rn=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e,t){return"firestore_clients_"+e+"_"+t}function pI(e,t,n){var i="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(i+="_"+t.uid),i}function Xm(e,t){return"firestore_targets_"+e+"_"+t}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");var mI=function(){function e(t,n,i,o){this.user=t,this.batchId=n,this.state=i,this.error=o}return e.Vs=function(t,n,i){var o,s=JSON.parse(i),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new X(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(Bt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),Ym=function(){function e(t,n,i){this.targetId=t,this.state=n,this.error=i}return e.Vs=function(t,n){var i,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new X(o.error.code,o.error.message)),s?new e(t,o.state,i):(Bt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),gI=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,s=Lh(),u=0;o&&u<i.activeTargetIds.length;++u)o=$S(i.activeTargetIds[u]),s=s.add(i.activeTargetIds[u]);return o?new e(t,s):(Bt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),_F=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(Bt("SharedClientState","Failed to parse online state: "+t),null)},e}(),$g=function(){function e(){this.activeTargetIds=Lh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),Qm=function(){function e(t,n,i,o,s){this.window=t,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new _n(Xe),this.started=!1,this.$s=[];var u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=dI(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new $g),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,i,o,s,u,l,f,p,g,h,m=this;return q(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,i=t;n<i.length;n++)(o=i[n])!==this.Ns&&(s=this.getItem(dI(this.persistenceKey,o)))&&(u=gI.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),p=0,g=this.$s;p<g.length;p++)h=g[p],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return m.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,i){this.zs(t,n,i),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var i=this.storage.getItem(Xm(this.persistenceKey,t));if(i){var o=Ym.Vs(t,i);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(Xm(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,i){this.Ys(t,n,i)},e.prototype.handleUserChange=function(t,n,i){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,i.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,i=t;if(i.storageArea===this.storage){if(re("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Bt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,s,u,l,f,p;return q(this,function(g){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(s=this.ni(i.key,i.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(u=this.si(i.key,i.newValue)))return[2,this.ii(u)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(p=function(h){var m=nr.o;if(h!=null)try{var y=JSON.parse(h);Re(typeof y=="number"),m=y}catch(_){Bt("SharedClientState","Failed to read sequence number from WebStorage",_)}return m}(i.newValue))!==nr.o&&this.sequenceNumberHandler(p);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,i){var o=new mI(this.currentUser,t,n,i),s=pI(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=pI(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,i){var o=Xm(this.persistenceKey,t),s=new Ym(t,n,i);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var i=this.ti(t);return gI.Vs(i,n)},e.prototype.si=function(t,n){var i=this.Bs.exec(t),o=Number(i[1]),s=i[2]!==void 0?i[2]:null;return mI.Vs(new rn(s),o,n)},e.prototype.ri=function(t,n){var i=this.qs.exec(t),o=Number(i[1]);return Ym.Vs(o,n)},e.prototype.js=function(t){return _F.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var i=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(p){s.has(p)||l.push(p)}),s.forEach(function(p){u.has(p)||f.push(p)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Lh();return t.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),LA=function(){function e(){this.li=new $g,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,i){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,i){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new $g,Promise.resolve()},e.prototype.handleUserChange=function(t,n,i){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),wF=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),vI=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),bF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},IF=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),EF=function(e){function t(n){var i=this;return(i=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Se(t,e),t.prototype.Fi=function(n,i,o,s){return new Promise(function(u,l){var f=new e2;f.listenOnce(QM.COMPLETE,function(){try{switch(f.getLastErrorCode()){case zm.NO_ERROR:var g=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(g)),u(g);break;case zm.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new X(M.DEADLINE_EXCEEDED,"Request time out"));break;case zm.HTTP_ERROR:var h=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var m=f.getResponseJson().error;if(m&&m.status&&m.message){var y=function(_){var I=_.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(I)>=0?I:M.UNKNOWN}(m.status);l(new X(y,m.message))}else l(new X(M.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new X(M.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var p=JSON.stringify(s);f.send(i,"POST",p,o,15)})},t.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=XM(),u=YM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new ZM({})),this.ki(l.initMessageHeaders,i),rL()||sL()||aL()||uL()||cL()||oL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var p=s.createWebChannel(f,l),g=!1,h=!1,m=new IF({Ei:function(_){h?re("Connection","Not sending because WebChannel is closed:",_):(g||(re("Connection","Opening WebChannel transport."),p.open(),g=!0),re("Connection","WebChannel sending:",_),p.send(_))},Ti:function(){return p.close()}}),y=function(_,I,E){_.listen(I,function(T){try{E(T)}catch(C){setTimeout(function(){throw C},0)}})};return y(p,Xl.EventType.OPEN,function(){h||re("Connection","WebChannel transport opened.")}),y(p,Xl.EventType.CLOSE,function(){h||(h=!0,re("Connection","WebChannel transport closed"),m.Vi())}),y(p,Xl.EventType.ERROR,function(_){h||(h=!0,Lf("Connection","WebChannel transport errored:",_),m.Vi(new X(M.UNAVAILABLE,"The operation could not be completed")))}),y(p,Xl.EventType.MESSAGE,function(_){var I;if(!h){var E=_.data[0];Re(!!E);var T=E,C=T.error||((I=T[0])===null||I===void 0?void 0:I.error);if(C){re("Connection","WebChannel received error:",C);var D=C.status,F=function(V){var me=Vt[V];if(me!==void 0)return oA(me)}(D),J=C.message;F===void 0&&(F=M.INTERNAL,J="Unknown error status: "+D+" with message "+C.message),h=!0,m.Vi(new X(F,J)),p.close()}else re("Connection","WebChannel received:",E),m.Si(E)}}),y(u,JM.STAT_EVENT,function(_){_.stat===D1.PROXY?re("Connection","Detected buffering proxy"):_.stat===D1.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){m.Pi()},0),m},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,i,o){var s=this.xi(t,n);re("RestConnection","Sending: ",s,i);var u={};return this.ki(u,o),this.Fi(t,s,u,i).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw Lf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",i),l})},e.prototype.$i=function(t,n,i,o){return this.Ni(t,n,i,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(t[i]=n.authHeaders[i])},e.prototype.xi=function(t,n){var i=bF[t];return this.Di+"/v1/"+n+":"+i},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return typeof window<"u"?window:null}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(e){return new C2(e,!0)}var by=function(){function e(t,n,i,o,s){i===void 0&&(i=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,i-o);s>0&&re("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),FA=function(){function e(t,n,i,o,s,u){this.Se=t,this.zi=i,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new by(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Bt(n.toString()),Bt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===M.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){t.Yi===i&&t.lr(o)},function(o){n(function(){var s=new X(M.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,i=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return q(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===t?i():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),TF=function(e){function t(n,i,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,u)||this).R=s,l}return Se(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var i=function(s,u){var l;if("targetChange"in u){u.targetChange;var f=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:_e()}(u.targetChange.targetChangeType||"NO_CHANGE"),p=u.targetChange.targetIds||[],g=function(E,T){return E.I?(Re(T===void 0||typeof T=="string"),qn.fromBase64String(T||"")):(Re(T===void 0||T instanceof Uint8Array),qn.fromUint8Array(T||new Uint8Array))}(s,u.targetChange.resumeToken),h=(m=u.targetChange.cause)&&function(E){var T=E.code===void 0?M.UNKNOWN:oA(E.code);return new X(T,E.message||"")}(m);l=new aA(f,p,g,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,p=si(s,f.document.name),g=Rn(f.document.updateTime);var m=new er({mapValue:{fields:f.document.fields}}),y=(h=yn.newFoundDocument(p,g,m),f.targetIds||[]),_=f.removedTargetIds||[];l=new pf(y,_,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,p=si(s,f.document),g=f.readTime?Rn(f.readTime):He.min(),m=yn.newNoDocument(p,g),h=f.removedTargetIds||[],l=new pf([],h,m.key,m);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,p=si(s,f.document),g=f.removedTargetIds||[],l=new pf([],g,p,null);else{if(!("filter"in u))return _e();u.filter;var I=u.filter;I.targetId,f=I.count||0,p=new _2(f),g=I.targetId,l=new sA(g,p)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return He.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?He.min():u.readTime?Rn(u.readTime):He.min()}(n);return this.listener._r(i,o)},t.prototype.mr=function(n){var i={};i.database=oc(this.R),i.addTarget=function(s,u){var l,f=u.target;return(l=Vf(f)?{documents:hA(s,f)}:{query:dA(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=uA(s,u.resumeToken):u.snapshotVersion.compareTo(He.min())>0&&(l.readTime=rc(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(f,p){switch(p){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _e()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},t.prototype.yr=function(n){var i={};i.database=oc(this.R),i.removeTarget=n,this.cr(i)},t}(FA),SF=function(e){function t(n,i,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,u)||this).R=s,l.gr=!1,l}return Se(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Re(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(s,u){return s&&s.length>0?(Re(u!==void 0),s.map(function(l){return function(f,p){var g=f.updateTime?Rn(f.updateTime):Rn(p);return g.isEqual(He.min())&&(g=Rn(p)),new g2(g,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=Rn(n.commitTime);return this.listener.Tr(o,i)}return Re(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=oc(this.R),this.cr(n)},t.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Bf(i.R,s)})};this.cr(o)},t}(FA),AF=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=i,s.R=o,s.Rr=!1,s}return Se(t,e),t.prototype.br=function(){if(this.Rr)throw new X(M.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,i,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new X(M.UNKNOWN,u.toString())})},t.prototype.$i=function(n,i,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,i,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new X(M.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),kF=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Bt(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),xF=function(e,t,n,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return H(s,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return Qi(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var p;return q(this,function(g){switch(g.label){case 0:return(p=se(f)).Or.add(4),[4,Sa(p)];case 1:return g.sent(),p.Br.set("Unknown"),p.Or.delete(4),[4,Dc(p)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new kF(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:if(!Qi(e))return[3,4];t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Sa(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:t=0,n=e.Mr,i.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Vh(e,t){var n=se(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Ty(n)?Ey(n):ka(n).er()&&Iy(n,t))}function sc(e,t){var n=se(e),i=ka(n);n.$r.delete(t),i.er()&&VA(n,t),n.$r.size===0&&(i.er()?i.ir():Qi(n)&&n.Br.set("Unknown"))}function Iy(e,t){e.qr.U(t.targetId),ka(e).mr(t)}function VA(e,t){e.qr.U(t),ka(e).yr(t)}function Ey(e){e.qr=new A2({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),ka(e).start(),e.Br.Sr()}function Ty(e){return Qi(e)&&!ka(e).tr()&&e.$r.size>0}function Qi(e){return se(e).Or.size===0}function UA(e){e.qr=void 0}function CF(e){return H(this,void 0,void 0,function(){return q(this,function(t){return e.$r.forEach(function(n,i){Iy(e,n)}),[2]})})}function RF(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){return UA(e),Ty(e)?(e.Br.Nr(t),Ey(e)):e.Br.set("Unknown"),[2]})})}function NF(e,t,n){return H(this,void 0,void 0,function(){var i,o,s;return q(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof aA&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var p,g,h,m;return q(this,function(y){switch(y.label){case 0:p=f.cause,g=0,h=f.targetIds,y.label=1;case 1:return g<h.length?(m=h[g],l.$r.has(m)?[4,l.remoteSyncer.rejectListen(m,p)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(m),l.qr.removeTarget(m),y.label=3;case 3:y.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return i=u.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),[4,Gf(e,i)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof pf?e.qr.X(t):t instanceof sA?e.qr.rt(t):e.qr.et(t),n.isEqual(He.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,OA(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var p=l.qr.ut(f);return p.targetChanges.forEach(function(g,h){if(g.resumeToken.approximateByteSize()>0){var m=l.$r.get(h);m&&l.$r.set(h,m.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach(function(g){var h=l.$r.get(g);if(h){l.$r.set(g,h.withResumeToken(qn.EMPTY_BYTE_STRING,h.snapshotVersion)),VA(l,g);var m=new Mh(h.target,g,1,h.sequenceNumber);Iy(l,m)}}),l.remoteSyncer.applyRemoteEvent(p)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,Gf(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function Gf(e,t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:if(!Jo(t))throw t;return e.Or.add(1),[4,Sa(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return OA(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(s){switch(s.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Dc(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function jA(e,t){return t().catch(function(n){return Gf(e,n,t)})}function Aa(e){return H(this,void 0,void 0,function(){var t,n,i,o,s;return q(this,function(u){switch(u.label){case 0:t=se(e),n=Gi(t),i=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return Qi(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,cF(t.localStore,i)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var p=Gi(l);p.er()&&p.pr&&p.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,Gf(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return BA(t)&&qA(t),[2]}})})}function BA(e){return Qi(e)&&!Gi(e).tr()&&e.Fr.length>0}function qA(e){Gi(e).start()}function OF(e){return H(this,void 0,void 0,function(){return q(this,function(t){return Gi(e).Ar(),[2]})})}function PF(e){return H(this,void 0,void 0,function(){var t,n,i,o;return q(this,function(s){for(t=Gi(e),n=0,i=e.Fr;n<i.length;n++)o=i[n],t.Er(o.mutations);return[2]})})}function DF(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return i=e.Fr.shift(),o=H2.from(i,t,n),[4,jA(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,Aa(e)];case 2:return s.sent(),[2]}})})}function LF(e,t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return t&&Gi(e).pr?[4,function(i,o){return H(this,void 0,void 0,function(){var s,u;return q(this,function(l){switch(l.label){case 0:return iA(u=o.code)&&u!==M.ABORTED?(s=i.Fr.shift(),Gi(i).sr(),[4,jA(i,function(){return i.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,Aa(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return BA(e)&&qA(e),[2]}})})}function Hg(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=se(e),t?(n.Or.delete(2),[4,Dc(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Sa(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function ka(e){var t=this;return e.Ur||(e.Ur=function(n,i,o){var s=se(n);return s.br(),new TF(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:CF.bind(null,e),Ri:RF.bind(null,e),_r:NF.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Ur.sr(),Ty(e)?Ey(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:i.sent(),UA(e),i.label=3;case 3:return[2]}})})})),e.Ur}function Gi(e){var t=this;return e.Kr||(e.Kr=function(n,i,o){var s=se(n);return s.br(),new SF(i,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:OF.bind(null,e),Ri:LF.bind(null,e),Ir:PF.bind(null,e),Tr:DF.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return q(this,function(i){switch(i.label){case 0:return n?(e.Kr.sr(),[4,Aa(e)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:i.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),i.label=4;case 4:return[2]}})})})),e.Kr}var MF=function(){function e(t,n,i,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=s,this.deferred=new $n,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,i,o,s){var u=new e(t,n,Date.now()+i,o,s);return u.start(i),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function xa(e,t){if(Bt("AsyncQueue",t+": "+e),Jo(e))return new X(M.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $A=function(){function e(t){this.comparator=t?function(n,i){return t(n,i)||be.comparator(n.key,i.key)}:function(n,i){return be.comparator(n.key,i.key)},this.keyedMap=jg(),this.sortedSet=new _n(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,i){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=i.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var i=new e;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i},e}(),yI=function(){function e(){this.Qr=new _n(be.comparator)}return e.prototype.track=function(t){var n=t.doc.key,i=this.Qr.get(n);i?t.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Qr=this.Qr.remove(n):t.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):_e():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,i){t.push(i)}),t},e}(),zf=function(){function e(t,n,i,o,s,u,l,f){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,i,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,$A.emptySet(n),s,i,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},e}(),FF=function(){this.Wr=void 0,this.listeners=[]},VF=function(){this.queries=new Ta(function(e){return WS(e)},Cc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u,l,f;return q(this,function(p){switch(p.label){case 0:if(n=se(e),i=t.query,o=!1,(s=n.queries.get(i))||(o=!0,s=new FF),!o)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),u=s,[4,n.onListen(i)];case 2:return u.Wr=p.sent(),[3,4];case 3:return l=p.sent(),f=xa(l,"Initialization of query '"+Vg(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(i,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&ky(n),[2]}})})}function Ay(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u;return q(this,function(l){return n=se(e),i=t.query,o=!1,(s=n.queries.get(i))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function UF(e,t){for(var n=se(e),i=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,f=n.queries.get(l);if(f){for(var p=0,g=f.listeners;p<g.length;p++)g[p].Hr(u)&&(i=!0);f.Wr=u}}i&&ky(n)}function jF(e,t,n){var i=se(e),o=i.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);i.queries.delete(t)}function ky(e){e.Gr.forEach(function(t){t.next()})}var xy=function(){function e(t,n,i){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=t.docChanges;i<o.length;i++){var s=o[i];s.type!==3&&n.push(s)}t=new zf(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=zf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HA=function(e){this.key=e},KA=function(e){this.key=e},GA=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=mt(),this.mutatedKeys=mt(),this.lo=XS(t),this.fo=new $A(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var i=this,o=n?n.mo:new yI,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,p=hf(this.query)&&s.size===this.query.limit?s.last():null,g=jf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(m,y){var _=s.get(m),I=Rc(i.query,y)?y:null,E=!!_&&i.mutatedKeys.has(_.key),T=!!I&&(I.hasLocalMutations||i.mutatedKeys.has(I.key)&&I.hasCommittedMutations),C=!1;_&&I?_.data.isEqual(I.data)?E!==T&&(o.track({type:3,doc:I}),C=!0):i.yo(_,I)||(o.track({type:2,doc:I}),C=!0,(p&&i.lo(I,p)>0||g&&i.lo(I,g)<0)&&(f=!0)):!_&&I?(o.track({type:0,doc:I}),C=!0):_&&!I&&(o.track({type:1,doc:_}),C=!0,(p||g)&&(f=!0)),C&&(I?(l=l.add(I),u=T?u.add(m):u.delete(m)):(l=l.delete(m),u=u.delete(m)))}),hf(this.query)||jf(this.query))for(;l.size>this.query.limit;){var h=hf(this.query)?l.last():l.first();l=l.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,i){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(g,h){return function(m,y){var _=function(I){switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return _(m)-_(y)}(g.type,h.type)||o.lo(g.doc,h.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,p=f!==this.ao;return this.ao=f,u.length!==0||p?{snapshot:new zf(this.query,t.fo,s,u,t.mutatedKeys,f===0,p,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new yI,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),t.modifiedDocuments.forEach(function(i){}),t.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=mt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var i=[];return n.forEach(function(o){t.ho.has(o)||i.push(new KA(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new HA(o))}),i},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=mt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return zf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),BF=function(e,t,n){this.query=e,this.targetId=t,this.view=n},qF=function(e){this.key=e,this.bo=!1},$F=function(){function e(t,n,i,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ta(function(l){return WS(l)},Cc),this.Vo=new Map,this.So=new Set,this.Do=new _n(be.comparator),this.Co=new Map,this.No=new wy,this.xo={},this.ko=new Map,this.Fo=$f.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function HF(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u,l;return q(this,function(f){switch(f.label){case 0:return n=Py(e),(s=n.Po.get(t))?(i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,Hf(n.localStore,Yr(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,[4,Cy(n,t,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&Vh(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function Cy(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,u,l,f,p;return q(this,function(g){switch(g.label){case 0:return e.Oo=function(h,m,y){return function(_,I,E,T){return H(this,void 0,void 0,function(){var C,D,F;return q(this,function(J){switch(J.label){case 0:return C=I.view._o(E),C.Nn?[4,Kf(_.localStore,I.query,!1).then(function(V){var me=V.documents;return I.view._o(me,C)})]:[3,2];case 1:C=J.sent(),J.label=2;case 2:return D=T&&T.targetChanges.get(I.targetId),F=I.view.applyChanges(C,_.isPrimaryClient,D),[2,(Kg(_,I.targetId,F.To),F.snapshot)]}})})}(e,h,m,y)},[4,Kf(e.localStore,t,!0)];case 1:return o=g.sent(),s=new GA(t,o.Bn),u=s._o(o.documents),l=dy.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,l),Kg(e,n,f.To),p=new BF(t,n,s),[2,(e.Po.set(t,p),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function KF(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return n=se(e),i=n.Po.get(t),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(u){return!Cc(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,fa(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),sc(n.remoteStore,i.targetId),ha(n,i.targetId)}).catch(Zo)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return ha(n,i.targetId),[4,fa(n.localStore,i.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function GF(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u;return q(this,function(l){switch(l.label){case 0:i=Dy(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,p){var g,h=se(f),m=jn.now(),y=p.reduce(function(_,I){return _.add(I.key)},mt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(_){return h.Mn.pn(_,y).next(function(I){g=I;for(var E=[],T=0,C=p;T<C.length;T++){var D=C[T],F=y2(D,g.get(D.key));F!=null&&E.push(new Yi(D.key,F,HS(F.value.mapValue),gn.exists(!0)))}return h._n.addMutationBatch(_,m,E,p)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(i.localStore,t)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){var h=f.xo[f.currentUser.toKey()];h||(h=new _n(Xe)),h=h.insert(p,g),f.xo[f.currentUser.toKey()]=h}(i,o.batchId,n),[4,Ji(i,o.changes)];case 3:return l.sent(),[4,Aa(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=xa(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function zA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:n=se(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,aF(n.localStore,t)];case 2:return i=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&(Re(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Re(l.bo):s.removedDocuments.size>0&&(Re(l.bo),l.bo=!1))}),[4,Ji(n,i,t)];case 3:return o.sent(),[3,6];case 4:return[4,Zo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function _I(e,t,n){var i=se(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=se(s);l.onlineState=u;var f=!1;l.queries.forEach(function(p,g){for(var h=0,m=g.listeners;h<m.length;h++)m[h].zr(u)&&(f=!0)}),f&&ky(l)}(i.eventManager,t),o.length&&i.vo._r(o),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function zF(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u,l,f;return q(this,function(p){switch(p.label){case 0:return(i=se(e)).sharedClientState.updateQueryState(t,"rejected",n),o=i.Co.get(t),(s=o&&o.key)?(u=(u=new _n(be.comparator)).insert(s,yn.newNoDocument(s,He.min())),l=mt().add(s),f=new hy(He.min(),new Map,new Yt(Xe),u,l),[4,zA(i,f)]):[3,2];case 1:return p.sent(),i.Do=i.Do.remove(s),i.Co.delete(t),Oy(i),[3,4];case 2:return[4,fa(i.localStore,t,!1).then(function(){return ha(i,t,n)}).catch(Zo)];case 3:p.sent(),p.label=4;case 4:return[2]}})})}function WF(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:n=se(e),i=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,sF(n.localStore,t)];case 2:return o=s.sent(),Ny(n,i,null),Ry(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Ji(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,Zo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function XF(e,t,n){return H(this,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:i=se(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var f=se(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(p){var g;return f._n.lookupMutationBatch(p,l).next(function(h){return Re(h!==null),g=h.keys(),f._n.removeMutationBatch(p,h)}).next(function(){return f._n.performConsistencyCheck(p)}).next(function(){return f.Mn.pn(p,g)})})}(i.localStore,t)];case 2:return o=s.sent(),Ny(i,t,n),Ry(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),[4,Ji(i,o)];case 3:return s.sent(),[3,6];case 4:return[4,Zo(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function YF(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u;return q(this,function(l){switch(l.label){case 0:Qi((n=se(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var p=se(f);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return p._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(i)||[]).push(t),n.ko.set(i,o),[3,4]);case 3:return s=l.sent(),u=xa(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function Ry(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function Ny(e,t,n){var i=se(e),o=i.xo[i.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),i.xo[i.currentUser.toKey()]=o}}function ha(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var i=0,o=e.Vo.get(t);i<o.length;i++){var s=o[i];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||WA(e,u)})}function WA(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(sc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Oy(e))}function Kg(e,t,n){for(var i=0,o=n;i<o.length;i++){var s=o[i];s instanceof HA?(e.No.addReference(s.key,t),QF(e,s)):s instanceof KA?(re("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||WA(e,s.key)):_e()}}function QF(e,t){var n=t.key,i=n.path.canonicalString();e.Do.get(n)||e.So.has(i)||(re("SyncEngine","New document in limbo: "+n),e.So.add(i),Oy(e))}function Oy(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new be(ot.fromString(t)),i=e.Fo.next();e.Co.set(i,new qF(n)),e.Do=e.Do.insert(n,i),Vh(e.remoteStore,new Mh(Yr(xc(n.path)),i,2,nr.o))}}function Ji(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u;return q(this,function(l){switch(l.label){case 0:return i=se(e),o=[],s=[],u=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,p){u.push(i.Oo(p,t,n).then(function(g){if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,g.fromCache?"not-current":"current"),o.push(g);var h=iF.Pn(p.targetId,g);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,p){return H(this,void 0,void 0,function(){var g,h,m,y,_,I,E,T,C;return q(this,function(D){switch(D.label){case 0:g=se(f),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(F){return ee.forEach(p,function(J){return ee.forEach(J.bn,function(V){return g.persistence.referenceDelegate.addReference(F,J.targetId,V)}).next(function(){return ee.forEach(J.vn,function(V){return g.persistence.referenceDelegate.removeReference(F,J.targetId,V)})})})})];case 2:return D.sent(),[3,4];case 3:if(!Jo(h=D.sent()))throw h;return re("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(m=0,y=p;m<y.length;m++)_=y[m],I=_.targetId,_.fromCache||(E=g.kn.get(I),T=E.snapshotVersion,C=E.withLastLimboFreeSnapshotVersion(T),g.kn=g.kn.insert(I,C));return[2]}})})}(i.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function JF(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return(n=se(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,NA(n.localStore,t)]);case 1:return i=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new X(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),[4,Ji(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function ZF(e,t){var n=se(e),i=n.Co.get(t);if(i&&i.bo)return mt().add(i.key);var o=mt(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var f=l[u],p=n.Po.get(f);o=o.unionWith(p.view.wo)}return o}function eV(e,t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return[4,Kf((n=se(e)).localStore,t.query,!0)];case 1:return i=s.sent(),o=t.view.Ao(i),[2,(n.isPrimaryClient&&Kg(n,t.targetId,o.To),o)]}})})}function tV(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){return[2,DA((t=se(e)).localStore).then(function(i){return Ji(t,i)})]})})}function nV(e,t,n,i){return H(this,void 0,void 0,function(){var o,s;return q(this,function(u){switch(u.label){case 0:return[4,function(l,f){var p=se(l),g=se(p._n);return p.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return g.jt(h,f).next(function(m){return m?p.Mn.pn(h,m):ee.resolve(null)})})}((o=se(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,Aa(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Ny(o,t,i||null),Ry(o,t),function(l,f){se(se(l)._n).Gt(f)}(o.localStore,t)):_e(),u.label=4;case 4:return[4,Ji(o,s)];case 5:return u.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function rV(e,t){return H(this,void 0,void 0,function(){var n,i,o,s,u,l,f,p;return q(this,function(g){switch(g.label){case 0:return Py(n=se(e)),Dy(n),t!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,wI(n,i.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,Hg(n.remoteStore,!0)];case 2:for(g.sent(),s=0,u=o;s<u.length;s++)l=u[s],Vh(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],p=Promise.resolve(),n.Vo.forEach(function(h,m){n.sharedClientState.isLocalQueryTarget(m)?f.push(m):p=p.then(function(){return ha(n,m),fa(n.localStore,m,!0)}),sc(n.remoteStore,m)}),[4,p]);case 4:return g.sent(),[4,wI(n,f)];case 5:return g.sent(),function(h){var m=se(h);m.Co.forEach(function(y,_){sc(m.remoteStore,_)}),m.No.ts(),m.Co=new Map,m.Do=new _n(be.comparator)}(n),n.$o=!1,[4,Hg(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function wI(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u,l,f,p,g,h,m,y,_,I,E;return q(this,function(T){switch(T.label){case 0:i=se(e),o=[],s=[],u=0,l=t,T.label=1;case 1:return u<l.length?(f=l[u],p=void 0,(g=i.Vo.get(f))&&g.length!==0?[4,Hf(i.localStore,Yr(g[0]))]:[3,7]):[3,13];case 2:p=T.sent(),h=0,m=g,T.label=3;case 3:return h<m.length?(y=m[h],_=i.Po.get(y),[4,eV(i,_)]):[3,6];case 4:(I=T.sent()).snapshot&&s.push(I.snapshot),T.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,PA(i.localStore,f)];case 8:return E=T.sent(),[4,Hf(i.localStore,E)];case 9:return p=T.sent(),[4,Cy(i,XA(E),f,!1)];case 10:T.sent(),T.label=11;case 11:o.push(p),T.label=12;case 12:return u++,[3,1];case 13:return[2,(i.vo._r(s),o)]}})})}function XA(e){return GS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function iV(e){var t=se(e);return se(se(t.localStore).persistence).fn()}function oV(e,t,n,i){return H(this,void 0,void 0,function(){var o,s,u;return q(this,function(l){switch(l.label){case 0:return(o=se(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,DA(o.localStore)];case 3:return s=l.sent(),u=hy.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,Ji(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,fa(o.localStore,t,!0)];case 6:return l.sent(),ha(o,t,i),[3,8];case 7:_e(),l.label=8;case 8:return[2]}})})}function sV(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u,l,f,p,g,h,m;return q(this,function(y){switch(y.label){case 0:if(!(i=Py(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(u=s[o],i.Vo.has(u)?(re("SyncEngine","Adding an already active target "+u),[3,5]):[4,PA(i.localStore,u)]):[3,6];case 2:return l=y.sent(),[4,Hf(i.localStore,l)];case 3:return f=y.sent(),[4,Cy(i,XA(l),f.targetId,!1)];case 4:y.sent(),Vh(i.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:p=function(_){return q(this,function(I){switch(I.label){case 0:return i.Vo.has(_)?[4,fa(i.localStore,_,!1).then(function(){sc(i.remoteStore,_),ha(i,_)}).catch(Zo)]:[3,2];case 1:I.sent(),I.label=2;case 2:return[2]}})},g=0,h=n,y.label=7;case 7:return g<h.length?(m=h[g],[5,p(m)]):[3,10];case 8:y.sent(),y.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Py(e){var t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZF.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zF.bind(null,t),t.vo._r=UF.bind(null,t.eventManager),t.vo.Mo=jF.bind(null,t.eventManager),t}function Dy(e){var t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XF.bind(null,t),t}var YA=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return q(this,function(n){switch(n.label){case 0:return this.R=Fh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return RA(this.persistence,new CA,t.initialUser,this.R)},e.prototype.qo=function(t){return new gF(yF.bs,this.R)},e.prototype.Bo=function(t){return new LA},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),QA=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=i,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Se(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,lF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Dy(this.Qo.syncEngine)];case 4:return o.sent(),[4,Aa(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return RA(this.persistence,new CA,n.initialUser,this.R)},t.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new Q2(i,n.asyncQueue)},t.prototype.qo=function(n){var i=_y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new rF(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,MA(),mf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new LA},t}(YA),aV=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Se(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var i,o=this;return q(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof Qm?(this.sharedClientState.syncEngine={ui:nV.bind(null,i),ai:oV.bind(null,i),hi:sV.bind(null,i),fn:iV.bind(null,i),ci:tV.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return[4,rV(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var i=MA();if(!Qm.yt(i))throw new X(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=_y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Qm(i,n.asyncQueue,o,n.clientId,n.initialUser)},t}(QA),Gg=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var i=this;return q(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return _I(i.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=JF.bind(null,this.syncEngine),[4,Hg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new VF},e.prototype.createDatastore=function(t){var n,i=Fh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new EF(n));return function(s,u,l){return new AF(s,u,l)}(t.credentials,o,i)},e.prototype.createRemoteStore=function(t){var n,i,o,s,u,l=this;return n=this.localStore,i=this.datastore,o=t.asyncQueue,s=function(f){return _I(l.syncEngine,f,0)},u=vI.yt()?new vI:new wF,new xF(n,i,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(i,o,s,u,l,f,p){var g=new $F(i,o,s,u,l,f);return p&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return n=se(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Sa(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uh=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var i=this;this.muted||setTimeout(function(){i.muted||t(n)},0)},e}(),uV=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,i=this;return q(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new X(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return H(this,void 0,void 0,function(){var l,f,p,g,h,m;return q(this,function(y){switch(y.label){case 0:return l=se(s),f=oc(l.R)+"/documents",p={documents:u.map(function(_){return ic(l.R,_)})},[4,l.$i("BatchGetDocuments",f,p)];case 1:return g=y.sent(),h=new Map,g.forEach(function(_){var I=function(E,T){return"found"in T?function(C,D){Re(!!D.found),D.found.name,D.found.updateTime;var F=si(C,D.found.name),J=Rn(D.found.updateTime),V=new er({mapValue:{fields:D.found.fields}});return yn.newFoundDocument(F,J,V)}(E,T):"missing"in T?function(C,D){Re(!!D.missing),Re(!!D.readTime);var F=si(C,D.missing),J=Rn(D.readTime);return yn.newNoDocument(F,J)}(E,T):_e()}(l.R,_);h.set(I.key.toString(),I)}),m=[],[2,(u.forEach(function(_){var I=h.get(_.toString());Re(!!I),m.push(I)}),m)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return i.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Pc(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=be.fromPath(s);n.mutations.push(new fy(u,n.precondition(u)))}),[4,function(o,s){return H(this,void 0,void 0,function(){var u,l,f;return q(this,function(p){switch(p.label){case 0:return u=se(o),l=oc(u.R)+"/documents",f={writes:s.map(function(g){return Bf(u.R,g)})},[4,u.Ni("Commit",l,f)];case 1:return p.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw _e();n=He.min()}var i=this.readVersions.get(t.key.toString());if(i){if(!n.isEqual(i))throw new X(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?gn.updateTime(n):gn.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(He.min()))throw new X(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gn.updateTime(n)}return gn.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),cV=function(){function e(t,n,i,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new by(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,i,o=this;return q(this,function(s){return n=new uV(this.datastore),(i=this.sc(n))&&i.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!Qo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!iA(n)}return!1},e}(),lV=function(){function e(t,n,i){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=rn.UNAUTHENTICATED,this.clientId=VS.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return H(o,void 0,void 0,function(){return q(this,function(u){switch(u.label){case 0:return re("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return q(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new X(M.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new $n;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=s.sent(),o=xa(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(e,t){return H(this,void 0,void 0,function(){var n,i,o=this;return q(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),i=n.initialUser,e.setCredentialChangeListener(function(u){return H(o,void 0,void 0,function(){return q(this,function(l){switch(l.label){case 0:return i.isEqual(u)?[3,2]:[4,NA(t.localStore,u)];case 1:l.sent(),i=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function ZA(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,Ly(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return i=o.sent(),[4,t.initialize(n,i)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return H(this,void 0,void 0,function(){var f,p;return q(this,function(g){switch(g.label){case 0:return(f=se(u)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),p=Qi(f),f.Or.add(3),[4,Sa(f)];case 1:return g.sent(),p&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,Dc(f)];case 3:return g.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function Ly(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,JA(e,new YA)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function jh(e){return H(this,void 0,void 0,function(){return q(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,ZA(e,new Gg)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function bI(e){return Ly(e).then(function(t){return t.persistence})}function ek(e){return Ly(e).then(function(t){return t.localStore})}function II(e){return jh(e).then(function(t){return t.remoteStore})}function tk(e){return jh(e).then(function(t){return t.syncEngine})}function da(e){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return[4,jh(e)];case 1:return t=i.sent(),[2,((n=t.eventManager).onListen=HF.bind(null,t.syncEngine),n.onUnlisten=KF.bind(null,t.syncEngine),n)]}})})}function EI(e,t,n){var i=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(u){switch(u.label){case 0:return s=function(l,f,p,g,h){var m=new Uh({next:function(_){f.enqueueAndForget(function(){return Ay(l,y)});var I=_.docs.has(p);!I&&_.fromCache?h.reject(new X(M.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&g&&g.source==="server"?h.reject(new X(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new xy(xc(p.path),m,{includeMetadataChanges:!0,so:!0});return Sy(l,y)},[4,da(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function TI(e,t,n){var i=this;n===void 0&&(n={});var o=new $n;return e.asyncQueue.enqueueAndForget(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(u){switch(u.label){case 0:return s=function(l,f,p,g,h){var m=new Uh({next:function(_){f.enqueueAndForget(function(){return Ay(l,y)}),_.fromCache&&g.source==="server"?h.reject(new X(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:function(_){return h.reject(_)}}),y=new xy(p,m,{includeMetadataChanges:!0,so:!0});return Sy(l,y)},[4,da(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var fV=function(e,t,n,i,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},Wf=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),SI=new Map,nk=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},AI=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(rn.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),hV=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var i=this;this.changeListener=n,t.enqueueRetryable(function(){return n(i.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),dV=function(){function e(t){var n=this;this.currentUser=rn.UNAUTHENTICATED,this.oc=new $n,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?i(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Re(typeof o.accessToken=="string"),new nk(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var i=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(i,void 0,void 0,function(){return q(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Re(t===null||typeof t=="string"),new rn(t)},e}(),pV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i,this.type="FirstParty",this.user=rn.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),mV=function(){function e(t,n,i){this.hc=t,this.lc=n,this.fc=i}return e.prototype.getToken=function(){return Promise.resolve(new pV(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(rn.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(e,t,n){if(!n)throw new X(M.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Fy(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new X(M.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function rk(e,t,n,i){if(t===!0&&i===!0)throw new X(M.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function kI(e){if(!be.isDocumentKey(e))throw new X(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function xI(e){if(be.isDocumentKey(e))throw new X(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Bh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":_e()}function at(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Bh(e);throw new X(M.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function CI(e,t){if(t<=0)throw new X(M.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RI=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new X(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,rk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),ac=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RI({}),this._settingsFrozen=!1,t instanceof Wf?(this._databaseId=t,this._credentials=new AI):(this._app=t,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new X(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wf(i.options.projectId)}(t),this._credentials=new dV(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new X(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new X(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RI(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new AI;switch(n.type){case"gapi":var i=n.client;return Re(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new mV(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new X(M.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=SI.get(t))&&(re("ComponentProvider","Removing Datastore"),SI.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),xt=function(){function e(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new $i(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),or=function(){function e(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),$i=function(e){function t(n,i,o){var s=this;return(s=e.call(this,n,i,xc(o))||this)._path=o,s.type="collection",s}return Se(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new xt(this.firestore,null,new be(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(or);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ft(e),My("collection","path",t),e instanceof ac)return xI(n=ot.fromString.apply(ot,Tt([t],i))),new $i(e,null,n);if(!(e instanceof xt||e instanceof $i))throw new X(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xI(n=ot.fromString.apply(ot,Tt([e.path],i)).child(ot.fromString(t))),new $i(e.firestore,null,n)}function gf(e,t){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(e=ft(e),arguments.length===1&&(t=VS.u()),My("doc","path",t),e instanceof ac)return kI(n=ot.fromString.apply(ot,Tt([t],i))),new xt(e,null,new be(n));if(!(e instanceof xt||e instanceof $i))throw new X(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kI(n=e._path.child(ot.fromString.apply(ot,Tt([t],i)))),new xt(e.firestore,e instanceof $i?e.converter:null,new be(n))}function ok(e,t){return e=ft(e),t=ft(t),(e instanceof xt||e instanceof $i)&&(t instanceof xt||t instanceof $i)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function sk(e,t){return e=ft(e),t=ft(t),e instanceof or&&t instanceof or&&e.firestore===t.firestore&&Cc(e._query,t._query)&&e.converter===t.converter}var gV=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new by(this,"async_queue_retry"),this.Ic=function(){var i=mf();i&&re("AsyncQueue","Visibility state changed to "+i.visibilityState),t.Zi.Gi()};var n=mf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=mf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new $n;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return q(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Jo(t=i.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,i=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,Bt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},e.prototype.enqueueAfterDelay=function(t,n,i){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=MF.createAndSchedule(this,t,n,i,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&_e()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var s=o[i];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function pa(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var i=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in i&&typeof i[u]=="function")return!0}return!1}(e)}var vV=-1,Xt=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).type="firestore",o._queue=new gV,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Se(t,e),t.prototype._terminate=function(){return this._firestoreClient||ak(this),this._firestoreClient.terminate()},t}(ac);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e._firestoreClient||ak(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ak(e){var t,n=e._freezeSettings(),i=function(o,s,u,l){return new fV(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new lV(e._credentials,e._queue,i)}function NI(e,t,n){var i=this,o=new $n;return e.asyncQueue.enqueue(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,JA(e,n)];case 1:return u.sent(),[4,ZA(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===M.FAILED_PRECONDITION||l.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function OI(e){if(e._initialized||e._terminated)throw new X(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var i=0;i<t.length;++i)if(t[i].length===0)throw new X(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),zo=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(qn.fromBase64String(t))}catch(n){throw new X(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(qn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),es=function(e){this._methodName=e},qh=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Xe(this._lat,t._lat)||Xe(this._long,t._long)},e}(),yV=/^__.*__$/,_V=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new Yi(t,this.data,this.fieldMask,n,this.fieldTransforms):new Oc(t,this.data,n,this.fieldTransforms)},e}(),uk=function(){function e(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}return e.prototype.toMutation=function(t,n){return new Yi(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}var lk=function(){function e(t,n,i,o,s,u){this.settings=t,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:i,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return Xf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(ck(this.Nc)&&yV.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),wV=function(){function e(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=i||Fh(t)}return e.prototype.Uc=function(t,n,i,o){return o===void 0&&(o=!1),new lk({Nc:t,methodName:n,qc:i,path:Rr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ts(e){var t=e._freezeSettings(),n=Fh(e._databaseId);return new wV(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $h(e,t,n,i,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);By("Data must be an object, but it was:",u,i);var l,f,p=dk(i,u);if(s.merge)l=new ea(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var g=[],h=0,m=s.mergeFields;h<m.length;h++){var y=zg(t,m[h],n);if(!u.contains(y))throw new X(M.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");mk(g,y)||g.push(y)}l=new ea(g),f=u.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=u.fieldTransforms;return new _V(new er(p),l,f)}var Vy=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(es);function fk(e,t,n){return new lk({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var bV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype._toFieldTransform=function(n){return new Nc(n.path,new ia)},t.prototype.isEqual=function(n){return n instanceof t},t}(es),IV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=fk(this,n,!0),o=this.Kc.map(function(u){return ns(u,i)}),s=new Ko(o);return new Nc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(es),EV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Kc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=fk(this,n,!0),o=this.Kc.map(function(u){return ns(u,i)}),s=new Go(o);return new Nc(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(es),TV=function(e){function t(n,i){var o=this;return(o=e.call(this,n)||this).Qc=i,o}return Se(t,e),t.prototype._toFieldTransform=function(n){var i=new oa(n.R,JS(n.R,this.Qc));return new Nc(n.path,i)},t.prototype.isEqual=function(n){return this===n},t}(es);function Uy(e,t,n,i){var o=e.Uc(1,t,n);By("Data must be an object, but it was:",o,i);var s=[],u=er.empty();Yo(i,function(f,p){var g=qy(t,f,n);p=ft(p);var h=o.Oc(g);if(p instanceof Vy)s.push(g);else{var m=ns(p,h);m!=null&&(s.push(g),u.set(g,m))}});var l=new ea(s);return new uk(u,l,o.fieldTransforms)}function jy(e,t,n,i,o,s){var u=e.Uc(1,t,n),l=[zg(t,i,n)],f=[o];if(s.length%2!=0)throw new X(M.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var p=0;p<s.length;p+=2)l.push(zg(t,s[p])),f.push(s[p+1]);for(var g=[],h=er.empty(),m=l.length-1;m>=0;--m)if(!mk(g,l[m])){var y=l[m],_=f[m];_=ft(_);var I=u.Oc(y);if(_ instanceof Vy)g.push(y);else{var E=ns(_,I);E!=null&&(g.push(y),h.set(y,E))}}var T=new ea(g);return new uk(h,T,u.fieldTransforms)}function hk(e,t,n,i){return i===void 0&&(i=!1),ns(n,e.Uc(i?4:3,t))}function ns(e,t){if(pk(e=ft(e)))return By("Unsupported field value:",t,e),dk(e,t);if(e instanceof es)return function(n,i){if(!ck(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var f=ns(l[u],i.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,i){if((n=ft(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JS(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=jn.fromDate(n);return{timestampValue:rc(i.R,o)}}if(n instanceof jn)return o=new jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:rc(i.R,o)};if(n instanceof qh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof zo)return{bytesValue:uA(i.R,n._byteString)};if(n instanceof xt){o=i.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw i.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:py(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+Bh(n))}(e,t)}function dk(e,t){var n={};return jS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yo(e,function(i,o){var s=ns(o,t.kc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function pk(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof jn||e instanceof qh||e instanceof zo||e instanceof xt||e instanceof es)}function By(e,t,n){if(!pk(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=Bh(n);throw i==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+i)}}function zg(e,t,n){if((t=ft(t))instanceof Kr)return t._internalPath;if(typeof t=="string")return qy(e,t);throw Xf("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var SV=new RegExp("[~\\*/\\[\\]]");function qy(e,t,n){if(t.search(SV)>=0)throw Xf("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Kr.bind.apply(Kr,Tt([void 0],t.split("."))))()._internalPath}catch{throw Xf("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Xf(e,t,n,i,o){var s=i&&!i.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+i),u&&(f+=" in document "+o),f+=")"),new X(M.INVALID_ARGUMENT,(l+=". ")+e+f)}function mk(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uc=function(){function e(t,n,i,o,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new xt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new AV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(Yf("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),AV=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(uc);function Yf(e,t){return typeof t=="string"?qy(e,t):t instanceof Kr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),ui=function(e){function t(n,i,o,s,u,l){var f=this;return(f=e.call(this,n,i,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Se(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new Du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(Yf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},t}(uc),Du=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(ui),Mi=function(){function e(t,n,i,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Oo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var i=this;this._snapshot.docs.forEach(function(o){t.call(n,new Du(i._firestore,i._userDataWriter,o.key,o,new Oo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var s=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new Du(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}})}var u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new Du(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Oo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),p=-1,g=-1;return l.type!==0&&(p=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(g=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:kV(l.type),doc:f,oldIndex:p,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function kV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}function gk(e,t){return e instanceof ui&&t instanceof ui?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Mi&&t instanceof Mi&&e._firestore===t._firestore&&sk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(e){if(jf(e)&&e.explicitOrderBy.length===0)throw new X(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Lc=function(){};function ki(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0,o=t;i<o.length;i++){var s=o[i];e=s._apply(e)}return e}var xV=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=i,s.Gc=o,s.type="where",s}return Se(t,e),t.prototype._apply=function(n){var i=ts(n.firestore),o=function(s,u,l,f,p,g,h){var m;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new X(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){FI(h,g);for(var y=[],_=0,I=h;_<I.length;_++){var E=I[_];y.push(MI(f,s,E))}m={arrayValue:{values:y}}}else m=MI(f,s,h)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||FI(h,g),m=hk(l,"where",h,g==="in"||g==="not-in");var T=rr.create(p,g,m);return function(C,D){if(D.g()){var F=cy(C);if(F!==null&&!F.isEqual(D.field))throw new X(M.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+F.toString()+"' and '"+D.field.toString()+"'");var J=uy(C);J!==null&&_k(C,D.field,J)}var V=function(me,G){for(var Y=0,x=me.filters;Y<x.length;Y++){var Ke=x[Y];if(G.indexOf(Ke.op)>=0)return Ke.op}return null}(C,function(me){switch(me){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(V!==null)throw V===D.op?new X(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+D.op.toString()+"' filter."):new X(M.INVALID_ARGUMENT,"Invalid query. You cannot use '"+D.op.toString()+"' filters with '"+V.toString()+"' filters.")}(s,T),T}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new or(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new di(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(Lc),CV=function(e){function t(n,i){var o=this;return(o=e.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Se(t,e),t.prototype._apply=function(n){var i=function(o,s,u){if(o.startAt!==null)throw new X(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new X(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new qs(s,u);return function(f,p){if(uy(f)===null){var g=cy(f);g!==null&&_k(f,g,p.field)}}(o,l),l}(n._query,this.jc,this.zc);return new or(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new di(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},t}(Lc),PI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=i,s.Jc=o,s}return Se(t,e),t.prototype._apply=function(n){return new or(n.firestore,n.converter,zS(n._query,this.Hc,this.Jc))},t}(Lc),DI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return Se(t,e),t.prototype._apply=function(n){var i=yk(n,this.type,this.Yc,this.Xc);return new or(n.firestore,n.converter,function(o,s){return new di(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,i))},t}(Lc),LI=function(e){function t(n,i,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=i,s.Xc=o,s}return Se(t,e),t.prototype._apply=function(n){var i=yk(n,this.type,this.Yc,this.Xc);return new or(n.firestore,n.converter,function(o,s){return new di(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,i))},t}(Lc);function yk(e,t,n,i){if(n[0]=ft(n[0]),n[0]instanceof uc)return function(s,u,l,f,p){if(!f)throw new X(M.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],h=0,m=ra(s);h<m.length;h++){var y=m[h];if(y.field.isKeyField())g.push(Ff(u,f.key));else{var _=f.data.field(y.field);if(oy(_))throw new X(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var I=y.field.canonicalString();throw new X(M.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+I+"' (used as the orderBy) does not exist.")}g.push(_)}}return new nc(g,p)}(e._query,e.firestore._databaseId,t,n[0]._document,i);var o=ts(e.firestore);return function(s,u,l,f,p,g){var h=s.explicitOrderBy;if(p.length>h.length)throw new X(M.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var m=[],y=0;y<p.length;y++){var _=p[y];if(h[y].field.isKeyField()){if(typeof _!="string")throw new X(M.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!ly(s)&&_.indexOf("/")!==-1)throw new X(M.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var I=s.path.child(ot.fromString(_));if(!be.isDocumentKey(I))throw new X(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+I+"' is not because it contains an odd number of segments.");var E=new be(I);m.push(Ff(u,E))}else{var T=hk(l,f,_);m.push(T)}}return new nc(m,g)}(e._query,e.firestore._databaseId,o,t,n,i)}function MI(e,t,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new X(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ly(t)&&n.indexOf("/")!==-1)throw new X(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=t.path.child(ot.fromString(n));if(!be.isDocumentKey(i))throw new X(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return Ff(e,new be(i))}if(n instanceof xt)return Ff(e,n._key);throw new X(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Bh(n)+".")}function FI(e,t){if(!Array.isArray(e)||e.length===0)throw new X(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new X(M.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function _k(e,t,n){if(!n.isEqual(t))throw new X(M.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $y=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Ho(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ut(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ta(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw _e()}},e.prototype.convertObject=function(t,n){var i=this,o={};return Yo(t.fields,function(s,u){o[s]=i.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new qh(Ut(t.latitude),Ut(t.longitude))},e.prototype.convertArray=function(t,n){var i=this;return(t.values||[]).map(function(o){return i.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var i=qS(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ec(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Ki(t);return new jn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var i=ot.fromString(t);Re(gA(i));var o=new Wf(i.get(1),i.get(3)),s=new be(i.popFirst(5));return o.isEqual(n)||Bt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var RV=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new zo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new xt(this.firestore,null,i)},t}($y),NV=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ts(t)}return e.prototype.set=function(t,n,i){this._verifyNotCommitted();var o=Fi(t,this._firestore),s=Hh(o.converter,n,i),u=$h(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,i);return this._mutations.push(u.toMutation(o._key,gn.none())),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=Fi(t,this._firestore);return u=typeof(n=ft(n))=="string"||n instanceof Kr?jy(this._dataReader,"WriteBatch.update",l._key,n,i,o):Uy(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,gn.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=Fi(t,this._firestore);return this._mutations=this._mutations.concat(new Pc(n._key,gn.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new X(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(e,t){if((e=ft(e)).firestore!==t)throw new X(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new zo(n)},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new xt(this.firestore,null,i)},t}($y);function VI(e,t,n){e=at(e,xt);var i=at(e.firestore,Xt),o=Hh(e.converter,t,n);return Mc(i,[$h(ts(i),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,gn.none())])}function UI(e,t,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];e=at(e,xt);var s=at(e.firestore,Xt),u=ts(s);return Mc(s,[(typeof(t=ft(t))=="string"||t instanceof Kr?jy(u,"updateDoc",e._key,t,n,i):Uy(u,"updateDoc",e._key,t)).toMutation(e._key,gn.exists(!0))])}function wk(e){for(var t,n,i,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=ft(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||pa(o[l])||(u=o[l],l++);var f,p,g,h={includeMetadataChanges:u.includeMetadataChanges};if(pa(o[l])){var m=o[l];o[l]=(t=m.next)===null||t===void 0?void 0:t.bind(m),o[l+1]=(n=m.error)===null||n===void 0?void 0:n.bind(m),o[l+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}if(e instanceof xt)p=at(e.firestore,Xt),g=xc(e._key.path),f={next:function(I){o[l]&&o[l](Wg(p,e,I))},error:o[l+1],complete:o[l+2]};else{var y=at(e,or);p=at(y.firestore,Xt),g=y._query;var _=new Fo(p);f={next:function(I){o[l]&&o[l](new Mi(p,_,y,I))},error:o[l+1],complete:o[l+2]},vk(e._query)}return function(I,E,T,C){var D=this,F=new Uh(C),J=new xy(E,F,T);return I.asyncQueue.enqueueAndForget(function(){return H(D,void 0,void 0,function(){var V;return q(this,function(me){switch(me.label){case 0:return V=Sy,[4,da(I)];case 1:return[2,V.apply(void 0,[me.sent(),J])]}})})}),function(){F.Wo(),I.asyncQueue.enqueueAndForget(function(){return H(D,void 0,void 0,function(){var V;return q(this,function(me){switch(me.label){case 0:return V=Ay,[4,da(I)];case 1:return[2,V.apply(void 0,[me.sent(),J])]}})})})}}(pn(p),g,h,f)}function Mc(e,t){return function(n,i){var o=this,s=new $n;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var u;return q(this,function(l){switch(l.label){case 0:return u=GF,[4,tk(n)];case 1:return[2,u.apply(void 0,[l.sent(),i,s])]}})})}),s.promise}(pn(e),t)}function Wg(e,t,n){var i=n.docs.get(t._key),o=new Fo(e);return new ui(e,o,t._key,i,new Oo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OV=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this)._firestore=n,o}return Se(t,e),t.prototype.get=function(n){var i=this,o=Fi(n,this._firestore),s=new Fo(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new ui(i._firestore,s,o._key,u._document,new Oo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ts(t)}return e.prototype.get=function(t){var n=this,i=Fi(t,this._firestore),o=new RV(this._firestore);return this._transaction.lookup([i._key]).then(function(s){if(!s||s.length!==1)return _e();var u=s[0];if(u.isFoundDocument())return new uc(n._firestore,o,u.key,u,i.converter);if(u.isNoDocument())return new uc(n._firestore,o,i._key,null,i.converter);throw _e()})},e.prototype.set=function(t,n,i){var o=Fi(t,this._firestore),s=Hh(o.converter,n,i),u=$h(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,i){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=Fi(t,this._firestore);return u=typeof(n=ft(n))=="string"||n instanceof Kr?jy(this._dataReader,"Transaction.update",l._key,n,i,o):Uy(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=Fi(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof Uint8Array>"u")throw new X(M.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function BI(){if(typeof atob>"u")throw new X(M.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return BI(),new e(zo.fromBase64String(t))},e.fromUint8Array=function(t){return jI(),new e(zo.fromUint8Array(t))},e.prototype.toBase64=function(){return BI(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return jI(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),PV=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(i,o){OI(i=at(i,Xt));var s=pn(i),u=i._freezeSettings(),l=new Gg;return NI(s,l,new QA(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){OI(n=at(n,Xt));var i=pn(n),o=n._freezeSettings(),s=new Gg;return NI(i,s,new aV(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new X(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new $n;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(i,void 0,void 0,function(){var s;return q(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return q(this,function(p){switch(p.label){case 0:return ua.yt()?(f=l+"main",[4,ua.delete(f)]):[2,Promise.resolve()];case 1:return p.sent(),[2]}})})}(_y(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),Ik=function(){function e(t,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof Wf||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Lf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),function(o,s,u,l){var f;l===void 0&&(l={});var p=(o=at(o,ac))._getSettings();if(p.host!=="firestore.googleapis.com"&&p.host!==s&&Lf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},p),{host:s+":"+u,ssl:!1})),l.mockUserToken){var g,h;if(typeof l.mockUserToken=="string")g=l.mockUserToken,h=rn.MOCK_USER;else{g=CT(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var m=l.mockUserToken.sub||l.mockUserToken.user_id;if(!m)throw new X(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new rn(m)}o._credentials=new hV(new nk(g,h))}}(this._delegate,t,n,i)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return[4,bI(t)];case 1:return i=s.sent(),[4,II(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!0),function(u){var l=se(u);return l.Or.delete(0),Dc(l)}(o))]}})})})}(pn(at(this._delegate,Xt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var i,o;return q(this,function(s){switch(s.label){case 0:return[4,bI(t)];case 1:return i=s.sent(),[4,II(t)];case 2:return o=s.sent(),[2,(i.setNetworkEnabled(!1),function(u){return H(this,void 0,void 0,function(){var l;return q(this,function(f){switch(f.label){case 0:return(l=se(u)).Or.add(0),[4,Sa(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(pn(at(this._delegate,Xt)))},e.prototype.enablePersistence=function(t){var n=!1,i=!1;return t&&rk("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",i=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,i=new $n;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return q(this,function(s){switch(s.label){case 0:return o=YF,[4,tk(t)];case 1:return[2,o.apply(void 0,[s.sent(),i])]}})})}),i.promise}(pn(at(this._delegate,Xt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,i){return function(o,s){var u=this,l=new Uh(s);return o.asyncQueue.enqueueAndForget(function(){return H(u,void 0,void 0,function(){var f;return q(this,function(p){switch(p.label){case 0:return f=function(g,h){se(g).Gr.add(h),h.next()},[4,da(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(u,void 0,void 0,function(){var f;return q(this,function(p){switch(p.label){case 0:return f=function(g,h){se(g).Gr.delete(h)},[4,da(o)];case 1:return[2,f.apply(void 0,[p.sent(),l])]}})})})}}(pn(n=at(n,Xt)),pa(i)?i:{next:i})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new X(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qf(this,ik(this._delegate,t))}catch(n){throw Tn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Vo(this,gf(this._delegate,t))}catch(n){throw Tn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new zh(this,function(n,i){if(n=at(n,ac),My("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new X(M.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new or(n,null,function(o){return new di(ot.emptyPath(),o)}(i))}(this._delegate,t))}catch(n){throw Tn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(i,o){return function(s,u){var l=this,f=new $n;return s.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var p;return q(this,function(g){switch(g.label){case 0:return[4,function(h){return jh(h).then(function(m){return m.datastore})}(s)];case 1:return p=g.sent(),new cV(s.asyncQueue,p,u,f).run(),[2]}})})}),f.promise}(pn(i),function(s){return o(new OV(i,s))})}(this._delegate,function(i){return t(new Ek(n,i))})},e.prototype.batch=function(){var t=this;return pn(this._delegate),new Tk(new NV(this._delegate,function(n){return Mc(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new X(M.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new X(M.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Kh=function(e){function t(n){var i=this;return(i=e.call(this)||this).firestore=n,i}return Se(t,e),t.prototype.convertBytes=function(n){return new bk(new zo(n))},t.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Vo.eu(i,this.firestore,null)},t}($y);function DV(e){var t;t=e,kr.setLogLevel(t)}var Ek=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new Kh(t)}return e.prototype.get=function(t){var n=this,i=Po(t);return this._delegate.get(i).then(function(o){return new cc(n._firestore,new ui(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},e.prototype.set=function(t,n,i){var o=Po(t);return i?(Fy("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Po(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Tt([l,n,i],s)),this},e.prototype.delete=function(t){var n=Po(t);return this._delegate.delete(n),this},e}(),Tk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,i){var o=Po(t);return i?(Fy("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,i){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Po(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Tt([l,n,i],s)),this},e.prototype.delete=function(t){var n=Po(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Gh=function(){function e(t,n,i){this._firestore=t,this._userDataWriter=n,this._delegate=i}return e.prototype.fromFirestore=function(t,n){var i=new Du(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new lc(this._firestore,i),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var i=e.su,o=i.get(t);o||(o=new WeakMap,i.set(t,o));var s=o.get(n);return s||(s=new e(t,new Kh(t),n),o.set(n,s)),s},e}();Gh.su=new WeakMap;var Vo=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Kh(t)}return e.iu=function(t,n,i){if(t.length%2!=0)throw new X(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new xt(n._delegate,i,new be(t)))},e.eu=function(t,n,i){return new e(n,new xt(n._delegate,i,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Qf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Qf(this.firestore,ik(this._delegate,t))}catch(n){throw Tn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ft(t))instanceof xt&&ok(this._delegate,t)},e.prototype.set=function(t,n){n=Fy("DocumentReference.set",n);try{return n?VI(this._delegate,t,n):VI(this._delegate,t)}catch(i){throw Tn(i,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?UI(this._delegate,t):UI.apply(void 0,Tt([this._delegate,t,n],i))}catch(s){throw Tn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Mc(at((t=this._delegate).firestore,Xt),[new Pc(t._key,gn.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Sk(n),s=Ak(n,function(u){return new cc(t.firestore,new ui(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return wk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=at(i,xt);var o=at(i.firestore,Xt),s=pn(o),u=new Fo(o);return function(l,f){var p=this,g=new $n;return l.asyncQueue.enqueueAndForget(function(){return H(p,void 0,void 0,function(){var h;return q(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return H(this,void 0,void 0,function(){var E,T;return q(this,function(C){switch(C.label){case 0:return C.trys.push([0,2,,3]),[4,function(D,F){var J=se(D);return J.persistence.runTransaction("read document","readonly",function(V){return J.Mn.mn(V,F)})}(y,_)];case 1:return(T=C.sent()).isFoundDocument()?I.resolve(T):T.isNoDocument()?I.resolve(null):I.reject(new X(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=C.sent(),T=xa(E,"Failed to get document '"+_+" from cache"),I.reject(T),[3,3];case 3:return[2]}})})},[4,ek(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,i._key).then(function(l){return new ui(o,u,i._key,l,new Oo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=at(i,xt);var o=at(i.firestore,Xt);return EI(pn(o),i._key,{source:"server"}).then(function(s){return Wg(o,i,s)})}(this._delegate):function(i){i=at(i,xt);var o=at(i.firestore,Xt);return EI(pn(o),i._key).then(function(s){return Wg(o,i,s)})}(this._delegate)).then(function(i){return new cc(n.firestore,new ui(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Gh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Tn(e,t,n){return e.message=e.message.replace(t,n),e}function Sk(e){for(var t=0,n=e;t<n.length;t++){var i=n[t];if(typeof i=="object"&&!pa(i))return i}return{}}function Ak(e,t){var n,i,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=pa(e[0])?e[0]:pa(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var cc=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Vo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return gk(this._delegate,t._delegate)},e}(),lc=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Se(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(cc),zh=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new Kh(t)}return e.prototype.where=function(t,n,i){try{return new e(this.firestore,ki(this._delegate,function(o,s,u){var l=s,f=Yf("where",o);return new xV(f,l,u)}(t,n,i)))}catch(o){throw Tn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,ki(this._delegate,function(i,o){o===void 0&&(o="asc");var s=o,u=Yf("orderBy",i);return new CV(u,s)}(t,n)))}catch(i){throw Tn(i,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,ki(this._delegate,function(n){return CI("limit",n),new PI("limit",n,"F")}(t)))}catch(n){throw Tn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,ki(this._delegate,function(n){return CI("limitToLast",n),new PI("limitToLast",n,"L")}(t)))}catch(n){throw Tn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new DI("startAt",i,!0)}).apply(void 0,t)))}catch(i){throw Tn(i,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new DI("startAfter",i,!1)}).apply(void 0,t)))}catch(i){throw Tn(i,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LI("endBefore",i,!0)}).apply(void 0,t)))}catch(i){throw Tn(i,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,ki(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new LI("endAt",i,!1)}).apply(void 0,t)))}catch(i){throw Tn(i,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return sk(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(i){i=at(i,or);var o=at(i.firestore,Xt),s=pn(o),u=new Fo(o);return function(l,f){var p=this,g=new $n;return l.asyncQueue.enqueueAndForget(function(){return H(p,void 0,void 0,function(){var h;return q(this,function(m){switch(m.label){case 0:return h=function(y,_,I){return H(this,void 0,void 0,function(){var E,T,C,D,F;return q(this,function(J){switch(J.label){case 0:return J.trys.push([0,2,,3]),[4,Kf(y,_,!0)];case 1:return F=J.sent(),E=new GA(_,F.Bn),T=E._o(F.documents),C=E.applyChanges(T,!1),I.resolve(C.snapshot),[3,3];case 2:return D=J.sent(),F=xa(D,"Failed to execute query '"+_+" against cache"),I.reject(F),[3,3];case 3:return[2]}})})},[4,ek(l)];case 1:return[2,h.apply(void 0,[m.sent(),f,g])]}})})}),g.promise}(s,i._query).then(function(l){return new Mi(o,u,i,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(i){i=at(i,or);var o=at(i.firestore,Xt),s=pn(o),u=new Fo(o);return TI(s,i._query,{source:"server"}).then(function(l){return new Mi(o,u,i,l)})}(this._delegate):function(i){i=at(i,or);var o=at(i.firestore,Xt),s=pn(o),u=new Fo(o);return vk(i._query),TI(s,i._query).then(function(l){return new Mi(o,u,i,l)})}(this._delegate)).then(function(i){return new Xg(n.firestore,new Mi(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=Sk(n),s=Ak(n,function(u){return new Xg(t.firestore,new Mi(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return wk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Gh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),LV=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new lc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Xg=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new zh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new lc(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(i){return new LV(n._firestore,i)})},e.prototype.forEach=function(t,n){var i=this;this._delegate.forEach(function(o){t.call(n,new lc(i._firestore,o))})},e.prototype.isEqual=function(t){return gk(this._delegate,t._delegate)},e}(),Qf=function(e){function t(n,i){var o=this;return(o=e.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Se(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Vo(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Vo(this.firestore,n===void 0?gf(this._delegate):gf(this._delegate,n))}catch(i){throw Tn(i,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var i=this;return function(o,s){var u=at(o.firestore,Xt),l=gf(o),f=Hh(o.converter,s);return Mc(u,[$h(ts(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,gn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Vo(i.firestore,o)})},t.prototype.isEqual=function(n){return ok(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(Gh.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(zh);function Po(e){return at(e,xt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MV=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Kr.bind.apply(Kr,Tt([void 0],t)))}return e.documentId=function(){return new e(Rr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ft(t))instanceof Kr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),FV=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new bV("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Vy("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new IV("arrayUnion",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayUnion",new e(i)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new EV("arrayRemove",o)}).apply(void 0,t);return i._methodName="FieldValue.arrayRemove",new e(i)},e.increment=function(t){var n=function(i){return new TV("increment",i)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),VV={Firestore:Ik,GeoPoint:qh,Timestamp:jn,Blob:bk,Transaction:Ek,WriteBatch:Tk,DocumentReference:Vo,DocumentSnapshot:cc,Query:zh,QueryDocumentSnapshot:lc,QuerySnapshot:Xg,CollectionReference:Qf,FieldPath:MV,FieldValue:FV,setLogLevel:DV,CACHE_SIZE_UNLIMITED:vV};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(e){(function(t,n){t.INTERNAL.registerComponent(new vc("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},VV)))})(e,function(t,n){return new Ik(t,new Xt(t,n),new PV)}),e.registerVersion("@firebase/firestore","2.4.1")}UV(ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kk="firebasestorage.googleapis.com",xk="storageBucket",jV=2*60*1e3,BV=10*60*1e3,Ht=function(e){Se(t,e);function t(n,i){var o=e.call(this,Jm(n),"Firebase Storage: "+i+" ("+Jm(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return Jm(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(NT);function Jm(e){return"storage/"+e}function Hy(){var e="An unknown error occurred, please check the error payload for server response.";return new Ht("unknown",e)}function qV(e){return new Ht("object-not-found","Object '"+e+"' does not exist.")}function $V(e){return new Ht("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HV(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ht("unauthenticated",e)}function KV(){return new Ht("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function GV(e){return new Ht("unauthorized","User does not have permission to access '"+e+"'.")}function zV(){return new Ht("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Ck(){return new Ht("canceled","User canceled the upload/download.")}function WV(e){return new Ht("invalid-url","Invalid URL '"+e+"'.")}function XV(e){return new Ht("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function YV(){return new Ht("no-default-bucket","No default bucket found. Did you set the '"+xk+"' property when initializing the app?")}function Rk(){return new Ht("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function QV(){return new Ht("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function JV(){return new Ht("no-download-url","The given file does not have any download URLs.")}function $s(e){return new Ht("invalid-argument",e)}function Nk(){return new Ht("app-deleted","The Firebase app was deleted.")}function Ok(e){return new Ht("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Lu(e,t){return new Ht("invalid-format","String does not match format '"+e+"': "+t)}function ef(e){throw new Ht("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Zm=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function Pk(e,t){switch(e){case dr.RAW:return new Zm(Dk(t));case dr.BASE64:case dr.BASE64URL:return new Zm(Lk(e,t));case dr.DATA_URL:return new Zm(tU(t),nU(t))}throw Hy()}function Dk(e){for(var t=[],n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=i,u=e.charCodeAt(++n);i=65536|(s&1023)<<10|u&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function eU(e){var t;try{t=decodeURIComponent(e)}catch{throw Lu(dr.DATA_URL,"Malformed data URL.")}return Dk(t)}function Lk(e,t){switch(e){case dr.BASE64:{var n=t.indexOf("-")!==-1,i=t.indexOf("_")!==-1;if(n||i){var o=n?"-":"_";throw Lu(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case dr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw Lu(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=ZV(t)}catch{throw Lu(e,"Invalid character found")}for(var f=new Uint8Array(l.length),p=0;p<l.length;p++)f[p]=l.charCodeAt(p);return f}var Mk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw Lu(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var i=n[1]||null;i!=null&&(this.base64=rU(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}return e}();function tU(e){var t=new Mk(e);return t.base64?Lk(dr.BASE64,t.rest):eU(t.rest)}function nU(e){var t=new Mk(e);return t.contentType}function rU(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iU={STATE_CHANGED:"state_changed"},Sn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eg(e){switch(e){case"running":case"pausing":case"canceling":return Sn.RUNNING;case"paused":return Sn.PAUSED;case"success":return Sn.SUCCESS;case"canceled":return Sn.CANCELED;case"error":return Sn.ERROR;default:return Sn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uo;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Uo||(Uo={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oU=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Uo.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Uo.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Uo.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,i,o){if(this.sent_)throw ef("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw ef("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw ef("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw ef("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function sU(){return new oU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aU=function(){function e(){}return e.prototype.createConnection=function(){return sU()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var i;try{i=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(i.path==="")return i;throw XV(t)},e.makeFromUrl=function(t,n){var i=null,o="([A-Za-z0-9.\\-_]+)";function s(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}var u="(/(.*))?$",l=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function p(Y){Y.path_=decodeURIComponent(Y.path)}for(var g="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+g+"/b/"+o+"/o"+m,"i"),_={bucket:1,path:3},I=n===kk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp("^https?://"+I+"/"+o+"/"+E,"i"),C={bucket:1,path:2},D=[{regex:l,indices:f,postModify:s},{regex:y,indices:_,postModify:p},{regex:T,indices:C,postModify:p}],F=0;F<D.length;F++){var J=D[F],V=J.regex.exec(t);if(V){var me=V[J.indices.bucket],G=V[J.indices.path];G||(G=""),i=new e(me,G),J.postModify(i);break}}if(i==null)throw WV(t);return i},e}(),uU=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(e,t,n){var i=1,o=null,s=!1,u=0;function l(){return u===2}var f=!1;function p(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];f||(f=!0,t.apply(null,_))}function g(_){o=setTimeout(function(){o=null,e(h,l())},_)}function h(_){for(var I=[],E=1;E<arguments.length;E++)I[E-1]=arguments[E];if(!f){if(_){p.call.apply(p,Tt([null,_],I));return}var T=l()||s;if(T){p.call.apply(p,Tt([null,_],I));return}i<64&&(i*=2);var C;u===1?(u=2,C=0):C=(i+Math.random())*1e3,g(C)}}var m=!1;function y(_){m||(m=!0,!f&&(o!==null?(_||(u=2),clearTimeout(o),g(0)):_||(u=1)))}return g(0),setTimeout(function(){s=!0,y(!0)},n),y}function lU(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fU(e){return e!==void 0}function hU(e){return typeof e=="function"}function dU(e){return typeof e=="object"&&!Array.isArray(e)}function Wh(e){return typeof e=="string"||e instanceof String}function qI(e){return Ky()&&e instanceof Blob}function Ky(){return typeof Blob<"u"}function Yg(e,t,n,i){if(i<t)throw $s("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(i>n)throw $s("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(e,t){var n=t.match(/^(\w+):\/\/.+/),i=n==null?void 0:n[1],o=t;return i==null&&(o="https://"+t),o+"/v0"+e}function Fk(e){var t=encodeURIComponent,n="?";for(var i in e)if(e.hasOwnProperty(i)){var o=t(i)+"="+t(e[i]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pU=function(){function e(t,n,i,o,s,u,l,f,p,g,h){var m=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=g,this.timeout_=p,this.pool_=h,this.promise_=new Promise(function(y,_){m.resolve_=y,m.reject_=_,m.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new tf(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function l(f){var p=f.loaded,g=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(p,g)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(l),t.pendingConnection_=null;var f=u.getErrorCode()===Uo.NO_ERROR,p=u.getStatus();if(!f||t.isRetryStatusCode_(p)){var g=u.getErrorCode()===Uo.ABORT;o(!1,new tf(!1,null,g));return}var h=t.successCodes_.indexOf(p)!==-1;o(!0,new tf(h,u))})}function i(o,s){var u=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var p=t.callback_(f,f.getResponseText());fU(p)?u(p):u()}catch(h){l(h)}else if(f!==null){var g=Hy();g.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,g)):l(g)}else if(s.canceled){var g=t.appDelete_?Nk():Ck();l(g)}else{var g=zV();l(g)}}this.canceled_?i(!1,new tf(!1,null,!0)):this.backoffId_=cU(n,i,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&lU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,i=[408,429],o=i.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),tf=function(){function e(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}return e}();function mU(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function gU(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function vU(e,t){t&&(e["X-Firebase-GMPID"]=t)}function yU(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function _U(e,t,n,i,o,s){var u=Fk(e.urlParams),l=e.url+u,f=Object.assign({},e.headers);return vU(f,t),mU(f,n),gU(f,s),yU(f,i),new pU(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function bU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=wU();if(n!==void 0){for(var i=new n,o=0;o<e.length;o++)i.append(e[o]);return i.getBlob()}else{if(Ky())return new Blob(e);throw new Ht("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function IU(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gy=function(){function e(t,n){var i=0,o="";qI(t)?(this.data_=t,i=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(qI(this.data_)){var i=this.data_,o=IU(i,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(Ky()){var i=t.map(function(f){return f instanceof e?f.data_:f});return new e(bU.apply(null,i))}else{var o=t.map(function(f){return Wh(f)?Pk(dr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),l=0;return o.forEach(function(f){for(var p=0;p<f.length;p++)u[l++]=f[p]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(e){var t;try{t=JSON.parse(e)}catch{return null}return dU(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function TU(e,t){var n=t.split("/").filter(function(i){return i.length>0}).join("/");return e.length===0?n:e+"/"+n}function Vk(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SU(e,t){return t}var In=function(){function e(t,n,i,o){this.server=t,this.local=n||t,this.writable=!!i,this.xform=o||SU}return e}(),nf=null;function AU(e){return!Wh(e)||e.length<2?e:Vk(e)}function Xh(){if(nf)return nf;var e=[];e.push(new In("bucket")),e.push(new In("generation")),e.push(new In("metageneration")),e.push(new In("name","fullPath",!0));function t(s,u){return AU(u)}var n=new In("name");n.xform=t,e.push(n);function i(s,u){return u!==void 0?Number(u):u}var o=new In("size");return o.xform=i,e.push(o),e.push(new In("timeCreated")),e.push(new In("updated")),e.push(new In("md5Hash",null,!0)),e.push(new In("cacheControl",null,!0)),e.push(new In("contentDisposition",null,!0)),e.push(new In("contentEncoding",null,!0)),e.push(new In("contentLanguage",null,!0)),e.push(new In("contentType",null,!0)),e.push(new In("metadata","customMetadata",!0)),nf=e,nf}function kU(e,t){function n(){var i=e.bucket,o=e.fullPath,s=new pr(i,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function xU(e,t,n){var i={};i.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];i[u.local]=u.xform(i,t[u.server])}return kU(i,e),i}function Uk(e,t,n){var i=zy(t);if(i===null)return null;var o=i;return xU(e,o,n)}function CU(e,t,n){var i=zy(t);if(i===null||!Wh(i.downloadTokens))return null;var o=i.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),l=u.map(function(f){var p=e.bucket,g=e.fullPath,h="/b/"+s(p)+"/o/"+s(g),m=Zi(h,n),y=Fk({alt:"media",token:f});return m+y});return l[0]}function Wy(e,t){for(var n={},i=t.length,o=0;o<i;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $I="prefixes",HI="items";function RU(e,t,n){var i={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$I])for(var o=0,s=n[$I];o<s.length;o++){var u=s[o],l=u.replace(/\/$/,""),f=e._makeStorageReference(new pr(t,l));i.prefixes.push(f)}if(n[HI])for(var p=0,g=n[HI];p<g.length;p++){var h=g[p],f=e._makeStorageReference(new pr(t,h.name));i.items.push(f)}return i}function NU(e,t,n){var i=zy(n);if(i===null)return null;var o=i;return RU(e,t,o)}var pi=function(){function e(t,n,i,o){this.url=t,this.method=n,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(e){if(!e)throw Hy()}function Yh(e,t){function n(i,o){var s=Uk(e,o,t);return Gr(s!==null),s}return n}function OU(e,t){function n(i,o){var s=NU(e,t,o);return Gr(s!==null),s}return n}function PU(e,t){function n(i,o){var s=Uk(e,o,t);return Gr(s!==null),CU(s,o,e.host)}return n}function Ca(e){function t(n,i){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=KV():o=HV():n.getStatus()===402?o=$V(e.bucket):n.getStatus()===403?o=GV(e.path):o=i,o.serverResponse=i.serverResponse,o}return t}function Qh(e){var t=Ca(e);function n(i,o){var s=t(i,o);return i.getStatus()===404&&(s=qV(e.path)),s.serverResponse=o.serverResponse,s}return n}function jk(e,t,n){var i=t.fullServerUrl(),o=Zi(i,e.host),s="GET",u=e.maxOperationRetryTime,l=new pi(o,s,Yh(e,n),u);return l.errorHandler=Qh(t),l}function DU(e,t,n,i,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),i&&(s.pageToken=i),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),l=Zi(u,e.host),f="GET",p=e.maxOperationRetryTime,g=new pi(l,f,OU(e,t.bucket),p);return g.urlParams=s,g.errorHandler=Ca(t),g}function LU(e,t,n){var i=t.fullServerUrl(),o=Zi(i,e.host),s="GET",u=e.maxOperationRetryTime,l=new pi(o,s,PU(e,n),u);return l.errorHandler=Qh(t),l}function MU(e,t,n,i){var o=t.fullServerUrl(),s=Zi(o,e.host),u="PATCH",l=Wy(n,i),f={"Content-Type":"application/json; charset=utf-8"},p=e.maxOperationRetryTime,g=new pi(s,u,Yh(e,i),p);return g.headers=f,g.body=l,g.errorHandler=Qh(t),g}function FU(e,t){var n=t.fullServerUrl(),i=Zi(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,p){}var l=new pi(i,o,u,s);return l.successCodes=[200,204],l.errorHandler=Qh(t),l}function VU(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Bk(e,t,n){var i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=VU(null,t)),i}function UU(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var D="",F=0;F<2;F++)D=D+Math.random().toString().slice(2);return D}var f=l();u["Content-Type"]="multipart/related; boundary="+f;var p=Bk(t,i,o),g=Wy(p,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,m=`\r
--`+f+"--",y=Gy.getBlob(h,i,m);if(y===null)throw Rk();var _={name:p.fullPath},I=Zi(s,e.host),E="POST",T=e.maxUploadRetryTime,C=new pi(I,E,Yh(e,n),T);return C.urlParams=_,C.headers=u,C.body=y.uploadData(),C.errorHandler=Ca(t),C}var Jf=function(){function e(t,n,i,o){this.current=t,this.total=n,this.finalized=!!i,this.metadata=o||null}return e}();function Xy(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Gr(!1)}var i=t||["active"];return Gr(!!n&&i.indexOf(n)!==-1),n}function jU(e,t,n,i,o){var s=t.bucketOnlyServerUrl(),u=Bk(t,i,o),l={name:u.fullPath},f=Zi(s,e.host),p="POST",g={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+i.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=Wy(u,n),m=e.maxUploadRetryTime;function y(I){Xy(I);var E;try{E=I.getResponseHeader("X-Goog-Upload-URL")}catch{Gr(!1)}return Gr(Wh(E)),E}var _=new pi(f,p,y,m);return _.urlParams=l,_.headers=g,_.body=h,_.errorHandler=Ca(t),_}function BU(e,t,n,i){var o={"X-Goog-Upload-Command":"query"};function s(p){var g=Xy(p,["active","final"]),h=null;try{h=p.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Gr(!1)}h||Gr(!1);var m=Number(h);return Gr(!isNaN(m)),new Jf(m,i.size(),g==="final")}var u="POST",l=e.maxUploadRetryTime,f=new pi(n,u,s,l);return f.headers=o,f.errorHandler=Ca(t),f}var KI=256*1024;function qU(e,t,n,i,o,s,u,l){var f=new Jf(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw QV();var p=f.total-f.current,g=p;o>0&&(g=Math.min(g,o));var h=f.current,m=h+g,y=g===p?"upload, finalize":"upload",_={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},I=i.slice(h,m);if(I===null)throw Rk();function E(F,J){var V=Xy(F,["active","final"]),me=f.current+g,G=i.size(),Y;return V==="final"?Y=Yh(t,s)(F,J):Y=null,new Jf(me,G,V==="final",Y)}var T="POST",C=t.maxUploadRetryTime,D=new pi(n,T,E,C);return D.headers=_,D.body=I.uploadData(),D.progressCallback=l||null,D.errorHandler=Ca(e),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $U=function(){function e(t,n,i){var o=hU(t)||n!=null||i!=null;if(o)this.next=t,this.error=n,this.complete=i;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qk=function(){function e(t,n,i){var o=this;i===void 0&&(i=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=Xh(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(i){return t._updateProgress(n+i)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(i){var o=i[0],s=i[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,i){var o=jU(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(i,o){var s=BU(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,i,o);t._request=u,u.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=KI*this._chunkMultiplier,i=new Jf(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var l;try{l=qU(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,i,t._makeProgressCallback())}catch(p){t._error=p,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,u);t._request=f,f.getPromise().then(function(p){t._increaseMultiplier(),t._request=void 0,t._updateProgress(p.current),p.finalized?(t._metadata=p.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=KI*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,i){var o=jk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,i){var o=UU(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,i);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Ck(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=eg(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,i,o){var s=this,u=new $U(n,i,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(i){t._notifyObserver(i)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(eg(this._state)){case Sn.SUCCESS:Rs(this._resolve.bind(null,this.snapshot))();break;case Sn.CANCELED:case Sn.ERROR:var n=this._reject;Rs(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=eg(this._state);switch(n){case Sn.RUNNING:case Sn.PAUSED:t.next&&Rs(t.next.bind(t,this.snapshot))();break;case Sn.SUCCESS:t.complete&&Rs(t.complete.bind(t))();break;case Sn.CANCELED:case Sn.ERROR:t.error&&Rs(t.error.bind(t,this._error))();break;default:t.error&&Rs(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jh=function(){function e(t,n){this._service=t,n instanceof pr?this._location=n:this._location=pr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new pr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Vk(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=EU(this._location.path);if(t===null)return null;var n=new pr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw Ok(t)},e}();function HU(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new qk(e,new Gy(t),n)}function KU(e){var t={prefixes:[],items:[]};return $k(e,t).then(function(){return t})}function $k(e,t,n){return H(this,void 0,void 0,function(){var i,o,s,u;return q(this,function(l){switch(l.label){case 0:return i={pageToken:n},[4,Hk(e,i)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,$k(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Hk(e,t){return H(this,void 0,void 0,function(){var n,i;return q(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&Yg("options.maxResults",1,1e3,t.maxResults),n=t||{},i=DU(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(i)];case 1:return[2,o.sent().getPromise()]}})})}function GU(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=jk(e.storage,e._location,Xh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function zU(e,t){return H(this,void 0,void 0,function(){var n;return q(this,function(i){switch(i.label){case 0:return e._throwIfRoot("updateMetadata"),n=MU(e.storage,e._location,t,Xh()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,i.sent().getPromise()]}})})}function WU(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=LU(e.storage,e._location,Xh()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(i){if(i===null)throw JV();return i})]}})})}function XU(e){return H(this,void 0,void 0,function(){var t;return q(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=FU(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function Kk(e,t){var n=TU(e._location.path,t),i=new pr(e._location.bucket,n);return new Jh(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(e){return/^[A-Za-z]+:\/\//.test(e)}function YU(e,t){return new Jh(e,t)}function Gk(e,t){if(e instanceof Zh){var n=e;if(n._bucket==null)throw YV();var i=new Jh(n,n._bucket);return t!=null?Gk(i,t):i}else return t!==void 0?Kk(e,t):e}function QU(e,t){if(t&&Qg(t)){if(e instanceof Zh)return YU(e,t);throw $s("To use ref(service, url), the first argument must be a Storage instance.")}else return Gk(e,t)}function GI(e,t){var n=t==null?void 0:t[xk];return n==null?null:pr.makeFromBucketSpec(n,e)}function JU(e,t,n,i){i===void 0&&(i={}),e.host="http://"+t+":"+n;var o=i.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:CT(o,e.app.options.projectId))}var Zh=function(){function e(t,n,i,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=kk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jV,this._maxUploadRetryTime=BV,this._requests=new Set,s!=null?this._bucket=pr.makeFromBucketSpec(s,this._host):this._bucket=GI(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=pr.makeFromBucketSpec(this._url,t):this._bucket=GI(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Yg("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Yg("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=i.sent(),n!==null)return[2,n.accessToken];i.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return q(this,function(i){switch(i.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=i.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new Jh(this,t)},e.prototype._makeRequest=function(t,n,i){var o=this;if(this._deleted)return new uU(Nk());var s=_U(t,this._appId,n,i,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,i,o;return q(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),i=n[0],o=n[1],[2,this._makeRequest(t,i,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(e,t,n){return e=ft(e),HU(e,t,n)}function ej(e){return e=ft(e),GU(e)}function tj(e,t){return e=ft(e),zU(e,t)}function nj(e,t){return e=ft(e),Hk(e,t)}function rj(e){return e=ft(e),KU(e)}function ij(e){return e=ft(e),WU(e)}function oj(e){return e=ft(e),XU(e)}function zI(e,t){return e=ft(e),QU(e,t)}function sj(e,t){return Kk(e,t)}function aj(e,t,n,i){i===void 0&&(i={}),JU(e,t,n,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(){function e(t,n,i){this._delegate=t,this.task=n,this.ref=i}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WI=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new rf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var i=this;return this._delegate.then(function(o){if(t)return t(new rf(o,i,i._ref))},n)},e.prototype.on=function(t,n,i,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new rf(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new rf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,i||void 0,o||void 0)},e}(),XI=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new fc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new fc(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fc=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=sj(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new WI(ZU(this._delegate,t,n),this)},e.prototype.putString=function(t,n,i){n===void 0&&(n=dr.RAW),this._throwIfRoot("putString");var o=Pk(n,t),s=Ys({},i);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new WI(new qk(this._delegate,new Gy(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return rj(this._delegate).then(function(n){return new XI(n,t.storage)})},e.prototype.list=function(t){var n=this;return nj(this._delegate,t||void 0).then(function(i){return new XI(i,n.storage)})},e.prototype.getMetadata=function(){return ej(this._delegate)},e.prototype.updateMetadata=function(t){return tj(this._delegate,t)},e.prototype.getDownloadURL=function(){return ij(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),oj(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw Ok(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uj=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(Qg(t))throw $s("ref() expected a child path but got a URL, use refFromURL instead.");return new fc(zI(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!Qg(t))throw $s("refFromURL() expected a full URL but got a child path, use ref() instead.");try{pr.makeFromUrl(t,this._delegate.host)}catch{throw $s("refFromUrl() expected a valid full URL but got an invalid one.")}return new fc(zI(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,i){i===void 0&&(i={}),aj(this._delegate,t,n,i)},e}(),cj="@firebase/storage",lj="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fj="storage";function hj(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new uj(i,new Zh(i,o,s,new aU,n,ke.SDK_VERSION));return u}function dj(e){var t={TaskState:Sn,TaskEvent:iU,StringFormat:dr,Storage:Zh,Reference:fc};e.INTERNAL.registerComponent(new vc(fj,hj,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(cj,lj)}dj(ke);const pj={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};ke.initializeApp(pj);const sr=ke.auth(),Yy=ke.firestore(),zk=ke.storage(),mj=Yy.collection("users"),zr=Yy.collection("songs"),YI=Yy.collection("comments"),Ra=Cv("user",{state:()=>({userLoggedIn:!1}),actions:{async register(e){const t=await sr.createUserWithEmailAndPassword(e.email,e.password),n={name:e.name,email:e.email,birthdate:e.birthdate,country:e.country,phone:e.phone};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]===null||n[i]==="")&&delete n[i]}),await mj.doc(t.user.uid).set({userData:n}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0},async authenticate(e){await sr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0},async signOut(){await sr.signOut(),this.userLoggedIn=!1}}}),Kn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n},gj={name:"AppHeader",computed:{...YD(Tf,Ra),...Rv(Tf,["isOpen"])},methods:{toggleAuthModal(){this.isOpen=!this.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},vj={id:"header",class:"fixed top-0 z-50 w-full font-circular-black bg-neutral-900"},yj={class:"flex items-center justify-between py-5 px-10"},_j={class:"flex flex-row gap-2 items-center text-white text-sm"},wj={class:"md:hover:scale-105"},bj=R("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[R("path",{fill:"#1ED760","fill-rule":"evenodd",d:"M19.0983701,10.6382791 C15.230178,8.34118115 8.85003755,8.12986439 5.15729493,9.25058527 C4.56433588,9.43062856 3.93727638,9.09580812 3.75758647,8.50284907 C3.57789655,7.90953664 3.91236362,7.28283051 4.50585273,7.10261054 C8.74455585,5.81598127 15.7909802,6.06440214 20.2440037,8.70780512 C20.7774195,9.02442687 20.9525156,9.71332656 20.6362472,10.2456822 C20.3198021,10.779098 19.6305491,10.9549008 19.0983701,10.6382791 M18.971686,14.0407262 C18.7004726,14.4810283 18.1246521,14.6190203 17.6848801,14.3486903 C14.4600027,12.3664473 9.54264764,11.792217 5.72728477,12.9503953 C5.23256328,13.0998719 4.70992535,12.8208843 4.55974204,12.3270462 C4.41061884,11.8323247 4.68978312,11.3107469 5.18362118,11.1602103 C9.5419409,9.83771368 14.9600247,10.4782013 18.6638986,12.7544503 C19.1036707,13.0253103 19.242016,13.6013075 18.971686,14.0407262 M17.5034233,17.308185 C17.2876894,17.6617342 16.827245,17.7725165 16.4749326,17.5571359 C13.6571403,15.8347984 10.1101639,15.4459119 5.93312425,16.4000177 C5.53063298,16.4922479 5.12937851,16.2399399 5.03767834,15.8376253 C4.94544812,15.4351341 5.19669597,15.0338796 5.60024736,14.9420027 C10.1712973,13.8970803 14.0923186,14.3467468 17.2551791,16.2796943 C17.6078449,16.4948982 17.7189805,16.9556959 17.5034233,17.308185 M12,0 C5.37267547,0 0,5.37249879 0,11.9998233 C0,18.6278546 5.37267547,24 12,24 C18.6275012,24 24,18.6278546 24,11.9998233 C24,5.37249879 18.6275012,0 12,0"})],-1),Ij=R("span",{class:"hidden md:block"},"About",-1),Ej={class:"md:hover:scale-105"},Tj=R("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[R("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),R("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),Sj={class:"md:hover:scale-105"},Aj=R("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[R("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),kj=R("span",{class:"hidden md:block"},"Login/Register",-1),xj=[Aj,kj],Cj=R("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[R("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),Rj=R("span",{class:"hidden md:block"},"Logout",-1),Nj=[Cj,Rj],Oj=R("div",null,null,-1),Pj=R("li",{class:"md:hover:scale-105"},[R("a",{class:"",href:"https://www.spotify.com/es/download/",target:"_blank"},[R("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[R("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1);function Dj(e,t,n,i,o,s){const u=wt("RouterLink");return $e(),rt("header",vj,[R("nav",yj,[Te(u,{class:"text-[#1ed760] font-circular-regular text-2xl justify-center hover:scale-105",to:{name:"home"},"exact-active-class":"no-active"},{default:tr(()=>[Lt(" Musicfy ")]),_:1}),R("ul",_j,[R("li",wj,[Te(u,{class:"flex items-center gap-1",to:{name:"about"}},{default:tr(()=>[bj,Ij]),_:1})]),bf(R("li",Ej,[Te(u,{class:"",to:{name:"manage"}},{default:tr(()=>[Tj]),_:1})],512),[[yg,e.userStore.userLoggedIn]]),R("li",Sj,[e.userStore.userLoggedIn?($e(),rt("a",{key:1,class:"flex gap-1 items-center",href:"#",onClick:t[1]||(t[1]=nn(l=>s.signOut(),["prevent"]))},Nj)):($e(),rt("a",{key:0,class:"flex items-center",href:"#",onClick:t[0]||(t[0]=nn((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},xj)),Oj]),Pj])])])}const Lj=Kn(gj,[["render",Dj]]),Mj={name:"LoginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},togglePassword:!1,login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Your account is being created. "}},methods:{...gc(Ra,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.login_alert_variant="bg-[#1ed760]",this.login_alert_msg="Success! Login completed.",window.location.reload()}}},Fj={class:"mb-3"},Vj=R("label",{class:"inline-block mb-2"},"Email",-1),Uj={class:"mb-3"},jj=R("label",{class:"inline-block mb-2"},"Password",-1),Bj={class:"flex items-center"},qj=["type"],$j=["disabled"];function Hj(e,t,n,i,o,s){const u=wt("VeeField"),l=wt("ErrorMessage"),f=wt("VeeForm");return $e(),rt(zt,null,[o.login_show_alert?($e(),rt("div",{key:0,class:jt(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},Et(o.login_alert_msg),3)):Co("",!0),Te(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:s.login},{default:tr(()=>[R("div",Fj,[Vj,Te(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"your@email.com",autocomplete:"email"}),Te(l,{class:"text-red-600 block",name:"email"})]),R("div",Uj,[jj,Te(u,{name:"password",bails:!1},{default:tr(({field:p,errors:g})=>[R("div",Bj,[R("input",Ku(p,{type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"Password",autocomplete:"current-password"}),null,16,qj),R("i",{onClick:t[0]||(t[0]=h=>o.togglePassword=!o.togglePassword),class:jt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),Te(l,Ku(g,{class:"text-red-600 block",name:"password"}),null,16)]),_:1})]),R("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,$j)]),_:1},8,["validation-schema","onSubmit"])],64)}const Kj=Kn(Mj,[["render",Hj]]),Gj={name:"RegisterForm",data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},togglePassword:!1,toggleConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_success_msg:"Success! Your account has been created.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500",reg_success_variant:"bg-[#1ed760]"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(e){this.initRegisterAlert();try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.reg_alert_variant=this.reg_success_variant,this.reg_alert_msg=this.reg_success_msg,this.$router.push({name:"home"})},...gc(Ra,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},zj={class:""},Wj=R("label",{class:"select-none group"},[Lt("Name "),R("sup",{class:""},"*"),R("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),Xj={class:""},Yj=R("label",{class:"select-none group"},[Lt("Email "),R("sup",{class:""},"*"),R("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),Qj={class:""},Jj=R("label",{class:"select-none"},"Phone",-1),Zj={class:""},e4=R("label",{class:"select-none group"},[Lt("Birthdate "),R("sup",{class:""},"*"),R("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),t4={class:""},n4=R("label",{class:"select-none group"},[Lt("Password "),R("sup",{class:""},"*"),R("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),r4={class:"flex items-center"},i4=["type"],o4={class:""},s4=R("label",{class:"select-none group"},[Lt("Confirm Password "),R("sup",{class:""},"*"),R("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),a4={class:"flex items-center"},u4=["type"],c4={class:""},l4=R("label",{class:"select-none group"},[Lt("Country "),R("sup",{class:""},"*"),R("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),f4=R("option",{value:"Argentina"},"Argentina",-1),h4=R("option",{value:"United States"},"United States",-1),d4=R("option",{value:"Spain"},"Spain",-1),p4=R("option",{value:"Germany"},"Germany",-1),m4=R("option",{value:"Antarctica"},"Antarctica",-1),g4=R("option",{value:"Other"},"Other",-1),v4={class:"mb-3 pl-6"},y4={class:"inline-block hover:cursor-pointer"},_4=R("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function w4(e,t,n,i,o,s){const u=wt("VeeField"),l=wt("ErrorMessage"),f=wt("VeeForm");return $e(),rt(zt,null,[o.reg_show_alert?($e(),rt("div",{key:0,class:jt(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},Et(o.reg_alert_msg),3)):Co("",!0),Te(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:s.register,"initial-values":o.userData},{default:tr(()=>[R("div",zj,[Wj,Te(u,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),Te(l,{class:"text-red-600",name:"name"})]),R("div",Xj,[Yj,Te(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),Te(l,{class:"text-red-600",name:"email"})]),R("div",Qj,[Jj,Te(u,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your phone"}),Te(l,{class:"text-red-600",name:"phone"})]),R("div",Zj,[e4,Te(u,{name:"birthdate",type:"date",min:"1900-01-01",max:s.maxBirthdate,class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),Te(l,{class:"text-red-600",name:"birthdate"})]),R("div",t4,[n4,Te(u,{name:"password",bails:!1},{default:tr(({field:p,errors:g})=>[R("div",r4,[R("input",Ku(p,{placeholder:"Enter new Password",type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,i4),R("i",{onClick:t[0]||(t[0]=h=>o.togglePassword=!o.togglePassword),class:jt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),($e(!0),rt(zt,null,mc(g,h=>($e(),rt("div",{class:"text-red-600",key:h},Et(h),1))),128))]),_:1})]),R("div",o4,[s4,Te(u,{name:"confirmPassword",bails:!1},{default:tr(({field:p})=>[R("div",a4,[R("input",Ku(p,{type:o.toggleConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),null,16,u4),R("i",{onClick:t[1]||(t[1]=g=>o.toggleConfirmPassword=!o.toggleConfirmPassword),class:jt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.toggleConfirmPassword,"fa-regular fa-eye":!o.toggleConfirmPassword}])},null,2)])]),_:1}),Te(l,{class:"text-red-600",name:"confirmPassword"})]),R("div",c4,[l4,Te(u,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:tr(()=>[f4,h4,d4,p4,m4,g4]),_:1}),Te(l,{class:"text-red-600",name:"country"})]),R("div",v4,[R("label",y4,[Te(u,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Lt(" Accept terms of service")]),Te(l,{class:"text-red-600 block",name:"tos"})]),_4]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const b4=Kn(Gj,[["render",w4]]),I4={name:"AppAuth",components:{AppLoginForm:Kj,AppRegisterForm:b4},data(){return{tab:"login"}},computed:{...zu(Tf,["hiddenClass"]),...Rv(Tf,{modalVisibility:"isOpen"})},methods:{}},E4={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},T4=R("div",{class:"fixed inset-0 transition-opacity"},[R("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),S4=R("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),A4={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},k4={class:"py-4 text-left px-6"},x4={class:"flex justify-between items-center pb-4"},C4=R("p",{class:"text-2xl font-bold"},"Your Account",-1),R4=R("i",{class:"fas fa-times"},null,-1),N4=[R4],O4={class:"flex flex-wrap mb-4 gap-2"},P4={class:"flex-auto text-center"},D4={class:"flex-auto text-center"};function L4(e,t,n,i,o,s){const u=wt("AppLoginForm"),l=wt("AppRegisterForm");return $e(),rt("div",{class:jt(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[R("div",E4,[T4,S4,R("div",A4,[R("div",k4,[R("div",x4,[C4,R("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},N4)]),R("ul",O4,[R("li",P4,[R("a",{class:jt(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=nn(f=>o.tab="login",["prevent"]))},"Login",2)]),R("li",D4,[R("a",{class:jt(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=nn(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?($e(),Gs(u,{key:0})):($e(),Gs(l,{key:1}))])])])],2)}const M4=Kn(I4,[["render",L4]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ls=typeof window<"u";function F4(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const ct=Object.assign;function tg(e,t){const n={};for(const i in t){const o=t[i];n[i]=Nr(o)?o.map(e):e(o)}return n}const Mu=()=>{},Nr=Array.isArray,V4=/\/$/,U4=e=>e.replace(V4,"");function ng(e,t,n="/"){let i,o={},s="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(i=i||t.slice(0,l),u=t.slice(l,t.length)),i=$4(i??t,n),{fullPath:i+(s&&"?")+s+u,path:i,query:o,hash:u}}function j4(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function QI(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function B4(e,t,n){const i=t.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&ma(t.matched[i],n.matched[o])&&Wk(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ma(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Wk(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!q4(e[n],t[n]))return!1;return!0}function q4(e,t){return Nr(e)?JI(e,t):Nr(t)?JI(t,e):e===t}function JI(e,t){return Nr(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function $4(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let s=n.length-1,u,l;for(u=0;u<i.length;u++)if(l=i[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(u-(u===i.length?1:0)).join("/")}var hc;(function(e){e.pop="pop",e.push="push"})(hc||(hc={}));var Fu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Fu||(Fu={}));function H4(e){if(!e)if(Ls){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),U4(e)}const K4=/^[^#]+#/;function G4(e,t){return e.replace(K4,"#")+t}function z4(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const ed=()=>({left:window.pageXOffset,top:window.pageYOffset});function W4(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=z4(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function ZI(e,t){return(history.state?history.state.position-t:-1)+e}const Jg=new Map;function X4(e,t){Jg.set(e,t)}function Y4(e){const t=Jg.get(e);return Jg.delete(e),t}let Q4=()=>location.protocol+"//"+location.host;function Xk(e,t){const{pathname:n,search:i,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),QI(f,"")}return QI(n,e)+i+o}function J4(e,t,n,i){let o=[],s=[],u=null;const l=({state:m})=>{const y=Xk(e,location),_=n.value,I=t.value;let E=0;if(m){if(n.value=y,t.value=m,u&&u===_){u=null;return}E=I?m.position-I.position:0}else i(y);o.forEach(T=>{T(n.value,_,{delta:E,type:hc.pop,direction:E?E>0?Fu.forward:Fu.back:Fu.unknown})})};function f(){u=n.value}function p(m){o.push(m);const y=()=>{const _=o.indexOf(m);_>-1&&o.splice(_,1)};return s.push(y),y}function g(){const{history:m}=window;m.state&&m.replaceState(ct({},m.state,{scroll:ed()}),"")}function h(){for(const m of s)m();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:p,destroy:h}}function eE(e,t,n,i=!1,o=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:o?ed():null}}function Z4(e){const{history:t,location:n}=window,i={value:Xk(e,n)},o={value:t.state};o.value||s(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,p,g){const h=e.indexOf("#"),m=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:Q4()+e+f;try{t[g?"replaceState":"pushState"](p,"",m),o.value=p}catch(y){console.error(y),n[g?"replace":"assign"](m)}}function u(f,p){const g=ct({},t.state,eE(o.value.back,f,o.value.forward,!0),p,{position:o.value.position});s(f,g,!0),i.value=f}function l(f,p){const g=ct({},o.value,t.state,{forward:f,scroll:ed()});s(g.current,g,!0);const h=ct({},eE(i.value,f,null),{position:g.position+1},p);s(f,h,!1),i.value=f}return{location:i,state:o,push:l,replace:u}}function e3(e){e=H4(e);const t=Z4(e),n=J4(e,t.state,t.location,t.replace);function i(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=ct({location:"",base:e,go:i,createHref:G4.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function t3(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),e3(e)}function n3(e){return typeof e=="string"||e&&typeof e=="object"}function Yk(e){return typeof e=="string"||typeof e=="symbol"}const xi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Qk=Symbol("");var tE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(tE||(tE={}));function ga(e,t){return ct(new Error,{type:e,[Qk]:!0},t)}function ni(e,t){return e instanceof Error&&Qk in e&&(t==null||!!(e.type&t))}const nE="[^/]+?",r3={sensitive:!1,strict:!1,start:!0,end:!0},i3=/[.+*?^${}()[\]/\\]/g;function o3(e,t){const n=ct({},r3,t),i=[];let o=n.start?"^":"";const s=[];for(const p of e){const g=p.length?[]:[90];n.strict&&!p.length&&(o+="/");for(let h=0;h<p.length;h++){const m=p[h];let y=40+(n.sensitive?.25:0);if(m.type===0)h||(o+="/"),o+=m.value.replace(i3,"\\$&"),y+=40;else if(m.type===1){const{value:_,repeatable:I,optional:E,regexp:T}=m;s.push({name:_,repeatable:I,optional:E});const C=T||nE;if(C!==nE){y+=10;try{new RegExp(`(${C})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${_}" (${C}): `+F.message)}}let D=I?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(D=E&&p.length<2?`(?:/${D})`:"/"+D),E&&(D+="?"),o+=D,y+=20,E&&(y+=-8),I&&(y+=-20),C===".*"&&(y+=-50)}g.push(y)}i.push(g)}if(n.strict&&n.end){const p=i.length-1;i[p][i[p].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(p){const g=p.match(u),h={};if(!g)return null;for(let m=1;m<g.length;m++){const y=g[m]||"",_=s[m-1];h[_.name]=y&&_.repeatable?y.split("/"):y}return h}function f(p){let g="",h=!1;for(const m of e){(!h||!g.endsWith("/"))&&(g+="/"),h=!1;for(const y of m)if(y.type===0)g+=y.value;else if(y.type===1){const{value:_,repeatable:I,optional:E}=y,T=_ in p?p[_]:"";if(Nr(T)&&!I)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const C=Nr(T)?T.join("/"):T;if(!C)if(E)m.length<2&&(g.endsWith("/")?g=g.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);g+=C}}return g||"/"}return{re:u,score:i,keys:s,parse:l,stringify:f}}function s3(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function a3(e,t){let n=0;const i=e.score,o=t.score;for(;n<i.length&&n<o.length;){const s=s3(i[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-i.length)===1){if(rE(i))return 1;if(rE(o))return-1}return o.length-i.length}function rE(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const u3={type:0,value:""},c3=/[a-zA-Z0-9_]/;function l3(e){if(!e)return[[]];if(e==="/")return[[u3]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${p}": ${y}`)}let n=0,i=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let l=0,f,p="",g="";function h(){p&&(n===0?s.push({type:0,value:p}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:p,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),p="")}function m(){p+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(p&&h(),u()):f===":"?(h(),n=1):m();break;case 4:m(),n=i;break;case 1:f==="("?n=2:c3.test(f)?m():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${p}"`),h(),u(),o}function f3(e,t,n){const i=o3(l3(e.path),n),o=ct(i,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function h3(e,t){const n=[],i=new Map;t=sE({strict:!1,end:!0,sensitive:!1},t);function o(g){return i.get(g)}function s(g,h,m){const y=!m,_=d3(g);_.aliasOf=m&&m.record;const I=sE(t,g),E=[_];if("alias"in g){const D=typeof g.alias=="string"?[g.alias]:g.alias;for(const F of D)E.push(ct({},_,{components:m?m.record.components:_.components,path:F,aliasOf:m?m.record:_}))}let T,C;for(const D of E){const{path:F}=D;if(h&&F[0]!=="/"){const J=h.record.path,V=J[J.length-1]==="/"?"":"/";D.path=h.record.path+(F&&V+F)}if(T=f3(D,h,I),m?m.alias.push(T):(C=C||T,C!==T&&C.alias.push(T),y&&g.name&&!oE(T)&&u(g.name)),_.children){const J=_.children;for(let V=0;V<J.length;V++)s(J[V],T,m&&m.children[V])}m=m||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&f(T)}return C?()=>{u(C)}:Mu}function u(g){if(Yk(g)){const h=i.get(g);h&&(i.delete(g),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(g);h>-1&&(n.splice(h,1),g.record.name&&i.delete(g.record.name),g.children.forEach(u),g.alias.forEach(u))}}function l(){return n}function f(g){let h=0;for(;h<n.length&&a3(g,n[h])>=0&&(g.record.path!==n[h].record.path||!Jk(g,n[h]));)h++;n.splice(h,0,g),g.record.name&&!oE(g)&&i.set(g.record.name,g)}function p(g,h){let m,y={},_,I;if("name"in g&&g.name){if(m=i.get(g.name),!m)throw ga(1,{location:g});I=m.record.name,y=ct(iE(h.params,m.keys.filter(C=>!C.optional).map(C=>C.name)),g.params&&iE(g.params,m.keys.map(C=>C.name))),_=m.stringify(y)}else if("path"in g)_=g.path,m=n.find(C=>C.re.test(_)),m&&(y=m.parse(_),I=m.record.name);else{if(m=h.name?i.get(h.name):n.find(C=>C.re.test(h.path)),!m)throw ga(1,{location:g,currentLocation:h});I=m.record.name,y=ct({},h.params,g.params),_=m.stringify(y)}const E=[];let T=m;for(;T;)E.unshift(T.record),T=T.parent;return{name:I,path:_,params:y,matched:E,meta:m3(E)}}return e.forEach(g=>s(g)),{addRoute:s,resolve:p,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function iE(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function d3(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:p3(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function p3(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function oE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function m3(e){return e.reduce((t,n)=>ct(t,n.meta),{})}function sE(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Jk(e,t){return t.children.some(n=>n===e||Jk(e,n))}const Zk=/#/g,g3=/&/g,v3=/\//g,y3=/=/g,_3=/\?/g,ex=/\+/g,w3=/%5B/g,b3=/%5D/g,tx=/%5E/g,I3=/%60/g,nx=/%7B/g,E3=/%7C/g,rx=/%7D/g,T3=/%20/g;function Qy(e){return encodeURI(""+e).replace(E3,"|").replace(w3,"[").replace(b3,"]")}function S3(e){return Qy(e).replace(nx,"{").replace(rx,"}").replace(tx,"^")}function Zg(e){return Qy(e).replace(ex,"%2B").replace(T3,"+").replace(Zk,"%23").replace(g3,"%26").replace(I3,"`").replace(nx,"{").replace(rx,"}").replace(tx,"^")}function A3(e){return Zg(e).replace(y3,"%3D")}function k3(e){return Qy(e).replace(Zk,"%23").replace(_3,"%3F")}function x3(e){return e==null?"":k3(e).replace(v3,"%2F")}function Zf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function C3(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const s=i[o].replace(ex," "),u=s.indexOf("="),l=Zf(u<0?s:s.slice(0,u)),f=u<0?null:Zf(s.slice(u+1));if(l in t){let p=t[l];Nr(p)||(p=t[l]=[p]),p.push(f)}else t[l]=f}return t}function aE(e){let t="";for(let n in e){const i=e[n];if(n=A3(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Nr(i)?i.map(s=>s&&Zg(s)):[i&&Zg(i)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function R3(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Nr(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return t}const N3=Symbol(""),uE=Symbol(""),Jy=Symbol(""),ix=Symbol(""),ev=Symbol("");function yu(){let e=[];function t(i){return e.push(i),()=>{const o=e.indexOf(i);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Oi(e,t,n,i,o){const s=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const f=h=>{h===!1?l(ga(4,{from:n,to:t})):h instanceof Error?l(h):n3(h)?l(ga(2,{from:t,to:h})):(s&&i.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},p=e.call(i&&i.instances[o],t,n,f);let g=Promise.resolve(p);e.length<3&&(g=g.then(f)),g.catch(h=>l(h))})}function rg(e,t,n,i){const o=[];for(const s of e)for(const u in s.components){let l=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(O3(l)){const p=(l.__vccOpts||l)[t];p&&o.push(Oi(p,n,i,s,u))}else{let f=l();o.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const g=F4(p)?p.default:p;s.components[u]=g;const m=(g.__vccOpts||g)[t];return m&&Oi(m,n,i,s,u)()}))}}return o}function O3(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function cE(e){const t=mr(Jy),n=mr(ix),i=qe(()=>t.resolve(Ye(e.to))),o=qe(()=>{const{matched:f}=i.value,{length:p}=f,g=f[p-1],h=n.matched;if(!g||!h.length)return-1;const m=h.findIndex(ma.bind(null,g));if(m>-1)return m;const y=lE(f[p-2]);return p>1&&lE(g)===y&&h[h.length-1].path!==y?h.findIndex(ma.bind(null,f[p-2])):m}),s=qe(()=>o.value>-1&&M3(n.params,i.value.params)),u=qe(()=>o.value>-1&&o.value===n.matched.length-1&&Wk(n.params,i.value.params));function l(f={}){return L3(f)?t[Ye(e.replace)?"replace":"push"](Ye(e.to)).catch(Mu):Promise.resolve()}return{route:i,href:qe(()=>i.value.href),isActive:s,isExactActive:u,navigate:l}}const P3=pc({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:cE,setup(e,{slots:t}){const n=li(cE(e)),{options:i}=mr(Jy),o=qe(()=>({[fE(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[fE(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Xs("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),D3=P3;function L3(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function M3(e,t){for(const n in t){const i=t[n],o=e[n];if(typeof i=="string"){if(i!==o)return!1}else if(!Nr(o)||o.length!==i.length||i.some((s,u)=>s!==o[u]))return!1}return!0}function lE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const fE=(e,t,n)=>e??t??n,F3=pc({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=mr(ev),o=qe(()=>e.route||i.value),s=mr(uE,0),u=qe(()=>{let p=Ye(s);const{matched:g}=o.value;let h;for(;(h=g[p])&&!h.components;)p++;return p}),l=qe(()=>o.value.matched[u.value]);Bs(uE,qe(()=>u.value+1)),Bs(N3,l),Bs(ev,o);const f=An();return ir(()=>[f.value,l.value,e.name],([p,g,h],[m,y,_])=>{g&&(g.instances[h]=p,y&&y!==g&&p&&p===m&&(g.leaveGuards.size||(g.leaveGuards=y.leaveGuards),g.updateGuards.size||(g.updateGuards=y.updateGuards))),p&&g&&(!y||!ma(g,y)||!m)&&(g.enterCallbacks[h]||[]).forEach(I=>I(p))},{flush:"post"}),()=>{const p=o.value,g=e.name,h=l.value,m=h&&h.components[g];if(!m)return hE(n.default,{Component:m,route:p});const y=h.props[g],_=y?y===!0?p.params:typeof y=="function"?y(p):y:null,E=Xs(m,ct({},_,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[g]=null)},ref:f}));return hE(n.default,{Component:E,route:p})||E}}});function hE(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const ox=F3;function V3(e){const t=h3(e.routes,e),n=e.parseQuery||C3,i=e.stringifyQuery||aE,o=e.history,s=yu(),u=yu(),l=yu(),f=WE(xi);let p=xi;Ls&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=tg.bind(null,L=>""+L),h=tg.bind(null,x3),m=tg.bind(null,Zf);function y(L,$){let te,ue;return Yk(L)?(te=t.getRecordMatcher(L),ue=$):ue=L,t.addRoute(ue,te)}function _(L){const $=t.getRecordMatcher(L);$&&t.removeRoute($)}function I(){return t.getRoutes().map(L=>L.record)}function E(L){return!!t.getRecordMatcher(L)}function T(L,$){if($=ct({},$||f.value),typeof L=="string"){const P=ng(n,L,$.path),j=t.resolve({path:P.path},$),B=o.createHref(P.fullPath);return ct(P,j,{params:m(j.params),hash:Zf(P.hash),redirectedFrom:void 0,href:B})}let te;if("path"in L)te=ct({},L,{path:ng(n,L.path,$.path).path});else{const P=ct({},L.params);for(const j in P)P[j]==null&&delete P[j];te=ct({},L,{params:h(P)}),$.params=h($.params)}const ue=t.resolve(te,$),Pe=L.hash||"";ue.params=g(m(ue.params));const A=j4(i,ct({},L,{hash:S3(Pe),path:ue.path})),k=o.createHref(A);return ct({fullPath:A,hash:Pe,query:i===aE?R3(L.query):L.query||{}},ue,{redirectedFrom:void 0,href:k})}function C(L){return typeof L=="string"?ng(n,L,f.value.path):ct({},L)}function D(L,$){if(p!==L)return ga(8,{from:$,to:L})}function F(L){return me(L)}function J(L){return F(ct(C(L),{replace:!0}))}function V(L){const $=L.matched[L.matched.length-1];if($&&$.redirect){const{redirect:te}=$;let ue=typeof te=="function"?te(L):te;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=C(ue):{path:ue},ue.params={}),ct({query:L.query,hash:L.hash,params:"path"in ue?{}:L.params},ue)}}function me(L,$){const te=p=T(L),ue=f.value,Pe=L.state,A=L.force,k=L.replace===!0,P=V(te);if(P)return me(ct(C(P),{state:typeof P=="object"?ct({},Pe,P.state):Pe,force:A,replace:k}),$||te);const j=te;j.redirectedFrom=$;let B;return!A&&B4(i,ue,te)&&(B=ga(16,{to:j,from:ue}),Kt(ue,ue,!0,!1)),(B?Promise.resolve(B):x(j,ue)).catch(W=>ni(W)?ni(W,2)?W:Ct(W):ge(W,j,ue)).then(W=>{if(W){if(ni(W,2))return me(ct({replace:k},C(W.to),{state:typeof W.to=="object"?ct({},Pe,W.to.state):Pe,force:A}),$||j)}else W=st(j,ue,!0,k,Pe);return Ke(j,ue,W),W})}function G(L,$){const te=D(L,$);return te?Promise.reject(te):Promise.resolve()}function Y(L){const $=Gn.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(L):L()}function x(L,$){let te;const[ue,Pe,A]=U3(L,$);te=rg(ue.reverse(),"beforeRouteLeave",L,$);for(const P of ue)P.leaveGuards.forEach(j=>{te.push(Oi(j,L,$))});const k=G.bind(null,L,$);return te.push(k),ve(te).then(()=>{te=[];for(const P of s.list())te.push(Oi(P,L,$));return te.push(k),ve(te)}).then(()=>{te=rg(Pe,"beforeRouteUpdate",L,$);for(const P of Pe)P.updateGuards.forEach(j=>{te.push(Oi(j,L,$))});return te.push(k),ve(te)}).then(()=>{te=[];for(const P of A)if(P.beforeEnter)if(Nr(P.beforeEnter))for(const j of P.beforeEnter)te.push(Oi(j,L,$));else te.push(Oi(P.beforeEnter,L,$));return te.push(k),ve(te)}).then(()=>(L.matched.forEach(P=>P.enterCallbacks={}),te=rg(A,"beforeRouteEnter",L,$),te.push(k),ve(te))).then(()=>{te=[];for(const P of u.list())te.push(Oi(P,L,$));return te.push(k),ve(te)}).catch(P=>ni(P,8)?P:Promise.reject(P))}function Ke(L,$,te){l.list().forEach(ue=>Y(()=>ue(L,$,te)))}function st(L,$,te,ue,Pe){const A=D(L,$);if(A)return A;const k=$===xi,P=Ls?history.state:{};te&&(ue||k?o.replace(L.fullPath,ct({scroll:k&&P&&P.scroll},Pe)):o.push(L.fullPath,Pe)),f.value=L,Kt(L,$,te,k),Ct()}let it;function Je(){it||(it=o.listen((L,$,te)=>{if(!de.listening)return;const ue=T(L),Pe=V(ue);if(Pe){me(ct(Pe,{replace:!0}),ue).catch(Mu);return}p=ue;const A=f.value;Ls&&X4(ZI(A.fullPath,te.delta),ed()),x(ue,A).catch(k=>ni(k,12)?k:ni(k,2)?(me(k.to,ue).then(P=>{ni(P,20)&&!te.delta&&te.type===hc.pop&&o.go(-1,!1)}).catch(Mu),Promise.reject()):(te.delta&&o.go(-te.delta,!1),ge(k,ue,A))).then(k=>{k=k||st(ue,A,!1),k&&(te.delta&&!ni(k,8)?o.go(-te.delta,!1):te.type===hc.pop&&ni(k,20)&&o.go(-1,!1)),Ke(ue,A,k)}).catch(Mu)}))}let ze=yu(),ae=yu(),Me;function ge(L,$,te){Ct(L);const ue=ae.list();return ue.length?ue.forEach(Pe=>Pe(L,$,te)):console.error(L),Promise.reject(L)}function gt(){return Me&&f.value!==xi?Promise.resolve():new Promise((L,$)=>{ze.add([L,$])})}function Ct(L){return Me||(Me=!L,Je(),ze.list().forEach(([$,te])=>L?te(L):$()),ze.reset()),L}function Kt(L,$,te,ue){const{scrollBehavior:Pe}=e;if(!Ls||!Pe)return Promise.resolve();const A=!te&&Y4(ZI(L.fullPath,0))||(ue||!te)&&history.state&&history.state.scroll||null;return Br().then(()=>Pe(L,$,A)).then(k=>k&&W4(k)).catch(k=>ge(k,L,$))}const Mt=L=>o.go(L);let vt;const Gn=new Set,de={currentRoute:f,listening:!0,addRoute:y,removeRoute:_,hasRoute:E,getRoutes:I,resolve:T,options:e,push:F,replace:J,go:Mt,back:()=>Mt(-1),forward:()=>Mt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:ae.add,isReady:gt,install(L){const $=this;L.component("RouterLink",D3),L.component("RouterView",ox),L.config.globalProperties.$router=$,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Ye(f)}),Ls&&!vt&&f.value===xi&&(vt=!0,F(o.location).catch(Pe=>{}));const te={};for(const Pe in xi)Object.defineProperty(te,Pe,{get:()=>f.value[Pe],enumerable:!0});L.provide(Jy,$),L.provide(ix,HE(te)),L.provide(ev,f);const ue=L.unmount;Gn.add(L),L.unmount=function(){Gn.delete(L),Gn.size<1&&(p=xi,it&&it(),it=null,f.value=xi,vt=!1,Me=!1),ue()}}};function ve(L){return L.reduce(($,te)=>$.then(()=>Y(te)),Promise.resolve())}return de}function U3(e,t){const n=[],i=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(p=>ma(p,l))?i.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(p=>ma(p,f))||o.push(f))}return[n,i,o]}const j3={name:"App",components:{AppHeader:Lj,AppAuth:M4,RouterView:ox},computed:{...Rv(Ra,["userLoggedIn"])},created(){sr.currentUser&&(this.userLoggedIn=!0)}},B3={class:"relative min-h-screen"},q3=R("section",{class:"absolute inset-0 min-h-screen bg-gradient-to-t from-zinc-900 from-50% to-[#4a368e] to-90% w-full"},null,-1);function $3(e,t,n,i,o,s){const u=wt("AppHeader"),l=wt("RouterView"),f=wt("AppAuth");return $e(),rt(zt,null,[Te(u),R("div",B3,[q3,Te(l)]),Te(f)],64)}const H3=Kn(j3,[["render",$3]]);var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sx={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var m=this||n;if(h=parseFloat(h),m.ctx||g(),typeof h<"u"&&h>=0&&h<=1){if(m._volume=h,m._muted)return m;m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.volume=E._volume*h)}return m}return m._volume},mute:function(h){var m=this||n;m.ctx||g(),m._muted=h,m.usingWebAudio&&m.masterGain.gain.setValueAtTime(h?0:m._volume,n.ctx.currentTime);for(var y=0;y<m._howls.length;y++)if(!m._howls[y]._webAudio)for(var _=m._howls[y]._getSoundIds(),I=0;I<_.length;I++){var E=m._howls[y]._soundById(_[I]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return m},stop:function(){for(var h=this||n,m=0;m<h._howls.length;m++)h._howls[m].stop();return h},unload:function(){for(var h=this||n,m=h._howls.length-1;m>=0;m--)h._howls[m].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,g()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var m=new Audio;typeof m.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var m=new Audio;m.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,m=null;try{m=typeof Audio<"u"?new Audio:null}catch{return h}if(!m||typeof m.canPlayType!="function")return h;var y=m.canPlayType("audio/mpeg;").replace(/^no$/,""),_=h._navigator?h._navigator.userAgent:"",I=_.match(/OPR\/(\d+)/g),E=I&&parseInt(I[0].split("/")[1],10)<33,T=_.indexOf("Safari")!==-1&&_.indexOf("Chrome")===-1,C=_.match(/Version\/(.*?) /),D=T&&C&&parseInt(C[1],10)<15;return h._codecs={mp3:!!(!E&&(y||m.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!m.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!m.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(m.canPlayType('audio/wav; codecs="1"')||m.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!m.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!m.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/m4a;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(m.canPlayType("audio/x-m4b;")||m.canPlayType("audio/m4b;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(m.canPlayType("audio/x-mp4;")||m.canPlayType("audio/mp4;")||m.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!D&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!D&&m.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!m.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(m.canPlayType("audio/x-flac;")||m.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var m=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var _=new Audio;_._unlocked=!0,h._releaseHtml5Audio(_)}catch{h.noAudio=!0;break}for(var I=0;I<h._howls.length;I++)if(!h._howls[I]._webAudio)for(var E=h._howls[I]._getSoundIds(),T=0;T<E.length;T++){var C=h._howls[I]._soundById(E[T]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}h._autoResume();var D=h.ctx.createBufferSource();D.buffer=h._scratchBuffer,D.connect(h.ctx.destination),typeof D.start>"u"?D.noteOn(0):D.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),D.onended=function(){D.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",m,!0),document.removeEventListener("touchend",m,!0),document.removeEventListener("click",m,!0),document.removeEventListener("keydown",m,!0);for(var F=0;F<h._howls.length;F++)h._howls[F]._emit("unlock")}};return document.addEventListener("touchstart",m,!0),document.addEventListener("touchend",m,!0),document.addEventListener("click",m,!0),document.addEventListener("keydown",m,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var m=new Audio().play();return m&&typeof Promise<"u"&&(m instanceof Promise||typeof m.then=="function")&&m.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var m=this||n;return h._unlocked&&m._html5AudioPool.push(h),m},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var m=0;m<h._howls.length;m++)if(h._howls[m]._webAudio){for(var y=0;y<h._howls[m]._sounds.length;y++)if(!h._howls[m]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var _=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(_,_)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var m=0;m<h._howls.length;m++)h._howls[m]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,i=function(h){var m=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}m.init(h)};i.prototype={init:function(h){var m=this;return n.ctx||g(),m._autoplay=h.autoplay||!1,m._format=typeof h.format!="string"?h.format:[h.format],m._html5=h.html5||!1,m._muted=h.mute||!1,m._loop=h.loop||!1,m._pool=h.pool||5,m._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,m._rate=h.rate||1,m._sprite=h.sprite||{},m._src=typeof h.src!="string"?h.src:[h.src],m._volume=h.volume!==void 0?h.volume:1,m._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},m._duration=0,m._state="unloaded",m._sounds=[],m._endTimers={},m._queue=[],m._playLock=!1,m._onend=h.onend?[{fn:h.onend}]:[],m._onfade=h.onfade?[{fn:h.onfade}]:[],m._onload=h.onload?[{fn:h.onload}]:[],m._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],m._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],m._onpause=h.onpause?[{fn:h.onpause}]:[],m._onplay=h.onplay?[{fn:h.onplay}]:[],m._onstop=h.onstop?[{fn:h.onstop}]:[],m._onmute=h.onmute?[{fn:h.onmute}]:[],m._onvolume=h.onvolume?[{fn:h.onvolume}]:[],m._onrate=h.onrate?[{fn:h.onrate}]:[],m._onseek=h.onseek?[{fn:h.onseek}]:[],m._onunlock=h.onunlock?[{fn:h.onunlock}]:[],m._onresume=[],m._webAudio=n.usingWebAudio&&!m._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(m),m._autoplay&&m._queue.push({event:"play",action:function(){m.play()}}),m._preload&&m._preload!=="none"&&m.load(),m},load:function(){var h=this,m=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var _,I;if(h._format&&h._format[y])_=h._format[y];else{if(I=h._src[y],typeof I!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}_=/^data:audio\/([^;,]+);/i.exec(I),_||(_=/\.([^.]+)$/.exec(I.split("?",1)[0])),_&&(_=_[1].toLowerCase())}if(_||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),_&&n.codecs(_)){m=h._src[y];break}}if(!m){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=m,h._state="loading",window.location.protocol==="https:"&&m.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,m){var y=this,_=null;if(typeof h=="number")_=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var I=0,E=0;E<y._sounds.length;E++)y._sounds[E]._paused&&!y._sounds[E]._ended&&(I++,_=y._sounds[E]._id);I===1?h=null:_=null}}var T=_?y._soundById(_):y._inactiveSound();if(!T)return null;if(_&&!h&&(h=T._sprite||"__default"),y._state!=="loaded"){T._sprite=h,T._ended=!1;var C=T._id;return y._queue.push({event:"play",action:function(){y.play(C)}}),C}if(_&&!T._paused)return m||y._loadQueue("play"),T._id;y._webAudio&&n._autoResume();var D=Math.max(0,T._seek>0?T._seek:y._sprite[h][0]/1e3),F=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-D),J=F*1e3/Math.abs(T._rate),V=y._sprite[h][0]/1e3,me=(y._sprite[h][0]+y._sprite[h][1])/1e3;T._sprite=h,T._ended=!1;var G=function(){T._paused=!1,T._seek=D,T._start=V,T._stop=me,T._loop=!!(T._loop||y._sprite[h][2])};if(D>=me){y._ended(T);return}var Y=T._node;if(y._webAudio){var x=function(){y._playLock=!1,G(),y._refreshBuffer(T);var Je=T._muted||y._muted?0:T._volume;Y.gain.setValueAtTime(Je,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof Y.bufferSource.start>"u"?T._loop?Y.bufferSource.noteGrainOn(0,D,86400):Y.bufferSource.noteGrainOn(0,D,F):T._loop?Y.bufferSource.start(0,D,86400):Y.bufferSource.start(0,D,F),J!==1/0&&(y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),J)),m||setTimeout(function(){y._emit("play",T._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?x():(y._playLock=!0,y.once("resume",x),y._clearTimer(T._id))}else{var Ke=function(){Y.currentTime=D,Y.muted=T._muted||y._muted||n._muted||Y.muted,Y.volume=T._volume*n.volume(),Y.playbackRate=T._rate;try{var Je=Y.play();if(Je&&typeof Promise<"u"&&(Je instanceof Promise||typeof Je.then=="function")?(y._playLock=!0,G(),Je.then(function(){y._playLock=!1,Y._unlocked=!0,m?y._loadQueue():y._emit("play",T._id)}).catch(function(){y._playLock=!1,y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):m||(y._playLock=!1,G(),y._emit("play",T._id)),Y.playbackRate=T._rate,Y.paused){y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||T._loop?y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),J):(y._endTimers[T._id]=function(){y._ended(T),Y.removeEventListener("ended",y._endTimers[T._id],!1)},Y.addEventListener("ended",y._endTimers[T._id],!1))}catch(ze){y._emit("playerror",T._id,ze)}};Y.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(Y.src=y._src,Y.load());var st=window&&window.ejecta||!Y.readyState&&n._navigator.isCocoonJS;if(Y.readyState>=3||st)Ke();else{y._playLock=!0,y._state="loading";var it=function(){y._state="loaded",Ke(),Y.removeEventListener(n._canPlayEvent,it,!1)};Y.addEventListener(n._canPlayEvent,it,!1),y._clearTimer(T._id)}}return T._id},pause:function(h){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"pause",action:function(){m.pause(h)}}),m;for(var y=m._getSoundIds(h),_=0;_<y.length;_++){m._clearTimer(y[_]);var I=m._soundById(y[_]);if(I&&!I._paused&&(I._seek=m.seek(y[_]),I._rateSeek=0,I._paused=!0,m._stopFade(y[_]),I._node))if(m._webAudio){if(!I._node.bufferSource)continue;typeof I._node.bufferSource.stop>"u"?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),m._cleanBuffer(I._node)}else(!isNaN(I._node.duration)||I._node.duration===1/0)&&I._node.pause();arguments[1]||m._emit("pause",I?I._id:null)}return m},stop:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var _=y._getSoundIds(h),I=0;I<_.length;I++){y._clearTimer(_[I]);var E=y._soundById(_[I]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,y._stopFade(_[I]),E._node&&(y._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),y._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&y._clearSound(E._node))),m||y._emit("stop",E._id))}return y},mute:function(h,m){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,m)}}),y;if(typeof m>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var _=y._getSoundIds(m),I=0;I<_.length;I++){var E=y._soundById(_[I]);E&&(E._muted=h,E._interval&&y._stopFade(E._id),y._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:h),y._emit("mute",E._id))}return y},volume:function(){var h=this,m=arguments,y,_;if(m.length===0)return h._volume;if(m.length===1||m.length===2&&typeof m[1]>"u"){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length>=2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,m)}}),h;typeof _>"u"&&(h._volume=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)T=h._soundById(_[C]),T&&(T._volume=y,m[2]||h._stopFade(_[C]),h._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(y,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=y*n.volume()),h._emit("volume",T._id))}else return T=_?h._soundById(_):h._sounds[0],T?T._volume:0;return h},fade:function(h,m,y,_){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"fade",action:function(){I.fade(h,m,y,_)}}),I;h=Math.min(Math.max(0,parseFloat(h)),1),m=Math.min(Math.max(0,parseFloat(m)),1),y=parseFloat(y),I.volume(h,_);for(var E=I._getSoundIds(_),T=0;T<E.length;T++){var C=I._soundById(E[T]);if(C){if(_||I._stopFade(E[T]),I._webAudio&&!C._muted){var D=n.ctx.currentTime,F=D+y/1e3;C._volume=h,C._node.gain.setValueAtTime(h,D),C._node.gain.linearRampToValueAtTime(m,F)}I._startFadeInterval(C,h,m,y,E[T],typeof _>"u")}}return I},_startFadeInterval:function(h,m,y,_,I,E){var T=this,C=m,D=y-m,F=Math.abs(D/.01),J=Math.max(4,F>0?_/F:_),V=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var me=(Date.now()-V)/_;V=Date.now(),C+=D*me,C=Math.round(C*100)/100,D<0?C=Math.max(y,C):C=Math.min(y,C),T._webAudio?h._volume=C:T.volume(C,h._id,!0),E&&(T._volume=C),(y<m&&C<=y||y>m&&C>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,T.volume(y,h._id),T._emit("fade",h._id))},J)},_stopFade:function(h){var m=this,y=m._soundById(h);return y&&y._interval&&(m._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,m.volume(y._fadeTo,h),y._fadeTo=null,m._emit("fade",h)),m},loop:function(){var h=this,m=arguments,y,_,I;if(m.length===0)return h._loop;if(m.length===1)if(typeof m[0]=="boolean")y=m[0],h._loop=y;else return I=h._soundById(parseInt(m[0],10)),I?I._loop:!1;else m.length===2&&(y=m[0],_=parseInt(m[1],10));for(var E=h._getSoundIds(_),T=0;T<E.length;T++)I=h._soundById(E[T]),I&&(I._loop=y,h._webAudio&&I._node&&I._node.bufferSource&&(I._node.bufferSource.loop=y,y&&(I._node.bufferSource.loopStart=I._start||0,I._node.bufferSource.loopEnd=I._stop,h.playing(E[T])&&(h.pause(E[T],!0),h.play(E[T],!0)))));return h},rate:function(){var h=this,m=arguments,y,_;if(m.length===0)_=h._sounds[0]._id;else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):y=parseFloat(m[0])}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));var T;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,m)}}),h;typeof _>"u"&&(h._rate=y),_=h._getSoundIds(_);for(var C=0;C<_.length;C++)if(T=h._soundById(_[C]),T){h.playing(_[C])&&(T._rateSeek=h.seek(_[C]),T._playStart=h._webAudio?n.ctx.currentTime:T._playStart),T._rate=y,h._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):T._node&&(T._node.playbackRate=y);var D=h.seek(_[C]),F=(h._sprite[T._sprite][0]+h._sprite[T._sprite][1])/1e3-D,J=F*1e3/Math.abs(T._rate);(h._endTimers[_[C]]||!T._paused)&&(h._clearTimer(_[C]),h._endTimers[_[C]]=setTimeout(h._ended.bind(h,T),J)),h._emit("rate",T._id)}}else return T=h._soundById(_),T?T._rate:h._rate;return h},seek:function(){var h=this,m=arguments,y,_;if(m.length===0)h._sounds.length&&(_=h._sounds[0]._id);else if(m.length===1){var I=h._getSoundIds(),E=I.indexOf(m[0]);E>=0?_=parseInt(m[0],10):h._sounds.length&&(_=h._sounds[0]._id,y=parseFloat(m[0]))}else m.length===2&&(y=parseFloat(m[0]),_=parseInt(m[1],10));if(typeof _>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var T=h._soundById(_);if(T)if(typeof y=="number"&&y>=0){var C=h.playing(_);C&&h.pause(_,!0),T._seek=y,T._ended=!1,h._clearTimer(_),!h._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=y);var D=function(){C&&h.play(_,!0),h._emit("seek",_)};if(C&&!h._webAudio){var F=function(){h._playLock?setTimeout(F,0):D()};setTimeout(F,0)}else D()}else if(h._webAudio){var J=h.playing(_)?n.ctx.currentTime-T._playStart:0,V=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(V+J*Math.abs(T._rate))}else return T._node.currentTime;return h},playing:function(h){var m=this;if(typeof h=="number"){var y=m._soundById(h);return y?!y._paused:!1}for(var _=0;_<m._sounds.length;_++)if(!m._sounds[_]._paused)return!0;return!1},duration:function(h){var m=this,y=m._duration,_=m._soundById(h);return _&&(y=m._sprite[_._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,m=h._sounds,y=0;y<m.length;y++)m[y]._paused||h.stop(m[y]._id),h._webAudio||(h._clearSound(m[y]._node),m[y]._node.removeEventListener("error",m[y]._errorFn,!1),m[y]._node.removeEventListener(n._canPlayEvent,m[y]._loadFn,!1),m[y]._node.removeEventListener("ended",m[y]._endFn,!1),n._releaseHtml5Audio(m[y]._node)),delete m[y]._node,h._clearTimer(m[y]._id);var _=n._howls.indexOf(h);_>=0&&n._howls.splice(_,1);var I=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){I=!1;break}return s&&I&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,m,y,_){var I=this,E=I["_on"+h];return typeof m=="function"&&E.push(_?{id:y,fn:m,once:_}:{id:y,fn:m}),I},off:function(h,m,y){var _=this,I=_["_on"+h],E=0;if(typeof m=="number"&&(y=m,m=null),m||y)for(E=0;E<I.length;E++){var T=y===I[E].id;if(m===I[E].fn&&T||!m&&T){I.splice(E,1);break}}else if(h)_["_on"+h]=[];else{var C=Object.keys(_);for(E=0;E<C.length;E++)C[E].indexOf("_on")===0&&Array.isArray(_[C[E]])&&(_[C[E]]=[])}return _},once:function(h,m,y){var _=this;return _.on(h,m,y,1),_},_emit:function(h,m,y){for(var _=this,I=_["_on"+h],E=I.length-1;E>=0;E--)(!I[E].id||I[E].id===m||h==="load")&&(setTimeout((function(T){T.call(this,m,y)}).bind(_,I[E].fn),0),I[E].once&&_.off(h,I[E].fn,I[E].id));return _._loadQueue(h),_},_loadQueue:function(h){var m=this;if(m._queue.length>0){var y=m._queue[0];y.event===h&&(m._queue.shift(),m._loadQueue()),h||y.action()}return m},_ended:function(h){var m=this,y=h._sprite;if(!m._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(m._ended.bind(m,h),100),m;var _=!!(h._loop||m._sprite[y][2]);if(m._emit("end",h._id),!m._webAudio&&_&&m.stop(h._id,!0).play(h._id),m._webAudio&&_){m._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var I=(h._stop-h._start)*1e3/Math.abs(h._rate);m._endTimers[h._id]=setTimeout(m._ended.bind(m,h),I)}return m._webAudio&&!_&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,m._clearTimer(h._id),m._cleanBuffer(h._node),n._autoSuspend()),!m._webAudio&&!_&&m.stop(h._id,!0),m},_clearTimer:function(h){var m=this;if(m._endTimers[h]){if(typeof m._endTimers[h]!="function")clearTimeout(m._endTimers[h]);else{var y=m._soundById(h);y&&y._node&&y._node.removeEventListener("ended",m._endTimers[h],!1)}delete m._endTimers[h]}return m},_soundById:function(h){for(var m=this,y=0;y<m._sounds.length;y++)if(h===m._sounds[y]._id)return m._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var m=0;m<h._sounds.length;m++)if(h._sounds[m]._ended)return h._sounds[m].reset();return new o(h)},_drain:function(){var h=this,m=h._pool,y=0,_=0;if(!(h._sounds.length<m)){for(_=0;_<h._sounds.length;_++)h._sounds[_]._ended&&y++;for(_=h._sounds.length-1;_>=0;_--){if(y<=m)return;h._sounds[_]._ended&&(h._webAudio&&h._sounds[_]._node&&h._sounds[_]._node.disconnect(0),h._sounds.splice(_,1),y--)}}},_getSoundIds:function(h){var m=this;if(typeof h>"u"){for(var y=[],_=0;_<m._sounds.length;_++)y.push(m._sounds[_]._id);return y}else return[h]},_refreshBuffer:function(h){var m=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[m._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),m},_cleanBuffer:function(h){var m=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return m;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,m},_clearSound:function(h){var m=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);m||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,m._sounds.push(h),h.create(),h},create:function(){var h=this,m=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return m._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=m._src,h._node.preload=m._preload===!0?"auto":m._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,m=h._parent;return h._muted=m._muted,h._loop=m._loop,h._volume=m._volume,h._rate=m._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,m=h._parent;m._duration=Math.ceil(h._node.duration*10)/10,Object.keys(m._sprite).length===0&&(m._sprite={__default:[0,m._duration*1e3]}),m._state!=="loaded"&&(m._state="loaded",m._emit("load"),m._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,m=h._parent;m._duration===1/0&&(m._duration=Math.ceil(h._node.duration*10)/10,m._sprite.__default[1]===1/0&&(m._sprite.__default[1]=m._duration*1e3),m._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var m=h._src;if(s[m]){h._duration=s[m].duration,p(h);return}if(/^data:[^;]+;base64,/.test(m)){for(var y=atob(m.split(",")[1]),_=new Uint8Array(y.length),I=0;I<y.length;++I)_[I]=y.charCodeAt(I);f(_.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,m,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(T){E.setRequestHeader(T,h._xhr.headers[T])}),E.onload=function(){var T=(E.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[m],h.load())},l(E)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,m){var y=function(){m._emit("loaderror",null,"Decoding audio data failed.")},_=function(I){I&&m._sounds.length>0?(s[m._src]=I,p(m,I)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(_).catch(y):n.ctx.decodeAudioData(h,_,y)},p=function(h,m){m&&!h._duration&&(h._duration=m.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},g=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),m=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=m?parseInt(m[1],10):null;if(h&&y&&y<9){var _=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!_&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=i,typeof _u<"u"?(_u.HowlerGlobal=t,_u.Howler=n,_u.Howl=i,_u.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=i,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var o=i._howls.length-1;o>=0;o--)i._howls[o].stereo(n);return i},HowlerGlobal.prototype.pos=function(n,i,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(i=typeof i!="number"?s._pos[1]:i,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,i,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,i,o,s,u,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var p=f._orientation;if(i=typeof i!="number"?p[1]:i,o=typeof o!="number"?p[2]:o,s=typeof s!="number"?p[3]:s,u=typeof u!="number"?p[4]:u,l=typeof l!="number"?p[5]:l,typeof n=="number")f._orientation=[n,i,o,s,u,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,i,o,s,u,l);else return p;return f},Howl.prototype.init=function(n){return function(i){var o=this;return o._orientation=i.orientation||[1,0,0],o._stereo=i.stereo||null,o._pos=i.pos||null,o._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance<"u"?i.maxDistance:1e4,panningModel:typeof i.panningModel<"u"?i.panningModel:"HRTF",refDistance:typeof i.refDistance<"u"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:1},o._onstereo=i.onstereo?[{fn:i.onstereo}]:[],o._onpos=i.onpos?[{fn:i.onpos}]:[],o._onorientation=i.onorientation?[{fn:i.onorientation}]:[],n.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,i)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof i>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(i),l=0;l<u.length;l++){var f=o._soundById(u[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,i,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,i,o,s)}}),u;if(i=typeof i!="number"?0:i,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,i,o];else return u._pos;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._pos=[n,i,o],p._node&&((!p._panner||p._panner.pan)&&t(p,"spatial"),typeof p._panner.positionX<"u"?(p._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setPosition(n,i,o)),u._emit("pos",p._id);else return p._pos}return u},Howl.prototype.orientation=function(n,i,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,i,o,s)}}),u;if(i=typeof i!="number"?u._orientation[1]:i,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,i,o];else return u._orientation;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var p=u._soundById(l[f]);if(p)if(typeof n=="number")p._orientation=[n,i,o],p._node&&(p._panner||(p._pos||(p._pos=u._pos||[0,0,-.5]),t(p,"spatial")),typeof p._panner.orientationX<"u"?(p._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):p._panner.setOrientation(n,i,o)),u._emit("orientation",p._id);else return p._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,i=arguments,o,s,u;if(!n._webAudio)return n;if(i.length===0)return n._pannerAttr;if(i.length===1)if(typeof i[0]=="object")o=i[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(i[0],10)),u?u._pannerAttr:n._pannerAttr;else i.length===2&&(o=i[0],s=parseInt(i[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(u=n._soundById(l[f]),u){var p=u._pannerAttr;p={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:p.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:p.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:p.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:p.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:p.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:p.panningModel};var g=u._panner;g||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),g=u._panner),g.coneInnerAngle=p.coneInnerAngle,g.coneOuterAngle=p.coneOuterAngle,g.coneOuterGain=p.coneOuterGain,g.distanceModel=p.distanceModel,g.maxDistance=p.maxDistance,g.refDistance=p.refDistance,g.rolloffFactor=p.rolloffFactor,g.panningModel=p.panningModel}return n},Sound.prototype.init=function(n){return function(){var i=this,o=i._parent;i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,n.call(this),i._stereo?o.stereo(i._stereo):i._pos&&o.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var i=this,o=i._parent;return i._orientation=o._orientation,i._stereo=o._stereo,i._pos=o._pos,i._pannerAttr=o._pannerAttr,i._stereo?o.stereo(i._stereo):i._pos?o.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,o._refreshBuffer(i)),n.call(this)}}(Sound.prototype.reset);var t=function(n,i){i=i||"spatial",i==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(sx);const va=Cv("player",{state:()=>({currentSong:{},sound:{}}),actions:{async play(e){this.currentSong=e,this.sound.playing&&this.sound.stop(),this.sound=new sx.Howl({src:[e.url],html5:!0,volume:"0.1"}),this.sound.play()},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1,currentSongName:e=>e.currentSong.modified_name,currentSongArtist:e=>e.currentSong.artist?e.currentSong.artist:"Unknown Artist"}}),K3={name:"SongItem",props:{song:{type:Object,required:!0},index:{type:Number,required:!0}}},G3={class:"md:hover:bg-white md:hover:bg-opacity-10 md:hover:text-white hover:cursor-pointer rounded-full secondary-text"},z3={class:"text-white"},W3={class:"block text-sm"},X3=R("i",{class:"fa-solid fa-heart text-green-500 ml-28"},null,-1);function Y3(e,t,n,i,o,s){const u=wt("RouterLink");return $e(),rt("tr",G3,[R("td",null,Et(n.index+1),1),R("td",null,[Te(u,{to:{name:"song",params:{id:n.song.docID}},class:"text-white border-b border-b-transparent hover:border-b-white"},{default:tr(()=>[R("span",z3,Et(n.song.modified_name),1)]),_:1},8,["to"]),R("span",W3,Et(n.song.artist?n.song.artist:"Unknown artist"),1)]),R("td",null,Et(n.song.genre?n.song.genre:"Unknown genre"),1),R("td",null,[Lt(Et(n.song.comment_count)+" ",1),X3]),R("td",null,Et(n.song.duration),1)])}const Q3=Kn(K3,[["render",Y3]]),tv="/musicfy/assets/img/liked-songs-300.webp",dE="/musicfy/assets/img/liked-songs-640.webp",J3={name:"AppPlaylist",components:{SongItem:Q3},props:{songs:{type:Array,required:!0}},data(){return{}},computed:{...zu(va,["playing"]),getUserName(){return sr.currentUser&&sr.currentUser.displayName?sr.currentUser.displayName:"Your name here"}},methods:{...gc(va,["play","toggleAudio"])}},Z3=tv+" 150w, "+tv+" 300w, "+dE+" 320w, "+dE+" 640w",eB={class:"relative z-10 mx-10 pt-40 pb-6 text-white text-center font-circular-regular"},tB={class:"container flex gap-6"},nB=R("img",{"aria-hidden":"false",draggable:"false",loading:"eager",src:tv,alt:"Liked songs",class:"shadow-3xl",srcset:Z3,sizes:"(min-width: 1280px) 232px, 192px"},null,-1),rB={class:"text-white main-header-content flex flex-col grow justify-end items-start content-normal"},iB=R("h4",{class:"text-sm mb-2"},"Playlist",-1),oB=R("h1",{class:"text-5xl mb-5 font-circular-black tracking-tighter"},"Liked songs",-1),sB={class:""},aB={class:"relative z-10 px-10 py-5 mb-20 bg-zinc-900 bg-opacity-30 font-circular-regular min-h-[50vh]"},uB={type:"button"},cB={id:"playlist",class:"mx-6 mt-6 secondary-text w-full text-left px-6 pt-6 pb-2"},lB=R("thead",{class:"border-b border-zinc-300 border-opacity-10"},[R("tr",null,[R("th",{class:""},[R("span",{class:"font-sans"},"#")]),R("th",null,"Title"),R("th",null,"Genre"),R("th",null,"Comments"),R("th",{class:""},[R("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 secondary-text"},[R("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])])])],-1),fB={class:"text-white mb-10"},hB={key:0};function dB(e,t,n,i,o,s){const u=wt("SongItem");return $e(),rt(zt,null,[R("section",eB,[R("div",tB,[nB,R("div",rB,[iB,oB,R("p",sB,[R("span",null,Et(s.getUserName)+" º "+Et(n.songs.length)+" songs ",1)])])])]),R("section",aB,[R("button",uB,[R("i",{class:jt(["text-[#1ed760] text-5xl hover:scale-110 bg-black rounded-full",{"fa fa-play-circle":!e.playing,"fa fa-pause-circle":e.playing}]),onClick:t[0]||(t[0]=nn(l=>e.playing?e.toggleAudio():e.play(this.songs[0]),["prevent"]))},null,2)]),R("table",cB,[lB,R("tbody",fB,[n.songs.length===0?($e(),rt("div",hB,"Empty playlist.")):($e(!0),rt(zt,{key:1},mc(n.songs,(l,f)=>($e(),Gs(u,{key:l.docID,song:l,index:f},null,8,["song","index"]))),128))])])])],64)}const pB=Kn(J3,[["render",dB]]),mB={name:"AppPlayer",data(){return{currentTime:93,durationTime:186}},computed:{...zu(va,["playing","currentSongName","currentSongArtist"]),currentTimePercentage(){return this.currentTime/this.durationTime*100+"%"}},methods:{...gc(va,["toggleAudio"])}},gB={class:"fixed bottom-0 left-0 bg-black z-10 px-8 py-2 w-full flex flex-col lg:flex-row md:justify-between sm:justify-center"},vB={class:"text-white flex flex-col justify-center items-center font-circular-thin h-16 overflow-x-hidden whitespace-nowrap"},yB={class:"song-title font-bold"},_B={class:"song-artist"},wB={class:"text-white flex flex-col items-center gap-0.5 font-circular-regular"},bB={type:"button",class:""},IB={class:"flex flex-nowrap gap-3 justify-center items-center"},EB=R("div",{class:"player-currenttime text-xs secondary-text"},[Lt(" 00"),R("span",{class:"font-sans"},":"),Lt("00 ")],-1),TB={class:"group w-60 sm:w-96 h-1 bg-neutral-700 relative cursor-pointer"},SB=R("i",{class:"fas fa-circle"},null,-1),AB=[SB],kB=R("div",{class:"player-duration text-xs secondary-text"},[Lt(" 03"),R("span",{class:"font-sans"},":"),Lt("06 ")],-1),xB=R("div",{class:"hidden lg:block text-white text-center"},[R("h1",null,"Volume"),Lt(" (soon) ")],-1);function CB(e,t,n,i,o,s){return $e(),rt("div",gB,[R("div",vB,[R("p",yB,Et(e.currentSongName),1),R("p",_B,Et(e.currentSongArtist),1)]),R("div",wB,[R("button",bB,[R("i",{class:jt(["text-white text-3xl hover:scale-105",{"fa fa-play-circle":!e.playing,"fa fa-pause-circle":e.playing}]),onClick:t[0]||(t[0]=nn(u=>e.toggleAudio(),["prevent"]))},null,2)]),R("div",IB,[EB,R("div",TB,[R("span",{class:"absolute -top-1.5 -ml-2.5 text-white text-xs opacity-0 group-hover:opacity-100",style:Hs({left:s.currentTimePercentage})},AB,4),R("span",{class:"block h-1 rounded bg-white group-hover:bg-gradient-to-r from-green-500 to-green-400",style:Hs({width:s.currentTimePercentage})},null,4)]),kB])]),xB])}const ax=Kn(mB,[["render",CB]]),RB={name:"Home",components:{AppPlaylist:pB,AppPlayer:ax},data(){return{songs:[],maxPerPage:10,pendingReq:!1}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},methods:{async getSongs(){if(this.pendingReq)return;this.pendingReq=!0;let e;if(this.songs.length){const t=await zr.doc(this.songs[this.songs.length-1].docID).get();e=await zr.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await zr.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingReq=!1},handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.ceil(e)+n>=t&&this.getSongs()}},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}};function NB(e,t,n,i,o,s){const u=wt("AppPlaylist"),l=wt("AppPlayer");return $e(),rt("section",null,[Te(u,{songs:o.songs},null,8,["songs"]),Te(l)])}const OB=Kn(RB,[["render",NB]]),PB={},DB={class:"relative z-10 pt-40 text-white text-center font-circular-regular"},LB=R("h1",{class:""},"About musicfy",-1),MB=[LB];function FB(e,t){return $e(),rt("main",DB,MB)}const VB=Kn(PB,[["render",FB]]),UB={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){this.is_dragover=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(async n=>{if(n.type!="audio/mpeg"){alert("file type invalid");return}const s=zk.ref().child("songs").child(`${n.name}`);if(await this.fileExists(n)){alert("Song already existing");return}const l=s.put(n),f=this.uploads.push({task:l,current_progress:0,name:n.name,variant:"progress-bar bg-blue-400",icon:"fa-solid fa-spinner fa-spin",text_class:"",hide_class:""})-1;l.on("state_changed",p=>{const g=p.bytesTransferred/p.totalBytes*100;this.uploads[f].current_progress=g},p=>{this.uploads[f].variant="bg-red-400",this.uploads[f].icon="fas fa-times",this.uploads[f].text_class="text-red-400",console.error("Error uploading the song",p)},async()=>{const p={uid:sr.currentUser.uid,displayName:sr.currentUser.displayName,original_name:l.snapshot.ref.name,modified_name:this.getFileNameWithoutExtension(l.snapshot.ref.name),genre:"",artist:"",comment_count:0,duration:0};p.url=await l.snapshot.ref.getDownloadURL();let g="";await zr.add(p).then(m=>{g=m}).catch(async m=>{this.uploads[f].variant="bg-red-400",this.uploads[f].icon="fas fa-times",this.uploads[f].text_class="text-red-400",console.error("Error uploading the song",m),await s.delete()});const h=await g.get();this.addSong(h),this.uploads[f].variant="bg-green-400",this.uploads[f].icon="fas fa-check",this.uploads[f].text_class="text-green-400",setTimeout(()=>{this.uploads[f].hide_class="hidden"},1e3)})})},getFileNameWithoutExtension(e){return e.replace(/\.[^.]+$/,"")},async fileExists(e){return(await zr.where("original_name","==",e.name).get()).size!==0},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})},openInputFile(){this.$refs.inputFile.click()}},beforeUnmount(){this.cancelUploads()}},jB={class:"col-span-1"},BB={class:"bg-zinc-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},qB=R("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},[R("span",{class:"card-title"},"Upload"),R("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),$B={class:"p-6"},HB=R("h5",null,[Lt("Drop your mp3 files here "),R("span",{class:"block text-sm"},"Or, click to browse")],-1),KB=[HB],GB=R("hr",{class:"my-6 border-slate-400"},null,-1),zB={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function WB(e,t,n,i,o,s){return $e(),rt("div",jB,[R("div",BB,[qB,R("div",$B,[R("div",{class:jt(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-zinc-700 hover:border-solid",{"bg-zinc-700 text-white border border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=nn(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=nn(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=nn(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=nn(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=nn(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=nn(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=nn(u=>s.upload(u),["prevent","stop"])),onClick:t[7]||(t[7]=nn((...u)=>s.openInputFile&&s.openInputFile(...u),["prevent"]))},KB,34),R("input",{type:"file",multiple:"",ref:"inputFile",onChange:t[8]||(t[8]=u=>s.upload(u)),class:"hidden w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:font-semibold file:bg-gray-300 hover:file:bg-green-400 bg-gray-800 hover:cursor-pointer"},null,544),GB,($e(!0),rt(zt,null,mc(o.uploads,u=>($e(),rt("div",{class:jt(["mb-4",u.hide_class]),key:u.name},[R("div",{class:jt(["font-bold text-sm",u.text_class])},[R("i",{class:jt(u.icon)},null,2),Lt(Et(u.name),1)],2),R("div",zB,[R("div",{class:jt(["transition-all",u.variant]),style:Hs({width:u.current_progress+"%"})},null,6)])],2))),128))])])])}const XB=Kn(UB,[["render",WB]]),YB={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},index:{type:Number,required:!0},updateHasChanges:{type:Function}},data(){return{showForm:!1,songSchema:{modified_name:"required",genre:"alpha_spaces",artist:""},initialValues:{modified_name:this.song.modified_name,artist:this.song.artist,genre:this.song.genre},in_submission:!1,show_alert:!1,alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",error_variant:"bg-red-500",success_variant:"bg-[#1ed760]",alert_msg:"",initial_msg:"Please wait! Updating song. ",success_msg:"Success! Your song info was updated."}},methods:{async deleteSong(){this.in_submission=!0,await zk.ref().child(`songs/${this.song.original_name}`).delete().then(()=>{}).catch(n=>{console.error(n),this.in_submission=!1}),await zr.doc(this.song.docID).delete().then(()=>{}).catch(n=>{console.error(n),this.in_submission=!1}),this.removeSong(this.index),this.in_submission=!1},async editSong(e){this.initAlert();try{if(!this.hasChanges(e))return;await zr.doc(this.song.docID).update({modified_name:e.modified_name,artist:e.artist?e.artist:"",genre:e.genre?e.genre:""})}catch{this.alert_variant=this.error_variant,this.alert_msg="Something went wrong! Try again later.";return}finally{this.in_submission=!1}this.updateSong(this.index,e),this.updateHasChanges(!1),this.alert_variant=this.success_variant,this.alert_msg=this.success_msg,setTimeout(()=>{this.show_alert=!1,this.showForm=!1},1e3)},initAlert(){this.show_alert=!0,this.in_submission=!0,this.alert_variant=this.progress_variant,this.alert_msg=this.initial_msg},hasChanges(e){for(const t in e)if(e[t]!==this.song[t])return this.updateHasChanges(!0),!0;return this.updateHasChanges(!1),!1}}},QB={class:"border border-slate-500 p-3 mb-4 rounded"},JB={class:"inline-block text-2xl font-bold"},ZB=["disabled"],eq=R("i",{class:"fa fa-times"},null,-1),tq=[eq],nq=R("i",{class:"fa-solid fa-pen-to-square"},null,-1),rq=[nq],iq={class:"mb-3"},oq=R("label",{class:"inline-block mb-2"},"Song Title",-1),sq={class:"mb-3"},aq=R("label",{class:"inline-block mb-2"},"Artist",-1),uq={class:"mb-3"},cq=R("label",{class:"inline-block mb-2"},"Genre",-1),lq=["disabled"],fq=["disabled"];function hq(e,t,n,i,o,s){const u=wt("VeeField"),l=wt("ErrorMessage"),f=wt("VeeForm");return $e(),rt("div",QB,[bf(R("div",null,[R("h4",JB,Et(n.song.modified_name),1),R("button",{class:"ml-1 py-1 px-2 text-sm rounded text-red-600 float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[0]||(t[0]=nn((...p)=>s.deleteSong&&s.deleteSong(...p),["prevent"])),disabled:o.in_submission},tq,8,ZB),R("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[1]||(t[1]=p=>o.showForm=!0)},rq)],512),[[yg,!o.showForm]]),bf(R("div",null,[o.show_alert?($e(),rt("div",{key:0,class:jt(["text-black text-center font-bold p-4 rounded mb-4",o.alert_variant])},Et(o.alert_msg),3)):Co("",!0),Te(f,{"validation-schema":o.songSchema,initialValues:o.initialValues,onSubmit:s.editSong},{default:tr(()=>[R("div",iq,[oq,Te(u,{name:"modified_name",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=p=>n.updateHasChanges(!0))}),Te(l,{class:"text-red-600",name:"modified_name"})]),R("div",sq,[aq,Te(u,{name:"artist",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=p=>n.updateHasChanges(!0))}),Te(l,{class:"text-red-600",name:"artist"})]),R("div",uq,[cq,Te(u,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[4]||(t[4]=p=>n.updateHasChanges(!0))}),Te(l,{class:"text-red-600",name:"genre"})]),R("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o.in_submission}," Save ",8,lq),R("button",{type:"button",class:"ml-2 py-1.5 px-3 rounded text-white bg-gray-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-pointer",onClick:t[5]||(t[5]=nn(p=>o.showForm=!1,["prevent"])),disabled:o.in_submission}," Go Back ",8,fq)]),_:1},8,["validation-schema","initialValues","onSubmit"])],512),[[yg,o.showForm]])])}const dq=Kn(YB,[["render",hq]]),pq={name:"managePlaylist",components:{AppUpload:XB,CompositionItem:dq},data(){return{songs:[],hasChanges:!1}},async created(){(await zr.where("uid","==",sr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre,this.songs[e].artist=t.artist},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateHasChanges(e){this.hasChanges=e}},beforeRouteLeave(e,t,n){if(!this.hasChanges)n();else{const i=confirm("You have unsaved changes. Are you sure you want to leave?");n(i)}}},mq={id:"manage",class:"pt-20"},gq={class:"container mx-auto pt-6"},vq={class:"md:grid md:grid-cols-3 md:gap-4"},yq={class:"col-span-2"},_q={class:"bg-neutral-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},wq=R("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},[R("span",{class:"card-title"},"My Songs"),R("i",{class:"fa-solid fa-music float-right text-green-400 text-2xl"})],-1),bq={class:"p-6"},Iq={key:0},Eq=R("p",{class:"text-center"},"Playlist empty.",-1),Tq=[Eq];function Sq(e,t,n,i,o,s){const u=wt("AppUpload"),l=wt("CompositionItem");return $e(),rt("main",mq,[R("div",gq,[R("div",vq,[Te(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"]),R("div",yq,[R("div",_q,[wq,R("div",bq,[o.songs.length===0?($e(),rt("div",Iq,Tq)):($e(!0),rt(zt,{key:1},mc(o.songs,(f,p)=>($e(),Gs(l,{key:f.docID,song:f,updateSong:s.updateSong,index:p,removeSong:s.removeSong,updateHasChanges:s.updateHasChanges},null,8,["song","updateSong","index","removeSong","updateHasChanges"]))),128))])])])])])])}const Aq=Kn(pq,[["render",Sq]]),kq={name:"Song",components:{AppPlayer:ax},data(){return{song:{},comments:[],sort:"1",schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"",comment_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",comment_error_variant:"bg-red-500",comment_success_variant:"bg-[#1ed760]",comment_alert_msg:"",initial_msg:"Publishing your comment... ",success_msg:"Your comment has been published."}},computed:{...zu(Ra,["userLoggedIn"]),...zu(va,["playing"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.date)-new Date(e.date):new Date(e.date)-new Date(t.date))}},async created(){const e=await zr.doc(this.$route.params.id).get();e.exists||this.$router.push({name:"home"});const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},methods:{...gc(va,["play","toggleAudio"]),async publishComment(e,{resetForm:t}){this.initCommentAlert();const n={content:e.comment,date:new Date().toString(),songID:this.$route.params.id,name:sr.currentUser.displayName,uid:sr.currentUser.uid};await YI.add(n),this.song.comment_count+=1,await zr.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant=this.comment_success_variant,this.comment_alert_msg=this.success_msg,t(),setTimeout(()=>{this.comment_show_alert=!1},1e3)},initCommentAlert(){this.comment_show_alert=!0,this.comment_in_submission=!0,this.comment_alert_variant=this.comment_progress_variant,this.comment_alert_msg=this.initial_msg},async getComments(){const e=await YI.where("songID","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})},getCommentPublishDate(e){const n=new Date-new Date(e.date),i=Math.floor(n/1e3);if(i<60)return`${i} second${i===1?"":"s"} ago`;const o=Math.floor(i/60);if(o<60)return`${o} minute${o===1?"":"s"} ago`;const s=Math.floor(o/60);if(s<24)return`${s} hour${s===1?"":"s"} ago`;const u=Math.floor(s/24);if(u<30)return`${u} day${u===1?"":"s"} ago`;const l=Math.floor(u/30);if(l<12)return`${l} month${l===1?"":"s"} ago`;const f=Math.floor(l/12);return`${f} year${f===1?"":"s"} ago`}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},xq={class:"relative z-10 w-full px-6 pt-40 pb-6 text-white text-center"},Cq={class:"container mx-auto flex items-center"},Rq=R("i",{class:"text-[#1ed760] text-8xl hover:scale-110 bg-black rounded-full fa fa-play-circle"},null,-1),Nq=[Rq],Oq={class:"z-50 text-left px-4"},Pq=R("div",{class:"text-sm font-circular-black"},"Song",-1),Dq={class:"text-6xl font-circular-black"},Lq={class:"text-sm font-circular-black"},Mq={class:"font-circular-regular"},Fq={class:"relative z-10 py-5 mb-20 bg-zinc-900 bg-opacity-30 font-circular-regular min-h-[50vh] text-white"},Vq={class:"flex flex-col"},Uq={class:"px-6 pt-6 pb-5 font-bold border-b border-slate-500"},jq={class:"card-title"},Bq=R("span",{class:"font-sans"},"(",-1),qq=R("span",{class:"font-sans"},")",-1),$q=R("i",{class:"fa-regular fa-comment float-right text-2xl"},null,-1),Hq={class:"p-6"},Kq=["disabled"],Gq=R("option",{value:"1"},"Latest",-1),zq=R("option",{value:"2"},"Oldest",-1),Wq=[Gq,zq],Xq={class:"z-10 px-6 font-circular-regular min-h-[50vh] text-white"},Yq={key:0,class:"p-6 border border-slate-500"},Qq={key:0},Jq={class:"mb-5"},Zq={class:"font-bold"},e6={class:"text-sm"};function t6(e,t,n,i,o,s){const u=wt("VeeField"),l=wt("ErrorMessage"),f=wt("VeeForm"),p=wt("AppPlayer");return $e(),rt(zt,null,[R("section",xq,[R("div",Cq,[R("button",{onClick:t[0]||(t[0]=nn(g=>e.play(o.song),["prevent"])),type:"button"},Nq),R("div",Oq,[Pq,R("div",Dq,Et(o.song.modified_name),1),R("div",Lq,[Lt(Et(o.song.artist?o.song.artist:"Unknown artist")+" ",1),R("span",Mq,Et(o.song.genre?o.song.genre:"Unknown Genre"),1)])])])]),R("main",Fq,[R("section",null,[R("div",Vq,[R("div",Uq,[R("span",jq,[Lt("Comments "),Bq,Lt(Et(o.song.comment_count),1),qq]),$q]),R("div",Hq,[o.comment_show_alert?($e(),rt("div",{key:0,class:jt(["text-white text-center p-4 mb-4",o.comment_alert_variant])},Et(o.comment_alert_msg),3)):Co("",!0),e.userLoggedIn?($e(),Gs(f,{key:1,"validation-schema":o.schema,onSubmit:s.publishComment},{default:tr(()=>[Te(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded mb-4",placeholder:"Your comment here..."}),Te(l,{class:"text-red-600",name:"comment"}),R("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Publish ",8,Kq)]),_:1},8,["validation-schema","onSubmit"])):Co("",!0),bf(R("select",{class:"block mt-4 py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded","onUpdate:modelValue":t[1]||(t[1]=g=>o.sort=g)},Wq,512),[[LD,o.sort]])])])]),R("section",null,[R("ul",Xq,[o.comments.length===0?($e(),rt("li",Yq,[Lt(" No comments yet. "),e.userLoggedIn?Co("",!0):($e(),rt("span",Qq," Login or Register to leave a comment."))])):Co("",!0),($e(!0),rt(zt,null,mc(s.sortedComments,g=>($e(),rt("li",{class:"p-6 border border-slate-500",key:g.docID},[R("div",Jq,[R("div",Zq,Et(g.name),1),R("time",e6,Et(this.getCommentPublishDate(g)),1)]),R("p",null,Et(g.content),1)]))),128))])])]),Te(p)],64)}const n6=Kn(kq,[["render",t6]]),r6=[{name:"home",path:"/",component:OB},{name:"about",path:"/about",component:VB},{name:"manage",path:"/manage/music",component:Aq,beforeEnter:(e,t,n)=>{n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:n6},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],ux=V3({history:t3("/musicfy/"),routes:r6,linkExactActiveClass:"text-green-600"});ux.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}Ra().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function on(e){return typeof e=="function"}function cx(e){return e==null}const Wo=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function Zy(e){return Number(e)>=0}function i6(e){const t=parseFloat(e);return isNaN(t)?e:t}function o6(e){return typeof e=="object"&&e!==null}function s6(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function a6(e){if(!o6(e)||s6(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function eh(e,t){return Object.keys(t).forEach(n=>{if(a6(t[n])){e[n]||(e[n]={}),eh(e[n],t[n]);return}e[n]=t[n]}),e}function Au(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let i=1;i<t.length;i++){if(Zy(t[i])){n+=`[${t[i]}]`;continue}n+=`.${t[i]}`}return n}const lx={};function Yn(e,t){c6(e,t),lx[e]=t}function u6(e){return lx[e]}function c6(e,t){if(!on(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function pE(e,t,n){typeof n.value=="object"&&(n.value=pt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function pt(e){if(typeof e!="object")return e;var t=0,n,i,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(pt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,l){o.set(pt(l),pt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(pt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(i=Object.getOwnPropertySymbols(e);t<i.length;t++)pE(o,i[t],Object.getOwnPropertyDescriptor(e,i[t]));for(t=0,i=Object.getOwnPropertyNames(e);t<i.length;t++)Object.hasOwnProperty.call(o,n=i[t])&&o[n]===e[n]||pE(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const td=Symbol("vee-validate-form"),l6=Symbol("vee-validate-field-instance"),th=Symbol("Default empty value"),f6=typeof window<"u";function nv(e){return on(e)&&!!e.__locatorRef}function zi(e){return!!e&&on(e.parse)&&e.__type==="VVTypedSchema"}function nh(e){return!!e&&on(e.validate)}function Fc(e){return e==="checkbox"||e==="radio"}function h6(e){return Wo(e)||Array.isArray(e)}function d6(e){return Array.isArray(e)?e.length===0:Wo(e)&&Object.keys(e).length===0}function nd(e){return/^\[.+\]$/i.test(e)}function p6(e){return fx(e)&&e.multiple}function fx(e){return e.tagName==="SELECT"}function m6(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function g6(e,t){return!m6(e,t)&&t.type!=="file"&&!Fc(t.type)}function hx(e){return e_(e)&&e.target&&"submit"in e.target}function e_(e){return e?!!(typeof Event<"u"&&on(Event)&&e instanceof Event||e&&e.srcElement):!1}function mE(e,t){return t in e&&e[t]!==th}function Nn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,i,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(!Nn(e[i],t[i]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;for(i of e.entries())if(!Nn(i[1],t.get(i[0])))return!1;return!0}if(gE(e)&&gE(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i of e.entries())if(!t.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(i=n;i--!==0;)if(e[i]!==t[i])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,i=n;i--!==0;){var s=o[i];if(!Nn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function gE(e){return f6?e instanceof File:!1}function t_(e){return nd(e)?e.replace(/\[|\]/gi,""):e}function Fn(e,t,n){return e?nd(t)?e[t_(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>h6(o)&&s in o?o[s]:n,e):n}function To(e,t,n){if(nd(t)){e[t_(t)]=n;return}const i=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<i.length;s++){if(s===i.length-1){o[i[s]]=n;return}(!(i[s]in o)||cx(o[i[s]]))&&(o[i[s]]=Zy(i[s+1])?[]:{}),o=o[i[s]]}}function ig(e,t){if(Array.isArray(e)&&Zy(t)){e.splice(Number(t),1);return}Wo(e)&&delete e[t]}function vE(e,t){if(nd(t)){delete e[t_(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let i=e;for(let s=0;s<n.length;s++){if(s===n.length-1){ig(i,n[s]);break}if(!(n[s]in i)||cx(i[n[s]]))break;i=i[n[s]]}const o=n.map((s,u)=>Fn(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(d6(o[s])){if(s===0){ig(e,n[0]);continue}ig(o[s-1],n[s-1])}}function hr(e){return Object.keys(e)}function dx(e,t=void 0){const n=gh();return(n==null?void 0:n.provides[e])||mr(e,t)}function yE(e,t,n){if(Array.isArray(e)){const i=[...e],o=i.findIndex(s=>Nn(s,t));return o>=0?i.splice(o,1):i.push(t),i}return Nn(e,t)?n:t}function _E(e,t=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);i.forEach(u=>u(s)),i=[]},t),new Promise(s=>i.push(s))}}function v6(e,t){return Wo(t)&&t.number?i6(e):e}function rv(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function iv(e){return Array.isArray(e)?e:e?[e]:[]}function wu(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}function y6(e){let t=null,n=[];return function(...i){const o=Br(()=>{if(t!==o)return;const s=e(...i);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}function n_(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var i,o;return(o=(i=t.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:t.slots.default}function og(e){if(px(e))return e._value}function px(e){return"_value"in e}function _6(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function rh(e){if(!e_(e))return e;const t=e.target;if(Fc(t.type)&&px(t))return og(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(p6(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(og);if(fx(t)){const n=Array.from(t.options).find(i=>i.selected);return n?og(n):t.value}return _6(t)}function mx(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?Wo(e)&&e._$$isNormalized?e:Wo(e)?Object.keys(e).reduce((n,i)=>{const o=w6(e[i]);return e[i]!==!1&&(n[i]=wE(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,i)=>{const o=b6(i);return o.name&&(n[o.name]=wE(o.params)),n},t):t}function w6(e){return e===!0?[]:Array.isArray(e)||Wo(e)?e:[e]}function wE(e){const t=n=>typeof n=="string"&&n[0]==="@"?I6(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,i)=>(n[i]=t(e[i]),n),{})}const b6=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function I6(e){const t=n=>Fn(n,e)||n[e];return t.__locatorRef=e,t}function E6(e){return Array.isArray(e)?e.filter(nv):hr(e).filter(t=>nv(e[t])).map(t=>e[t])}const T6={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let ov=Object.assign({},T6);const Vi=()=>ov,S6=e=>{ov=Object.assign(Object.assign({},ov),e)},A6=S6;async function gx(e,t,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},u=(await k6(o,e)).errors;return{errors:u,valid:!u.length}}async function k6(e,t){if(zi(e.rules)||nh(e.rules))return C6(t,e.rules);if(on(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,p=[];for(let g=0;g<f;g++){const h=l[g],m=await h(t,u);if(!(typeof m!="string"&&!Array.isArray(m)&&m)){if(Array.isArray(m))p.push(...m);else{const _=typeof m=="string"?m:yx(u);p.push(_)}if(e.bails)return{errors:p}}}return{errors:p}}const n=Object.assign(Object.assign({},e),{rules:mx(e.rules)}),i=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const l=o[u],f=await R6(n,t,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),e.bails))return{errors:i}}return{errors:i}}function x6(e){return!!e&&e.name==="ValidationError"}function vx(e){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!x6(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,l)=>{const f=l.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function C6(e,t){const i=await(zi(t)?t:vx(t)).parse(e),o=[];for(const s of i.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function R6(e,t,n){const i=u6(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=N6(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await i(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:yx(s)}}function yx(e){const t=Vi().generateMessage;return t?t(e):"Field is invalid"}function N6(e,t){const n=i=>nv(i)?i(t):i;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((i,o)=>(i[o]=n(e[o]),i),{})}async function O6(e,t){const i=await(zi(e)?e:vx(e)).parse(pt(t)),o={},s={};for(const u of i.errors){const l=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(p,g)=>`[${g}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!i.errors.length,results:o,errors:s,values:i.value}}async function P6(e,t,n){const o=hr(e).map(async p=>{var g,h,m;const y=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[p],_=await gx(Fn(t,p),e[p],{name:(y==null?void 0:y.name)||p,label:y==null?void 0:y.label,values:t,bails:(m=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[p])!==null&&m!==void 0?m:!0});return Object.assign(Object.assign({},_),{path:p})});let s=!0;const u=await Promise.all(o),l={},f={};for(const p of u)l[p.path]={valid:p.valid,errors:p.errors},p.valid||(s=!1,f[p.path]=p.errors[0]);return{valid:s,results:l,errors:f}}let bE=0;function D6(e,t){const{value:n,initialValue:i,setInitialValue:o}=L6(e,t.modelValue,t.form);if(!t.form){let m=function(_){var I;"value"in _&&(n.value=_.value),"errors"in _&&p(_.errors),"touched"in _&&(h.touched=(I=_.touched)!==null&&I!==void 0?I:h.touched),"initialValue"in _&&o(_.initialValue)};var l=m;const{errors:f,setErrors:p}=V6(),g=bE>=Number.MAX_SAFE_INTEGER?0:++bE,h=F6(n,i,f);return{id:g,path:e,value:n,initialValue:i,meta:h,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:f,setState:m}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=qe(()=>s.errors);function l(f){var p,g,h;"value"in f&&(n.value=f.value),"errors"in f&&((p=t.form)===null||p===void 0||p.setFieldError(Ye(e),f.errors)),"touched"in f&&((g=t.form)===null||g===void 0||g.setFieldTouched(Ye(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:i,flags:s.__flags,setState:l}}function L6(e,t,n){const i=An(Ye(t));function o(){return n?Fn(n.initialValues.value,Ye(e),Ye(i)):Ye(i)}function s(p){if(!n){i.value=p;return}n.stageInitialValue(Ye(e),p,!0)}const u=qe(o);if(!n)return{value:An(o()),initialValue:u,setInitialValue:s};const l=M6(t,n,u,e);return n.stageInitialValue(Ye(e),l,!0),{value:qe({get(){return Fn(n.values,Ye(e))},set(p){n.setFieldValue(Ye(e),p,!1)}}),initialValue:u,setInitialValue:s}}function M6(e,t,n,i){return ht(e)?Ye(e):e!==void 0?e:Fn(t.values,Ye(i),Ye(n))}function F6(e,t,n){const i=li({touched:!1,pending:!1,valid:!0,validated:!!Ye(n).length,initialValue:qe(()=>Ye(t)),dirty:qe(()=>!Nn(Ye(e),Ye(t)))});return ir(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function V6(){const e=An([]);return{errors:e,setErrors:t=>{e.value=iv(t)}}}function U6(e,t,n){return Fc(n==null?void 0:n.type)?B6(e,t,n):_x(e,t,n)}function _x(e,t,n){const{initialValue:i,validateOnMount:o,bails:s,type:u,checkedValue:l,label:f,validateOnValueUpdate:p,uncheckedValue:g,controlled:h,keepValueOnUnmount:m,syncVModel:y,form:_}=j6(n),I=h?dx(td):void 0,E=_||I,T=qe(()=>Au(kt(e))),C=qe(()=>{if(kt(E==null?void 0:E.schema))return;const ve=Ye(t);return nh(ve)||zi(ve)||on(ve)||Array.isArray(ve)?ve:mx(ve)}),{id:D,value:F,initialValue:J,meta:V,setState:me,errors:G,flags:Y}=D6(T,{modelValue:i,form:E,bails:s,label:f,type:u,validate:C.value?ze:void 0}),x=qe(()=>G.value[0]);y&&q6({value:F,prop:y,handleChange:ae,shouldValidate:()=>p&&!Y.pendingReset});const Ke=(de,ve=!1)=>{V.touched=!0,ve&&it()};async function st(de){var ve,L;return E!=null&&E.validateSchema?(ve=(await E.validateSchema(de)).results[kt(T)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}:C.value?gx(F.value,C.value,{name:kt(T),label:kt(f),values:(L=E==null?void 0:E.values)!==null&&L!==void 0?L:{},bails:s}):{valid:!0,errors:[]}}const it=rv(async()=>(V.pending=!0,V.validated=!0,st("validated-only")),de=>{if(!Y.pendingUnmount[vt.id])return me({errors:de.errors}),V.pending=!1,V.valid=de.valid,de}),Je=rv(async()=>st("silent"),de=>(V.valid=de.valid,de));function ze(de){return(de==null?void 0:de.mode)==="silent"?Je():it()}function ae(de,ve=!0){const L=rh(de);Ct(L,ve)}Iv(()=>{if(o)return it();(!E||!E.validateSchema)&&Je()});function Me(de){V.touched=de}function ge(de){var ve;const L=de&&"value"in de?de.value:J.value;me({value:pt(L),initialValue:pt(L),touched:(ve=de==null?void 0:de.touched)!==null&&ve!==void 0?ve:!1,errors:(de==null?void 0:de.errors)||[]}),V.pending=!1,V.validated=!1,Je()}const gt=gh();function Ct(de,ve=!0){F.value=gt&&y?v6(de,gt.props.modelModifiers):de,(ve?it:Je)()}function Kt(de){me({errors:Array.isArray(de)?de:[de]})}const Mt=qe({get(){return F.value},set(de){Ct(de,p)}}),vt={id:D,name:T,label:f,value:Mt,meta:V,errors:G,errorMessage:x,type:u,checkedValue:l,uncheckedValue:g,bails:s,keepValueOnUnmount:m,resetField:ge,handleReset:()=>ge(),validate:ze,handleChange:ae,handleBlur:Ke,setState:me,setTouched:Me,setErrors:Kt,setValue:Ct};if(Bs(l6,vt),ht(t)&&typeof Ye(t)!="function"&&ir(t,(de,ve)=>{Nn(de,ve)||(V.validated?it():Je())},{deep:!0}),!E)return vt;const Gn=qe(()=>{const de=C.value;return!de||on(de)||nh(de)||zi(de)||Array.isArray(de)?{}:Object.keys(de).reduce((ve,L)=>{const $=E6(de[L]).map(te=>te.__locatorRef).reduce((te,ue)=>{const Pe=Fn(E.values,ue)||E.values[ue];return Pe!==void 0&&(te[ue]=Pe),te},{});return Object.assign(ve,$),ve},{})});return ir(Gn,(de,ve)=>{if(!Object.keys(de).length)return;!Nn(de,ve)&&(V.validated?it():Je())}),aT(()=>{var de;const ve=(de=kt(vt.keepValueOnUnmount))!==null&&de!==void 0?de:kt(E.keepValuesOnUnmount),L=kt(T);if(ve||!E||Y.pendingUnmount[vt.id]){E==null||E.removePathState(L,D);return}Y.pendingUnmount[vt.id]=!0;const $=E.getPathState(L);if(Array.isArray($==null?void 0:$.id)&&($!=null&&$.multiple)?$!=null&&$.id.includes(vt.id):($==null?void 0:$.id)===vt.id){if($!=null&&$.multiple&&Array.isArray($.value)){const ue=$.value.findIndex(Pe=>Nn(Pe,kt(vt.checkedValue)));if(ue>-1){const Pe=[...$.value];Pe.splice(ue,1),E.setFieldValue(L,Pe)}Array.isArray($.id)&&$.id.splice($.id.indexOf(vt.id),1)}else E.unsetPathValue(kt(T));E.removePathState(L,D)}}),vt}function j6(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),i=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?sv(gh(),i):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s,syncVModel:l})}function B6(e,t,n){const i=n!=null&&n.standalone?void 0:dx(td),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const f=l.handleChange,p=qe(()=>{const h=kt(l.value),m=kt(o);return Array.isArray(h)?h.findIndex(y=>Nn(y,m))>=0:Nn(m,h)});function g(h,m=!0){var y,_;if(p.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){m&&l.validate();return}const I=kt(e),E=i==null?void 0:i.getPathState(I),T=rh(h);let C=(_=kt(o))!==null&&_!==void 0?_:T;i&&(E!=null&&E.multiple)&&E.type==="checkbox"?C=yE(Fn(i.values,I)||[],C,void 0):(n==null?void 0:n.type)==="checkbox"&&(C=yE(kt(l.value),C,kt(s))),f(C,m)}return Object.assign(Object.assign({},l),{checked:p,checkedValue:o,uncheckedValue:s,handleChange:g})}return u(_x(e,t,n))}function q6({prop:e,value:t,handleChange:n,shouldValidate:i}){const o=gh();if(!o||!e)return;const s=typeof e=="string"?e:"modelValue",u=`update:${s}`;s in o.props&&(ir(t,l=>{Nn(l,sv(o,s))||o.emit(u,l)}),ir(()=>sv(o,s),l=>{if(l===th&&t.value===void 0)return;const f=l===th?void 0:l;Nn(f,t.value)||n(f,i())}))}function sv(e,t){if(e)return e.props[t]}const $6=pc({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Vi().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:th},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Pi(e,"rules"),i=Pi(e,"name"),o=Pi(e,"label"),s=Pi(e,"uncheckedValue"),u=Pi(e,"keepValue"),{errors:l,value:f,errorMessage:p,validate:g,handleChange:h,handleBlur:m,setTouched:y,resetField:_,handleReset:I,meta:E,checked:T,setErrors:C}=U6(i,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:K6(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),D=function(Y,x=!0){h(Y,x)},F=qe(()=>{const{validateOnInput:G,validateOnChange:Y,validateOnBlur:x,validateOnModelUpdate:Ke}=H6(e);function st(ae){m(ae,x),on(t.attrs.onBlur)&&t.attrs.onBlur(ae)}function it(ae){D(ae,G),on(t.attrs.onInput)&&t.attrs.onInput(ae)}function Je(ae){D(ae,Y),on(t.attrs.onChange)&&t.attrs.onChange(ae)}const ze={name:e.name,onBlur:st,onInput:it,onChange:Je};return ze["onUpdate:modelValue"]=ae=>D(ae,Ke),ze}),J=qe(()=>{const G=Object.assign({},F.value);Fc(t.attrs.type)&&T&&(G.checked=T.value);const Y=IE(e,t);return g6(Y,t.attrs)&&(G.value=f.value),G}),V=qe(()=>Object.assign(Object.assign({},F.value),{modelValue:f.value}));function me(){return{field:J.value,componentField:V.value,value:f.value,meta:E,errors:l.value,errorMessage:p.value,validate:g,resetField:_,handleChange:D,handleInput:G=>D(G,!1),handleReset:I,handleBlur:F.value.onBlur,setTouched:y,setErrors:C}}return t.expose({setErrors:C,setTouched:y,reset:_,validate:g,handleChange:h}),()=>{const G=Tv(IE(e,t)),Y=n_(G,t,me);return G?Xs(G,Object.assign(Object.assign({},t.attrs),J.value),Y):Y}}});function IE(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function H6(e){var t,n,i,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:f}=Vi();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(i=e.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function K6(e,t){return Fc(t.attrs.type)?mE(e,"modelValue")?e.modelValue:void 0:mE(e,"modelValue")?e.modelValue:t.attrs.value}const G6=$6;let z6=0;const bu=["bails","fieldsCount","id","multiple","type","validate"];function wx(e){const t=Ye(e==null?void 0:e.initialValues)||{},n=Ye(e==null?void 0:e.validationSchema);return n&&zi(n)&&on(n.cast)?pt(n.cast(t)||{}):pt(t)}function W6(e){var t;const n=z6++;let i=0;const o=An(!1),s=An(!1),u=An(0),l=[],f=li(wx(e)),p=An([]),g=An({}),h=An({}),m=y6(()=>{h.value=p.value.reduce((O,N)=>(O[Au(kt(N.path))]=N,O),{})});function y(O,N){const K=ae(O);if(!K){typeof O=="string"&&(g.value[Au(O)]=iv(N));return}if(typeof O=="string"){const oe=Au(O);g.value[oe]&&delete g.value[oe]}K.errors=iv(N),K.valid=!K.errors.length}function _(O){hr(O).forEach(N=>{y(N,O[N])})}e!=null&&e.initialErrors&&_(e.initialErrors);const I=qe(()=>{const O=p.value.reduce((N,K)=>(K.errors.length&&(N[K.path]=K.errors),N),{});return Object.assign(Object.assign({},g.value),O)}),E=qe(()=>hr(I.value).reduce((O,N)=>{const K=I.value[N];return K!=null&&K.length&&(O[N]=K[0]),O},{})),T=qe(()=>p.value.reduce((O,N)=>(O[N.path]={name:N.path||"",label:N.label||""},O),{})),C=qe(()=>p.value.reduce((O,N)=>{var K;return O[N.path]=(K=N.bails)!==null&&K!==void 0?K:!0,O},{})),D=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:J,originalInitialValues:V,setInitialValues:me}=Y6(p,f,e),G=X6(p,f,V,E),Y=qe(()=>p.value.reduce((O,N)=>{const K=Fn(f,N.path);return To(O,N.path,K),O},{})),x=e==null?void 0:e.validationSchema;function Ke(O,N){var K,oe;const fe=qe(()=>Fn(J.value,kt(O))),Ce=h.value[kt(O)];if(Ce){((N==null?void 0:N.type)==="checkbox"||(N==null?void 0:N.type)==="radio")&&(Ce.multiple=!0);const ln=i++;return Array.isArray(Ce.id)?Ce.id.push(ln):Ce.id=[Ce.id,ln],Ce.fieldsCount++,Ce.__flags.pendingUnmount[ln]=!1,Ce}const Ue=qe(()=>Fn(f,kt(O))),Ne=kt(O),Fe=i++,De=li({id:Fe,path:O,touched:!1,pending:!1,valid:!0,validated:!!(!((K=D[Ne])===null||K===void 0)&&K.length),initialValue:fe,errors:WE([]),bails:(oe=N==null?void 0:N.bails)!==null&&oe!==void 0?oe:!1,label:N==null?void 0:N.label,type:(N==null?void 0:N.type)||"default",value:Ue,multiple:!1,__flags:{pendingUnmount:{[Fe]:!1},pendingReset:!1},fieldsCount:1,validate:N==null?void 0:N.validate,dirty:qe(()=>!Nn(Ye(Ue),Ye(fe)))});return p.value.push(De),h.value[Ne]=De,m(),E.value[Ne]&&!D[Ne]&&Br(()=>{ne(Ne,{mode:"silent"})}),ht(O)&&ir(O,ln=>{m();const fn=pt(Ue.value);h.value[ln]=De,Br(()=>{To(f,ln,fn)})}),De}const st=_E(ye,5),it=_E(ye,5),Je=rv(async O=>await O==="silent"?st():it(),(O,[N])=>{const K=hr(ve.errorBag.value);return[...new Set([...hr(O.results),...p.value.map(fe=>fe.path),...K])].sort().reduce((fe,Ce)=>{const Ue=Ce,Ne=ae(Ue)||Me(Ue),Fe=(O.results[Ue]||{errors:[]}).errors,De={errors:Fe,valid:!Fe.length};return fe.results[Ue]=De,De.valid||(fe.errors[Ue]=De.errors[0]),Ne&&g.value[Ue]&&delete g.value[Ue],Ne?(Ne.valid=De.valid,N==="silent"||N==="validated-only"&&!Ne.validated||y(Ne,De.errors),fe):(y(Ue,Fe),fe)},{valid:O.valid,results:{},errors:{}})});function ze(O){p.value.forEach(O)}function ae(O){const N=typeof O=="string"?Au(O):O;return typeof N=="string"?h.value[N]:N}function Me(O){return p.value.filter(K=>O.startsWith(K.path)).reduce((K,oe)=>K?oe.path.length>K.path.length?oe:K:oe,void 0)}let ge=[],gt;function Ct(O){return ge.push(O),gt||(gt=Br(()=>{[...ge].sort().reverse().forEach(K=>{vE(f,K)}),ge=[],gt=null})),gt}function Kt(O){return function(K,oe){return function(Ce){return Ce instanceof Event&&(Ce.preventDefault(),Ce.stopPropagation()),ze(Ue=>Ue.touched=!0),o.value=!0,u.value++,Z().then(Ue=>{const Ne=pt(f);if(Ue.valid&&typeof K=="function"){const Fe=pt(Y.value);let De=O?Fe:Ne;return Ue.values&&(De=Ue.values),K(De,{evt:Ce,controlledValues:Fe,setErrors:_,setFieldError:y,setTouched:B,setFieldTouched:A,setValues:te,setFieldValue:L,resetForm:ie,resetField:W})}!Ue.valid&&typeof oe=="function"&&oe({values:Ne,evt:Ce,errors:Ue.errors,results:Ue.results})}).then(Ue=>(o.value=!1,Ue),Ue=>{throw o.value=!1,Ue})}}}const vt=Kt(!1);vt.withControlled=Kt(!0);function Gn(O,N){const K=p.value.findIndex(fe=>fe.path===O),oe=p.value[K];if(!(K===-1||!oe)){if(Br(()=>{ne(O,{mode:"silent",warn:!1})}),oe.multiple&&oe.fieldsCount&&oe.fieldsCount--,Array.isArray(oe.id)){const fe=oe.id.indexOf(N);fe>=0&&oe.id.splice(fe,1),delete oe.__flags.pendingUnmount[N]}(!oe.multiple||oe.fieldsCount<=0)&&(p.value.splice(K,1),Q(O),m(),delete h.value[O])}}function de(O){return ze(N=>{N.path.startsWith(O)&&hr(N.__flags.pendingUnmount).forEach(K=>{N.__flags.pendingUnmount[K]=!0})})}const ve={formId:n,values:f,controlledValues:Y,errorBag:I,errors:E,schema:x,submitCount:u,meta:G,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:F,validateSchema:Ye(x)?Je:void 0,validate:Z,setFieldError:y,validateField:ne,setFieldValue:L,setValues:te,setErrors:_,setFieldTouched:A,setTouched:B,resetForm:ie,resetField:W,handleSubmit:vt,stageInitialValue:we,unsetInitialValue:Q,setFieldInitialValue:ce,useFieldModel:Pe,createPathState:Ke,getPathState:ae,unsetPathValue:Ct,removePathState:Gn,initialValues:J,getAllPathStates:()=>p.value,markForUnmount:de,isFieldTouched:k,isFieldDirty:P,isFieldValid:j};function L(O,N,K=!0){const oe=pt(N),fe=typeof O=="string"?O:O.path;ae(fe)||Ke(fe),To(f,fe,oe),K&&ne(fe)}function $(O,N=!0){hr(f).forEach(K=>{delete f[K]}),hr(O).forEach(K=>{L(K,O[K],!1)}),N&&Z()}function te(O,N=!0){eh(f,O),l.forEach(K=>K&&K.reset()),N&&Z()}function ue(O){const N=ae(Ye(O))||Ke(O);return qe({get(){return N.value},set(K){const oe=Ye(O);L(oe,K,!1),N.validated=!0,N.pending=!0,ne(oe).then(()=>{N.pending=!1})}})}function Pe(O){return Array.isArray(O)?O.map(ue):ue(O)}function A(O,N){const K=ae(O);K&&(K.touched=N)}function k(O){var N;return!!(!((N=ae(O))===null||N===void 0)&&N.touched)}function P(O){var N;return!!(!((N=ae(O))===null||N===void 0)&&N.dirty)}function j(O){var N;return!!(!((N=ae(O))===null||N===void 0)&&N.valid)}function B(O){if(typeof O=="boolean"){ze(N=>{N.touched=O});return}hr(O).forEach(N=>{A(N,!!O[N])})}function W(O,N){var K;const oe=N&&"value"in N?N.value:Fn(J.value,O),fe=ae(O);fe&&(fe.__flags.pendingReset=!0),ce(O,pt(oe)),L(O,oe,!1),A(O,(K=N==null?void 0:N.touched)!==null&&K!==void 0?K:!1),y(O,(N==null?void 0:N.errors)||[]),Br(()=>{fe&&(fe.__flags.pendingReset=!1)})}function ie(O,N){let K=O!=null&&O.values?O.values:V.value;K=zi(x)&&on(x.cast)?x.cast(K):K,me(K),ze(oe=>{var fe;oe.__flags.pendingReset=!0,oe.validated=!1,oe.touched=((fe=O==null?void 0:O.touched)===null||fe===void 0?void 0:fe[oe.path])||!1,L(oe.path,Fn(K,oe.path),!1),y(oe.path,void 0)}),N!=null&&N.force?$(K,!1):te(K,!1),_((O==null?void 0:O.errors)||{}),u.value=(O==null?void 0:O.submitCount)||0,Br(()=>{Z({mode:"silent"}),ze(oe=>{oe.__flags.pendingReset=!1})})}async function Z(O){const N=(O==null?void 0:O.mode)||"force";if(N==="force"&&ze(Ce=>Ce.validated=!0),ve.validateSchema)return ve.validateSchema(N);s.value=!0;const K=await Promise.all(p.value.map(Ce=>Ce.validate?Ce.validate(O).then(Ue=>({key:Ce.path,valid:Ue.valid,errors:Ue.errors})):Promise.resolve({key:Ce.path,valid:!0,errors:[]})));s.value=!1;const oe={},fe={};for(const Ce of K)oe[Ce.key]={valid:Ce.valid,errors:Ce.errors},Ce.errors.length&&(fe[Ce.key]=Ce.errors[0]);return{valid:K.every(Ce=>Ce.valid),results:oe,errors:fe}}async function ne(O,N){var K;const oe=ae(O);if(oe&&(N==null?void 0:N.mode)!=="silent"&&(oe.validated=!0),x){const{results:fe}=await Je((N==null?void 0:N.mode)||"validated-only");return fe[O]||{errors:[],valid:!0}}return oe!=null&&oe.validate?oe.validate(N):(!oe&&(K=N==null?void 0:N.warn),Promise.resolve({errors:[],valid:!0}))}function Q(O){vE(J.value,O)}function we(O,N,K=!1){ce(O,N),To(f,O,N),K&&!(e!=null&&e.initialValues)&&To(V.value,O,pt(N))}function ce(O,N){To(J.value,O,pt(N))}async function ye(){const O=Ye(x);if(!O)return{valid:!0,results:{},errors:{}};s.value=!0;const N=nh(O)||zi(O)?await O6(O,f):await P6(O,f,{names:T.value,bailsMap:C.value});return s.value=!1,N}const xe=vt((O,{evt:N})=>{hx(N)&&N.target.submit()});Iv(()=>{if(e!=null&&e.initialErrors&&_(e.initialErrors),e!=null&&e.initialTouched&&B(e.initialTouched),e!=null&&e.validateOnMount){Z();return}ve.validateSchema&&ve.validateSchema("silent")}),ht(x)&&ir(x,()=>{var O;(O=ve.validateSchema)===null||O===void 0||O.call(ve,"validated-only")}),Bs(td,ve);function Be(O,N){const K=ae(kt(O))||Ke(O),oe=()=>on(N)?N(wu(K,bu)):N||{};function fe(){var Ne;K.touched=!0,((Ne=oe().validateOnBlur)!==null&&Ne!==void 0?Ne:Vi().validateOnBlur)&&ne(K.path)}function Ce(Ne){var Fe;const De=(Fe=oe().validateOnModelUpdate)!==null&&Fe!==void 0?Fe:Vi().validateOnModelUpdate;L(K.path,Ne,De)}return qe(()=>{if(on(N)){const De=N(K),ln=De.model||"modelValue";return Object.assign({onBlur:fe,[ln]:K.value,[`onUpdate:${ln}`]:Ce},De.props||{})}const Ne=(N==null?void 0:N.model)||"modelValue",Fe={onBlur:fe,[Ne]:K.value,[`onUpdate:${Ne}`]:Ce};return N!=null&&N.mapProps?Object.assign(Object.assign({},Fe),N.mapProps(wu(K,bu))):Fe})}function Ie(O,N){const K=ae(kt(O))||Ke(O),oe=()=>on(N)?N(wu(K,bu)):N||{};function fe(){var Fe;K.touched=!0,((Fe=oe().validateOnBlur)!==null&&Fe!==void 0?Fe:Vi().validateOnBlur)&&ne(K.path)}function Ce(Fe){var De;const ln=rh(Fe),fn=(De=oe().validateOnInput)!==null&&De!==void 0?De:Vi().validateOnInput;L(K.path,ln,fn)}function Ue(Fe){var De;const ln=rh(Fe),fn=(De=oe().validateOnChange)!==null&&De!==void 0?De:Vi().validateOnChange;L(K.path,ln,fn)}return qe(()=>{const Fe={value:K.value,onChange:Ue,onInput:Ce,onBlur:fe};return on(N)?Object.assign(Object.assign({},Fe),N(wu(K,bu)).attrs||{}):N!=null&&N.mapAttrs?Object.assign(Object.assign({},Fe),N.mapAttrs(wu(K,bu))):Fe})}return Object.assign(Object.assign({},ve),{values:gv(f),handleReset:()=>ie(),submitForm:xe,defineComponentBinds:Be,defineInputBinds:Ie})}function X6(e,t,n,i){const o={touched:"some",pending:"some",valid:"every"},s=qe(()=>!Nn(t,Ye(n)));function u(){const f=e.value;return hr(o).reduce((p,g)=>{const h=o[g];return p[g]=f[h](m=>m[g]),p},{})}const l=li(u());return xP(()=>{const f=u();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),qe(()=>Object.assign(Object.assign({initialValues:Ye(n)},l),{valid:l.valid&&!hr(i.value).length,dirty:s.value}))}function Y6(e,t,n){const i=wx(n),o=n==null?void 0:n.initialValues,s=An(i),u=An(pt(i));function l(f,p=!1){s.value=eh(pt(s.value)||{},pt(f)),u.value=eh(pt(u.value)||{},pt(f)),p&&e.value.forEach(g=>{if(g.touched)return;const m=Fn(s.value,g.path);To(t,g.path,pt(m))})}return ht(o)&&ir(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:l}}const Q6=pc({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Pi(e,"initialValues"),i=Pi(e,"validationSchema"),o=Pi(e,"keepValues"),{errors:s,errorBag:u,values:l,meta:f,isSubmitting:p,isValidating:g,submitCount:h,controlledValues:m,validate:y,validateField:_,handleReset:I,resetForm:E,handleSubmit:T,setErrors:C,setFieldError:D,setFieldValue:F,setValues:J,setFieldTouched:V,setTouched:me,resetField:G}=W6({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),Y=T((Me,{evt:ge})=>{hx(ge)&&ge.target.submit()},e.onInvalidSubmit),x=e.onSubmit?T(e.onSubmit,e.onInvalidSubmit):Y;function Ke(Me){e_(Me)&&Me.preventDefault(),I(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function st(Me,ge){return T(typeof Me=="function"&&!ge?Me:ge,e.onInvalidSubmit)(Me)}function it(){return pt(l)}function Je(){return pt(f.value)}function ze(){return pt(s.value)}function ae(){return{meta:f.value,errors:s.value,errorBag:u.value,values:l,isSubmitting:p.value,isValidating:g.value,submitCount:h.value,controlledValues:m.value,validate:y,validateField:_,handleSubmit:st,handleReset:I,submitForm:Y,setErrors:C,setFieldError:D,setFieldValue:F,setValues:J,setFieldTouched:V,setTouched:me,resetForm:E,resetField:G,getValues:it,getMeta:Je,getErrors:ze}}return t.expose({setFieldError:D,setErrors:C,setFieldValue:F,setValues:J,setFieldTouched:V,setTouched:me,resetForm:E,validate:y,validateField:_,resetField:G,getValues:it,getMeta:Je,getErrors:ze}),function(){const ge=e.as==="form"?e.as:e.as?Tv(e.as):null,gt=n_(ge,t,ae);return ge?Xs(ge,Object.assign(Object.assign(Object.assign({},ge==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:x,onReset:Ke}),gt):gt}}}),J6=Q6,Z6=pc({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=mr(td,void 0),i=qe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const s=e.as?Tv(e.as):e.as,u=n_(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?Xs(s||"span",l,i.value):Xs(s,l,u)}}}),e$=Z6;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const of={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,kz:/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},t$=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function Na(e,t){return Array.isArray(e)?e[0]:e[t]}function mi(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const bx=(e,t)=>{if(mi(e))return!0;const n=t$(t);if(Array.isArray(e))return e.every(o=>bx(o,{locale:n}));const i=String(e);return n?(of[n]||of.en).test(i):Object.keys(of).some(o=>of[o].test(i))},n$=(e,t)=>{const n=Na(t,"target");return String(e)===String(n)},Ix=(e,t)=>{if(mi(e))return!0;const n=Na(t,"length");if(Array.isArray(e))return e.every(o=>Ix(o,{length:n}));const i=String(e);return/^[0-9]*$/.test(i)&&i.length===Number(n)},r$=e=>{if(mi(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function i$(e){return e==null}function o$(e){return Array.isArray(e)&&e.length===0}const Ex=(e,t)=>{if(mi(e))return!0;const n=Na(t,"length");return Array.isArray(e)?e.every(i=>Ex(i,{length:n})):[...String(e)].length<=Number(n)},Tx=(e,t)=>{if(mi(e))return!0;const n=Na(t,"max");return Array.isArray(e)?e.length>0&&e.every(i=>Tx(i,{max:n})):Number(e)<=Number(n)},Sx=(e,t)=>{if(mi(e))return!0;const n=Na(t,"length");return Array.isArray(e)?e.every(i=>Sx(i,{length:n})):[...String(e)].length>=Number(n)},Ax=(e,t)=>{if(mi(e))return!0;const n=Na(t,"min");return Array.isArray(e)?e.length>0&&e.every(i=>Ax(i,{min:n})):Number(e)>=Number(n)},kx=(e,t)=>mi(e)?!0:Array.isArray(e)?e.every(n=>kx(n,t)):Array.from(t).some(n=>n==e),EE=(e,t)=>mi(e)?!0:!kx(e,t),TE=e=>i$(e)||o$(e)||e===!1?!1:!!String(e).trim().length;function s$(e,t){const n=t[0],i=new Date(e),o=new Date;return o.setFullYear(o.getFullYear()-n),i.getTime()<=o.getTime()}const a$={install(e){e.component("VeeForm",J6),e.component("VeeField",G6),e.component("ErrorMessage",e$),Yn("required",TE),Yn("tos",TE),Yn("min",Sx),Yn("max",Ex),Yn("alpha_spaces",bx),Yn("email",r$),Yn("min_value",Ax),Yn("max_value",Tx),Yn("passwords_missmatch",n$),Yn("excluded",EE),Yn("country_excluded",EE),Yn("digits",Ix),Yn("minAge",s$),A6({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} must have at least ${t.rule.params} characters.`,max:`The field ${t.field} maximun length is ${t.rule.params}.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} can't be under ${t.rule.params}.`,max_value:`The field ${t.field} can't be above ${t.rule.params}.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${t.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${t.field} must be a valid phone number (012345678)`,minAge:`You must be at least ${t.rule.params} years old`};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let Ns;sr.onAuthStateChanged(()=>{Ns||(Ns=jD(H3),Ns.use($D()),Ns.use(ux),Ns.use(a$),Ns.mount("#app"))});
