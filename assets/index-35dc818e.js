(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function bv(t,e){const n=Object.create(null),i=t.split(",");for(let o=0;o<i.length;o++)n[i[o]]=!0;return e?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const ge={},Ts=[],gr=()=>{},HC=()=>!1,zC=/^on[^a-z]/,Af=t=>zC.test(t),_v=t=>t.startsWith("onUpdate:"),ze=Object.assign,Ev=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},GC=Object.prototype.hasOwnProperty,Xt=(t,e)=>GC.call(t,e),Ot=Array.isArray,Ss=t=>Nf(t)==="[object Map]",EI=t=>Nf(t)==="[object Set]",Ft=t=>typeof t=="function",Le=t=>typeof t=="string",Iv=t=>typeof t=="symbol",ve=t=>t!==null&&typeof t=="object",II=t=>ve(t)&&Ft(t.then)&&Ft(t.catch),TI=Object.prototype.toString,Nf=t=>TI.call(t),WC=t=>Nf(t).slice(8,-1),SI=t=>Nf(t)==="[object Object]",Tv=t=>Le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,xl=bv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},QC=/-(\w)/g,Mr=kf(t=>t.replace(QC,(e,n)=>n?n.toUpperCase():"")),YC=/\B([A-Z])/g,tu=kf(t=>t.replace(YC,"-$1").toLowerCase()),xf=kf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qp=kf(t=>t?`on${xf(t)}`:""),va=(t,e)=>!Object.is(t,e),Yp=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Ul=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},XC=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let zb;const _g=()=>zb||(zb=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ma(t){if(Ot(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],o=Le(i)?eO(i):ma(i);if(o)for(const u in o)e[u]=o[u]}return e}else{if(Le(t))return t;if(ve(t))return t}}const JC=/;(?![^(]*\))/g,ZC=/:([^]+)/,tO=/\/\*[^]*?\*\//g;function eO(t){const e={};return t.replace(tO,"").split(JC).forEach(n=>{if(n){const i=n.split(ZC);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Qn(t){let e="";if(Le(t))e=t;else if(Ot(t))for(let n=0;n<t.length;n++){const i=Qn(t[n]);i&&(e+=i+" ")}else if(ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const nO="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rO=bv(nO);function AI(t){return!!t||t===""}const ya=t=>Le(t)?t:t==null?"":Ot(t)||ve(t)&&(t.toString===TI||!Ft(t.toString))?JSON.stringify(t,NI,2):String(t),NI=(t,e)=>e&&e.__v_isRef?NI(t,e.value):Ss(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,o])=>(n[`${i} =>`]=o,n),{})}:EI(e)?{[`Set(${e.size})`]:[...e.values()]}:ve(e)&&!Ot(e)&&!SI(e)?String(e):e;let qn;class kI{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=qn,!e&&qn&&(this.index=(qn.scopes||(qn.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=qn;try{return qn=this,e()}finally{qn=n}}}on(){qn=this}off(){qn=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function xI(t){return new kI(t)}function iO(t,e=qn){e&&e.active&&e.effects.push(t)}function CI(){return qn}function oO(t){qn&&qn.cleanups.push(t)}const Sv=t=>{const e=new Set(t);return e.w=0,e.n=0,e},OI=t=>(t.w&Pi)>0,RI=t=>(t.n&Pi)>0,sO=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Pi},uO=t=>{const{deps:e}=t;if(e.length){let n=0;for(let i=0;i<e.length;i++){const o=e[i];OI(o)&&!RI(o)?o.delete(t):e[n++]=o,o.w&=~Pi,o.n&=~Pi}e.length=n}},Bl=new WeakMap;let ea=0,Pi=1;const Eg=30;let dr;const Eo=Symbol(""),Ig=Symbol("");class Av{constructor(e,n=null,i){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,iO(this,i)}run(){if(!this.active)return this.fn();let e=dr,n=xi;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=dr,dr=this,xi=!0,Pi=1<<++ea,ea<=Eg?sO(this):Gb(this),this.fn()}finally{ea<=Eg&&uO(this),Pi=1<<--ea,dr=this.parent,xi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){dr===this?this.deferStop=!0:this.active&&(Gb(this),this.onStop&&this.onStop(),this.active=!1)}}function Gb(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let xi=!0;const DI=[];function eu(){DI.push(xi),xi=!1}function nu(){const t=DI.pop();xi=t===void 0?!0:t}function Dn(t,e,n){if(xi&&dr){let i=Bl.get(t);i||Bl.set(t,i=new Map);let o=i.get(n);o||i.set(n,o=Sv()),PI(o)}}function PI(t,e){let n=!1;ea<=Eg?RI(t)||(t.n|=Pi,n=!OI(t)):n=!t.has(dr),n&&(t.add(dr),dr.deps.push(t))}function ti(t,e,n,i,o,u){const a=Bl.get(t);if(!a)return;let l=[];if(e==="clear")l=[...a.values()];else if(n==="length"&&Ot(t)){const f=Number(i);a.forEach((d,g)=>{(g==="length"||g>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(a.get(n)),e){case"add":Ot(t)?Tv(n)&&l.push(a.get("length")):(l.push(a.get(Eo)),Ss(t)&&l.push(a.get(Ig)));break;case"delete":Ot(t)||(l.push(a.get(Eo)),Ss(t)&&l.push(a.get(Ig)));break;case"set":Ss(t)&&l.push(a.get(Eo));break}if(l.length===1)l[0]&&Tg(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Tg(Sv(f))}}function Tg(t,e){const n=Ot(t)?t:[...t];for(const i of n)i.computed&&Wb(i);for(const i of n)i.computed||Wb(i)}function Wb(t,e){(t!==dr||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function aO(t,e){var n;return(n=Bl.get(t))==null?void 0:n.get(e)}const cO=bv("__proto__,__v_isRef,__isVue"),LI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Iv)),lO=Nv(),fO=Nv(!1,!0),hO=Nv(!0),Qb=dO();function dO(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=Jt(this);for(let u=0,a=this.length;u<a;u++)Dn(i,"get",u+"");const o=i[e](...n);return o===-1||o===!1?i[e](...n.map(Jt)):o}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){eu();const i=Jt(this)[e].apply(this,n);return nu(),i}}),t}function pO(t){const e=Jt(this);return Dn(e,"has",t),e.hasOwnProperty(t)}function Nv(t=!1,e=!1){return function(i,o,u){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return e;if(o==="__v_raw"&&u===(t?e?CO:UI:e?jI:VI).get(i))return i;const a=Ot(i);if(!t){if(a&&Xt(Qb,o))return Reflect.get(Qb,o,u);if(o==="hasOwnProperty")return pO}const l=Reflect.get(i,o,u);return(Iv(o)?LI.has(o):cO(o))||(t||Dn(i,"get",o),e)?l:ae(l)?a&&Tv(o)?l:l.value:ve(l)?t?Cv(l):ei(l):l}}const gO=MI(),vO=MI(!0);function MI(t=!1){return function(n,i,o,u){let a=n[i];if(xs(a)&&ae(a)&&!ae(o))return!1;if(!t&&(!ql(o)&&!xs(o)&&(a=Jt(a),o=Jt(o)),!Ot(n)&&ae(a)&&!ae(o)))return a.value=o,!0;const l=Ot(n)&&Tv(i)?Number(i)<n.length:Xt(n,i),f=Reflect.set(n,i,o,u);return n===Jt(u)&&(l?va(o,a)&&ti(n,"set",i,o):ti(n,"add",i,o)),f}}function mO(t,e){const n=Xt(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&ti(t,"delete",e,void 0),i}function yO(t,e){const n=Reflect.has(t,e);return(!Iv(e)||!LI.has(e))&&Dn(t,"has",e),n}function wO(t){return Dn(t,"iterate",Ot(t)?"length":Eo),Reflect.ownKeys(t)}const FI={get:lO,set:gO,deleteProperty:mO,has:yO,ownKeys:wO},bO={get:hO,set(t,e){return!0},deleteProperty(t,e){return!0}},_O=ze({},FI,{get:fO,set:vO}),kv=t=>t,Cf=t=>Reflect.getPrototypeOf(t);function dl(t,e,n=!1,i=!1){t=t.__v_raw;const o=Jt(t),u=Jt(e);n||(e!==u&&Dn(o,"get",e),Dn(o,"get",u));const{has:a}=Cf(o),l=i?kv:n?Rv:wa;if(a.call(o,e))return l(t.get(e));if(a.call(o,u))return l(t.get(u));t!==o&&t.get(e)}function pl(t,e=!1){const n=this.__v_raw,i=Jt(n),o=Jt(t);return e||(t!==o&&Dn(i,"has",t),Dn(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function gl(t,e=!1){return t=t.__v_raw,!e&&Dn(Jt(t),"iterate",Eo),Reflect.get(t,"size",t)}function Yb(t){t=Jt(t);const e=Jt(this);return Cf(e).has.call(e,t)||(e.add(t),ti(e,"add",t,t)),this}function Xb(t,e){e=Jt(e);const n=Jt(this),{has:i,get:o}=Cf(n);let u=i.call(n,t);u||(t=Jt(t),u=i.call(n,t));const a=o.call(n,t);return n.set(t,e),u?va(e,a)&&ti(n,"set",t,e):ti(n,"add",t,e),this}function Jb(t){const e=Jt(this),{has:n,get:i}=Cf(e);let o=n.call(e,t);o||(t=Jt(t),o=n.call(e,t)),i&&i.call(e,t);const u=e.delete(t);return o&&ti(e,"delete",t,void 0),u}function Zb(){const t=Jt(this),e=t.size!==0,n=t.clear();return e&&ti(t,"clear",void 0,void 0),n}function vl(t,e){return function(i,o){const u=this,a=u.__v_raw,l=Jt(a),f=e?kv:t?Rv:wa;return!t&&Dn(l,"iterate",Eo),a.forEach((d,g)=>i.call(o,f(d),f(g),u))}}function ml(t,e,n){return function(...i){const o=this.__v_raw,u=Jt(o),a=Ss(u),l=t==="entries"||t===Symbol.iterator&&a,f=t==="keys"&&a,d=o[t](...i),g=n?kv:e?Rv:wa;return!e&&Dn(u,"iterate",f?Ig:Eo),{next(){const{value:v,done:y}=d.next();return y?{value:v,done:y}:{value:l?[g(v[0]),g(v[1])]:g(v),done:y}},[Symbol.iterator](){return this}}}}function pi(t){return function(...e){return t==="delete"?!1:this}}function EO(){const t={get(u){return dl(this,u)},get size(){return gl(this)},has:pl,add:Yb,set:Xb,delete:Jb,clear:Zb,forEach:vl(!1,!1)},e={get(u){return dl(this,u,!1,!0)},get size(){return gl(this)},has:pl,add:Yb,set:Xb,delete:Jb,clear:Zb,forEach:vl(!1,!0)},n={get(u){return dl(this,u,!0)},get size(){return gl(this,!0)},has(u){return pl.call(this,u,!0)},add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear"),forEach:vl(!0,!1)},i={get(u){return dl(this,u,!0,!0)},get size(){return gl(this,!0)},has(u){return pl.call(this,u,!0)},add:pi("add"),set:pi("set"),delete:pi("delete"),clear:pi("clear"),forEach:vl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=ml(u,!1,!1),n[u]=ml(u,!0,!1),e[u]=ml(u,!1,!0),i[u]=ml(u,!0,!0)}),[t,n,e,i]}const[IO,TO,SO,AO]=EO();function xv(t,e){const n=e?t?AO:SO:t?TO:IO;return(i,o,u)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?i:Reflect.get(Xt(n,o)&&o in i?n:i,o,u)}const NO={get:xv(!1,!1)},kO={get:xv(!1,!0)},xO={get:xv(!0,!1)},VI=new WeakMap,jI=new WeakMap,UI=new WeakMap,CO=new WeakMap;function OO(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function RO(t){return t.__v_skip||!Object.isExtensible(t)?0:OO(WC(t))}function ei(t){return xs(t)?t:Ov(t,!1,FI,NO,VI)}function BI(t){return Ov(t,!1,_O,kO,jI)}function Cv(t){return Ov(t,!0,bO,xO,UI)}function Ov(t,e,n,i,o){if(!ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const u=o.get(t);if(u)return u;const a=RO(t);if(a===0)return t;const l=new Proxy(t,a===2?i:n);return o.set(t,l),l}function Ci(t){return xs(t)?Ci(t.__v_raw):!!(t&&t.__v_isReactive)}function xs(t){return!!(t&&t.__v_isReadonly)}function ql(t){return!!(t&&t.__v_isShallow)}function qI(t){return Ci(t)||xs(t)}function Jt(t){const e=t&&t.__v_raw;return e?Jt(e):t}function Of(t){return Ul(t,"__v_skip",!0),t}const wa=t=>ve(t)?ei(t):t,Rv=t=>ve(t)?Cv(t):t;function $I(t){xi&&dr&&(t=Jt(t),PI(t.dep||(t.dep=Sv())))}function KI(t,e){t=Jt(t);const n=t.dep;n&&Tg(n)}function ae(t){return!!(t&&t.__v_isRef===!0)}function mn(t){return zI(t,!1)}function HI(t){return zI(t,!0)}function zI(t,e){return ae(t)?t:new DO(t,e)}class DO{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Jt(e),this._value=n?e:wa(e)}get value(){return $I(this),this._value}set value(e){const n=this.__v_isShallow||ql(e)||xs(e);e=n?e:Jt(e),va(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:wa(e),KI(this))}}function Gt(t){return ae(t)?t.value:t}function _e(t){return Ft(t)?t():Gt(t)}const PO={get:(t,e,n)=>Gt(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const o=t[e];return ae(o)&&!ae(n)?(o.value=n,!0):Reflect.set(t,e,n,i)}};function GI(t){return Ci(t)?t:new Proxy(t,PO)}function LO(t){const e=Ot(t)?new Array(t.length):{};for(const n in t)e[n]=WI(t,n);return e}class MO{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return aO(Jt(this._object),this._key)}}class FO{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Ii(t,e,n){return ae(t)?t:Ft(t)?new FO(t):ve(t)&&arguments.length>1?WI(t,e,n):mn(t)}function WI(t,e,n){const i=t[e];return ae(i)?i:new MO(t,e,n)}class VO{constructor(e,n,i,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Av(e,()=>{this._dirty||(this._dirty=!0,KI(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=i}get value(){const e=Jt(this);return $I(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function jO(t,e,n=!1){let i,o;const u=Ft(t);return u?(i=t,o=gr):(i=t.get,o=t.set),new VO(i,o,u||!o,n)}function Oi(t,e,n,i){let o;try{o=i?t(...i):t()}catch(u){Rf(u,e,n)}return o}function vr(t,e,n,i){if(Ft(t)){const u=Oi(t,e,n,i);return u&&II(u)&&u.catch(a=>{Rf(a,e,n)}),u}const o=[];for(let u=0;u<t.length;u++)o.push(vr(t[u],e,n,i));return o}function Rf(t,e,n,i=!0){const o=e?e.vnode:null;if(e){let u=e.parent;const a=e.proxy,l=n;for(;u;){const d=u.ec;if(d){for(let g=0;g<d.length;g++)if(d[g](t,a,l)===!1)return}u=u.parent}const f=e.appContext.config.errorHandler;if(f){Oi(f,null,10,[t,a,l]);return}}UO(t,n,o,i)}function UO(t,e,n,i=!0){console.error(t)}let ba=!1,Sg=!1;const un=[];let Dr=0;const As=[];let zr=null,po=0;const QI=Promise.resolve();let Dv=null;function Or(t){const e=Dv||QI;return t?e.then(this?t.bind(this):t):e}function BO(t){let e=Dr+1,n=un.length;for(;e<n;){const i=e+n>>>1;_a(un[i])<t?e=i+1:n=i}return e}function Pv(t){(!un.length||!un.includes(t,ba&&t.allowRecurse?Dr+1:Dr))&&(t.id==null?un.push(t):un.splice(BO(t.id),0,t),YI())}function YI(){!ba&&!Sg&&(Sg=!0,Dv=QI.then(JI))}function qO(t){const e=un.indexOf(t);e>Dr&&un.splice(e,1)}function $O(t){Ot(t)?As.push(...t):(!zr||!zr.includes(t,t.allowRecurse?po+1:po))&&As.push(t),YI()}function t_(t,e=ba?Dr+1:0){for(;e<un.length;e++){const n=un[e];n&&n.pre&&(un.splice(e,1),e--,n())}}function XI(t){if(As.length){const e=[...new Set(As)];if(As.length=0,zr){zr.push(...e);return}for(zr=e,zr.sort((n,i)=>_a(n)-_a(i)),po=0;po<zr.length;po++)zr[po]();zr=null,po=0}}const _a=t=>t.id==null?1/0:t.id,KO=(t,e)=>{const n=_a(t)-_a(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function JI(t){Sg=!1,ba=!0,un.sort(KO);const e=gr;try{for(Dr=0;Dr<un.length;Dr++){const n=un[Dr];n&&n.active!==!1&&Oi(n,null,14)}}finally{Dr=0,un.length=0,XI(),ba=!1,Dv=null,(un.length||As.length)&&JI()}}function HO(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||ge;let o=n;const u=e.startsWith("update:"),a=u&&e.slice(7);if(a&&a in i){const g=`${a==="modelValue"?"model":a}Modifiers`,{number:v,trim:y}=i[g]||ge;y&&(o=n.map(b=>Le(b)?b.trim():b)),v&&(o=n.map(XC))}let l,f=i[l=Qp(e)]||i[l=Qp(Mr(e))];!f&&u&&(f=i[l=Qp(tu(e))]),f&&vr(f,t,6,o);const d=i[l+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,vr(d,t,6,o)}}function ZI(t,e,n=!1){const i=e.emitsCache,o=i.get(t);if(o!==void 0)return o;const u=t.emits;let a={},l=!1;if(!Ft(t)){const f=d=>{const g=ZI(d,e,!0);g&&(l=!0,ze(a,g))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!u&&!l?(ve(t)&&i.set(t,null),null):(Ot(u)?u.forEach(f=>a[f]=null):ze(a,u),ve(t)&&i.set(t,a),a)}function Df(t,e){return!t||!Af(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xt(t,e[0].toLowerCase()+e.slice(1))||Xt(t,tu(e))||Xt(t,e))}let xn=null,t1=null;function $l(t){const e=xn;return xn=t,t1=t&&t.type.__scopeId||null,e}function Gr(t,e=xn,n){if(!e||t._n)return t;const i=(...o)=>{i._d&&f_(-1);const u=$l(e);let a;try{a=t(...o)}finally{$l(u),i._d&&f_(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function Xp(t){const{type:e,vnode:n,proxy:i,withProxy:o,props:u,propsOptions:[a],slots:l,attrs:f,emit:d,render:g,renderCache:v,data:y,setupState:b,ctx:_,inheritAttrs:T}=t;let N,O;const P=$l(t);try{if(n.shapeFlag&4){const q=o||i;N=Rr(g.call(q,q,v,u,b,y,_)),O=f}else{const q=e;N=Rr(q.length>1?q(u,{attrs:f,slots:l,emit:d}):q(u,null)),O=e.props?f:zO(f)}}catch(q){ua.length=0,Rf(q,t,1),N=jt(No)}let j=N;if(O&&T!==!1){const q=Object.keys(O),{shapeFlag:rt}=j;q.length&&rt&7&&(a&&q.some(_v)&&(O=GO(O,a)),j=Cs(j,O))}return n.dirs&&(j=Cs(j),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&(j.transition=n.transition),N=j,$l(P),N}const zO=t=>{let e;for(const n in t)(n==="class"||n==="style"||Af(n))&&((e||(e={}))[n]=t[n]);return e},GO=(t,e)=>{const n={};for(const i in t)(!_v(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function WO(t,e,n){const{props:i,children:o,component:u}=t,{props:a,children:l,patchFlag:f}=e,d=u.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return i?e_(i,a,d):!!a;if(f&8){const g=e.dynamicProps;for(let v=0;v<g.length;v++){const y=g[v];if(a[y]!==i[y]&&!Df(d,y))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:i===a?!1:i?a?e_(i,a,d):!0:!!a;return!1}function e_(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let o=0;o<i.length;o++){const u=i[o];if(e[u]!==t[u]&&!Df(n,u))return!0}return!1}function QO({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const YO=t=>t.__isSuspense;function XO(t,e){e&&e.pendingBranch?Ot(t)?e.effects.push(...t):e.effects.push(t):$O(t)}function JO(t,e){return Lv(t,null,e)}const yl={};function Yn(t,e,n){return Lv(t,e,n)}function Lv(t,e,{immediate:n,deep:i,flush:o,onTrack:u,onTrigger:a}=ge){var l;const f=CI()===((l=Ue)==null?void 0:l.scope)?Ue:null;let d,g=!1,v=!1;if(ae(t)?(d=()=>t.value,g=ql(t)):Ci(t)?(d=()=>t,i=!0):Ot(t)?(v=!0,g=t.some(q=>Ci(q)||ql(q)),d=()=>t.map(q=>{if(ae(q))return q.value;if(Ci(q))return mo(q);if(Ft(q))return Oi(q,f,2)})):Ft(t)?e?d=()=>Oi(t,f,2):d=()=>{if(!(f&&f.isUnmounted))return y&&y(),vr(t,f,3,[b])}:d=gr,e&&i){const q=d;d=()=>mo(q())}let y,b=q=>{y=P.onStop=()=>{Oi(q,f,4)}},_;if(Sa)if(b=gr,e?n&&vr(e,f,3,[d(),v?[]:void 0,b]):d(),o==="sync"){const q=$R();_=q.__watcherHandles||(q.__watcherHandles=[])}else return gr;let T=v?new Array(t.length).fill(yl):yl;const N=()=>{if(P.active)if(e){const q=P.run();(i||g||(v?q.some((rt,V)=>va(rt,T[V])):va(q,T)))&&(y&&y(),vr(e,f,3,[q,T===yl?void 0:v&&T[0]===yl?[]:T,b]),T=q)}else P.run()};N.allowRecurse=!!e;let O;o==="sync"?O=N:o==="post"?O=()=>Nn(N,f&&f.suspense):(N.pre=!0,f&&(N.id=f.uid),O=()=>Pv(N));const P=new Av(d,O);e?n?N():T=P.run():o==="post"?Nn(P.run.bind(P),f&&f.suspense):P.run();const j=()=>{P.stop(),f&&f.scope&&Ev(f.scope.effects,P)};return _&&_.push(j),j}function ZO(t,e,n){const i=this.proxy,o=Le(t)?t.includes(".")?e1(i,t):()=>i[t]:t.bind(i,i);let u;Ft(e)?u=e:(u=e.handler,n=e);const a=Ue;Os(this);const l=Lv(o,u.bind(i),n);return a?Os(a):Io(),l}function e1(t,e){const n=e.split(".");return()=>{let i=t;for(let o=0;o<n.length&&i;o++)i=i[n[o]];return i}}function mo(t,e){if(!ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ae(t))mo(t.value,e);else if(Ot(t))for(let n=0;n<t.length;n++)mo(t[n],e);else if(EI(t)||Ss(t))t.forEach(n=>{mo(n,e)});else if(SI(t))for(const n in t)mo(t[n],e);return t}function tR(t,e){const n=xn;if(n===null)return t;const i=Vf(n)||n.proxy,o=t.dirs||(t.dirs=[]);for(let u=0;u<e.length;u++){let[a,l,f,d=ge]=e[u];a&&(Ft(a)&&(a={mounted:a,updated:a}),a.deep&&mo(l),o.push({dir:a,instance:i,value:l,oldValue:void 0,arg:f,modifiers:d}))}return t}function ao(t,e,n,i){const o=t.dirs,u=e&&e.dirs;for(let a=0;a<o.length;a++){const l=o[a];u&&(l.oldValue=u[a].value);let f=l.dir[i];f&&(eu(),vr(f,n,8,[t.el,l,t,e]),nu())}}function Ha(t,e){return Ft(t)?(()=>ze({name:t.name},e,{setup:t}))():t}const Cl=t=>!!t.type.__asyncLoader,n1=t=>t.type.__isKeepAlive;function eR(t,e){r1(t,"a",e)}function nR(t,e){r1(t,"da",e)}function r1(t,e,n=Ue){const i=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(Pf(e,i,n),n){let o=n.parent;for(;o&&o.parent;)n1(o.parent.vnode)&&rR(i,e,n,o),o=o.parent}}function rR(t,e,n,i){const o=Pf(e,t,i,!0);o1(()=>{Ev(i[e],o)},n)}function Pf(t,e,n=Ue,i=!1){if(n){const o=n[t]||(n[t]=[]),u=e.__weh||(e.__weh=(...a)=>{if(n.isUnmounted)return;eu(),Os(n);const l=vr(e,n,t,a);return Io(),nu(),l});return i?o.unshift(u):o.push(u),u}}const ri=t=>(e,n=Ue)=>(!Sa||t==="sp")&&Pf(t,(...i)=>e(...i),n),iR=ri("bm"),Mv=ri("m"),oR=ri("bu"),sR=ri("u"),i1=ri("bum"),o1=ri("um"),uR=ri("sp"),aR=ri("rtg"),cR=ri("rtc");function lR(t,e=Ue){Pf("ec",t,e)}const Fv="components";function On(t,e){return u1(Fv,t,!0,e)||t}const s1=Symbol.for("v-ndc");function Vv(t){return Le(t)?u1(Fv,t,!1)||t:t||s1}function u1(t,e,n=!0,i=!1){const o=xn||Ue;if(o){const u=o.type;if(t===Fv){const l=UR(u,!1);if(l&&(l===e||l===Mr(e)||l===xf(Mr(e))))return u}const a=n_(o[t]||u[t],e)||n_(o.appContext[t],e);return!a&&i?u:a}}function n_(t,e){return t&&(t[e]||t[Mr(e)]||t[xf(Mr(e))])}function fR(t,e,n,i){let o;const u=n&&n[i];if(Ot(t)||Le(t)){o=new Array(t.length);for(let a=0,l=t.length;a<l;a++)o[a]=e(t[a],a,void 0,u&&u[a])}else if(typeof t=="number"){o=new Array(t);for(let a=0;a<t;a++)o[a]=e(a+1,a,void 0,u&&u[a])}else if(ve(t))if(t[Symbol.iterator])o=Array.from(t,(a,l)=>e(a,l,void 0,u&&u[l]));else{const a=Object.keys(t);o=new Array(a.length);for(let l=0,f=a.length;l<f;l++){const d=a[l];o[l]=e(t[d],d,l,u&&u[l])}}else o=[];return n&&(n[i]=o),o}const Ag=t=>t?w1(t)?Vf(t)||t.proxy:Ag(t.parent):null,sa=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ag(t.parent),$root:t=>Ag(t.root),$emit:t=>t.emit,$options:t=>jv(t),$forceUpdate:t=>t.f||(t.f=()=>Pv(t.update)),$nextTick:t=>t.n||(t.n=Or.bind(t.proxy)),$watch:t=>ZO.bind(t)}),Jp=(t,e)=>t!==ge&&!t.__isScriptSetup&&Xt(t,e),hR={get({_:t},e){const{ctx:n,setupState:i,data:o,props:u,accessCache:a,type:l,appContext:f}=t;let d;if(e[0]!=="$"){const b=a[e];if(b!==void 0)switch(b){case 1:return i[e];case 2:return o[e];case 4:return n[e];case 3:return u[e]}else{if(Jp(i,e))return a[e]=1,i[e];if(o!==ge&&Xt(o,e))return a[e]=2,o[e];if((d=t.propsOptions[0])&&Xt(d,e))return a[e]=3,u[e];if(n!==ge&&Xt(n,e))return a[e]=4,n[e];Ng&&(a[e]=0)}}const g=sa[e];let v,y;if(g)return e==="$attrs"&&Dn(t,"get",e),g(t);if((v=l.__cssModules)&&(v=v[e]))return v;if(n!==ge&&Xt(n,e))return a[e]=4,n[e];if(y=f.config.globalProperties,Xt(y,e))return y[e]},set({_:t},e,n){const{data:i,setupState:o,ctx:u}=t;return Jp(o,e)?(o[e]=n,!0):i!==ge&&Xt(i,e)?(i[e]=n,!0):Xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(u[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:o,propsOptions:u}},a){let l;return!!n[a]||t!==ge&&Xt(t,a)||Jp(e,a)||(l=u[0])&&Xt(l,a)||Xt(i,a)||Xt(sa,a)||Xt(o.config.globalProperties,a)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function r_(t){return Ot(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Ng=!0;function dR(t){const e=jv(t),n=t.proxy,i=t.ctx;Ng=!1,e.beforeCreate&&i_(e.beforeCreate,t,"bc");const{data:o,computed:u,methods:a,watch:l,provide:f,inject:d,created:g,beforeMount:v,mounted:y,beforeUpdate:b,updated:_,activated:T,deactivated:N,beforeDestroy:O,beforeUnmount:P,destroyed:j,unmounted:q,render:rt,renderTracked:V,renderTriggered:It,errorCaptured:Q,serverPrefetch:ht,expose:A,inheritAttrs:Wt,components:oe,directives:se,filters:ce}=e;if(d&&pR(d,i,null),a)for(const Lt in a){const gt=a[Lt];Ft(gt)&&(i[Lt]=gt.bind(n))}if(o){const Lt=o.call(n,n);ve(Lt)&&(t.data=ei(Lt))}if(Ng=!0,u)for(const Lt in u){const gt=u[Lt],he=Ft(gt)?gt.bind(n,n):Ft(gt.get)?gt.get.bind(n,n):gr,Ie=!Ft(gt)&&Ft(gt.set)?gt.set.bind(n):gr,Ve=qt({get:he,set:Ie});Object.defineProperty(i,Lt,{enumerable:!0,configurable:!0,get:()=>Ve.value,set:Ce=>Ve.value=Ce})}if(l)for(const Lt in l)a1(l[Lt],i,n,Lt);if(f){const Lt=Ft(f)?f.call(n):f;Reflect.ownKeys(Lt).forEach(gt=>{Ns(gt,Lt[gt])})}g&&i_(g,t,"c");function st(Lt,gt){Ot(gt)?gt.forEach(he=>Lt(he.bind(n))):gt&&Lt(gt.bind(n))}if(st(iR,v),st(Mv,y),st(oR,b),st(sR,_),st(eR,T),st(nR,N),st(lR,Q),st(cR,V),st(aR,It),st(i1,P),st(o1,q),st(uR,ht),Ot(A))if(A.length){const Lt=t.exposed||(t.exposed={});A.forEach(gt=>{Object.defineProperty(Lt,gt,{get:()=>n[gt],set:he=>n[gt]=he})})}else t.exposed||(t.exposed={});rt&&t.render===gr&&(t.render=rt),Wt!=null&&(t.inheritAttrs=Wt),oe&&(t.components=oe),se&&(t.directives=se)}function pR(t,e,n=gr){Ot(t)&&(t=kg(t));for(const i in t){const o=t[i];let u;ve(o)?"default"in o?u=or(o.from||i,o.default,!0):u=or(o.from||i):u=or(o),ae(u)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):e[i]=u}}function i_(t,e,n){vr(Ot(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function a1(t,e,n,i){const o=i.includes(".")?e1(n,i):()=>n[i];if(Le(t)){const u=e[t];Ft(u)&&Yn(o,u)}else if(Ft(t))Yn(o,t.bind(n));else if(ve(t))if(Ot(t))t.forEach(u=>a1(u,e,n,i));else{const u=Ft(t.handler)?t.handler.bind(n):e[t.handler];Ft(u)&&Yn(o,u,t)}}function jv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:o,optionsCache:u,config:{optionMergeStrategies:a}}=t.appContext,l=u.get(e);let f;return l?f=l:!o.length&&!n&&!i?f=e:(f={},o.length&&o.forEach(d=>Kl(f,d,a,!0)),Kl(f,e,a)),ve(e)&&u.set(e,f),f}function Kl(t,e,n,i=!1){const{mixins:o,extends:u}=e;u&&Kl(t,u,n,!0),o&&o.forEach(a=>Kl(t,a,n,!0));for(const a in e)if(!(i&&a==="expose")){const l=gR[a]||n&&n[a];t[a]=l?l(t[a],e[a]):e[a]}return t}const gR={data:o_,props:s_,emits:s_,methods:na,computed:na,beforeCreate:gn,created:gn,beforeMount:gn,mounted:gn,beforeUpdate:gn,updated:gn,beforeDestroy:gn,beforeUnmount:gn,destroyed:gn,unmounted:gn,activated:gn,deactivated:gn,errorCaptured:gn,serverPrefetch:gn,components:na,directives:na,watch:mR,provide:o_,inject:vR};function o_(t,e){return e?t?function(){return ze(Ft(t)?t.call(this,this):t,Ft(e)?e.call(this,this):e)}:e:t}function vR(t,e){return na(kg(t),kg(e))}function kg(t){if(Ot(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function gn(t,e){return t?[...new Set([].concat(t,e))]:e}function na(t,e){return t?ze(Object.create(null),t,e):e}function s_(t,e){return t?Ot(t)&&Ot(e)?[...new Set([...t,...e])]:ze(Object.create(null),r_(t),r_(e??{})):e}function mR(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const i in e)n[i]=gn(t[i],e[i]);return n}function c1(){return{app:null,config:{isNativeTag:HC,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let yR=0;function wR(t,e){return function(i,o=null){Ft(i)||(i=ze({},i)),o!=null&&!ve(o)&&(o=null);const u=c1(),a=new Set;let l=!1;const f=u.app={_uid:yR++,_component:i,_props:o,_container:null,_context:u,_instance:null,version:KR,get config(){return u.config},set config(d){},use(d,...g){return a.has(d)||(d&&Ft(d.install)?(a.add(d),d.install(f,...g)):Ft(d)&&(a.add(d),d(f,...g))),f},mixin(d){return u.mixins.includes(d)||u.mixins.push(d),f},component(d,g){return g?(u.components[d]=g,f):u.components[d]},directive(d,g){return g?(u.directives[d]=g,f):u.directives[d]},mount(d,g,v){if(!l){const y=jt(i,o);return y.appContext=u,g&&e?e(y,d):t(y,d,v),l=!0,f._container=d,d.__vue_app__=f,Vf(y.component)||y.component.proxy}},unmount(){l&&(t(null,f._container),delete f._container.__vue_app__)},provide(d,g){return u.provides[d]=g,f},runWithContext(d){Ea=f;try{return d()}finally{Ea=null}}};return f}}let Ea=null;function Ns(t,e){if(Ue){let n=Ue.provides;const i=Ue.parent&&Ue.parent.provides;i===n&&(n=Ue.provides=Object.create(i)),n[t]=e}}function or(t,e,n=!1){const i=Ue||xn;if(i||Ea){const o=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Ea._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&Ft(e)?e.call(i&&i.proxy):e}}function bR(){return!!(Ue||xn||Ea)}function _R(t,e,n,i=!1){const o={},u={};Ul(u,Mf,1),t.propsDefaults=Object.create(null),l1(t,e,o,u);for(const a in t.propsOptions[0])a in o||(o[a]=void 0);n?t.props=i?o:BI(o):t.type.props?t.props=o:t.props=u,t.attrs=u}function ER(t,e,n,i){const{props:o,attrs:u,vnode:{patchFlag:a}}=t,l=Jt(o),[f]=t.propsOptions;let d=!1;if((i||a>0)&&!(a&16)){if(a&8){const g=t.vnode.dynamicProps;for(let v=0;v<g.length;v++){let y=g[v];if(Df(t.emitsOptions,y))continue;const b=e[y];if(f)if(Xt(u,y))b!==u[y]&&(u[y]=b,d=!0);else{const _=Mr(y);o[_]=xg(f,l,_,b,t,!1)}else b!==u[y]&&(u[y]=b,d=!0)}}}else{l1(t,e,o,u)&&(d=!0);let g;for(const v in l)(!e||!Xt(e,v)&&((g=tu(v))===v||!Xt(e,g)))&&(f?n&&(n[v]!==void 0||n[g]!==void 0)&&(o[v]=xg(f,l,v,void 0,t,!0)):delete o[v]);if(u!==l)for(const v in u)(!e||!Xt(e,v))&&(delete u[v],d=!0)}d&&ti(t,"set","$attrs")}function l1(t,e,n,i){const[o,u]=t.propsOptions;let a=!1,l;if(e)for(let f in e){if(xl(f))continue;const d=e[f];let g;o&&Xt(o,g=Mr(f))?!u||!u.includes(g)?n[g]=d:(l||(l={}))[g]=d:Df(t.emitsOptions,f)||(!(f in i)||d!==i[f])&&(i[f]=d,a=!0)}if(u){const f=Jt(n),d=l||ge;for(let g=0;g<u.length;g++){const v=u[g];n[v]=xg(o,f,v,d[v],t,!Xt(d,v))}}return a}function xg(t,e,n,i,o,u){const a=t[n];if(a!=null){const l=Xt(a,"default");if(l&&i===void 0){const f=a.default;if(a.type!==Function&&!a.skipFactory&&Ft(f)){const{propsDefaults:d}=o;n in d?i=d[n]:(Os(o),i=d[n]=f.call(null,e),Io())}else i=f}a[0]&&(u&&!l?i=!1:a[1]&&(i===""||i===tu(n))&&(i=!0))}return i}function f1(t,e,n=!1){const i=e.propsCache,o=i.get(t);if(o)return o;const u=t.props,a={},l=[];let f=!1;if(!Ft(t)){const g=v=>{f=!0;const[y,b]=f1(v,e,!0);ze(a,y),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!u&&!f)return ve(t)&&i.set(t,Ts),Ts;if(Ot(u))for(let g=0;g<u.length;g++){const v=Mr(u[g]);u_(v)&&(a[v]=ge)}else if(u)for(const g in u){const v=Mr(g);if(u_(v)){const y=u[g],b=a[v]=Ot(y)||Ft(y)?{type:y}:ze({},y);if(b){const _=l_(Boolean,b.type),T=l_(String,b.type);b[0]=_>-1,b[1]=T<0||_<T,(_>-1||Xt(b,"default"))&&l.push(v)}}}const d=[a,l];return ve(t)&&i.set(t,d),d}function u_(t){return t[0]!=="$"}function a_(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function c_(t,e){return a_(t)===a_(e)}function l_(t,e){return Ot(e)?e.findIndex(n=>c_(n,t)):Ft(e)&&c_(e,t)?0:-1}const h1=t=>t[0]==="_"||t==="$stable",Uv=t=>Ot(t)?t.map(Rr):[Rr(t)],IR=(t,e,n)=>{if(e._n)return e;const i=Gr((...o)=>Uv(e(...o)),n);return i._c=!1,i},d1=(t,e,n)=>{const i=t._ctx;for(const o in t){if(h1(o))continue;const u=t[o];if(Ft(u))e[o]=IR(o,u,i);else if(u!=null){const a=Uv(u);e[o]=()=>a}}},p1=(t,e)=>{const n=Uv(e);t.slots.default=()=>n},TR=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Jt(e),Ul(e,"_",n)):d1(e,t.slots={})}else t.slots={},e&&p1(t,e);Ul(t.slots,Mf,1)},SR=(t,e,n)=>{const{vnode:i,slots:o}=t;let u=!0,a=ge;if(i.shapeFlag&32){const l=e._;l?n&&l===1?u=!1:(ze(o,e),!n&&l===1&&delete o._):(u=!e.$stable,d1(e,o)),a=e}else e&&(p1(t,e),a={default:1});if(u)for(const l in o)!h1(l)&&!(l in a)&&delete o[l]};function Cg(t,e,n,i,o=!1){if(Ot(t)){t.forEach((y,b)=>Cg(y,e&&(Ot(e)?e[b]:e),n,i,o));return}if(Cl(i)&&!o)return;const u=i.shapeFlag&4?Vf(i.component)||i.component.proxy:i.el,a=o?null:u,{i:l,r:f}=t,d=e&&e.r,g=l.refs===ge?l.refs={}:l.refs,v=l.setupState;if(d!=null&&d!==f&&(Le(d)?(g[d]=null,Xt(v,d)&&(v[d]=null)):ae(d)&&(d.value=null)),Ft(f))Oi(f,l,12,[a,g]);else{const y=Le(f),b=ae(f);if(y||b){const _=()=>{if(t.f){const T=y?Xt(v,f)?v[f]:g[f]:f.value;o?Ot(T)&&Ev(T,u):Ot(T)?T.includes(u)||T.push(u):y?(g[f]=[u],Xt(v,f)&&(v[f]=g[f])):(f.value=[u],t.k&&(g[t.k]=f.value))}else y?(g[f]=a,Xt(v,f)&&(v[f]=a)):b&&(f.value=a,t.k&&(g[t.k]=a))};a?(_.id=-1,Nn(_,n)):_()}}}const Nn=XO;function AR(t){return NR(t)}function NR(t,e){const n=_g();n.__VUE__=!0;const{insert:i,remove:o,patchProp:u,createElement:a,createText:l,createComment:f,setText:d,setElementText:g,parentNode:v,nextSibling:y,setScopeId:b=gr,insertStaticContent:_}=t,T=(I,S,C,M=null,F=null,G=null,nt=!1,X=null,tt=!!S.dynamicChildren)=>{if(I===S)return;I&&!Wu(I,S)&&(M=R(I),Ce(I,F,G,!0),I=null),S.patchFlag===-2&&(tt=!1,S.dynamicChildren=null);const{type:Y,ref:wt,shapeFlag:at}=S;switch(Y){case Lf:N(I,S,C,M);break;case No:O(I,S,C,M);break;case Ol:I==null&&P(S,C,M,nt);break;case Kn:oe(I,S,C,M,F,G,nt,X,tt);break;default:at&1?rt(I,S,C,M,F,G,nt,X,tt):at&6?se(I,S,C,M,F,G,nt,X,tt):(at&64||at&128)&&Y.process(I,S,C,M,F,G,nt,X,tt,Z)}wt!=null&&F&&Cg(wt,I&&I.ref,G,S||I,!S)},N=(I,S,C,M)=>{if(I==null)i(S.el=l(S.children),C,M);else{const F=S.el=I.el;S.children!==I.children&&d(F,S.children)}},O=(I,S,C,M)=>{I==null?i(S.el=f(S.children||""),C,M):S.el=I.el},P=(I,S,C,M)=>{[I.el,I.anchor]=_(I.children,S,C,M,I.el,I.anchor)},j=({el:I,anchor:S},C,M)=>{let F;for(;I&&I!==S;)F=y(I),i(I,C,M),I=F;i(S,C,M)},q=({el:I,anchor:S})=>{let C;for(;I&&I!==S;)C=y(I),o(I),I=C;o(S)},rt=(I,S,C,M,F,G,nt,X,tt)=>{nt=nt||S.type==="svg",I==null?V(S,C,M,F,G,nt,X,tt):ht(I,S,F,G,nt,X,tt)},V=(I,S,C,M,F,G,nt,X)=>{let tt,Y;const{type:wt,props:at,shapeFlag:mt,transition:St,dirs:Bt}=I;if(tt=I.el=a(I.type,G,at&&at.is,at),mt&8?g(tt,I.children):mt&16&&Q(I.children,tt,null,M,F,G&&wt!=="foreignObject",nt,X),Bt&&ao(I,null,M,"created"),It(tt,I,I.scopeId,nt,M),at){for(const x in at)x!=="value"&&!xl(x)&&u(tt,x,null,at[x],G,I.children,M,F,vt);"value"in at&&u(tt,"value",null,at.value),(Y=at.onVnodeBeforeMount)&&xr(Y,M,I)}Bt&&ao(I,null,M,"beforeMount");const _t=(!F||F&&!F.pendingBranch)&&St&&!St.persisted;_t&&St.beforeEnter(tt),i(tt,S,C),((Y=at&&at.onVnodeMounted)||_t||Bt)&&Nn(()=>{Y&&xr(Y,M,I),_t&&St.enter(tt),Bt&&ao(I,null,M,"mounted")},F)},It=(I,S,C,M,F)=>{if(C&&b(I,C),M)for(let G=0;G<M.length;G++)b(I,M[G]);if(F){let G=F.subTree;if(S===G){const nt=F.vnode;It(I,nt,nt.scopeId,nt.slotScopeIds,F.parent)}}},Q=(I,S,C,M,F,G,nt,X,tt=0)=>{for(let Y=tt;Y<I.length;Y++){const wt=I[Y]=X?bi(I[Y]):Rr(I[Y]);T(null,wt,S,C,M,F,G,nt,X)}},ht=(I,S,C,M,F,G,nt)=>{const X=S.el=I.el;let{patchFlag:tt,dynamicChildren:Y,dirs:wt}=S;tt|=I.patchFlag&16;const at=I.props||ge,mt=S.props||ge;let St;C&&co(C,!1),(St=mt.onVnodeBeforeUpdate)&&xr(St,C,S,I),wt&&ao(S,I,C,"beforeUpdate"),C&&co(C,!0);const Bt=F&&S.type!=="foreignObject";if(Y?A(I.dynamicChildren,Y,X,C,M,Bt,G):nt||gt(I,S,X,null,C,M,Bt,G,!1),tt>0){if(tt&16)Wt(X,S,at,mt,C,M,F);else if(tt&2&&at.class!==mt.class&&u(X,"class",null,mt.class,F),tt&4&&u(X,"style",at.style,mt.style,F),tt&8){const _t=S.dynamicProps;for(let x=0;x<_t.length;x++){const k=_t[x],B=at[k],it=mt[k];(it!==B||k==="value")&&u(X,k,B,it,F,I.children,C,M,vt)}}tt&1&&I.children!==S.children&&g(X,S.children)}else!nt&&Y==null&&Wt(X,S,at,mt,C,M,F);((St=mt.onVnodeUpdated)||wt)&&Nn(()=>{St&&xr(St,C,S,I),wt&&ao(S,I,C,"updated")},M)},A=(I,S,C,M,F,G,nt)=>{for(let X=0;X<S.length;X++){const tt=I[X],Y=S[X],wt=tt.el&&(tt.type===Kn||!Wu(tt,Y)||tt.shapeFlag&70)?v(tt.el):C;T(tt,Y,wt,null,M,F,G,nt,!0)}},Wt=(I,S,C,M,F,G,nt)=>{if(C!==M){if(C!==ge)for(const X in C)!xl(X)&&!(X in M)&&u(I,X,C[X],null,nt,S.children,F,G,vt);for(const X in M){if(xl(X))continue;const tt=M[X],Y=C[X];tt!==Y&&X!=="value"&&u(I,X,Y,tt,nt,S.children,F,G,vt)}"value"in M&&u(I,"value",C.value,M.value)}},oe=(I,S,C,M,F,G,nt,X,tt)=>{const Y=S.el=I?I.el:l(""),wt=S.anchor=I?I.anchor:l("");let{patchFlag:at,dynamicChildren:mt,slotScopeIds:St}=S;St&&(X=X?X.concat(St):St),I==null?(i(Y,C,M),i(wt,C,M),Q(S.children,C,wt,F,G,nt,X,tt)):at>0&&at&64&&mt&&I.dynamicChildren?(A(I.dynamicChildren,mt,C,F,G,nt,X),(S.key!=null||F&&S===F.subTree)&&g1(I,S,!0)):gt(I,S,C,wt,F,G,nt,X,tt)},se=(I,S,C,M,F,G,nt,X,tt)=>{S.slotScopeIds=X,I==null?S.shapeFlag&512?F.ctx.activate(S,C,M,nt,tt):ce(S,C,M,F,G,nt,tt):Qt(I,S,tt)},ce=(I,S,C,M,F,G,nt)=>{const X=I.component=LR(I,M,F);if(n1(I)&&(X.ctx.renderer=Z),MR(X),X.asyncDep){if(F&&F.registerDep(X,st),!I.el){const tt=X.subTree=jt(No);O(null,tt,S,C)}return}st(X,I,S,C,F,G,nt)},Qt=(I,S,C)=>{const M=S.component=I.component;if(WO(I,S,C))if(M.asyncDep&&!M.asyncResolved){Lt(M,S,C);return}else M.next=S,qO(M.update),M.update();else S.el=I.el,M.vnode=S},st=(I,S,C,M,F,G,nt)=>{const X=()=>{if(I.isMounted){let{next:wt,bu:at,u:mt,parent:St,vnode:Bt}=I,_t=wt,x;co(I,!1),wt?(wt.el=Bt.el,Lt(I,wt,nt)):wt=Bt,at&&Yp(at),(x=wt.props&&wt.props.onVnodeBeforeUpdate)&&xr(x,St,wt,Bt),co(I,!0);const k=Xp(I),B=I.subTree;I.subTree=k,T(B,k,v(B.el),R(B),I,F,G),wt.el=k.el,_t===null&&QO(I,k.el),mt&&Nn(mt,F),(x=wt.props&&wt.props.onVnodeUpdated)&&Nn(()=>xr(x,St,wt,Bt),F)}else{let wt;const{el:at,props:mt}=S,{bm:St,m:Bt,parent:_t}=I,x=Cl(S);if(co(I,!1),St&&Yp(St),!x&&(wt=mt&&mt.onVnodeBeforeMount)&&xr(wt,_t,S),co(I,!0),at&&Rt){const k=()=>{I.subTree=Xp(I),Rt(at,I.subTree,I,F,null)};x?S.type.__asyncLoader().then(()=>!I.isUnmounted&&k()):k()}else{const k=I.subTree=Xp(I);T(null,k,C,M,I,F,G),S.el=k.el}if(Bt&&Nn(Bt,F),!x&&(wt=mt&&mt.onVnodeMounted)){const k=S;Nn(()=>xr(wt,_t,k),F)}(S.shapeFlag&256||_t&&Cl(_t.vnode)&&_t.vnode.shapeFlag&256)&&I.a&&Nn(I.a,F),I.isMounted=!0,S=C=M=null}},tt=I.effect=new Av(X,()=>Pv(Y),I.scope),Y=I.update=()=>tt.run();Y.id=I.uid,co(I,!0),Y()},Lt=(I,S,C)=>{S.component=I;const M=I.vnode.props;I.vnode=S,I.next=null,ER(I,S.props,M,C),SR(I,S.children,C),eu(),t_(),nu()},gt=(I,S,C,M,F,G,nt,X,tt=!1)=>{const Y=I&&I.children,wt=I?I.shapeFlag:0,at=S.children,{patchFlag:mt,shapeFlag:St}=S;if(mt>0){if(mt&128){Ie(Y,at,C,M,F,G,nt,X,tt);return}else if(mt&256){he(Y,at,C,M,F,G,nt,X,tt);return}}St&8?(wt&16&&vt(Y,F,G),at!==Y&&g(C,at)):wt&16?St&16?Ie(Y,at,C,M,F,G,nt,X,tt):vt(Y,F,G,!0):(wt&8&&g(C,""),St&16&&Q(at,C,M,F,G,nt,X,tt))},he=(I,S,C,M,F,G,nt,X,tt)=>{I=I||Ts,S=S||Ts;const Y=I.length,wt=S.length,at=Math.min(Y,wt);let mt;for(mt=0;mt<at;mt++){const St=S[mt]=tt?bi(S[mt]):Rr(S[mt]);T(I[mt],St,C,null,F,G,nt,X,tt)}Y>wt?vt(I,F,G,!0,!1,at):Q(S,C,M,F,G,nt,X,tt,at)},Ie=(I,S,C,M,F,G,nt,X,tt)=>{let Y=0;const wt=S.length;let at=I.length-1,mt=wt-1;for(;Y<=at&&Y<=mt;){const St=I[Y],Bt=S[Y]=tt?bi(S[Y]):Rr(S[Y]);if(Wu(St,Bt))T(St,Bt,C,null,F,G,nt,X,tt);else break;Y++}for(;Y<=at&&Y<=mt;){const St=I[at],Bt=S[mt]=tt?bi(S[mt]):Rr(S[mt]);if(Wu(St,Bt))T(St,Bt,C,null,F,G,nt,X,tt);else break;at--,mt--}if(Y>at){if(Y<=mt){const St=mt+1,Bt=St<wt?S[St].el:M;for(;Y<=mt;)T(null,S[Y]=tt?bi(S[Y]):Rr(S[Y]),C,Bt,F,G,nt,X,tt),Y++}}else if(Y>mt)for(;Y<=at;)Ce(I[Y],F,G,!0),Y++;else{const St=Y,Bt=Y,_t=new Map;for(Y=Bt;Y<=mt;Y++){const kt=S[Y]=tt?bi(S[Y]):Rr(S[Y]);kt.key!=null&&_t.set(kt.key,Y)}let x,k=0;const B=mt-Bt+1;let it=!1,lt=0;const At=new Array(B);for(Y=0;Y<B;Y++)At[Y]=0;for(Y=St;Y<=at;Y++){const kt=I[Y];if(k>=B){Ce(kt,F,G,!0);continue}let Mt;if(kt.key!=null)Mt=_t.get(kt.key);else for(x=Bt;x<=mt;x++)if(At[x-Bt]===0&&Wu(kt,S[x])){Mt=x;break}Mt===void 0?Ce(kt,F,G,!0):(At[Mt-Bt]=Y+1,Mt>=lt?lt=Mt:it=!0,T(kt,S[Mt],C,null,F,G,nt,X,tt),k++)}const Vt=it?kR(At):Ts;for(x=Vt.length-1,Y=B-1;Y>=0;Y--){const kt=Bt+Y,Mt=S[kt],Dt=kt+1<wt?S[kt+1].el:M;At[Y]===0?T(null,Mt,C,Dt,F,G,nt,X,tt):it&&(x<0||Y!==Vt[x]?Ve(Mt,C,Dt,2):x--)}}},Ve=(I,S,C,M,F=null)=>{const{el:G,type:nt,transition:X,children:tt,shapeFlag:Y}=I;if(Y&6){Ve(I.component.subTree,S,C,M);return}if(Y&128){I.suspense.move(S,C,M);return}if(Y&64){nt.move(I,S,C,Z);return}if(nt===Kn){i(G,S,C);for(let at=0;at<tt.length;at++)Ve(tt[at],S,C,M);i(I.anchor,S,C);return}if(nt===Ol){j(I,S,C);return}if(M!==2&&Y&1&&X)if(M===0)X.beforeEnter(G),i(G,S,C),Nn(()=>X.enter(G),F);else{const{leave:at,delayLeave:mt,afterLeave:St}=X,Bt=()=>i(G,S,C),_t=()=>{at(G,()=>{Bt(),St&&St()})};mt?mt(G,Bt,_t):_t()}else i(G,S,C)},Ce=(I,S,C,M=!1,F=!1)=>{const{type:G,props:nt,ref:X,children:tt,dynamicChildren:Y,shapeFlag:wt,patchFlag:at,dirs:mt}=I;if(X!=null&&Cg(X,null,C,I,!0),wt&256){S.ctx.deactivate(I);return}const St=wt&1&&mt,Bt=!Cl(I);let _t;if(Bt&&(_t=nt&&nt.onVnodeBeforeUnmount)&&xr(_t,S,I),wt&6)dt(I.component,C,M);else{if(wt&128){I.suspense.unmount(C,M);return}St&&ao(I,null,S,"beforeUnmount"),wt&64?I.type.remove(I,S,C,F,Z,M):Y&&(G!==Kn||at>0&&at&64)?vt(Y,S,C,!1,!0):(G===Kn&&at&384||!F&&wt&16)&&vt(tt,S,C),M&&de(I)}(Bt&&(_t=nt&&nt.onVnodeUnmounted)||St)&&Nn(()=>{_t&&xr(_t,S,I),St&&ao(I,null,S,"unmounted")},C)},de=I=>{const{type:S,el:C,anchor:M,transition:F}=I;if(S===Kn){Fn(C,M);return}if(S===Ol){q(I);return}const G=()=>{o(C),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(I.shapeFlag&1&&F&&!F.persisted){const{leave:nt,delayLeave:X}=F,tt=()=>nt(C,G);X?X(I.el,G,tt):tt()}else G()},Fn=(I,S)=>{let C;for(;I!==S;)C=y(I),o(I),I=C;o(S)},dt=(I,S,C)=>{const{bum:M,scope:F,update:G,subTree:nt,um:X}=I;M&&Yp(M),F.stop(),G&&(G.active=!1,Ce(nt,I,S,C)),X&&Nn(X,S),Nn(()=>{I.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},vt=(I,S,C,M=!1,F=!1,G=0)=>{for(let nt=G;nt<I.length;nt++)Ce(I[nt],S,C,M,F)},R=I=>I.shapeFlag&6?R(I.component.subTree):I.shapeFlag&128?I.suspense.next():y(I.anchor||I.el),U=(I,S,C)=>{I==null?S._vnode&&Ce(S._vnode,null,null,!0):T(S._vnode||null,I,S,null,null,null,C),t_(),XI(),S._vnode=I},Z={p:T,um:Ce,m:Ve,r:de,mt:ce,mc:Q,pc:gt,pbc:A,n:R,o:t};let ut,Rt;return e&&([ut,Rt]=e(Z)),{render:U,hydrate:ut,createApp:wR(U,ut)}}function co({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function g1(t,e,n=!1){const i=t.children,o=e.children;if(Ot(i)&&Ot(o))for(let u=0;u<i.length;u++){const a=i[u];let l=o[u];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[u]=bi(o[u]),l.el=a.el),n||g1(a,l)),l.type===Lf&&(l.el=a.el)}}function kR(t){const e=t.slice(),n=[0];let i,o,u,a,l;const f=t.length;for(i=0;i<f;i++){const d=t[i];if(d!==0){if(o=n[n.length-1],t[o]<d){e[i]=o,n.push(i);continue}for(u=0,a=n.length-1;u<a;)l=u+a>>1,t[n[l]]<d?u=l+1:a=l;d<t[n[u]]&&(u>0&&(e[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=e[a];return n}const xR=t=>t.__isTeleport,Kn=Symbol.for("v-fgt"),Lf=Symbol.for("v-txt"),No=Symbol.for("v-cmt"),Ol=Symbol.for("v-stc"),ua=[];let pr=null;function Be(t=!1){ua.push(pr=t?null:[])}function CR(){ua.pop(),pr=ua[ua.length-1]||null}let Ia=1;function f_(t){Ia+=t}function v1(t){return t.dynamicChildren=Ia>0?pr||Ts:null,CR(),Ia>0&&pr&&pr.push(t),t}function an(t,e,n,i,o,u){return v1($(t,e,n,i,o,u,!0))}function Og(t,e,n,i,o){return v1(jt(t,e,n,i,o,!0))}function Rg(t){return t?t.__v_isVNode===!0:!1}function Wu(t,e){return t.type===e.type&&t.key===e.key}const Mf="__vInternal",m1=({key:t})=>t??null,Rl=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Le(t)||ae(t)||Ft(t)?{i:xn,r:t,k:e,f:!!n}:t:null);function $(t,e=null,n=null,i=0,o=null,u=t===Kn?0:1,a=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&m1(e),ref:e&&Rl(e),scopeId:t1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:xn};return l?(qv(f,n),u&128&&t.normalize(f)):n&&(f.shapeFlag|=Le(n)?8:16),Ia>0&&!a&&pr&&(f.patchFlag>0||u&6)&&f.patchFlag!==32&&pr.push(f),f}const jt=OR;function OR(t,e=null,n=null,i=0,o=null,u=!1){if((!t||t===s1)&&(t=No),Rg(t)){const l=Cs(t,e,!0);return n&&qv(l,n),Ia>0&&!u&&pr&&(l.shapeFlag&6?pr[pr.indexOf(t)]=l:pr.push(l)),l.patchFlag|=-2,l}if(BR(t)&&(t=t.__vccOpts),e){e=RR(e);let{class:l,style:f}=e;l&&!Le(l)&&(e.class=Qn(l)),ve(f)&&(qI(f)&&!Ot(f)&&(f=ze({},f)),e.style=ma(f))}const a=Le(t)?1:YO(t)?128:xR(t)?64:ve(t)?4:Ft(t)?2:0;return $(t,e,n,i,o,a,u,!0)}function RR(t){return t?qI(t)||Mf in t?ze({},t):t:null}function Cs(t,e,n=!1){const{props:i,ref:o,patchFlag:u,children:a}=t,l=e?Ta(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&m1(l),ref:e&&e.ref?n&&o?Ot(o)?o.concat(Rl(e)):[o,Rl(e)]:Rl(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Kn?u===-1?16:u|16:u,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Cs(t.ssContent),ssFallback:t.ssFallback&&Cs(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Jn(t=" ",e=0){return jt(Lf,null,t,e)}function Bv(t,e){const n=jt(Ol,null,t);return n.staticCount=e,n}function y1(t="",e=!1){return e?(Be(),Og(No,null,t)):jt(No,null,t)}function Rr(t){return t==null||typeof t=="boolean"?jt(No):Ot(t)?jt(Kn,null,t.slice()):typeof t=="object"?bi(t):jt(Lf,null,String(t))}function bi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Cs(t)}function qv(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(Ot(e))n=16;else if(typeof e=="object")if(i&65){const o=e.default;o&&(o._c&&(o._d=!1),qv(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=e._;!o&&!(Mf in e)?e._ctx=xn:o===3&&xn&&(xn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Ft(e)?(e={default:e,_ctx:xn},n=32):(e=String(e),i&64?(n=16,e=[Jn(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ta(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const o in i)if(o==="class")e.class!==i.class&&(e.class=Qn([e.class,i.class]));else if(o==="style")e.style=ma([e.style,i.style]);else if(Af(o)){const u=e[o],a=i[o];a&&u!==a&&!(Ot(u)&&u.includes(a))&&(e[o]=u?[].concat(u,a):a)}else o!==""&&(e[o]=i[o])}return e}function xr(t,e,n,i=null){vr(t,e,7,[n,i])}const DR=c1();let PR=0;function LR(t,e,n){const i=t.type,o=(e?e.appContext:t.appContext)||DR,u={uid:PR++,vnode:t,type:i,parent:e,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new kI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:f1(i,o),emitsOptions:ZI(i,o),emit:null,emitted:null,propsDefaults:ge,inheritAttrs:i.inheritAttrs,ctx:ge,data:ge,props:ge,attrs:ge,slots:ge,refs:ge,setupState:ge,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=e?e.root:u,u.emit=HO.bind(null,u),t.ce&&t.ce(u),u}let Ue=null;const Ff=()=>Ue||xn;let $v,ds,h_="__VUE_INSTANCE_SETTERS__";(ds=_g()[h_])||(ds=_g()[h_]=[]),ds.push(t=>Ue=t),$v=t=>{ds.length>1?ds.forEach(e=>e(t)):ds[0](t)};const Os=t=>{$v(t),t.scope.on()},Io=()=>{Ue&&Ue.scope.off(),$v(null)};function w1(t){return t.vnode.shapeFlag&4}let Sa=!1;function MR(t,e=!1){Sa=e;const{props:n,children:i}=t.vnode,o=w1(t);_R(t,n,o,e),TR(t,i);const u=o?FR(t,e):void 0;return Sa=!1,u}function FR(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Of(new Proxy(t.ctx,hR));const{setup:i}=n;if(i){const o=t.setupContext=i.length>1?jR(t):null;Os(t),eu();const u=Oi(i,t,0,[t.props,o]);if(nu(),Io(),II(u)){if(u.then(Io,Io),e)return u.then(a=>{d_(t,a,e)}).catch(a=>{Rf(a,t,0)});t.asyncDep=u}else d_(t,u,e)}else b1(t,e)}function d_(t,e,n){Ft(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ve(e)&&(t.setupState=GI(e)),b1(t,n)}let p_;function b1(t,e,n){const i=t.type;if(!t.render){if(!e&&p_&&!i.render){const o=i.template||jv(t).template;if(o){const{isCustomElement:u,compilerOptions:a}=t.appContext.config,{delimiters:l,compilerOptions:f}=i,d=ze(ze({isCustomElement:u,delimiters:l},a),f);i.render=p_(o,d)}}t.render=i.render||gr}Os(t),eu(),dR(t),nu(),Io()}function VR(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Dn(t,"get","$attrs"),e[n]}}))}function jR(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return VR(t)},slots:t.slots,emit:t.emit,expose:e}}function Vf(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(GI(Of(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in sa)return sa[n](t)},has(e,n){return n in e||n in sa}}))}function UR(t,e=!0){return Ft(t)?t.displayName||t.name:t.name||e&&t.__name}function BR(t){return Ft(t)&&"__vccOpts"in t}const qt=(t,e)=>jO(t,e,Sa);function Rs(t,e,n){const i=arguments.length;return i===2?ve(e)&&!Ot(e)?Rg(e)?jt(t,null,[e]):jt(t,e):jt(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Rg(n)&&(n=[n]),jt(t,e,n))}const qR=Symbol.for("v-scx"),$R=()=>or(qR),KR="3.3.4",HR="http://www.w3.org/2000/svg",go=typeof document<"u"?document:null,g_=go&&go.createElement("template"),zR={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const o=e?go.createElementNS(HR,t):go.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&o.setAttribute("multiple",i.multiple),o},createText:t=>go.createTextNode(t),createComment:t=>go.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>go.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,o,u){const a=n?n.previousSibling:e.lastChild;if(o&&(o===u||o.nextSibling))for(;e.insertBefore(o.cloneNode(!0),n),!(o===u||!(o=o.nextSibling)););else{g_.innerHTML=i?`<svg>${t}</svg>`:t;const l=g_.content;if(i){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}e.insertBefore(l,n)}return[a?a.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function GR(t,e,n){const i=t._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function WR(t,e,n){const i=t.style,o=Le(n);if(n&&!o){if(e&&!Le(e))for(const u in e)n[u]==null&&Dg(i,u,"");for(const u in n)Dg(i,u,n[u])}else{const u=i.display;o?e!==n&&(i.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(i.display=u)}}const v_=/\s*!important$/;function Dg(t,e,n){if(Ot(n))n.forEach(i=>Dg(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=QR(t,e);v_.test(n)?t.setProperty(tu(i),n.replace(v_,""),"important"):t[i]=n}}const m_=["Webkit","Moz","ms"],Zp={};function QR(t,e){const n=Zp[e];if(n)return n;let i=Mr(e);if(i!=="filter"&&i in t)return Zp[e]=i;i=xf(i);for(let o=0;o<m_.length;o++){const u=m_[o]+i;if(u in t)return Zp[e]=u}return e}const y_="http://www.w3.org/1999/xlink";function YR(t,e,n,i,o){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(y_,e.slice(6,e.length)):t.setAttributeNS(y_,e,n);else{const u=rO(e);n==null||u&&!AI(n)?t.removeAttribute(e):t.setAttribute(e,u?"":n)}}function XR(t,e,n,i,o,u,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,o,u),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const d=l==="OPTION"?t.getAttribute("value"):t.value,g=n??"";d!==g&&(t.value=g),n==null&&t.removeAttribute(e);return}let f=!1;if(n===""||n==null){const d=typeof t[e];d==="boolean"?n=AI(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(e)}function JR(t,e,n,i){t.addEventListener(e,n,i)}function ZR(t,e,n,i){t.removeEventListener(e,n,i)}function tD(t,e,n,i,o=null){const u=t._vei||(t._vei={}),a=u[e];if(i&&a)a.value=i;else{const[l,f]=eD(e);if(i){const d=u[e]=iD(i,o);JR(t,l,d,f)}else a&&(ZR(t,l,a,f),u[e]=void 0)}}const w_=/(?:Once|Passive|Capture)$/;function eD(t){let e;if(w_.test(t)){e={};let i;for(;i=t.match(w_);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):tu(t.slice(2)),e]}let tg=0;const nD=Promise.resolve(),rD=()=>tg||(nD.then(()=>tg=0),tg=Date.now());function iD(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;vr(oD(i,n.value),e,5,[i])};return n.value=t,n.attached=rD(),n}function oD(t,e){if(Ot(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>o=>!o._stopped&&i&&i(o))}else return e}const b_=/^on[a-z]/,sD=(t,e,n,i,o=!1,u,a,l,f)=>{e==="class"?GR(t,i,o):e==="style"?WR(t,n,i):Af(e)?_v(e)||tD(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):uD(t,e,i,o))?XR(t,e,i,u,a,l,f):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),YR(t,e,i,o))};function uD(t,e,n,i){return i?!!(e==="innerHTML"||e==="textContent"||e in t&&b_.test(e)&&Ft(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||b_.test(e)&&Le(n)?!1:e in t}const aD=["ctrl","shift","alt","meta"],cD={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>aD.some(n=>t[`${n}Key`]&&!e.includes(n))},Ds=(t,e)=>(n,...i)=>{for(let o=0;o<e.length;o++){const u=cD[e[o]];if(u&&u(n,e))return}return t(n,...i)},lD={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Qu(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),Qu(t,!0),i.enter(t)):i.leave(t,()=>{Qu(t,!1)}):Qu(t,e))},beforeUnmount(t,{value:e}){Qu(t,e)}};function Qu(t,e){t.style.display=e?t._vod:"none"}const fD=ze({patchProp:sD},zR);let __;function hD(){return __||(__=AR(fD))}const dD=(...t)=>{const e=hD().createApp(...t),{mount:n}=e;return e.mount=i=>{const o=pD(i);if(!o)return;const u=e._component;!Ft(u)&&!u.render&&!u.template&&(u.template=o.innerHTML),o.innerHTML="";const a=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),a},e};function pD(t){return Le(t)?document.querySelector(t):t}var gD=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let _1;const jf=t=>_1=t,E1=Symbol();function Pg(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var aa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(aa||(aa={}));function vD(){const t=xI(!0),e=t.run(()=>mn({}));let n=[],i=[];const o=Of({install(u){jf(o),o._a=u,u.provide(E1,o),u.config.globalProperties.$pinia=o,i.forEach(a=>n.push(a)),i=[]},use(u){return!this._a&&!gD?i.push(u):n.push(u),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return o}const I1=()=>{};function E_(t,e,n,i=I1){t.push(e);const o=()=>{const u=t.indexOf(e);u>-1&&(t.splice(u,1),i())};return!n&&CI()&&oO(o),o}function ps(t,...e){t.slice().forEach(n=>{n(...e)})}const mD=t=>t();function Lg(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,i)=>t.set(i,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const i=e[n],o=t[n];Pg(o)&&Pg(i)&&t.hasOwnProperty(n)&&!ae(i)&&!Ci(i)?t[n]=Lg(o,i):t[n]=i}return t}const yD=Symbol();function wD(t){return!Pg(t)||!t.hasOwnProperty(yD)}const{assign:wi}=Object;function bD(t){return!!(ae(t)&&t.effect)}function _D(t,e,n,i){const{state:o,actions:u,getters:a}=e,l=n.state.value[t];let f;function d(){l||(n.state.value[t]=o?o():{});const g=LO(n.state.value[t]);return wi(g,u,Object.keys(a||{}).reduce((v,y)=>(v[y]=Of(qt(()=>{jf(n);const b=n._s.get(t);return a[y].call(b,b)})),v),{}))}return f=T1(t,d,e,n,i,!0),f}function T1(t,e,n={},i,o,u){let a;const l=wi({actions:{}},n),f={deep:!0};let d,g,v=[],y=[],b;const _=i.state.value[t];!u&&!_&&(i.state.value[t]={}),mn({});let T;function N(Q){let ht;d=g=!1,typeof Q=="function"?(Q(i.state.value[t]),ht={type:aa.patchFunction,storeId:t,events:b}):(Lg(i.state.value[t],Q),ht={type:aa.patchObject,payload:Q,storeId:t,events:b});const A=T=Symbol();Or().then(()=>{T===A&&(d=!0)}),g=!0,ps(v,ht,i.state.value[t])}const O=u?function(){const{state:ht}=n,A=ht?ht():{};this.$patch(Wt=>{wi(Wt,A)})}:I1;function P(){a.stop(),v=[],y=[],i._s.delete(t)}function j(Q,ht){return function(){jf(i);const A=Array.from(arguments),Wt=[],oe=[];function se(st){Wt.push(st)}function ce(st){oe.push(st)}ps(y,{args:A,name:Q,store:rt,after:se,onError:ce});let Qt;try{Qt=ht.apply(this&&this.$id===t?this:rt,A)}catch(st){throw ps(oe,st),st}return Qt instanceof Promise?Qt.then(st=>(ps(Wt,st),st)).catch(st=>(ps(oe,st),Promise.reject(st))):(ps(Wt,Qt),Qt)}}const q={_p:i,$id:t,$onAction:E_.bind(null,y),$patch:N,$reset:O,$subscribe(Q,ht={}){const A=E_(v,Q,ht.detached,()=>Wt()),Wt=a.run(()=>Yn(()=>i.state.value[t],oe=>{(ht.flush==="sync"?g:d)&&Q({storeId:t,type:aa.direct,events:b},oe)},wi({},f,ht)));return A},$dispose:P},rt=ei(q);i._s.set(t,rt);const It=(i._a&&i._a.runWithContext||mD)(()=>i._e.run(()=>(a=xI()).run(e)));for(const Q in It){const ht=It[Q];if(ae(ht)&&!bD(ht)||Ci(ht))u||(_&&wD(ht)&&(ae(ht)?ht.value=_[Q]:Lg(ht,_[Q])),i.state.value[t][Q]=ht);else if(typeof ht=="function"){const A=j(Q,ht);It[Q]=A,l.actions[Q]=ht}}return wi(rt,It),wi(Jt(rt),It),Object.defineProperty(rt,"$state",{get:()=>i.state.value[t],set:Q=>{N(ht=>{wi(ht,Q)})}}),i._p.forEach(Q=>{wi(rt,a.run(()=>Q({store:rt,app:i._a,pinia:i,options:l})))}),_&&u&&n.hydrate&&n.hydrate(rt.$state,_),d=!0,g=!0,rt}function Kv(t,e,n){let i,o;const u=typeof e=="function";typeof t=="string"?(i=t,o=u?n:e):(o=t,i=t.id);function a(l,f){const d=bR();return l=l||(d?or(E1,null):null),l&&jf(l),l=_1,l._s.has(i)||(u?T1(i,e,o,l):_D(i,o,l)),l._s.get(i)}return a.$id=i,a}let ED="Store";function ID(...t){return t.reduce((e,n)=>(e[n.$id+ED]=function(){return n(this.$pinia)},e),{})}function Hv(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(){return t(this.$pinia)[i]},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(){const o=t(this.$pinia),u=e[i];return typeof u=="function"?u.call(this,o):o[u]},n),{})}function Uf(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[i](...o)},n),{}):Object.keys(e).reduce((n,i)=>(n[i]=function(...o){return t(this.$pinia)[e[i]](...o)},n),{})}function zv(t,e){return Array.isArray(e)?e.reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[i]},set(o){return t(this.$pinia)[i]=o}},n),{}):Object.keys(e).reduce((n,i)=>(n[i]={get(){return t(this.$pinia)[e[i]]},set(o){return t(this.$pinia)[e[i]]=o}},n),{})}const Hl=Kv("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(t){return t.isOpen?"":"hidden"}}});var Mg=function(t,e){return Mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Mg(t,e)};function Tt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Mg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Aa=function(){return Aa=Object.assign||function(e){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u])}return e},Aa.apply(this,arguments)};function z(t,e,n,i){function o(u){return u instanceof n?u:new n(function(a){a(u)})}return new(n||(n=Promise))(function(u,a){function l(g){try{d(i.next(g))}catch(v){a(v)}}function f(g){try{d(i.throw(g))}catch(v){a(v)}}function d(g){g.done?u(g.value):o(g.value).then(l,f)}d((i=i.apply(t,e||[])).next())})}function K(t,e){var n={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(d){return function(g){return f([d,g])}}function f(d){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(i=1,o&&(u=d[0]&2?o.return:d[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,d[1])).done)return u;switch(o=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(u=n.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){n.label=d[1];break}if(d[0]===6&&n.label<u[1]){n.label=u[1],u=d;break}if(u&&n.label<u[2]){n.label=u[2],n.ops.push(d);break}u[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(g){d=[6,g],o=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function eg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function wl(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var i=n.call(t),o,u=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return u}function Ae(t,e,n){if(n||arguments.length===2)for(var i=0,o=e.length,u;i<o;i++)(u||!(i in e))&&(u||(u=Array.prototype.slice.call(e,0,i)),u[i]=e[i]);return t.concat(u||Array.prototype.slice.call(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var S1=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TD=function(t){for(var e=[],n=0,i=0;n<t.length;){var o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){var u=t[n++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){var u=t[n++],a=t[n++],l=t[n++],f=((o&7)<<18|(u&63)<<12|(a&63)<<6|l&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{var u=t[n++],a=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|a&63)}}return e.join("")},SD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],o=0;o<t.length;o+=3){var u=t[o],a=o+1<t.length,l=a?t[o+1]:0,f=o+2<t.length,d=f?t[o+2]:0,g=u>>2,v=(u&3)<<4|l>>4,y=(l&15)<<2|d>>6,b=d&63;f||(b=64,a||(y=64)),i.push(n[g],n[v],n[y],n[b])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(S1(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],o=0;o<t.length;){var u=n[t.charAt(o++)],a=o<t.length,l=a?n[t.charAt(o)]:0;++o;var f=o<t.length,d=f?n[t.charAt(o)]:64;++o;var g=o<t.length,v=g?n[t.charAt(o)]:64;if(++o,u==null||l==null||d==null||v==null)throw Error();var y=u<<2|l>>4;if(i.push(y),d!==64){var b=l<<4&240|d>>2;if(i.push(b),v!==64){var _=d<<6&192|v;i.push(_)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},AD=function(t){var e=S1(t);return SD.encodeByteArray(e,!0)},I_=function(t){return AD(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(t){return Na(void 0,t)}function Na(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)!e.hasOwnProperty(i)||!kD(i)||(t[i]=Na(t[i],e[i]));return t}function kD(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xD=function(){function t(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,i){e.resolve=n,e.reject=i})}return t.prototype.wrapCallback=function(e){var n=this;return function(i,o){i?n.reject(i):n.resolve(o),typeof e=="function"&&(n.promise.catch(function(){}),e.length===1?e(i):e(i,o))}},t}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,u=t.sub||t.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Aa({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[I_(JSON.stringify(n)),I_(JSON.stringify(a)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ko())}function A1(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RD(){return typeof self=="object"&&self.self===self}function DD(){var t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function PD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LD(){return ko().indexOf("Electron/")>=0}function MD(){var t=ko();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FD(){return ko().indexOf("MSAppHost/")>=0}function VD(){return!A1()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jD="FirebaseError",UD=function(t){Tt(e,t);function e(n,i,o){var u=t.call(this,i)||this;return u.code=n,u.customData=o,u.name=jD,Object.setPrototypeOf(u,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(u,Gv.prototype.create),u}return e}(Error),Gv=function(){function t(e,n,i){this.service=e,this.serviceName=n,this.errors=i}return t.prototype.create=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0]||{},u=this.service+"/"+e,a=this.errors[e],l=a?BD(a,o):"Error",f=this.serviceName+": "+l+" ("+u+").",d=new UD(u,f,o);return d},t}();function BD(t,e){return t.replace(qD,function(n,i){var o=e[i];return o!=null?String(o):"<"+i+"?>"})}var qD=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $D(t,e){var n=new KD(t,e);return n.subscribe.bind(n)}var KD=function(){function t(e,n){var i=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){e(i)}).catch(function(o){i.error(o)})}return t.prototype.next=function(e){this.forEachObserver(function(n){n.next(e)})},t.prototype.error=function(e){this.forEachObserver(function(n){n.error(e)}),this.close(e)},t.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},t.prototype.subscribe=function(e,n,i){var o=this,u;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");HD(e,["next","error","complete"])?u=e:u={next:e,error:n,complete:i},u.next===void 0&&(u.next=ng),u.error===void 0&&(u.error=ng),u.complete===void 0&&(u.complete=ng);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?u.error(o.finalError):u.complete()}catch{}}),this.observers.push(u),a},t.prototype.unsubscribeOne=function(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},t.prototype.forEachObserver=function(e){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,e)},t.prototype.sendOne=function(e,n){var i=this;this.task.then(function(){if(i.observers!==void 0&&i.observers[e]!==void 0)try{n(i.observers[e])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},t.prototype.close=function(e){var n=this;this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},t}();function HD(t,e){if(typeof t!="object"||t===null)return!1;for(var n=0,i=e;n<i.length;n++){var o=i[n];if(o in t&&typeof t[o]=="function")return!0}return!1}function ng(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t){return t&&t._delegate?t._delegate:t}var Bf=function(){function t(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},t.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},t.prototype.setServiceProps=function(e){return this.serviceProps=e,this},t.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},t}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zD=function(){function t(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(e){var n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){var i=new xD;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},t.prototype.getImmediate=function(e){var n,i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(e){var n,i;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,!!this.shouldAutoInitialize()){if(WD(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}try{for(var o=eg(this.instancesDeferred.entries()),u=o.next();!u.done;u=o.next()){var a=wl(u.value,2),l=a[0],f=a[1],d=this.normalizeInstanceIdentifier(l);try{var g=this.getOrInitializeService({instanceIdentifier:d});f.resolve(g)}catch{}}}catch(v){n={error:v}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}},t.prototype.clearInstance=function(e){e===void 0&&(e=fo),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},t.prototype.delete=function(){return z(this,void 0,void 0,function(){var e;return K(this,function(n){switch(n.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(Ae(Ae([],wl(e.filter(function(i){return"INTERNAL"in i}).map(function(i){return i.INTERNAL.delete()}))),wl(e.filter(function(i){return"_delete"in i}).map(function(i){return i._delete()}))))];case 1:return n.sent(),[2]}})})},t.prototype.isComponentSet=function(){return this.component!=null},t.prototype.isInitialized=function(e){return e===void 0&&(e=fo),this.instances.has(e)},t.prototype.getOptions=function(e){return e===void 0&&(e=fo),this.instancesOptions.get(e)||{}},t.prototype.initialize=function(e){var n,i;e===void 0&&(e={});var o=e.options,u=o===void 0?{}:o,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:a,options:u});try{for(var f=eg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var g=wl(d.value,2),v=g[0],y=g[1],b=this.normalizeInstanceIdentifier(v);a===b&&y.resolve(l)}}catch(_){n={error:_}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}return l},t.prototype.onInit=function(e,n){var i,o=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);var a=this.instances.get(o);return a&&e(a,o),function(){u.delete(e)}},t.prototype.invokeOnInitCallbacks=function(e,n){var i,o,u=this.onInitCallbacks.get(n);if(u)try{for(var a=eg(u),l=a.next();!l.done;l=a.next()){var f=l.value;try{f(e,n)}catch{}}}catch(d){i={error:d}}finally{try{l&&!l.done&&(o=a.return)&&o.call(a)}finally{if(i)throw i.error}}},t.prototype.getOrInitializeService=function(e){var n=e.instanceIdentifier,i=e.options,o=i===void 0?{}:i,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:GD(n),options:o}),this.instances.set(n,u),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch{}return u||null},t.prototype.normalizeInstanceIdentifier=function(e){return e===void 0&&(e=fo),this.component?this.component.multipleInstances?e:fo:e},t.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},t}();function GD(t){return t===fo?void 0:t}function WD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var QD=function(){function t(e){this.name=e,this.providers=new Map}return t.prototype.addComponent=function(e){var n=this.getProvider(e.name);if(n.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);n.setComponent(e)},t.prototype.addOrOverwriteComponent=function(e){var n=this.getProvider(e.name);n.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},t.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var n=new zD(e,this);return this.providers.set(e,n),n},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function hr(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var u=arguments[e],a=0,l=u.length;a<l;a++,o++)i[o]=u[a];return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo,Wv=[],te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));var N1={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},YD=te.INFO,XD=(lo={},lo[te.DEBUG]="log",lo[te.VERBOSE]="log",lo[te.INFO]="info",lo[te.WARN]="warn",lo[te.ERROR]="error",lo),JD=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=new Date().toISOString(),u=XD[e];if(u)console[u].apply(console,hr(["["+o+"]  "+t.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}},k1=function(){function t(e){this.name=e,this._logLevel=YD,this._logHandler=JD,this._userLogHandler=null,Wv.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in te))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(e){this._logLevel=typeof e=="string"?N1[e]:e},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,te.DEBUG],e)),this._logHandler.apply(this,hr([this,te.DEBUG],e))},t.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,te.VERBOSE],e)),this._logHandler.apply(this,hr([this,te.VERBOSE],e))},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,te.INFO],e)),this._logHandler.apply(this,hr([this,te.INFO],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,te.WARN],e)),this._logHandler.apply(this,hr([this,te.WARN],e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,hr([this,te.ERROR],e)),this._logHandler.apply(this,hr([this,te.ERROR],e))},t}();function ZD(t){Wv.forEach(function(e){e.setLogLevel(t)})}function tP(t,e){for(var n=function(a){var l=null;e&&e.level&&(l=N1[e.level]),t===null?a.userLogHandler=null:a.userLogHandler=function(f,d){for(var g=[],v=2;v<arguments.length;v++)g[v-2]=arguments[v];var y=g.map(function(b){if(b==null)return null;if(typeof b=="string")return b;if(typeof b=="number"||typeof b=="boolean")return b.toString();if(b instanceof Error)return b.message;try{return JSON.stringify(b)}catch{return null}}).filter(function(b){return b}).join(" ");d>=(l??f.logLevel)&&t({level:te[d].toLowerCase(),message:y,args:g,type:f.name})}},i=0,o=Wv;i<o.length;i++){var u=o[i];n(u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi,eP=(gi={},gi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",gi["bad-app-name"]="Illegal App name: '{$appName}",gi["duplicate-app"]="Firebase App named '{$appName}' already exists",gi["app-deleted"]="Firebase App named '{$appName}' already deleted",gi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",gi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",gi),ys=new Gv("app","Firebase",eP),x1="@firebase/app",nP="0.6.30",rP="@firebase/analytics",iP="@firebase/app-check",oP="@firebase/auth",sP="@firebase/database",uP="@firebase/functions",aP="@firebase/installations",cP="@firebase/messaging",lP="@firebase/performance",fP="@firebase/remote-config",hP="@firebase/storage",dP="@firebase/firestore",pP="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,zl="[DEFAULT]",gP=(rn={},rn[x1]="fire-core",rn[rP]="fire-analytics",rn[iP]="fire-app-check",rn[oP]="fire-auth",rn[sP]="fire-rtdb",rn[uP]="fire-fn",rn[aP]="fire-iid",rn[cP]="fire-fcm",rn[lP]="fire-perf",rn[fP]="fire-rc",rn[hP]="fire-gcs",rn[dP]="fire-fst",rn["fire-js"]="fire-js",rn[pP]="fire-js-all",rn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ps=new k1("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl=function(){function t(e,n,i){var o=this;this.firebase_=i,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=ND(e),this.container=new QD(n.name),this._addComponent(new Bf("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(u){return o._addComponent(u)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var e=this;return new Promise(function(n){e.checkDestroyed_(),n()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(n){return n.delete()}))}).then(function(){e.isDeleted_=!0})},t.prototype._getService=function(e,n){var i;n===void 0&&(n=zl),this.checkDestroyed_();var o=this.container.getProvider(e);return!o.isInitialized()&&((i=o.getComponent())===null||i===void 0?void 0:i.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},t.prototype._removeServiceInstance=function(e,n){n===void 0&&(n=zl),this.container.getProvider(e).clearInstance(n)},t.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(n){Ps.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,n)}},t.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ys.create("app-deleted",{appName:this.name_})},t}();Dl.prototype.name&&Dl.prototype.options||Dl.prototype.delete||console.log("dc");var vP="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){var e={},n=new Map,i={__esModule:!0,initializeApp:a,app:u,registerVersion:d,setLogLevel:ZD,onLog:g,apps:null,SDK_VERSION:vP,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:v}};i.default=i,Object.defineProperty(i,"apps",{get:l});function o(y){delete e[y]}function u(y){if(y=y||zl,!T_(e,y))throw ys.create("no-app",{appName:y});return e[y]}u.App=t;function a(y,b){if(b===void 0&&(b={}),typeof b!="object"||b===null){var _=b;b={name:_}}var T=b;T.name===void 0&&(T.name=zl);var N=T.name;if(typeof N!="string"||!N)throw ys.create("bad-app-name",{appName:String(N)});if(T_(e,N))throw ys.create("duplicate-app",{appName:N});var O=new t(y,T,i);return e[N]=O,O}function l(){return Object.keys(e).map(function(y){return e[y]})}function f(y){var b=y.name;if(n.has(b))return Ps.debug("There were multiple attempts to register component "+b+"."),y.type==="PUBLIC"?i[b]:null;if(n.set(b,y),y.type==="PUBLIC"){var _=function(P){if(P===void 0&&(P=u()),typeof P[b]!="function")throw ys.create("invalid-app-argument",{appName:b});return P[b]()};y.serviceProps!==void 0&&Na(_,y.serviceProps),i[b]=_,t.prototype[b]=function(){for(var P=[],j=0;j<arguments.length;j++)P[j]=arguments[j];var q=this._getService.bind(this,b);return q.apply(this,y.multipleInstances?P:[])}}for(var T=0,N=Object.keys(e);T<N.length;T++){var O=N[T];e[O]._addComponent(y)}return y.type==="PUBLIC"?i[b]:null}function d(y,b,_){var T,N=(T=gP[y])!==null&&T!==void 0?T:y;_&&(N+="-"+_);var O=N.match(/\s|\//),P=b.match(/\s|\//);if(O||P){var j=['Unable to register library "'+N+'" with version "'+b+'":'];O&&j.push('library name "'+N+'" contains illegal characters (whitespace or "/")'),O&&P&&j.push("and"),P&&j.push('version name "'+b+'" contains illegal characters (whitespace or "/")'),Ps.warn(j.join(" "));return}f(new Bf(N+"-version",function(){return{library:N,version:b}},"VERSION"))}function g(y,b){if(y!==null&&typeof y!="function")throw ys.create("invalid-log-argument");tP(y,b)}function v(y,b){if(b==="serverAuth")return null;var _=b;return _}return i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){var t=mP(Dl);t.INTERNAL=Aa(Aa({},t.INTERNAL),{createFirebaseNamespace:C1,extendNamespace:e,createSubscribe:$D,ErrorFactory:Gv,deepExtend:Na});function e(n){Na(t,n)}return t}var Qv=C1();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yP=function(){function t(e){this.container=e}return t.prototype.getPlatformInfoString=function(){var e=this.container.getProviders();return e.map(function(n){if(wP(n)){var i=n.getImmediate();return i.library+"/"+i.version}else return null}).filter(function(n){return n}).join(" ")},t}();function wP(t){var e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e){t.INTERNAL.registerComponent(new Bf("platform-logger",function(n){return new yP(n)},"PRIVATE")),t.registerVersion(x1,nP,e),t.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(RD()&&self.firebase!==void 0){Ps.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var S_=self.firebase.SDK_VERSION;S_&&S_.indexOf("LITE")>=0&&Ps.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var _P=Qv.initializeApp;Qv.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return A1()&&Ps.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),_P.apply(void 0,t)};var xt=Qv;bP(xt);var EP="firebase",O1="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xt.registerVersion(EP,O1,"app");xt.SDK_VERSION=O1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){r!=Array.prototype&&r!=Object.prototype&&(r[s]=c.value)};function n(r){r=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,r];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}return globalThis}var i=n(this);function o(r,s){if(s){var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var p=r[h];p in c||(c[p]={}),c=c[p]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&e(c,r,{configurable:!0,writable:!0,value:s})}}function u(r){var s=0;return function(){return s<r.length?{done:!1,value:r[s++]}:{done:!0}}}function a(r){var s=typeof Symbol<"u"&&Symbol.iterator&&r[Symbol.iterator];return s?s.call(r):{next:u(r)}}o("Promise",function(r){function s(w){this.b=0,this.c=void 0,this.a=[];var E=this.f();try{w(E.resolve,E.reject)}catch(L){E.reject(L)}}function c(){this.a=null}function h(w){return w instanceof s?w:new s(function(E){E(w)})}if(r)return r;c.prototype.b=function(w){if(this.a==null){this.a=[];var E=this;this.c(function(){E.g()})}this.a.push(w)};var p=i.setTimeout;c.prototype.c=function(w){p(w,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var w=this.a;this.a=[];for(var E=0;E<w.length;++E){var L=w[E];w[E]=null;try{L()}catch(H){this.f(H)}}}this.a=null},c.prototype.f=function(w){this.c(function(){throw w})},s.prototype.f=function(){function w(H){return function(Ct){L||(L=!0,H.call(E,Ct))}}var E=this,L=!1;return{resolve:w(this.m),reject:w(this.g)}},s.prototype.m=function(w){if(w===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(w instanceof s)this.s(w);else{t:switch(typeof w){case"object":var E=w!=null;break t;case"function":E=!0;break t;default:E=!1}E?this.v(w):this.h(w)}},s.prototype.v=function(w){var E=void 0;try{E=w.then}catch(L){this.g(L);return}typeof E=="function"?this.u(E,w):this.h(w)},s.prototype.g=function(w){this.i(2,w)},s.prototype.h=function(w){this.i(1,w)},s.prototype.i=function(w,E){if(this.b!=0)throw Error("Cannot settle("+w+", "+E+"): Promise already settled in state"+this.b);this.b=w,this.c=E,this.l()},s.prototype.l=function(){if(this.a!=null){for(var w=0;w<this.a.length;++w)m.b(this.a[w]);this.a=null}};var m=new c;return s.prototype.s=function(w){var E=this.f();w.Ra(E.resolve,E.reject)},s.prototype.u=function(w,E){var L=this.f();try{w.call(E,L.resolve,L.reject)}catch(H){L.reject(H)}},s.prototype.then=function(w,E){function L(Zt,Ke){return typeof Zt=="function"?function(Kr){try{H(Zt(Kr))}catch(Wp){Ct(Wp)}}:Ke}var H,Ct,re=new s(function(Zt,Ke){H=Zt,Ct=Ke});return this.Ra(L(w,H),L(E,Ct)),re},s.prototype.catch=function(w){return this.then(void 0,w)},s.prototype.Ra=function(w,E){function L(){switch(H.b){case 1:w(H.c);break;case 2:E(H.c);break;default:throw Error("Unexpected state: "+H.b)}}var H=this;this.a==null?m.b(L):this.a.push(L)},s.resolve=h,s.reject=function(w){return new s(function(E,L){L(w)})},s.race=function(w){return new s(function(E,L){for(var H=a(w),Ct=H.next();!Ct.done;Ct=H.next())h(Ct.value).Ra(E,L)})},s.all=function(w){var E=a(w),L=E.next();return L.done?h([]):new s(function(H,Ct){function re(Kr){return function(Wp){Zt[Kr]=Wp,Ke--,Ke==0&&H(Zt)}}var Zt=[],Ke=0;do Zt.push(void 0),Ke++,h(L.value).Ra(re(Zt.length-1),Ct),L=E.next();while(!L.done)})},s});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,g=null;function v(r){return(r=r.querySelector&&r.querySelector("script[nonce]"))&&(r=r.nonce||r.getAttribute("nonce"))&&d.test(r)?r:""}function y(){}function b(r){var s=typeof r;return s!="object"?s:r?Array.isArray(r)?"array":s:"null"}function _(r){var s=b(r);return s=="array"||s=="object"&&typeof r.length=="number"}function T(r){return b(r)=="function"}function N(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function O(r){return Object.prototype.hasOwnProperty.call(r,P)&&r[P]||(r[P]=++j)}var P="closure_uid_"+(1e9*Math.random()>>>0),j=0;function q(r,s,c){return r.call.apply(r.bind,arguments)}function rt(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var p=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(p,h),r.apply(s,p)}}return function(){return r.apply(s,arguments)}}function V(r,s,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=q:V=rt,V.apply(null,arguments)}function It(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function Q(r,s){function c(){}c.prototype=s.prototype,r.bb=s.prototype,r.prototype=new c,r.prototype.constructor=r}function ht(r){return r}function A(r,s,c){this.code=oe+r,this.message=s||se[r]||"",this.a=c||null}Q(A,Error),A.prototype.w=function(){var r={code:this.code,message:this.message};return this.a&&(r.serverResponse=this.a),r},A.prototype.toJSON=function(){return this.w()};function Wt(r){var s=r&&r.code;return s?new A(s.substring(oe.length),r.message,r.serverResponse):null}var oe="auth/",se={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},ce={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Qt(r){for(var s in ce)if(ce[s].id===r)return r=ce[s],{firebaseEndpoint:r.Ua,secureTokenEndpoint:r.$a,identityPlatformEndpoint:r.Xa};return null}var st;st=Qt("__EID__")?"__EID__":void 0;function Lt(r){if(!r)return!1;try{return!!r.$goog_Thenable}catch{return!1}}function gt(r){if(Error.captureStackTrace)Error.captureStackTrace(this,gt);else{var s=Error().stack;s&&(this.stack=s)}r&&(this.message=String(r))}Q(gt,Error),gt.prototype.name="CustomError";function he(r,s){r=r.split("%s");for(var c="",h=r.length-1,p=0;p<h;p++)c+=r[p]+(p<s.length?s[p]:"%s");gt.call(this,c+r[h])}Q(he,gt),he.prototype.name="AssertionError";function Ie(r,s){throw new he("Failure"+(r?": "+r:""),Array.prototype.slice.call(arguments,1))}function Ve(r,s){this.c=r,this.f=s,this.b=0,this.a=null}Ve.prototype.get=function(){if(0<this.b){this.b--;var r=this.a;this.a=r.next,r.next=null}else r=this.c();return r};function Ce(r,s){r.f(s),100>r.b&&(r.b++,s.next=r.a,r.a=s)}function de(){this.b=this.a=null}var Fn=new Ve(function(){return new vt},function(r){r.reset()});de.prototype.add=function(r,s){var c=Fn.get();c.set(r,s),this.b?this.b.next=c:this.a=c,this.b=c};function dt(){var r=Oy,s=null;return r.a&&(s=r.a,r.a=r.a.next,r.a||(r.b=null),s.next=null),s}function vt(){this.next=this.b=this.a=null}vt.prototype.set=function(r,s){this.a=r,this.b=s,this.next=null},vt.prototype.reset=function(){this.next=this.b=this.a=null};var R=Array.prototype.indexOf?function(r,s){return Array.prototype.indexOf.call(r,s,void 0)}:function(r,s){if(typeof r=="string")return typeof s!="string"||s.length!=1?-1:r.indexOf(s,0);for(var c=0;c<r.length;c++)if(c in r&&r[c]===s)return c;return-1},U=Array.prototype.forEach?function(r,s,c){Array.prototype.forEach.call(r,s,c)}:function(r,s,c){for(var h=r.length,p=typeof r=="string"?r.split(""):r,m=0;m<h;m++)m in p&&s.call(c,p[m],m,r)};function Z(r,s){for(var c=typeof r=="string"?r.split(""):r,h=r.length-1;0<=h;--h)h in c&&s.call(void 0,c[h],h,r)}var ut=Array.prototype.filter?function(r,s){return Array.prototype.filter.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=[],p=0,m=typeof r=="string"?r.split(""):r,w=0;w<c;w++)if(w in m){var E=m[w];s.call(void 0,E,w,r)&&(h[p++]=E)}return h},Rt=Array.prototype.map?function(r,s){return Array.prototype.map.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=Array(c),p=typeof r=="string"?r.split(""):r,m=0;m<c;m++)m in p&&(h[m]=s.call(void 0,p[m],m,r));return h},I=Array.prototype.some?function(r,s){return Array.prototype.some.call(r,s,void 0)}:function(r,s){for(var c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r))return!0;return!1};function S(r){t:{for(var s=Tk,c=r.length,h=typeof r=="string"?r.split(""):r,p=0;p<c;p++)if(p in h&&s.call(void 0,h[p],p,r)){s=p;break t}s=-1}return 0>s?null:typeof r=="string"?r.charAt(s):r[s]}function C(r,s){return 0<=R(r,s)}function M(r,s){s=R(r,s);var c;return(c=0<=s)&&Array.prototype.splice.call(r,s,1),c}function F(r,s){var c=0;Z(r,function(h,p){s.call(void 0,h,p,r)&&Array.prototype.splice.call(r,p,1).length==1&&c++})}function G(r){return Array.prototype.concat.apply([],arguments)}function nt(r){var s=r.length;if(0<s){for(var c=Array(s),h=0;h<s;h++)c[h]=r[h];return c}return[]}var X=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]},tt=/&/g,Y=/</g,wt=/>/g,at=/"/g,mt=/'/g,St=/\x00/g,Bt=/[\x00&<>"']/;function _t(r,s){return r.indexOf(s)!=-1}function x(r,s){return r<s?-1:r>s?1:0}var k;t:{var B=f.navigator;if(B){var it=B.userAgent;if(it){k=it;break t}}k=""}function lt(r){return _t(k,r)}function At(r,s){for(var c in r)s.call(void 0,r[c],c,r)}function Vt(r){for(var s in r)return!1;return!0}function kt(r){var s={},c;for(c in r)s[c]=r[c];return s}var Mt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(r,s){for(var c,h,p=1;p<arguments.length;p++){h=arguments[p];for(c in h)r[c]=h[c];for(var m=0;m<Mt.length;m++)c=Mt[m],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function en(r,s){t:{try{var c=r&&r.ownerDocument,h=c&&(c.defaultView||c.parentWindow);if(h=h||f,h.Element&&h.Location){var p=h;break t}}catch{}p=null}if(p&&typeof p[s]<"u"&&(!r||!(r instanceof p[s])&&(r instanceof p.Location||r instanceof p.Element))){if(N(r))try{var m=r.constructor.displayName||r.constructor.name||Object.prototype.toString.call(r)}catch{m="<object could not be stringified>"}else m=r===void 0?"undefined":r===null?"null":typeof r;Ie("Argument is not a %s (or a non-Element, non-Location mock); got: %s",s,m)}}function nn(r,s){this.a=r===hc&&s||"",this.b=hy}nn.prototype.ta=!0,nn.prototype.sa=function(){return this.a},nn.prototype.toString=function(){return"Const{"+this.a+"}"};function _h(r){return r instanceof nn&&r.constructor===nn&&r.b===hy?r.a:(Ie("expected object of type Const, got '"+r+"'"),"type_error:Const")}var hy={},hc={},dc;function dy(){if(dc===void 0){var r=null,s=f.trustedTypes;if(s&&s.createPolicy){try{r=s.createPolicy("goog#html",{createHTML:ht,createScript:ht,createScriptURL:ht})}catch(c){f.console&&f.console.error(c.message)}dc=r}else dc=r}return dc}function Ko(r,s){this.a=s===gy?r:""}Ko.prototype.ta=!0,Ko.prototype.sa=function(){return this.a.toString()},Ko.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function py(r){return r instanceof Ko&&r.constructor===Ko?r.a:(Ie("expected object of type TrustedResourceUrl, got '"+r+"' of type "+b(r)),"type_error:TrustedResourceUrl")}function Eh(r,s){var c=_h(r);if(!tN.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return r=c.replace(ZA,function(h,p){if(!Object.prototype.hasOwnProperty.call(s,p))throw Error('Found marker, "'+p+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(s));return h=s[p],h instanceof nn?_h(h):encodeURIComponent(String(h))}),eN(r)}var ZA=/%{(\w+)}/g,tN=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,gy={};function eN(r){var s=dy();return r=s?s.createScriptURL(r):r,new Ko(r,gy)}function In(r,s){this.a=s===hu?r:""}In.prototype.ta=!0,In.prototype.sa=function(){return this.a.toString()},In.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function pc(r){return r instanceof In&&r.constructor===In?r.a:(Ie("expected object of type SafeUrl, got '"+r+"' of type "+b(r)),"type_error:SafeUrl")}var nN=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,rN=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,vy=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function my(r){if(r instanceof In)return r;if(r=typeof r=="object"&&r.ta?r.sa():String(r),vy.test(r))r=new In(r,hu);else{r=String(r),r=r.replace(/(%0A|%0D)/g,"");var s=r.match(rN);r=s&&nN.test(s[1])?new In(r,hu):null}return r}function yy(r){return r instanceof In?r:(r=typeof r=="object"&&r.ta?r.sa():String(r),vy.test(r)||(r="about:invalid#zClosurez"),new In(r,hu))}var hu={},wy=new In("about:invalid#zClosurez",hu);function Ho(r,s,c){this.a=c===by?r:""}Ho.prototype.ta=!0,Ho.prototype.sa=function(){return this.a.toString()},Ho.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function iN(r){return r instanceof Ho&&r.constructor===Ho?r.a:(Ie("expected object of type SafeHtml, got '"+r+"' of type "+b(r)),"type_error:SafeHtml")}var by={};function oN(r,s){en(r,"HTMLScriptElement"),r.src=py(s),(s=r.ownerDocument&&r.ownerDocument.defaultView)&&s!=f?s=v(s.document):(g===null&&(g=v(f.document)),s=g),s&&r.setAttribute("nonce",s)}function _y(r,s,c,h){return r=r instanceof In?r:yy(r),s=s||f,c=c instanceof nn?_h(c):c||"",s.open(pc(r),c,h,void 0)}function Ey(r,s){for(var c=r.split("%s"),h="",p=Array.prototype.slice.call(arguments,1);p.length&&1<c.length;)h+=c.shift()+p.shift();return h+c.join("%s")}function Ih(r){return Bt.test(r)&&(r.indexOf("&")!=-1&&(r=r.replace(tt,"&amp;")),r.indexOf("<")!=-1&&(r=r.replace(Y,"&lt;")),r.indexOf(">")!=-1&&(r=r.replace(wt,"&gt;")),r.indexOf('"')!=-1&&(r=r.replace(at,"&quot;")),r.indexOf("'")!=-1&&(r=r.replace(mt,"&#39;")),r.indexOf("\0")!=-1&&(r=r.replace(St,"&#0;"))),r}function Th(r){return Th[" "](r),r}Th[" "]=y;function sN(r,s){var c=lN;return Object.prototype.hasOwnProperty.call(c,r)?c[r]:c[r]=s(r)}var uN=lt("Opera"),sr=lt("Trident")||lt("MSIE"),Iy=lt("Edge"),aN=Iy||sr,Ty=lt("Gecko")&&!(_t(k.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),cN=_t(k.toLowerCase(),"webkit")&&!lt("Edge");function Sy(){var r=f.document;return r?r.documentMode:void 0}var gc;t:{var Sh="",Ah=function(){var r=k;if(Ty)return/rv:([^\);]+)(\)|;)/.exec(r);if(Iy)return/Edge\/([\d\.]+)/.exec(r);if(sr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r);if(cN)return/WebKit\/(\S+)/.exec(r);if(uN)return/(?:Version)[ \/]?(\S+)/.exec(r)}();if(Ah&&(Sh=Ah?Ah[1]:""),sr){var Nh=Sy();if(Nh!=null&&Nh>parseFloat(Sh)){gc=String(Nh);break t}}gc=Sh}var lN={};function Ay(r){return sN(r,function(){for(var s=0,c=X(String(gc)).split("."),h=X(String(r)).split("."),p=Math.max(c.length,h.length),m=0;s==0&&m<p;m++){var w=c[m]||"",E=h[m]||"";do{if(w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],E=/(\d*)(\D*)(.*)/.exec(E)||["","","",""],w[0].length==0&&E[0].length==0)break;s=x(w[1].length==0?0:parseInt(w[1],10),E[1].length==0?0:parseInt(E[1],10))||x(w[2].length==0,E[2].length==0)||x(w[2],E[2]),w=w[3],E=E[3]}while(s==0)}return 0<=s})}var kh;if(f.document&&sr){var Ny=Sy();kh=Ny||parseInt(gc,10)||void 0}else kh=void 0;var si=kh;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var fN=!sr||9<=Number(si);function du(r){var s=document;return typeof r=="string"?s.getElementById(r):r}function ky(r,s){At(s,function(c,h){c&&typeof c=="object"&&c.ta&&(c=c.sa()),h=="style"?r.style.cssText=c:h=="class"?r.className=c:h=="for"?r.htmlFor=c:xy.hasOwnProperty(h)?r.setAttribute(xy[h],c):h.lastIndexOf("aria-",0)==0||h.lastIndexOf("data-",0)==0?r.setAttribute(h,c):r[h]=c})}var xy={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function hN(r,s,c){var h=arguments,p=document,m=String(h[0]),w=h[1];if(!fN&&w&&(w.name||w.type)){if(m=["<",m],w.name&&m.push(' name="',Ih(w.name),'"'),w.type){m.push(' type="',Ih(w.type),'"');var E={};Dt(E,w),delete E.type,w=E}m.push(">"),m=m.join("")}return m=vc(p,m),w&&(typeof w=="string"?m.className=w:Array.isArray(w)?m.className=w.join(" "):ky(m,w)),2<h.length&&dN(p,m,h),m}function dN(r,s,c){function h(E){E&&s.appendChild(typeof E=="string"?r.createTextNode(E):E)}for(var p=2;p<c.length;p++){var m=c[p];if(!_(m)||N(m)&&0<m.nodeType)h(m);else{t:{if(m&&typeof m.length=="number"){if(N(m)){var w=typeof m.item=="function"||typeof m.item=="string";break t}if(T(m)){w=typeof m.item=="function";break t}}w=!1}U(w?nt(m):m,h)}}}function vc(r,s){return s=String(s),r.contentType==="application/xhtml+xml"&&(s=s.toLowerCase()),r.createElement(s)}function Cy(r){f.setTimeout(function(){throw r},0)}var xh;function pN(){var r=f.MessageChannel;if(typeof r>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(r=function(){var p=vc(document,"IFRAME");p.style.display="none",document.documentElement.appendChild(p);var m=p.contentWindow;p=m.document,p.open(),p.close();var w="callImmediate"+Math.random(),E=m.location.protocol=="file:"?"*":m.location.protocol+"//"+m.location.host;p=V(function(L){(E=="*"||L.origin==E)&&L.data==w&&this.port1.onmessage()},this),m.addEventListener("message",p,!1),this.port1={},this.port2={postMessage:function(){m.postMessage(w,E)}}}),typeof r<"u"&&!lt("Trident")&&!lt("MSIE")){var s=new r,c={},h=c;return s.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var p=c.Hb;c.Hb=null,p()}},function(p){h.next={Hb:p},h=h.next,s.port2.postMessage(0)}}return function(p){f.setTimeout(p,0)}}function mc(r,s){yc||gN(),Ch||(yc(),Ch=!0),Oy.add(r,s)}var yc;function gN(){if(f.Promise&&f.Promise.resolve){var r=f.Promise.resolve(void 0);yc=function(){r.then(Ry)}}else yc=function(){var s=Ry;!T(f.setImmediate)||f.Window&&f.Window.prototype&&!lt("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(xh||(xh=pN()),xh(s)):f.setImmediate(s)}}var Ch=!1,Oy=new de;function Ry(){for(var r;r=dt();){try{r.a.call(r.b)}catch(s){Cy(s)}Ce(Fn,r)}Ch=!1}function Kt(r,s){if(this.a=$i,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,r!=y)try{var c=this;r.call(s,function(h){Ki(c,pu,h)},function(h){if(!(h instanceof zo))try{throw h instanceof Error?h:Error("Promise rejected.")}catch{}Ki(c,Ur,h)})}catch(h){Ki(this,Ur,h)}}var $i=0,pu=2,Ur=3;function Dy(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Dy.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Py=new Ve(function(){return new Dy},function(r){r.reset()});function Oh(r,s,c){var h=Py.get();return h.g=r,h.b=s,h.f=c,h}function Et(r){if(r instanceof Kt)return r;var s=new Kt(y);return Ki(s,pu,r),s}function me(r){return new Kt(function(s,c){c(r)})}function Ly(r,s,c){jy(r,s,c,null)||mc(It(s,r))}function vN(r){return new Kt(function(s,c){var h=r.length,p=[];if(h)for(var m=function(H,Ct){h--,p[H]=Ct,h==0&&s(p)},w=function(H){c(H)},E=0,L;E<r.length;E++)L=r[E],Ly(L,It(m,E),w);else s(p)})}function My(r){return new Kt(function(s){var c=r.length,h=[];if(c)for(var p=function(E,L,H){c--,h[E]=L?{Qb:!0,value:H}:{Qb:!1,reason:H},c==0&&s(h)},m=0,w;m<r.length;m++)w=r[m],Ly(w,It(p,m,!0),It(p,m,!1));else s(h)})}Kt.prototype.then=function(r,s,c){return Vy(this,T(r)?r:null,T(s)?s:null,c)},Kt.prototype.$goog_Thenable=!0,t=Kt.prototype,t.oa=function(r,s){return r=Oh(r,r,s),r.c=!0,Rh(this,r),this},t.o=function(r,s){return Vy(this,null,r,s)},t.cancel=function(r){if(this.a==$i){var s=new zo(r);mc(function(){Fy(this,s)},this)}};function Fy(r,s){if(r.a==$i)if(r.c){var c=r.c;if(c.b){for(var h=0,p=null,m=null,w=c.b;w&&(w.c||(h++,w.a==r&&(p=w),!(p&&1<h)));w=w.next)p||(m=w);p&&(c.a==$i&&h==1?Fy(c,s):(m?(h=m,h.next==c.f&&(c.f=h),h.next=h.next.next):By(c),qy(c,p,Ur,s)))}r.c=null}else Ki(r,Ur,s)}function Rh(r,s){r.b||r.a!=pu&&r.a!=Ur||Uy(r),r.f?r.f.next=s:r.b=s,r.f=s}function Vy(r,s,c,h){var p=Oh(null,null,null);return p.a=new Kt(function(m,w){p.g=s?function(E){try{var L=s.call(h,E);m(L)}catch(H){w(H)}}:m,p.b=c?function(E){try{var L=c.call(h,E);L===void 0&&E instanceof zo?w(E):m(L)}catch(H){w(H)}}:w}),p.a.c=r,Rh(r,p),p.a}t.$c=function(r){this.a=$i,Ki(this,pu,r)},t.ad=function(r){this.a=$i,Ki(this,Ur,r)};function Ki(r,s,c){r.a==$i&&(r===c&&(s=Ur,c=new TypeError("Promise cannot resolve to itself")),r.a=1,jy(c,r.$c,r.ad,r)||(r.i=c,r.a=s,r.c=null,Uy(r),s!=Ur||c instanceof zo||yN(r,c)))}function jy(r,s,c,h){if(r instanceof Kt)return Rh(r,Oh(s||y,c||null,h)),!0;if(Lt(r))return r.then(s,c,h),!0;if(N(r))try{var p=r.then;if(T(p))return mN(r,p,s,c,h),!0}catch(m){return c.call(h,m),!0}return!1}function mN(r,s,c,h,p){function m(L){E||(E=!0,h.call(p,L))}function w(L){E||(E=!0,c.call(p,L))}var E=!1;try{s.call(r,w,m)}catch(L){m(L)}}function Uy(r){r.h||(r.h=!0,mc(r.gc,r))}function By(r){var s=null;return r.b&&(s=r.b,r.b=s.next,s.next=null),r.b||(r.f=null),s}t.gc=function(){for(var r;r=By(this);)qy(this,r,this.a,this.i);this.h=!1};function qy(r,s,c,h){if(c==Ur&&s.b&&!s.c)for(;r&&r.g;r=r.c)r.g=!1;if(s.a)s.a.c=null,$y(s,c,h);else try{s.c?s.g.call(s.f):$y(s,c,h)}catch(p){Ky.call(null,p)}Ce(Py,s)}function $y(r,s,c){s==pu?r.g.call(r.f,c):r.b&&r.b.call(r.f,c)}function yN(r,s){r.g=!0,mc(function(){r.g&&Ky.call(null,s)})}var Ky=Cy;function zo(r){gt.call(this,r)}Q(zo,gt),zo.prototype.name="cancel";function wc(){this.ya=this.ya,this.pa=this.pa}var wN=0;wc.prototype.ya=!1;function Hy(r){!r.ya&&(r.ya=!0,r.Da(),wN!=0)&&O(r)}wc.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var bN=Object.freeze||function(r){return r},zy=!sr||9<=Number(si),_N=sr&&!Ay("9"),EN=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{f.addEventListener("test",y,s),f.removeEventListener("test",y,s)}catch{}return r}();function Tn(r,s){this.type=r,this.b=this.target=s,this.defaultPrevented=!1}Tn.prototype.preventDefault=function(){this.defaultPrevented=!0};function Hi(r,s){if(Tn.call(this,r?r.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.b=s,s=r.relatedTarget){if(Ty){t:{try{Th(s.nodeName);var p=!0;break t}catch{}p=!1}p||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:IN[r.pointerType]||"",this.a=r,r.defaultPrevented&&this.preventDefault()}}Q(Hi,Tn);var IN=bN({2:"touch",3:"pen",4:"mouse"});Hi.prototype.preventDefault=function(){Hi.bb.preventDefault.call(this);var r=this.a;if(r.preventDefault)r.preventDefault();else if(r.returnValue=!1,_N)try{(r.ctrlKey||112<=r.keyCode&&123>=r.keyCode)&&(r.keyCode=-1)}catch{}},Hi.prototype.g=function(){return this.a};var gu="closure_listenable_"+(1e6*Math.random()|0),TN=0;function SN(r,s,c,h,p){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.Wa=p,this.key=++TN,this.wa=this.Qa=!1}function bc(r){r.wa=!0,r.listener=null,r.proxy=null,r.src=null,r.Wa=null}function _c(r){this.src=r,this.a={},this.b=0}_c.prototype.add=function(r,s,c,h,p){var m=r.toString();r=this.a[m],r||(r=this.a[m]=[],this.b++);var w=Ph(r,s,h,p);return-1<w?(s=r[w],c||(s.Qa=!1)):(s=new SN(s,this.src,m,!!h,p),s.Qa=c,r.push(s)),s};function Dh(r,s){var c=s.type;c in r.a&&M(r.a[c],s)&&(bc(s),r.a[c].length==0&&(delete r.a[c],r.b--))}function Ph(r,s,c,h){for(var p=0;p<r.length;++p){var m=r[p];if(!m.wa&&m.listener==s&&m.capture==!!c&&m.Wa==h)return p}return-1}var Lh="closure_lm_"+(1e6*Math.random()|0),Mh={};function tr(r,s,c,h,p){if(h&&h.once)Fh(r,s,c,h,p);else if(Array.isArray(s))for(var m=0;m<s.length;m++)tr(r,s[m],c,h,p);else c=jh(c),r&&r[gu]?Jy(r,s,c,N(h)?!!h.capture:!!h,p):Gy(r,s,c,!1,h,p)}function Gy(r,s,c,h,p,m){if(!s)throw Error("Invalid event type");var w=N(p)?!!p.capture:!!p,E=Ec(r);if(E||(r[Lh]=E=new _c(r)),c=E.add(s,c,h,w,m),!c.proxy)if(h=AN(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)EN||(p=w),p===void 0&&(p=!1),r.addEventListener(s.toString(),h,p);else if(r.attachEvent)r.attachEvent(Qy(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.")}function AN(){var r=NN,s=zy?function(c){return r.call(s.src,s.listener,c)}:function(c){if(c=r.call(s.src,s.listener,c),!c)return c};return s}function Fh(r,s,c,h,p){if(Array.isArray(s))for(var m=0;m<s.length;m++)Fh(r,s[m],c,h,p);else c=jh(c),r&&r[gu]?Uh(r,s,c,N(h)?!!h.capture:!!h,p):Gy(r,s,c,!0,h,p)}function Vn(r,s,c,h,p){if(Array.isArray(s))for(var m=0;m<s.length;m++)Vn(r,s[m],c,h,p);else h=N(h)?!!h.capture:!!h,c=jh(c),r&&r[gu]?(r=r.v,s=String(s).toString(),s in r.a&&(m=r.a[s],c=Ph(m,c,h,p),-1<c&&(bc(m[c]),Array.prototype.splice.call(m,c,1),m.length==0&&(delete r.a[s],r.b--)))):r&&(r=Ec(r))&&(s=r.a[s.toString()],r=-1,s&&(r=Ph(s,c,h,p)),(c=-1<r?s[r]:null)&&Wy(c))}function Wy(r){if(typeof r!="number"&&r&&!r.wa){var s=r.src;if(s&&s[gu])Dh(s.v,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(Qy(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=Ec(s))?(Dh(c,r),c.b==0&&(c.src=null,s[Lh]=null)):bc(r)}}}function Qy(r){return r in Mh?Mh[r]:Mh[r]="on"+r}function Yy(r,s,c,h){var p=!0;if((r=Ec(r))&&(s=r.a[s.toString()]))for(s=s.concat(),r=0;r<s.length;r++){var m=s[r];m&&m.capture==c&&!m.wa&&(m=Xy(m,h),p=p&&m!==!1)}return p}function Xy(r,s){var c=r.listener,h=r.Wa||r.src;return r.Qa&&Wy(r),c.call(h,s)}function NN(r,s){if(r.wa)return!0;if(!zy){if(!s)t:{s=["window","event"];for(var c=f,h=0;h<s.length;h++)if(c=c[s[h]],c==null){s=null;break t}s=c}if(h=s,s=new Hi(h,this),c=!0,!(0>h.keyCode||h.returnValue!=null)){t:{var p=!1;if(h.keyCode==0)try{h.keyCode=-1;break t}catch{p=!0}(p||h.returnValue==null)&&(h.returnValue=!0)}for(h=[],p=s.b;p;p=p.parentNode)h.push(p);for(r=r.type,p=h.length-1;0<=p;p--){s.b=h[p];var m=Yy(h[p],r,!0,s);c=c&&m}for(p=0;p<h.length;p++)s.b=h[p],m=Yy(h[p],r,!1,s),c=c&&m}return c}return Xy(r,new Hi(s,this))}function Ec(r){return r=r[Lh],r instanceof _c?r:null}var Vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function jh(r){return T(r)?r:(r[Vh]||(r[Vh]=function(s){return r.handleEvent(s)}),r[Vh])}function dn(){wc.call(this),this.v=new _c(this),this.bc=this,this.hb=null}Q(dn,wc),dn.prototype[gu]=!0,dn.prototype.addEventListener=function(r,s,c,h){tr(this,r,s,c,h)},dn.prototype.removeEventListener=function(r,s,c,h){Vn(this,r,s,c,h)},dn.prototype.dispatchEvent=function(r){var s,c=this.hb;if(c)for(s=[];c;c=c.hb)s.push(c);c=this.bc;var h=r.type||r;if(typeof r=="string")r=new Tn(r,c);else if(r instanceof Tn)r.target=r.target||c;else{var p=r;r=new Tn(h,c),Dt(r,p)}if(p=!0,s)for(var m=s.length-1;0<=m;m--){var w=r.b=s[m];p=Ic(w,h,!0,r)&&p}if(w=r.b=c,p=Ic(w,h,!0,r)&&p,p=Ic(w,h,!1,r)&&p,s)for(m=0;m<s.length;m++)w=r.b=s[m],p=Ic(w,h,!1,r)&&p;return p},dn.prototype.Da=function(){if(dn.bb.Da.call(this),this.v){var r=this.v,s;for(s in r.a){for(var c=r.a[s],h=0;h<c.length;h++)bc(c[h]);delete r.a[s],r.b--}}this.hb=null};function Jy(r,s,c,h,p){r.v.add(String(s),c,!1,h,p)}function Uh(r,s,c,h,p){r.v.add(String(s),c,!0,h,p)}function Ic(r,s,c,h){if(s=r.v.a[String(s)],!s)return!0;s=s.concat();for(var p=!0,m=0;m<s.length;++m){var w=s[m];if(w&&!w.wa&&w.capture==c){var E=w.listener,L=w.Wa||w.src;w.Qa&&Dh(r.v,w),p=E.call(L,h)!==!1&&p}}return p&&!h.defaultPrevented}function Bh(r,s,c){if(T(r))c&&(r=V(r,c));else if(r&&typeof r.handleEvent=="function")r=V(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:f.setTimeout(r,s||0)}function Go(r){var s=null;return new Kt(function(c,h){s=Bh(function(){c(void 0)},r),s==-1&&h(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(s),c})}function Zy(r){if(r.X&&typeof r.X=="function")return r.X();if(typeof r=="string")return r.split("");if(_(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function t0(r){if(r.Y&&typeof r.Y=="function")return r.Y();if(!r.X||typeof r.X!="function"){if(_(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(var h in r)s[c++]=h;return s}}function kN(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(_(r)||typeof r=="string")U(r,s,void 0);else for(var c=t0(r),h=Zy(r),p=h.length,m=0;m<p;m++)s.call(void 0,h[m],c&&c[m],r)}function Wo(r,s){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(r)if(r instanceof Wo)for(c=r.Y(),h=0;h<c.length;h++)this.set(c[h],r.get(c[h]));else for(h in r)this.set(h,r[h])}t=Wo.prototype,t.X=function(){qh(this);for(var r=[],s=0;s<this.a.length;s++)r.push(this.b[this.a[s]]);return r},t.Y=function(){return qh(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0};function qh(r){if(r.c!=r.a.length){for(var s=0,c=0;s<r.a.length;){var h=r.a[s];zi(r.b,h)&&(r.a[c++]=h),s++}r.a.length=c}if(r.c!=r.a.length){var p={};for(c=s=0;s<r.a.length;)h=r.a[s],zi(p,h)||(r.a[c++]=h,p[h]=1),s++;r.a.length=c}}t.get=function(r,s){return zi(this.b,r)?this.b[r]:s},t.set=function(r,s){zi(this.b,r)||(this.c++,this.a.push(r)),this.b[r]=s},t.forEach=function(r,s){for(var c=this.Y(),h=0;h<c.length;h++){var p=c[h],m=this.get(p);r.call(s,m,p,this)}};function zi(r,s){return Object.prototype.hasOwnProperty.call(r,s)}var e0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xN(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),p=null;if(0<=h){var m=r[c].substring(0,h);p=r[c].substring(h+1)}else m=r[c];s(m,p?decodeURIComponent(p.replace(/\+/g," ")):"")}}}function ui(r,s){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;r instanceof ui?(this.i=s!==void 0?s:r.i,vu(this,r.c),this.l=r.l,this.a=r.a,mu(this,r.g),this.f=r.f,$h(this,o0(r.b)),this.h=r.h):r&&(c=String(r).match(e0))?(this.i=!!s,vu(this,c[1]||"",!0),this.l=yu(c[2]||""),this.a=yu(c[3]||"",!0),mu(this,c[4]),this.f=yu(c[5]||"",!0),$h(this,c[6]||"",!0),this.h=yu(c[7]||"")):(this.i=!!s,this.b=new Gi(null,this.i))}ui.prototype.toString=function(){var r=[],s=this.c;s&&r.push(wu(s,n0,!0),":");var c=this.a;return(c||s=="file")&&(r.push("//"),(s=this.l)&&r.push(wu(s,n0,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&r.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&r.push("/"),r.push(wu(c,c.charAt(0)=="/"?RN:ON,!0))),(c=this.b.toString())&&r.push("?",c),(c=this.h)&&r.push("#",wu(c,PN)),r.join("")},ui.prototype.resolve=function(r){var s=new ui(this),c=!!r.c;c?vu(s,r.c):c=!!r.l,c?s.l=r.l:c=!!r.a,c?s.a=r.a:c=r.g!=null;var h=r.f;if(c)mu(s,r.g);else if(c=!!r.f){if(h.charAt(0)!="/")if(this.a&&!this.f)h="/"+h;else{var p=s.f.lastIndexOf("/");p!=-1&&(h=s.f.substr(0,p+1)+h)}if(p=h,p==".."||p==".")h="";else if(_t(p,"./")||_t(p,"/.")){h=p.lastIndexOf("/",0)==0,p=p.split("/");for(var m=[],w=0;w<p.length;){var E=p[w++];E=="."?h&&w==p.length&&m.push(""):E==".."?((1<m.length||m.length==1&&m[0]!="")&&m.pop(),h&&w==p.length&&m.push("")):(m.push(E),h=!0)}h=m.join("/")}else h=p}return c?s.f=h:c=r.b.toString()!=="",c?$h(s,o0(r.b)):c=!!r.h,c&&(s.h=r.h),s};function vu(r,s,c){r.c=c?yu(s,!0):s,r.c&&(r.c=r.c.replace(/:$/,""))}function mu(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.g=s}else r.g=null}function $h(r,s,c){s instanceof Gi?(r.b=s,LN(r.b,r.i)):(c||(s=wu(s,DN)),r.b=new Gi(s,r.i))}function Ne(r,s,c){r.b.set(s,c)}function er(r,s){return r.b.get(s)}function Sn(r){return r instanceof ui?new ui(r):new ui(r,void 0)}function Tc(r,s,c,h){var p=new ui(null,void 0);return r&&vu(p,r),s&&(p.a=s),c&&mu(p,c),h&&(p.f=h),p}function yu(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function wu(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,CN),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function CN(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var n0=/[#\/\?@]/g,ON=/[#\?:]/g,RN=/[#\?]/g,DN=/[#\?@]/g,PN=/#/g;function Gi(r,s){this.b=this.a=null,this.c=r||null,this.f=!!s}function ai(r){r.a||(r.a=new Wo,r.b=0,r.c&&xN(r.c,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}function r0(r){var s=t0(r);if(typeof s>"u")throw Error("Keys are undefined");var c=new Gi(null,void 0);r=Zy(r);for(var h=0;h<s.length;h++){var p=s[h],m=r[h];Array.isArray(m)?i0(c,p,m):c.add(p,m)}return c}t=Gi.prototype,t.add=function(r,s){ai(this),this.c=null,r=Qo(this,r);var c=this.a.get(r);return c||this.a.set(r,c=[]),c.push(s),this.b+=1,this};function Er(r,s){ai(r),s=Qo(r,s),zi(r.a.b,s)&&(r.c=null,r.b-=r.a.get(s).length,r=r.a,zi(r.b,s)&&(delete r.b[s],r.c--,r.a.length>2*r.c&&qh(r)))}t.clear=function(){this.a=this.c=null,this.b=0};function Kh(r,s){return ai(r),s=Qo(r,s),zi(r.a.b,s)}t.forEach=function(r,s){ai(this),this.a.forEach(function(c,h){U(c,function(p){r.call(s,p,h,this)},this)},this)},t.Y=function(){ai(this);for(var r=this.a.X(),s=this.a.Y(),c=[],h=0;h<s.length;h++)for(var p=r[h],m=0;m<p.length;m++)c.push(s[h]);return c},t.X=function(r){ai(this);var s=[];if(typeof r=="string")Kh(this,r)&&(s=G(s,this.a.get(Qo(this,r))));else{r=this.a.X();for(var c=0;c<r.length;c++)s=G(s,r[c])}return s},t.set=function(r,s){return ai(this),this.c=null,r=Qo(this,r),Kh(this,r)&&(this.b-=this.a.get(r).length),this.a.set(r,[s]),this.b+=1,this},t.get=function(r,s){return r?(r=this.X(r),0<r.length?String(r[0]):s):s};function i0(r,s,c){Er(r,s),0<c.length&&(r.c=null,r.a.set(Qo(r,s),nt(c)),r.b+=c.length)}t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var r=[],s=this.a.Y(),c=0;c<s.length;c++){var h=s[c],p=encodeURIComponent(String(h));h=this.X(h);for(var m=0;m<h.length;m++){var w=p;h[m]!==""&&(w+="="+encodeURIComponent(String(h[m]))),r.push(w)}}return this.c=r.join("&")};function o0(r){var s=new Gi;return s.c=r.c,r.a&&(s.a=new Wo(r.a),s.b=r.b),s}function Qo(r,s){return s=String(s),r.f&&(s=s.toLowerCase()),s}function LN(r,s){s&&!r.f&&(ai(r),r.c=null,r.a.forEach(function(c,h){var p=h.toLowerCase();h!=p&&(Er(this,h),i0(this,p,c))},r)),r.f=s}function s0(r){var s=[];return Hh(new MN,r,s),s.join("")}function MN(){}function Hh(r,s,c){if(s==null)c.push("null");else{if(typeof s=="object"){if(Array.isArray(s)){var h=s;s=h.length,c.push("[");for(var p="",m=0;m<s;m++)c.push(p),Hh(r,h[m],c),p=",";c.push("]");return}if(s instanceof String||s instanceof Number||s instanceof Boolean)s=s.valueOf();else{c.push("{"),p="";for(h in s)Object.prototype.hasOwnProperty.call(s,h)&&(m=s[h],typeof m!="function"&&(c.push(p),a0(h,c),c.push(":"),Hh(r,m,c),p=","));c.push("}");return}}switch(typeof s){case"string":a0(s,c);break;case"number":c.push(isFinite(s)&&!isNaN(s)?String(s):"null");break;case"boolean":c.push(String(s));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof s)}}}var u0={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},FN=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function a0(r,s){s.push('"',r.replace(FN,function(c){var h=u0[c];return h||(h="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),u0[c]=h),h}),'"')}function zh(){var r=We();return sr&&!!si&&si==11||/Edge\/\d+/.test(r)}function bu(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function c0(r,s){s=s||f.window;var c="about:blank";r&&(c=pc(my(r)||wy)),s.location.href=c}function l0(r,s){var c=[],h;for(h in r)h in s?typeof r[h]!=typeof s[h]?c.push(h):typeof r[h]=="object"&&r[h]!=null&&s[h]!=null?0<l0(r[h],s[h]).length&&c.push(h):r[h]!==s[h]&&c.push(h):c.push(h);for(h in s)h in r||c.push(h);return c}function VN(){var r=We();return r=Yo(r)!=p0?null:(r=r.match(/\sChrome\/(\d+)/i))&&r.length==2?parseInt(r[1],10):null,r&&30>r?!1:!sr||!si||9<si}function f0(r){return r=(r||We()).toLowerCase(),!!(r.match(/android/)||r.match(/webos/)||r.match(/iphone|ipad|ipod/)||r.match(/blackberry/)||r.match(/windows phone/)||r.match(/iemobile/))}function Wi(r){r=r||f.window;try{r.close()}catch{}}function h0(r,s,c){var h=Math.floor(1e9*Math.random()).toString();s=s||500,c=c||600;var p=(window.screen.availHeight-c)/2,m=(window.screen.availWidth-s)/2;s={width:s,height:c,top:0<p?p:0,left:0<m?m:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=We().toLowerCase(),h&&(s.target=h,_t(c,"crios/")&&(s.target="_blank")),Yo(We())==Qh&&(r=r||"http://localhost",s.scrollbars=!0),c=r||"",(r=s)||(r={}),h=window,s=c instanceof In?c:my(typeof c.href<"u"?c.href:String(c))||wy,c=r.target||c.target,p=[];for(w in r)switch(w){case"width":case"height":case"top":case"left":p.push(w+"="+r[w]);break;case"target":case"noopener":case"noreferrer":break;default:p.push(w+"="+(r[w]?1:0))}var w=p.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&h.navigator&&h.navigator.standalone&&c&&c!="_self"?(w=vc(document,"A"),en(w,"HTMLAnchorElement"),s=s instanceof In?s:yy(s),w.href=pc(s),w.setAttribute("target",c),r.noreferrer&&w.setAttribute("rel","noreferrer"),r=document.createEvent("MouseEvent"),r.initMouseEvent("click",!0,!0,h,1),w.dispatchEvent(r),w={}):r.noreferrer?(w=_y("",h,c,w),r=pc(s),w&&(aN&&_t(r,";")&&(r="'"+r.replace(/'/g,"%27")+"'"),w.opener=null,r='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ih(r)+'">',r=(h=dy())?h.createHTML(r):r,r=new Ho(r,null,by),h=w.document)&&(h.write(iN(r)),h.close())):(w=_y(s,h,c,w))&&r.noopener&&(w.opener=null),w)try{w.focus()}catch{}return w}function jN(r){return new Kt(function(s){function c(){Go(2e3).then(function(){if(!r||r.closed)s();else return c()})}return c()})}var UN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BN=/^[^@]+@[^@]+$/;function Sc(){var r=null;return new Kt(function(s){f.document.readyState=="complete"?s():(r=function(){s()},Fh(window,"load",r))}).o(function(s){throw Vn(window,"load",r),s})}function qN(){return Gh(void 0)?Sc().then(function(){return new Kt(function(r,s){var c=f.document,h=setTimeout(function(){s(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(h),r()},!1)})}):me(Error("Cordova must run in an Android or iOS file scheme."))}function Gh(r){return r=r||We(),!(Jo()!=="file:"&&Jo()!=="ionic:"||!r.toLowerCase().match(/iphone|ipad|ipod|android/))}function Wh(){var r=f.window;try{return!(!r||r==r.top)}catch{return!1}}function ur(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function Ir(){return xt.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xt.INTERNAL.hasOwnProperty("node")?"Node":ur()?"Worker":"Browser"}function d0(){var r=Ir();return r==="ReactNative"||r==="Node"}function $N(){for(var r=50,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}var Qh="Firefox",p0="Chrome";function Yo(r){var s=r.toLowerCase();if(_t(s,"opera/")||_t(s,"opr/")||_t(s,"opios/"))return"Opera";if(_t(s,"iemobile"))return"IEMobile";if(_t(s,"msie")||_t(s,"trident/"))return"IE";if(_t(s,"edge/"))return"Edge";if(_t(s,"firefox/"))return Qh;if(_t(s,"silk/"))return"Silk";if(_t(s,"blackberry"))return"Blackberry";if(_t(s,"webos"))return"Webos";if(!_t(s,"safari/")||_t(s,"chrome/")||_t(s,"crios/")||_t(s,"android"))if(!_t(s,"chrome/")&&!_t(s,"crios/")||_t(s,"edge/")){if(_t(s,"android"))return"Android";if((r=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&r.length==2)return r[1]}else return p0;else return"Safari";return"Other"}var g0={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Xo(r,s){s=s||[];var c=[],h={},p;for(p in g0)h[g0[p]]=!0;for(p=0;p<s.length;p++)typeof h[s[p]]<"u"&&(delete h[s[p]],c.push(s[p]));return c.sort(),s=c,s.length||(s=["FirebaseCore-web"]),c=Ir(),c==="Browser"?(h=We(),c=Yo(h)):c==="Worker"&&(h=We(),c=Yo(h)+"-"+c),c+"/JsCore/"+r+"/"+s.join(",")}function We(){return f.navigator&&f.navigator.userAgent||""}function ye(r,s){r=r.split("."),s=s||f;for(var c=0;c<r.length&&typeof s=="object"&&s!=null;c++)s=s[r[c]];return c!=r.length&&(s=void 0),s}function Yh(){try{var r=f.localStorage,s=Yi();if(r)return r.setItem(s,"1"),r.removeItem(s),zh()?!!f.indexedDB:!0}catch{return ur()&&!!f.indexedDB}return!1}function Qi(){return(Ac()||Jo()==="chrome-extension:"||Gh())&&!d0()&&Yh()&&!ur()}function Ac(){return Jo()==="http:"||Jo()==="https:"}function Jo(){return f.location&&f.location.protocol||null}function _u(r){return r=r||We(),!(f0(r)||Yo(r)==Qh)}function Eu(r){return typeof r>"u"?null:s0(r)}function v0(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&r[c]!==null&&r[c]!==void 0&&(s[c]=r[c]);return s}function Zo(r){if(r!==null)return JSON.parse(r)}function Yi(r){return r||Math.floor(1e9*Math.random()).toString()}function m0(r){return r=r||We(),!(Yo(r)=="Safari"||r.toLowerCase().match(/iphone|ipad|ipod/))}function y0(){var r=f.___jsl;if(r&&r.H){for(var s in r.H)if(r.H[s].r=r.H[s].r||[],r.H[s].L=r.H[s].L||[],r.H[s].r=r.H[s].L.concat(),r.CP)for(var c=0;c<r.CP.length;c++)r.CP[c]=null}}function ci(r,s){if(r>s)throw Error("Short delay should be less than long delay!");this.a=r,this.c=s,r=We(),s=Ir(),this.b=f0(r)||s==="ReactNative"}ci.prototype.get=function(){var r=f.navigator;return!(r&&typeof r.onLine=="boolean"&&(Ac()||Jo()==="chrome-extension:"||typeof r.connection<"u"))||r.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Xh(){var r=f.document;return r&&typeof r.visibilityState<"u"?r.visibilityState=="visible":!0}function KN(){var r=f.document,s=null;return Xh()||!r?Et():new Kt(function(c){s=function(){Xh()&&(r.removeEventListener("visibilitychange",s,!1),c())},r.addEventListener("visibilitychange",s,!1)}).o(function(c){throw r.removeEventListener("visibilitychange",s,!1),c})}function Iu(r){try{var s=new Date(parseInt(r,10));if(!isNaN(s.getTime())&&!/[^0-9]/.test(r))return s.toUTCString()}catch{}return null}function w0(){return!(!ye("fireauth.oauthhelper",f)&&!ye("fireauth.iframe",f))}function HN(){var r=f.navigator;return r&&r.serviceWorker&&r.serviceWorker.controller||null}function zN(){var r=f.navigator;return r&&r.serviceWorker?Et().then(function(){return r.serviceWorker.ready}).then(function(s){return s.active||null}).o(function(){return null}):Et(null)}var b0={};function Jh(r){b0[r]||(b0[r]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(r))}var Zh;try{var td={};Object.defineProperty(td,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(td,"abcd",{configurable:!0,enumerable:!0,value:2}),Zh=td.abcd==2}catch{Zh=!1}function pt(r,s,c){Zh?Object.defineProperty(r,s,{configurable:!0,enumerable:!0,value:c}):r[s]=c}function pn(r,s){if(s)for(var c in s)s.hasOwnProperty(c)&&pt(r,c,s[c])}function Tr(r){var s={};return pn(s,r),s}function GN(r){var s={},c;for(c in r)r.hasOwnProperty(c)&&(s[c]=r[c]);return s}function WN(r,s){if(!s||!s.length)return!0;if(!r)return!1;for(var c=0;c<s.length;c++){var h=r[s[c]];if(h==null||h==="")return!1}return!0}function ed(r){var s=r;if(typeof r=="object"&&r!=null){s="length"in r?[]:{};for(var c in r)pt(s,c,ed(r[c]))}return s}function nd(r){var s=r&&(r[sd]?"phone":null);if(s&&r&&r[od]){pt(this,"uid",r[od]),pt(this,"displayName",r[_0]||null);var c=null;r[id]&&(c=new Date(r[id]).toUTCString()),pt(this,"enrollmentTime",c),pt(this,"factorId",s)}else throw new A("internal-error","Internal assert: invalid MultiFactorInfo object")}nd.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function rd(r){try{var s=new Tu(r)}catch{s=null}return s}var _0="displayName",id="enrolledAt",od="mfaEnrollmentId",sd="phoneInfo";function Tu(r){nd.call(this,r),pt(this,"phoneNumber",r[sd])}Q(Tu,nd),Tu.prototype.w=function(){var r=Tu.bb.w.call(this);return r.phoneNumber=this.phoneNumber,r};function QN(r){var s={},c=r[YN],h=r[JN],p=r[ZN];if(r=rd(r[XN]),!p||p!=Nc&&p!=Su&&!c||p==Su&&!h||p==ud&&!r)throw Error("Invalid checkActionCode response!");p==Su?(s[I0]=c||null,s[T0]=c||null,s[E0]=h):(s[I0]=h||null,s[T0]=h||null,s[E0]=c||null),s[tk]=r||null,pt(this,nk,p),pt(this,ek,ed(s))}var ud="REVERT_SECOND_FACTOR_ADDITION",Nc="EMAIL_SIGNIN",Su="VERIFY_AND_CHANGE_EMAIL",YN="email",XN="mfaInfo",JN="newEmail",ZN="requestType",E0="email",I0="fromEmail",tk="multiFactorInfo",T0="previousEmail",ek="data",nk="operation";function ad(r){r=Sn(r);var s=er(r,S0)||null,c=er(r,A0)||null,h=er(r,N0)||null;if(h=h&&sk[h]||null,!s||!c||!h)throw new A("argument-error",S0+", "+A0+"and "+N0+" are required in a valid action code URL.");pn(this,{apiKey:s,operation:h,code:c,continueUrl:er(r,rk)||null,languageCode:er(r,ik)||null,tenantId:er(r,ok)||null})}var S0="apiKey",A0="oobCode",rk="continueUrl",ik="languageCode",N0="mode",ok="tenantId",sk={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ud,signIn:Nc,verifyAndChangeEmail:Su,verifyEmail:"VERIFY_EMAIL"};function k0(r){try{return new ad(r)}catch{return null}}function kc(r){var s=r[uk];if(typeof s>"u")throw new A("missing-continue-uri");if(typeof s!="string"||typeof s=="string"&&!s.length)throw new A("invalid-continue-uri");this.h=s,this.b=this.a=null,this.g=!1;var c=r[x0];if(c&&typeof c=="object"){s=c[P0];var h=c[R0];if(c=c[D0],typeof s=="string"&&s.length){if(this.a=s,typeof h<"u"&&typeof h!="boolean")throw new A("argument-error",R0+" property must be a boolean when specified.");if(this.g=!!h,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new A("argument-error",D0+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof s<"u")throw new A("argument-error",P0+" property must be a non empty string when specified.");if(typeof h<"u"||typeof c<"u")throw new A("missing-android-pkg-name")}}else if(typeof c<"u")throw new A("argument-error",x0+" property must be a non null object when specified.");if(this.f=null,(s=r[O0])&&typeof s=="object"){if(s=s[L0],typeof s=="string"&&s.length)this.f=s;else if(typeof s<"u")throw new A("argument-error",L0+" property must be a non empty string when specified.")}else if(typeof s<"u")throw new A("argument-error",O0+" property must be a non null object when specified.");if(s=r[cd],typeof s<"u"&&typeof s!="boolean")throw new A("argument-error",cd+" property must be a boolean when specified.");if(this.c=!!s,r=r[C0],typeof r<"u"&&(typeof r!="string"||typeof r=="string"&&!r.length))throw new A("argument-error",C0+" property must be a non empty string when specified.");this.i=r||null}var x0="android",C0="dynamicLinkDomain",cd="handleCodeInApp",O0="iOS",uk="url",R0="installApp",D0="minimumVersion",P0="packageName",L0="bundleId";function xc(r){var s={};s.continueUrl=r.h,s.canHandleCodeInApp=r.c,(s.androidPackageName=r.a)&&(s.androidMinimumVersion=r.b,s.androidInstallApp=r.g),s.iOSBundleId=r.f,s.dynamicLinkDomain=r.i;for(var c in s)s[c]===null&&delete s[c];return s}function ak(r){return Rt(r,function(s){return s=s.toString(16),1<s.length?s:"0"+s}).join("")}var Au=null;function ck(r){var s=[];return lk(r,function(c){s.push(c)}),s}function lk(r,s){function c(L){for(;h<r.length;){var H=r.charAt(h++),Ct=Au[H];if(Ct!=null)return Ct;if(!/^[\s\xa0]*$/.test(H))throw Error("Unknown base64 encoding at char: "+H)}return L}fk();for(var h=0;;){var p=c(-1),m=c(0),w=c(64),E=c(64);if(E===64&&p===-1)break;s(p<<2|m>>4),w!=64&&(s(m<<4&240|w>>2),E!=64&&s(w<<6&192|E))}}function fk(){if(!Au){Au={};for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),s=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var h=r.concat(s[c].split("")),p=0;p<h.length;p++){var m=h[p];Au[m]===void 0&&(Au[m]=p)}}}function Cc(r){var s=M0(r);if(!(s&&s.sub&&s.iss&&s.aud&&s.exp))throw Error("Invalid JWT");this.h=r,this.a=s.exp,this.i=s.sub,r=Date.now()/1e3,this.g=s.iat||(r>this.a?this.a:r),this.b=s.provider_id||s.firebase&&s.firebase.sign_in_provider||null,this.f=s.firebase&&s.firebase.tenant||null,this.c=!!s.is_anonymous||this.b=="anonymous"}Cc.prototype.T=function(){return this.f},Cc.prototype.l=function(){return this.c},Cc.prototype.toString=function(){return this.h};function Oc(r){try{return new Cc(r)}catch{return null}}function M0(r){if(!r||(r=r.split("."),r.length!=3))return null;r=r[1];for(var s=(4-r.length%4)%4,c=0;c<s;c++)r+=".";try{var h=ck(r);for(r=[],c=s=0;s<h.length;){var p=h[s++];if(128>p)r[c++]=String.fromCharCode(p);else if(191<p&&224>p){var m=h[s++];r[c++]=String.fromCharCode((p&31)<<6|m&63)}else if(239<p&&365>p){m=h[s++];var w=h[s++],E=h[s++],L=((p&7)<<18|(m&63)<<12|(w&63)<<6|E&63)-65536;r[c++]=String.fromCharCode(55296+(L>>10)),r[c++]=String.fromCharCode(56320+(L&1023))}else m=h[s++],w=h[s++],r[c++]=String.fromCharCode((p&15)<<12|(m&63)<<6|w&63)}return JSON.parse(r.join(""))}catch{}return null}var F0="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Rc=["client_id","response_type","scope","redirect_uri","state"],ld={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Rc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Rc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Rc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:F0},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function fd(r){for(var s in ld)if(ld[s].fa==r)return ld[s];return null}function V0(r){var s={};s["facebook.com"]=U0,s["google.com"]=q0,s["github.com"]=B0,s["twitter.com"]=$0;var c=r&&r[j0];try{if(c)return s[c]?new s[c](r):new Sr(r);if(typeof r[hd]<"u")return new dd(r)}catch{}return null}var hd="idToken",j0="providerId";function dd(r){var s=r[j0];if(!s&&r[hd]){var c=Oc(r[hd]);c&&c.b&&(s=c.b)}if(!s)throw Error("Invalid additional user info!");(s=="anonymous"||s=="custom")&&(s=null),c=!1,typeof r.isNewUser<"u"?c=!!r.isNewUser:r.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),pt(this,"providerId",s),pt(this,"isNewUser",c)}function Sr(r){dd.call(this,r),r=Zo(r.rawUserInfo||"{}"),pt(this,"profile",ed(r||{}))}Q(Sr,dd);function U0(r){if(Sr.call(this,r),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}Q(U0,Sr);function B0(r){if(Sr.call(this,r),this.providerId!="github.com")throw Error("Invalid provider ID!");pt(this,"username",this.profile&&this.profile.login||null)}Q(B0,Sr);function q0(r){if(Sr.call(this,r),this.providerId!="google.com")throw Error("Invalid provider ID!")}Q(q0,Sr);function $0(r){if(Sr.call(this,r),this.providerId!="twitter.com")throw Error("Invalid provider ID!");pt(this,"username",r.screenName||null)}Q($0,Sr);function K0(r){var s=Sn(r),c=er(s,"link"),h=er(Sn(c),"link");return s=er(s,"deep_link_id"),er(Sn(s),"link")||s||h||c||r}function Dc(r,s){if(!r&&!s)throw new A("internal-error","Internal assert: no raw session string available");if(r&&s)throw new A("internal-error","Internal assert: unable to determine the session type");this.a=r||null,this.b=s||null,this.type=this.a?Nu:Pc}var Nu="enroll",Pc="signin";Dc.prototype.Ha=function(){return this.a?Et(this.a):Et(this.b)},Dc.prototype.w=function(){return this.type==Nu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function ts(){}ts.prototype.ka=function(){},ts.prototype.b=function(){},ts.prototype.c=function(){},ts.prototype.w=function(){};function es(r,s){return r.then(function(c){if(c[lr]){var h=Oc(c[lr]);if(!h||s!=h.i)throw new A("user-mismatch");return c}throw new A("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==oe+"user-not-found"?new A("user-mismatch"):c})}function Xi(r,s){if(s)this.a=s;else throw new A("internal-error","failed to construct a credential");pt(this,"providerId",r),pt(this,"signInMethod",r)}Xi.prototype.ka=function(r){return Fd(r,pd(this))},Xi.prototype.b=function(r,s){var c=pd(this);return c.idToken=s,Vd(r,c)},Xi.prototype.c=function(r,s){return es(jd(r,pd(this)),s)};function pd(r){return{pendingToken:r.a,requestUri:"http://localhost"}}Xi.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function hk(r){if(r&&r.providerId&&r.signInMethod&&r.providerId.indexOf("saml.")==0&&r.pendingToken)try{return new Xi(r.providerId,r.pendingToken)}catch{}return null}function Br(r,s,c){if(this.a=null,s.idToken||s.accessToken)s.idToken&&pt(this,"idToken",s.idToken),s.accessToken&&pt(this,"accessToken",s.accessToken),s.nonce&&!s.pendingToken&&pt(this,"nonce",s.nonce),s.pendingToken&&(this.a=s.pendingToken);else if(s.oauthToken&&s.oauthTokenSecret)pt(this,"accessToken",s.oauthToken),pt(this,"secret",s.oauthTokenSecret);else throw new A("internal-error","failed to construct a credential");pt(this,"providerId",r),pt(this,"signInMethod",c)}Br.prototype.ka=function(r){return Fd(r,gd(this))},Br.prototype.b=function(r,s){var c=gd(this);return c.idToken=s,Vd(r,c)},Br.prototype.c=function(r,s){var c=gd(this);return es(jd(r,c),s)};function gd(r){var s={};return r.idToken&&(s.id_token=r.idToken),r.accessToken&&(s.access_token=r.accessToken),r.secret&&(s.oauth_token_secret=r.secret),s.providerId=r.providerId,r.nonce&&!r.a&&(s.nonce=r.nonce),s={postBody:r0(s).toString(),requestUri:"http://localhost"},r.a&&(delete s.postBody,s.pendingToken=r.a),s}Br.prototype.w=function(){var r={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(r.oauthIdToken=this.idToken),this.accessToken&&(r.oauthAccessToken=this.accessToken),this.secret&&(r.oauthTokenSecret=this.secret),this.nonce&&(r.nonce=this.nonce),this.a&&(r.pendingToken=this.a),r};function dk(r){if(r&&r.providerId&&r.signInMethod){var s={idToken:r.oauthIdToken,accessToken:r.oauthTokenSecret?null:r.oauthAccessToken,oauthTokenSecret:r.oauthTokenSecret,oauthToken:r.oauthTokenSecret&&r.oauthAccessToken,nonce:r.nonce,pendingToken:r.pendingToken};try{return new Br(r.providerId,s,r.signInMethod)}catch{}}return null}function Ji(r,s){this.Qc=s||[],pn(this,{providerId:r,isOAuthProvider:!0}),this.Jb={},this.qb=(fd(r)||{}).Ja||null,this.pb=null}Ji.prototype.Ka=function(r){return this.Jb=kt(r),this};function H0(r){if(typeof r!="string"||r.indexOf("saml.")!=0)throw new A("argument-error",'SAML provider IDs must be prefixed with "saml."');Ji.call(this,r,[])}Q(H0,Ji);function jn(r){Ji.call(this,r,Rc),this.a=[]}Q(jn,Ji),jn.prototype.Ca=function(r){return C(this.a,r)||this.a.push(r),this},jn.prototype.Rb=function(){return nt(this.a)},jn.prototype.credential=function(r,s){var c;if(N(r)?c={idToken:r.idToken||null,accessToken:r.accessToken||null,nonce:r.rawNonce||null}:c={idToken:r||null,accessToken:s||null},!c.idToken&&!c.accessToken)throw new A("argument-error","credential failed: must provide the ID token and/or the access token.");return new Br(this.providerId,c,this.providerId)};function Zi(){jn.call(this,"facebook.com")}Q(Zi,jn),pt(Zi,"PROVIDER_ID","facebook.com"),pt(Zi,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function z0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new Zi().credential({accessToken:s})}function to(){jn.call(this,"github.com")}Q(to,jn),pt(to,"PROVIDER_ID","github.com"),pt(to,"GITHUB_SIGN_IN_METHOD","github.com");function G0(r){if(!r)throw new A("argument-error","credential failed: expected 1 argument (the OAuth access token).");var s=r;return N(r)&&(s=r.accessToken),new to().credential({accessToken:s})}function eo(){jn.call(this,"google.com"),this.Ca("profile")}Q(eo,jn),pt(eo,"PROVIDER_ID","google.com"),pt(eo,"GOOGLE_SIGN_IN_METHOD","google.com");function W0(r,s){var c=r;return N(r)&&(c=r.idToken,s=r.accessToken),new eo().credential({idToken:c,accessToken:s})}function ns(){Ji.call(this,"twitter.com",F0)}Q(ns,Ji),pt(ns,"PROVIDER_ID","twitter.com"),pt(ns,"TWITTER_SIGN_IN_METHOD","twitter.com");function Q0(r,s){var c=r;if(N(c)||(c={oauthToken:r,oauthTokenSecret:s}),!c.oauthToken||!c.oauthTokenSecret)throw new A("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Br("twitter.com",c,"twitter.com")}function li(r,s,c){this.a=r,this.f=s,pt(this,"providerId","password"),pt(this,"signInMethod",c===nr.EMAIL_LINK_SIGN_IN_METHOD?nr.EMAIL_LINK_SIGN_IN_METHOD:nr.EMAIL_PASSWORD_SIGN_IN_METHOD)}li.prototype.ka=function(r){return this.signInMethod==nr.EMAIL_LINK_SIGN_IN_METHOD?Ht(r,Xk,{email:this.a,oobCode:this.f}):Ht(r,Iw,{email:this.a,password:this.f})},li.prototype.b=function(r,s){return this.signInMethod==nr.EMAIL_LINK_SIGN_IN_METHOD?Ht(r,Jk,{idToken:s,email:this.a,oobCode:this.f}):Ht(r,Ew,{idToken:s,email:this.a,password:this.f})},li.prototype.c=function(r,s){return es(this.ka(r),s)},li.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function pk(r){return r&&r.email&&r.password?new li(r.email,r.password,r.signInMethod):null}function nr(){pn(this,{providerId:"password",isOAuthProvider:!1})}function Y0(r,s){if(s=vd(s),!s)throw new A("argument-error","Invalid email link!");return new li(r,s.code,nr.EMAIL_LINK_SIGN_IN_METHOD)}function vd(r){return r=K0(r),(r=k0(r))&&r.operation===Nc?r:null}pn(nr,{PROVIDER_ID:"password"}),pn(nr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),pn(nr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function fi(r){if(!(r.fb&&r.eb||r.La&&r.ea))throw new A("internal-error");this.a=r,pt(this,"providerId","phone"),this.fa="phone",pt(this,"signInMethod","phone")}fi.prototype.ka=function(r){return r.gb(ku(this))},fi.prototype.b=function(r,s){var c=ku(this);return c.idToken=s,Ht(r,yx,c)},fi.prototype.c=function(r,s){var c=ku(this);return c.operation="REAUTH",r=Ht(r,wx,c),es(r,s)},fi.prototype.w=function(){var r={providerId:"phone"};return this.a.fb&&(r.verificationId=this.a.fb),this.a.eb&&(r.verificationCode=this.a.eb),this.a.La&&(r.temporaryProof=this.a.La),this.a.ea&&(r.phoneNumber=this.a.ea),r};function gk(r){if(r&&r.providerId==="phone"&&(r.verificationId&&r.verificationCode||r.temporaryProof&&r.phoneNumber)){var s={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){r[c]&&(s[c]=r[c])}),new fi(s)}return null}function ku(r){return r.a.La&&r.a.ea?{temporaryProof:r.a.La,phoneNumber:r.a.ea}:{sessionInfo:r.a.fb,code:r.a.eb}}function qr(r){try{this.a=r||xt.auth()}catch{throw new A("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}pn(this,{providerId:"phone",isOAuthProvider:!1})}qr.prototype.gb=function(r,s){var c=this.a.a;return Et(s.verify()).then(function(h){if(typeof h!="string")throw new A("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(s.type){case"recaptcha":var p=N(r)?r.session:null,m=N(r)?r.phoneNumber:r,w;return p&&p.type==Nu?w=p.Ha().then(function(E){return qk(c,{idToken:E,phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:h}})}):p&&p.type==Pc?w=p.Ha().then(function(E){return $k(c,{mfaPendingCredential:E,mfaEnrollmentId:r.multiFactorHint&&r.multiFactorHint.uid||r.multiFactorUid,phoneSignInInfo:{recaptchaToken:h}})}):w=Bk(c,{phoneNumber:m,recaptchaToken:h}),w.then(function(E){return typeof s.reset=="function"&&s.reset(),E},function(E){throw typeof s.reset=="function"&&s.reset(),E});default:throw new A("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function X0(r,s){if(!r)throw new A("missing-verification-id");if(!s)throw new A("missing-verification-code");return new fi({fb:r,eb:s})}pn(qr,{PROVIDER_ID:"phone"}),pn(qr,{PHONE_SIGN_IN_METHOD:"phone"});function md(r){if(r.temporaryProof&&r.phoneNumber)return new fi({La:r.temporaryProof,ea:r.phoneNumber});var s=r&&r.providerId;if(!s||s==="password")return null;var c=r&&r.oauthAccessToken,h=r&&r.oauthTokenSecret,p=r&&r.nonce,m=r&&r.oauthIdToken,w=r&&r.pendingToken;try{switch(s){case"google.com":return W0(m,c);case"facebook.com":return z0(c);case"github.com":return G0(c);case"twitter.com":return Q0(c,h);default:return c||h||m||w?w?s.indexOf("saml.")==0?new Xi(s,w):new Br(s,{pendingToken:w,idToken:r.oauthIdToken,accessToken:r.oauthAccessToken},s):new jn(s).credential({idToken:m,accessToken:c,rawNonce:p}):null}}catch{return null}}function yd(r){if(!r.isOAuthProvider)throw new A("invalid-oauth-provider")}function ar(r,s,c,h,p,m,w){if(this.c=r,this.b=s||null,this.g=c||null,this.f=h||null,this.i=m||null,this.h=w||null,this.a=p||null,this.g||this.a){if(this.g&&this.a)throw new A("invalid-auth-event");if(this.g&&!this.f)throw new A("invalid-auth-event")}else throw new A("invalid-auth-event")}ar.prototype.getUid=function(){var r=[];return r.push(this.c),this.b&&r.push(this.b),this.f&&r.push(this.f),this.h&&r.push(this.h),r.join("-")},ar.prototype.T=function(){return this.h},ar.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function J0(r){return r=r||{},r.type?new ar(r.type,r.eventId,r.urlResponse,r.sessionId,r.error&&Wt(r.error),r.postBody,r.tenantId):null}function vk(){this.b=null,this.a=[]}var wd=null;function mk(r){var s=wd;s.a.push(r),s.b||(s.b=function(c){for(var h=0;h<s.a.length;h++)s.a[h](c)},r=ye("universalLinks.subscribe",f),typeof r=="function"&&r(null,s.b))}function bd(r){var s="unauthorized-domain",c=void 0,h=Sn(r);r=h.a,h=h.c,h=="chrome-extension"?c=Ey("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):h=="http"||h=="https"?c=Ey("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",r):s="operation-not-supported-in-this-environment",A.call(this,s,c)}Q(bd,A);function xu(r,s,c){A.call(this,r,c),r=s||{},r.Kb&&pt(this,"email",r.Kb),r.ea&&pt(this,"phoneNumber",r.ea),r.credential&&pt(this,"credential",r.credential),r.$b&&pt(this,"tenantId",r.$b)}Q(xu,A),xu.prototype.w=function(){var r={code:this.code,message:this.message};this.email&&(r.email=this.email),this.phoneNumber&&(r.phoneNumber=this.phoneNumber),this.tenantId&&(r.tenantId=this.tenantId);var s=this.credential&&this.credential.w();return s&&Dt(r,s),r},xu.prototype.toJSON=function(){return this.w()};function Lc(r){if(r.code){var s=r.code||"";s.indexOf(oe)==0&&(s=s.substring(oe.length));var c={credential:md(r),$b:r.tenantId};if(r.email)c.Kb=r.email;else if(r.phoneNumber)c.ea=r.phoneNumber;else if(!c.credential)return new A(s,r.message||void 0);return new xu(s,c,r.message)}return null}function Cu(){}Cu.prototype.c=null;function Z0(r){return r.c||(r.c=r.b())}var _d;function Mc(){}Q(Mc,Cu),Mc.prototype.a=function(){var r=tw(this);return r?new ActiveXObject(r):new XMLHttpRequest},Mc.prototype.b=function(){var r={};return tw(this)&&(r[0]=!0,r[1]=!0),r};function tw(r){if(!r.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var s=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<s.length;c++){var h=s[c];try{return new ActiveXObject(h),r.f=h}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return r.f}_d=new Mc;function Fc(){}Q(Fc,Cu),Fc.prototype.a=function(){var r=new XMLHttpRequest;if("withCredentials"in r)return r;if(typeof XDomainRequest<"u")return new ew;throw Error("Unsupported browser")},Fc.prototype.b=function(){return{}};function ew(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}t=ew.prototype,t.open=function(r,s,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(r,s)},t.send=function(r){if(r)if(typeof r=="string")this.a.send(r);else throw Error("Only string data is supported");else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(r){return r.toLowerCase()=="content-type"?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Ed(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Ed(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Ed(this,1)};function Ed(r,s){r.readyState=s,r.onreadystatechange&&r.onreadystatechange()}t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function Id(r,s,c){this.reset(r,s,c,void 0,void 0)}Id.prototype.a=null,Id.prototype.reset=function(r,s,c,h,p){delete this.a};function Td(r){this.f=r,this.b=this.c=this.a=null}function Ou(r,s){this.name=r,this.value=s}Ou.prototype.toString=function(){return this.name};var nw=new Ou("SEVERE",1e3),Sd=new Ou("WARNING",900),yk=new Ou("CONFIG",700),wk=new Ou("FINE",500);function rw(r){return r.c?r.c:r.a?rw(r.a):(Ie("Root logger has no level set."),null)}Td.prototype.log=function(r,s,c){if(r.value>=rw(this).value)for(T(s)&&(s=s()),r=new Id(r,String(s),this.f),c&&(r.a=c),c=this;c;)c=c.a};var Ad={},Vc=null;function Nd(r){Vc||(Vc=new Td(""),Ad[""]=Vc,Vc.c=yk);var s;if(!(s=Ad[r])){s=new Td(r);var c=r.lastIndexOf("."),h=r.substr(c+1);c=Nd(r.substr(0,c)),c.b||(c.b={}),c.b[h]=s,s.a=c,Ad[r]=s}return s}function rr(r,s){r&&r.log(wk,s,void 0)}function jc(r){this.f=r}Q(jc,Cu),jc.prototype.a=function(){return new Uc(this.f)},jc.prototype.b=function(r){return function(){return r}}({});function Uc(r){dn.call(this),this.u=r,this.h=void 0,this.readyState=kd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Nd("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}Q(Uc,dn);var kd=0;t=Uc.prototype,t.open=function(r,s){if(this.readyState!=kd)throw this.abort(),Error("Error reopening a connection");this.s=r,this.f=s,this.readyState=1,Du(this)},t.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var s={headers:this.l,method:this.s,credentials:this.h,cache:void 0};r&&(s.body=r),this.u.fetch(new Request(this.f,s)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,Ru(this)),this.readyState=kd},t.uc=function(r){this.a&&(this.g=r,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=r.headers,this.readyState=2,Du(this)),this.a&&(this.readyState=3,Du(this),this.a&&(this.responseType==="arraybuffer"?r.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in r?(this.response=this.responseText="",this.c=r.body.getReader(),this.m=new TextDecoder,iw(this)):r.text().then(this.tc.bind(this),this.Va.bind(this)))))};function iw(r){r.c.read().then(r.pc.bind(r)).catch(r.Va.bind(r))}t.pc=function(r){if(this.a){var s=this.m.decode(r.value?r.value:new Uint8Array(0),{stream:!r.done});s&&(this.response=this.responseText+=s),r.done?Ru(this):Du(this),this.readyState==3&&iw(this)}},t.tc=function(r){this.a&&(this.response=this.responseText=r,Ru(this))},t.sc=function(r){this.a&&(this.response=r,Ru(this))},t.Va=function(r){var s=this.i;s&&s.log(Sd,"Failed to fetch url "+this.f,r instanceof Error?r:Error(r)),this.a&&Ru(this)};function Ru(r){r.readyState=4,r.g=null,r.c=null,r.m=null,Du(r)}t.setRequestHeader=function(r,s){this.l.append(r,s)},t.getResponseHeader=function(r){return this.b?this.b.get(r.toLowerCase())||"":((r=this.i)&&r.log(Sd,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var r=this.i;return r&&r.log(Sd,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}r=[];for(var s=this.b.entries(),c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Du(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Uc.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(r){this.h=r?"include":"same-origin"}});function Pu(r){dn.call(this),this.headers=new Wo,this.D=r||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ow,this.u=this.S=!1}Q(Pu,dn);var ow="";Pu.prototype.b=Nd("goog.net.XhrIo");var bk=/^https?$/i,_k=["POST","PUT"];function Ek(r,s,c,h,p){if(r.a)throw Error("[goog.net.XhrIo] Object is active with another request="+r.l+"; newUri="+s);c=c?c.toUpperCase():"GET",r.l=s,r.h="",r.P=c,r.J=!1,r.c=!0,r.a=r.D?r.D.a():_d.a(),r.C=r.D?Z0(r.D):Z0(_d),r.a.onreadystatechange=V(r.Wb,r);try{rr(r.b,$r(r,"Opening Xhr")),r.N=!0,r.a.open(c,String(s),!0),r.N=!1}catch(w){rr(r.b,$r(r,"Error opening Xhr: "+w.message)),sw(r,w);return}s=h||"";var m=new Wo(r.headers);p&&kN(p,function(w,E){m.set(E,w)}),p=S(m.Y()),h=f.FormData&&s instanceof f.FormData,!C(_k,c)||p||h||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(w,E){this.a.setRequestHeader(E,w)},r),r.m&&(r.a.responseType=r.m),"withCredentials"in r.a&&r.a.withCredentials!==r.S&&(r.a.withCredentials=r.S);try{cw(r),0<r.g&&(r.u=Ik(r.a),rr(r.b,$r(r,"Will abort after "+r.g+"ms if incomplete, xhr2 "+r.u)),r.u?(r.a.timeout=r.g,r.a.ontimeout=V(r.Ma,r)):r.s=Bh(r.Ma,r.g,r)),rr(r.b,$r(r,"Sending request")),r.i=!0,r.a.send(s),r.i=!1}catch(w){rr(r.b,$r(r,"Send error: "+w.message)),sw(r,w)}}function Ik(r){return sr&&Ay(9)&&typeof r.timeout=="number"&&r.ontimeout!==void 0}function Tk(r){return r.toLowerCase()=="content-type"}t=Pu.prototype,t.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",rr(this.b,$r(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function sw(r,s){r.c=!1,r.a&&(r.f=!0,r.a.abort(),r.f=!1),r.h=s,uw(r),Bc(r)}function uw(r){r.J||(r.J=!0,r.dispatchEvent("complete"),r.dispatchEvent("error"))}t.abort=function(){this.a&&this.c&&(rr(this.b,$r(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Bc(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Bc(this,!0)),Pu.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?aw(this):this.Jc())},t.Jc=function(){aw(this)};function aw(r){if(r.c&&typeof l<"u"){if(r.C[1]&&Lu(r)==4&&qc(r)==2)rr(r.b,$r(r,"Local request error detected and ignored"));else if(r.i&&Lu(r)==4)Bh(r.Wb,0,r);else if(r.dispatchEvent("readystatechange"),Lu(r)==4){rr(r.b,$r(r,"Request complete")),r.c=!1;try{var s=qc(r);t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break t;default:c=!1}var h;if(!(h=c)){var p;if(p=s===0){var m=String(r.l).match(e0)[1]||null;if(!m&&f.self&&f.self.location){var w=f.self.location.protocol;m=w.substr(0,w.length-1)}p=!bk.test(m?m.toLowerCase():"")}h=p}if(h)r.dispatchEvent("complete"),r.dispatchEvent("success");else{try{var E=2<Lu(r)?r.a.statusText:""}catch(L){rr(r.b,"Can not get status: "+L.message),E=""}r.h=E+" ["+qc(r)+"]",uw(r)}}finally{Bc(r)}}}}function Bc(r,s){if(r.a){cw(r);var c=r.a,h=r.C[0]?y:null;r.a=null,r.C=null,s||r.dispatchEvent("ready");try{c.onreadystatechange=h}catch(p){(r=r.b)&&r.log(nw,"Problem encountered resetting onreadystatechange: "+p.message,void 0)}}}function cw(r){r.a&&r.u&&(r.a.ontimeout=null),r.s&&(f.clearTimeout(r.s),r.s=null)}function Lu(r){return r.a?r.a.readyState:0}function qc(r){try{return 2<Lu(r)?r.a.status:-1}catch{return-1}}function Sk(r){try{return r.a?r.a.responseText:""}catch(s){return rr(r.b,"Can not get responseText: "+s.message),""}}t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ow:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var r=this.b;return r&&r.log(nw,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(s){return rr(this.b,"Can not get response: "+s.message),null}};function $r(r,s){return s+" ["+r.P+" "+r.l+" "+qc(r)+"]"}function no(r){var s=kk;this.g=[],this.u=s,this.s=r||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}no.prototype.cancel=function(r){if(this.a)this.c instanceof no&&this.c.cancel();else{if(this.b){var s=this.b;delete this.b,r?s.cancel(r):(s.l--,0>=s.l&&s.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(r=new Fu,$c(this),Mu(this,!1,r))}},no.prototype.m=function(r,s){this.i=!1,Mu(this,r,s)};function Mu(r,s,c){r.a=!0,r.c=c,r.f=!s,fw(r)}function $c(r){if(r.a){if(!r.v)throw new Kc;r.v=!1}}function Ak(r,s){xd(r,null,s,void 0)}function xd(r,s,c,h){r.g.push([s,c,h]),r.a&&fw(r)}no.prototype.then=function(r,s,c){var h,p,m=new Kt(function(w,E){h=w,p=E});return xd(this,h,function(w){w instanceof Fu?m.cancel():p(w)}),m.then(r,s,c)},no.prototype.$goog_Thenable=!0;function lw(r){return I(r.g,function(s){return T(s[1])})}function fw(r){if(r.h&&r.a&&lw(r)){var s=r.h,c=Hc[s];c&&(f.clearTimeout(c.a),delete Hc[s]),r.h=0}r.b&&(r.b.l--,delete r.b),s=r.c;for(var h=c=!1;r.g.length&&!r.i;){var p=r.g.shift(),m=p[0],w=p[1];if(p=p[2],m=r.f?w:m)try{var E=m.call(p||r.s,s);E!==void 0&&(r.f=r.f&&(E==s||E instanceof Error),r.c=s=E),(Lt(s)||typeof f.Promise=="function"&&s instanceof f.Promise)&&(h=!0,r.i=!0)}catch(L){s=L,r.f=!0,lw(r)||(c=!0)}}r.c=s,h&&(E=V(r.m,r,!0),h=V(r.m,r,!1),s instanceof no?(xd(s,E,h),s.C=!0):s.then(E,h)),c&&(s=new hw(s),Hc[s.a]=s,r.h=s.a)}function Kc(){gt.call(this)}Q(Kc,gt),Kc.prototype.message="Deferred has already fired",Kc.prototype.name="AlreadyCalledError";function Fu(){gt.call(this)}Q(Fu,gt),Fu.prototype.message="Deferred was canceled",Fu.prototype.name="CanceledError";function hw(r){this.a=f.setTimeout(V(this.c,this),0),this.b=r}hw.prototype.c=function(){throw delete Hc[this.a],this.b};var Hc={};function Cd(r){var s={},c=s.document||document,h=py(r).toString(),p=vc(document,"SCRIPT"),m={Xb:p,Ma:void 0},w=new no(m),E=null,L=s.timeout!=null?s.timeout:5e3;return 0<L&&(E=window.setTimeout(function(){zc(p,!0);var H=new Od(Ck,"Timeout reached for loading script "+h);$c(w),Mu(w,!1,H)},L),m.Ma=E),p.onload=p.onreadystatechange=function(){p.readyState&&p.readyState!="loaded"&&p.readyState!="complete"||(zc(p,s.xd||!1,E),$c(w),Mu(w,!0,null))},p.onerror=function(){zc(p,!0,E);var H=new Od(xk,"Error while loading script "+h);$c(w),Mu(w,!1,H)},m=s.attributes||{},Dt(m,{type:"text/javascript",charset:"UTF-8"}),ky(p,m),oN(p,r),Nk(c).appendChild(p),w}function Nk(r){var s;return(s=(r||document).getElementsByTagName("HEAD"))&&s.length!=0?s[0]:r.documentElement}function kk(){if(this&&this.Xb){var r=this.Xb;r&&r.tagName=="SCRIPT"&&zc(r,!0,this.Ma)}}function zc(r,s,c){c!=null&&f.clearTimeout(c),r.onload=y,r.onerror=y,r.onreadystatechange=y,s&&window.setTimeout(function(){r&&r.parentNode&&r.parentNode.removeChild(r)},0)}var xk=0,Ck=1;function Od(r,s){var c="Jsloader error (code #"+r+")";s&&(c+=": "+s),gt.call(this,c),this.code=r}Q(Od,gt);function Gc(r){this.f=r}Q(Gc,Cu),Gc.prototype.a=function(){return new this.f},Gc.prototype.b=function(){return{}};function cr(r,s,c){if(this.c=r,r=s||{},this.l=r.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=r.secureTokenTimeout||Ok,this.g=kt(r.secureTokenHeaders||Rk),this.h=r.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=r.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=r.firebaseTimeout||Dk,this.a=kt(r.firebaseHeaders||Pk),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=Ir()=="Node",c=f.XMLHttpRequest||c&&xt.INTERNAL.node&&xt.INTERNAL.node.XMLHttpRequest,!c&&!ur())throw new A("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,ur()?this.f=new jc(self):d0()?this.f=new Gc(c):this.f=new Fc,this.b=null}var Rd,lr="idToken",Ok=new ci(3e4,6e4),Rk={"Content-Type":"application/x-www-form-urlencoded"},Dk=new ci(3e4,6e4),Pk={"Content-Type":"application/json"};function dw(r,s){s?r.a["X-Firebase-Locale"]=s:delete r.a["X-Firebase-Locale"]}function Wc(r,s){s&&(r.l=Dd("https://securetoken.googleapis.com/v1/token",s),r.h=Dd("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",s),r.i=Dd("https://identitytoolkit.googleapis.com/v2/",s))}function Dd(r,s){return r=Sn(r),s=Sn(s.url),r.f=r.a+r.f,vu(r,s.c),r.a=s.a,mu(r,s.g),r.toString()}function pw(r,s){s?(r.a["X-Client-Version"]=s,r.g["X-Client-Version"]=s):(delete r.a["X-Client-Version"],delete r.g["X-Client-Version"])}cr.prototype.T=function(){return this.b};function gw(r,s,c,h,p,m,w){VN()||ur()?r=V(r.u,r):(Rd||(Rd=new Kt(function(E,L){Mk(E,L)})),r=V(r.s,r)),r(s,c,h,p,m,w)}cr.prototype.u=function(r,s,c,h,p,m){if(ur()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new A("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var w=new Pu(this.f);if(m){w.g=Math.max(0,m);var E=setTimeout(function(){w.dispatchEvent("timeout")},m)}Jy(w,"complete",function(){E&&clearTimeout(E);var L=null;try{L=JSON.parse(Sk(this))||null}catch{L=null}s&&s(L)}),Uh(w,"ready",function(){E&&clearTimeout(E),Hy(this)}),Uh(w,"timeout",function(){E&&clearTimeout(E),Hy(this),s&&s(null)}),Ek(w,r,c,h,p)};var Lk=new nn(hc,"https://apis.google.com/js/client.js?onload=%{onload}"),vw="__fcb"+Math.floor(1e6*Math.random()).toString();function Mk(r,s){if(((window.gapi||{}).client||{}).request)r();else{f[vw]=function(){((window.gapi||{}).client||{}).request?r():s(Error("CORS_UNSUPPORTED"))};var c=Eh(Lk,{onload:vw});Ak(Cd(c),function(){s(Error("CORS_UNSUPPORTED"))})}}cr.prototype.s=function(r,s,c,h,p){var m=this;Rd.then(function(){window.gapi.client.setApiKey(m.c);var w=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:r,method:c,body:h,headers:p,authType:"none",callback:function(E){window.gapi.auth.setToken(w),s&&s(E)}})}).o(function(w){s&&s({error:{message:w&&w.message||"CORS_UNSUPPORTED"}})})};function Fk(r,s){return new Kt(function(c,h){s.grant_type=="refresh_token"&&s.refresh_token||s.grant_type=="authorization_code"&&s.code?gw(r,r.l+"?key="+encodeURIComponent(r.c),function(p){p?p.error?h(Bd(p)):p.access_token&&p.refresh_token?c(p):h(new A("internal-error")):h(new A("network-request-failed"))},"POST",r0(s).toString(),r.g,r.m.get()):h(new A("internal-error"))})}function mw(r,s,c,h,p,m,w){var E=Sn(s+c);Ne(E,"key",r.c),w&&Ne(E,"cb",Date.now().toString());var L=h=="GET";if(L)for(var H in p)p.hasOwnProperty(H)&&Ne(E,H,p[H]);return new Kt(function(Ct,re){gw(r,E.toString(),function(Zt){Zt?Zt.error?re(Bd(Zt,m||{})):Ct(Zt):re(new A("network-request-failed"))},h,L?void 0:s0(v0(p)),r.a,r.v.get())})}function ro(r){if(r=r.email,typeof r!="string"||!BN.test(r))throw new A("invalid-email")}function yw(r){"email"in r&&ro(r)}function Vk(r,s){return Ht(r,Wk,{identifier:s,continueUri:Ac()?bu():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function jk(r){return Ht(r,sx,{}).then(function(s){return s.authorizedDomains||[]})}function An(r){if(!r[lr])throw r.mfaPendingCredential?new A("multi-factor-auth-required",null,kt(r)):new A("internal-error")}function Pd(r){if(r.phoneNumber||r.temporaryProof){if(!r.phoneNumber||!r.temporaryProof)throw new A("internal-error")}else{if(!r.sessionInfo)throw new A("missing-verification-id");if(!r.code)throw new A("missing-verification-code")}}cr.prototype.Ab=function(){return Ht(this,lx,{})},cr.prototype.Cb=function(r,s){return Ht(this,_w,{idToken:r,email:s})},cr.prototype.Db=function(r,s){return Ht(this,Ew,{idToken:r,password:s})};var Uk={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};t=cr.prototype,t.Eb=function(r,s){var c={idToken:r},h=[];return At(Uk,function(p,m){var w=s[m];w===null?h.push(p):m in s&&(c[m]=w)}),h.length&&(c.deleteAttribute=h),Ht(this,_w,c)},t.wb=function(r,s){return r={requestType:"PASSWORD_RESET",email:r},Dt(r,s),Ht(this,ox,r)},t.xb=function(r,s){return r={requestType:"EMAIL_SIGNIN",email:r},Dt(r,s),Ht(this,nx,r)},t.vb=function(r,s){return r={requestType:"VERIFY_EMAIL",idToken:r},Dt(r,s),Ht(this,rx,r)},t.Fb=function(r,s,c){return r={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:r,newEmail:s},Dt(r,c),Ht(this,ix,r)};function Bk(r,s){return Ht(r,cx,s)}t.gb=function(r){return Ht(this,mx,r)};function qk(r,s){return Ht(r,fx,s).then(function(c){return c.phoneSessionInfo.sessionInfo})}function ww(r){if(!r.phoneVerificationInfo)throw new A("internal-error");if(!r.phoneVerificationInfo.sessionInfo)throw new A("missing-verification-id");if(!r.phoneVerificationInfo.code)throw new A("missing-verification-code")}function $k(r,s){return Ht(r,hx,s).then(function(c){return c.phoneResponseInfo.sessionInfo})}function Kk(r,s,c){return Ht(r,Yk,{idToken:s,deleteProvider:c})}function Ld(r){if(!r.requestUri||!r.sessionId&&!r.postBody&&!r.pendingToken)throw new A("internal-error")}function Md(r,s){return s.oauthIdToken&&s.providerId&&s.providerId.indexOf("oidc.")==0&&!s.pendingToken&&(r.sessionId?s.nonce=r.sessionId:r.postBody&&(r=new Gi(r.postBody),Kh(r,"nonce")&&(s.nonce=r.get("nonce")))),s}function bw(r){var s=null;if(r.needConfirmation?(r.code="account-exists-with-different-credential",s=Lc(r)):r.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(r.code="credential-already-in-use",s=Lc(r)):r.errorMessage=="EMAIL_EXISTS"?(r.code="email-already-in-use",s=Lc(r)):r.errorMessage&&(s=Tw(r.errorMessage)),s)throw s;An(r)}function Fd(r,s){return s.returnIdpCredential=!0,Ht(r,dx,s)}function Vd(r,s){return s.returnIdpCredential=!0,Ht(r,gx,s)}function jd(r,s){return s.returnIdpCredential=!0,s.autoCreate=!1,Ht(r,px,s)}function Ud(r){if(!r.oobCode)throw new A("invalid-action-code")}t.ob=function(r,s){return Ht(this,ax,{oobCode:r,newPassword:s})},t.Sa=function(r){return Ht(this,zk,{oobCode:r})},t.kb=function(r){return Ht(this,Hk,{oobCode:r})};var Hk={endpoint:"setAccountInfo",A:Ud,Z:"email",B:!0},zk={endpoint:"resetPassword",A:Ud,G:function(r){var s=r.requestType;if(!s||!r.email&&s!="EMAIL_SIGNIN"&&s!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},B:!0},Gk={endpoint:"signupNewUser",A:function(r){if(ro(r),!r.password)throw new A("weak-password")},G:An,V:!0,B:!0},Wk={endpoint:"createAuthUri",B:!0},Qk={endpoint:"deleteAccount",O:["idToken"]},Yk={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(r){if(!Array.isArray(r.deleteProvider))throw new A("internal-error")}},Xk={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ro,G:An,V:!0,B:!0},Jk={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ro,G:An,V:!0},Zk={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ww,G:An,B:!0,Na:!0},tx={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ww,G:An,B:!0,Na:!0},ex={endpoint:"getAccountInfo"},nx={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="EMAIL_SIGNIN")throw new A("internal-error");ro(r)},Z:"email",B:!0},rx={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(r){if(r.requestType!="VERIFY_EMAIL")throw new A("internal-error")},Z:"email",B:!0},ix={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(r){if(r.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new A("internal-error")},Z:"email",B:!0},ox={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(r){if(r.requestType!="PASSWORD_RESET")throw new A("internal-error");ro(r)},Z:"email",B:!0},sx={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},ux={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(r){if(!r.recaptchaSiteKey)throw new A("internal-error")}},ax={endpoint:"resetPassword",A:Ud,Z:"email",B:!0},cx={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},_w={endpoint:"setAccountInfo",O:["idToken"],A:yw,V:!0},Ew={endpoint:"setAccountInfo",O:["idToken"],A:function(r){if(yw(r),!r.password)throw new A("weak-password")},G:An,V:!0},lx={endpoint:"signupNewUser",G:An,V:!0,B:!0},fx={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(r){if(!r.phoneEnrollmentInfo)throw new A("internal-error");if(!r.phoneEnrollmentInfo.phoneNumber)throw new A("missing-phone-number");if(!r.phoneEnrollmentInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneSessionInfo||!r.phoneSessionInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},hx={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(r){if(!r.phoneSignInInfo||!r.phoneSignInInfo.recaptchaToken)throw new A("missing-app-credential")},G:function(r){if(!r.phoneResponseInfo||!r.phoneResponseInfo.sessionInfo)throw new A("internal-error")},B:!0,Na:!0},dx={endpoint:"verifyAssertion",A:Ld,Za:Md,G:bw,V:!0,B:!0},px={endpoint:"verifyAssertion",A:Ld,Za:Md,G:function(r){if(r.errorMessage&&r.errorMessage=="USER_NOT_FOUND")throw new A("user-not-found");if(r.errorMessage)throw Tw(r.errorMessage);An(r)},V:!0,B:!0},gx={endpoint:"verifyAssertion",A:function(r){if(Ld(r),!r.idToken)throw new A("internal-error")},Za:Md,G:bw,V:!0},vx={endpoint:"verifyCustomToken",A:function(r){if(!r.token)throw new A("invalid-custom-token")},G:An,V:!0,B:!0},Iw={endpoint:"verifyPassword",A:function(r){if(ro(r),!r.password)throw new A("wrong-password")},G:An,V:!0,B:!0},mx={endpoint:"verifyPhoneNumber",A:Pd,G:An,B:!0},yx={endpoint:"verifyPhoneNumber",A:function(r){if(!r.idToken)throw new A("internal-error");Pd(r)},G:function(r){if(r.temporaryProof)throw r.code="credential-already-in-use",Lc(r);An(r)}},wx={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Pd,G:An,B:!0},bx={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(r){if(!!r[lr]^!!r.refreshToken)throw new A("internal-error")},B:!0,Na:!0};function Ht(r,s,c){if(!WN(c,s.O))return me(new A("internal-error"));var h=!!s.Na,p=s.Vb||"POST",m;return Et(c).then(s.A).then(function(){return s.V&&(c.returnSecureToken=!0),s.B&&r.b&&typeof c.tenantId>"u"&&(c.tenantId=r.b),h?mw(r,r.i,s.endpoint,p,c,s.Ib,s.mb||!1):mw(r,r.h,s.endpoint,p,c,s.Ib,s.mb||!1)}).then(function(w){return m=w,s.Za?s.Za(c,m):m}).then(s.G).then(function(){if(!s.Z)return m;if(!(s.Z in m))throw new A("internal-error");return m[s.Z]})}function Tw(r){return Bd({error:{errors:[{message:r}],code:400,message:r}})}function Bd(r,s){var c=(r.error&&r.error.errors&&r.error.errors[0]||{}).reason||"",h={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=h[c]?new A(h[c]):null)return c;c=r.error&&r.error.message||"",h={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Dt(h,s||{}),s=(s=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<s.length?s[1]:void 0;for(var p in h)if(c.indexOf(p)===0)return new A(h[p],s);return!s&&r&&(s=Eu(r)),new A("internal-error",s)}function _x(r){this.b=r,this.a=null,this.sb=Ex(this)}function Ex(r){return kx().then(function(){return new Kt(function(s,c){ye("gapi.iframes.getContext")().open({where:document.body,url:r.b,messageHandlersFilter:ye("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(h){function p(){clearTimeout(m),s()}r.a=h,r.a.restyle({setHideOnLeave:!1});var m=setTimeout(function(){c(Error("Network Error"))},Nx.get());h.ping(p).then(p,function(){c(Error("Network Error"))})})})})}function Ix(r,s){return r.sb.then(function(){return new Kt(function(c){r.a.send(s.type,s,c,ye("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Tx(r,s){r.sb.then(function(){r.a.register("authEvent",s,ye("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Sx=new nn(hc,"https://apis.google.com/js/api.js?onload=%{onload}"),Ax=new ci(3e4,6e4),Nx=new ci(5e3,15e3),Qc=null;function kx(){return Qc||(Qc=new Kt(function(r,s){function c(){y0(),ye("gapi.load")("gapi.iframes",{callback:r,ontimeout:function(){y0(),s(Error("Network Error"))},timeout:Ax.get()})}if(ye("gapi.iframes.Iframe"))r();else if(ye("gapi.load"))c();else{var h="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[h]=function(){ye("gapi.load")?c():s(Error("Network Error"))},h=Eh(Sx,{onload:h}),Et(Cd(h)).o(function(){s(Error("Network Error"))})}}).o(function(r){throw Qc=null,r}))}function Sw(r,s,c,h){this.l=r,this.h=s,this.i=c,this.g=h,this.f=null,this.g?(r=Sn(this.g.url),r=Tc(r.c,r.a,r.g,"/emulator/auth/iframe")):r=Tc("https",this.l,null,"/__/auth/iframe"),this.a=r,Ne(this.a,"apiKey",this.h),Ne(this.a,"appName",this.i),this.b=null,this.c=[]}Sw.prototype.toString=function(){return this.f?Ne(this.a,"v",this.f):Er(this.a.b,"v"),this.b?Ne(this.a,"eid",this.b):Er(this.a.b,"eid"),this.c.length?Ne(this.a,"fw",this.c.join(",")):Er(this.a.b,"fw"),this.a.toString()};function qd(r,s,c,h,p,m){this.u=r,this.s=s,this.c=c,this.m=h,this.v=m,this.i=this.g=this.l=null,this.a=p,this.h=this.f=null}qd.prototype.zb=function(r){return this.h=r,this},qd.prototype.toString=function(){if(this.v){var r=Sn(this.v.url);r=Tc(r.c,r.a,r.g,"/emulator/auth/handler")}else r=Tc("https",this.u,null,"/__/auth/handler");if(Ne(r,"apiKey",this.s),Ne(r,"appName",this.c),Ne(r,"authType",this.m),this.a.isOAuthProvider){var s=this.a;try{var c=xt.app(this.c).auth().la()}catch{c=null}s.pb=c,Ne(r,"providerId",this.a.providerId),c=this.a,s=v0(c.Jb);for(var h in s)s[h]=s[h].toString();h=c.Qc,s=kt(s);for(var p=0;p<h.length;p++){var m=h[p];m in s&&delete s[m]}c.qb&&c.pb&&!s[c.qb]&&(s[c.qb]=c.pb),Vt(s)||Ne(r,"customParameters",Eu(s))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Ne(r,"scopes",c.join(","))),this.l?Ne(r,"redirectUrl",this.l):Er(r.b,"redirectUrl"),this.g?Ne(r,"eventId",this.g):Er(r.b,"eventId"),this.i?Ne(r,"v",this.i):Er(r.b,"v"),this.b)for(var w in this.b)this.b.hasOwnProperty(w)&&!er(r,w)&&Ne(r,w,this.b[w]);return this.h?Ne(r,"tid",this.h):Er(r.b,"tid"),this.f?Ne(r,"eid",this.f):Er(r.b,"eid"),w=$d(this.c),w.length&&Ne(r,"fw",w.join(",")),r.toString()};function $d(r){try{return xt.app(r).auth().Ga()}catch{return[]}}function Aw(r,s,c,h,p,m){this.s=r,this.g=s,this.b=c,this.f=m,this.c=h||null,this.i=p||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function Nw(r){var s=bu();return jk(r).then(function(c){t:{var h=Sn(s),p=h.c;h=h.a;for(var m=0;m<c.length;m++){var w=c[m],E=h,L=p;if(w.indexOf("chrome-extension://")==0?E=Sn(w).a==E&&L=="chrome-extension":L!="http"&&L!="https"?E=!1:UN.test(w)?E=E==w:(w=w.split(".").join("\\."),E=new RegExp("^(.+\\."+w+"|"+w+")$","i").test(E)),E){c=!0;break t}}c=!1}if(!c)throw new bd(bu())})}function kw(r){return r.m||(r.m=Sc().then(function(){if(!r.u){var s=r.c,c=r.i,h=$d(r.b),p=new Sw(r.s,r.g,r.b,r.f);p.f=s,p.b=c,p.c=nt(h||[]),r.u=p.toString()}r.v=new _x(r.u),xx(r)})),r.m}t=Aw.prototype,t.Pb=function(r,s,c){var h=new A("popup-closed-by-user"),p=new A("web-storage-unsupported"),m=this,w=!1;return this.ma().then(function(){Cx(m).then(function(E){E||(r&&Wi(r),s(p),w=!0)})}).o(function(){}).then(function(){if(!w)return jN(r)}).then(function(){if(!w)return Go(c).then(function(){s(h)})})},t.Yb=function(){var r=We();return!_u(r)&&!m0(r)},t.Ub=function(){return!1},t.Nb=function(r,s,c,h,p,m,w,E){if(!r)return me(new A("popup-blocked"));if(w&&!_u())return this.ma().o(function(H){Wi(r),p(H)}),h(),Et();this.a||(this.a=Nw(xw(this)));var L=this;return this.a.then(function(){var H=L.ma().o(function(Ct){throw Wi(r),p(Ct),Ct});return h(),H}).then(function(){if(yd(c),!w){var H=Vu(L.s,L.g,L.b,s,c,null,m,L.c,void 0,L.i,E,L.f);c0(H,r)}}).o(function(H){throw H.code=="auth/network-request-failed"&&(L.a=null),H})};function xw(r){return r.l||(r.C=r.c?Xo(r.c,$d(r.b)):null,r.l=new cr(r.g,Qt(r.i),r.C),r.f&&Wc(r.l,r.f)),r.l}t.Ob=function(r,s,c,h){this.a||(this.a=Nw(xw(this)));var p=this;return this.a.then(function(){yd(s);var m=Vu(p.s,p.g,p.b,r,s,bu(),c,p.c,void 0,p.i,h,p.f);c0(m)}).o(function(m){throw m.code=="auth/network-request-failed"&&(p.a=null),m})},t.ma=function(){var r=this;return kw(this).then(function(){return r.v.sb}).o(function(){throw r.a=null,new A("network-request-failed")})},t.ac=function(){return!0};function Vu(r,s,c,h,p,m,w,E,L,H,Ct,re){return r=new qd(r,s,c,h,p,re),r.l=m,r.g=w,r.i=E,r.b=kt(L||null),r.f=H,r.zb(Ct).toString()}function xx(r){if(!r.v)throw Error("IfcHandler must be initialized!");Tx(r.v,function(s){var c={};if(s&&s.authEvent){var h=!1;for(s=J0(s.authEvent),c=0;c<r.h.length;c++)h=r.h[c](s)||h;return c={},c.status=h?"ACK":"ERROR",Et(c)}return c.status="ERROR",Et(c)})}function Cx(r){var s={type:"webStorageSupport"};return kw(r).then(function(){return Ix(r.v,s)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}t.Ea=function(r){this.h.push(r)},t.Ta=function(r){F(this.h,function(s){return s==r})};function Cw(r){if(this.a=r||xt.INTERNAL.reactNative&&xt.INTERNAL.reactNative.AsyncStorage,!this.a)throw new A("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}t=Cw.prototype,t.get=function(r){return Et(this.a.getItem(r)).then(function(s){return s&&Zo(s)})},t.set=function(r,s){return Et(this.a.setItem(r,Eu(s)))},t.U=function(r){return Et(this.a.removeItem(r))},t.ca=function(){},t.ia=function(){};function Ow(r){this.b=r,this.a={},this.f=V(this.c,this)}var Rw=[];function Ox(){var r=ur()?self:null;if(U(Rw,function(c){c.b==r&&(s=c)}),!s){var s=new Ow(r);Rw.push(s)}return s}Ow.prototype.c=function(r){var s=r.data.eventType,c=r.data.eventId,h=this.a[s];if(h&&0<h.length){r.ports[0].postMessage({status:"ack",eventId:c,eventType:s,response:null});var p=[];U(h,function(m){p.push(Et().then(function(){return m(r.origin,r.data.data)}))}),My(p).then(function(m){var w=[];U(m,function(E){w.push({fulfilled:E.Qb,value:E.value,reason:E.reason?E.reason.message:void 0})}),U(w,function(E){for(var L in E)typeof E[L]>"u"&&delete E[L]}),r.ports[0].postMessage({status:"done",eventId:c,eventType:s,response:w})})}};function Dw(r,s,c){Vt(r.a)&&r.b.addEventListener("message",r.f),typeof r.a[s]>"u"&&(r.a[s]=[]),r.a[s].push(c)}function Pw(r){this.a=r}Pw.prototype.postMessage=function(r,s){this.a.postMessage(r,s)};function Lw(r){this.c=r,this.b=!1,this.a=[]}function Mw(r,s,c,h){var p,m=c||{},w,E,L,H=null;if(r.b)return me(Error("connection_unavailable"));var Ct=h?800:50,re=typeof MessageChannel<"u"?new MessageChannel:null;return new Kt(function(Zt,Ke){re?(p=Math.floor(Math.random()*Math.pow(10,20)).toString(),re.port1.start(),E=setTimeout(function(){Ke(Error("unsupported_event"))},Ct),w=function(Kr){Kr.data.eventId===p&&(Kr.data.status==="ack"?(clearTimeout(E),L=setTimeout(function(){Ke(Error("timeout"))},3e3)):Kr.data.status==="done"?(clearTimeout(L),typeof Kr.data.response<"u"?Zt(Kr.data.response):Ke(Error("unknown_error"))):(clearTimeout(E),clearTimeout(L),Ke(Error("invalid_response"))))},H={messageChannel:re,onMessage:w},r.a.push(H),re.port1.addEventListener("message",w),r.c.postMessage({eventType:s,eventId:p,data:m},[re.port2])):Ke(Error("connection_unavailable"))}).then(function(Zt){return Kd(r,H),Zt}).o(function(Zt){throw Kd(r,H),Zt})}function Kd(r,s){if(s){var c=s.messageChannel,h=s.onMessage;c&&(c.port1.removeEventListener("message",h),c.port1.close()),F(r.a,function(p){return p==s})}}Lw.prototype.close=function(){for(;0<this.a.length;)Kd(this,this.a[0]);this.b=!0};function Fw(){if(!Gd())throw new A("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var r=this;ur()&&self?(this.v=Ox(),Dw(this.v,"keyChanged",function(s,c){return Uw(r).then(function(h){return 0<h.length&&U(r.a,function(p){p(h)}),{keyProcessed:C(h,c.key)}})}),Dw(this.v,"ping",function(){return Et(["keyChanged"])})):zN().then(function(s){(r.h=s)&&(r.g=new Lw(new Pw(s)),Mw(r.g,"ping",null,!0).then(function(c){c[0].fulfilled&&C(c[0].value,"keyChanged")&&(r.s=!0)}).o(function(){}))})}var Hd;function Rx(r){return new Kt(function(s,c){var h=r.m.deleteDatabase("firebaseLocalStorageDb");h.onsuccess=function(){s()},h.onerror=function(p){c(Error(p.target.error))}})}function Vw(r){return new Kt(function(s,c){var h=r.m.open("firebaseLocalStorageDb",1);h.onerror=function(p){try{p.preventDefault()}catch{}c(Error(p.target.error))},h.onupgradeneeded=function(p){p=p.target.result;try{p.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(m){c(m)}},h.onsuccess=function(p){p=p.target.result,p.objectStoreNames.contains("firebaseLocalStorage")?s(p):Rx(r).then(function(){return Vw(r)}).then(function(m){s(m)}).o(function(m){c(m)})}})}function zd(r){return r.i||(r.i=Vw(r)),r.i}function Yc(r,s){function c(p,m){zd(r).then(s).then(p).o(function(w){if(3<++h)m(w);else return zd(r).then(function(E){return E.close(),r.i=void 0,c(p,m)}).o(function(E){m(E)})})}var h=0;return new Kt(c)}function Gd(){try{return!!f.indexedDB}catch{return!1}}function ju(r){return r.objectStore("firebaseLocalStorage")}function Uu(r,s){return r.transaction(["firebaseLocalStorage"],s?"readwrite":"readonly")}function rs(r){return new Kt(function(s,c){r.onsuccess=function(h){h&&h.target?s(h.target.result):s()},r.onerror=function(h){c(h.target.error)}})}t=Fw.prototype,t.set=function(r,s){var c=this,h=!1;return Yc(this,function(p){return p=ju(Uu(p,!0)),rs(p.get(r))}).then(function(p){return Yc(c,function(m){if(m=ju(Uu(m,!0)),p)return p.value=s,rs(m.put(p));c.b++,h=!0;var w={};return w.fbase_key=r,w.value=s,rs(m.add(w))})}).then(function(){return c.c[r]=s,jw(c,r)}).oa(function(){h&&c.b--})};function jw(r,s){return r.g&&r.h&&HN()===r.h?Mw(r.g,"keyChanged",{key:s},r.s).then(function(){}).o(function(){}):Et()}t.get=function(r){return Yc(this,function(s){return rs(ju(Uu(s,!1)).get(r))}).then(function(s){return s&&s.value})},t.U=function(r){var s=this,c=!1;return Yc(this,function(h){return c=!0,s.b++,rs(ju(Uu(h,!0)).delete(r))}).then(function(){return delete s.c[r],jw(s,r)}).oa(function(){c&&s.b--})};function Uw(r){return zd(r).then(function(s){var c=ju(Uu(s,!1));return c.getAll?rs(c.getAll()):new Kt(function(h,p){var m=[],w=c.openCursor();w.onsuccess=function(E){(E=E.target.result)?(m.push(E.value),E.continue()):h(m)},w.onerror=function(E){p(E.target.error)}})}).then(function(s){var c={},h=[];if(r.b==0){for(h=0;h<s.length;h++)c[s[h].fbase_key]=s[h].value;h=l0(r.c,c),r.c=c}return h})}t.ca=function(r){this.a.length==0&&Dx(this),this.a.push(r)},t.ia=function(r){F(this.a,function(s){return s==r}),this.a.length==0&&Bw(this)};function Dx(r){function s(){r.f=setTimeout(function(){r.l=Uw(r).then(function(c){0<c.length&&U(r.a,function(h){h(c)})}).then(function(){s()}).o(function(c){c.message!="STOP_EVENT"&&s()})},800)}Bw(r),s()}function Bw(r){r.l&&r.l.cancel("STOP_EVENT"),r.f&&(clearTimeout(r.f),r.f=null)}function qw(r){var s=this,c=null;this.a=[],this.type="indexedDB",this.c=r,this.b=Et().then(function(){if(Gd()){var h=Yi(),p="__sak"+h;return Hd||(Hd=new Fw),c=Hd,c.set(p,h).then(function(){return c.get(p)}).then(function(m){if(m!==h)throw Error("indexedDB not supported!");return c.U(p)}).then(function(){return c}).o(function(){return s.c})}return s.c}).then(function(h){return s.type=h.type,h.ca(function(p){U(s.a,function(m){m(p)})}),h})}t=qw.prototype,t.get=function(r){return this.b.then(function(s){return s.get(r)})},t.set=function(r,s){return this.b.then(function(c){return c.set(r,s)})},t.U=function(r){return this.b.then(function(s){return s.U(r)})},t.ca=function(r){this.a.push(r)},t.ia=function(r){F(this.a,function(s){return s==r})};function Bu(){this.a={},this.type="inMemory"}t=Bu.prototype,t.get=function(r){return Et(this.a[r])},t.set=function(r,s){return this.a[r]=s,Et()},t.U=function(r){return delete this.a[r],Et()},t.ca=function(){},t.ia=function(){};function Xc(){if(!Px())throw Ir()=="Node"?new A("internal-error","The LocalStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=$w()||xt.INTERNAL.node.localStorage,this.type="localStorage"}function $w(){try{var r=f.localStorage,s=Yi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Px(){var r=Ir()=="Node";if(r=$w()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.localStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Xc.prototype,t.get=function(r){var s=this;return Et().then(function(){var c=s.a.getItem(r);return Zo(c)})},t.set=function(r,s){var c=this;return Et().then(function(){var h=Eu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return Et().then(function(){s.a.removeItem(r)})},t.ca=function(r){f.window&&tr(f.window,"storage",r)},t.ia=function(r){f.window&&Vn(f.window,"storage",r)};function Wd(){this.type="nullStorage"}t=Wd.prototype,t.get=function(){return Et(null)},t.set=function(){return Et()},t.U=function(){return Et()},t.ca=function(){},t.ia=function(){};function Qd(){if(!Lx())throw Ir()=="Node"?new A("internal-error","The SessionStorage compatibility library was not found."):new A("web-storage-unsupported");this.a=Kw()||xt.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Kw(){try{var r=f.sessionStorage,s=Yi();return r&&(r.setItem(s,"1"),r.removeItem(s)),r}catch{return null}}function Lx(){var r=Ir()=="Node";if(r=Kw()||r&&xt.INTERNAL.node&&xt.INTERNAL.node.sessionStorage,!r)return!1;try{return r.setItem("__sak","1"),r.removeItem("__sak"),!0}catch{return!1}}t=Qd.prototype,t.get=function(r){var s=this;return Et().then(function(){var c=s.a.getItem(r);return Zo(c)})},t.set=function(r,s){var c=this;return Et().then(function(){var h=Eu(s);h===null?c.U(r):c.a.setItem(r,h)})},t.U=function(r){var s=this;return Et().then(function(){s.a.removeItem(r)})},t.ca=function(){},t.ia=function(){};function Mx(){var r={};r.Browser=Fx,r.Node=Vx,r.ReactNative=jx,r.Worker=Ux,this.a=r[Ir()]}var Yd,Fx={F:Xc,cb:Qd},Vx={F:Xc,cb:Qd},jx={F:Cw,cb:Wd},Ux={F:Xc,cb:Wd},is={rd:"local",NONE:"none",td:"session"};function Bx(r){var s=new A("invalid-persistence-type"),c=new A("unsupported-persistence-type");t:{for(h in is)if(is[h]==r){var h=!0;break t}h=!1}if(!h||typeof r!="string")throw s;switch(Ir()){case"ReactNative":if(r==="session")throw c;break;case"Node":if(r!=="none")throw c;break;case"Worker":if(r==="session"||!Gd()&&r!=="none")throw c;break;default:if(!Yh()&&r!=="none")throw c}}function Hw(){var r=!!(!m0(We())&&Wh()),s=_u(),c=Yh();this.m=r,this.h=s,this.l=c,this.a={},Yd||(Yd=new Mx),r=Yd;try{this.g=!zh()&&w0()||!f.indexedDB?new r.a.F:new qw(ur()?new Bu:new r.a.F)}catch{this.g=new Bu,this.h=!0}try{this.i=new r.a.cb}catch{this.i=new Bu}this.v=new Bu,this.f=V(this.Zb,this),this.b={}}var Xd;function qu(){return Xd||(Xd=new Hw),Xd}function io(r,s){switch(s){case"session":return r.i;case"none":return r.v;default:return r.g}}function os(r,s){return"firebase:"+r.name+(s?":"+s:"")}function qx(r,s,c){var h=os(s,c),p=io(r,s.F);return r.get(s,c).then(function(m){var w=null;try{w=Zo(f.localStorage.getItem(h))}catch{}if(w&&!m)return f.localStorage.removeItem(h),r.set(s,w,c);w&&m&&p.type!="localStorage"&&f.localStorage.removeItem(h)})}t=Hw.prototype,t.get=function(r,s){return io(this,r.F).get(os(r,s))};function ss(r,s,c){return c=os(s,c),s.F=="local"&&(r.b[c]=null),io(r,s.F).U(c)}t.set=function(r,s,c){var h=os(r,c),p=this,m=io(this,r.F);return m.set(h,s).then(function(){return m.get(h)}).then(function(w){r.F=="local"&&(p.b[h]=w)})},t.addListener=function(r,s,c){r=os(r,s),this.l&&(this.b[r]=f.localStorage.getItem(r)),Vt(this.a)&&(io(this,"local").ca(this.f),this.h||(zh()||!w0())&&f.indexedDB||!this.l||$x(this)),this.a[r]||(this.a[r]=[]),this.a[r].push(c)},t.removeListener=function(r,s,c){r=os(r,s),this.a[r]&&(F(this.a[r],function(h){return h==c}),this.a[r].length==0&&delete this.a[r]),Vt(this.a)&&(io(this,"local").ia(this.f),Jd(this))};function $x(r){Jd(r),r.c=setInterval(function(){for(var s in r.a){var c=f.localStorage.getItem(s),h=r.b[s];c!=h&&(r.b[s]=c,c=new Hi({type:"storage",key:s,target:window,oldValue:h,newValue:c,a:!0}),r.Zb(c))}},1e3)}function Jd(r){r.c&&(clearInterval(r.c),r.c=null)}t.Zb=function(r){if(r&&r.g){var s=r.a.key;if(s==null)for(var c in this.a){var h=this.b[c];typeof h>"u"&&(h=null);var p=f.localStorage.getItem(c);p!==h&&(this.b[c]=p,this.nb(c))}else if(s.indexOf("firebase:")==0&&this.a[s]){if(typeof r.a.a<"u"?io(this,"local").ia(this.f):Jd(this),this.m){if(c=f.localStorage.getItem(s),h=r.a.newValue,h!==c)h!==null?f.localStorage.setItem(s,h):f.localStorage.removeItem(s);else if(this.b[s]===h&&typeof r.a.a>"u")return}var m=this;c=function(){(typeof r.a.a<"u"||m.b[s]!==f.localStorage.getItem(s))&&(m.b[s]=f.localStorage.getItem(s),m.nb(s))},sr&&si&&si==10&&f.localStorage.getItem(s)!==r.a.newValue&&r.a.newValue!==r.a.oldValue?setTimeout(c,10):c()}}else U(r,V(this.nb,this))},t.nb=function(r){this.a[r]&&U(this.a[r],function(s){s()})};function Kx(r){this.a=r,this.b=qu()}var Zd={name:"authEvent",F:"local"};function Hx(r){return r.b.get(Zd,r.a).then(function(s){return J0(s)})}function zx(){this.a=qu()}function Gx(){this.b=-1}function Jc(r,s){this.b=zw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=r,this.h=s,this.l=f.Int32Array?new Int32Array(64):Array(64),Zc===void 0&&(f.Int32Array?Zc=new Int32Array(Qw):Zc=Qw),this.reset()}var Zc;Q(Jc,Gx);for(var zw=64,Wx=zw-1,Gw=[],tp=0;tp<Wx;tp++)Gw[tp]=0;var Ww=G(128,Gw);Jc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):nt(this.h)};function ep(r){for(var s=r.f,c=r.l,h=0,p=0;p<s.length;)c[h++]=s[p]<<24|s[p+1]<<16|s[p+2]<<8|s[p+3],p=4*h;for(s=16;64>s;s++){p=c[s-15]|0,h=c[s-2]|0;var m=(c[s-16]|0)+((p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3)|0,w=(c[s-7]|0)+((h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10)|0;c[s]=m+w|0}h=r.a[0]|0,p=r.a[1]|0;var E=r.a[2]|0,L=r.a[3]|0,H=r.a[4]|0,Ct=r.a[5]|0,re=r.a[6]|0;for(m=r.a[7]|0,s=0;64>s;s++){var Zt=((h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10))+(h&p^h&E^p&E)|0;w=H&Ct^~H&re,m=m+((H>>>6|H<<26)^(H>>>11|H<<21)^(H>>>25|H<<7))|0,w=w+(Zc[s]|0)|0,w=m+(w+(c[s]|0)|0)|0,m=re,re=Ct,Ct=H,H=L+w|0,L=E,E=p,p=h,h=w+Zt|0}r.a[0]=r.a[0]+h|0,r.a[1]=r.a[1]+p|0,r.a[2]=r.a[2]+E|0,r.a[3]=r.a[3]+L|0,r.a[4]=r.a[4]+H|0,r.a[5]=r.a[5]+Ct|0,r.a[6]=r.a[6]+re|0,r.a[7]=r.a[7]+m|0}function np(r,s,c){c===void 0&&(c=s.length);var h=0,p=r.c;if(typeof s=="string")for(;h<c;)r.f[p++]=s.charCodeAt(h++),p==r.b&&(ep(r),p=0);else if(_(s))for(;h<c;){var m=s[h++];if(!(typeof m=="number"&&0<=m&&255>=m&&m==(m|0)))throw Error("message must be a byte array");r.f[p++]=m,p==r.b&&(ep(r),p=0)}else throw Error("message must be string or array");r.c=p,r.g+=c}var Qw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Yw(){Jc.call(this,8,Qx)}Q(Yw,Jc);var Qx=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Xw(r,s,c,h,p,m){this.v=r,this.i=s,this.l=c,this.m=h||null,this.u=p||null,this.s=m,this.h=s+":"+c,this.C=new zx,this.g=new Kx(this.h),this.f=null,this.b=[],this.a=this.c=null}function tl(r){return new A("invalid-cordova-configuration",r)}t=Xw.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=qN().then(function(){if(typeof ye("universalLinks.subscribe",f)!="function")throw tl("cordova-universal-links-plugin-fix is not installed");if(typeof ye("BuildInfo.packageName",f)>"u")throw tl("cordova-plugin-buildinfo is not installed");if(typeof ye("cordova.plugins.browsertab.openUrl",f)!="function")throw tl("cordova-plugin-browsertab is not installed");if(typeof ye("cordova.InAppBrowser.open",f)!="function")throw tl("cordova-plugin-inappbrowser is not installed")},function(){throw new A("cordova-not-ready")})};function Yx(){for(var r=20,s=[];0<r;)s.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),r--;return s.join("")}function Xx(r){var s=new Yw;np(s,r),r=[];var c=8*s.g;56>s.c?np(s,Ww,56-s.c):np(s,Ww,s.b-(s.c-56));for(var h=63;56<=h;h--)s.f[h]=c&255,c/=256;for(ep(s),h=c=0;h<s.i;h++)for(var p=24;0<=p;p-=8)r[c++]=s.a[h]>>p&255;return ak(r)}t.Pb=function(r,s){return s(new A("operation-not-supported-in-this-environment")),Et()},t.Nb=function(){return me(new A("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(r,s,c,h){if(this.c)return me(new A("redirect-operation-pending"));var p=this,m=f.document,w=null,E=null,L=null,H=null;return this.c=Et().then(function(){return yd(s),Zw(p)}).then(function(){return Jx(p,r,s,c,h)}).then(function(){return new Kt(function(Ct,re){E=function(){var Zt=ye("cordova.plugins.browsertab.close",f);return Ct(),typeof Zt=="function"&&Zt(),p.a&&typeof p.a.close=="function"&&(p.a.close(),p.a=null),!1},p.Ea(E),L=function(){w||(w=Go(2e3).then(function(){re(new A("redirect-cancelled-by-user"))}))},H=function(){Xh()&&L()},m.addEventListener("resume",L,!1),We().toLowerCase().match(/android/)||m.addEventListener("visibilitychange",H,!1)}).o(function(Ct){return rp(p).then(function(){throw Ct})})}).oa(function(){L&&m.removeEventListener("resume",L,!1),H&&m.removeEventListener("visibilitychange",H,!1),w&&w.cancel(),E&&p.Ta(E),p.c=null})};function Jx(r,s,c,h,p){var m=Yx(),w=new ar(s,h,null,m,new A("no-auth-event"),null,p),E=ye("BuildInfo.packageName",f);if(typeof E!="string")throw new A("invalid-cordova-configuration");var L=ye("BuildInfo.displayName",f),H={};if(We().toLowerCase().match(/iphone|ipad|ipod/))H.ibi=E;else if(We().toLowerCase().match(/android/))H.apn=E;else return me(new A("operation-not-supported-in-this-environment"));L&&(H.appDisplayName=L),m=Xx(m),H.sessionId=m;var Ct=Vu(r.v,r.i,r.l,s,c,null,h,r.m,H,r.u,p,r.s);return r.ma().then(function(){var re=r.h;return r.C.a.set(Zd,w.w(),re)}).then(function(){var re=ye("cordova.plugins.browsertab.isAvailable",f);if(typeof re!="function")throw new A("invalid-cordova-configuration");var Zt=null;re(function(Ke){if(Ke){if(Zt=ye("cordova.plugins.browsertab.openUrl",f),typeof Zt!="function")throw new A("invalid-cordova-configuration");Zt(Ct)}else{if(Zt=ye("cordova.InAppBrowser.open",f),typeof Zt!="function")throw new A("invalid-cordova-configuration");Ke=We(),r.a=Zt(Ct,Ke.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Ke.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function Jw(r,s){for(var c=0;c<r.b.length;c++)try{r.b[c](s)}catch{}}function Zw(r){return r.f||(r.f=r.ma().then(function(){return new Kt(function(s){function c(h){return s(h),r.Ta(c),!1}r.Ea(c),Zx(r)})})),r.f}function rp(r){var s=null;return Hx(r.g).then(function(c){return s=c,c=r.g,ss(c.b,Zd,c.a)}).then(function(){return s})}function Zx(r){function s(w){h=!0,p&&p.cancel(),rp(r).then(function(E){var L=c;if(E&&w&&w.url){var H=null;L=K0(w.url),L.indexOf("/__/auth/callback")!=-1&&(H=Sn(L),H=Zo(er(H,"firebaseError")||null),H=(H=typeof H=="object"?Wt(H):null)?new ar(E.c,E.b,null,null,H,null,E.T()):new ar(E.c,E.b,L,E.f,null,null,E.T())),L=H||c}Jw(r,L)})}var c=new ar("unknown",null,null,null,new A("no-auth-event")),h=!1,p=Go(500).then(function(){return rp(r).then(function(){h||Jw(r,c)})}),m=f.handleOpenURL;f.handleOpenURL=function(w){if(w.toLowerCase().indexOf(ye("BuildInfo.packageName",f).toLowerCase()+"://")==0&&s({url:w}),typeof m=="function")try{m(w)}catch(E){console.error(E)}},wd||(wd=new vk),mk(s)}t.Ea=function(r){this.b.push(r),Zw(this).o(function(s){s.code==="auth/invalid-cordova-configuration"&&(s=new ar("unknown",null,null,null,new A("no-auth-event")),r(s))})},t.Ta=function(r){F(this.b,function(s){return s==r})};function tC(r){this.a=r,this.b=qu()}var ip={name:"pendingRedirect",F:"session"};function eC(r){return r.b.set(ip,"pending",r.a)}function op(r){return ss(r.b,ip,r.a)}function nC(r){return r.b.get(ip,r.a).then(function(s){return s=="pending"})}function el(r,s,c,h){this.i={},this.u=0,this.D=r,this.v=s,this.m=c,this.J=h,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new rl,this.C=new cb,this.g=new tC(sb(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=tb(this.D,this.v,this.m,st,this.J)}function tb(r,s,c,h,p){var m=xt.SDK_VERSION||null;return Gh()?new Xw(r,s,c,m,h,p):new Aw(r,s,c,m,h,p)}el.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=tb(this.D,this.v,this.m,null,this.J),this.i={}};function eb(r){r.f||(r.f=!0,r.a.Ea(r.l));var s=r.a;return r.a.ma().o(function(c){throw r.a==s&&r.reset(),c})}function nb(r){r.a.Yb()&&eb(r).o(function(s){var c=new ar("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));up(s)&&r.s(c)}),r.a.Ub()||ub(r.b)}function nl(r,s){C(r.h,s)||r.h.push(s),r.f||nC(r.g).then(function(c){c?op(r.g).then(function(){eb(r).o(function(h){var p=new ar("unknown",null,null,null,new A("operation-not-supported-in-this-environment"));up(h)&&r.s(p)})}):nb(r)}).o(function(){nb(r)})}function sp(r,s){F(r.h,function(c){return c==s})}el.prototype.s=function(r){if(!r)throw new A("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),r&&r.getUid()&&this.i.hasOwnProperty(r.getUid()))return!1;for(var s=!1,c=0;c<this.h.length;c++){var h=this.h[c];if(h.Gb(r.c,r.b)){(s=this.c[r.c])&&(s.h(r,h),r&&(r.f||r.b)&&(this.i[r.getUid()]=!0,this.u=Date.now())),s=!0;break}}return ub(this.b),s};var rC=new ci(2e3,1e4),iC=new ci(3e4,6e4);el.prototype.ra=function(){return this.b.ra()};function rb(r,s,c,h,p,m,w){return r.a.Nb(s,c,h,function(){r.f||(r.f=!0,r.a.Ea(r.l))},function(){r.reset()},p,m,w)}function up(r){return!!(r&&r.code=="auth/cordova-not-ready")}function ib(r,s,c,h,p){var m;return eC(r.g).then(function(){return r.a.Ob(s,c,h,p).o(function(w){if(up(w))throw new A("operation-not-supported-in-this-environment");return m=w,op(r.g).then(function(){throw m})}).then(function(){return r.a.ac()?new Kt(function(){}):op(r.g).then(function(){return r.ra()}).then(function(){}).o(function(){})})})}function ob(r,s,c,h,p){return r.a.Pb(h,function(m){s.na(c,null,m,p)},rC.get())}var ap={};function sb(r,s,c){return r=r+":"+s,c&&(r=r+":"+c.url),r}function cp(r,s,c,h){var p=sb(s,c,h);return ap[p]||(ap[p]=new el(r,s,c,h)),ap[p]}function rl(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}rl.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},rl.prototype.h=function(r,s){if(r){this.reset(),this.g=!0;var c=r.c,h=r.b,p=r.a&&r.a.code=="auth/web-storage-unsupported",m=r.a&&r.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!p&&!m),c!="unknown"||p||m?r.a?(oo(this,!0,null,r.a),Et()):s.Fa(c,h)?oC(this,r,s):me(new A("invalid-auth-event")):(oo(this,!1,null,null),Et())}else me(new A("invalid-auth-event"))};function ub(r){r.g||(r.g=!0,oo(r,!1,null,null))}function il(r){r.g&&!r.i&&oo(r,!1,null,null)}function oC(r,s,c){c=c.Fa(s.c,s.b);var h=s.g,p=s.f,m=s.i,w=s.T(),E=!!s.c.match(/Redirect$/);c(h,p,w,m).then(function(L){oo(r,E,L,null)}).o(function(L){oo(r,E,null,L)})}function sC(r,s){if(r.b=function(){return me(s)},r.c.length)for(var c=0;c<r.c.length;c++)r.c[c](s)}function ab(r,s){if(r.b=function(){return Et(s)},r.f.length)for(var c=0;c<r.f.length;c++)r.f[c](s)}function oo(r,s,c,h){s?h?sC(r,h):ab(r,c):ab(r,{user:null}),r.f=[],r.c=[]}rl.prototype.ra=function(){var r=this;return new Kt(function(s,c){r.b?r.b().then(s,c):(r.f.push(s),r.c.push(c),uC(r))})};function uC(r){var s=new A("timeout");r.a&&r.a.cancel(),r.a=Go(iC.get()).then(function(){r.b||(r.g=!0,oo(r,!0,null,s))})}function cb(){}cb.prototype.h=function(r,s){if(r){var c=r.c,h=r.b;r.a?(s.na(r.c,null,r.a,r.b),Et()):s.Fa(c,h)?aC(r,s):me(new A("invalid-auth-event"))}else me(new A("invalid-auth-event"))};function aC(r,s){var c=r.b,h=r.c;s.Fa(h,c)(r.g,r.f,r.T(),r.i).then(function(p){s.na(h,p,null,c)}).o(function(p){s.na(h,null,p,c)})}function lb(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(r){this.jb=r},enumerable:!1})}function lp(r,s){this.a=s,pt(this,"verificationId",r)}lp.prototype.confirm=function(r){return r=X0(this.verificationId,r),this.a(r)};function fp(r,s,c,h){return new qr(r).gb(s,c).then(function(p){return new lp(p,h)})}function cC(r){var s=M0(r);if(!(s&&s.exp&&s.auth_time&&s.iat))throw new A("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");pn(this,{token:r,expirationTime:Iu(1e3*s.exp),authTime:Iu(1e3*s.auth_time),issuedAtTime:Iu(1e3*s.iat),signInProvider:s.firebase&&s.firebase.sign_in_provider?s.firebase.sign_in_provider:null,signInSecondFactor:s.firebase&&s.firebase.sign_in_second_factor?s.firebase.sign_in_second_factor:null,claims:s})}function hp(r,s,c){var h=s&&s[hb];if(!h)throw new A("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=r,this.f=kt(s),this.g=c,this.c=new Dc(null,h),this.b=[];var p=this;U(s[fb]||[],function(m){(m=rd(m))&&p.b.push(m)}),pt(this,"auth",this.a),pt(this,"session",this.c),pt(this,"hints",this.b)}var fb="mfaInfo",hb="mfaPendingCredential";hp.prototype.Rc=function(r){var s=this;return r.tb(this.a.a,this.c).then(function(c){var h=kt(s.f);return delete h[fb],delete h[hb],Dt(h,c),s.g(h)})};function dp(r,s,c,h){A.call(this,"multi-factor-auth-required",h,s),this.b=new hp(r,s,c),pt(this,"resolver",this.b)}Q(dp,A);function db(r,s,c){if(r&&N(r.serverResponse)&&r.code==="auth/multi-factor-auth-required")try{return new dp(s,r.serverResponse,c,r.message)}catch{}return null}function pb(){}pb.prototype.tb=function(r,s,c){return s.type==Nu?lC(this,r,s,c):fC(this,r,s)};function lC(r,s,c,h){return c.Ha().then(function(p){return p={idToken:p},typeof h<"u"&&(p.displayName=h),Dt(p,{phoneVerificationInfo:ku(r.a)}),Ht(s,Zk,p)})}function fC(r,s,c){return c.Ha().then(function(h){return h={mfaPendingCredential:h},Dt(h,{phoneVerificationInfo:ku(r.a)}),Ht(s,tx,h)})}function pp(r){pt(this,"factorId",r.fa),this.a=r}Q(pp,pb);function gb(r){if(pp.call(this,r),this.a.fa!=qr.PROVIDER_ID)throw new A("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}Q(gb,pp);function us(r,s){Tn.call(this,r);for(var c in s)this[c]=s[c]}Q(us,Tn);function gp(r,s){this.a=r,this.b=[],this.c=V(this.yc,this),tr(this.a,"userReloaded",this.c);var c=[];s&&s.multiFactor&&s.multiFactor.enrolledFactors&&U(s.multiFactor.enrolledFactors,function(h){var p=null,m={};if(h){h.uid&&(m[od]=h.uid),h.displayName&&(m[_0]=h.displayName),h.enrollmentTime&&(m[id]=new Date(h.enrollmentTime).toISOString()),h.phoneNumber&&(m[sd]=h.phoneNumber);try{p=new Tu(m)}catch{}h=p}else h=null;h&&c.push(h)}),ol(this,c)}function hC(r){var s=[];return U(r.mfaInfo||[],function(c){(c=rd(c))&&s.push(c)}),s}t=gp.prototype,t.yc=function(r){ol(this,hC(r.hd))};function ol(r,s){r.b=s,pt(r,"enrolledFactors",s)}t.Sb=function(){return this.a.I().then(function(r){return new Dc(r,null)})},t.fc=function(r,s){var c=this,h=this.a.a;return this.Sb().then(function(p){return r.tb(h,p,s)}).then(function(p){return Ar(c.a,p),c.a.reload()})},t.bd=function(r){var s=this,c=typeof r=="string"?r:r.uid,h=this.a.a;return this.a.I().then(function(p){return Ht(h,bx,{idToken:p,mfaEnrollmentId:c})}).then(function(p){var m=ut(s.b,function(w){return w.uid!=c});return ol(s,m),Ar(s.a,p),s.a.reload().o(function(w){if(w.code!="auth/user-token-expired")throw w})})},t.w=function(){return{multiFactor:{enrolledFactors:Rt(this.b,function(r){return r.w()})}}};function vp(r,s,c){if(this.h=r,this.i=s,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}vp.prototype.start=function(){this.a=this.c,mp(this,!0)};function dC(r,s){return s?(r.a=r.c,r.g()):(s=r.a,r.a*=2,r.a>r.f&&(r.a=r.f),s)}function mp(r,s){r.stop(),r.b=Go(dC(r,s)).then(function(){return KN()}).then(function(){return r.h()}).then(function(){mp(r,!0)}).o(function(c){r.i(c)&&mp(r,!1)})}vp.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function yp(r){this.f=r,this.b=this.a=null,this.c=Date.now()}yp.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function vb(r,s){typeof s>"u"&&(r.b?(s=r.b,s=s.a-s.g):s=0),r.c=Date.now()+1e3*s}function mb(r,s){r.b=Oc(s[lr]||""),r.a=s.refreshToken,s=s.expiresIn,vb(r,typeof s<"u"?Number(s):void 0)}function pC(r,s){r.b=s.b,r.a=s.a,r.c=s.c}function gC(r,s){return Fk(r.f,s).then(function(c){return r.b=Oc(c.access_token),r.a=c.refresh_token,vb(r,c.expires_in),{accessToken:r.b.toString(),refreshToken:r.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(r.a=null),c})}yp.prototype.getToken=function(r){return r=!!r,this.b&&!this.a?me(new A("user-token-expired")):r||!this.b||Date.now()>this.c-3e4?this.a?gC(this,{grant_type:"refresh_token",refresh_token:this.a}):Et(null):Et({accessToken:this.b.toString(),refreshToken:this.a})};function sl(r,s){this.a=r||null,this.b=s||null,pn(this,{lastSignInTime:Iu(s||null),creationTime:Iu(r||null)})}function vC(r){return new sl(r.a,r.b)}sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function mC(r,s,c,h,p,m){pn(this,{uid:r,displayName:h||null,photoURL:p||null,email:c||null,phoneNumber:m||null,providerId:s})}function Un(r,s,c){this.N=[],this.l=r.apiKey,this.m=r.appName,this.s=r.authDomain||null;var h=xt.SDK_VERSION?Xo(xt.SDK_VERSION):null;this.a=new cr(this.l,Qt(st),h),(this.u=r.emulatorConfig||null)&&Wc(this.a,this.u),this.h=new yp(this.a),Sp(this,s[lr]),mb(this.h,s),pt(this,"refreshToken",this.h.a),wb(this,c||{}),dn.call(this),this.P=!1,this.s&&Qi()&&(this.b=cp(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=yC(this),this.ba=V(this.ib,this);var p=this;this.za=null,this.Pa=function(m){p.xa(m.h)},this.qa=null,this.Ba=function(m){wp(p,m.c)},this.$=null,this.aa=[],this.Oa=function(m){$u(p,m.f)},this.ja=null,this.S=new gp(this,c),pt(this,"multiFactor",this.S)}Q(Un,dn),Un.prototype.xa=function(r){this.za=r,dw(this.a,r)};function wp(r,s){r.u=s,Wc(r.a,s),r.b&&(s=r.b,r.b=cp(r.s,r.l,r.m,r.u),r.P&&(sp(s,r),nl(r.b,r)))}Un.prototype.la=function(){return this.za};function bp(r,s){r.qa&&Vn(r.qa,"languageCodeChanged",r.Pa),(r.qa=s)&&tr(s,"languageCodeChanged",r.Pa)}function _p(r,s){r.$&&Vn(r.$,"emulatorConfigChanged",r.Ba),(r.$=s)&&tr(s,"emulatorConfigChanged",r.Ba)}function $u(r,s){r.aa=s,pw(r.a,xt.SDK_VERSION?Xo(xt.SDK_VERSION,r.aa):null)}Un.prototype.Ga=function(){return nt(this.aa)};function Ep(r,s){r.ja&&Vn(r.ja,"frameworkChanged",r.Oa),(r.ja=s)&&tr(s,"frameworkChanged",r.Oa)}Un.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function Ip(r){try{return xt.app(r.m).auth()}catch{throw new A("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+r.m+"'!")}}function yC(r){return new vp(function(){return r.I(!0)},function(s){return!!(s&&s.code=="auth/network-request-failed")},function(){var s=r.h.c-Date.now()-3e5;return 0<s?s:0})}function yb(r){r.J||r.D.b||(r.D.start(),Vn(r,"tokenChanged",r.ba),tr(r,"tokenChanged",r.ba))}function Tp(r){Vn(r,"tokenChanged",r.ba),r.D.stop()}function Sp(r,s){r.Aa=s,pt(r,"_lat",s)}function wC(r,s){F(r.W,function(c){return c==s})}function so(r){for(var s=[],c=0;c<r.W.length;c++)s.push(r.W[c](r));return My(s).then(function(){return r})}function Ku(r){r.b&&!r.P&&(r.P=!0,nl(r.b,r))}function wb(r,s){pn(r,{uid:s.uid,displayName:s.displayName||null,photoURL:s.photoURL||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,isAnonymous:s.isAnonymous||!1,tenantId:s.tenantId||null,metadata:new sl(s.createdAt,s.lastLoginAt),providerData:[]}),r.a.b=r.tenantId}pt(Un.prototype,"providerId","firebase");function bb(){}function Ap(r){return Et().then(function(){if(r.J)throw new A("app-deleted")})}function Np(r){return Rt(r.providerData,function(s){return s.providerId})}function kp(r,s){s&&(_b(r,s.providerId),r.providerData.push(s))}function _b(r,s){F(r.providerData,function(c){return c.providerId==s})}function hi(r,s,c){(s!="uid"||c)&&r.hasOwnProperty(s)&&pt(r,s,c)}function ul(r,s){r!=s&&(pn(r,{uid:s.uid,displayName:s.displayName,photoURL:s.photoURL,email:s.email,emailVerified:s.emailVerified,phoneNumber:s.phoneNumber,isAnonymous:s.isAnonymous,tenantId:s.tenantId,providerData:[]}),s.metadata?pt(r,"metadata",vC(s.metadata)):pt(r,"metadata",new sl),U(s.providerData,function(c){kp(r,c)}),pC(r.h,s.h),pt(r,"refreshToken",r.h.a),ol(r.S,s.S.b))}t=Un.prototype,t.reload=function(){var r=this;return je(this,Ap(this).then(function(){return xp(r).then(function(){return so(r)}).then(bb)}))};function xp(r){return r.I().then(function(s){var c=r.isAnonymous;return bC(r,s).then(function(){return c||hi(r,"isAnonymous",!1),s})})}t.oc=function(r){return this.I(r).then(function(s){return new cC(s)})},t.I=function(r){var s=this;return je(this,Ap(this).then(function(){return s.h.getToken(r)}).then(function(c){if(!c)throw new A("internal-error");return c.accessToken!=s.Aa&&(Sp(s,c.accessToken),s.dispatchEvent(new us("tokenChanged"))),hi(s,"refreshToken",c.refreshToken),c.accessToken}))};function Ar(r,s){s[lr]&&r.Aa!=s[lr]&&(mb(r.h,s),r.dispatchEvent(new us("tokenChanged")),Sp(r,s[lr]),hi(r,"refreshToken",r.h.a))}function bC(r,s){return Ht(r.a,ex,{idToken:s}).then(V(r.Kc,r))}t.Kc=function(r){if(r=r.users,!r||!r.length)throw new A("internal-error");r=r[0],wb(this,{uid:r.localId,displayName:r.displayName,photoURL:r.photoUrl,email:r.email,emailVerified:!!r.emailVerified,phoneNumber:r.phoneNumber,lastLoginAt:r.lastLoginAt,createdAt:r.createdAt,tenantId:r.tenantId});for(var s=_C(r),c=0;c<s.length;c++)kp(this,s[c]);hi(this,"isAnonymous",!(this.email&&r.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new us("userReloaded",{hd:r}))};function _C(r){return(r=r.providerUserInfo)&&r.length?Rt(r,function(s){return new mC(s.rawId,s.providerId,s.email,s.displayName,s.photoUrl,s.phoneNumber)}):[]}t.Lc=function(r){return Jh("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(r)},t.ub=function(r){var s=this,c=null;return je(this,r.c(this.a,this.uid).then(function(h){return Ar(s,h),c=Hu(s,h,"reauthenticate"),s.i=null,s.reload()}).then(function(){return c}),!0)};function al(r,s){return xp(r).then(function(){if(C(Np(r),s))return so(r).then(function(){throw new A("provider-already-linked")})})}t.Cc=function(r){return Jh("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(r)},t.rb=function(r){var s=this,c=null;return je(this,al(this,r.providerId).then(function(){return s.I()}).then(function(h){return r.b(s.a,h)}).then(function(h){return c=Hu(s,h,"link"),Eb(s,h)}).then(function(){return c}))},t.Dc=function(r,s){var c=this;return je(this,al(this,"phone").then(function(){return fp(Ip(c),r,s,V(c.rb,c))}))},t.Mc=function(r,s){var c=this;return je(this,Et().then(function(){return fp(Ip(c),r,s,V(c.ub,c))}),!0)};function Hu(r,s,c){var h=md(s);return s=V0(s),Tr({user:r,credential:h,additionalUserInfo:s,operationType:c})}function Eb(r,s){return Ar(r,s),r.reload().then(function(){return r})}t.Cb=function(r){var s=this;return je(this,this.I().then(function(c){return s.a.Cb(c,r)}).then(function(c){return Ar(s,c),s.reload()}))},t.ed=function(r){var s=this;return je(this,this.I().then(function(c){return r.b(s.a,c)}).then(function(c){return Ar(s,c),s.reload()}))},t.Db=function(r){var s=this;return je(this,this.I().then(function(c){return s.a.Db(c,r)}).then(function(c){return Ar(s,c),s.reload()}))},t.Eb=function(r){if(r.displayName===void 0&&r.photoURL===void 0)return Ap(this);var s=this;return je(this,this.I().then(function(c){return s.a.Eb(c,{displayName:r.displayName,photoUrl:r.photoURL})}).then(function(c){return Ar(s,c),hi(s,"displayName",c.displayName||null),hi(s,"photoURL",c.photoUrl||null),U(s.providerData,function(h){h.providerId==="password"&&(pt(h,"displayName",s.displayName),pt(h,"photoURL",s.photoURL))}),so(s)}).then(bb))},t.cd=function(r){var s=this;return je(this,xp(this).then(function(c){return C(Np(s),r)?Kk(s.a,c,[r]).then(function(h){var p={};return U(h.providerUserInfo||[],function(m){p[m.providerId]=!0}),U(Np(s),function(m){p[m]||_b(s,m)}),p[qr.PROVIDER_ID]||pt(s,"phoneNumber",null),so(s)}):so(s).then(function(){throw new A("no-such-provider")})}))},t.delete=function(){var r=this;return je(this,this.I().then(function(s){return Ht(r.a,Qk,{idToken:s})}).then(function(){r.dispatchEvent(new us("userDeleted"))})).then(function(){for(var s=0;s<r.N.length;s++)r.N[s].cancel("app-deleted");bp(r,null),_p(r,null),Ep(r,null),r.N=[],r.J=!0,Tp(r),pt(r,"refreshToken",null),r.b&&sp(r.b,r)})},t.Gb=function(r,s){return!!(r=="linkViaPopup"&&(this.g||null)==s&&this.f||r=="reauthViaPopup"&&(this.g||null)==s&&this.f||r=="linkViaRedirect"&&(this.ga||null)==s||r=="reauthViaRedirect"&&(this.ga||null)==s)},t.na=function(r,s,c,h){r!="linkViaPopup"&&r!="reauthViaPopup"||h!=(this.g||null)||(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="linkViaPopup"&&s==(this.g||null)?V(this.Lb,this):r=="reauthViaPopup"&&s==(this.g||null)?V(this.Mb,this):r=="linkViaRedirect"&&(this.ga||null)==s?V(this.Lb,this):r=="reauthViaRedirect"&&(this.ga||null)==s?V(this.Mb,this):null},t.Ec=function(r){var s=this;return Ib(this,"linkViaPopup",r,function(){return al(s,r.providerId).then(function(){return so(s)})},!1)},t.Nc=function(r){return Ib(this,"reauthViaPopup",r,function(){return Et()},!0)};function Ib(r,s,c,h,p){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return me(r.i);var m=fd(c.providerId),w=Yi(r.uid+":::"),E=null;(!_u()||Wh())&&r.s&&c.isOAuthProvider&&(E=Vu(r.s,r.l,r.m,s,c,null,w,xt.SDK_VERSION||null,null,null,r.tenantId,r.u));var L=h0(E,m&&m.va,m&&m.ua);return h=h().then(function(){if(Sb(r),!p)return r.I().then(function(){})}).then(function(){return rb(r.b,L,s,c,w,!!E,r.tenantId)}).then(function(){return new Kt(function(H,Ct){r.na(s,null,new A("cancelled-popup-request"),r.g||null),r.f=H,r.C=Ct,r.g=w,r.c=ob(r.b,r,s,L,w)})}).then(function(H){return L&&Wi(L),H?Tr(H):null}).o(function(H){throw L&&Wi(L),H}),je(r,h,p)}t.Fc=function(r){var s=this;return Tb(this,"linkViaRedirect",r,function(){return al(s,r.providerId)},!1)},t.Oc=function(r){return Tb(this,"reauthViaRedirect",r,function(){return Et()},!0)};function Tb(r,s,c,h,p){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));if(r.i&&!p)return me(r.i);var m=null,w=Yi(r.uid+":::");return h=h().then(function(){if(Sb(r),!p)return r.I().then(function(){})}).then(function(){return r.ga=w,so(r)}).then(function(E){return r.ha&&(E=r.ha,E=E.b.set(Cp,r.w(),E.a)),E}).then(function(){return ib(r.b,s,c,w,r.tenantId)}).o(function(E){if(m=E,r.ha)return Nb(r.ha);throw m}).then(function(){if(m)throw m}),je(r,h,p)}function Sb(r){if(!r.b||!r.P)throw r.b&&!r.P?new A("internal-error"):new A("auth-domain-config-required")}t.Lb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null;return c=this.I().then(function(w){return Vd(p.a,{requestUri:r,postBody:h,sessionId:s,idToken:w})}).then(function(w){return m=Hu(p,w,"link"),Eb(p,w)}).then(function(){return m}),je(this,c)},t.Mb=function(r,s,c,h){var p=this;this.c&&(this.c.cancel(),this.c=null);var m=null,w=Et().then(function(){return es(jd(p.a,{requestUri:r,sessionId:s,postBody:h,tenantId:c}),p.uid)}).then(function(E){return m=Hu(p,E,"reauthenticate"),Ar(p,E),p.i=null,p.reload()}).then(function(){return m});return je(this,w,!0)},t.vb=function(r){var s=this,c=null;return je(this,this.I().then(function(h){return c=h,typeof r>"u"||Vt(r)?{}:xc(new kc(r))}).then(function(h){return s.a.vb(c,h)}).then(function(h){if(s.email!=h)return s.reload()}).then(function(){}))},t.Fb=function(r,s){var c=this,h=null;return je(this,this.I().then(function(p){return h=p,typeof s>"u"||Vt(s)?{}:xc(new kc(s))}).then(function(p){return c.a.Fb(h,r,p)}).then(function(p){if(c.email!=p)return c.reload()}).then(function(){}))};function je(r,s,c){var h=EC(r,s,c);return r.N.push(h),h.oa(function(){M(r.N,h)}),h.o(function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=db(p.w(),Ip(r),V(r.jc,r))),m||p})}t.jc=function(r){var s=null,c=this;return r=es(Et(r),c.uid).then(function(h){return s=Hu(c,h,"reauthenticate"),Ar(c,h),c.i=null,c.reload()}).then(function(){return s}),je(this,r,!0)};function EC(r,s,c){return r.i&&!c?(s.cancel(),me(r.i)):s.o(function(h){throw!h||h.code!="auth/user-disabled"&&h.code!="auth/user-token-expired"||(r.i||r.dispatchEvent(new us("userInvalidated")),r.i=h),h})}t.toJSON=function(){return this.w()},t.w=function(){var r={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Dt(r,this.metadata.w()),U(this.providerData,function(s){r.providerData.push(GN(s))}),Dt(r,this.S.w()),r};function Ab(r){if(!r.apiKey)return null;var s={apiKey:r.apiKey,authDomain:r.authDomain,appName:r.appName,emulatorConfig:r.emulatorConfig},c={};if(r.stsTokenManager&&r.stsTokenManager.accessToken){c[lr]=r.stsTokenManager.accessToken,c.refreshToken=r.stsTokenManager.refreshToken||null;var h=r.stsTokenManager.expirationTime;h&&(c.expiresIn=(h-Date.now())/1e3)}else return null;var p=new Un(s,c,r);return r.providerData&&U(r.providerData,function(m){m&&kp(p,Tr(m))}),r.redirectEventId&&(p.ga=r.redirectEventId),p}function IC(r,s,c,h){var p=new Un(r,s);return c&&(p.ha=c),h&&$u(p,h),p.reload().then(function(){return p})}function TC(r,s,c,h){var p=r.h,m={};return m[lr]=p.b&&p.b.toString(),m.refreshToken=p.a,s=new Un(s||{apiKey:r.l,authDomain:r.s,appName:r.m},m),c&&(s.ha=c),h&&$u(s,h),ul(s,r),s}function SC(r){this.a=r,this.b=qu()}var Cp={name:"redirectUser",F:"session"};function Nb(r){return ss(r.b,Cp,r.a)}function AC(r,s){return r.b.get(Cp,r.a).then(function(c){return c&&s&&(c.authDomain=s),Ab(c||{})})}function Op(r){this.a=r,this.b=qu(),this.c=null,this.f=NC(this),this.b.addListener(Nr("local"),this.a,V(this.g,this))}Op.prototype.g=function(){var r=this,s=Nr("local");as(this,function(){return Et().then(function(){return r.c&&r.c.F!="local"?r.b.get(s,r.a):null}).then(function(c){if(c)return Rp(r,"local").then(function(){r.c=s})})})};function Rp(r,s){var c=[],h;for(h in is)is[h]!==s&&c.push(ss(r.b,Nr(is[h]),r.a));return c.push(ss(r.b,Dp,r.a)),vN(c)}function NC(r){var s=Nr("local"),c=Nr("session"),h=Nr("none");return qx(r.b,s,r.a).then(function(){return r.b.get(c,r.a)}).then(function(p){return p?c:r.b.get(h,r.a).then(function(m){return m?h:r.b.get(s,r.a).then(function(w){return w?s:r.b.get(Dp,r.a).then(function(E){return E?Nr(E):s})})})}).then(function(p){return r.c=p,Rp(r,p.F)}).o(function(){r.c||(r.c=s)})}var Dp={name:"persistence",F:"session"};function Nr(r){return{name:"authUser",F:r}}Op.prototype.yb=function(r){var s=null,c=this;return Bx(r),as(this,function(){return r!=c.c.F?c.b.get(c.c,c.a).then(function(h){return s=h,Rp(c,r)}).then(function(){if(c.c=Nr(r),s)return c.b.set(c.c,s,c.a)}):Et()})};function kC(r){return as(r,function(){return r.b.set(Dp,r.c.F,r.a)})}function kb(r,s){return as(r,function(){return r.b.set(r.c,s.w(),r.a)})}function xb(r){return as(r,function(){return ss(r.b,r.c,r.a)})}function Cb(r,s,c){return as(r,function(){return r.b.get(r.c,r.a).then(function(h){return h&&s&&(h.authDomain=s),h&&c&&(h.emulatorConfig=c),Ab(h||{})})})}function as(r,s){return r.f=r.f.then(s,s),r.f}function fr(r){if(this.l=!1,pt(this,"settings",new lb),pt(this,"app",r),ue(this).options&&ue(this).options.apiKey)r=xt.SDK_VERSION?Xo(xt.SDK_VERSION):null,this.a=new cr(ue(this).options&&ue(this).options.apiKey,Qt(st),r);else throw new A("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xt.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=xt.INTERNAL.createSubscribe(V(this.Ac,this)),cs(this,null),this.i=new Op(ue(this).options.apiKey+":"+ue(this).name),this.D=new SC(ue(this).options.apiKey+":"+ue(this).name),this.$=Te(this,PC(this)),this.h=Te(this,LC(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,OC(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,dn.call(this),CC(this),this.J=[],this.R=null}Q(fr,dn);function Ob(r){Tn.call(this,"languageCodeChanged"),this.h=r}Q(Ob,Tn);function Rb(r){Tn.call(this,"emulatorConfigChanged"),this.c=r}Q(Rb,Tn);function Db(r){Tn.call(this,"frameworkChanged"),this.f=r}Q(Db,Tn),t=fr.prototype,t.yb=function(r){return r=this.i.yb(r),Te(this,r)},t.xa=function(r){this.aa===r||this.l||(this.aa=r,dw(this.a,this.aa),this.dispatchEvent(new Ob(this.la())))},t.la=function(){return this.aa},t.fd=function(){var r=f.navigator;this.xa(r&&(r.languages&&r.languages[0]||r.language||r.userLanguage)||null)},t.gd=function(r,s){if(!this.R){if(!/^https?:\/\//.test(r))throw new A("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");s=s?!!s.disableWarnings:!1,xC(s),this.R={url:r,ec:s},this.settings.jb=!0,Wc(this.a,this.R),this.dispatchEvent(new Rb(this.R))}};function xC(r){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!r&&Sc().then(function(){var s=f.document.createElement("div");s.innerText="Running in emulator mode. Do not use with production credentials.",s.style.position="fixed",s.style.width="100%",s.style.backgroundColor="#ffffff",s.style.border=".1em solid #000000",s.style.color="#b50000",s.style.bottom="0px",s.style.left="0px",s.style.margin="0px",s.style.zIndex=1e4,s.style.textAlign="center",s.classList.add("firebase-emulator-warning"),f.document.body.appendChild(s)})}t.Gc=function(r){this.J.push(r),pw(this.a,xt.SDK_VERSION?Xo(xt.SDK_VERSION,this.J):null),this.dispatchEvent(new Db(this.J))},t.Ga=function(){return nt(this.J)},t.zb=function(r){this.S===r||this.l||(this.S=r,this.a.b=this.S)},t.T=function(){return this.S};function CC(r){Object.defineProperty(r,"lc",{get:function(){return this.la()},set:function(s){this.xa(s)},enumerable:!1}),r.aa=null,Object.defineProperty(r,"ti",{get:function(){return this.T()},set:function(s){this.zb(s)},enumerable:!1}),r.S=null,Object.defineProperty(r,"emulatorConfig",{get:function(){if(this.R){var s=Sn(this.R.url);s=Tr({protocol:s.c,host:s.a,port:s.g,options:Tr({disableWarnings:this.R.ec})})}else s=null;return s},enumerable:!1})}t.toJSON=function(){return{apiKey:ue(this).options.apiKey,authDomain:ue(this).options.authDomain,appName:ue(this).name,currentUser:Ut(this)&&Ut(this).w()}};function Pp(r){return r.Oa||me(new A("auth-domain-config-required"))}function OC(r){var s=ue(r).options.authDomain,c=ue(r).options.apiKey;s&&Qi()&&(r.Oa=r.$.then(function(){if(!r.l){if(r.b=cp(s,c,ue(r).name,r.R),nl(r.b,r),Ut(r)&&Ku(Ut(r)),r.m){Ku(r.m);var h=r.m;h.xa(r.la()),bp(h,r),h=r.m,$u(h,r.J),Ep(h,r),h=r.m,wp(h,r.R),_p(h,r),r.m=null}return r.b}}))}t.Gb=function(r,s){switch(r){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==s&&!!this.f;default:return!1}},t.na=function(r,s,c,h){r=="signInViaPopup"&&this.g==h&&(c&&this.C?this.C(c):s&&!c&&this.f&&this.f(s),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(r,s){return r=="signInViaRedirect"||r=="signInViaPopup"&&this.g==s&&this.f?V(this.ic,this):null},t.ic=function(r,s,c,h){var p=this,m={requestUri:r,postBody:h,sessionId:s,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),p.$.then(function(){return uo(p,Fd(p.a,m))})},t.Xc=function(r){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));var s=this,c=fd(r.providerId),h=Yi(),p=null;(!_u()||Wh())&&ue(this).options.authDomain&&r.isOAuthProvider&&(p=Vu(ue(this).options.authDomain,ue(this).options.apiKey,ue(this).name,"signInViaPopup",r,null,h,xt.SDK_VERSION||null,null,null,this.T(),this.R));var m=h0(p,c&&c.va,c&&c.ua);return c=Pp(this).then(function(w){return rb(w,m,"signInViaPopup",r,h,!!p,s.T())}).then(function(){return new Kt(function(w,E){s.na("signInViaPopup",null,new A("cancelled-popup-request"),s.g),s.f=w,s.C=E,s.g=h,s.c=ob(s.b,s,"signInViaPopup",m,h)})}).then(function(w){return m&&Wi(m),w?Tr(w):null}).o(function(w){throw m&&Wi(m),w}),Te(this,c)},t.Yc=function(r){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));var s=this,c=Pp(this).then(function(){return kC(s.i)}).then(function(){return ib(s.b,"signInViaRedirect",r,void 0,s.T())});return Te(this,c)};function Pb(r){if(!Qi())return me(new A("operation-not-supported-in-this-environment"));var s=Pp(r).then(function(){return r.b.ra()}).then(function(c){return c?Tr(c):null});return Te(r,s)}t.ra=function(){var r=this;return Pb(this).then(function(s){return r.b&&il(r.b.b),s}).o(function(s){throw r.b&&il(r.b.b),s})},t.dd=function(r){if(!r)return me(new A("null-user"));if(this.S!=r.tenantId)return me(new A("tenant-id-mismatch"));var s=this,c={};c.apiKey=ue(this).options.apiKey,c.authDomain=ue(this).options.authDomain,c.appName=ue(this).name;var h=TC(r,c,s.D,s.Ga());return Te(this,this.h.then(function(){if(ue(s).options.apiKey!=r.l)return h.reload()}).then(function(){return Ut(s)&&r.uid==Ut(s).uid?(ul(Ut(s),r),s.da(r)):(cs(s,h),Ku(h),s.da(h))}).then(function(){zu(s)}))};function RC(r,s){var c={};return c.apiKey=ue(r).options.apiKey,c.authDomain=ue(r).options.authDomain,c.appName=ue(r).name,r.R&&(c.emulatorConfig=r.R),r.$.then(function(){return IC(c,s,r.D,r.Ga())}).then(function(h){return Ut(r)&&h.uid==Ut(r).uid?(ul(Ut(r),h),r.da(h)):(cs(r,h),Ku(h),r.da(h))}).then(function(){zu(r)})}function cs(r,s){Ut(r)&&(wC(Ut(r),r.Ba),Vn(Ut(r),"tokenChanged",r.qa),Vn(Ut(r),"userDeleted",r.za),Vn(Ut(r),"userInvalidated",r.Aa),Tp(Ut(r))),s&&(s.W.push(r.Ba),tr(s,"tokenChanged",r.qa),tr(s,"userDeleted",r.za),tr(s,"userInvalidated",r.Aa),0<r.u&&yb(s)),pt(r,"currentUser",s),s&&(s.xa(r.la()),bp(s,r),$u(s,r.J),Ep(s,r),wp(s,r.R),_p(s,r))}t.Bb=function(){var r=this,s=this.h.then(function(){return r.b&&il(r.b.b),Ut(r)?(cs(r,null),xb(r.i).then(function(){zu(r)})):Et()});return Te(this,s)};function DC(r){var s=AC(r.D,ue(r).options.authDomain).then(function(c){return(r.m=c)&&(c.ha=r.D),Nb(r.D)});return Te(r,s)}function PC(r){var s=ue(r).options.authDomain,c=DC(r).then(function(){return Cb(r.i,s,r.R)}).then(function(h){return h?(h.ha=r.D,r.m&&(r.m.ga||null)==(h.ga||null)?h:h.reload().then(function(){return kb(r.i,h).then(function(){return h})}).o(function(p){return p.code=="auth/network-request-failed"?h:xb(r.i)})):null}).then(function(h){cs(r,h||null)});return Te(r,c)}function LC(r){return r.$.then(function(){return Pb(r)}).o(function(){}).then(function(){if(!r.l)return r.ja()}).o(function(){}).then(function(){if(!r.l){r.ba=!0;var s=r.i;s.b.addListener(Nr("local"),s.a,r.ja)}})}t.Zc=function(){var r=this;return Cb(this.i,ue(this).options.authDomain).then(function(s){if(!r.l){var c;if(c=Ut(r)&&s){c=Ut(r).uid;var h=s.uid;c=c==null||c===""||h===void 0||h===null||h===""?!1:c==h}if(c)return ul(Ut(r),s),Ut(r).I();(Ut(r)||s)&&(cs(r,s),s&&(Ku(s),s.ha=r.D),r.b&&nl(r.b,r),zu(r))}})},t.da=function(r){return kb(this.i,r)},t.mc=function(){zu(this),this.da(Ut(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()};function uo(r,s){var c=null,h=null;return Te(r,s.then(function(p){return c=md(p),h=V0(p),RC(r,p)},function(p){var m=null;throw p&&p.code==="auth/multi-factor-auth-required"&&(m=db(p.w(),r,V(r.kc,r))),m||p}).then(function(){return Tr({user:Ut(r),credential:c,additionalUserInfo:h,operationType:"signIn"})}))}t.kc=function(r){var s=this;return this.h.then(function(){return uo(s,Et(r))})},t.zc=function(r){var s=this;this.addAuthTokenListener(function(){r.next(Ut(s))})},t.Ac=function(r){var s=this;MC(this,function(){r.next(Ut(s))})},t.Ic=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){typeof r=="function"?r(Ut(h)):typeof r.next=="function"&&r.next(Ut(h))}),this.Pa(r,s,c)},t.Hc=function(r,s,c){var h=this;return this.ba&&Promise.resolve().then(function(){h.W=h.getUid(),typeof r=="function"?r(Ut(h)):typeof r.next=="function"&&r.next(Ut(h))}),this.ib(r,s,c)},t.nc=function(r){var s=this,c=this.h.then(function(){return Ut(s)?Ut(s).I(r).then(function(h){return{accessToken:h}}):null});return Te(this,c)},t.Tc=function(r){var s=this;return this.h.then(function(){return uo(s,Ht(s.a,vx,{token:r}))}).then(function(c){var h=c.user;return hi(h,"isAnonymous",!1),s.da(h),c})},t.Uc=function(r,s){var c=this;return this.h.then(function(){return uo(c,Ht(c.a,Iw,{email:r,password:s}))})},t.dc=function(r,s){var c=this;return this.h.then(function(){return uo(c,Ht(c.a,Gk,{email:r,password:s}))})},t.ab=function(r){var s=this;return this.h.then(function(){return uo(s,r.ka(s.a))})},t.Sc=function(r){return Jh("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(r)},t.Ab=function(){var r=this;return this.h.then(function(){var s=Ut(r);if(s&&s.isAnonymous){var c=Tr({providerId:null,isNewUser:!1});return Tr({user:s,credential:null,additionalUserInfo:c,operationType:"signIn"})}return uo(r,r.a.Ab()).then(function(h){var p=h.user;return hi(p,"isAnonymous",!0),r.da(p),h})})};function ue(r){return r.app}function Ut(r){return r.currentUser}t.getUid=function(){return Ut(this)&&Ut(this).uid||null};function cl(r){return Ut(r)&&Ut(r)._lat||null}function zu(r){if(r.ba){for(var s=0;s<r.s.length;s++)r.s[s]&&r.s[s](cl(r));if(r.W!==r.getUid()&&r.N.length)for(r.W=r.getUid(),s=0;s<r.N.length;s++)r.N[s]&&r.N[s](cl(r))}}t.cc=function(r){this.addAuthTokenListener(r),this.u++,0<this.u&&Ut(this)&&yb(Ut(this))},t.Pc=function(r){var s=this;U(this.s,function(c){c==r&&s.u--}),0>this.u&&(this.u=0),this.u==0&&Ut(this)&&Tp(Ut(this)),this.removeAuthTokenListener(r)},t.addAuthTokenListener=function(r){var s=this;this.s.push(r),Te(this,this.h.then(function(){s.l||C(s.s,r)&&r(cl(s))}))},t.removeAuthTokenListener=function(r){F(this.s,function(s){return s==r})};function MC(r,s){r.N.push(s),Te(r,r.h.then(function(){!r.l&&C(r.N,s)&&r.W!==r.getUid()&&(r.W=r.getUid(),s(cl(r)))}))}t.delete=function(){this.l=!0;for(var r=0;r<this.P.length;r++)this.P[r].cancel("app-deleted");return this.P=[],this.i&&(r=this.i,r.b.removeListener(Nr("local"),r.a,this.ja)),this.b&&(sp(this.b,this),il(this.b.b)),Promise.resolve()};function Te(r,s){return r.P.push(s),s.oa(function(){M(r.P,s)}),s}t.hc=function(r){return Te(this,Vk(this.a,r))},t.Bc=function(r){return!!vd(r)},t.xb=function(r,s){var c=this;return Te(this,Et().then(function(){var h=new kc(s);if(!h.c)throw new A("argument-error",cd+" must be true when sending sign in link to email");return xc(h)}).then(function(h){return c.a.xb(r,h)}).then(function(){}))},t.jd=function(r){return this.Sa(r).then(function(s){return s.data.email})},t.ob=function(r,s){return Te(this,this.a.ob(r,s).then(function(){}))},t.Sa=function(r){return Te(this,this.a.Sa(r).then(function(s){return new QN(s)}))},t.kb=function(r){return Te(this,this.a.kb(r).then(function(){}))},t.wb=function(r,s){var c=this;return Te(this,Et().then(function(){return typeof s>"u"||Vt(s)?{}:xc(new kc(s))}).then(function(h){return c.a.wb(r,h)}).then(function(){}))},t.Wc=function(r,s){return Te(this,fp(this,r,s,V(this.ab,this)))},t.Vc=function(r,s){var c=this;return Te(this,Et().then(function(){var h=s||bu(),p=Y0(r,h);if(h=vd(h),!h)throw new A("argument-error","Invalid email link!");if(h.tenantId!==c.T())throw new A("tenant-id-mismatch");return c.ab(p)}))};function Gu(){}Gu.prototype.render=function(){},Gu.prototype.reset=function(){},Gu.prototype.getResponse=function(){},Gu.prototype.execute=function(){};function ls(){this.a={},this.b=1e12}var Lp=null;ls.prototype.render=function(r,s){return this.a[this.b.toString()]=new ll(r,s),this.b++},ls.prototype.reset=function(r){var s=Mp(this,r);r=Lb(r),s&&r&&(s.delete(),delete this.a[r])},ls.prototype.getResponse=function(r){return(r=Mp(this,r))?r.getResponse():null},ls.prototype.execute=function(r){(r=Mp(this,r))&&r.execute()};function Mp(r,s){return(s=Lb(s))&&r.a[s]||null}function Lb(r){return(r=typeof r>"u"?1e12:r)?r.toString():null}function ll(r,s){this.g=!1,this.c=s,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=du(r);var c=this;this.i=function(){c.execute()},this.h?this.execute():tr(this.f,"click",this.i)}ll.prototype.getResponse=function(){return Fp(this),this.b},ll.prototype.execute=function(){Fp(this);var r=this;this.a||(this.a=setTimeout(function(){r.b=$N();var s=r.c.callback,c=r.c["expired-callback"];if(s)try{s(r.b)}catch{}r.a=setTimeout(function(){if(r.a=null,r.b=null,c)try{c()}catch{}r.h&&r.execute()},6e4)},500))},ll.prototype.delete=function(){Fp(this),this.g=!0,clearTimeout(this.a),this.a=null,Vn(this.f,"click",this.i)};function Fp(r){if(r.g)throw Error("reCAPTCHA mock was already deleted!")}function Vp(){}pt(Vp,"FACTOR_ID","phone");function jp(){}jp.prototype.g=function(){return Lp||(Lp=new ls),Et(Lp)},jp.prototype.c=function(){};var Up=null;function Bp(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var FC=new nn(hc,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),VC=new ci(3e4,6e4);Bp.prototype.g=function(r){var s=this;return new Kt(function(c,h){var p=setTimeout(function(){h(new A("network-request-failed"))},VC.get());if(!f.grecaptcha||r!==s.f&&!s.b){f[s.a]=function(){if(f.grecaptcha){s.f=r;var w=f.grecaptcha.render;f.grecaptcha.render=function(E,L){return E=w(E,L),s.b++,E},clearTimeout(p),c(f.grecaptcha)}else clearTimeout(p),h(new A("internal-error"));delete f[s.a]};var m=Eh(FC,{onload:s.a,hl:r||""});Et(Cd(m)).o(function(){clearTimeout(p),h(new A("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(p),c(f.grecaptcha)})},Bp.prototype.c=function(){this.b--};var qp=null;function $p(r,s,c,h,p,m,w){if(pt(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=s,this.g=null,w?(Up||(Up=new jp),w=Up):(qp||(qp=new Bp),w=qp),this.m=w,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[Vb])throw new A("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[jC]==="invisible",!f.document)throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!du(s)||!this.i&&du(s).hasChildNodes())throw new A("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new cr(r,m||null,p||null),this.u=h||function(){return null};var E=this;this.l=[];var L=this.a[Mb];this.a[Mb]=function(Ct){if(jb(E,Ct),typeof L=="function")L(Ct);else if(typeof L=="string"){var re=ye(L,f);typeof re=="function"&&re(Ct)}};var H=this.a[Fb];this.a[Fb]=function(){if(jb(E,null),typeof H=="function")H();else if(typeof H=="string"){var Ct=ye(H,f);typeof Ct=="function"&&Ct()}}}var Mb="callback",Fb="expired-callback",Vb="sitekey",jC="size";function jb(r,s){for(var c=0;c<r.l.length;c++)try{r.l[c](s)}catch{}}function UC(r,s){F(r.l,function(c){return c==s})}function Kp(r,s){return r.h.push(s),s.oa(function(){M(r.h,s)}),s}t=$p.prototype,t.Ia=function(){var r=this;return this.f?this.f:this.f=Kp(this,Et().then(function(){if(Ac()&&!ur())return Sc();throw new A("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return r.m.g(r.u())}).then(function(s){return r.g=s,Ht(r.s,ux,{})}).then(function(s){r.a[Vb]=s.recaptchaSiteKey}).o(function(s){throw r.f=null,s}))},t.render=function(){fl(this);var r=this;return Kp(this,this.Ia().then(function(){if(r.c===null){var s=r.v;if(!r.i){var c=du(s);s=hN("DIV"),c.appendChild(s)}r.c=r.g.render(s,r.a)}return r.c}))},t.verify=function(){fl(this);var r=this;return Kp(this,this.render().then(function(s){return new Kt(function(c){var h=r.g.getResponse(s);if(h)c(h);else{var p=function(m){m&&(UC(r,p),c(m))};r.l.push(p),r.i&&r.g.execute(r.c)}})}))},t.reset=function(){fl(this),this.c!==null&&this.g.reset(this.c)};function fl(r){if(r.J)throw new A("internal-error","RecaptchaVerifier instance has been destroyed.")}t.clear=function(){fl(this),this.J=!0,this.m.c();for(var r=0;r<this.h.length;r++)this.h[r].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){r=du(this.v);for(var s;s=r.firstChild;)r.removeChild(s)}};function Hp(r,s,c){var h=!1;try{this.b=c||xt.app()}catch{throw new A("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new A("invalid-api-key");var p=this,m=null;try{m=this.b.auth().Ga()}catch{}try{h=this.b.auth().settings.appVerificationDisabledForTesting}catch{}m=xt.SDK_VERSION?Xo(xt.SDK_VERSION,m):null,$p.call(this,c,r,s,function(){try{var w=p.b.auth().la()}catch{w=null}return w},m,Qt(st),h)}Q(Hp,$p);function Ub(r,s,c,h){t:{c=Array.prototype.slice.call(c);for(var p=0,m=!1,w=0;w<s.length;w++)if(s[w].optional)m=!0;else{if(m)throw new A("internal-error","Argument validator encountered a required argument after an optional argument.");p++}if(m=s.length,c.length<p||m<c.length)h="Expected "+(p==m?p==1?"1 argument":p+" arguments":p+"-"+m+" arguments")+" but got "+c.length+".";else{for(p=0;p<c.length;p++)if(m=s[p].optional&&c[p]===void 0,!s[p].M(c[p])&&!m){if(s=s[p],0>p||p>=Bb.length)throw new A("internal-error","Argument validator received an unsupported number of arguments.");c=Bb[p],h=(h?"":c+" argument ")+(s.name?'"'+s.name+'" ':"")+"must be "+s.K+".";break t}h=null}}if(h)throw new A("argument-error",r+" failed: "+h)}var Bb="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function ft(r,s){return{name:r||"",K:"a valid string",optional:!!s,M:function(c){return typeof c=="string"}}}function zp(r,s){return{name:r||"",K:"a boolean",optional:!!s,M:function(c){return typeof c=="boolean"}}}function Oe(r,s){return{name:r||"",K:"a valid object",optional:!!s,M:N}}function fs(r,s){return{name:r||"",K:"a function",optional:!!s,M:function(c){return typeof c=="function"}}}function kr(r,s){return{name:r||"",K:"null",optional:!!s,M:function(c){return c===null}}}function BC(){return{name:"",K:"an HTML element",optional:!1,M:function(r){return!!(r&&r instanceof Element)}}}function qC(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(r){return!!(r&&r instanceof fr)}}}function $C(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(r){return!!(r&&r instanceof xt.app.App)}}}function di(r){return{name:r?r+"Credential":"credential",K:r?"a valid "+r+" credential":"a valid credential",optional:!1,M:function(s){if(!s)return!1;var c=!r||s.providerId===r;return!(!s.ka||!c)}}}function qb(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(r){return r?!!r.tb:!1}}}function hs(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(r){return!!(r&&r.providerId&&r.hasOwnProperty&&r.hasOwnProperty("isOAuthProvider"))}}}function Gp(r,s){return N(r)&&typeof r.type=="string"&&r.type===s&&typeof r.Ha=="function"}function $b(r){return N(r)&&typeof r.uid=="string"}function hl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(r){return!(!r||typeof r.type!="string"||typeof r.verify!="function")}}}function ke(r,s,c,h){return{name:c||"",K:r.K+" or "+s.K,optional:!!h,M:function(p){return r.M(p)||s.M(p)}}}function be(r,s){for(var c in s){var h=s[c].name;r[h]=Hb(h,r[c],s[c].j)}}function Kb(r,s){for(var c in s){var h=s[c].name;h!==c&&Object.defineProperty(r,h,{get:It(function(p){return this[p]},c),set:It(function(p,m,w,E){Ub(p,[w],[E],!0),this[m]=E},h,c,s[c].lb),enumerable:!0})}}function xe(r,s,c,h){r[s]=Hb(s,c,h)}function Hb(r,s,c){function h(){var w=Array.prototype.slice.call(arguments);return Ub(p,c,w),s.apply(this,w)}if(!c)return s;var p=KC(r),m;for(m in s)h[m]=s[m];for(m in s.prototype)h.prototype[m]=s.prototype[m];return h}function KC(r){return r=r.split("."),r[r.length-1]}be(fr.prototype,{kb:{name:"applyActionCode",j:[ft("code")]},Sa:{name:"checkActionCode",j:[ft("code")]},ob:{name:"confirmPasswordReset",j:[ft("code"),ft("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[ft("email"),ft("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[ft("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[ft("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ke(Oe(),fs(),"nextOrObserver"),fs("opt_error",!0),fs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ke(Oe(),fs(),"nextOrObserver"),fs("opt_error",!0),fs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[ft("email"),ke(Oe("opt_actionCodeSettings",!0),kr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[ft("email"),Oe("actionCodeSettings")]},yb:{name:"setPersistence",j:[ft("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[di()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[di()]},Tc:{name:"signInWithCustomToken",j:[ft("token")]},Uc:{name:"signInWithEmailAndPassword",j:[ft("email"),ft("password")]},Vc:{name:"signInWithEmailLink",j:[ft("email"),ft("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[ft("phoneNumber"),hl()]},Xc:{name:"signInWithPopup",j:[hs()]},Yc:{name:"signInWithRedirect",j:[hs()]},dd:{name:"updateCurrentUser",j:[ke(function(r){return{name:"user",K:"an instance of Firebase User",optional:!!r,M:function(s){return!!(s&&s instanceof Un)}}}(),kr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[ft(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[ft("url"),Oe("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[ft("code")]}}),Kb(fr.prototype,{lc:{name:"languageCode",lb:ke(ft(),kr(),"languageCode")},ti:{name:"tenantId",lb:ke(ft(),kr(),"tenantId")}}),fr.Persistence=is,fr.Persistence.LOCAL="local",fr.Persistence.SESSION="session",fr.Persistence.NONE="none",be(Un.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[zp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[zp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[di()]},rb:{name:"linkWithCredential",j:[di()]},Dc:{name:"linkWithPhoneNumber",j:[ft("phoneNumber"),hl()]},Ec:{name:"linkWithPopup",j:[hs()]},Fc:{name:"linkWithRedirect",j:[hs()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[di()]},ub:{name:"reauthenticateWithCredential",j:[di()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[ft("phoneNumber"),hl()]},Nc:{name:"reauthenticateWithPopup",j:[hs()]},Oc:{name:"reauthenticateWithRedirect",j:[hs()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[ke(Oe("opt_actionCodeSettings",!0),kr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[ft(null,!0)]},cd:{name:"unlink",j:[ft("provider")]},Cb:{name:"updateEmail",j:[ft("email")]},Db:{name:"updatePassword",j:[ft("password")]},ed:{name:"updatePhoneNumber",j:[di("phone")]},Eb:{name:"updateProfile",j:[Oe("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[ft("email"),ke(Oe("opt_actionCodeSettings",!0),kr(null,!0),"opt_actionCodeSettings",!0)]}}),be(ls.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),be(Gu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),be(Kt.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Kb(lb.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:zp("appVerificationDisabledForTesting")}}),be(lp.prototype,{confirm:{name:"confirm",j:[ft("verificationCode")]}}),xe(ts,"fromJSON",function(r){r=typeof r=="string"?JSON.parse(r):r;for(var s,c=[dk,pk,gk,hk],h=0;h<c.length;h++)if(s=c[h](r))return s;return null},[ke(ft(),Oe(),"json")]),xe(nr,"credential",function(r,s){return new li(r,s)},[ft("email"),ft("password")]),be(li.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(Zi.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(Zi,"credential",z0,[ke(ft(),Oe(),"token")]),xe(nr,"credentialWithLink",Y0,[ft("email"),ft("emailLink")]),be(to.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(to,"credential",G0,[ke(ft(),Oe(),"token")]),be(eo.prototype,{Ca:{name:"addScope",j:[ft("scope")]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(eo,"credential",W0,[ke(ft(),ke(Oe(),kr()),"idToken"),ke(ft(),kr(),"accessToken",!0)]),be(ns.prototype,{Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),xe(ns,"credential",Q0,[ke(ft(),Oe(),"token"),ft("secret",!0)]),be(jn.prototype,{Ca:{name:"addScope",j:[ft("scope")]},credential:{name:"credential",j:[ke(ft(),ke(Oe(),kr()),"optionsOrIdToken"),ke(ft(),kr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Oe("customOAuthParameters")]}}),be(Br.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(Xi.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),xe(qr,"credential",X0,[ft("verificationId"),ft("verificationCode")]),be(qr.prototype,{gb:{name:"verifyPhoneNumber",j:[ke(ft(),function(r,s){return{name:r||"phoneInfoOptions",K:"valid phone info options",optional:!!s,M:function(c){return c?c.session&&c.phoneNumber?Gp(c.session,Nu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Gp(c.session,Pc)&&$b(c.multiFactorHint):c.session&&c.multiFactorUid?Gp(c.session,Pc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),hl()]}}),be(fi.prototype,{w:{name:"toJSON",j:[ft(null,!0)]}}),be(A.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(xu.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(bd.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(dp.prototype,{toJSON:{name:"toJSON",j:[ft(null,!0)]}}),be(hp.prototype,{Rc:{name:"resolveSignIn",j:[qb()]}}),be(gp.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[qb(),ft("displayName",!0)]},bd:{name:"unenroll",j:[ke({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:$b},ft(),"multiFactorInfoIdentifier")]}}),be(Hp.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),xe(ad,"parseLink",k0,[ft("link")]),xe(Vp,"assertion",function(r){return new gb(r)},[di("phone")]),function(){if(typeof xt<"u"&&xt.INTERNAL&&xt.INTERNAL.registerComponent){var r={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ud,VERIFY_AND_CHANGE_EMAIL:Su,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:fr,AuthCredential:ts,Error:A};xe(r,"EmailAuthProvider",nr,[]),xe(r,"FacebookAuthProvider",Zi,[]),xe(r,"GithubAuthProvider",to,[]),xe(r,"GoogleAuthProvider",eo,[]),xe(r,"TwitterAuthProvider",ns,[]),xe(r,"OAuthProvider",jn,[ft("providerId")]),xe(r,"SAMLAuthProvider",H0,[ft("providerId")]),xe(r,"PhoneAuthProvider",qr,[qC()]),xe(r,"RecaptchaVerifier",Hp,[ke(ft(),BC(),"recaptchaContainer"),Oe("recaptchaParameters",!0),$C()]),xe(r,"ActionCodeURL",ad,[]),xe(r,"PhoneMultiFactorGenerator",Vp,[]),xt.INTERNAL.registerComponent({name:"auth",instanceFactory:function(s){return s=s.getProvider("app").getImmediate(),new fr(s)},multipleInstances:!1,serviceProps:r,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(s){s.getProvider("auth-internal").initialize()}}),xt.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(s){return s=s.getProvider("auth").getImmediate(),{getUid:V(s.getUid,s),getToken:V(s.nc,s),addAuthTokenListener:V(s.cc,s),removeAuthTokenListener:V(s.Pc,s)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xt.registerVersion("@firebase/auth","0.16.8"),xt.INTERNAL.extendNamespace({User:Un})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fg=function(t,e){return Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])},Fg(t,e)};function IP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function R1(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var TP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ct,Yv=Yv||{},Pt=TP||self;function Gl(){}function Vg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function za(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function SP(t){return Object.prototype.hasOwnProperty.call(t,rg)&&t[rg]||(t[rg]=++AP)}var rg="closure_uid_"+(1e9*Math.random()>>>0),AP=0;function NP(t,e,n){return t.call.apply(t.bind,arguments)}function kP(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,i),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Je(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Je=NP:Je=kP,Je.apply(null,arguments)}function bl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function tn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(i,o,u){for(var a=Array(arguments.length-2),l=2;l<arguments.length;l++)a[l-2]=arguments[l];return e.prototype[o].apply(i,a)}}function Vi(){this.s=this.s,this.o=this.o}var xP=0;Vi.prototype.s=!1;Vi.prototype.na=function(){!this.s&&(this.s=!0,this.M(),xP!=0)&&SP(this)};Vi.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var D1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},P1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=typeof t=="string"?t.split(""):t,u=0;u<i;u++)u in o&&e.call(n,o[u],u,t)};function CP(t){t:{for(var e=_L,n=t.length,i=typeof t=="string"?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function A_(t){return Array.prototype.concat.apply([],arguments)}function Xv(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function Wl(t){return/^[\s\xa0]*$/.test(t)}var N_=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function yn(t,e){return t.indexOf(e)!=-1}function ig(t,e){return t<e?-1:t>e?1:0}var wn;t:{var k_=Pt.navigator;if(k_){var x_=k_.userAgent;if(x_){wn=x_;break t}}wn=""}function Jv(t,e,n){for(var i in t)e.call(n,t[i],i,t)}function L1(t){var e={};for(var n in t)e[n]=t[n];return e}var C_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M1(t,e){for(var n,i,o=1;o<arguments.length;o++){i=arguments[o];for(n in i)t[n]=i[n];for(var u=0;u<C_.length;u++)n=C_[u],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Zv(t){return Zv[" "](t),t}Zv[" "]=Gl;function OP(t){var e=PP;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var RP=yn(wn,"Opera"),Ls=yn(wn,"Trident")||yn(wn,"MSIE"),F1=yn(wn,"Edge"),jg=F1||Ls,V1=yn(wn,"Gecko")&&!(yn(wn.toLowerCase(),"webkit")&&!yn(wn,"Edge"))&&!(yn(wn,"Trident")||yn(wn,"MSIE"))&&!yn(wn,"Edge"),DP=yn(wn.toLowerCase(),"webkit")&&!yn(wn,"Edge");function j1(){var t=Pt.document;return t?t.documentMode:void 0}var Ql;t:{var og="",sg=function(){var t=wn;if(V1)return/rv:([^\);]+)(\)|;)/.exec(t);if(F1)return/Edge\/([\d\.]+)/.exec(t);if(Ls)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(DP)return/WebKit\/(\S+)/.exec(t);if(RP)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(sg&&(og=sg?sg[1]:""),Ls){var ug=j1();if(ug!=null&&ug>parseFloat(og)){Ql=String(ug);break t}}Ql=og}var PP={};function LP(){return OP(function(){for(var t=0,e=N_(String(Ql)).split("."),n=N_("9").split("."),i=Math.max(e.length,n.length),o=0;t==0&&o<i;o++){var u=e[o]||"",a=n[o]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u[0].length==0&&a[0].length==0)break;t=ig(u[1].length==0?0:parseInt(u[1],10),a[1].length==0?0:parseInt(a[1],10))||ig(u[2].length==0,a[2].length==0)||ig(u[2],a[2]),u=u[3],a=a[3]}while(t==0)}return 0<=t})}var Ug;if(Pt.document&&Ls){var O_=j1();Ug=O_||parseInt(Ql,10)||void 0}else Ug=void 0;var MP=Ug,FP=function(){if(!Pt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pt.addEventListener("test",Gl,e),Pt.removeEventListener("test",Gl,e)}catch{}return t}();function ln(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ln.prototype.h=function(){this.defaultPrevented=!0};function ka(t,e){if(ln.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(V1){t:{try{Zv(e.nodeName);var o=!0;break t}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:VP[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ka.Z.h.call(this)}}tn(ka,ln);var VP={2:"touch",3:"pen",4:"mouse"};ka.prototype.h=function(){ka.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Ga="closure_listenable_"+(1e6*Math.random()|0),jP=0;function UP(t,e,n,i,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.ia=o,this.key=++jP,this.ca=this.fa=!1}function qf(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function $f(t){this.src=t,this.g={},this.h=0}$f.prototype.add=function(t,e,n,i,o){var u=t.toString();t=this.g[u],t||(t=this.g[u]=[],this.h++);var a=qg(t,e,i,o);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new UP(e,this.src,u,!!i,o),e.fa=n,t.push(e)),e};function Bg(t,e){var n=e.type;if(n in t.g){var i=t.g[n],o=D1(i,e),u;(u=0<=o)&&Array.prototype.splice.call(i,o,1),u&&(qf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function qg(t,e,n,i){for(var o=0;o<t.length;++o){var u=t[o];if(!u.ca&&u.listener==e&&u.capture==!!n&&u.ia==i)return o}return-1}var tm="closure_lm_"+(1e6*Math.random()|0),ag={};function U1(t,e,n,i,o){if(i&&i.once)return q1(t,e,n,i,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)U1(t,e[u],n,i,o);return null}return n=rm(n),t&&t[Ga]?t.N(e,n,za(i)?!!i.capture:!!i,o):B1(t,e,n,!1,i,o)}function B1(t,e,n,i,o,u){if(!e)throw Error("Invalid event type");var a=za(o)?!!o.capture:!!o,l=nm(t);if(l||(t[tm]=l=new $f(t)),n=l.add(e,n,i,a,u),n.proxy)return n;if(i=BP(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)FP||(o=a),o===void 0&&(o=!1),t.addEventListener(e.toString(),i,o);else if(t.attachEvent)t.attachEvent(K1(e.toString()),i);else if(t.addListener&&t.removeListener)t.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function BP(){function t(n){return e.call(t.src,t.listener,n)}var e=qP;return t}function q1(t,e,n,i,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)q1(t,e[u],n,i,o);return null}return n=rm(n),t&&t[Ga]?t.O(e,n,za(i)?!!i.capture:!!i,o):B1(t,e,n,!0,i,o)}function $1(t,e,n,i,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)$1(t,e[u],n,i,o);else i=za(i)?!!i.capture:!!i,n=rm(n),t&&t[Ga]?(t=t.i,e=String(e).toString(),e in t.g&&(u=t.g[e],n=qg(u,n,i,o),-1<n&&(qf(u[n]),Array.prototype.splice.call(u,n,1),u.length==0&&(delete t.g[e],t.h--)))):t&&(t=nm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=qg(e,n,i,o)),(n=-1<t?e[t]:null)&&em(n))}function em(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Ga])Bg(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(K1(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=nm(e))?(Bg(n,t),n.h==0&&(n.src=null,e[tm]=null)):qf(t)}}}function K1(t){return t in ag?ag[t]:ag[t]="on"+t}function qP(t,e){if(t.ca)t=!0;else{e=new ka(e,this);var n=t.listener,i=t.ia||t.src;t.fa&&em(t),t=n.call(i,e)}return t}function nm(t){return t=t[tm],t instanceof $f?t:null}var cg="__closure_events_fn_"+(1e9*Math.random()>>>0);function rm(t){return typeof t=="function"?t:(t[cg]||(t[cg]=function(e){return t.handleEvent(e)}),t[cg])}function Ge(){Vi.call(this),this.i=new $f(this),this.P=this,this.I=null}tn(Ge,Vi);Ge.prototype[Ga]=!0;Ge.prototype.removeEventListener=function(t,e,n,i){$1(this,t,e,n,i)};function Ze(t,e){var n,i=t.I;if(i)for(n=[];i;i=i.I)n.push(i);if(t=t.P,i=e.type||e,typeof e=="string")e=new ln(e,t);else if(e instanceof ln)e.target=e.target||t;else{var o=e;e=new ln(i,t),M1(e,o)}if(o=!0,n)for(var u=n.length-1;0<=u;u--){var a=e.g=n[u];o=_l(a,i,!0,e)&&o}if(a=e.g=t,o=_l(a,i,!0,e)&&o,o=_l(a,i,!1,e)&&o,n)for(u=0;u<n.length;u++)a=e.g=n[u],o=_l(a,i,!1,e)&&o}Ge.prototype.M=function(){if(Ge.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)qf(n[i]);delete t.g[e],t.h--}}this.I=null};Ge.prototype.N=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)};Ge.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};function _l(t,e,n,i){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var a=e[u];if(a&&!a.ca&&a.capture==n){var l=a.listener,f=a.ia||a.src;a.fa&&Bg(t.i,a),o=l.call(f,i)!==!1&&o}}return o&&!i.defaultPrevented}var im=Pt.JSON.stringify;function $P(){var t=z1,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var KP=function(){function t(){this.h=this.g=null}return t.prototype.add=function(e,n){var i=H1.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i},t}(),H1=new(function(){function t(e,n){this.i=e,this.j=n,this.h=0,this.g=null}return t.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},t}())(function(){return new HP},function(t){return t.reset()}),HP=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(e,n){this.h=e,this.g=n,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function zP(t){Pt.setTimeout(function(){throw t},0)}function om(t,e){$g||GP(),Kg||($g(),Kg=!0),z1.add(t,e)}var $g;function GP(){var t=Pt.Promise.resolve(void 0);$g=function(){t.then(WP)}}var Kg=!1,z1=new KP;function WP(){for(var t;t=$P();){try{t.h.call(t.g)}catch(n){zP(n)}var e=H1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Kg=!1}function Kf(t,e){Ge.call(this),this.h=t||1,this.g=e||Pt,this.j=Je(this.kb,this),this.l=Date.now()}tn(Kf,Ge);ct=Kf.prototype;ct.da=!1;ct.S=null;ct.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ze(this,"tick"),this.da&&(sm(this),this.start()))}};ct.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function sm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}ct.M=function(){Kf.Z.M.call(this),sm(this),delete this.g};function um(t,e,n){if(typeof t=="function")n&&(t=Je(t,n));else if(t&&typeof t.handleEvent=="function")t=Je(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Pt.setTimeout(t,e||0)}function G1(t){t.g=um(function(){t.g=null,t.i&&(t.i=!1,G1(t))},t.j);var e=t.h;t.h=null,t.m.apply(null,e)}var QP=function(t){IP(e,t);function e(n,i){var o=t.call(this)||this;return o.m=n,o.j=i,o.h=null,o.i=!1,o.g=null,o}return e.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:G1(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(Pt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Vi);function xa(t){Vi.call(this),this.h=t,this.g={}}tn(xa,Vi);var R_=[];function W1(t,e,n,i){Array.isArray(n)||(n&&(R_[0]=n.toString()),n=R_);for(var o=0;o<n.length;o++){var u=U1(e,n[o],i||t.handleEvent,!1,t.h||t);if(!u)break;t.g[u.key]=u}}function Q1(t){Jv(t.g,function(e,n){this.g.hasOwnProperty(n)&&em(e)},t),t.g={}}xa.prototype.M=function(){xa.Z.M.call(this),Q1(this)};xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Hf(){this.g=!0}Hf.prototype.Aa=function(){this.g=!1};function YP(t,e,n,i,o,u){t.info(function(){if(t.g)if(u)for(var a="",l=u.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var g=d[0];d=d[1];var v=g.split("_");a=2<=v.length&&v[1]=="type"?a+(g+"="+d+"&"):a+(g+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+i+") [attempt "+o+"]: "+e+`
`+n+`
`+a})}function XP(t,e,n,i,o,u,a){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+o+"]: "+e+`
`+n+`
`+u+" "+a})}function Es(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+ZP(t,n)+(i?" "+i:"")})}function JP(t,e){t.info(function(){return"TIMEOUT: "+e})}Hf.prototype.info=function(){};function ZP(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var o=i[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if(u!="noop"&&u!="stop"&&u!="close")for(var a=1;a<o.length;a++)o[a]=""}}}}return im(n)}catch{return e}}var Mo={},D_=null;function zf(){return D_=D_||new Ge}Mo.Ma="serverreachability";function Y1(t){ln.call(this,Mo.Ma,t)}tn(Y1,ln);function Ca(t){var e=zf();Ze(e,new Y1(e))}Mo.STAT_EVENT="statevent";function X1(t,e){ln.call(this,Mo.STAT_EVENT,t),this.stat=e}tn(X1,ln);function bn(t){var e=zf();Ze(e,new X1(e,t))}Mo.Na="timingevent";function J1(t,e){ln.call(this,Mo.Na,t),this.size=e}tn(J1,ln);function Wa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Pt.setTimeout(function(){t()},e)}var Gf={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Z1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function am(){}am.prototype.h=null;function P_(t){return t.h||(t.h=t.i())}function tT(){}var Qa={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cm(){ln.call(this,"d")}tn(cm,ln);function lm(){ln.call(this,"c")}tn(lm,ln);var Hg;function Wf(){}tn(Wf,am);Wf.prototype.g=function(){return new XMLHttpRequest};Wf.prototype.i=function(){return{}};Hg=new Wf;function Ya(t,e,n,i){this.l=t,this.j=e,this.m=n,this.X=i||1,this.V=new xa(this),this.P=tL,t=jg?125:void 0,this.W=new Kf(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new eT}function eT(){this.i=null,this.g="",this.h=!1}var tL=45e3,zg={},Yl={};ct=Ya.prototype;ct.setTimeout=function(t){this.P=t};function Gg(t,e,n){t.K=1,t.v=Yf(ni(e)),t.s=n,t.U=!0,nT(t,null)}function nT(t,e){t.F=Date.now(),Xa(t),t.A=ni(t.v);var n=t.A,i=t.X;Array.isArray(i)||(i=[String(i)]),cT(n.h,"t",i),t.C=0,n=t.l.H,t.h=new eT,t.g=xT(t.l,n?e:null,!t.s),0<t.O&&(t.L=new QP(Je(t.Ia,t,t.g),t.O)),W1(t.V,t.g,"readystatechange",t.gb),e=t.H?L1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ca(),YP(t.j,t.u,t.A,t.m,t.X,t.s)}ct.gb=function(t){t=t.target;var e=this.L;e&&Wr(t)==3?e.l():this.Ia(t)};ct.Ia=function(t){try{if(t==this.g)t:{var e=Wr(this.g),n=this.g.Da(),i=this.g.ba();if(!(3>e)&&(e!=3||jg||this.g&&(this.h.h||this.g.ga()||V_(this.g)))){this.I||e!=4||n==7||(n==8||0>=i?Ca(3):Ca(2)),Qf(this);var o=this.g.ba();this.N=o;e:if(rT(this)){var u=V_(this.g);t="";var a=u.length,l=Wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yo(this),ca(this);var f="";break e}this.h.i=new Pt.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(u[n],{stream:l&&n==a-1});u.splice(0,a),this.h.g+=t,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,XP(this.j,this.u,this.A,this.m,this.X,e,o),this.i){if(this.$&&!this.J){e:{if(this.g){var d,g=this.g;if((d=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wl(d)){var v=d;break e}}v=null}if(o=v)Es(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Wg(this,o);else{this.i=!1,this.o=3,bn(12),yo(this),ca(this);break t}}this.U?(iT(this,e,f),jg&&this.i&&e==3&&(W1(this.V,this.W,"tick",this.fb),this.W.start())):(Es(this.j,this.m,f,null),Wg(this,f)),e==4&&yo(this),this.i&&!this.I&&(e==4?ST(this.l,this):(this.i=!1,Xa(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,bn(12)):(this.o=0,bn(13)),yo(this),ca(this)}}}catch{}finally{}};function rT(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function iT(t,e,n){for(var i=!0,o;!t.I&&t.C<n.length;)if(o=eL(t,n),o==Yl){e==4&&(t.o=4,bn(14),i=!1),Es(t.j,t.m,null,"[Incomplete Response]");break}else if(o==zg){t.o=4,bn(15),Es(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}else Es(t.j,t.m,o,null),Wg(t,o);rT(t)&&o!=Yl&&o!=zg&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,bn(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),wm(e),e.L=!0,bn(11))):(Es(t.j,t.m,n,"[Invalid Chunked Response]"),yo(t),ca(t))}ct.fb=function(){if(this.g){var t=Wr(this.g),e=this.g.ga();this.C<e.length&&(Qf(this),iT(this,t,e),this.i&&t!=4&&Xa(this))}};function eL(t,e){var n=t.C,i=e.indexOf(`
`,n);return i==-1?Yl:(n=Number(e.substring(n,i)),isNaN(n)?zg:(i+=1,i+n>e.length?Yl:(e=e.substr(i,n),t.C=i+n,e)))}ct.cancel=function(){this.I=!0,yo(this)};function Xa(t){t.Y=Date.now()+t.P,oT(t,t.P)}function oT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Wa(Je(t.eb,t),e)}function Qf(t){t.B&&(Pt.clearTimeout(t.B),t.B=null)}ct.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(JP(this.j,this.A),this.K!=2&&(Ca(),bn(17)),yo(this),this.o=2,ca(this)):oT(this,this.Y-t)};function ca(t){t.l.G==0||t.I||ST(t.l,t)}function yo(t){Qf(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,sm(t.W),Q1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Wg(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Qg(n.i,t))){if(n.I=t.N,!t.J&&Qg(n.i,t)&&n.G==3){try{var i=n.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&i.length==3){var o=i;if(o[0]==0){t:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)tf(n),Zf(n);else break t;ym(n),bn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Wa(Je(n.ab,n),6e3));if(1>=hT(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else wo(n,11)}else if((t.J||n.g==t)&&tf(n),!Wl(e))for(o=n.Ca.g.parse(e),e=0;e<o.length;e++){var u=o[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];var a=u[3];a!=null&&(n.ma=a,n.h.info("VER="+n.ma));var l=u[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=u[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.K=i,n.h.info("backChannelRequestTimeoutMs_="+i)),i=n;var d=t.g;if(d){var g=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var v=i.i;!v.g&&(yn(g,"spdy")||yn(g,"quic")||yn(g,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(dm(v,v.h),v.h=null))}if(i.D){var y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(i.sa=y,we(i.F,i.D,y))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),i=n;var b=t;if(i.oa=kT(i,i.H?i.la:null,i.W),b.J){dT(i.i,b);var _=b,T=i.K;T&&_.setTimeout(T),_.B&&(Qf(_),Xa(_)),i.g=b}else IT(i);0<n.l.length&&th(n)}else u[0]!="stop"&&u[0]!="close"||wo(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?wo(n,7):mm(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Ca(4)}catch{}}function nL(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Vg(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}e=[],n=0;for(i in t)e[n++]=t[i];return e}function fm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vg(t)||typeof t=="string")P1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Vg(t)||typeof t=="string"){n=[];for(var i=t.length,o=0;o<i;o++)n.push(o)}else for(o in n=[],i=0,t)n[i++]=o;i=nL(t),o=i.length;for(var u=0;u<o;u++)e.call(void 0,i[u],n&&n[u],t)}}function ru(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof ru)for(n=t.T(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}ct=ru.prototype;ct.R=function(){hm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};ct.T=function(){return hm(this),this.g.concat()};function hm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var i=t.g[e];xo(t.h,i)&&(t.g[n++]=i),e++}t.g.length=n}if(t.i!=t.g.length){var o={};for(n=e=0;e<t.g.length;)i=t.g[e],xo(o,i)||(t.g[n++]=i,o[i]=1),e++;t.g.length=n}}ct.get=function(t,e){return xo(this.h,t)?this.h[t]:e};ct.set=function(t,e){xo(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};ct.forEach=function(t,e){for(var n=this.T(),i=0;i<n.length;i++){var o=n[i],u=this.get(o);t.call(e,u,o,this)}};function xo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var sT=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),o=null;if(0<=i){var u=t[n].substring(0,i);o=t[n].substring(i+1)}else u=t[n];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Co(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Co){this.g=e!==void 0?e:t.g,Xl(this,t.j),this.s=t.s,Jl(this,t.i),Zl(this,t.m),this.l=t.l,e=t.h;var n=new Oa;n.i=e.i,e.g&&(n.g=new ru(e.g),n.h=e.h),L_(this,n),this.o=t.o}else t&&(n=String(t).match(sT))?(this.g=!!e,Xl(this,n[1]||"",!0),this.s=la(n[2]||""),Jl(this,n[3]||"",!0),Zl(this,n[4]),this.l=la(n[5]||"",!0),L_(this,n[6]||"",!0),this.o=la(n[7]||"")):(this.g=!!e,this.h=new Oa(null,this.g))}Co.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ra(e,M_,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ra(e,M_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(ra(n,n.charAt(0)=="/"?aL:uL,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ra(n,lL)),t.join("")};function ni(t){return new Co(t)}function Xl(t,e,n){t.j=n?la(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Jl(t,e,n){t.i=n?la(e,!0):e}function Zl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function L_(t,e,n){e instanceof Oa?(t.h=e,fL(t.h,t.g)):(n||(e=ra(e,cL)),t.h=new Oa(e,t.g))}function we(t,e,n){t.h.set(e,n)}function Yf(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function iL(t){return t instanceof Co?ni(t):new Co(t,void 0)}function oL(t,e,n,i){var o=new Co(null,void 0);return t&&Xl(o,t),e&&Jl(o,e),n&&Zl(o,n),i&&(o.l=i),o}function la(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ra(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,sL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var M_=/[#\/\?@]/g,uL=/[#\?:]/g,aL=/[#\?]/g,cL=/[#\?@]/g,lL=/#/g;function Oa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ji(t){t.g||(t.g=new ru,t.h=0,t.i&&rL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ct=Oa.prototype;ct.add=function(t,e){ji(this),this.i=null,t=iu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function uT(t,e){ji(t),e=iu(t,e),xo(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,xo(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&hm(t)))}function aT(t,e){return ji(t),e=iu(t,e),xo(t.g.h,e)}ct.forEach=function(t,e){ji(this),this.g.forEach(function(n,i){P1(n,function(o){t.call(e,o,i,this)},this)},this)};ct.T=function(){ji(this);for(var t=this.g.R(),e=this.g.T(),n=[],i=0;i<e.length;i++)for(var o=t[i],u=0;u<o.length;u++)n.push(e[i]);return n};ct.R=function(t){ji(this);var e=[];if(typeof t=="string")aT(this,t)&&(e=A_(e,this.g.get(iu(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=A_(e,t[n])}return e};ct.set=function(t,e){return ji(this),this.i=null,t=iu(this,t),aT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ct.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function cT(t,e,n){uT(t,e),0<n.length&&(t.i=null,t.g.set(iu(t,e),Xv(n)),t.h+=n.length)}ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var i=e[n],o=encodeURIComponent(String(i));i=this.R(i);for(var u=0;u<i.length;u++){var a=o;i[u]!==""&&(a+="="+encodeURIComponent(String(i[u]))),t.push(a)}}return this.i=t.join("&")};function iu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fL(t,e){e&&!t.j&&(ji(t),t.i=null,t.g.forEach(function(n,i){var o=i.toLowerCase();i!=o&&(uT(this,i),cT(this,o,n))},t)),t.j=e}var hL=function(){function t(e,n){this.h=e,this.g=n}return t}();function lT(t){this.l=t||dL,Pt.PerformanceNavigationTiming?(t=Pt.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Pt.g&&Pt.g.Ea&&Pt.g.Ea()&&Pt.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dL=10;function fT(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hT(t){return t.h?1:t.g?t.g.size:0}function Qg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function dm(t,e){t.g?t.g.add(e):t.h=e}function dT(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lT.prototype.cancel=function(){var t,e;if(this.i=pT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=R1(this.g.values()),i=n.next();!i.done;i=n.next()){var o=i.value;o.cancel()}}catch(u){t={error:u}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}};function pT(t){var e,n;if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){var i=t.i;try{for(var o=R1(t.g.values()),u=o.next();!u.done;u=o.next()){var a=u.value;i=i.concat(a.D)}}catch(l){e={error:l}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}return Xv(t.i)}function pm(){}pm.prototype.stringify=function(t){return Pt.JSON.stringify(t,void 0)};pm.prototype.parse=function(t){return Pt.JSON.parse(t,void 0)};function pL(){this.g=new pm}function gL(t,e,n){var i=n||"";try{fm(t,function(o,u){var a=o;za(o)&&(a=im(o)),e.push(i+u+"="+encodeURIComponent(a))})}catch(o){throw e.push(i+"type="+encodeURIComponent("_badmap")),o}}function vL(t,e){var n=new Hf;if(Pt.Image){var i=new Image;i.onload=bl(El,n,i,"TestLoadImage: loaded",!0,e),i.onerror=bl(El,n,i,"TestLoadImage: error",!1,e),i.onabort=bl(El,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=bl(El,n,i,"TestLoadImage: timeout",!1,e),Pt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}function El(t,e,n,i,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(i)}catch{}}function Ja(t){this.l=t.$b||null,this.j=t.ib||!1}tn(Ja,am);Ja.prototype.g=function(){return new Xf(this.l,this.j)};Ja.prototype.i=function(t){return function(){return t}}({});function Xf(t,e){Ge.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=gm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tn(Xf,Ge);var gm=0;ct=Xf.prototype;ct.open=function(t,e){if(this.readyState!=gm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ra(this)};ct.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Pt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=gm};ct.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Pt.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gT(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function gT(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}ct.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Za(this):Ra(this),this.readyState==3&&gT(this)}};ct.Ua=function(t){this.g&&(this.response=this.responseText=t,Za(this))};ct.Ta=function(t){this.g&&(this.response=t,Za(this))};ct.ha=function(){this.g&&Za(this)};function Za(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ra(t)}ct.setRequestHeader=function(t,e){this.v.append(t,e)};ct.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ct.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ra(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var mL=Pt.JSON.parse;function Fe(t){Ge.call(this),this.headers=new ru,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vT,this.K=this.L=!1}tn(Fe,Ge);var vT="",yL=/^https?$/i,wL=["POST","PUT"];ct=Fe.prototype;ct.ea=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Hg.g(),this.C=this.u?P_(this.u):P_(Hg),this.g.onreadystatechange=Je(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(u){F_(this,u);return}t=n||"";var o=new ru(this.headers);i&&fm(i,function(u,a){o.set(a,u)}),i=CP(o.T()),n=Pt.FormData&&t instanceof Pt.FormData,!(0<=D1(wL,e))||i||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,a){this.g.setRequestHeader(a,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{wT(this),0<this.B&&((this.K=bL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Je(this.pa,this)):this.A=um(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(u){F_(this,u)}};function bL(t){return Ls&&LP()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function _L(t){return t.toLowerCase()=="content-type"}ct.pa=function(){typeof Yv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))};function F_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,mT(t),Jf(t)}function mT(t){t.D||(t.D=!0,Ze(t,"complete"),Ze(t,"error"))}ct.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ze(this,"complete"),Ze(this,"abort"),Jf(this))};ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jf(this,!0)),Fe.Z.M.call(this)};ct.Fa=function(){this.s||(this.F||this.v||this.l?yT(this):this.cb())};ct.cb=function(){yT(this)};function yT(t){if(t.h&&typeof Yv<"u"&&(!t.C[1]||Wr(t)!=4||t.ba()!=2)){if(t.v&&Wr(t)==4)um(t.Fa,0,t);else if(Ze(t,"readystatechange"),Wr(t)==4){t.h=!1;try{var e=t.ba();t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var i;if(!(i=n)){var o;if(o=e===0){var u=String(t.H).match(sT)[1]||null;if(!u&&Pt.self&&Pt.self.location){var a=Pt.self.location.protocol;u=a.substr(0,a.length-1)}o=!yL.test(u?u.toLowerCase():"")}i=o}if(i)Ze(t,"complete"),Ze(t,"success");else{t.m=6;try{var l=2<Wr(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",mT(t)}}finally{Jf(t)}}}}function Jf(t,e){if(t.g){wT(t);var n=t.g,i=t.C[0]?Gl:null;t.g=null,t.C=null,e||Ze(t,"ready");try{n.onreadystatechange=i}catch{}}}function wT(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Pt.clearTimeout(t.A),t.A=null)}function Wr(t){return t.g?t.g.readyState:0}ct.ba=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}};ct.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ct.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),mL(e)}};function V_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case vT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}ct.Da=function(){return this.m};ct.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function EL(t){var e="";return Jv(t,function(n,i){e+=i,e+=":",e+=n,e+=`\r
`}),e}function vm(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=EL(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function Yu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bT(t){this.za=0,this.l=[],this.h=new Hf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yu("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yu("baseRetryDelayMs",5e3,t),this.$a=Yu("retryDelaySeedMs",1e4,t),this.Ya=Yu("forwardChannelMaxRetries",2,t),this.ra=Yu("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new lT(t&&t.concurrentRequestLimit),this.Ca=new pL,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}ct=bT.prototype;ct.ma=8;ct.G=1;function mm(t){if(_T(t),t.G==3){var e=t.V++,n=ni(t.F);we(n,"SID",t.J),we(n,"RID",e),we(n,"TYPE","terminate"),tc(t,n),e=new Ya(t,t.h,e,void 0),e.K=2,e.v=Yf(ni(n)),n=!1,Pt.navigator&&Pt.navigator.sendBeacon&&(n=Pt.navigator.sendBeacon(e.v.toString(),"")),!n&&Pt.Image&&(new Image().src=e.v,n=!0),n||(e.g=xT(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xa(e)}NT(t)}ct.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Zf(t){t.g&&(wm(t),t.g.cancel(),t.g=null)}function _T(t){Zf(t),t.u&&(Pt.clearTimeout(t.u),t.u=null),tf(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Pt.clearTimeout(t.m),t.m=null)}function lg(t,e){t.l.push(new hL(t.Za++,e)),t.G==3&&th(t)}function th(t){fT(t.i)||t.m||(t.m=!0,om(t.Ha,t),t.C=0)}function IL(t,e){return hT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Wa(Je(t.Ha,t,e),AT(t,t.C)),t.C++,!0)}ct.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ya(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=L1(n),M1(n,this.P)):n=this.P),this.o===null&&(e.H=n),this.ja)t:{for(var i=0,o=0;o<this.l.length;o++){e:{var u=this.l[o];if("__data__"in u.g&&(u=u.g.__data__,typeof u=="string")){u=u.length;break e}u=void 0}if(u===void 0)break;if(i+=u,4096<i){i=o;break t}if(i===4096||o===this.l.length-1){i=o+1;break t}}i=1e3}else i=1e3;i=ET(this,e,i),o=ni(this.F),we(o,"RID",t),we(o,"CVER",22),this.D&&we(o,"X-HTTP-Session-Id",this.D),tc(this,o),this.o&&n&&vm(o,this.o,n),dm(this.i,e),this.Ra&&we(o,"TYPE","init"),this.ja?(we(o,"$req",i),we(o,"SID","null"),e.$=!0,Gg(e,o,null)):Gg(e,o,i),this.G=2}}else this.G==3&&(t?j_(this,t):this.l.length==0||fT(this.i)||j_(this))};function j_(t,e){var n;e?n=e.m:n=t.V++;var i=ni(t.F);we(i,"SID",t.J),we(i,"RID",n),we(i,"AID",t.U),tc(t,i),t.o&&t.s&&vm(i,t.o,t.s),n=new Ya(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=ET(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),dm(t.i,n),Gg(n,i,e)}function tc(t,e){t.j&&fm({},function(n,i){we(e,i,n)})}function ET(t,e,n){n=Math.min(t.l.length,n);var i=t.j?Je(t.j.Oa,t.j,t):null;t:for(var o=t.l,u=-1;;){var a=["count="+n];u==-1?0<n?(u=o[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var l=!0,f=0;f<n;f++){var d=o[f].h,g=o[f].g;if(d-=u,0>d)u=Math.max(0,o[f].h-100),l=!1;else try{gL(g,a,"req"+d+"_")}catch{i&&i(g)}}if(l){i=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,i}function IT(t){t.g||t.u||(t.Y=1,om(t.Ga,t),t.A=0)}function ym(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Wa(Je(t.Ga,t),AT(t,t.A)),t.A++,!0)}ct.Ga=function(){if(this.u=null,TT(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Wa(Je(this.bb,this),t)}};ct.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,bn(10),Zf(this),TT(this))};function wm(t){t.B!=null&&(Pt.clearTimeout(t.B),t.B=null)}function TT(t){t.g=new Ya(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=ni(t.oa);we(e,"RID","rpc"),we(e,"SID",t.J),we(e,"CI",t.N?"0":"1"),we(e,"AID",t.U),tc(t,e),we(e,"TYPE","xmlhttp"),t.o&&t.s&&vm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Yf(ni(e)),n.s=null,n.U=!0,nT(n,t)}ct.ab=function(){this.v!=null&&(this.v=null,Zf(this),ym(this),bn(19))};function tf(t){t.v!=null&&(Pt.clearTimeout(t.v),t.v=null)}function ST(t,e){var n=null;if(t.g==e){tf(t),wm(t),t.g=null;var i=2}else if(Qg(t.i,e))n=e.D,dT(t.i,e),i=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(i==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var o=t.C;i=zf(),Ze(i,new J1(i,n)),th(t)}else IT(t);else if(o=e.o,o==3||o==0&&0<t.I||!(i==1&&IL(t,e)||i==2&&ym(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:wo(t,5);break;case 4:wo(t,10);break;case 3:wo(t,6);break;default:wo(t,2)}}}function AT(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function wo(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var i=Je(t.jb,t);n||(n=new Co("//www.google.com/images/cleardot.gif"),Pt.location&&Pt.location.protocol=="http"||Xl(n,"https"),Yf(n)),vL(n.toString(),i)}else bn(2);t.G=0,t.j&&t.j.va(e),NT(t),_T(t)}ct.jb=function(t){t?(this.h.info("Successfully pinged google.com"),bn(2)):(this.h.info("Failed to ping google.com"),bn(1))};function NT(t){t.G=0,t.I=-1,t.j&&((pT(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Xv(t.l),t.l.length=0),t.j.ua())}function kT(t,e,n){var i=iL(n);if(i.i!="")e&&Jl(i,e+"."+i.i),Zl(i,i.m);else{var o=Pt.location;i=oL(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,n)}return t.aa&&Jv(t.aa,function(u,a){we(i,a,u)}),e=t.D,n=t.sa,e&&n&&we(i,e,n),we(i,"VER",t.ma),tc(t,i),i}function xT(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Fe(new Ja({ib:!0})):new Fe(t.qa),e.L=t.H,e}function CT(){}ct=CT.prototype;ct.xa=function(){};ct.wa=function(){};ct.va=function(){};ct.ua=function(){};ct.Oa=function(){};function ef(){if(Ls&&!(10<=Number(MP)))throw Error("Environmental error: no available transport.")}ef.prototype.g=function(t,e){return new Zn(t,e)};function Zn(t,e){Ge.call(this),this.g=new bT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!Wl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wl(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new ou(this)}tn(Zn,Ge);Zn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),om(Je(t.hb,t,e))),bn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=kT(t,null,t.W),th(t)};Zn.prototype.close=function(){mm(this.g)};Zn.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,lg(this.g,e)}else this.v?(e={},e.__data__=im(t),lg(this.g,e)):lg(this.g,t)};Zn.prototype.M=function(){this.g.j=null,delete this.j,mm(this.g),delete this.g,Zn.Z.M.call(this)};function OT(t){cm.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}tn(OT,cm);function RT(){lm.call(this),this.status=1}tn(RT,lm);function ou(t){this.g=t}tn(ou,CT);ou.prototype.xa=function(){Ze(this.g,"a")};ou.prototype.wa=function(t){Ze(this.g,new OT(t))};ou.prototype.va=function(t){Ze(this.g,new RT)};ou.prototype.ua=function(){Ze(this.g,"b")};ef.prototype.createWebChannel=ef.prototype.g;Zn.prototype.send=Zn.prototype.u;Zn.prototype.open=Zn.prototype.m;Zn.prototype.close=Zn.prototype.close;Gf.NO_ERROR=0;Gf.TIMEOUT=8;Gf.HTTP_ERROR=6;Z1.COMPLETE="complete";tT.EventType=Qa;Qa.OPEN="a";Qa.CLOSE="b";Qa.ERROR="c";Qa.MESSAGE="d";Ge.prototype.listen=Ge.prototype.N;Fe.prototype.listenOnce=Fe.prototype.O;Fe.prototype.getLastError=Fe.prototype.La;Fe.prototype.getLastErrorCode=Fe.prototype.Da;Fe.prototype.getStatus=Fe.prototype.ba;Fe.prototype.getResponseJson=Fe.prototype.Qa;Fe.prototype.getResponseText=Fe.prototype.ga;Fe.prototype.send=Fe.prototype.ea;var TL=function(){return new ef},SL=function(){return zf()},fg=Gf,AL=Z1,NL=Mo,U_={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},kL=Ja,Il=tT,xL=Fe;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn=function(){function t(e,n){var i=this;this.previousValue=e,n&&(n.sequenceNumberHandler=function(o){return i.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return t.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},t.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},t}();Gn.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=function(t){function e(n,i){var o=this;return(o=t.call(this,i)||this).code=n,o.message=i,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Tt(e,t),e}(Error),mr=new k1("@firebase/firestore");function Yg(){return mr.logLevel}function et(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mr.logLevel<=te.DEBUG){var i=e.map(bm);mr.debug.apply(mr,Ae(["Firestore (8.10.1): "+t],i))}}function Pe(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mr.logLevel<=te.ERROR){var i=e.map(bm);mr.error.apply(mr,Ae(["Firestore (8.10.1): "+t],i))}}function nf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(mr.logLevel<=te.WARN){var i=e.map(bm);mr.warn.apply(mr,Ae(["Firestore (8.10.1): "+t],i))}}function bm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){t===void 0&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Pe(e),new Error(e)}function Nt(t,e){t||yt()}function ot(t,e){return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(t){var e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(var i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var DT=function(){function t(){}return t.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";i.length<20;)for(var o=CL(40),u=0;u<o.length;++u)i.length<20&&o[u]<n&&(i+=e.charAt(o[u]%e.length));return i},t}();function zt(t,e){return t<e?-1:t>e?1:0}function Ms(t,e,n){return t.length===e.length&&t.every(function(i,o){return n(i,e[o])})}function PT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn=function(){function t(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(e){return this.seconds===e.seconds?zt(this.nanoseconds,e.nanoseconds):zt(this.seconds,e.seconds)},t.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$t=function(){function t(e){this.timestamp=e}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Rn(0,0))},t.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},t.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fo(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LT(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var MT=function(){function t(e,n,i){n===void 0?n=0:n>e.length&&yt(),i===void 0?i=e.length-n:i>e.length-n&&yt(),this.segments=e,this.offset=n,this.len=i}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return t.comparator(this,e)===0},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(i){n.push(i)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(e){return this.segments[this.offset+e]},t.prototype.isEmpty=function(){return this.length===0},t.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0},t.prototype.forEach=function(e){for(var n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(e,n){for(var i=Math.min(e.length,n.length),o=0;o<i;o++){var u=e.get(o),a=n.get(o);if(u<a)return-1;if(u>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0},t}(),ee=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];for(var o=[],u=0,a=n;u<a.length;u++){var l=a[u];if(l.indexOf("//")>=0)throw new W(D.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new e(o)},e.emptyPath=function(){return new e([])},e}(MT),OL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,br=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.construct=function(n,i,o){return new e(n,i,o)},e.isValidIdentifier=function(n){return OL.test(n)},e.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(n){for(var i=[],o="",u=0,a=function(){if(o.length===0)throw new W(D.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");i.push(o),o=""},l=!1;u<n.length;){var f=n[u];if(f==="\\"){if(u+1===n.length)throw new W(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[u+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new W(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,u+=2}else f==="`"?(l=!l,u++):f!=="."||l?(o+=f,u++):(a(),u++)}if(a(),l)throw new W(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new e(i)},e.emptyPath=function(){return new e([])},e}(MT),Fs=function(){function t(e){this.fields=e,e.sort(br.comparator)}return t.prototype.covers=function(e){for(var n=0,i=this.fields;n<i.length;n++)if(i[n].isPrefixOf(e))return!0;return!1},t.prototype.isEqual=function(e){return Ms(this.fields,e.fields,function(n,i){return n.isEqual(i)})},t}(),Pn=function(){function t(e){this.binaryString=e}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(n){for(var i="",o=0;o<n.length;++o)i+=String.fromCharCode(n[o]);return i}(e))},t.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},t.prototype.toUint8Array=function(){return function(e){for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(e){return zt(this.binaryString,e.binaryString)},t.prototype.isEqual=function(e){return this.binaryString===e.binaryString},t}();Pn.EMPTY_BYTE_STRING=new Pn("");var RL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Nt(!!t),typeof t=="string"){var e=0,n=RL.exec(t);if(Nt(!!n),n[1]){var i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}var o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:De(t.seconds),nanos:De(t.nanos)}}function De(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vs(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function FT(t){var e=t.mapValue.fields.__previous_value__;return _m(e)?FT(e):e}function Da(t){var e=Li(t.mapValue.fields.__local_write_time__.timestampValue);return new Rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vo(t){return t==null}function rf(t){return t===0&&1/t==-1/0}function VT(t){return typeof t=="number"&&Number.isInteger(t)&&!rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt=function(){function t(e){this.path=e}return t.fromPath=function(e){return new t(ee.fromString(e))},t.fromName=function(e){return new t(ee.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},t.prototype.isEqual=function(e){return e!==null&&ee.comparator(this.path,e.path)===0},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(e,n){return ee.comparator(e.path,n.path)},t.isDocumentKey=function(e){return e.length%2==0},t.fromSegments=function(e){return new t(new ee(e.slice()))},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_m(t)?4:10:yt()}function Fr(t,e){var n=Oo(t);if(n!==Oo(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Da(t).isEqual(Da(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;var u=Li(i.timestampValue),a=Li(o.timestampValue);return u.seconds===a.seconds&&u.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Vs(i.bytesValue).isEqual(Vs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){var u=De(i.doubleValue),a=De(o.doubleValue);return u===a?rf(u)===rf(a):isNaN(u)&&isNaN(a)}return!1}(t,e);case 9:return Ms(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:return function(i,o){var u=i.mapValue.fields||{},a=o.mapValue.fields||{};if(B_(u)!==B_(a))return!1;for(var l in u)if(u.hasOwnProperty(l)&&(a[l]===void 0||!Fr(u[l],a[l])))return!1;return!0}(t,e);default:return yt()}}function Pa(t,e){return(t.values||[]).find(function(n){return Fr(n,e)})!==void 0}function js(t,e){var n=Oo(t),i=Oo(e);if(n!==i)return zt(n,i);switch(n){case 0:return 0;case 1:return zt(t.booleanValue,e.booleanValue);case 2:return function(o,u){var a=De(o.integerValue||o.doubleValue),l=De(u.integerValue||u.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return q_(t.timestampValue,e.timestampValue);case 4:return q_(Da(t),Da(e));case 5:return zt(t.stringValue,e.stringValue);case 6:return function(o,u){var a=Vs(o),l=Vs(u);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){for(var a=o.split("/"),l=u.split("/"),f=0;f<a.length&&f<l.length;f++){var d=zt(a[f],l[f]);if(d!==0)return d}return zt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){var a=zt(De(o.latitude),De(u.latitude));return a!==0?a:zt(De(o.longitude),De(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,u){for(var a=o.values||[],l=u.values||[],f=0;f<a.length&&f<l.length;++f){var d=js(a[f],l[f]);if(d)return d}return zt(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,u){var a=o.fields||{},l=Object.keys(a),f=u.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var g=0;g<l.length&&g<d.length;++g){var v=zt(l[g],d[g]);if(v!==0)return v;var y=js(a[l[g]],f[d[g]]);if(y!==0)return y}return zt(l.length,d.length)}(t.mapValue,e.mapValue);default:throw yt()}}function q_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return zt(t,e);var n=Li(t),i=Li(e),o=zt(n.seconds,i.seconds);return o!==0?o:zt(n.nanos,i.nanos)}function Em(t){return Xg(t)}function Xg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){var o=Li(i);return"time("+o.seconds+","+o.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Vs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,bt.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(i){for(var o="[",u=!0,a=0,l=i.values||[];a<l.length;a++)u?u=!1:o+=",",o+=Xg(l[a]);return o+"]"}(t.arrayValue):"mapValue"in t?function(i){for(var o="{",u=!0,a=0,l=Object.keys(i.fields||{}).sort();a<l.length;a++){var f=l[a];u?u=!1:o+=",",o+=f+":"+Xg(i.fields[f])}return o+"}"}(t.mapValue):yt();var e,n}function of(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Jg(t){return!!t&&"integerValue"in t}function Im(t){return!!t&&"arrayValue"in t}function $_(t){return!!t&&"nullValue"in t}function K_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pl(t){return!!t&&"mapValue"in t}function fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return Fo(t.mapValue.fields,function(o,u){return e.mapValue.fields[o]=fa(u)}),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},i=0;i<(t.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=fa(t.arrayValue.values[i]);return n}return Object.assign({},t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn=function(){function t(e){this.value=e}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){if(e.isEmpty())return this.value;for(var n=this.value,i=0;i<e.length-1;++i)if(!Pl(n=(n.mapValue.fields||{})[e.get(i)]))return null;return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.set=function(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fa(n)},t.prototype.setAll=function(e){var n=this,i=br.emptyPath(),o={},u=[];e.forEach(function(l,f){if(!i.isImmediateParentOf(f)){var d=n.getFieldsMap(i);n.applyChanges(d,o,u),o={},u=[],i=f.popLast()}l?o[f.lastSegment()]=fa(l):u.push(f.lastSegment())});var a=this.getFieldsMap(i);this.applyChanges(a,o,u)},t.prototype.delete=function(e){var n=this.field(e.popLast());Pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]},t.prototype.isEqual=function(e){return Fr(this.value,e.value)},t.prototype.getFieldsMap=function(e){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var i=0;i<e.length;++i){var o=n.mapValue.fields[e.get(i)];Pl(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields},t.prototype.applyChanges=function(e,n,i){Fo(n,function(l,f){return e[l]=f});for(var o=0,u=i;o<u.length;o++){var a=u[o];delete e[a]}},t.prototype.clone=function(){return new t(fa(this.value))},t}();function jT(t){var e=[];return Fo(t.fields,function(n,i){var o=new br([n]);if(Pl(i)){var u=jT(i.mapValue).fields;if(u.length===0)e.push(o);else for(var a=0,l=u;a<l.length;a++){var f=l[a];e.push(o.child(f))}}else e.push(o)}),new Fs(e)}var fn=function(){function t(e,n,i,o,u){this.key=e,this.documentType=n,this.version=i,this.data=o,this.documentState=u}return t.newInvalidDocument=function(e){return new t(e,0,$t.min(),zn.empty(),0)},t.newFoundDocument=function(e,n,i){return new t(e,1,n,i,0)},t.newNoDocument=function(e,n){return new t(e,2,n,zn.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,zn.empty(),2)},t.prototype.convertToFoundDocument=function(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this},t.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return this.documentType!==0},t.prototype.isFoundDocument=function(){return this.documentType===1},t.prototype.isNoDocument=function(){return this.documentType===2},t.prototype.isUnknownDocument=function(){return this.documentType===3},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),DL=function(t,e,n,i,o,u,a){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=i,this.limit=o,this.startAt=u,this.endAt=a,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(t,e,n,i,o,u,a){return e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u=null),a===void 0&&(a=null),new DL(t,e,n,i,o,u,a)}function ec(t){var e=ot(t);if(e.h===null){var n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(i){return function(o){return o.field.canonicalString()+o.op.toString()+Em(o.value)}(i)}).join(","),n+="|ob:",n+=e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+o.dir}(i)}).join(","),Vo(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=uf(e.startAt)),e.endAt&&(n+="|ub:",n+=uf(e.endAt)),e.h=n}return e.h}function eh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!BL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var i=0;i<t.filters.length;i++)if(o=t.filters[i],u=e.filters[i],o.op!==u.op||!o.field.isEqual(u.field)||!Fr(o.value,u.value))return!1;var o,u;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G_(t.startAt,e.startAt)&&G_(t.endAt,e.endAt)}function sf(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Wn=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).field=n,u.op=i,u.value=o,u}return Tt(e,t),e.create=function(n,i,o){return n.isKeyField()?i==="in"||i==="not-in"?this.l(n,i,o):new PL(n,i,o):i==="array-contains"?new FL(n,o):i==="in"?new VL(n,o):i==="not-in"?new jL(n,o):i==="array-contains-any"?new UL(n,o):new e(n,i,o)},e.l=function(n,i,o){return i==="in"?new LL(n,o):new ML(n,o)},e.prototype.matches=function(n){var i=n.data.field(this.field);return this.op==="!="?i!==null&&this.m(js(i,this.value)):i!==null&&Oo(this.value)===Oo(i)&&this.m(js(i,this.value))},e.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return yt()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),PL=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,o)||this).key=bt.fromName(o.referenceValue),u}return Tt(e,t),e.prototype.matches=function(n){var i=bt.comparator(n.key,this.key);return this.m(i)},e}(Wn),LL=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"in",i)||this).keys=UT("in",i),o}return Tt(e,t),e.prototype.matches=function(n){return this.keys.some(function(i){return i.isEqual(n.key)})},e}(Wn),ML=function(t){function e(n,i){var o=this;return(o=t.call(this,n,"not-in",i)||this).keys=UT("not-in",i),o}return Tt(e,t),e.prototype.matches=function(n){return!this.keys.some(function(i){return i.isEqual(n.key)})},e}(Wn);function UT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(i){return bt.fromName(i.referenceValue)})}var FL=function(t){function e(n,i){return t.call(this,n,"array-contains",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return Im(i)&&Pa(i.arrayValue,this.value)},e}(Wn),VL=function(t){function e(n,i){return t.call(this,n,"in",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=n.data.field(this.field);return i!==null&&Pa(this.value.arrayValue,i)},e}(Wn),jL=function(t){function e(n,i){return t.call(this,n,"not-in",i)||this}return Tt(e,t),e.prototype.matches=function(n){if(Pa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var i=n.data.field(this.field);return i!==null&&!Pa(this.value.arrayValue,i)},e}(Wn),UL=function(t){function e(n,i){return t.call(this,n,"array-contains-any",i)||this}return Tt(e,t),e.prototype.matches=function(n){var i=this,o=n.data.field(this.field);return!(!Im(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(u){return Pa(i.value.arrayValue,u)})},e}(Wn),La=function(t,e){this.position=t,this.before=e};function uf(t){return(t.before?"b":"a")+":"+t.position.map(function(e){return Em(e)}).join(",")}var ks=function(t,e){e===void 0&&(e="asc"),this.field=t,this.dir=e};function BL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function z_(t,e,n){for(var i=0,o=0;o<t.position.length;o++){var u=e[o],a=t.position[o];if(i=u.field.isKeyField()?bt.comparator(bt.fromName(a.referenceValue),n.key):js(a,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return t.before?i<=0:i<0}function G_(t,e){if(t===null)return e===null;if(e===null||t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii=function(t,e,n,i,o,u,a,l){e===void 0&&(e=null),n===void 0&&(n=[]),i===void 0&&(i=[]),o===void 0&&(o=null),u===void 0&&(u="F"),a===void 0&&(a=null),l===void 0&&(l=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=i,this.limit=o,this.limitType=u,this.startAt=a,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function BT(t,e,n,i,o,u,a,l){return new ii(t,e,n,i,o,u,a,l)}function nc(t){return new ii(t)}function Ll(t){return!Vo(t.limit)&&t.limitType==="F"}function af(t){return!Vo(t.limit)&&t.limitType==="L"}function Tm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sm(t){for(var e=0,n=t.filters;e<n.length;e++){var i=n[e];if(i.g())return i.field}return null}function Am(t){return t.collectionGroup!==null}function Us(t){var e=ot(t);if(e.p===null){e.p=[];var n=Sm(e),i=Tm(e);if(n!==null&&i===null)n.isKeyField()||e.p.push(new ks(n)),e.p.push(new ks(br.keyField(),"asc"));else{for(var o=!1,u=0,a=e.explicitOrderBy;u<a.length;u++){var l=a[u];e.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new ks(br.keyField(),f))}}}return e.p}function Vr(t){var e=ot(t);if(!e.T)if(e.limitType==="F")e.T=H_(e.path,e.collectionGroup,Us(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],i=0,o=Us(e);i<o.length;i++){var u=o[i],a=u.dir==="desc"?"asc":"desc";n.push(new ks(u.field,a))}var l=e.endAt?new La(e.endAt.position,!e.endAt.before):null,f=e.startAt?new La(e.startAt.position,!e.startAt.before):null;e.T=H_(e.path,e.collectionGroup,n,e.filters,e.limit,l,f)}return e.T}function qT(t,e,n){return new ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rc(t,e){return eh(Vr(t),Vr(e))&&t.limitType===e.limitType}function $T(t){return ec(Vr(t))+"|lt:"+t.limitType}function Zg(t){return"Query(target="+function(e){var n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=", filters: ["+e.filters.map(function(i){return(o=i).field.canonicalString()+" "+o.op+" "+Em(o.value);var o}).join(", ")+"]"),Vo(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=", orderBy: ["+e.orderBy.map(function(i){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(i)}).join(", ")+"]"),e.startAt&&(n+=", startAt: "+uf(e.startAt)),e.endAt&&(n+=", endAt: "+uf(e.endAt)),"Target("+n+")"}(Vr(t))+"; limitType="+t.limitType+")"}function ic(t,e){return e.isFoundDocument()&&function(n,i){var o=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):bt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(t,e)&&function(n,i){for(var o=0,u=n.explicitOrderBy;o<u.length;o++){var a=u[o];if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1}return!0}(t,e)&&function(n,i){for(var o=0,u=n.filters;o<u.length;o++)if(!u[o].matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!z_(n.startAt,Us(n),i))&&(!n.endAt||!z_(n.endAt,Us(n),i))}(t,e)}function KT(t){return function(e,n){for(var i=!1,o=0,u=Us(t);o<u.length;o++){var a=u[o],l=qL(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function qL(t,e,n){var i=t.field.isKeyField()?bt.comparator(e.key,n.key):function(o,u,a){var l=u.data.field(o),f=a.data.field(o);return l!==null&&f!==null?js(l,f):yt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function zT(t){return{integerValue:""+t}}function GT(t,e){return VT(e)?zT(e):HT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nh=function(){this._=void 0};function $L(t,e,n){return t instanceof Bs?function(i,o){var u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(n,e):t instanceof Ro?QT(t,e):t instanceof Do?YT(t,e):function(i,o){var u=WT(i,o),a=W_(u)+W_(i.A);return Jg(u)&&Jg(i.A)?zT(a):HT(i.R,a)}(t,e)}function KL(t,e,n){return t instanceof Ro?QT(t,e):t instanceof Do?YT(t,e):n}function WT(t,e){return t instanceof qs?Jg(n=e)||function(i){return!!i&&"doubleValue"in i}(n)?e:{integerValue:0}:null;var n}var Bs=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e}(nh),Ro=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return Tt(e,t),e}(nh);function QT(t,e){for(var n=XT(e),i=function(a){n.some(function(l){return Fr(l,a)})||n.push(a)},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var Do=function(t){function e(n){var i=this;return(i=t.call(this)||this).elements=n,i}return Tt(e,t),e}(nh);function YT(t,e){for(var n=XT(e),i=function(a){n=n.filter(function(l){return!Fr(l,a)})},o=0,u=t.elements;o<u.length;o++)i(u[o]);return{arrayValue:{values:n}}}var qs=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).R=n,o.A=i,o}return Tt(e,t),e}(nh);function W_(t){return De(t.integerValue||t.doubleValue)}function XT(t){return Im(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oc=function(t,e){this.field=t,this.transform=e},HL=function(t,e){this.version=t,this.transformResults=e},cn=function(){function t(e,n){this.updateTime=e,this.exists=n}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},t}();function Ml(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var rh=function(){};function zL(t,e,n){t instanceof sc?function(i,o,u){var a=i.value.clone(),l=X_(i.fieldTransforms,o,u.transformResults);a.setAll(l),o.convertToFoundDocument(u.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ui?function(i,o,u){if(Ml(i.precondition,o)){var a=X_(i.fieldTransforms,o,u.transformResults),l=o.data;l.setAll(JT(i)),l.setAll(a),o.convertToFoundDocument(u.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(u.version)}(t,e,n):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function tv(t,e,n){t instanceof sc?function(i,o,u){if(Ml(i.precondition,o)){var a=i.value.clone(),l=J_(i.fieldTransforms,u,o);a.setAll(l),o.convertToFoundDocument(Y_(o),a).setHasLocalMutations()}}(t,e,n):t instanceof Ui?function(i,o,u){if(Ml(i.precondition,o)){var a=J_(i.fieldTransforms,u,o),l=o.data;l.setAll(JT(i)),l.setAll(a),o.convertToFoundDocument(Y_(o),l).setHasLocalMutations()}}(t,e,n):function(i,o){Ml(i.precondition,o)&&o.convertToNoDocument($t.min())}(t,e)}function GL(t,e){for(var n=null,i=0,o=t.fieldTransforms;i<o.length;i++){var u=o[i],a=e.data.field(u.field),l=WT(u.transform,a||null);l!=null&&(n==null&&(n=zn.empty()),n.set(u.field,l))}return n||null}function Q_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Ms(n,i,function(o,u){return function(a,l){return a.field.isEqual(l.field)&&function(f,d){return f instanceof Ro&&d instanceof Ro||f instanceof Do&&d instanceof Do?Ms(f.elements,d.elements,Fr):f instanceof qs&&d instanceof qs?Fr(f.A,d.A):f instanceof Bs&&d instanceof Bs}(a.transform,l.transform)}(o,u)})}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Y_(t){return t.isFoundDocument()?t.version:$t.min()}var sc=function(t){function e(n,i,o,u){u===void 0&&(u=[]);var a=this;return(a=t.call(this)||this).key=n,a.value=i,a.precondition=o,a.fieldTransforms=u,a.type=0,a}return Tt(e,t),e}(rh),Ui=function(t){function e(n,i,o,u,a){a===void 0&&(a=[]);var l=this;return(l=t.call(this)||this).key=n,l.data=i,l.fieldMask=o,l.precondition=u,l.fieldTransforms=a,l.type=1,l}return Tt(e,t),e}(rh);function JT(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var i=t.data.field(n);e.set(n,i)}}),e}function X_(t,e,n){var i=new Map;Nt(t.length===n.length);for(var o=0;o<n.length;o++){var u=t[o],a=u.transform,l=e.data.field(u.field);i.set(u.field,KL(a,l,n[o]))}return i}function J_(t,e,n){for(var i=new Map,o=0,u=t;o<u.length;o++){var a=u[o],l=a.transform,f=n.data.field(a.field);i.set(a.field,$L(l,f,e))}return i}var Re,Yt,uc=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=2,o.fieldTransforms=[],o}return Tt(e,t),e}(rh),Nm=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).key=n,o.precondition=i,o.type=3,o.fieldTransforms=[],o}return Tt(e,t),e}(rh),WL=function(t){this.count=t};function ZT(t){switch(t){case D.OK:return yt();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return yt()}}function tS(t){if(t===void 0)return Pe("GRPC error has no .code"),D.UNKNOWN;switch(t){case Re.OK:return D.OK;case Re.CANCELLED:return D.CANCELLED;case Re.UNKNOWN:return D.UNKNOWN;case Re.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Re.INTERNAL:return D.INTERNAL;case Re.UNAVAILABLE:return D.UNAVAILABLE;case Re.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Re.NOT_FOUND:return D.NOT_FOUND;case Re.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Re.ABORTED:return D.ABORTED;case Re.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Re.DATA_LOSS:return D.DATA_LOSS;default:return yt()}}(Yt=Re||(Re={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn=function(){function t(e,n){this.comparator=e,this.root=n||Ti.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ti.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ti.BLACK,null,null))},t.prototype.get=function(e){for(var n=this.root;!n.isEmpty();){var i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null},t.prototype.indexOf=function(e){for(var n=0,i=this.root;!i.isEmpty();){var o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},t.prototype.forEach=function(e){this.inorderTraversal(function(n,i){return e(n,i),!1})},t.prototype.toString=function(){var e=[];return this.inorderTraversal(function(n,i){return e.push(n+":"+i),!1}),"{"+e.join(", ")+"}"},t.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},t.prototype.getIterator=function(){return new Tl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(e){return new Tl(this.root,e,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Tl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(e){return new Tl(this.root,e,this.comparator,!0)},t}(),Tl=function(){function t(e,n,i,o){this.isReverse=o,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=n?i(e.key,n):1,o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return t.prototype.getNext=function(){var e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(this.nodeStack.length===0)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},t}(),Ti=function(){function t(e,n,i,o,u){this.key=e,this.value=n,this.color=i??t.RED,this.left=o??t.EMPTY,this.right=u??t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,i,o,u){return new t(e??this.key,n??this.value,i??this.color,o??this.left,u??this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},t.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(e,n,i){var o=this,u=i(e,o.key);return(o=u<0?o.copy(null,null,null,o.left.insert(e,n,i),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return t.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},t.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},t.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)},t.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();var e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)},t}();Ti.EMPTY=null,Ti.RED=!0,Ti.BLACK=!1,Ti.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw yt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw yt()},enumerable:!1,configurable:!0}),t.prototype.copy=function(e,n,i,o,u){return this},t.prototype.insert=function(e,n,i){return new Ti(e,n)},t.prototype.remove=function(e,n){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(e){return!1},t.prototype.reverseTraversal=function(e){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e=function(){function t(e){this.comparator=e,this.data=new hn(this.comparator)}return t.prototype.has=function(e){return this.data.get(e)!==null},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(e){return this.data.indexOf(e)},t.prototype.forEach=function(e){this.data.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.forEachInRange=function(e,n){for(var i=this.data.getIteratorFrom(e[0]);i.hasNext();){var o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}},t.prototype.forEachWhile=function(e,n){var i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return},t.prototype.firstAfterOrEqual=function(e){var n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null},t.prototype.getIterator=function(){return new Z_(this.data.getIterator())},t.prototype.getIteratorFrom=function(e){return new Z_(this.data.getIteratorFrom(e))},t.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},t.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(e){var n=this;return n.size<e.size&&(n=e,e=this),e.forEach(function(i){n=n.add(i)}),n},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.data.getIterator(),i=e.data.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0},t.prototype.toArray=function(){var e=[];return this.forEach(function(n){e.push(n)}),e},t.prototype.toString=function(){var e=[];return this.forEach(function(n){return e.push(n)}),"SortedSet("+e.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Z_=function(){function t(e){this.iter=e}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),QL=new hn(bt.comparator);function yr(){return QL}var YL=new hn(bt.comparator);function ev(){return YL}var XL=new hn(bt.comparator);function JL(){return XL}var ZL=new $e(bt.comparator);function fe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ZL,i=0,o=t;i<o.length;i++){var u=o[i];n=n.add(u)}return n}var tM=new $e(zt);function ih(){return tM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var km=function(){function t(e,n,i,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var i=new Map;return i.set(e,xm.createSynthesizedTargetChangeForCurrentChange(e,n)),new t($t.min(),i,ih(),yr(),fe())},t}(),xm=function(){function t(e,n,i,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Pn.EMPTY_BYTE_STRING,n,fe(),fe(),fe())},t}(),Fl=function(t,e,n,i){this.v=t,this.removedTargetIds=e,this.key=n,this.P=i},eS=function(t,e){this.targetId=t,this.V=e},nS=function(t,e,n,i){n===void 0&&(n=Pn.EMPTY_BYTE_STRING),i===void 0&&(i=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=i},tE=function(){function t(){this.S=0,this.D=nE(),this.C=Pn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},t.prototype.M=function(){var e=fe(),n=fe(),i=fe();return this.D.forEach(function(o,u){switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:yt()}}),new xm(this.C,this.N,e,n,i)},t.prototype.L=function(){this.k=!1,this.D=nE()},t.prototype.B=function(e,n){this.k=!0,this.D=this.D.insert(e,n)},t.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),eM=function(){function t(e){this.W=e,this.G=new Map,this.H=yr(),this.J=eE(),this.Y=new $e(zt)}return t.prototype.X=function(e){for(var n=0,i=e.v;n<i.length;n++){var o=i[n];e.P&&e.P.isFoundDocument()?this.Z(o,e.P):this.tt(o,e.key,e.P)}for(var u=0,a=e.removedTargetIds;u<a.length;u++)o=a[u],this.tt(o,e.key,e.P)},t.prototype.et=function(e){var n=this;this.forEachTarget(e,function(i){var o=n.nt(i);switch(e.state){case 0:n.st(i)&&o.O(e.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(e.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(i);break;case 3:n.st(i)&&(o.j(),o.O(e.resumeToken));break;case 4:n.st(i)&&(n.it(i),o.O(e.resumeToken));break;default:yt()}})},t.prototype.forEachTarget=function(e,n){var i=this;e.targetIds.length>0?e.targetIds.forEach(n):this.G.forEach(function(o,u){i.st(u)&&n(u)})},t.prototype.rt=function(e){var n=e.targetId,i=e.V.count,o=this.ot(n);if(o){var u=o.target;if(sf(u))if(i===0){var a=new bt(u.path);this.tt(n,a,fn.newNoDocument(a,$t.min()))}else Nt(i===1);else this.ct(n)!==i&&(this.it(n),this.Y=this.Y.add(n))}},t.prototype.ut=function(e){var n=this,i=new Map;this.G.forEach(function(a,l){var f=n.ot(l);if(f){if(a.current&&sf(f.target)){var d=new bt(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,fn.newNoDocument(d,e))}a.$&&(i.set(l,a.M()),a.L())}});var o=fe();this.J.forEach(function(a,l){var f=!0;l.forEachWhile(function(d){var g=n.ot(d);return!g||g.purpose===2||(f=!1,!1)}),f&&(o=o.add(a))});var u=new km(e,i,this.Y,this.H,o);return this.H=yr(),this.J=eE(),this.Y=new $e(zt),u},t.prototype.Z=function(e,n){if(this.st(e)){var i=this.at(e,n.key)?2:0;this.nt(e).B(n.key,i),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(e))}},t.prototype.tt=function(e,n,i){if(this.st(e)){var o=this.nt(e);this.at(e,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(e)),i&&(this.H=this.H.insert(n,i))}},t.prototype.removeTarget=function(e){this.G.delete(e)},t.prototype.ct=function(e){var n=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.U=function(e){this.nt(e).U()},t.prototype.nt=function(e){var n=this.G.get(e);return n||(n=new tE,this.G.set(e,n)),n},t.prototype.ht=function(e){var n=this.J.get(e);return n||(n=new $e(zt),this.J=this.J.insert(e,n)),n},t.prototype.st=function(e){var n=this.ot(e)!==null;return n||et("WatchChangeAggregator","Detected inactive target",e),n},t.prototype.ot=function(e){var n=this.G.get(e);return n&&n.F?null:this.W.lt(e)},t.prototype.it=function(e){var n=this;this.G.set(e,new tE),this.W.getRemoteKeysForTarget(e).forEach(function(i){n.tt(e,i,null)})},t.prototype.at=function(e,n){return this.W.getRemoteKeysForTarget(e).has(n)},t}();function eE(){return new hn(bt.comparator)}function nE(){return new hn(bt.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nM={asc:"ASCENDING",desc:"DESCENDING"},rM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iM=function(t,e){this.databaseId=t,this.I=e};function Ma(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function rS(t,e){return t.I?e.toBase64():e.toUint8Array()}function oM(t,e){return Ma(t,e.toTimestamp())}function _n(t){return Nt(!!t),$t.fromTimestamp(function(e){var n=Li(e);return new Rn(n.seconds,n.nanos)}(t))}function Cm(t,e){return function(n){return new ee(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function iS(t){var e=ee.fromString(t);return Nt(fS(e)),e}function Fa(t,e){return Cm(t.databaseId,e.path)}function Xr(t,e){var n=iS(e);if(n.get(1)!==t.databaseId.projectId)throw new W(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new bt(sS(n))}function nv(t,e){return Cm(t.databaseId,e)}function oS(t){var e=iS(t);return e.length===4?ee.emptyPath():sS(e)}function Va(t){return new ee(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sS(t){return Nt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rE(t,e,n){return{name:Fa(t,e),fields:n.value.mapValue.fields}}function sM(t,e,n){var i=Xr(t,e.name),o=_n(e.updateTime),u=new zn({mapValue:{fields:e.fields}}),a=fn.newFoundDocument(i,o,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function cf(t,e){var n;if(e instanceof sc)n={update:rE(t,e.key,e.value)};else if(e instanceof uc)n={delete:Fa(t,e.key)};else if(e instanceof Ui)n={update:rE(t,e.key,e.data),updateMask:fM(e.fieldMask)};else{if(!(e instanceof Nm))return yt();n={verify:Fa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(i){return function(o,u){var a=u.transform;if(a instanceof Bs)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ro)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Do)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qs)return{fieldPath:u.field.canonicalString(),increment:a.A};throw yt()}(0,i)})),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:oM(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:yt()}(t,e.precondition)),n}function iE(t,e){var n=e.currentDocument?function(d){return d.updateTime!==void 0?cn.updateTime(_n(d.updateTime)):d.exists!==void 0?cn.exists(d.exists):cn.none()}(e.currentDocument):cn.none(),i=e.updateTransforms?e.updateTransforms.map(function(d){return function(g,v){var y=null;if("setToServerValue"in v)Nt(v.setToServerValue==="REQUEST_TIME"),y=new Bs;else if("appendMissingElements"in v){var b=v.appendMissingElements.values||[];y=new Ro(b)}else if("removeAllFromArray"in v){var _=v.removeAllFromArray.values||[];y=new Do(_)}else"increment"in v?y=new qs(g,v.increment):yt();var T=br.fromServerFormat(v.fieldPath);return new oc(T,y)}(t,d)}):[];if(e.update){e.update.name;var o=Xr(t,e.update.name),u=new zn({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(d){var g=d.fieldPaths||[];return new Fs(g.map(function(v){return br.fromServerFormat(v)}))}(e.updateMask);return new Ui(o,u,a,n,i)}return new sc(o,u,n,i)}if(e.delete){var l=Xr(t,e.delete);return new uc(l,n)}if(e.verify){var f=Xr(t,e.verify);return new Nm(f,n)}return yt()}function uS(t,e){return{documents:[nv(t,e.path)]}}function aS(t,e){var n={structuredQuery:{}},i=e.path;e.collectionGroup!==null?(n.parent=nv(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nv(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(g){if(g.op==="=="){if(K_(g.value))return{unaryFilter:{field:gs(g.field),op:"IS_NAN"}};if($_(g.value))return{unaryFilter:{field:gs(g.field),op:"IS_NULL"}}}else if(g.op==="!="){if(K_(g.value))return{unaryFilter:{field:gs(g.field),op:"IS_NOT_NAN"}};if($_(g.value))return{unaryFilter:{field:gs(g.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(g.field),op:aM(g.op),value:g.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(e.filters);o&&(n.structuredQuery.where=o);var u=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:gs(d.field),direction:uM(d.dir)}}(f)})}(e.orderBy);u&&(n.structuredQuery.orderBy=u);var a=function(l,f){return l.I||Vo(f)?f:{value:f}}(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=oE(e.startAt)),e.endAt&&(n.structuredQuery.endAt=oE(e.endAt)),n}function cS(t){var e=oS(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,o=null;if(i>0){Nt(i===1);var u=n.from[0];u.allDescendants?o=u.collectionId:e=e.child(u.collectionId)}var a=[];n.where&&(a=lS(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(v){return function(y){return new ks(Is(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(v)}));var f=null;n.limit&&(f=function(v){var y;return Vo(y=typeof v=="object"?v.value:v)?null:y}(n.limit));var d=null;n.startAt&&(d=sE(n.startAt));var g=null;return n.endAt&&(g=sE(n.endAt)),BT(e,o,l,a,f,"F",d,g)}function lS(t){return t?t.unaryFilter!==void 0?[lM(t)]:t.fieldFilter!==void 0?[cM(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(function(e){return lS(e)}).reduce(function(e,n){return e.concat(n)}):yt():[]}function oE(t){return{before:t.before,values:t.position}}function sE(t){var e=!!t.before,n=t.values||[];return new La(n,e)}function uM(t){return nM[t]}function aM(t){return rM[t]}function gs(t){return{fieldPath:t.canonicalString()}}function Is(t){return br.fromServerFormat(t.fieldPath)}function cM(t){return Wn.create(Is(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return yt()}}(t.fieldFilter.op),t.fieldFilter.value)}function lM(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Is(t.unaryFilter.field);return Wn.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Is(t.unaryFilter.field);return Wn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var i=Is(t.unaryFilter.field);return Wn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Is(t.unaryFilter.field);return Wn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return yt()}}function fM(t){var e=[];return t.fields.forEach(function(n){return e.push(n.canonicalString())}),{fieldPaths:e}}function fS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=uE(e)),e=hM(t.get(n),e);return uE(e)}function hM(t,e){for(var n=e,i=t.length,o=0;o<i;o++){var u=t.charAt(o);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function uE(t){return t+""}function Qr(t){var e=t.length;if(Nt(e>=2),e===2)return Nt(t.charAt(0)===""&&t.charAt(1)===""),ee.emptyPath();for(var n=e-2,i=[],o="",u=0;u<e;){var a=t.indexOf("",u);switch((a<0||a>n)&&yt(),t.charAt(a+1)){case"":var l=t.substring(u,a),f=void 0;o.length===0?f=l:(f=o+=l,o=""),i.push(f);break;case"":o+=t.substring(u,a),o+="\0";break;case"":o+=t.substring(u,a+1);break;default:yt()}u=a+2}return new ee(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dM=function(t,e){this.seconds=t,this.nanoseconds=e},$n=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};$n.store="owner",$n.key="owner";var Ri=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Ri.store="mutationQueues",Ri.keyPath="userId";var pe=function(t,e,n,i,o){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=i,this.mutations=o};pe.store="mutations",pe.keyPath="batchId",pe.userMutationsIndex="userMutationsIndex",pe.userMutationsKeyPath=["userId","batchId"];var on=function(){function t(){}return t.prefixForUser=function(e){return[e]},t.prefixForPath=function(e,n){return[e,wr(n)]},t.key=function(e,n,i){return[e,wr(n),i]},t}();on.store="documentMutations",on.PLACEHOLDER=new on;var pM=function(t,e){this.path=t,this.readTime=e},gM=function(t,e){this.path=t,this.version=e},Se=function(t,e,n,i,o,u){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=i,this.readTime=o,this.parentPath=u};Se.store="remoteDocuments",Se.readTimeIndex="readTimeIndex",Se.readTimeIndexPath="readTime",Se.collectionReadTimeIndex="collectionReadTimeIndex",Se.collectionReadTimeIndexPath=["parentPath","readTime"];var Pr=function(t){this.byteSize=t};Pr.store="remoteDocumentGlobal",Pr.key="remoteDocumentGlobalKey";var Cn=function(t,e,n,i,o,u,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=i,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=u,this.query=a};Cn.store="targets",Cn.keyPath="targetId",Cn.queryTargetsIndexName="queryTargetsIndex",Cn.queryTargetsKeyPath=["canonicalId","targetId"];var Xe=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Xe.store="targetDocuments",Xe.keyPath=["targetId","path"],Xe.documentTargetsIndex="documentTargetsIndex",Xe.documentTargetsKeyPath=["path","targetId"];var Hn=function(t,e,n,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=i};Hn.key="targetGlobalKey",Hn.store="targetGlobal";var To=function(t,e){this.collectionId=t,this.parent=e};To.store="collectionParents",To.keyPath=["collectionId","parent"];var Jr=function(t,e,n,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=i};Jr.store="clientMetadata",Jr.keyPath="clientId";var $s=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};$s.store="bundles",$s.keyPath="bundleId";var Ks=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ks.store="namedQueries",Ks.keyPath="name";var vM=Ae(Ae([],Ae(Ae([],Ae(Ae([],Ae(Ae([],[Ri.store,pe.store,on.store,Se.store,Cn.store,$n.store,Hn.store,Xe.store]),[Jr.store])),[Pr.store])),[To.store])),[$s.store,Ks.store]),hS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},t}(),Ln=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},J=function(){function t(e){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(i){n.isDone=!0,n.result=i,n.nextCallback&&n.nextCallback(i)},function(i){n.isDone=!0,n.error=i,n.catchCallback&&n.catchCallback(i)})}return t.prototype.catch=function(e){return this.next(void 0,e)},t.prototype.next=function(e,n){var i=this;return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(o,u){i.nextCallback=function(a){i.wrapSuccess(e,a).next(o,u)},i.catchCallback=function(a){i.wrapFailure(n,a).next(o,u)}})},t.prototype.toPromise=function(){var e=this;return new Promise(function(n,i){e.next(n,i)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(i){return t.reject(i)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(n,i){n(e)})},t.reject=function(e){return new t(function(n,i){i(e)})},t.waitFor=function(e){return new t(function(n,i){var o=0,u=0,a=!1;e.forEach(function(l){++o,l.next(function(){++u,a&&u===o&&n()},function(f){return i(f)})}),a=!0,u===o&&n()})},t.or=function(e){for(var n=t.resolve(!1),i=function(a){n=n.next(function(l){return l?t.resolve(l):a()})},o=0,u=e;o<u.length;o++)i(u[o]);return n},t.forEach=function(e,n){var i=this,o=[];return e.forEach(function(u,a){o.push(n.call(i,u,a))}),this.waitFor(o)},t}(),pS=function(){function t(e,n){var i=this;this.action=e,this.transaction=n,this.aborted=!1,this.ft=new Ln,this.transaction.oncomplete=function(){i.ft.resolve()},this.transaction.onabort=function(){n.error?i.ft.reject(new ha(e,n.error)):i.ft.resolve()},this.transaction.onerror=function(o){var u=Om(o.target.error);i.ft.reject(new ha(e,u))}}return t.open=function(e,n,i,o){try{return new t(n,e.transaction(o,i))}catch(u){throw new ha(n,u)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(e){var n=this.transaction.objectStore(e);return new yM(n)},t}(),Hs=function(){function t(e,n,i){this.name=e,this.version=n,this.wt=i,t._t(ko())===12.2&&Pe("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(e){return et("SimpleDb","Removing database:",e),vo(window.indexedDB.deleteDatabase(e)).toPromise()},t.yt=function(){if(typeof indexedDB>"u")return!1;if(t.gt())return!0;var e=ko(),n=t._t(e),i=0<n&&n<10,o=t.Et(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||u)},t.gt=function(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.Tt)==="YES"},t.It=function(e,n){return e.store(n)},t._t=function(e){var n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)},t.Et=function(e){var n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)},t.prototype.At=function(e){return z(this,void 0,void 0,function(){var n,i=this;return K(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(et("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(u,a){var l=indexedDB.open(i.name,i.version);l.onsuccess=function(f){var d=f.target.result;u(d)},l.onblocked=function(){a(new ha(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?a(new W(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a(new ha(e,d))},l.onupgradeneeded=function(f){et("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;i.wt.Rt(d,l.transaction,f.oldVersion,i.version).next(function(){et("SimpleDb","Database upgrade to version "+i.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return i.bt(u)}),this.db)]}})})},t.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(n){return e(n)})},t.prototype.runTransaction=function(e,n,i,o){return z(this,void 0,void 0,function(){var u,a,l,f,d;return K(this,function(g){switch(g.label){case 0:u=n==="readonly",a=0,l=function(){var v,y,b,_,T;return K(this,function(N){switch(N.label){case 0:++a,N.label=1;case 1:return N.trys.push([1,4,,5]),[4,f.At(e)];case 2:return f.db=N.sent(),v=pS.open(f.db,e,u?"readonly":"readwrite",i),y=o(v).catch(function(O){return v.abort(O),J.reject(O)}).toPromise(),b={},y.catch(function(){}),[4,v.dt];case 3:return[2,(b.value=(N.sent(),y),b)];case 4:return _=N.sent(),T=_.name!=="FirebaseError"&&a<3,et("SimpleDb","Transaction failed with error:",_.message,"Retrying:",T),f.close(),T?[3,5]:[2,{value:Promise.reject(_)}];case 5:return[2]}})},f=this,g.label=1;case 1:return[5,l()];case 2:if(typeof(d=g.sent())=="object")return[2,d.value];g.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),mM=function(){function t(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(e){this.St=e},t.prototype.delete=function(){return vo(this.Pt.delete())},t}(),ha=function(t){function e(n,i){var o=this;return(o=t.call(this,D.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+i)||this).name="IndexedDbTransactionError",o}return Tt(e,t),e}(W);function jo(t){return t.name==="IndexedDbTransactionError"}var yM=function(){function t(e){this.store=e}return t.prototype.put=function(e,n){var i;return n!==void 0?(et("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(et("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),vo(i)},t.prototype.add=function(e){return et("SimpleDb","ADD",this.store.name,e,e),vo(this.store.add(e))},t.prototype.get=function(e){var n=this;return vo(this.store.get(e)).next(function(i){return i===void 0&&(i=null),et("SimpleDb","GET",n.store.name,e,i),i})},t.prototype.delete=function(e){return et("SimpleDb","DELETE",this.store.name,e),vo(this.store.delete(e))},t.prototype.count=function(){return et("SimpleDb","COUNT",this.store.name),vo(this.store.count())},t.prototype.Nt=function(e,n){var i=this.cursor(this.options(e,n)),o=[];return this.xt(i,function(u,a){o.push(a)}).next(function(){return o})},t.prototype.kt=function(e,n){et("SimpleDb","DELETE ALL",this.store.name);var i=this.options(e,n);i.Ft=!1;var o=this.cursor(i);return this.xt(o,function(u,a,l){return l.delete()})},t.prototype.$t=function(e,n){var i;n?i=e:(i={},n=e);var o=this.cursor(i);return this.xt(o,n)},t.prototype.Ot=function(e){var n=this.cursor({});return new J(function(i,o){n.onerror=function(u){var a=Om(u.target.error);o(a)},n.onsuccess=function(u){var a=u.target.result;a?e(a.primaryKey,a.value).next(function(l){l?a.continue():i()}):i()}})},t.prototype.xt=function(e,n){var i=[];return new J(function(o,u){e.onerror=function(a){u(a.target.error)},e.onsuccess=function(a){var l=a.target.result;if(l){var f=new mM(l),d=n(l.primaryKey,l.value,f);if(d instanceof J){var g=d.catch(function(v){return f.done(),J.reject(v)});i.push(g)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return J.waitFor(i)})},t.prototype.options=function(e,n){var i;return e!==void 0&&(typeof e=="string"?i=e:n=e),{index:i,range:n}},t.prototype.cursor=function(e){var n="next";if(e.reverse&&(n="prev"),e.index){var i=this.store.index(e.index);return e.Ft?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)},t}();function vo(t){return new J(function(e,n){t.onsuccess=function(i){var o=i.target.result;e(o)},t.onerror=function(i){var o=Om(i.target.error);n(o)}})}var aE=!1;function Om(t){var e=Hs._t(ko());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var i=new W("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return aE||(aE=!0,setTimeout(function(){throw i},0)),i}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cE=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Mt=n,o.currentSequenceNumber=i,o}return Tt(e,t),e}(dS);function Mn(t,e){var n=ot(t);return Hs.It(n.Mt,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rm=function(){function t(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}return t.prototype.applyToRemoteDocument=function(e,n){for(var i=n.mutationResults,o=0;o<this.mutations.length;o++){var u=this.mutations[o];u.key.isEqual(e.key)&&zL(u,e,i[o])}},t.prototype.applyToLocalView=function(e){for(var n=0,i=this.baseMutations;n<i.length;n++)(a=i[n]).key.isEqual(e.key)&&tv(a,e,this.localWriteTime);for(var o=0,u=this.mutations;o<u.length;o++){var a;(a=u[o]).key.isEqual(e.key)&&tv(a,e,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(e){var n=this;this.mutations.forEach(function(i){var o=e.get(i.key),u=o;n.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument($t.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(e,n){return e.add(n.key)},fe())},t.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,function(n,i){return Q_(n,i)})&&Ms(this.baseMutations,e.baseMutations,function(n,i){return Q_(n,i)})},t}(),wM=function(){function t(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}return t.from=function(e,n,i){Nt(e.mutations.length===i.length);for(var o=JL(),u=e.mutations,a=0;a<u.length;a++)o=o.insert(u[a].key,i[a].version);return new t(e,n,i,o)},t}(),oh=function(){function t(e,n,i,o,u,a,l){u===void 0&&(u=$t.min()),a===void 0&&(a=$t.min()),l===void 0&&(l=Pn.EMPTY_BYTE_STRING),this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),gS=function(t){this.Lt=t};function rv(t,e){if(e.document)return sM(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=bt.fromSegments(e.noDocument.path),i=Gs(e.noDocument.readTime),o=fn.newNoDocument(n,i);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){var u=bt.fromSegments(e.unknownDocument.path);return i=Gs(e.unknownDocument.version),fn.newUnknownDocument(u,i)}return yt()}function lE(t,e,n){var i=Dm(n),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u=function(v,y){return{name:Fa(v,y.key),fields:y.data.value.mapValue.fields,updateTime:Ma(v,y.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new Se(null,null,u,a,i,o)}if(e.isNoDocument()){var l=e.key.path.toArray(),f=zs(e.version);return a=e.hasCommittedMutations,new Se(null,new pM(l,f),null,a,i,o)}if(e.isUnknownDocument()){var d=e.key.path.toArray(),g=zs(e.version);return new Se(new gM(d,g),null,null,!0,i,o)}return yt()}function Dm(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function vS(t){var e=new Rn(t[0],t[1]);return $t.fromTimestamp(e)}function zs(t){var e=t.toTimestamp();return new dM(e.seconds,e.nanoseconds)}function Gs(t){var e=new Rn(t.seconds,t.nanoseconds);return $t.fromTimestamp(e)}function ws(t,e){for(var n=(e.baseMutations||[]).map(function(f){return iE(t.Lt,f)}),i=0;i<e.mutations.length-1;++i){var o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){var u=e.mutations[i+1];o.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}var a=e.mutations.map(function(f){return iE(t.Lt,f)}),l=Rn.fromMillis(e.localWriteTimeMs);return new Rm(e.batchId,l,n,a)}function ia(t){var e,n,i=Gs(t.readTime),o=t.lastLimboFreeSnapshotVersion!==void 0?Gs(t.lastLimboFreeSnapshotVersion):$t.min();return t.query.documents!==void 0?(Nt((n=t.query).documents.length===1),e=Vr(nc(oS(n.documents[0])))):e=function(u){return Vr(cS(u))}(t.query),new oh(e,t.targetId,0,t.lastListenSequenceNumber,i,o,Pn.fromBase64String(t.resumeToken))}function mS(t,e){var n,i=zs(e.snapshotVersion),o=zs(e.lastLimboFreeSnapshotVersion);n=sf(e.target)?uS(t.Lt,e.target):aS(t.Lt,e.target);var u=e.resumeToken.toBase64();return new Cn(e.targetId,ec(e.target),i,u,e.sequenceNumber,o,n)}function yS(t){var e=cS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?qT(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bM=function(){function t(){}return t.prototype.getBundleMetadata=function(e,n){return fE(e).get(n).next(function(i){if(i)return{id:(o=i).bundleId,createTime:Gs(o.createTime),version:o.version};var o})},t.prototype.saveBundleMetadata=function(e,n){return fE(e).put({bundleId:(i=n).id,createTime:zs(_n(i.createTime)),version:i.version});var i},t.prototype.getNamedQuery=function(e,n){return hE(e).get(n).next(function(i){if(i)return{name:(o=i).name,query:yS(o.bundledQuery),readTime:Gs(o.readTime)};var o})},t.prototype.saveNamedQuery=function(e,n){return hE(e).put(function(i){return{name:i.name,readTime:zs(_n(i.readTime)),bundledQuery:i.bundledQuery}}(n))},t}();function fE(t){return Mn(t,$s.store)}function hE(t){return Mn(t,Ks.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _M=function(){function t(){this.Bt=new Pm}return t.prototype.addToCollectionParentIndex=function(e,n){return this.Bt.add(n),J.resolve()},t.prototype.getCollectionParents=function(e,n){return J.resolve(this.Bt.getEntries(n))},t}(),Pm=function(){function t(){this.index={}}return t.prototype.add=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new $e(ee.comparator),u=!o.has(i);return this.index[n]=o.add(i),u},t.prototype.has=function(e){var n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)},t.prototype.getEntries=function(e){return(this.index[e]||new $e(ee.comparator)).toArray()},t}(),EM=function(){function t(){this.qt=new Pm}return t.prototype.addToCollectionParentIndex=function(e,n){var i=this;if(!this.qt.has(n)){var o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(function(){i.qt.add(n)});var a={collectionId:o,parent:wr(u)};return dE(e).put(a)}return J.resolve()},t.prototype.getCollectionParents=function(e,n){var i=[],o=IDBKeyRange.bound([n,""],[PT(n),""],!1,!0);return dE(e).Nt(o).next(function(u){for(var a=0,l=u;a<l.length;a++){var f=l[a];if(f.collectionId!==n)break;i.push(Qr(f.parent))}return i})},t}();function dE(t){return Mn(t,To.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cr=function(){function t(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t,e,n){var i=t.store(pe.store),o=t.store(on.store),u=[],a=IDBKeyRange.only(n.batchId),l=0,f=i.$t({range:a},function(_,T,N){return l++,N.delete()});u.push(f.next(function(){Nt(l===1)}));for(var d=[],g=0,v=n.mutations;g<v.length;g++){var y=v[g],b=on.key(e,y.key.path,n.batchId);u.push(o.delete(b)),d.push(y.key)}return J.waitFor(u).next(function(){return d})}function lf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw yt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr.DEFAULT_COLLECTION_PERCENTILE=10,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cr.DEFAULT=new Cr(41943040,Cr.DEFAULT_COLLECTION_PERCENTILE,Cr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cr.DISABLED=new Cr(-1,0,0);var IM=function(){function t(e,n,i,o){this.userId=e,this.R=n,this.Ut=i,this.referenceDelegate=o,this.Kt={}}return t.Qt=function(e,n,i,o){return Nt(e.uid!==""),new t(e.isAuthenticated()?e.uid:"",n,i,o)},t.prototype.checkEmpty=function(e){var n=!0,i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vi(e).$t({index:pe.userMutationsIndex,range:i},function(o,u,a){n=!1,a.done()}).next(function(){return n})},t.prototype.addMutationBatch=function(e,n,i,o){var u=this,a=bs(e),l=vi(e);return l.add({}).next(function(f){Nt(typeof f=="number");for(var d=new Rm(f,n,i,o),g=function(O,P,j){var q=j.baseMutations.map(function(V){return cf(O.Lt,V)}),rt=j.mutations.map(function(V){return cf(O.Lt,V)});return new pe(P,j.batchId,j.localWriteTime.toMillis(),q,rt)}(u.R,u.userId,d),v=[],y=new $e(function(O,P){return zt(O.canonicalString(),P.canonicalString())}),b=0,_=o;b<_.length;b++){var T=_[b],N=on.key(u.userId,T.key.path,f);y=y.add(T.key.path.popLast()),v.push(l.put(g)),v.push(a.put(N,on.PLACEHOLDER))}return y.forEach(function(O){v.push(u.Ut.addToCollectionParentIndex(e,O))}),e.addOnCommittedListener(function(){u.Kt[f]=d.keys()}),J.waitFor(v).next(function(){return d})})},t.prototype.lookupMutationBatch=function(e,n){var i=this;return vi(e).get(n).next(function(o){return o?(Nt(o.userId===i.userId),ws(i.R,o)):null})},t.prototype.jt=function(e,n){var i=this;return this.Kt[n]?J.resolve(this.Kt[n]):this.lookupMutationBatch(e,n).next(function(o){if(o){var u=o.keys();return i.Kt[n]=u,u}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=this,o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]),a=null;return vi(e).$t({index:pe.userMutationsIndex,range:u},function(l,f,d){f.userId===i.userId&&(Nt(f.batchId>=o),a=ws(i.R,f)),d.done()}).next(function(){return a})},t.prototype.getHighestUnacknowledgedBatchId=function(e){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),i=-1;return vi(e).$t({index:pe.userMutationsIndex,range:n,reverse:!0},function(o,u,a){i=u.batchId,a.done()}).next(function(){return i})},t.prototype.getAllMutationBatches=function(e){var n=this,i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vi(e).Nt(pe.userMutationsIndex,i).next(function(o){return o.map(function(u){return ws(n.R,u)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=on.prefixForPath(this.userId,n.path),u=IDBKeyRange.lowerBound(o),a=[];return bs(e).$t({range:u},function(l,f,d){var g=l[0],v=l[1],y=l[2],b=Qr(v);if(g===i.userId&&n.path.isEqual(b))return vi(e).get(y).next(function(_){if(!_)throw yt();Nt(_.userId===i.userId),a.push(ws(i.R,_))});d.done()}).next(function(){return a})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new $e(zt),u=[];return n.forEach(function(a){var l=on.prefixForPath(i.userId,a.path),f=IDBKeyRange.lowerBound(l),d=bs(e).$t({range:f},function(g,v,y){var b=g[0],_=g[1],T=g[2],N=Qr(_);b===i.userId&&a.path.isEqual(N)?o=o.add(T):y.done()});u.push(d)}),J.waitFor(u).next(function(){return i.Wt(e,o)})},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=this,o=n.path,u=o.length+1,a=on.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(a),f=new $e(zt);return bs(e).$t({range:l},function(d,g,v){var y=d[0],b=d[1],_=d[2],T=Qr(b);y===i.userId&&o.isPrefixOf(T)?T.length===u&&(f=f.add(_)):v.done()}).next(function(){return i.Wt(e,f)})},t.prototype.Wt=function(e,n){var i=this,o=[],u=[];return n.forEach(function(a){u.push(vi(e).get(a).next(function(l){if(l===null)throw yt();Nt(l.userId===i.userId),o.push(ws(i.R,l))}))}),J.waitFor(u).next(function(){return o})},t.prototype.removeMutationBatch=function(e,n){var i=this;return wS(e.Mt,this.userId,n).next(function(o){return e.addOnCommittedListener(function(){i.Gt(n.batchId)}),J.forEach(o,function(u){return i.referenceDelegate.markPotentiallyOrphaned(e,u)})})},t.prototype.Gt=function(e){delete this.Kt[e]},t.prototype.performConsistencyCheck=function(e){var n=this;return this.checkEmpty(e).next(function(i){if(!i)return J.resolve();var o=IDBKeyRange.lowerBound(on.prefixForUser(n.userId)),u=[];return bs(e).$t({range:o},function(a,l,f){if(a[0]===n.userId){var d=Qr(a[1]);u.push(d)}else f.done()}).next(function(){Nt(u.length===0)})})},t.prototype.containsKey=function(e,n){return bS(e,this.userId,n)},t.prototype.zt=function(e){var n=this;return _S(e).get(this.userId).next(function(i){return i||new Ri(n.userId,-1,"")})},t}();function bS(t,e,n){var i=on.prefixForPath(e,n.path),o=i[1],u=IDBKeyRange.lowerBound(i),a=!1;return bs(t).$t({range:u,Ft:!0},function(l,f,d){var g=l[0],v=l[1];l[2],g===e&&v===o&&(a=!0),d.done()}).next(function(){return a})}function vi(t){return Mn(t,pe.store)}function bs(t){return Mn(t,on.store)}function _S(t){return Mn(t,Ri.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ff=function(){function t(e){this.Ht=e}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),TM=function(){function t(e,n){this.referenceDelegate=e,this.R=n}return t.prototype.allocateTargetId=function(e){var n=this;return this.Xt(e).next(function(i){var o=new ff(i.highestTargetId);return i.highestTargetId=o.next(),n.Zt(e,i).next(function(){return i.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(n){return $t.fromTimestamp(new Rn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(n){return n.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(e,n,i){var o=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=n,i&&(u.lastRemoteSnapshotVersion=i.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),o.Zt(e,u)})},t.prototype.addTargetData=function(e,n){var i=this;return this.te(e,n).next(function(){return i.Xt(e).next(function(o){return o.targetCount+=1,i.ee(n,o),i.Zt(e,o)})})},t.prototype.updateTargetData=function(e,n){return this.te(e,n)},t.prototype.removeTargetData=function(e,n){var i=this;return this.removeMatchingKeysForTargetId(e,n.targetId).next(function(){return vs(e).delete(n.targetId)}).next(function(){return i.Xt(e)}).next(function(o){return Nt(o.targetCount>0),o.targetCount-=1,i.Zt(e,o)})},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return vs(e).$t(function(l,f){var d=ia(f);d.sequenceNumber<=n&&i.get(d.targetId)===null&&(u++,a.push(o.removeTargetData(e,d)))}).next(function(){return J.waitFor(a)}).next(function(){return u})},t.prototype.forEachTarget=function(e,n){return vs(e).$t(function(i,o){var u=ia(o);n(u)})},t.prototype.Xt=function(e){return gE(e).get(Hn.key).next(function(n){return Nt(n!==null),n})},t.prototype.Zt=function(e,n){return gE(e).put(Hn.key,n)},t.prototype.te=function(e,n){return vs(e).put(mS(this.R,n))},t.prototype.ee=function(e,n){var i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i},t.prototype.getTargetCount=function(e){return this.Xt(e).next(function(n){return n.targetCount})},t.prototype.getTargetData=function(e,n){var i=ec(n),o=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]),u=null;return vs(e).$t({range:o,index:Cn.queryTargetsIndexName},function(a,l,f){var d=ia(l);eh(n,d.target)&&(u=d,f.done())}).next(function(){return u})},t.prototype.addMatchingKeys=function(e,n,i){var o=this,u=[],a=Si(e);return n.forEach(function(l){var f=wr(l.path);u.push(a.put(new Xe(i,f))),u.push(o.referenceDelegate.addReference(e,i,l))}),J.waitFor(u)},t.prototype.removeMatchingKeys=function(e,n,i){var o=this,u=Si(e);return J.forEach(n,function(a){var l=wr(a.path);return J.waitFor([u.delete([i,l]),o.referenceDelegate.removeReference(e,i,a)])})},t.prototype.removeMatchingKeysForTargetId=function(e,n){var i=Si(e),o=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(o)},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=IDBKeyRange.bound([n],[n+1],!1,!0),o=Si(e),u=fe();return o.$t({range:i,Ft:!0},function(a,l,f){var d=Qr(a[1]),g=new bt(d);u=u.add(g)}).next(function(){return u})},t.prototype.containsKey=function(e,n){var i=wr(n.path),o=IDBKeyRange.bound([i],[PT(i)],!1,!0),u=0;return Si(e).$t({index:Xe.documentTargetsIndex,Ft:!0,range:o},function(a,l,f){var d=a[0];a[1],d!==0&&(u++,f.done())}).next(function(){return u>0})},t.prototype.lt=function(e,n){return vs(e).get(n).next(function(i){return i?ia(i):null})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){return Mn(t,Cn.store)}function gE(t){return Mn(t,Hn.store)}function Si(t){return Mn(t,Xe.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){return z(this,void 0,void 0,function(){return K(this,function(e){if(t.code!==D.FAILED_PRECONDITION||t.message!==hS)throw t;return et("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t,e){var n=t[0],i=t[1],o=e[0],u=e[1],a=zt(n,o);return a===0?zt(i,u):a}var SM=function(){function t(e){this.ne=e,this.buffer=new $e(vE),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(e){var n=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var i=this.buffer.last();vE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),AM=function(){function t(e,n){this.garbageCollector=e,this.asyncQueue=n,this.oe=!1,this.ce=null}return t.prototype.start=function(e){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(e)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),t.prototype.ue=function(e){var n=this,i=this.oe?3e5:6e4;et("LruGarbageCollector","Garbage collection scheduled in "+i+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,function(){return z(n,void 0,void 0,function(){var o;return K(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return jo(o=u.sent())?(et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,Uo(o)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},t}(),NM=function(){function t(e,n){this.ae=e,this.params=n}return t.prototype.calculateTargetCount=function(e,n){return this.ae.he(e).next(function(i){return Math.floor(n/100*i)})},t.prototype.nthSequenceNumber=function(e,n){var i=this;if(n===0)return J.resolve(Gn.o);var o=new SM(n);return this.ae.forEachTarget(e,function(u){return o.re(u.sequenceNumber)}).next(function(){return i.ae.le(e,function(u){return o.re(u)})}).next(function(){return o.maxValue})},t.prototype.removeTargets=function(e,n,i){return this.ae.removeTargets(e,n,i)},t.prototype.removeOrphanedDocuments=function(e,n){return this.ae.removeOrphanedDocuments(e,n)},t.prototype.collect=function(e,n){var i=this;return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(pE)):this.getCacheSize(e).next(function(o){return o<i.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+i.params.cacheSizeCollectionThreshold),pE):i.fe(e,n)})},t.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},t.prototype.fe=function(e,n){var i,o,u,a,l,f,d,g=this,v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(y){return y>g.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+g.params.maximumSequenceNumbersToCollect+" from "+y),o=g.params.maximumSequenceNumbersToCollect):o=y,a=Date.now(),g.nthSequenceNumber(e,o)}).next(function(y){return i=y,l=Date.now(),g.removeTargets(e,i,n)}).next(function(y){return u=y,f=Date.now(),g.removeOrphanedDocuments(e,i)}).next(function(y){return d=Date.now(),Yg()<=te.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(a-v)+`ms
	Determined least recently used `+o+" in "+(l-a)+`ms
	Removed `+u+" targets in "+(f-l)+`ms
	Removed `+y+" documents in "+(d-f)+`ms
Total Duration: `+(d-v)+"ms"),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:y})})},t}(),kM=function(){function t(e,n){this.db=e,this.garbageCollector=function(i,o){return new NM(i,o)}(this,n)}return t.prototype.he=function(e){var n=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(i){return n.next(function(o){return i+o})})},t.prototype.de=function(e){var n=0;return this.le(e,function(i){n++}).next(function(){return n})},t.prototype.forEachTarget=function(e,n){return this.db.getTargetCache().forEachTarget(e,n)},t.prototype.le=function(e,n){return this.we(e,function(i,o){return n(o)})},t.prototype.addReference=function(e,n,i){return Sl(e,i)},t.prototype.removeReference=function(e,n,i){return Sl(e,i)},t.prototype.removeTargets=function(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)},t.prototype.markPotentiallyOrphaned=function(e,n){return Sl(e,n)},t.prototype._e=function(e,n){return function(i,o){var u=!1;return _S(i).Ot(function(a){return bS(i,a,o).next(function(l){return l&&(u=!0),J.resolve(!l)})}).next(function(){return u})}(e,n)},t.prototype.removeOrphanedDocuments=function(e,n){var i=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],a=0;return this.we(e,function(l,f){if(f<=n){var d=i._e(e,l).next(function(g){if(!g)return a++,o.getEntry(e,l).next(function(){return o.removeEntry(l),Si(e).delete([0,wr(l.path)])})});u.push(d)}}).next(function(){return J.waitFor(u)}).next(function(){return o.apply(e)}).next(function(){return a})},t.prototype.removeTarget=function(e,n){var i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)},t.prototype.updateLimboDocument=function(e,n){return Sl(e,n)},t.prototype.we=function(e,n){var i,o=Si(e),u=Gn.o;return o.$t({index:Xe.documentTargetsIndex},function(a,l){var f=a[0];a[1];var d=l.path,g=l.sequenceNumber;f===0?(u!==Gn.o&&n(new bt(Qr(i)),u),u=g,i=d):u=Gn.o}).next(function(){u!==Gn.o&&n(new bt(Qr(i)),u)})},t.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},t}();function Sl(t,e){return Si(t).put(function(n,i){return new Xe(0,wr(n.path),i)}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var su=function(){function t(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={}}return t.prototype.get=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0)for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];if(this.equalsFn(l,e))return f}},t.prototype.has=function(e){return this.get(e)!==void 0},t.prototype.set=function(e,n){var i=this.mapKeyFn(e),o=this.inner[i];if(o!==void 0){for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n])}else this.inner[i]=[[e,n]]},t.prototype.delete=function(e){var n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(var o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),!0;return!1},t.prototype.forEach=function(e){Fo(this.inner,function(n,i){for(var o=0,u=i;o<u.length;o++){var a=u[o],l=a[0],f=a[1];e(l,f)}})},t.prototype.isEmpty=function(){return LT(this.inner)},t}(),ES=function(){function t(){this.changes=new su(function(e){return e.toString()},function(e,n){return e.isEqual(n)}),this.changesApplied=!1}return t.prototype.getReadTime=function(e){var n=this.changes.get(e);return n?n.readTime:$t.min()},t.prototype.addEntry=function(e,n){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:n})},t.prototype.removeEntry=function(e,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(e,{document:fn.newInvalidDocument(e),readTime:n})},t.prototype.getEntry=function(e,n){this.assertNotApplied();var i=this.changes.get(n);return i!==void 0?J.resolve(i.document):this.getFromCache(e,n)},t.prototype.getEntries=function(e,n){return this.getAllFromCache(e,n)},t.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},t.prototype.assertNotApplied=function(){},t}(),xM=function(){function t(e,n){this.R=e,this.Ut=n}return t.prototype.addEntry=function(e,n,i){return _i(e).put(Al(n),i)},t.prototype.removeEntry=function(e,n){var i=_i(e),o=Al(n);return i.delete(o)},t.prototype.updateMetadata=function(e,n){var i=this;return this.getMetadata(e).next(function(o){return o.byteSize+=n,i.me(e,o)})},t.prototype.getEntry=function(e,n){var i=this;return _i(e).get(Al(n)).next(function(o){return i.ye(n,o)})},t.prototype.ge=function(e,n){var i=this;return _i(e).get(Al(n)).next(function(o){return{document:i.ye(n,o),size:lf(o)}})},t.prototype.getEntries=function(e,n){var i=this,o=yr();return this.pe(e,n,function(u,a){var l=i.ye(u,a);o=o.insert(u,l)}).next(function(){return o})},t.prototype.Ee=function(e,n){var i=this,o=yr(),u=new hn(bt.comparator);return this.pe(e,n,function(a,l){var f=i.ye(a,l);o=o.insert(a,f),u=u.insert(a,lf(l))}).next(function(){return{documents:o,Te:u}})},t.prototype.pe=function(e,n,i){if(n.isEmpty())return J.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),u=n.getIterator(),a=u.getNext();return _i(e).$t({range:o},function(l,f,d){for(var g=bt.fromSegments(l);a&&bt.comparator(a,g)<0;)i(a,null),a=u.getNext();a&&a.isEqual(g)&&(i(a,f),a=u.hasNext()?u.getNext():null),a?d.Ct(a.path.toArray()):d.done()}).next(function(){for(;a;)i(a,null),a=u.hasNext()?u.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){var o=this,u=yr(),a=n.path.length+1,l={};if(i.isEqual($t.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),g=Dm(i);l.range=IDBKeyRange.lowerBound([d,g],!0),l.index=Se.collectionReadTimeIndex}return _i(e).$t(l,function(v,y,b){if(v.length===a){var _=rv(o.R,y);n.path.isPrefixOf(_.key.path)?ic(n,_)&&(u=u.insert(_.key,_)):b.done()}}).next(function(){return u})},t.prototype.newChangeBuffer=function(e){return new CM(this,!!e&&e.trackRemovals)},t.prototype.getSize=function(e){return this.getMetadata(e).next(function(n){return n.byteSize})},t.prototype.getMetadata=function(e){return mE(e).get(Pr.key).next(function(n){return Nt(!!n),n})},t.prototype.me=function(e,n){return mE(e).put(Pr.key,n)},t.prototype.ye=function(e,n){if(n){var i=rv(this.R,n);if(!i.isNoDocument()||!i.version.isEqual($t.min()))return i}return fn.newInvalidDocument(e)},t}(),CM=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).Ie=n,o.trackRemovals=i,o.Ae=new su(function(u){return u.toString()},function(u,a){return u.isEqual(a)}),o}return Tt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[],u=0,a=new $e(function(l,f){return zt(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=i.Ae.get(l);if(f.document.isValidDocument()){var g=lE(i.Ie.R,f.document,i.getReadTime(l));a=a.add(l.path.popLast());var v=lf(g);u+=v-d,o.push(i.Ie.addEntry(n,l,g))}else if(u-=d,i.trackRemovals){var y=lE(i.Ie.R,fn.newNoDocument(l,$t.min()),i.getReadTime(l));o.push(i.Ie.addEntry(n,l,y))}else o.push(i.Ie.removeEntry(n,l))}),a.forEach(function(l){o.push(i.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,u)),J.waitFor(o)},e.prototype.getFromCache=function(n,i){var o=this;return this.Ie.ge(n,i).next(function(u){return o.Ae.set(i,u.size),u.document})},e.prototype.getAllFromCache=function(n,i){var o=this;return this.Ie.Ee(n,i).next(function(u){var a=u.documents;return u.Te.forEach(function(l,f){o.Ae.set(l,f)}),a})},e}(ES);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){return Mn(t,Pr.store)}function _i(t){return Mn(t,Se.store)}function Al(t){return t.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OM=function(){function t(e){this.R=e}return t.prototype.Rt=function(e,n,i,o){var u=this;Nt(i<o&&i>=0&&o<=11);var a=new pS("createOrUpgrade",n);i<1&&o>=1&&(function(f){f.createObjectStore($n.store)}(e),function(f){f.createObjectStore(Ri.store,{keyPath:Ri.keyPath}),f.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0}),f.createObjectStore(on.store)}(e),yE(e),function(f){f.createObjectStore(Se.store)}(e));var l=J.resolve();return i<3&&o>=3&&(i!==0&&(function(f){f.deleteObjectStore(Xe.store),f.deleteObjectStore(Cn.store),f.deleteObjectStore(Hn.store)}(e),yE(e)),l=l.next(function(){return function(f){var d=f.store(Hn.store),g=new Hn(0,0,$t.min().toTimestamp(),0);return d.put(Hn.key,g)}(a)})),i<4&&o>=4&&(i!==0&&(l=l.next(function(){return function(f,d){return d.store(pe.store).Nt().next(function(g){f.deleteObjectStore(pe.store),f.createObjectStore(pe.store,{keyPath:pe.keyPath,autoIncrement:!0}).createIndex(pe.userMutationsIndex,pe.userMutationsKeyPath,{unique:!0});var v=d.store(pe.store),y=g.map(function(b){return v.put(b)});return J.waitFor(y)})}(e,a)})),l=l.next(function(){(function(f){f.createObjectStore(Jr.store,{keyPath:Jr.keyPath})})(e)})),i<5&&o>=5&&(l=l.next(function(){return u.Re(a)})),i<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Pr.store)}(e),u.be(a)})),i<7&&o>=7&&(l=l.next(function(){return u.ve(a)})),i<8&&o>=8&&(l=l.next(function(){return u.Pe(e,a)})),i<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){var d=f.objectStore(Se.store);d.createIndex(Se.readTimeIndex,Se.readTimeIndexPath,{unique:!1}),d.createIndex(Se.collectionReadTimeIndex,Se.collectionReadTimeIndexPath,{unique:!1})}(n)})),i<10&&o>=10&&(l=l.next(function(){return u.Ve(a)})),i<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore($s.store,{keyPath:$s.keyPath})})(e),function(f){f.createObjectStore(Ks.store,{keyPath:Ks.keyPath})}(e)})),l},t.prototype.be=function(e){var n=0;return e.store(Se.store).$t(function(i,o){n+=lf(o)}).next(function(){var i=new Pr(n);return e.store(Pr.store).put(Pr.key,i)})},t.prototype.Re=function(e){var n=this,i=e.store(Ri.store),o=e.store(pe.store);return i.Nt().next(function(u){return J.forEach(u,function(a){var l=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return o.Nt(pe.userMutationsIndex,l).next(function(f){return J.forEach(f,function(d){Nt(d.userId===a.userId);var g=ws(n.R,d);return wS(e,a.userId,g).next(function(){})})})})})},t.prototype.ve=function(e){var n=e.store(Xe.store),i=e.store(Se.store);return e.store(Hn.store).get(Hn.key).next(function(o){var u=[];return i.$t(function(a,l){var f=new ee(a),d=function(g){return[0,wr(g)]}(f);u.push(n.get(d).next(function(g){return g?J.resolve():function(v){return n.put(new Xe(0,wr(v),o.highestListenSequenceNumber))}(f)}))}).next(function(){return J.waitFor(u)})})},t.prototype.Pe=function(e,n){e.createObjectStore(To.store,{keyPath:To.keyPath});var i=n.store(To.store),o=new Pm,u=function(a){if(o.add(a)){var l=a.lastSegment(),f=a.popLast();return i.put({collectionId:l,parent:wr(f)})}};return n.store(Se.store).$t({Ft:!0},function(a,l){var f=new ee(a);return u(f.popLast())}).next(function(){return n.store(on.store).$t({Ft:!0},function(a,l){a[0];var f=a[1];a[2];var d=Qr(f);return u(d.popLast())})})},t.prototype.Ve=function(e){var n=this,i=e.store(Cn.store);return i.$t(function(o,u){var a=ia(u),l=mS(n.R,a);return i.put(l)})},t}();function yE(t){t.createObjectStore(Xe.store,{keyPath:Xe.keyPath}).createIndex(Xe.documentTargetsIndex,Xe.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Cn.store,{keyPath:Cn.keyPath}).createIndex(Cn.queryTargetsIndexName,Cn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Hn.store)}var hg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",RM=function(){function t(e,n,i,o,u,a,l,f,d,g){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.Se=u,this.window=a,this.document=l,this.De=d,this.Ce=g,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(v){return Promise.resolve()},!t.yt())throw new W(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kM(this,o),this.Le=n+"main",this.R=new gS(f),this.Be=new Hs(this.Le,11,new OM(this.R)),this.qe=new TM(this.referenceDelegate,this.R),this.Ut=new EM,this.Ue=function(v,y){return new xM(v,y)}(this.R,this.Ut),this.Ke=new bM,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,g===!1&&Pe("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new W(D.FAILED_PRECONDITION,hg);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return e.qe.getHighestSequenceNumber(n)})}).then(function(n){e.Ne=new Gn(n,e.De)}).then(function(){e.xe=!0}).catch(function(n){return e.Be&&e.Be.close(),Promise.reject(n)})},t.prototype.He=function(e){var n=this;return this.Me=function(i){return z(n,void 0,void 0,function(){return K(this,function(o){return this.started?[2,e(i)]:[2]})})},e(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(e){var n=this;this.Be.vt(function(i){return z(n,void 0,void 0,function(){return K(this,function(o){switch(o.label){case 0:return i.newVersion===null?[4,e()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return z(n,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return Nl(n).put(new Jr(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(n).next(function(i){i||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(n)}).next(function(i){return e.isPrimary&&!i?e.Xe(n).next(function(){return!1}):!!i&&e.Ze(n).next(function(){return!0})})}).catch(function(n){if(jo(n))return et("IndexedDbPersistence","Failed to extend owner lease: ",n),e.isPrimary;if(!e.allowTabSynchronization)throw n;return et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){e.isPrimary!==n&&e.Se.enqueueRetryable(function(){return e.Me(n)}),e.isPrimary=n})},t.prototype.Je=function(e){var n=this;return Xu(e).get($n.key).next(function(i){return J.resolve(n.tn(i))})},t.prototype.en=function(e){return Nl(e).delete(this.clientId)},t.prototype.nn=function(){return z(this,void 0,void 0,function(){var e,n,i,o,u=this;return K(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Mn(l,Jr.store);return f.Nt().next(function(d){var g=u.rn(d,18e5),v=d.filter(function(y){return g.indexOf(y)===-1});return J.forEach(v,function(y){return f.delete(y.clientId)}).next(function(){return v})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(n=0,i=e;n<i.length;n++)o=i[n],this.Qe.removeItem(this.on(o.clientId));a.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},t.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},t.prototype.Ye=function(e){var n=this;return this.Ce?J.resolve(!0):Xu(e).get($n.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)){if(n.tn(i)&&n.networkEnabled)return!0;if(!n.tn(i)){if(!i.allowTabSynchronization)throw new W(D.FAILED_PRECONDITION,hg);return!1}}return!(!n.networkEnabled||!n.inForeground)||Nl(e).Nt().next(function(o){return n.rn(o,5e3).find(function(u){if(n.clientId!==u.clientId){var a=!n.networkEnabled&&u.networkEnabled,l=!n.inForeground&&u.inForeground,f=n.networkEnabled===u.networkEnabled;if(a||l&&f)return!0}return!1})===void 0})}).next(function(i){return n.isPrimary!==i&&et("IndexedDbPersistence","Client "+(i?"is":"is not")+" eligible for a primary lease."),i})},t.prototype.shutdown=function(){return z(this,void 0,void 0,function(){var e=this;return K(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[$n.store,Jr.store],function(i){var o=new cE(i,Gn.o);return e.Xe(o).next(function(){return e.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(e,n){var i=this;return e.filter(function(o){return i.sn(o.updateTimeMs,n)&&!i.cn(o.clientId)})},t.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(n){return Nl(n).Nt().next(function(i){return e.rn(i,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(e){return IM.Qt(e,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;et("IndexedDbPersistence","Starting transaction:",e);var u,a=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(e,a,vM,function(l){return u=new cE(l,o.Ne?o.Ne.next():Gn.o),n==="readwrite-primary"?o.Je(u).next(function(f){return!!f||o.Ye(u)}).next(function(f){if(!f)throw Pe("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new W(D.FAILED_PRECONDITION,hS);return i(u)}).next(function(f){return o.Ze(u).next(function(){return f})}):o.dn(u).next(function(){return i(u)})}).then(function(l){return u.raiseOnCommittedEvent(),l})},t.prototype.dn=function(e){var n=this;return Xu(e).get($n.key).next(function(i){if(i!==null&&n.sn(i.leaseTimestampMs,5e3)&&!n.cn(i.ownerId)&&!n.tn(i)&&!(n.Ce||n.allowTabSynchronization&&i.allowTabSynchronization))throw new W(D.FAILED_PRECONDITION,hg)})},t.prototype.Ze=function(e){var n=new $n(this.clientId,this.allowTabSynchronization,Date.now());return Xu(e).put($n.key,n)},t.yt=function(){return Hs.yt()},t.prototype.Xe=function(e){var n=this,i=Xu(e);return i.get($n.key).next(function(o){return n.tn(o)?(et("IndexedDbPersistence","Releasing primary lease."),i.delete($n.key)):J.resolve()})},t.prototype.sn=function(e,n){var i=Date.now();return!(e<i-n||e>i&&(Pe("Detected an update time that is in the future: "+e+" > "+i),1))},t.prototype.We=function(){var e=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground=e.document.visibilityState==="visible",e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var e,n=this;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ke=function(){n.un(),VD()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(e){var n;try{var i=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(e)))!==null;return et("IndexedDbPersistence","Client '"+e+"' "+(i?"is":"is not")+" zombied in LocalStorage"),i}catch(o){return Pe("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Pe("Failed to set zombie client id.",e)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},t.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},t}();function Xu(t){return Mn(t,$n.store)}function Nl(t){return Mn(t,Jr.store)}function Lm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var IS=function(){function t(e,n,i){this.Ue=e,this._n=n,this.Ut=i}return t.prototype.mn=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,n).next(function(o){return i.yn(e,n,o)})},t.prototype.yn=function(e,n,i){return this.Ue.getEntry(e,n).next(function(o){for(var u=0,a=i;u<a.length;u++)a[u].applyToLocalView(o);return o})},t.prototype.gn=function(e,n){e.forEach(function(i,o){for(var u=0,a=n;u<a.length;u++)a[u].applyToLocalView(o)})},t.prototype.pn=function(e,n){var i=this;return this.Ue.getEntries(e,n).next(function(o){return i.En(e,o).next(function(){return o})})},t.prototype.En=function(e,n){var i=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,n).next(function(o){return i.gn(n,o)})},t.prototype.getDocumentsMatchingQuery=function(e,n,i){return function(o){return bt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(e,n.path):Am(n)?this.In(e,n,i):this.An(e,n,i)},t.prototype.Tn=function(e,n){return this.mn(e,new bt(n)).next(function(i){var o=ev();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})},t.prototype.In=function(e,n,i){var o=this,u=n.collectionGroup,a=ev();return this.Ut.getCollectionParents(e,u).next(function(l){return J.forEach(l,function(f){var d=function(g,v){return new ii(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,f.child(u));return o.An(e,d,i).next(function(g){g.forEach(function(v,y){a=a.insert(v,y)})})}).next(function(){return a})})},t.prototype.An=function(e,n,i){var o,u,a=this;return this.Ue.getDocumentsMatchingQuery(e,n,i).next(function(l){return o=l,a._n.getAllMutationBatchesAffectingQuery(e,n)}).next(function(l){return u=l,a.Rn(e,u,o).next(function(f){o=f;for(var d=0,g=u;d<g.length;d++)for(var v=g[d],y=0,b=v.mutations;y<b.length;y++){var _=b[y],T=_.key,N=o.get(T);N==null&&(N=fn.newInvalidDocument(T),o=o.insert(T,N)),tv(_,N,v.localWriteTime),N.isFoundDocument()||(o=o.remove(T))}})}).next(function(){return o.forEach(function(l,f){ic(n,f)||(o=o.remove(l))}),o})},t.prototype.Rn=function(e,n,i){for(var o=fe(),u=0,a=n;u<a.length;u++)for(var l=0,f=a[u].mutations;l<f.length;l++){var d=f[l];d instanceof Ui&&i.get(d.key)===null&&(o=o.add(d.key))}var g=i;return this.Ue.getEntries(e,o).next(function(v){return v.forEach(function(y,b){b.isFoundDocument()&&(g=g.insert(y,b))}),g})},t}(),DM=function(){function t(e,n,i,o){this.targetId=e,this.fromCache=n,this.bn=i,this.vn=o}return t.Pn=function(e,n){for(var i=fe(),o=fe(),u=0,a=n.docChanges;u<a.length;u++){var l=a[u];switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new t(e,n.fromCache,i,o)},t}(),TS=function(){function t(){}return t.prototype.Vn=function(e){this.Sn=e},t.prototype.getDocumentsMatchingQuery=function(e,n,i,o){var u=this;return function(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}(n)||i.isEqual($t.min())?this.Dn(e,n):this.Sn.pn(e,o).next(function(a){var l=u.Cn(n,a);return(Ll(n)||af(n))&&u.Nn(n.limitType,l,o,i)?u.Dn(e,n):(Yg()<=te.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zg(n)),u.Sn.getDocumentsMatchingQuery(e,n,i).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},t.prototype.Cn=function(e,n){var i=new $e(KT(e));return n.forEach(function(o,u){ic(e,u)&&(i=i.add(u))}),i},t.prototype.Nn=function(e,n,i,o){if(i.size!==n.size)return!0;var u=e==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)},t.prototype.Dn=function(e,n){return Yg()<=te.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Zg(n)),this.Sn.getDocumentsMatchingQuery(e,n,$t.min())},t}(),PM=function(){function t(e,n,i,o){this.persistence=e,this.xn=n,this.R=o,this.kn=new hn(zt),this.Fn=new su(function(u){return ec(u)},eh),this.$n=$t.min(),this._n=e.getMutationQueue(i),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new IS(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(e){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(i){return e.collect(i,n.kn)})},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(t,e,n,i){return new PM(t,e,n,i)}function AS(t,e){return z(this,void 0,void 0,function(){var n,i,o,u;return K(this,function(a){switch(a.label){case 0:return n=ot(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,i=n.persistence.getMutationQueue(e),o=new IS(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(l)}).next(function(d){for(var g=[],v=[],y=fe(),b=0,_=f;b<_.length;b++){var T=_[b];g.push(T.batchId);for(var N=0,O=T.mutations;N<O.length;N++){var P=O[N];y=y.add(P.key)}}for(var j=0,q=d;j<q.length;j++){var rt=q[j];v.push(rt.batchId);for(var V=0,It=rt.mutations;V<It.length;V++){var Q=It[V];y=y.add(Q.key)}}return o.pn(l,y).next(function(ht){return{Ln:ht,removedBatchIds:g,addedBatchIds:v}})})})];case 1:return u=a.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),u)]}})})}function LM(t,e){var n=ot(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(i){var o=e.batch.keys(),u=n.On.newChangeBuffer({trackRemovals:!0});return function(a,l,f,d){var g=f.batch,v=g.keys(),y=J.resolve();return v.forEach(function(b){y=y.next(function(){return d.getEntry(l,b)}).next(function(_){var T=f.docVersions.get(b);Nt(T!==null),_.version.compareTo(T)<0&&(g.applyToRemoteDocument(_,f),_.isValidDocument()&&d.addEntry(_,f.commitVersion))})}),y.next(function(){return a._n.removeMutationBatch(l,g)})}(n,i,e,u).next(function(){return u.apply(i)}).next(function(){return n._n.performConsistencyCheck(i)}).next(function(){return n.Mn.pn(i,o)})})}function NS(t){var e=ot(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return e.qe.getLastRemoteSnapshotVersion(n)})}function MM(t,e){var n=ot(t),i=e.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var a=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];e.targetChanges.forEach(function(g,v){var y=o.get(v);if(y){l.push(n.qe.removeMatchingKeys(u,g.removedDocuments,v).next(function(){return n.qe.addMatchingKeys(u,g.addedDocuments,v)}));var b=g.resumeToken;if(b.approximateByteSize()>0){var _=y.withResumeToken(b,i).withSequenceNumber(u.currentSequenceNumber);o=o.insert(v,_),function(T,N,O){return Nt(N.resumeToken.approximateByteSize()>0),T.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8||O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,_,g)&&l.push(n.qe.updateTargetData(u,_))}}});var f=yr();if(e.documentUpdates.forEach(function(g,v){e.resolvedLimboDocuments.has(g)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(u,g))}),l.push(FM(u,a,e.documentUpdates,i,void 0).next(function(g){f=g})),!i.isEqual($t.min())){var d=n.qe.getLastRemoteSnapshotVersion(u).next(function(g){return n.qe.setTargetsMetadata(u,u.currentSequenceNumber,i)});l.push(d)}return J.waitFor(l).next(function(){return a.apply(u)}).next(function(){return n.Mn.En(u,f)}).next(function(){return f})}).then(function(u){return n.kn=o,u})}function FM(t,e,n,i,o){var u=fe();return n.forEach(function(a){return u=u.add(a)}),e.getEntries(t,u).next(function(a){var l=yr();return n.forEach(function(f,d){var g=a.get(f),v=(o==null?void 0:o.get(f))||i;d.isNoDocument()&&d.version.isEqual($t.min())?(e.removeEntry(f,v),l=l.insert(f,d)):!g.isValidDocument()||d.version.compareTo(g.version)>0||d.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(d,v),l=l.insert(f,d)):et("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",d.version)}),l})}function VM(t,e){var n=ot(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(i){return e===void 0&&(e=-1),n._n.getNextMutationBatchAfterBatchId(i,e)})}function hf(t,e){var n=ot(t);return n.persistence.runTransaction("Allocate target","readwrite",function(i){var o;return n.qe.getTargetData(i,e).next(function(u){return u?(o=u,J.resolve(o)):n.qe.allocateTargetId(i).next(function(a){return o=new oh(e,a,0,i.currentSequenceNumber),n.qe.addTargetData(i,o).next(function(){return o})})})}).then(function(i){var o=n.kn.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(i.targetId,i),n.Fn.set(e,i.targetId)),i})}function Ws(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:i=ot(t),o=i.kn.get(e),u=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",u,function(f){return i.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!jo(a=l.sent()))throw a;return et("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}})})}function df(t,e,n){var i=ot(t),o=$t.min(),u=fe();return i.persistence.runTransaction("Execute query","readonly",function(a){return function(l,f,d){var g=ot(l),v=g.Fn.get(d);return v!==void 0?J.resolve(g.kn.get(v)):g.qe.getTargetData(f,d)}(i,a,Vr(e)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,i.qe.getMatchingKeysForTargetId(a,l.targetId).next(function(f){u=f})}).next(function(){return i.xn.getDocumentsMatchingQuery(a,e,n?o:$t.min(),n?u:fe())}).next(function(l){return{documents:l,Bn:u}})})}function kS(t,e){var n=ot(t),i=ot(n.qe),o=n.kn.get(e);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(u){return i.lt(u,e).next(function(a){return a?a.target:null})})}function xS(t){var e=ot(t);return e.persistence.runTransaction("Get new document changes","readonly",function(n){return function(i,o,u){var a=ot(i),l=yr(),f=Dm(u),d=_i(o),g=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Se.readTimeIndex,range:g},function(v,y){var b=rv(a.R,y);l=l.insert(b.key,b),f=y.readTime}).next(function(){return{wn:l,readTime:vS(f)}})}(e.On,n,e.$n)}).then(function(n){var i=n.wn,o=n.readTime;return e.$n=o,i})}function jM(t){return z(this,void 0,void 0,function(){var e;return K(this,function(n){return[2,(e=ot(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(i){return function(o){var u=_i(o),a=$t.min();return u.$t({index:Se.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(a=vS(f.readTime)),d.done()}).next(function(){return a})}(i)}).then(function(i){e.$n=i})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var UM=function(){function t(e){this.R=e,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(e,n){return J.resolve(this.Qn.get(n))},t.prototype.saveBundleMetadata=function(e,n){var i;return this.Qn.set(n.id,{id:(i=n).id,version:i.version,createTime:_n(i.createTime)}),J.resolve()},t.prototype.getNamedQuery=function(e,n){return J.resolve(this.jn.get(n))},t.prototype.saveNamedQuery=function(e,n){return this.jn.set(n.name,function(i){return{name:i.name,query:yS(i.bundledQuery),readTime:_n(i.readTime)}}(n)),J.resolve()},t}(),Mm=function(){function t(){this.Wn=new $e(He.Gn),this.zn=new $e(He.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(e,n){var i=new He(e,n);this.Wn=this.Wn.add(i),this.zn=this.zn.add(i)},t.prototype.Jn=function(e,n){var i=this;e.forEach(function(o){return i.addReference(o,n)})},t.prototype.removeReference=function(e,n){this.Yn(new He(e,n))},t.prototype.Xn=function(e,n){var i=this;e.forEach(function(o){return i.removeReference(o,n)})},t.prototype.Zn=function(e){var n=this,i=new bt(new ee([])),o=new He(i,e),u=new He(i,e+1),a=[];return this.zn.forEachInRange([o,u],function(l){n.Yn(l),a.push(l.key)}),a},t.prototype.ts=function(){var e=this;this.Wn.forEach(function(n){return e.Yn(n)})},t.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},t.prototype.es=function(e){var n=new bt(new ee([])),i=new He(n,e),o=new He(n,e+1),u=fe();return this.zn.forEachInRange([i,o],function(a){u=u.add(a.key)}),u},t.prototype.containsKey=function(e){var n=new He(e,0),i=this.Wn.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)},t}(),He=function(){function t(e,n){this.key=e,this.ns=n}return t.Gn=function(e,n){return bt.comparator(e.key,n.key)||zt(e.ns,n.ns)},t.Hn=function(e,n){return zt(e.ns,n.ns)||bt.comparator(e.key,n.key)},t}(),BM=function(){function t(e,n){this.Ut=e,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new $e(He.Gn)}return t.prototype.checkEmpty=function(e){return J.resolve(this._n.length===0)},t.prototype.addMutationBatch=function(e,n,i,o){var u=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new Rm(u,n,i,o);this._n.push(a);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new He(d.key,u)),this.Ut.addToCollectionParentIndex(e,d.key.path.popLast())}return J.resolve(a)},t.prototype.lookupMutationBatch=function(e,n){return J.resolve(this.os(n))},t.prototype.getNextMutationBatchAfterBatchId=function(e,n){var i=n+1,o=this.cs(i),u=o<0?0:o;return J.resolve(this._n.length>u?this._n[u]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return J.resolve(this._n.length===0?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(e){return J.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,n){var i=this,o=new He(n,0),u=new He(n,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([o,u],function(l){var f=i.os(l.ns);a.push(f)}),J.resolve(a)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,n){var i=this,o=new $e(zt);return n.forEach(function(u){var a=new He(u,0),l=new He(u,Number.POSITIVE_INFINITY);i.rs.forEachInRange([a,l],function(f){o=o.add(f.ns)})}),J.resolve(this.us(o))},t.prototype.getAllMutationBatchesAffectingQuery=function(e,n){var i=n.path,o=i.length+1,u=i;bt.isDocumentKey(u)||(u=u.child(""));var a=new He(new bt(u),0),l=new $e(zt);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},a),J.resolve(this.us(l))},t.prototype.us=function(e){var n=this,i=[];return e.forEach(function(o){var u=n.os(o);u!==null&&i.push(u)}),i},t.prototype.removeMutationBatch=function(e,n){var i=this;Nt(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return J.forEach(n.mutations,function(u){var a=new He(u.key,n.batchId);return o=o.delete(a),i.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){i.rs=o})},t.prototype.Gt=function(e){},t.prototype.containsKey=function(e,n){var i=new He(n,0),o=this.rs.firstAfterOrEqual(i);return J.resolve(n.isEqual(o&&o.key))},t.prototype.performConsistencyCheck=function(e){return this._n.length,J.resolve()},t.prototype.hs=function(e,n){return this.cs(e)},t.prototype.cs=function(e){return this._n.length===0?0:e-this._n[0].batchId},t.prototype.os=function(e){var n=this.cs(e);return n<0||n>=this._n.length?null:this._n[n]},t}(),qM=function(){function t(e,n){this.Ut=e,this.ls=n,this.docs=new hn(bt.comparator),this.size=0}return t.prototype.addEntry=function(e,n,i){var o=n.key,u=this.docs.get(o),a=u?u.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:i}),this.size+=l-a,this.Ut.addToCollectionParentIndex(e,o.path.popLast())},t.prototype.removeEntry=function(e){var n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)},t.prototype.getEntry=function(e,n){var i=this.docs.get(n);return J.resolve(i?i.document.clone():fn.newInvalidDocument(n))},t.prototype.getEntries=function(e,n){var i=this,o=yr();return n.forEach(function(u){var a=i.docs.get(u);o=o.insert(u,a?a.document.clone():fn.newInvalidDocument(u))}),J.resolve(o)},t.prototype.getDocumentsMatchingQuery=function(e,n,i){for(var o=yr(),u=new bt(n.path.child("")),a=this.docs.getIteratorFrom(u);a.hasNext();){var l=a.getNext(),f=l.key,d=l.value,g=d.document,v=d.readTime;if(!n.path.isPrefixOf(f.path))break;v.compareTo(i)<=0||ic(n,g)&&(o=o.insert(g.key,g.clone()))}return J.resolve(o)},t.prototype.fs=function(e,n){return J.forEach(this.docs,function(i){return n(i)})},t.prototype.newChangeBuffer=function(e){return new $M(this)},t.prototype.getSize=function(e){return J.resolve(this.size)},t}(),$M=function(t){function e(n){var i=this;return(i=t.call(this)||this).Ie=n,i}return Tt(e,t),e.prototype.applyChanges=function(n){var i=this,o=[];return this.changes.forEach(function(u,a){a.document.isValidDocument()?o.push(i.Ie.addEntry(n,a.document,i.getReadTime(u))):i.Ie.removeEntry(u)}),J.waitFor(o)},e.prototype.getFromCache=function(n,i){return this.Ie.getEntry(n,i)},e.prototype.getAllFromCache=function(n,i){return this.Ie.getEntries(n,i)},e}(ES),KM=function(){function t(e){this.persistence=e,this.ds=new su(function(n){return ec(n)},eh),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.ws=0,this._s=new Mm,this.targetCount=0,this.ys=ff.Jt()}return t.prototype.forEachTarget=function(e,n){return this.ds.forEach(function(i,o){return n(o)}),J.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(e){return J.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(e){return J.resolve(this.ws)},t.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),J.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.ws&&(this.ws=n),J.resolve()},t.prototype.te=function(e){this.ds.set(e.target,e);var n=e.targetId;n>this.highestTargetId&&(this.ys=new ff(n),this.highestTargetId=n),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},t.prototype.addTargetData=function(e,n){return this.te(n),this.targetCount+=1,J.resolve()},t.prototype.updateTargetData=function(e,n){return this.te(n),J.resolve()},t.prototype.removeTargetData=function(e,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,J.resolve()},t.prototype.removeTargets=function(e,n,i){var o=this,u=0,a=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&i.get(f.targetId)===null&&(o.ds.delete(l),a.push(o.removeMatchingKeysForTargetId(e,f.targetId)),u++)}),J.waitFor(a).next(function(){return u})},t.prototype.getTargetCount=function(e){return J.resolve(this.targetCount)},t.prototype.getTargetData=function(e,n){var i=this.ds.get(n)||null;return J.resolve(i)},t.prototype.addMatchingKeys=function(e,n,i){return this._s.Jn(n,i),J.resolve()},t.prototype.removeMatchingKeys=function(e,n,i){this._s.Xn(n,i);var o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(function(a){u.push(o.markPotentiallyOrphaned(e,a))}),J.waitFor(u)},t.prototype.removeMatchingKeysForTargetId=function(e,n){return this._s.Zn(n),J.resolve()},t.prototype.getMatchingKeysForTargetId=function(e,n){var i=this._s.es(n);return J.resolve(i)},t.prototype.containsKey=function(e,n){return J.resolve(this._s.containsKey(n))},t}(),HM=function(){function t(e,n){var i=this;this.gs={},this.Ne=new Gn(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new KM(this),this.Ut=new _M,this.Ue=function(o,u){return new qM(o,function(a){return i.referenceDelegate.ps(a)})}(this.Ut),this.R=new gS(n),this.Ke=new UM(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(e){var n=this.gs[e.toKey()];return n||(n=new BM(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=n),n},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(e,n,i){var o=this;et("MemoryPersistence","Starting transaction:",e);var u=new zM(this.Ne.next());return this.referenceDelegate.Es(),i(u).next(function(a){return o.referenceDelegate.Ts(u).next(function(){return a})}).toPromise().then(function(a){return u.raiseOnCommittedEvent(),a})},t.prototype.Is=function(e,n){return J.or(Object.values(this.gs).map(function(i){return function(){return i.containsKey(e,n)}}))},t}(),zM=function(t){function e(n){var i=this;return(i=t.call(this)||this).currentSequenceNumber=n,i}return Tt(e,t),e}(dS),GM=function(){function t(e){this.persistence=e,this.As=new Mm,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw yt()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(e,n,i){return this.As.addReference(i,n),this.vs.delete(i.toString()),J.resolve()},t.prototype.removeReference=function(e,n,i){return this.As.removeReference(i,n),this.vs.add(i.toString()),J.resolve()},t.prototype.markPotentiallyOrphaned=function(e,n){return this.vs.add(n.toString()),J.resolve()},t.prototype.removeTarget=function(e,n){var i=this;this.As.Zn(n.targetId).forEach(function(u){return i.vs.add(u.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(function(u){u.forEach(function(a){return i.vs.add(a.toString())})}).next(function(){return o.removeTargetData(e,n)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(e){var n=this,i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.vs,function(o){var u=bt.fromPath(o);return n.Ps(e,u).next(function(a){a||i.removeEntry(u)})}).next(function(){return n.Rs=null,i.apply(e)})},t.prototype.updateLimboDocument=function(e,n){var i=this;return this.Ps(e,n).next(function(o){o?i.vs.delete(n.toString()):i.vs.add(n.toString())})},t.prototype.ps=function(e){return 0},t.prototype.Ps=function(e,n){var i=this;return J.or([function(){return J.resolve(i.As.containsKey(n))},function(){return i.persistence.getTargetCache().containsKey(e,n)},function(){return i.persistence.Is(e,n)}])},t}(),Qe=function(){function t(e){this.uid=e}return t.prototype.isAuthenticated=function(){return this.uid!=null},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(e){return e.uid===this.uid},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t,e){return"firestore_clients_"+t+"_"+e}function bE(t,e,n){var i="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(i+="_"+e.uid),i}function dg(t,e){return"firestore_targets_"+t+"_"+e}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var _E=function(){function t(e,n,i,o){this.user=e,this.batchId=n,this.state=i,this.error=o}return t.Vs=function(e,n,i){var o,u=JSON.parse(i),a=typeof u=="object"&&["pending","acknowledged","rejected"].indexOf(u.state)!==-1&&(u.error===void 0||typeof u.error=="object");return a&&u.error&&(a=typeof u.error.message=="string"&&typeof u.error.code=="string")&&(o=new W(u.error.code,u.error.message)),a?new t(e,n,u.state,o):(Pe("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+i),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),pg=function(){function t(e,n,i){this.targetId=e,this.state=n,this.error=i}return t.Vs=function(e,n){var i,o=JSON.parse(n),u=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return u&&o.error&&(u=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(i=new W(o.error.code,o.error.message)),u?new t(e,o.state,i):(Pe("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},t}(),EE=function(){function t(e,n){this.clientId=e,this.activeTargetIds=n}return t.Vs=function(e,n){for(var i=JSON.parse(n),o=typeof i=="object"&&i.activeTargetIds instanceof Array,u=ih(),a=0;o&&a<i.activeTargetIds.length;++a)o=VT(i.activeTargetIds[a]),u=u.add(i.activeTargetIds[a]);return o?new t(e,u):(Pe("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),WM=function(){function t(e,n){this.clientId=e,this.onlineState=n}return t.Vs=function(e){var n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new t(n.clientId,n.onlineState):(Pe("SharedClientState","Failed to parse online state: "+e),null)},t}(),iv=function(){function t(){this.activeTargetIds=ih()}return t.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},t.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},t.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},t}(),gg=function(){function t(e,n,i,o,u){this.window=e,this.Se=n,this.persistenceKey=i,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new hn(zt),this.started=!1,this.$s=[];var a=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=wE(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new iv),this.Ls=new RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(e){return!(!e||!e.localStorage)},t.prototype.start=function(){return z(this,void 0,void 0,function(){var e,n,i,o,u,a,l,f,d,g,v,y=this;return K(this,function(b){switch(b.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=b.sent(),n=0,i=e;n<i.length;n++)(o=i[n])!==this.Ns&&(u=this.getItem(wE(this.persistenceKey,o)))&&(a=EE.Vs(o,u))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,g=this.$s;d<g.length;d++)v=g[d],this.ks(v);return this.$s=[],this.window.addEventListener("pagehide",function(){return y.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(e){var n=!1;return this.Fs.forEach(function(i,o){o.activeTargetIds.has(e)&&(n=!0)}),n},t.prototype.addPendingMutation=function(e){this.zs(e,"pending")},t.prototype.updateMutationState=function(e,n,i){this.zs(e,n,i),this.Hs(e)},t.prototype.addLocalQueryTarget=function(e){var n="not-current";if(this.isActiveQueryTarget(e)){var i=this.storage.getItem(dg(this.persistenceKey,e));if(i){var o=pg.Vs(e,i);o&&(n=o.state)}}return this.Js.Ds(e),this.Qs(),n},t.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},t.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){this.removeItem(dg(this.persistenceKey,e))},t.prototype.updateQueryState=function(e,n,i){this.Ys(e,n,i)},t.prototype.handleUserChange=function(e,n,i){var o=this;n.forEach(function(u){o.Hs(u)}),this.currentUser=e,i.forEach(function(u){o.addPendingMutation(u)})},t.prototype.setOnlineState=function(e){this.Xs(e)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(e){var n=this.storage.getItem(e);return et("SharedClientState","READ",e,n),n},t.prototype.setItem=function(e,n){et("SharedClientState","SET",e,n),this.storage.setItem(e,n)},t.prototype.removeItem=function(e){et("SharedClientState","REMOVE",e),this.storage.removeItem(e)},t.prototype.ks=function(e){var n=this,i=e;if(i.storageArea===this.storage){if(et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.Os)return void Pe("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return z(n,void 0,void 0,function(){var o,u,a,l,f,d;return K(this,function(g){if(this.started){if(i.key!==null){if(this.Ls.test(i.key)){if(i.newValue==null)return o=this.ti(i.key),[2,this.ei(o,null)];if(u=this.ni(i.key,i.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(i.key)){if(i.newValue!==null&&(a=this.si(i.key,i.newValue)))return[2,this.ii(a)]}else if(this.qs.test(i.key)){if(i.newValue!==null&&(l=this.ri(i.key,i.newValue)))return[2,this.oi(l)]}else if(i.key===this.Us){if(i.newValue!==null&&(f=this.js(i.newValue)))return[2,this.Ws(f)]}else if(i.key===this.Ms)(d=function(v){var y=Gn.o;if(v!=null)try{var b=JSON.parse(v);Nt(typeof b=="number"),y=b}catch(_){Pe("SharedClientState","Failed to read sequence number from WebStorage",_)}return y}(i.newValue))!==Gn.o&&this.sequenceNumberHandler(d);else if(i.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(i);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(e,n,i){var o=new _E(this.currentUser,e,n,i),u=bE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Ss())},t.prototype.Hs=function(e){var n=bE(this.persistenceKey,this.currentUser,e);this.removeItem(n)},t.prototype.Xs=function(e){var n={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(n))},t.prototype.Ys=function(e,n,i){var o=dg(this.persistenceKey,e),u=new pg(e,n,i);this.setItem(o,u.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(e){var n=this.Ls.exec(e);return n?n[1]:null},t.prototype.ni=function(e,n){var i=this.ti(e);return EE.Vs(i,n)},t.prototype.si=function(e,n){var i=this.Bs.exec(e),o=Number(i[1]),u=i[2]!==void 0?i[2]:null;return _E.Vs(new Qe(u),o,n)},t.prototype.ri=function(e,n){var i=this.qs.exec(e),o=Number(i[1]);return pg.Vs(o,n)},t.prototype.js=function(e){return WM.Vs(e)},t.prototype.ii=function(e){return z(this,void 0,void 0,function(){return K(this,function(n){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(et("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},t.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},t.prototype.ei=function(e,n){var i=this,o=n?this.Fs.insert(e,n):this.Fs.remove(e),u=this.Gs(this.Fs),a=this.Gs(o),l=[],f=[];return a.forEach(function(d){u.has(d)||l.push(d)}),u.forEach(function(d){a.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){i.Fs=o})},t.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},t.prototype.Gs=function(e){var n=ih();return e.forEach(function(i,o){n=n.unionWith(o.activeTargetIds)}),n},t}(),CS=function(){function t(){this.li=new iv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(e){},t.prototype.updateMutationState=function(e,n,i){},t.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},t.prototype.updateQueryState=function(e,n,i){this.fi[e]=n},t.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},t.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.clearQueryState=function(e){delete this.fi[e]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},t.prototype.start=function(){return this.li=new iv,Promise.resolve()},t.prototype.handleUserChange=function(e,n,i){},t.prototype.setOnlineState=function(e){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(e){},t.prototype.notifyBundleLoaded=function(){},t}(),QM=function(){function t(){}return t.prototype.di=function(e){},t.prototype.shutdown=function(){},t}(),IE=function(){function t(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return t.prototype.di=function(e){this.gi.push(e)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(0)},t.prototype.yi=function(){et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,n=this.gi;e<n.length;e++)(0,n[e])(1)},t.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},t}(),YM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},XM=function(){function t(e){this.Ei=e.Ei,this.Ti=e.Ti}return t.prototype.Ii=function(e){this.Ai=e},t.prototype.Ri=function(e){this.bi=e},t.prototype.onMessage=function(e){this.vi=e},t.prototype.close=function(){this.Ti()},t.prototype.send=function(e){this.Ei(e)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(e){this.bi(e)},t.prototype.Si=function(e){this.vi(e)},t}(),JM=function(t){function e(n){var i=this;return(i=t.call(this,n)||this).forceLongPolling=n.forceLongPolling,i.autoDetectLongPolling=n.autoDetectLongPolling,i.useFetchStreams=n.useFetchStreams,i}return Tt(e,t),e.prototype.Fi=function(n,i,o,u){return new Promise(function(a,l){var f=new xL;f.listenOnce(AL.COMPLETE,function(){try{switch(f.getLastErrorCode()){case fg.NO_ERROR:var g=f.getResponseJson();et("Connection","XHR received:",JSON.stringify(g)),a(g);break;case fg.TIMEOUT:et("Connection",'RPC "'+n+'" timed out'),l(new W(D.DEADLINE_EXCEEDED,"Request time out"));break;case fg.HTTP_ERROR:var v=f.getStatus();if(et("Connection",'RPC "'+n+'" failed with status:',v,"response text:",f.getResponseText()),v>0){var y=f.getResponseJson().error;if(y&&y.status&&y.message){var b=function(_){var T=_.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(T)>=0?T:D.UNKNOWN}(y.status);l(new W(b,y.message))}else l(new W(D.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new W(D.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{et("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(u);f.send(i,"POST",d,o,15)})},e.prototype.Oi=function(n,i){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],u=TL(),a=SL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new kL({})),this.ki(l.initMessageHeaders,i),OD()||PD()||LD()||MD()||FD()||DD()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");et("Connection","Creating WebChannel: "+f,l);var d=u.createWebChannel(f,l),g=!1,v=!1,y=new XM({Ei:function(_){v?et("Connection","Not sending because WebChannel is closed:",_):(g||(et("Connection","Opening WebChannel transport."),d.open(),g=!0),et("Connection","WebChannel sending:",_),d.send(_))},Ti:function(){return d.close()}}),b=function(_,T,N){_.listen(T,function(O){try{N(O)}catch(P){setTimeout(function(){throw P},0)}})};return b(d,Il.EventType.OPEN,function(){v||et("Connection","WebChannel transport opened.")}),b(d,Il.EventType.CLOSE,function(){v||(v=!0,et("Connection","WebChannel transport closed"),y.Vi())}),b(d,Il.EventType.ERROR,function(_){v||(v=!0,nf("Connection","WebChannel transport errored:",_),y.Vi(new W(D.UNAVAILABLE,"The operation could not be completed")))}),b(d,Il.EventType.MESSAGE,function(_){var T;if(!v){var N=_.data[0];Nt(!!N);var O=N,P=O.error||((T=O[0])===null||T===void 0?void 0:T.error);if(P){et("Connection","WebChannel received error:",P);var j=P.status,q=function(V){var It=Re[V];if(It!==void 0)return tS(It)}(j),rt=P.message;q===void 0&&(q=D.INTERNAL,rt="Unknown error status: "+j+" with message "+P.message),v=!0,y.Vi(new W(q,rt)),d.close()}else et("Connection","WebChannel received:",N),y.Si(N)}}),b(a,NL.STAT_EVENT,function(_){_.stat===U_.PROXY?et("Connection","Detected buffering proxy"):_.stat===U_.NOPROXY&&et("Connection","Detected no buffering proxy")}),setTimeout(function(){y.Pi()},0),y},e}(function(){function t(e){this.databaseInfo=e,this.databaseId=e.databaseId;var n=e.ssl?"https":"http";this.Di=n+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(e,n,i,o){var u=this.xi(e,n);et("RestConnection","Sending: ",u,i);var a={};return this.ki(a,o),this.Fi(e,u,a,i).then(function(l){return et("RestConnection","Received: ",l),l},function(l){throw nf("RestConnection",e+" failed with error: ",l,"url: ",u,"request:",i),l})},t.prototype.$i=function(e,n,i,o){return this.Ni(e,n,i,o)},t.prototype.ki=function(e,n){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var i in n.authHeaders)n.authHeaders.hasOwnProperty(i)&&(e[i]=n.authHeaders[i])},t.prototype.xi=function(e,n){var i=YM[e];return this.Di+"/v1/"+n+":"+i},t}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof window<"u"?window:null}function Vl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return new iM(t,!0)}var Fm=function(){function t(e,n,i,o,u){i===void 0&&(i=1e3),o===void 0&&(o=1.5),u===void 0&&(u=6e4),this.Se=e,this.timerId=n,this.Mi=i,this.Li=o,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(e){var n=this;this.cancel();var i=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),u=Math.max(0,i-o);u>0&&et("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+i+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return n.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),RS=function(){function t(e,n,i,o,u,a){this.Se=e,this.zi=i,this.Hi=o,this.Ji=u,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Fm(e,n)}return t.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},t.prototype.er=function(){return this.state===2},t.prototype.start=function(){this.state!==3?this.auth():this.nr()},t.prototype.stop=function(){return z(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var e=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},t.prototype.cr=function(e){this.ur(),this.stream.send(e)},t.prototype.rr=function(){return z(this,void 0,void 0,function(){return K(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(e,n){return z(this,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,e!==3?this.Zi.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(Pe(n.toString()),Pe("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===D.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(n)];case 1:return i.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var e=this;this.state=1;var n=this.hr(this.Yi),i=this.Yi;this.Ji.getToken().then(function(o){e.Yi===i&&e.lr(o)},function(o){n(function(){var u=new W(D.UNKNOWN,"Fetching auth token failed: "+o.message);return e.dr(u)})})},t.prototype.lr=function(e){var n=this,i=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){i(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){i(function(){return n.dr(o)})}),this.stream.onMessage(function(o){i(function(){return n.onMessage(o)})})},t.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return z(e,void 0,void 0,function(){return K(this,function(n){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(e){return et("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},t.prototype.hr=function(e){var n=this;return function(i){n.Se.enqueueAndForget(function(){return n.Yi===e?i():(et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ZM=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",i,o,a)||this).R=u,l}return Tt(e,t),e.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},e.prototype.onMessage=function(n){this.Zi.reset();var i=function(u,a){var l;if("targetChange"in a){a.targetChange;var f=function(N){return N==="NO_CHANGE"?0:N==="ADD"?1:N==="REMOVE"?2:N==="CURRENT"?3:N==="RESET"?4:yt()}(a.targetChange.targetChangeType||"NO_CHANGE"),d=a.targetChange.targetIds||[],g=function(N,O){return N.I?(Nt(O===void 0||typeof O=="string"),Pn.fromBase64String(O||"")):(Nt(O===void 0||O instanceof Uint8Array),Pn.fromUint8Array(O||new Uint8Array))}(u,a.targetChange.resumeToken),v=(y=a.targetChange.cause)&&function(N){var O=N.code===void 0?D.UNKNOWN:tS(N.code);return new W(O,N.message||"")}(y);l=new nS(f,d,g,v||null)}else if("documentChange"in a){a.documentChange,(f=a.documentChange).document,f.document.name,f.document.updateTime,d=Xr(u,f.document.name),g=_n(f.document.updateTime);var y=new zn({mapValue:{fields:f.document.fields}}),b=(v=fn.newFoundDocument(d,g,y),f.targetIds||[]),_=f.removedTargetIds||[];l=new Fl(b,_,v.key,v)}else if("documentDelete"in a)a.documentDelete,(f=a.documentDelete).document,d=Xr(u,f.document),g=f.readTime?_n(f.readTime):$t.min(),y=fn.newNoDocument(d,g),v=f.removedTargetIds||[],l=new Fl([],v,y.key,y);else if("documentRemove"in a)a.documentRemove,(f=a.documentRemove).document,d=Xr(u,f.document),g=f.removedTargetIds||[],l=new Fl([],g,d,null);else{if(!("filter"in a))return yt();a.filter;var T=a.filter;T.targetId,f=T.count||0,d=new WL(f),g=T.targetId,l=new eS(g,d)}return l}(this.R,n),o=function(u){if(!("targetChange"in u))return $t.min();var a=u.targetChange;return a.targetIds&&a.targetIds.length?$t.min():a.readTime?_n(a.readTime):$t.min()}(n);return this.listener._r(i,o)},e.prototype.mr=function(n){var i={};i.database=Va(this.R),i.addTarget=function(u,a){var l,f=a.target;return(l=sf(f)?{documents:uS(u,f)}:{query:aS(u,f)}).targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=rS(u,a.resumeToken):a.snapshotVersion.compareTo($t.min())>0&&(l.readTime=Ma(u,a.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(u,a){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return yt()}}(0,a.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(i.labels=o),this.cr(i)},e.prototype.yr=function(n){var i={};i.database=Va(this.R),i.removeTarget=n,this.cr(i)},e}(RS),tF=function(t){function e(n,i,o,u,a){var l=this;return(l=t.call(this,n,"write_stream_connection_backoff","write_stream_idle",i,o,a)||this).R=u,l.gr=!1,l}return Tt(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(n){return this.Hi.Oi("Write",n)},e.prototype.onMessage=function(n){if(Nt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var i=function(u,a){return u&&u.length>0?(Nt(a!==void 0),u.map(function(l){return function(f,d){var g=f.updateTime?_n(f.updateTime):_n(d);return g.isEqual($t.min())&&(g=_n(d)),new HL(g,f.transformResults||[])}(l,a)})):[]}(n.writeResults,n.commitTime),o=_n(n.commitTime);return this.listener.Tr(o,i)}return Nt(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var n={};n.database=Va(this.R),this.cr(n)},e.prototype.Er=function(n){var i=this,o={streamToken:this.lastStreamToken,writes:n.map(function(u){return cf(i.R,u)})};this.cr(o)},e}(RS),eF=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).credentials=n,u.Hi=i,u.R=o,u.Rr=!1,u}return Tt(e,t),e.prototype.br=function(){if(this.Rr)throw new W(D.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.Ni(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new W(D.UNKNOWN,a.toString())})},e.prototype.$i=function(n,i,o){var u=this;return this.br(),this.credentials.getToken().then(function(a){return u.Hi.$i(n,i,o,a)}).catch(function(a){throw a.name==="FirebaseError"?(a.code===D.UNAUTHENTICATED&&u.credentials.invalidateToken(),a):new W(D.UNKNOWN,a.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),nF=function(){function t(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var e=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(e){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},t.prototype.set=function(e){this.kr(),this.vr=0,e==="Online"&&(this.Vr=!1),this.Dr(e)},t.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},t.prototype.Cr=function(e){var n="Could not reach Cloud Firestore backend. "+e+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(Pe(n),this.Vr=!1):et("OnlineStateTracker",n)},t.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},t}(),rF=function(t,e,n,i,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(a){n.enqueueAndForget(function(){return z(u,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return Bi(this)?(et("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return z(this,void 0,void 0,function(){var d;return K(this,function(g){switch(g.label){case 0:return(d=ot(f)).Or.add(4),[4,uu(d)];case 1:return g.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,ac(d)];case 2:return g.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new nF(n,i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return z(this,void 0,void 0,function(){var e,n;return K(this,function(i){switch(i.label){case 0:if(!Bi(t))return[3,4];e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function uu(t){return z(this,void 0,void 0,function(){var e,n;return K(this,function(i){switch(i.label){case 0:e=0,n=t.Mr,i.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function uh(t,e){var n=ot(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Um(n)?jm(n):cu(n).er()&&Vm(n,e))}function ja(t,e){var n=ot(t),i=cu(n);n.$r.delete(e),i.er()&&DS(n,e),n.$r.size===0&&(i.er()?i.ir():Bi(n)&&n.Br.set("Unknown"))}function Vm(t,e){t.qr.U(e.targetId),cu(t).mr(e)}function DS(t,e){t.qr.U(e),cu(t).yr(e)}function jm(t){t.qr=new eM({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),cu(t).start(),t.Br.Sr()}function Um(t){return Bi(t)&&!cu(t).tr()&&t.$r.size>0}function Bi(t){return ot(t).Or.size===0}function PS(t){t.qr=void 0}function iF(t){return z(this,void 0,void 0,function(){return K(this,function(e){return t.$r.forEach(function(n,i){Vm(t,n)}),[2]})})}function oF(t,e){return z(this,void 0,void 0,function(){return K(this,function(n){return PS(t),Um(t)?(t.Br.Nr(e),jm(t)):t.Br.set("Unknown"),[2]})})}function sF(t,e,n){return z(this,void 0,void 0,function(){var i,o,u;return K(this,function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof nS&&e.state===2&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(l,f){return z(this,void 0,void 0,function(){var d,g,v,y;return K(this,function(b){switch(b.label){case 0:d=f.cause,g=0,v=f.targetIds,b.label=1;case 1:return g<v.length?(y=v[g],l.$r.has(y)?[4,l.remoteSyncer.rejectListen(y,d)]:[3,3]):[3,5];case 2:b.sent(),l.$r.delete(y),l.qr.removeTarget(y),b.label=3;case 3:b.label=4;case 4:return g++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return i=a.sent(),et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,pf(t,i)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Fl?t.qr.X(e):e instanceof eS?t.qr.rt(e):t.qr.et(e),n.isEqual($t.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,NS(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(g,v){if(g.resumeToken.approximateByteSize()>0){var y=l.$r.get(v);y&&l.$r.set(v,y.withResumeToken(g.resumeToken,f))}}),d.targetMismatches.forEach(function(g){var v=l.$r.get(g);if(v){l.$r.set(g,v.withResumeToken(Pn.EMPTY_BYTE_STRING,v.snapshotVersion)),DS(l,g);var y=new oh(v.target,g,1,v.sequenceNumber);Vm(l,y)}}),l.remoteSyncer.applyRemoteEvent(d)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return et("RemoteStore","Failed to raise snapshot:",u=a.sent()),[4,pf(t,u)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function pf(t,e,n){return z(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:if(!jo(e))throw e;return t.Or.add(1),[4,uu(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return NS(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return z(i,void 0,void 0,function(){return K(this,function(u){switch(u.label){case 0:return et("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return u.sent(),t.Or.delete(1),[4,ac(t)];case 2:return u.sent(),[2]}})})}),[2]}})})}function LS(t,e){return e().catch(function(n){return pf(t,n,e)})}function au(t){return z(this,void 0,void 0,function(){var e,n,i,o,u;return K(this,function(a){switch(a.label){case 0:e=ot(t),n=Mi(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(l){return Bi(l)&&l.Fr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,VM(e.localStore,i)];case 3:return(o=a.sent())===null?(e.Fr.length===0&&n.ir(),[3,7]):(i=o.batchId,function(l,f){l.Fr.push(f);var d=Mi(l);d.er()&&d.pr&&d.Er(f.mutations)}(e,o),[3,6]);case 4:return u=a.sent(),[4,pf(e,u)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return MS(e)&&FS(e),[2]}})})}function MS(t){return Bi(t)&&!Mi(t).tr()&&t.Fr.length>0}function FS(t){Mi(t).start()}function uF(t){return z(this,void 0,void 0,function(){return K(this,function(e){return Mi(t).Ar(),[2]})})}function aF(t){return z(this,void 0,void 0,function(){var e,n,i,o;return K(this,function(u){for(e=Mi(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]})})}function cF(t,e,n){return z(this,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return i=t.Fr.shift(),o=wM.from(i,e,n),[4,LS(t,function(){return t.remoteSyncer.applySuccessfulWrite(o)})];case 1:return u.sent(),[4,au(t)];case 2:return u.sent(),[2]}})})}function lF(t,e){return z(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:return e&&Mi(t).pr?[4,function(i,o){return z(this,void 0,void 0,function(){var u,a;return K(this,function(l){switch(l.label){case 0:return ZT(a=o.code)&&a!==D.ABORTED?(u=i.Fr.shift(),Mi(i).sr(),[4,LS(i,function(){return i.remoteSyncer.rejectFailedWrite(u.batchId,o)})]):[3,3];case 1:return l.sent(),[4,au(i)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return MS(t)&&FS(t),[2]}})})}function ov(t,e){return z(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return n=ot(t),e?(n.Or.delete(2),[4,ac(n)]):[3,2];case 1:return i.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,uu(n)]);case 3:i.sent(),n.Br.set("Unknown"),i.label=4;case 4:i.label=5;case 5:return[2]}})})}function cu(t){var e=this;return t.Ur||(t.Ur=function(n,i,o){var u=ot(n);return u.br(),new ZM(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:iF.bind(null,t),Ri:oF.bind(null,t),_r:sF.bind(null,t)}),t.Mr.push(function(n){return z(e,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return n?(t.Ur.sr(),Um(t)?jm(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:i.sent(),PS(t),i.label=3;case 3:return[2]}})})})),t.Ur}function Mi(t){var e=this;return t.Kr||(t.Kr=function(n,i,o){var u=ot(n);return u.br(),new tF(i,u.Hi,u.credentials,u.R,o)}(t.datastore,t.asyncQueue,{Ii:uF.bind(null,t),Ri:lF.bind(null,t),Ir:aF.bind(null,t),Tr:cF.bind(null,t)}),t.Mr.push(function(n){return z(e,void 0,void 0,function(){return K(this,function(i){switch(i.label){case 0:return n?(t.Kr.sr(),[4,au(t)]):[3,2];case 1:return i.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:i.sent(),t.Fr.length>0&&(et("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),i.label=4;case 4:return[2]}})})})),t.Kr}var fF=function(){function t(e,n,i,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(a){})}return t.createAndSchedule=function(e,n,i,o,u){var a=new t(e,n,Date.now()+i,o,u);return a.start(i),a},t.prototype.start=function(e){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},e)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},t.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.timerHandle!==null?(e.clearTimeout(),e.op().then(function(n){return e.deferred.resolve(n)})):Promise.resolve()})},t.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function lu(t,e){if(Pe("AsyncQueue",e+": "+t),jo(t))return new W(D.UNAVAILABLE,e+": "+t);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VS=function(){function t(e){this.comparator=e?function(n,i){return e(n,i)||bt.comparator(n.key,i.key)}:function(n,i){return bt.comparator(n.key,i.key)},this.keyedMap=ev(),this.sortedSet=new hn(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(e){return this.keyedMap.get(e)!=null},t.prototype.get=function(e){return this.keyedMap.get(e)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(e){var n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(n,i){return e(n),!1})},t.prototype.add=function(e){var n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))},t.prototype.delete=function(e){var n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this},t.prototype.isEqual=function(e){if(!(e instanceof t)||this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0},t.prototype.toString=function(){var e=[];return this.forEach(function(n){e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`},t.prototype.copy=function(e,n){var i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i},t}(),TE=function(){function t(){this.Qr=new hn(bt.comparator)}return t.prototype.track=function(e){var n=e.doc.key,i=this.Qr.get(n);i?e.type!==0&&i.type===3?this.Qr=this.Qr.insert(n,e):e.type===3&&i.type!==1?this.Qr=this.Qr.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Qr=this.Qr.remove(n):e.type===1&&i.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:e.doc}):yt():this.Qr=this.Qr.insert(n,e)},t.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(n,i){e.push(i)}),e},t}(),gf=function(){function t(e,n,i,o,u,a,l,f){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=f}return t.fromInitialDocuments=function(e,n,i,o){var u=[];return n.forEach(function(a){u.push({type:0,doc:a})}),new t(e,n,VS.emptySet(n),u,i,o,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0},t}(),hF=function(){this.Wr=void 0,this.listeners=[]},dF=function(){this.queries=new su(function(t){return $T(t)},rc),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l,f;return K(this,function(d){switch(d.label){case 0:if(n=ot(t),i=e.query,o=!1,(u=n.queries.get(i))||(o=!0,u=new hF),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),a=u,[4,n.onListen(i)];case 2:return a.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=lu(l,"Initialization of query '"+Zg(e.query)+"' failed"),[2,void e.onError(f)];case 4:return n.queries.set(i,u),u.listeners.push(e),e.zr(n.onlineState),u.Wr&&e.Hr(u.Wr)&&$m(n),[2]}})})}function qm(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a;return K(this,function(l){return n=ot(t),i=e.query,o=!1,(u=n.queries.get(i))&&(a=u.listeners.indexOf(e))>=0&&(u.listeners.splice(a,1),o=u.listeners.length===0),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]})})}function pF(t,e){for(var n=ot(t),i=!1,o=0,u=e;o<u.length;o++){var a=u[o],l=a.query,f=n.queries.get(l);if(f){for(var d=0,g=f.listeners;d<g.length;d++)g[d].Hr(a)&&(i=!0);f.Wr=a}}i&&$m(n)}function gF(t,e,n){var i=ot(t),o=i.queries.get(e);if(o)for(var u=0,a=o.listeners;u<a.length;u++)a[u].onError(n);i.queries.delete(e)}function $m(t){t.Gr.forEach(function(e){e.next()})}var Km=function(){function t(e,n,i){this.query=e,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=i||{}}return t.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var n=[],i=0,o=e.docChanges;i<o.length;i++){var u=o[i];u.type!==3&&n.push(u)}e=new gf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},t.prototype.onError=function(e){this.Jr.error(e)},t.prototype.zr=function(e){this.onlineState=e;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),n=!0),n},t.prototype.eo=function(e,n){if(!e.fromCache)return!0;var i=n!=="Offline";return!(this.options.so&&i||e.docs.isEmpty()&&n!=="Offline")},t.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},t.prototype.no=function(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jS=function(t){this.key=t},US=function(t){this.key=t},BS=function(){function t(e,n){this.query=e,this.uo=n,this.ao=null,this.current=!1,this.ho=fe(),this.mutatedKeys=fe(),this.lo=KT(e),this.fo=new VS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(e,n){var i=this,o=n?n.mo:new TE,u=n?n.fo:this.fo,a=n?n.mutatedKeys:this.mutatedKeys,l=u,f=!1,d=Ll(this.query)&&u.size===this.query.limit?u.last():null,g=af(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(y,b){var _=u.get(y),T=ic(i.query,b)?b:null,N=!!_&&i.mutatedKeys.has(_.key),O=!!T&&(T.hasLocalMutations||i.mutatedKeys.has(T.key)&&T.hasCommittedMutations),P=!1;_&&T?_.data.isEqual(T.data)?N!==O&&(o.track({type:3,doc:T}),P=!0):i.yo(_,T)||(o.track({type:2,doc:T}),P=!0,(d&&i.lo(T,d)>0||g&&i.lo(T,g)<0)&&(f=!0)):!_&&T?(o.track({type:0,doc:T}),P=!0):_&&!T&&(o.track({type:1,doc:_}),P=!0,(d||g)&&(f=!0)),P&&(T?(l=l.add(T),a=O?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),Ll(this.query)||af(this.query))for(;l.size>this.query.limit;){var v=Ll(this.query)?l.last():l.first();l=l.delete(v.key),a=a.delete(v.key),o.track({type:1,doc:v})}return{fo:l,mo:o,Nn:f,mutatedKeys:a}},t.prototype.yo=function(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},t.prototype.applyChanges=function(e,n,i){var o=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(g,v){return function(y,b){var _=function(T){switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return _(y)-_(b)}(g.type,v.type)||o.lo(g.doc,v.doc)}),this.po(i);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,a.length!==0||d?{snapshot:new gf(this.query,e.fo,u,a,e.mutatedKeys,f===0,d,!1),To:l}:{To:l}},t.prototype.zr=function(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new TE,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},t.prototype.po=function(e){var n=this;e&&(e.addedDocuments.forEach(function(i){return n.uo=n.uo.add(i)}),e.modifiedDocuments.forEach(function(i){}),e.removedDocuments.forEach(function(i){return n.uo=n.uo.delete(i)}),this.current=e.current)},t.prototype.Eo=function(){var e=this;if(!this.current)return[];var n=this.ho;this.ho=fe(),this.fo.forEach(function(o){e.Io(o.key)&&(e.ho=e.ho.add(o.key))});var i=[];return n.forEach(function(o){e.ho.has(o)||i.push(new US(o))}),this.ho.forEach(function(o){n.has(o)||i.push(new jS(o))}),i},t.prototype.Ao=function(e){this.uo=e.Bn,this.ho=fe();var n=this._o(e.documents);return this.applyChanges(n,!0)},t.prototype.Ro=function(){return gf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},t}(),vF=function(t,e,n){this.query=t,this.targetId=e,this.view=n},mF=function(t){this.key=t,this.bo=!1},yF=function(){function t(e,n,i,o,u,a){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new su(function(l){return $T(l)},rc),this.Vo=new Map,this.So=new Set,this.Do=new hn(bt.comparator),this.Co=new Map,this.No=new Mm,this.xo={},this.ko=new Map,this.Fo=ff.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),t}();function wF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l;return K(this,function(f){switch(f.label){case 0:return n=Qm(t),(u=n.Po.get(e))?(i=u.targetId,n.sharedClientState.addLocalQueryTarget(i),o=u.view.Ro(),[3,4]):[3,1];case 1:return[4,hf(n.localStore,Vr(e))];case 2:return a=f.sent(),l=n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.targetId,[4,Hm(n,e,i,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&uh(n.remoteStore,a),f.label=4;case 4:return[2,o]}})})}function Hm(t,e,n,i){return z(this,void 0,void 0,function(){var o,u,a,l,f,d;return K(this,function(g){switch(g.label){case 0:return t.Oo=function(v,y,b){return function(_,T,N,O){return z(this,void 0,void 0,function(){var P,j,q;return K(this,function(rt){switch(rt.label){case 0:return P=T.view._o(N),P.Nn?[4,df(_.localStore,T.query,!1).then(function(V){var It=V.documents;return T.view._o(It,P)})]:[3,2];case 1:P=rt.sent(),rt.label=2;case 2:return j=O&&O.targetChanges.get(T.targetId),q=T.view.applyChanges(P,_.isPrimaryClient,j),[2,(sv(_,T.targetId,q.To),q.snapshot)]}})})}(t,v,y,b)},[4,df(t.localStore,e,!0)];case 1:return o=g.sent(),u=new BS(e,o.Bn),a=u._o(o.documents),l=xm.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline"),f=u.applyChanges(a,t.isPrimaryClient,l),sv(t,n,f.To),d=new vF(e,n,u),[2,(t.Po.set(e,d),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),f.snapshot)]}})})}function bF(t,e){return z(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:return n=ot(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter(function(a){return!rc(a,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Ws(n.localStore,i.targetId,!1).then(function(){n.sharedClientState.clearQueryState(i.targetId),ja(n.remoteStore,i.targetId),Qs(n,i.targetId)}).catch(Uo)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return Qs(n,i.targetId),[4,Ws(n.localStore,i.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function _F(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:i=Ym(t),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var g,v=ot(f),y=Rn.now(),b=d.reduce(function(_,T){return _.add(T.key)},fe());return v.persistence.runTransaction("Locally write mutations","readwrite",function(_){return v.Mn.pn(_,b).next(function(T){g=T;for(var N=[],O=0,P=d;O<P.length;O++){var j=P[O],q=GL(j,g.get(j.key));q!=null&&N.push(new Ui(j.key,q,jT(q.value.mapValue),cn.exists(!0)))}return v._n.addMutationBatch(_,y,N,d)})}).then(function(_){return _.applyToLocalDocumentSet(g),{batchId:_.batchId,changes:g}})}(i.localStore,e)];case 2:return o=l.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(f,d,g){var v=f.xo[f.currentUser.toKey()];v||(v=new hn(zt)),v=v.insert(d,g),f.xo[f.currentUser.toKey()]=v}(i,o.batchId,n),[4,qi(i,o.changes)];case 3:return l.sent(),[4,au(i.remoteStore)];case 4:return l.sent(),[3,6];case 5:return u=l.sent(),a=lu(u,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function qS(t,e){return z(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:n=ot(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,MM(n.localStore,e)];case 2:return i=o.sent(),e.targetChanges.forEach(function(u,a){var l=n.Co.get(a);l&&(Nt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?l.bo=!0:u.modifiedDocuments.size>0?Nt(l.bo):u.removedDocuments.size>0&&(Nt(l.bo),l.bo=!1))}),[4,qi(n,i,e)];case 3:return o.sent(),[3,6];case 4:return[4,Uo(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function SE(t,e,n){var i=ot(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){var o=[];i.Po.forEach(function(u,a){var l=a.view.zr(e);l.snapshot&&o.push(l.snapshot)}),function(u,a){var l=ot(u);l.onlineState=a;var f=!1;l.queries.forEach(function(d,g){for(var v=0,y=g.listeners;v<y.length;v++)y[v].zr(a)&&(f=!0)}),f&&$m(l)}(i.eventManager,e),o.length&&i.vo._r(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function EF(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f;return K(this,function(d){switch(d.label){case 0:return(i=ot(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(u=o&&o.key)?(a=(a=new hn(bt.comparator)).insert(u,fn.newNoDocument(u,$t.min())),l=fe().add(u),f=new km($t.min(),new Map,new $e(zt),a,l),[4,qS(i,f)]):[3,2];case 1:return d.sent(),i.Do=i.Do.remove(u),i.Co.delete(e),Wm(i),[3,4];case 2:return[4,Ws(i.localStore,e,!1).then(function(){return Qs(i,e,n)}).catch(Uo)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function IF(t,e){return z(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:n=ot(t),i=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,LM(n.localStore,e)];case 2:return o=u.sent(),Gm(n,i,null),zm(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,qi(n,o)];case 3:return u.sent(),[3,6];case 4:return[4,Uo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function TF(t,e,n){return z(this,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:i=ot(t),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,function(a,l){var f=ot(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var g;return f._n.lookupMutationBatch(d,l).next(function(v){return Nt(v!==null),g=v.keys(),f._n.removeMutationBatch(d,v)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,g)})})}(i.localStore,e)];case 2:return o=u.sent(),Gm(i,e,n),zm(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,qi(i,o)];case 3:return u.sent(),[3,6];case 4:return[4,Uo(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function SF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a;return K(this,function(l){switch(l.label){case 0:Bi((n=ot(t)).remoteStore)||et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=ot(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(g){return d._n.getHighestUnacknowledgedBatchId(g)})}(n.localStore)];case 2:return(i=l.sent())===-1?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return u=l.sent(),a=lu(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function zm(t,e){(t.ko.get(e)||[]).forEach(function(n){n.resolve()}),t.ko.delete(e)}function Gm(t,e,n){var i=ot(t),o=i.xo[i.currentUser.toKey()];if(o){var u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),i.xo[i.currentUser.toKey()]=o}}function Qs(t,e,n){n===void 0&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var i=0,o=t.Vo.get(e);i<o.length;i++){var u=o[i];t.Po.delete(u),n&&t.vo.Mo(u,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(a){t.No.containsKey(a)||$S(t,a)})}function $S(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);n!==null&&(ja(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Wm(t))}function sv(t,e,n){for(var i=0,o=n;i<o.length;i++){var u=o[i];u instanceof jS?(t.No.addReference(u.key,e),AF(t,u)):u instanceof US?(et("SyncEngine","Document no longer in limbo: "+u.key),t.No.removeReference(u.key,e),t.No.containsKey(u.key)||$S(t,u.key)):yt()}}function AF(t,e){var n=e.key,i=n.path.canonicalString();t.Do.get(n)||t.So.has(i)||(et("SyncEngine","New document in limbo: "+n),t.So.add(i),Wm(t))}function Wm(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new bt(ee.fromString(e)),i=t.Fo.next();t.Co.set(i,new mF(n)),t.Do=t.Do.insert(n,i),uh(t.remoteStore,new oh(Vr(nc(n.path)),i,2,Gn.o))}}function qi(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a;return K(this,function(l){switch(l.label){case 0:return i=ot(t),o=[],u=[],a=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach(function(f,d){a.push(i.Oo(d,e,n).then(function(g){if(g){i.isPrimaryClient&&i.sharedClientState.updateQueryState(d.targetId,g.fromCache?"not-current":"current"),o.push(g);var v=DM.Pn(d.targetId,g);u.push(v)}}))}),[4,Promise.all(a)]);case 1:return l.sent(),i.vo._r(o),[4,function(f,d){return z(this,void 0,void 0,function(){var g,v,y,b,_,T,N,O,P;return K(this,function(j){switch(j.label){case 0:g=ot(f),j.label=1;case 1:return j.trys.push([1,3,,4]),[4,g.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(q){return J.forEach(d,function(rt){return J.forEach(rt.bn,function(V){return g.persistence.referenceDelegate.addReference(q,rt.targetId,V)}).next(function(){return J.forEach(rt.vn,function(V){return g.persistence.referenceDelegate.removeReference(q,rt.targetId,V)})})})})];case 2:return j.sent(),[3,4];case 3:if(!jo(v=j.sent()))throw v;return et("LocalStore","Failed to update sequence numbers: "+v),[3,4];case 4:for(y=0,b=d;y<b.length;y++)_=b[y],T=_.targetId,_.fromCache||(N=g.kn.get(T),O=N.snapshotVersion,P=N.withLastLimboFreeSnapshotVersion(O),g.kn=g.kn.insert(T,P));return[2]}})})}(i.localStore,u)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function NF(t,e){return z(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:return(n=ot(t)).currentUser.isEqual(e)?[3,3]:(et("SyncEngine","User change. New user:",e.toKey()),[4,AS(n.localStore,e)]);case 1:return i=o.sent(),n.currentUser=e,function(u,a){u.ko.forEach(function(l){l.forEach(function(f){f.reject(new W(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,qi(n,i.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function kF(t,e){var n=ot(t),i=n.Co.get(e);if(i&&i.bo)return fe().add(i.key);var o=fe(),u=n.Vo.get(e);if(!u)return o;for(var a=0,l=u;a<l.length;a++){var f=l[a],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function xF(t,e){return z(this,void 0,void 0,function(){var n,i,o;return K(this,function(u){switch(u.label){case 0:return[4,df((n=ot(t)).localStore,e.query,!0)];case 1:return i=u.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&sv(n,e.targetId,o.To),o)]}})})}function CF(t){return z(this,void 0,void 0,function(){var e;return K(this,function(n){return[2,xS((e=ot(t)).localStore).then(function(i){return qi(e,i)})]})})}function OF(t,e,n,i){return z(this,void 0,void 0,function(){var o,u;return K(this,function(a){switch(a.label){case 0:return[4,function(l,f){var d=ot(l),g=ot(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(v){return g.jt(v,f).next(function(y){return y?d.Mn.pn(v,y):J.resolve(null)})})}((o=ot(t)).localStore,e)];case 1:return(u=a.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,au(o.remoteStore)];case 2:return a.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(Gm(o,e,i||null),zm(o,e),function(l,f){ot(ot(l)._n).Gt(f)}(o.localStore,e)):yt(),a.label=4;case 4:return[4,qi(o,u)];case 5:return a.sent(),[3,7];case 6:et("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function RF(t,e){return z(this,void 0,void 0,function(){var n,i,o,u,a,l,f,d;return K(this,function(g){switch(g.label){case 0:return Qm(n=ot(t)),Ym(n),e!==!0||n.$o===!0?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,AE(n,i.toArray())]);case 1:return o=g.sent(),n.$o=!0,[4,ov(n.remoteStore,!0)];case 2:for(g.sent(),u=0,a=o;u<a.length;u++)l=a[u],uh(n.remoteStore,l);return[3,7];case 3:return e!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(v,y){n.sharedClientState.isLocalQueryTarget(y)?f.push(y):d=d.then(function(){return Qs(n,y),Ws(n.localStore,y,!0)}),ja(n.remoteStore,y)}),[4,d]);case 4:return g.sent(),[4,AE(n,f)];case 5:return g.sent(),function(v){var y=ot(v);y.Co.forEach(function(b,_){ja(y.remoteStore,_)}),y.No.ts(),y.Co=new Map,y.Do=new hn(bt.comparator)}(n),n.$o=!1,[4,ov(n.remoteStore,!1)];case 6:g.sent(),g.label=7;case 7:return[2]}})})}function AE(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,v,y,b,_,T,N;return K(this,function(O){switch(O.label){case 0:i=ot(t),o=[],u=[],a=0,l=e,O.label=1;case 1:return a<l.length?(f=l[a],d=void 0,(g=i.Vo.get(f))&&g.length!==0?[4,hf(i.localStore,Vr(g[0]))]:[3,7]):[3,13];case 2:d=O.sent(),v=0,y=g,O.label=3;case 3:return v<y.length?(b=y[v],_=i.Po.get(b),[4,xF(i,_)]):[3,6];case 4:(T=O.sent()).snapshot&&u.push(T.snapshot),O.label=5;case 5:return v++,[3,3];case 6:return[3,11];case 7:return[4,kS(i.localStore,f)];case 8:return N=O.sent(),[4,hf(i.localStore,N)];case 9:return d=O.sent(),[4,Hm(i,KS(N),f,!1)];case 10:O.sent(),O.label=11;case 11:o.push(d),O.label=12;case 12:return a++,[3,1];case 13:return[2,(i.vo._r(u),o)]}})})}function KS(t){return BT(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function DF(t){var e=ot(t);return ot(ot(e.localStore).persistence).fn()}function PF(t,e,n,i){return z(this,void 0,void 0,function(){var o,u,a;return K(this,function(l){switch(l.label){case 0:return(o=ot(t)).$o?(et("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,xS(o.localStore)];case 3:return u=l.sent(),a=km.createSynthesizedRemoteEventForCurrentChange(e,n==="current"),[4,qi(o,u,a)];case 4:return l.sent(),[3,8];case 5:return[4,Ws(o.localStore,e,!0)];case 6:return l.sent(),Qs(o,e,i),[3,8];case 7:yt(),l.label=8;case 8:return[2]}})})}function LF(t,e,n){return z(this,void 0,void 0,function(){var i,o,u,a,l,f,d,g,v,y;return K(this,function(b){switch(b.label){case 0:if(!(i=Qm(t)).$o)return[3,10];o=0,u=e,b.label=1;case 1:return o<u.length?(a=u[o],i.Vo.has(a)?(et("SyncEngine","Adding an already active target "+a),[3,5]):[4,kS(i.localStore,a)]):[3,6];case 2:return l=b.sent(),[4,hf(i.localStore,l)];case 3:return f=b.sent(),[4,Hm(i,KS(l),f.targetId,!1)];case 4:b.sent(),uh(i.remoteStore,f),b.label=5;case 5:return o++,[3,1];case 6:d=function(_){return K(this,function(T){switch(T.label){case 0:return i.Vo.has(_)?[4,Ws(i.localStore,_,!1).then(function(){ja(i.remoteStore,_),Qs(i,_)}).catch(Uo)]:[3,2];case 1:T.sent(),T.label=2;case 2:return[2]}})},g=0,v=n,b.label=7;case 7:return g<v.length?(y=v[g],[5,d(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return g++,[3,7];case 10:return[2]}})})}function Qm(t){var e=ot(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EF.bind(null,e),e.vo._r=pF.bind(null,e.eventManager),e.vo.Mo=gF.bind(null,e.eventManager),e}function Ym(t){var e=ot(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TF.bind(null,e),e}var HS=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(e){return z(this,void 0,void 0,function(){return K(this,function(n){switch(n.label){case 0:return this.R=sh(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},t.prototype.Uo=function(e){return null},t.prototype.Ko=function(e){return SS(this.persistence,new TS,e.initialUser,this.R)},t.prototype.qo=function(e){return new HM(GM.bs,this.R)},t.prototype.Bo=function(e){return new CS},t.prototype.terminate=function(){return z(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},t}(),zS=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).Qo=n,u.cacheSizeBytes=i,u.forceOwnership=o,u.synchronizeTabs=!1,u}return Tt(e,t),e.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,jM(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,Ym(this.Qo.syncEngine)];case 4:return o.sent(),[4,au(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(i.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},e.prototype.Ko=function(n){return SS(this.persistence,new TS,n.initialUser,this.R)},e.prototype.Uo=function(n){var i=this.persistence.referenceDelegate.garbageCollector;return new AM(i,n.asyncQueue)},e.prototype.qo=function(n){var i=Lm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Cr.withCacheSize(this.cacheSizeBytes):Cr.DEFAULT;return new RM(this.synchronizeTabs,i,n.clientId,o,n.asyncQueue,OS(),Vl(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(n){return new CS},e}(HS),MF=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i,!1)||this).Qo=n,o.cacheSizeBytes=i,o.synchronizeTabs=!0,o}return Tt(e,t),e.prototype.initialize=function(n){return z(this,void 0,void 0,function(){var i,o=this;return K(this,function(u){switch(u.label){case 0:return[4,t.prototype.initialize.call(this,n)];case 1:return u.sent(),i=this.Qo.syncEngine,this.sharedClientState instanceof gg?(this.sharedClientState.syncEngine={ui:OF.bind(null,i),ai:PF.bind(null,i),hi:LF.bind(null,i),fn:DF.bind(null,i),ci:CF.bind(null,i)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(a){return z(o,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return[4,RF(this.Qo.syncEngine,a)];case 1:return l.sent(),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):a||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(n){var i=OS();if(!gg.yt(i))throw new W(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=Lm(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new gg(i,n.asyncQueue,o,n.clientId,n.initialUser)},e}(zS),uv=function(){function t(){}return t.prototype.initialize=function(e,n){return z(this,void 0,void 0,function(){var i=this;return K(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return SE(i.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=NF.bind(null,this.syncEngine),[4,ov(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(e){return new dF},t.prototype.createDatastore=function(e){var n,i=sh(e.databaseInfo.databaseId),o=(n=e.databaseInfo,new JM(n));return function(u,a,l){return new eF(u,a,l)}(e.credentials,o,i)},t.prototype.createRemoteStore=function(e){var n,i,o,u,a,l=this;return n=this.localStore,i=this.datastore,o=e.asyncQueue,u=function(f){return SE(l.syncEngine,f,0)},a=IE.yt()?new IE:new QM,new rF(n,i,o,u,a)},t.prototype.createSyncEngine=function(e,n){return function(i,o,u,a,l,f,d){var g=new yF(i,o,u,a,l,f);return d&&(g.$o=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)},t.prototype.terminate=function(){return function(e){return z(this,void 0,void 0,function(){var n;return K(this,function(i){switch(i.label){case 0:return n=ot(e),et("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,uu(n)];case 1:return i.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ah=function(){function t(e){this.observer=e,this.muted=!1}return t.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},t.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(e,n){var i=this;this.muted||setTimeout(function(){i.muted||e(n)},0)},t}(),FF=function(){function t(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(e){return z(this,void 0,void 0,function(){var n,i=this;return K(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new W(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,a){return z(this,void 0,void 0,function(){var l,f,d,g,v,y;return K(this,function(b){switch(b.label){case 0:return l=ot(u),f=Va(l.R)+"/documents",d={documents:a.map(function(_){return Fa(l.R,_)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return g=b.sent(),v=new Map,g.forEach(function(_){var T=function(N,O){return"found"in O?function(P,j){Nt(!!j.found),j.found.name,j.found.updateTime;var q=Xr(P,j.found.name),rt=_n(j.found.updateTime),V=new zn({mapValue:{fields:j.found.fields}});return fn.newFoundDocument(q,rt,V)}(N,O):"missing"in O?function(P,j){Nt(!!j.missing),Nt(!!j.readTime);var q=Xr(P,j.missing),rt=_n(j.readTime);return fn.newNoDocument(q,rt)}(N,O):yt()}(l.R,_);v.set(T.key.toString(),T)}),y=[],[2,(a.forEach(function(_){var T=v.get(_.toString());Nt(!!T),y.push(T)}),y)]}})})}(this.datastore,e)];case 1:return[2,((n=o.sent()).forEach(function(u){return i.recordVersion(u)}),n)]}})})},t.prototype.set=function(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.update=function(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())},t.prototype.delete=function(e){this.write(new uc(e,this.precondition(e))),this.writtenDocs.add(e.toString())},t.prototype.commit=function(){return z(this,void 0,void 0,function(){var e,n=this;return K(this,function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(o){e.delete(o.key.toString())}),e.forEach(function(o,u){var a=bt.fromPath(u);n.mutations.push(new Nm(a,n.precondition(a)))}),[4,function(o,u){return z(this,void 0,void 0,function(){var a,l,f;return K(this,function(d){switch(d.label){case 0:return a=ot(o),l=Va(a.R)+"/documents",f={writes:u.map(function(g){return cf(a.R,g)})},[4,a.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return i.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(e){var n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw yt();n=$t.min()}var i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new W(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)},t.prototype.precondition=function(e){var n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?cn.updateTime(n):cn.none()},t.prototype.preconditionForUpdate=function(e){var n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual($t.min()))throw new W(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return cn.updateTime(n)}return cn.exists(!0)},t.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},t.prototype.ensureCommitNotCalled=function(){},t}(),VF=function(){function t(e,n,i,o){this.asyncQueue=e,this.datastore=n,this.updateFunction=i,this.deferred=o,this.ec=5,this.Zi=new Fm(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var e=this;this.Zi.ji(function(){return z(e,void 0,void 0,function(){var n,i,o=this;return K(this,function(u){return n=new FF(this.datastore),(i=this.sc(n))&&i.then(function(a){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(a)}).catch(function(l){o.ic(l)})})}).catch(function(a){o.ic(a)}),[2]})})})},t.prototype.sc=function(e){try{var n=this.updateFunction(e);return!Vo(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}},t.prototype.ic=function(e){var n=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(e)},t.prototype.rc=function(e){if(e.name==="FirebaseError"){var n=e.code;return n==="aborted"||n==="failed-precondition"||!ZT(n)}return!1},t}(),jF=function(){function t(e,n,i){var o=this;this.credentials=e,this.asyncQueue=n,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=DT.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(u){return z(o,void 0,void 0,function(){return K(this,function(a){switch(a.label){case 0:return et("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return a.sent(),this.user=u,[2]}})})})}return t.prototype.getConfiguration=function(){return z(this,void 0,void 0,function(){return K(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new W(D.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var n=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return z(e,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return i=u.sent(),o=lu(i,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){return z(this,void 0,void 0,function(){var n,i,o=this;return K(this,function(u){switch(u.label){case 0:return t.asyncQueue.verifyOperationInProgress(),et("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=u.sent(),[4,e.initialize(n)];case 2:return u.sent(),i=n.initialUser,t.setCredentialChangeListener(function(a){return z(o,void 0,void 0,function(){return K(this,function(l){switch(l.label){case 0:return i.isEqual(a)?[3,2]:[4,AS(e.localStore,a)];case 1:l.sent(),i=a,l.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function WS(t,e){return z(this,void 0,void 0,function(){var n,i;return K(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Xm(t)];case 1:return n=o.sent(),et("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener(function(u){return function(a,l){return z(this,void 0,void 0,function(){var f,d;return K(this,function(g){switch(g.label){case 0:return(f=ot(a)).asyncQueue.verifyOperationInProgress(),et("RemoteStore","RemoteStore received new credentials"),d=Bi(f),f.Or.add(3),[4,uu(f)];case 1:return g.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return g.sent(),f.Or.delete(3),[4,ac(f)];case 3:return g.sent(),[2]}})})}(e.remoteStore,u)}),t.onlineComponents=e,[2]}})})}function Xm(t){return z(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(et("FirestoreClient","Using default OfflineComponentProvider"),[4,GS(t,new HS)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function ch(t){return z(this,void 0,void 0,function(){return K(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(et("FirestoreClient","Using default OnlineComponentProvider"),[4,WS(t,new uv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function NE(t){return Xm(t).then(function(e){return e.persistence})}function QS(t){return Xm(t).then(function(e){return e.localStore})}function kE(t){return ch(t).then(function(e){return e.remoteStore})}function YS(t){return ch(t).then(function(e){return e.syncEngine})}function Ys(t){return z(this,void 0,void 0,function(){var e,n;return K(this,function(i){switch(i.label){case 0:return[4,ch(t)];case 1:return e=i.sent(),[2,((n=e.eventManager).onListen=wF.bind(null,e.syncEngine),n.onUnlisten=bF.bind(null,e.syncEngine),n)]}})})}function xE(t,e,n){var i=this;n===void 0&&(n={});var o=new Ln;return t.asyncQueue.enqueueAndForget(function(){return z(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,v){var y=new ah({next:function(_){f.enqueueAndForget(function(){return qm(l,b)});var T=_.docs.has(d);!T&&_.fromCache?v.reject(new W(D.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&g&&g.source==="server"?v.reject(new W(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),b=new Km(nc(d.path),y,{includeMetadataChanges:!0,so:!0});return Bm(l,b)},[4,Ys(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}function CE(t,e,n){var i=this;n===void 0&&(n={});var o=new Ln;return t.asyncQueue.enqueueAndForget(function(){return z(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return u=function(l,f,d,g,v){var y=new ah({next:function(_){f.enqueueAndForget(function(){return qm(l,b)}),_.fromCache&&g.source==="server"?v.reject(new W(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(_)},error:function(_){return v.reject(_)}}),b=new Km(d,y,{includeMetadataChanges:!0,so:!0});return Bm(l,b)},[4,Ys(t)];case 1:return[2,u.apply(void 0,[a.sent(),t.asyncQueue,e,n,o])]}})})}),o.promise}var UF=function(t,e,n,i,o,u,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=a,this.useFetchStreams=l},vf=function(){function t(e,n){this.projectId=e,this.database=n||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),OE=new Map,XS=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},RE=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){this.changeListener=n,e.enqueueRetryable(function(){return n(Qe.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),BF=function(){function t(e){this.token=e,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(e,n){var i=this;this.changeListener=n,e.enqueueRetryable(function(){return n(i.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),qF=function(){function t(e){var n=this;this.currentUser=Qe.UNAUTHENTICATED,this.oc=new Ln,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var i=function(o){et("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};e.onInit(function(o){return i(o)}),setTimeout(function(){if(!n.auth){var o=e.getImmediate({optional:!0});o?i(o):(et("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return t.prototype.getToken=function(){var e=this,n=this.cc,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(function(o){return e.cc!==n?(et("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):o?(Nt(typeof o.accessToken=="string"),new XS(o.accessToken,e.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(e,n){var i=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return z(i,void 0,void 0,function(){return K(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Nt(e===null||typeof e=="string"),new Qe(e)},t}(),$F=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i,this.type="FirstParty",this.user=Qe.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(e.Authorization=n),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),t}(),KF=function(){function t(e,n,i){this.hc=e,this.lc=n,this.fc=i}return t.prototype.getToken=function(){return Promise.resolve(new $F(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(e,n){e.enqueueRetryable(function(){return n(Qe.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t,e,n){if(!n)throw new W(D.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Zm(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new W(D.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function JS(t,e,n,i){if(e===!0&&i===!0)throw new W(D.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function DE(t){if(!bt.isDocumentKey(t))throw new W(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function PE(t){if(bt.isDocumentKey(t))throw new W(D.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function lh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";var e=function(n){if(n.constructor){var i=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(i&&i.length>1)return i[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return typeof t=="function"?"a function":yt()}function ne(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=lh(t);throw new W(D.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function LE(t,e){if(e<=0)throw new W(D.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ME=function(){function t(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new W(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,JS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},t}(),Ua=function(){function t(e,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ME({}),this._settingsFrozen=!1,e instanceof vf?(this._databaseId=e,this._credentials=new RE):(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new W(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vf(i.options.projectId)}(e),this._credentials=new qF(n))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new W(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(e){if(this._settingsFrozen)throw new W(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ME(e),e.credentials!==void 0&&(this._credentials=function(n){if(!n)return new RE;switch(n.type){case"gapi":var i=n.client;return Nt(!(typeof i!="object"||i===null||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new KF(i,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new W(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return e=this,(n=OE.get(e))&&(et("ComponentProvider","Removing Datastore"),OE.delete(e),n.terminate()),Promise.resolve();var e,n},t}(),Ee=function(){function t(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Di(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Xn=function(){function t(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Di=function(t){function e(n,i,o){var u=this;return(u=t.call(this,n,i,nc(o))||this)._path=o,u.type="collection",u}return Tt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ee(this.firestore,null,new bt(n))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(n){return new e(this.firestore,n,this._path)},e}(Xn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Me(t),Jm("collection","path",e),t instanceof Ua)return PE(n=ee.fromString.apply(ee,Ae([e],i))),new Di(t,null,n);if(!(t instanceof Ee||t instanceof Di))throw new W(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return PE(n=ee.fromString.apply(ee,Ae([t.path],i)).child(ee.fromString(e))),new Di(t.firestore,null,n)}function jl(t,e){for(var n,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(t=Me(t),arguments.length===1&&(e=DT.u()),Jm("doc","path",e),t instanceof Ua)return DE(n=ee.fromString.apply(ee,Ae([e],i))),new Ee(t,null,new bt(n));if(!(t instanceof Ee||t instanceof Di))throw new W(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return DE(n=t._path.child(ee.fromString.apply(ee,Ae([e],i)))),new Ee(t.firestore,t instanceof Di?t.converter:null,new bt(n))}function tA(t,e){return t=Me(t),e=Me(e),(t instanceof Ee||t instanceof Di)&&(e instanceof Ee||e instanceof Di)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function eA(t,e){return t=Me(t),e=Me(e),t instanceof Xn&&e instanceof Xn&&t.firestore===e.firestore&&rc(t._query,e._query)&&t.converter===e.converter}var HF=function(){function t(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Fm(this,"async_queue_retry"),this.Ic=function(){var i=Vl();i&&et("AsyncQueue","Visibility state changed to "+i.visibilityState),e.Zi.Gi()};var n=Vl();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(e){this.enqueue(e)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},t.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var n=Vl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(e){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var i=new Ln;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)}).then(function(){return i.promise})},t.prototype.enqueueRetryable=function(e){var n=this;this.enqueueAndForget(function(){return n.wc.push(e),n.bc()})},t.prototype.bc=function(){return z(this,void 0,void 0,function(){var e,n=this;return K(this,function(i){switch(i.label){case 0:if(this.wc.length===0)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return i.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!jo(e=i.sent()))throw e;return et("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),i.label=5;case 5:return[2]}})})},t.prototype.Rc=function(e){var n=this,i=this.dc.then(function(){return n.gc=!0,e().catch(function(o){throw n.yc=o,n.gc=!1,Pe("INTERNAL UNHANDLED ERROR: ",function(u){var a=u.message||"";return u.stack&&(a=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),a}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=i,i},t.prototype.enqueueAfterDelay=function(e,n,i){var o=this;this.Ac(),this.Tc.indexOf(e)>-1&&(n=0);var u=fF.createAndSchedule(this,e,n,i,function(a){return o.vc(a)});return this.mc.push(u),u},t.prototype.Ac=function(){this.yc&&yt()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return z(this,void 0,void 0,function(){var e;return K(this,function(n){switch(n.label){case 0:return[4,e=this.dc];case 1:n.sent(),n.label=2;case 2:if(e!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},t.prototype.Vc=function(e){for(var n=0,i=this.mc;n<i.length;n++)if(i[n].timerId===e)return!0;return!1},t.prototype.Sc=function(e){var n=this;return this.Pc().then(function(){n.mc.sort(function(a,l){return a.targetTimeMs-l.targetTimeMs});for(var i=0,o=n.mc;i<o.length;i++){var u=o[i];if(u.skipDelay(),e!=="all"&&u.timerId===e)break}return n.Pc()})},t.prototype.Dc=function(e){this.Tc.push(e)},t.prototype.vc=function(e){var n=this.mc.indexOf(e);this.mc.splice(n,1)},t}();function Xs(t){return function(e,n){if(typeof e!="object"||e===null)return!1;for(var i=e,o=0,u=["next","error","complete"];o<u.length;o++){var a=u[o];if(a in i&&typeof i[a]=="function")return!0}return!1}(t)}var zF=-1,qe=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).type="firestore",o._queue=new HF,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Tt(e,t),e.prototype._terminate=function(){return this._firestoreClient||nA(this),this._firestoreClient.terminate()},e}(Ua);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return t._firestoreClient||nA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nA(t){var e,n=t._freezeSettings(),i=function(o,u,a,l){return new UF(o,u,a,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new jF(t._credentials,t._queue,i)}function FE(t,e,n){var i=this,o=new Ln;return t.asyncQueue.enqueue(function(){return z(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,GS(t,n)];case 1:return a.sent(),[4,WS(t,e)];case 2:return a.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===D.FAILED_PRECONDITION||l.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(u=a.sent()))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function VE(t){if(t._initialized||t._terminated)throw new W(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var i=0;i<e.length;++i)if(e[i].length===0)throw new W(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new br(e)}return t.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},t}(),Po=function(){function t(e){this._byteString=e}return t.fromBase64String=function(e){try{return new t(Pn.fromBase64String(e))}catch(n){throw new W(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},t.fromUint8Array=function(e){return new t(Pn.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},t}(),Bo=function(t){this._methodName=t},fh=function(){function t(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(e){return zt(this._lat,e._lat)||zt(this._long,e._long)},t}(),GF=/^__.*__$/,WF=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new sc(e,this.data,n,this.fieldTransforms)},t}(),rA=function(){function t(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}return t.prototype.toMutation=function(e,n){return new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms)},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}var oA=function(){function t(e,n,i,o,u,a){this.settings=e,this.databaseId=n,this.R=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.$c(e),o},t.prototype.Oc=function(e){var n,i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.xc({path:i,Fc:!1});return o.Cc(),o},t.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(e){return mf(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(e){return this.fieldMask.find(function(n){return e.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return e.isPrefixOf(n.field)})!==void 0},t.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},t.prototype.$c=function(e){if(e.length===0)throw this.Lc("Document fields must not be empty");if(iA(this.Nc)&&GF.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),QF=function(){function t(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.R=i||sh(e)}return t.prototype.Uc=function(e,n,i,o){return o===void 0&&(o=!1),new oA({Nc:e,methodName:n,qc:i,path:br.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function qo(t){var e=t._freezeSettings(),n=sh(t._databaseId);return new QF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hh(t,e,n,i,o,u){u===void 0&&(u={});var a=t.Uc(u.merge||u.mergeFields?2:0,e,n,o);ry("Data must be an object, but it was:",a,i);var l,f,d=aA(i,a);if(u.merge)l=new Fs(a.fieldMask),f=a.fieldTransforms;else if(u.mergeFields){for(var g=[],v=0,y=u.mergeFields;v<y.length;v++){var b=av(e,y[v],n);if(!a.contains(b))throw new W(D.INVALID_ARGUMENT,"Field '"+b+"' is specified in your field mask but missing from your input data.");lA(g,b)||g.push(b)}l=new Fs(g),f=a.fieldTransforms.filter(function(_){return l.covers(_.field)})}else l=null,f=a.fieldTransforms;return new WF(new zn(d),l,f)}var ty=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},e.prototype.isEqual=function(n){return n instanceof e},e}(Bo);function sA(t,e,n){return new oA({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var YF=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype._toFieldTransform=function(n){return new oc(n.path,new Bs)},e.prototype.isEqual=function(n){return n instanceof e},e}(Bo),XF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=sA(this,n,!0),o=this.Kc.map(function(a){return $o(a,i)}),u=new Ro(o);return new oc(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(Bo),JF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Kc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=sA(this,n,!0),o=this.Kc.map(function(a){return $o(a,i)}),u=new Do(o);return new oc(n.path,u)},e.prototype.isEqual=function(n){return this===n},e}(Bo),ZF=function(t){function e(n,i){var o=this;return(o=t.call(this,n)||this).Qc=i,o}return Tt(e,t),e.prototype._toFieldTransform=function(n){var i=new qs(n.R,GT(n.R,this.Qc));return new oc(n.path,i)},e.prototype.isEqual=function(n){return this===n},e}(Bo);function ey(t,e,n,i){var o=t.Uc(1,e,n);ry("Data must be an object, but it was:",o,i);var u=[],a=zn.empty();Fo(i,function(f,d){var g=iy(e,f,n);d=Me(d);var v=o.Oc(g);if(d instanceof ty)u.push(g);else{var y=$o(d,v);y!=null&&(u.push(g),a.set(g,y))}});var l=new Fs(u);return new rA(a,l,o.fieldTransforms)}function ny(t,e,n,i,o,u){var a=t.Uc(1,e,n),l=[av(e,i,n)],f=[o];if(u.length%2!=0)throw new W(D.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<u.length;d+=2)l.push(av(e,u[d])),f.push(u[d+1]);for(var g=[],v=zn.empty(),y=l.length-1;y>=0;--y)if(!lA(g,l[y])){var b=l[y],_=f[y];_=Me(_);var T=a.Oc(b);if(_ instanceof ty)g.push(b);else{var N=$o(_,T);N!=null&&(g.push(b),v.set(b,N))}}var O=new Fs(g);return new rA(v,O,a.fieldTransforms)}function uA(t,e,n,i){return i===void 0&&(i=!1),$o(n,t.Uc(i?4:3,e))}function $o(t,e){if(cA(t=Me(t)))return ry("Unsupported field value:",e,t),aA(t,e);if(t instanceof Bo)return function(n,i){if(!iA(i.Nc))throw i.Lc(n._methodName+"() can only be used with update() and set()");if(!i.path)throw i.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&e.Nc!==4)throw e.Lc("Nested arrays are not supported");return function(n,i){for(var o=[],u=0,a=0,l=n;a<l.length;a++){var f=$o(l[a],i.Mc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(n,i){if((n=Me(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return GT(i.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Rn.fromDate(n);return{timestampValue:Ma(i.R,o)}}if(n instanceof Rn)return o=new Rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:Ma(i.R,o)};if(n instanceof fh)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Po)return{bytesValue:rS(i.R,n._byteString)};if(n instanceof Ee){o=i.databaseId;var u=n.firestore._databaseId;if(!u.isEqual(o))throw i.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Cm(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i.Lc("Unsupported field value: "+lh(n))}(t,e)}function aA(t,e){var n={};return LT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(t,function(i,o){var u=$o(o,e.kc(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function cA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rn||t instanceof fh||t instanceof Po||t instanceof Ee||t instanceof Bo)}function ry(t,e,n){if(!cA(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var i=lh(n);throw i==="an object"?e.Lc(t+" a custom object"):e.Lc(t+" "+i)}}function av(t,e,n){if((e=Me(e))instanceof Lr)return e._internalPath;if(typeof e=="string")return iy(t,e);throw mf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var t2=new RegExp("[~\\*/\\[\\]]");function iy(t,e,n){if(e.search(t2)>=0)throw mf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return new(Lr.bind.apply(Lr,Ae([void 0],e.split("."))))()._internalPath}catch{throw mf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function mf(t,e,n,i,o){var u=i&&!i.isEmpty(),a=o!==void 0,l="Function "+e+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(u||a)&&(f+=" (found",u&&(f+=" in field "+i),a&&(f+=" in document "+o),f+=")"),new W(D.INVALID_ARGUMENT,(l+=". ")+t+f)}function lA(t,e){return t.some(function(n){return n.isEqual(e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ba=function(){function t(e,n,i,o,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=u}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ee(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return this._document!==null},t.prototype.data=function(){if(this._document){if(this._converter){var e=new e2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(e){if(this._document){var n=this._document.data.field(yf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}},t}(),e2=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ba);function yf(t,e){return typeof e=="string"?iy(t,e):e instanceof Lr?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bo=function(){function t(e,n){this.hasPendingWrites=e,this.fromCache=n}return t.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},t}(),Zr=function(t){function e(n,i,o,u,a,l){var f=this;return(f=t.call(this,n,i,o,u,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=a,f}return Tt(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var i=new da(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},e.prototype.get=function(n,i){if(i===void 0&&(i={}),this._document){var o=this._document.data.field(yf("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}},e}(Ba),da=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(n){return n===void 0&&(n={}),t.prototype.data.call(this,n)},e}(Zr),Ai=function(){function t(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new bo(o.hasPendingWrites,o.fromCache),this.query=i}return Object.defineProperty(t.prototype,"docs",{get:function(){var e=[];return this.forEach(function(n){return e.push(n)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),t.prototype.forEach=function(e,n){var i=this;this._snapshot.docs.forEach(function(o){e.call(n,new da(i._firestore,i._userDataWriter,o.key,o,new bo(i._snapshot.mutatedKeys.has(o.key),i._snapshot.fromCache),i.query.converter))})},t.prototype.docChanges=function(e){e===void 0&&(e={});var n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){var u=0;return i._snapshot.docChanges.map(function(l){return{type:"added",doc:new da(i._firestore,i._userDataWriter,l.doc.key,l.doc,new bo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:u++}})}var a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new da(i._firestore,i._userDataWriter,l.doc.key,l.doc,new bo(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,g=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(g=(a=a.add(l.doc)).indexOf(l.doc.key)),{type:n2(l.type),doc:f,oldIndex:d,newIndex:g}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},t}();function n2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}function fA(t,e){return t instanceof Zr&&e instanceof Zr?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Ai&&e instanceof Ai&&t._firestore===e._firestore&&eA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){if(af(t)&&t.explicitOrderBy.length===0)throw new W(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cc=function(){};function mi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=0,o=e;i<o.length;i++){var u=o[i];t=u._apply(t)}return t}var r2=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).jc=n,u.Wc=i,u.Gc=o,u.type="where",u}return Tt(e,t),e.prototype._apply=function(n){var i=qo(n.firestore),o=function(u,a,l,f,d,g,v){var y;if(d.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new W(D.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+g+"' queries on FieldPath.documentId().");if(g==="in"||g==="not-in"){$E(v,g);for(var b=[],_=0,T=v;_<T.length;_++){var N=T[_];b.push(qE(f,u,N))}y={arrayValue:{values:b}}}else y=qE(f,u,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||$E(v,g),y=uA(l,"where",v,g==="in"||g==="not-in");var O=Wn.create(d,g,y);return function(P,j){if(j.g()){var q=Sm(P);if(q!==null&&!q.isEqual(j.field))throw new W(D.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+q.toString()+"' and '"+j.field.toString()+"'");var rt=Tm(P);rt!==null&&pA(P,j.field,rt)}var V=function(It,Q){for(var ht=0,A=It.filters;ht<A.length;ht++){var Wt=A[ht];if(Q.indexOf(Wt.op)>=0)return Wt.op}return null}(P,function(It){switch(It){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(V!==null)throw V===j.op?new W(D.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+j.op.toString()+"' filter."):new W(D.INVALID_ARGUMENT,"Invalid query. You cannot use '"+j.op.toString()+"' filters with '"+V.toString()+"' filters.")}(u,O),O}(n._query,0,i,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Xn(n.firestore,n.converter,function(u,a){var l=u.filters.concat([a]);return new ii(u.path,u.collectionGroup,u.explicitOrderBy.slice(),l,u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))},e}(cc),i2=function(t){function e(n,i){var o=this;return(o=t.call(this)||this).jc=n,o.zc=i,o.type="orderBy",o}return Tt(e,t),e.prototype._apply=function(n){var i=function(o,u,a){if(o.startAt!==null)throw new W(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new W(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new ks(u,a);return function(f,d){if(Tm(f)===null){var g=Sm(f);g!==null&&pA(f,g,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new Xn(n.firestore,n.converter,function(o,u){var a=o.explicitOrderBy.concat([u]);return new ii(o.path,o.collectionGroup,a,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,i))},e}(cc),jE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Hc=i,u.Jc=o,u}return Tt(e,t),e.prototype._apply=function(n){return new Xn(n.firestore,n.converter,qT(n._query,this.Hc,this.Jc))},e}(cc),UE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Tt(e,t),e.prototype._apply=function(n){var i=dA(n,this.type,this.Yc,this.Xc);return new Xn(n.firestore,n.converter,function(o,u){return new ii(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(n._query,i))},e}(cc),BE=function(t){function e(n,i,o){var u=this;return(u=t.call(this)||this).type=n,u.Yc=i,u.Xc=o,u}return Tt(e,t),e.prototype._apply=function(n){var i=dA(n,this.type,this.Yc,this.Xc);return new Xn(n.firestore,n.converter,function(o,u){return new ii(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)}(n._query,i))},e}(cc);function dA(t,e,n,i){if(n[0]=Me(n[0]),n[0]instanceof Ba)return function(u,a,l,f,d){if(!f)throw new W(D.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var g=[],v=0,y=Us(u);v<y.length;v++){var b=y[v];if(b.field.isKeyField())g.push(of(a,f.key));else{var _=f.data.field(b.field);if(_m(_))throw new W(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){var T=b.field.canonicalString();throw new W(D.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+T+"' (used as the orderBy) does not exist.")}g.push(_)}}return new La(g,d)}(t._query,t.firestore._databaseId,e,n[0]._document,i);var o=qo(t.firestore);return function(u,a,l,f,d,g){var v=u.explicitOrderBy;if(d.length>v.length)throw new W(D.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var y=[],b=0;b<d.length;b++){var _=d[b];if(v[b].field.isKeyField()){if(typeof _!="string")throw new W(D.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof _);if(!Am(u)&&_.indexOf("/")!==-1)throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+_+"' contains a slash.");var T=u.path.child(ee.fromString(_));if(!bt.isDocumentKey(T))throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+T+"' is not because it contains an odd number of segments.");var N=new bt(T);y.push(of(a,N))}else{var O=uA(l,f,_);y.push(O)}}return new La(y,g)}(t._query,t.firestore._databaseId,o,e,n,i)}function qE(t,e,n){if(typeof(n=Me(n))=="string"){if(n==="")throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Am(e)&&n.indexOf("/")!==-1)throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var i=e.path.child(ee.fromString(n));if(!bt.isDocumentKey(i))throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+i+"' is not because it has an odd number of segments ("+i.length+").");return of(t,new bt(i))}if(n instanceof Ee)return of(t,n._key);throw new W(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+lh(n)+".")}function $E(t,e){if(!Array.isArray(t)||t.length===0)throw new W(D.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new W(D.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function pA(t,e,n){if(!n.isEqual(e))throw new W(D.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oy=function(){function t(){}return t.prototype.convertValue=function(e,n){switch(n===void 0&&(n="none"),Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw yt()}},t.prototype.convertObject=function(e,n){var i=this,o={};return Fo(e.fields,function(u,a){o[u]=i.convertValue(a,n)}),o},t.prototype.convertGeoPoint=function(e){return new fh(De(e.latitude),De(e.longitude))},t.prototype.convertArray=function(e,n){var i=this;return(e.values||[]).map(function(o){return i.convertValue(o,n)})},t.prototype.convertServerTimestamp=function(e,n){switch(n){case"previous":var i=FT(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Da(e));default:return null}},t.prototype.convertTimestamp=function(e){var n=Li(e);return new Rn(n.seconds,n.nanos)},t.prototype.convertDocumentKey=function(e,n){var i=ee.fromString(e);Nt(fS(i));var o=new vf(i.get(1),i.get(3)),u=new bt(i.popFirst(5));return o.isEqual(n)||Pe("Document "+u+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),u},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var o2=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new Po(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(oy),s2=function(){function t(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=qo(e)}return t.prototype.set=function(e,n,i){this._verifyNotCommitted();var o=Ni(e,this._firestore),u=dh(o.converter,n,i),a=hh(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(a.toMutation(o._key,cn.none())),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this._verifyNotCommitted();var a,l=Ni(e,this._firestore);return a=typeof(n=Me(n))=="string"||n instanceof Lr?ny(this._dataReader,"WriteBatch.update",l._key,n,i,o):ey(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(a.toMutation(l._key,cn.exists(!0))),this},t.prototype.delete=function(e){this._verifyNotCommitted();var n=Ni(e,this._firestore);return this._mutations=this._mutations.concat(new uc(n._key,cn.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new W(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){if((t=Me(t)).firestore!==e)throw new W(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new Po(n)},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return new Ee(this.firestore,null,i)},e}(oy);function KE(t,e,n){t=ne(t,Ee);var i=ne(t.firestore,qe),o=dh(t.converter,e,n);return lc(i,[hh(qo(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,cn.none())])}function HE(t,e,n){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];t=ne(t,Ee);var u=ne(t.firestore,qe),a=qo(u);return lc(u,[(typeof(e=Me(e))=="string"||e instanceof Lr?ny(a,"updateDoc",t._key,e,n,i):ey(a,"updateDoc",t._key,e)).toMutation(t._key,cn.exists(!0))])}function gA(t){for(var e,n,i,o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];t=Me(t);var a={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Xs(o[l])||(a=o[l],l++);var f,d,g,v={includeMetadataChanges:a.includeMetadataChanges};if(Xs(o[l])){var y=o[l];o[l]=(e=y.next)===null||e===void 0?void 0:e.bind(y),o[l+1]=(n=y.error)===null||n===void 0?void 0:n.bind(y),o[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}if(t instanceof Ee)d=ne(t.firestore,qe),g=nc(t._key.path),f={next:function(T){o[l]&&o[l](cv(d,t,T))},error:o[l+1],complete:o[l+2]};else{var b=ne(t,Xn);d=ne(b.firestore,qe),g=b._query;var _=new So(d);f={next:function(T){o[l]&&o[l](new Ai(d,_,b,T))},error:o[l+1],complete:o[l+2]},hA(t._query)}return function(T,N,O,P){var j=this,q=new ah(P),rt=new Km(N,q,O);return T.asyncQueue.enqueueAndForget(function(){return z(j,void 0,void 0,function(){var V;return K(this,function(It){switch(It.label){case 0:return V=Bm,[4,Ys(T)];case 1:return[2,V.apply(void 0,[It.sent(),rt])]}})})}),function(){q.Wo(),T.asyncQueue.enqueueAndForget(function(){return z(j,void 0,void 0,function(){var V;return K(this,function(It){switch(It.label){case 0:return V=qm,[4,Ys(T)];case 1:return[2,V.apply(void 0,[It.sent(),rt])]}})})})}}(sn(d),g,v,f)}function lc(t,e){return function(n,i){var o=this,u=new Ln;return n.asyncQueue.enqueueAndForget(function(){return z(o,void 0,void 0,function(){var a;return K(this,function(l){switch(l.label){case 0:return a=_F,[4,YS(n)];case 1:return[2,a.apply(void 0,[l.sent(),i,u])]}})})}),u.promise}(sn(t),e)}function cv(t,e,n){var i=n.docs.get(e._key),o=new So(t);return new Zr(t,o,e._key,i,new bo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var u2=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this)._firestore=n,o}return Tt(e,t),e.prototype.get=function(n){var i=this,o=Ni(n,this._firestore),u=new So(this._firestore);return t.prototype.get.call(this,n).then(function(a){return new Zr(i._firestore,u,o._key,a._document,new bo(!1,!1),o.converter)})},e}(function(){function t(e,n){this._firestore=e,this._transaction=n,this._dataReader=qo(e)}return t.prototype.get=function(e){var n=this,i=Ni(e,this._firestore),o=new o2(this._firestore);return this._transaction.lookup([i._key]).then(function(u){if(!u||u.length!==1)return yt();var a=u[0];if(a.isFoundDocument())return new Ba(n._firestore,o,a.key,a,i.converter);if(a.isNoDocument())return new Ba(n._firestore,o,i._key,null,i.converter);throw yt()})},t.prototype.set=function(e,n,i){var o=Ni(e,this._firestore),u=dh(o.converter,n,i),a=hh(this._dataReader,"Transaction.set",o._key,u,o.converter!==null,i);return this._transaction.set(o._key,a),this},t.prototype.update=function(e,n,i){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];var a,l=Ni(e,this._firestore);return a=typeof(n=Me(n))=="string"||n instanceof Lr?ny(this._dataReader,"Transaction.update",l._key,n,i,o):ey(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,a),this},t.prototype.delete=function(e){var n=Ni(e,this._firestore);return this._transaction.delete(n._key),this},t}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(){if(typeof Uint8Array>"u")throw new W(D.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function GE(){if(typeof atob>"u")throw new W(D.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vA=function(){function t(e){this._delegate=e}return t.fromBase64String=function(e){return GE(),new t(Po.fromBase64String(e))},t.fromUint8Array=function(e){return zE(),new t(Po.fromUint8Array(e))},t.prototype.toBase64=function(){return GE(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return zE(),this._delegate.toUint8Array()},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),a2=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(e,n){return function(i,o){VE(i=ne(i,qe));var u=sn(i),a=i._freezeSettings(),l=new uv;return FE(u,l,new zS(l,a.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(e._delegate,{forceOwnership:n})},t.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(n){VE(n=ne(n,qe));var i=sn(n),o=n._freezeSettings(),u=new uv;return FE(i,u,new MF(u,o.cacheSizeBytes))}(e._delegate)},t.prototype.clearIndexedDbPersistence=function(e){return function(n){var i=this;if(n._initialized&&!n._terminated)throw new W(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new Ln;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return z(i,void 0,void 0,function(){var u;return K(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,function(l){return z(this,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return Hs.yt()?(f=l+"main",[4,Hs.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}(Lm(n._databaseId,n._persistenceKey))];case 1:return a.sent(),o.resolve(),[3,3];case 2:return u=a.sent(),o.reject(u),[3,3];case 3:return[2]}})})}),o.promise}(e._delegate)},t}(),mA=function(){function t(e,n,i){var o=this;this._delegate=n,this.Zc=i,this.INTERNAL={delete:function(){return o.terminate()}},e instanceof vf||(this.tu=e)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(e){var n=this._delegate._getSettings();e.merge||n.host===e.host||nf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)},t.prototype.useEmulator=function(e,n,i){i===void 0&&(i={}),function(o,u,a,l){var f;l===void 0&&(l={});var d=(o=ne(o,Ua))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==u&&nf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:u+":"+a,ssl:!1})),l.mockUserToken){var g,v;if(typeof l.mockUserToken=="string")g=l.mockUserToken,v=Qe.MOCK_USER;else{g=CD(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var y=l.mockUserToken.sub||l.mockUserToken.user_id;if(!y)throw new W(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Qe(y)}o._credentials=new BF(new XS(g,v))}}(this._delegate,e,n,i)},t.prototype.enableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return[4,NE(e)];case 1:return i=u.sent(),[4,kE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!0),function(a){var l=ot(a);return l.Or.delete(0),ac(l)}(o))]}})})})}(sn(ne(this._delegate,qe)))},t.prototype.disableNetwork=function(){return function(e){var n=this;return e.asyncQueue.enqueue(function(){return z(n,void 0,void 0,function(){var i,o;return K(this,function(u){switch(u.label){case 0:return[4,NE(e)];case 1:return i=u.sent(),[4,kE(e)];case 2:return o=u.sent(),[2,(i.setNetworkEnabled(!1),function(a){return z(this,void 0,void 0,function(){var l;return K(this,function(f){switch(f.label){case 0:return(l=ot(a)).Or.add(0),[4,uu(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(sn(ne(this._delegate,qe)))},t.prototype.enablePersistence=function(e){var n=!1,i=!1;return e&&JS("synchronizeTabs",n=!!e.synchronizeTabs,"experimentalForceOwningTab",i=!!e.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,i)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(e){var n=this,i=new Ln;return e.asyncQueue.enqueueAndForget(function(){return z(n,void 0,void 0,function(){var o;return K(this,function(u){switch(u.label){case 0:return o=SF,[4,YS(e)];case 1:return[2,o.apply(void 0,[u.sent(),i])]}})})}),i.promise}(sn(ne(this._delegate,qe)))},t.prototype.onSnapshotsInSync=function(e){return function(n,i){return function(o,u){var a=this,l=new ah(u);return o.asyncQueue.enqueueAndForget(function(){return z(a,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return f=function(g,v){ot(g).Gr.add(v),v.next()},[4,Ys(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return z(a,void 0,void 0,function(){var f;return K(this,function(d){switch(d.label){case 0:return f=function(g,v){ot(g).Gr.delete(v)},[4,Ys(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(sn(n=ne(n,qe)),Xs(i)?i:{next:i})}(this._delegate,e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new W(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new wf(this,ZS(this._delegate,e))}catch(n){throw vn(n,"collection()","Firestore.collection()")}},t.prototype.doc=function(e){try{return new Ao(this,jl(this._delegate,e))}catch(n){throw vn(n,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(e){try{return new vh(this,function(n,i){if(n=ne(n,Ua),Jm("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new W(D.INVALID_ARGUMENT,"Invalid collection ID '"+i+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Xn(n,null,function(o){return new ii(ee.emptyPath(),o)}(i))}(this._delegate,e))}catch(n){throw vn(n,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(e){var n=this;return function(i,o){return function(u,a){var l=this,f=new Ln;return u.asyncQueue.enqueueAndForget(function(){return z(l,void 0,void 0,function(){var d;return K(this,function(g){switch(g.label){case 0:return[4,function(v){return ch(v).then(function(y){return y.datastore})}(u)];case 1:return d=g.sent(),new VF(u.asyncQueue,d,a,f).run(),[2]}})})}),f.promise}(sn(i),function(u){return o(new u2(i,u))})}(this._delegate,function(i){return e(new yA(n,i))})},t.prototype.batch=function(){var e=this;return sn(this._delegate),new wA(new s2(this._delegate,function(n){return lc(e._delegate,n)}))},t.prototype.loadBundle=function(e){throw new W(D.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(e){throw new W(D.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),ph=function(t){function e(n){var i=this;return(i=t.call(this)||this).firestore=n,i}return Tt(e,t),e.prototype.convertBytes=function(n){return new vA(new Po(n))},e.prototype.convertReference=function(n){var i=this.convertDocumentKey(n,this.firestore._databaseId);return Ao.eu(i,this.firestore,null)},e}(oy);function c2(t){var e;e=t,mr.setLogLevel(e)}var yA=function(){function t(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ph(e)}return t.prototype.get=function(e){var n=this,i=_o(e);return this._delegate.get(i).then(function(o){return new qa(n._firestore,new Zr(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,i.converter))})},t.prototype.set=function(e,n,i){var o=_o(e);return i?(Zm("Transaction.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=_o(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ae([l,n,i],u)),this},t.prototype.delete=function(e){var n=_o(e);return this._delegate.delete(n),this},t}(),wA=function(){function t(e){this._delegate=e}return t.prototype.set=function(e,n,i){var o=_o(e);return i?(Zm("WriteBatch.set",i),this._delegate.set(o,n,i)):this._delegate.set(o,n),this},t.prototype.update=function(e,n,i){for(var o,u=[],a=3;a<arguments.length;a++)u[a-3]=arguments[a];var l=_o(e);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,Ae([l,n,i],u)),this},t.prototype.delete=function(e){var n=_o(e);return this._delegate.delete(n),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),gh=function(){function t(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}return t.prototype.fromFirestore=function(e,n){var i=new da(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new $a(this._firestore,i),n??{})},t.prototype.toFirestore=function(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)},t.nu=function(e,n){var i=t.su,o=i.get(e);o||(o=new WeakMap,i.set(e,o));var u=o.get(n);return u||(u=new t(e,new ph(e),n),o.set(n,u)),u},t}();gh.su=new WeakMap;var Ao=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ph(e)}return t.iu=function(e,n,i){if(e.length%2!=0)throw new W(D.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ee(n._delegate,i,new bt(e)))},t.eu=function(e,n,i){return new t(n,new Ee(n._delegate,i,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new wf(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){try{return new wf(this.firestore,ZS(this._delegate,e))}catch(n){throw vn(n,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(e){return(e=Me(e))instanceof Ee&&tA(this._delegate,e)},t.prototype.set=function(e,n){n=Zm("DocumentReference.set",n);try{return n?KE(this._delegate,e,n):KE(this._delegate,e)}catch(i){throw vn(i,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];try{return arguments.length===1?HE(this._delegate,e):HE.apply(void 0,Ae([this._delegate,e,n],i))}catch(u){throw vn(u,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return lc(ne((e=this._delegate).firestore,qe),[new uc(e._key,cn.none())]);var e},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=bA(n),u=_A(n,function(a){return new qa(e.firestore,new Zr(e.firestore._delegate,e._userDataWriter,a._key,a._document,a.metadata,e._delegate.converter))});return gA(this._delegate,o,u)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ne(i,Ee);var o=ne(i.firestore,qe),u=sn(o),a=new So(o);return function(l,f){var d=this,g=new Ln;return l.asyncQueue.enqueueAndForget(function(){return z(d,void 0,void 0,function(){var v;return K(this,function(y){switch(y.label){case 0:return v=function(b,_,T){return z(this,void 0,void 0,function(){var N,O;return K(this,function(P){switch(P.label){case 0:return P.trys.push([0,2,,3]),[4,function(j,q){var rt=ot(j);return rt.persistence.runTransaction("read document","readonly",function(V){return rt.Mn.mn(V,q)})}(b,_)];case 1:return(O=P.sent()).isFoundDocument()?T.resolve(O):O.isNoDocument()?T.resolve(null):T.reject(new W(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return N=P.sent(),O=lu(N,"Failed to get document '"+_+" from cache"),T.reject(O),[3,3];case 3:return[2]}})})},[4,QS(l)];case 1:return[2,v.apply(void 0,[y.sent(),f,g])]}})})}),g.promise}(u,i._key).then(function(l){return new Zr(o,a,i._key,l,new bo(l!==null&&l.hasLocalMutations,!0),i.converter)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ne(i,Ee);var o=ne(i.firestore,qe);return xE(sn(o),i._key,{source:"server"}).then(function(u){return cv(o,i,u)})}(this._delegate):function(i){i=ne(i,Ee);var o=ne(i.firestore,qe);return xE(sn(o),i._key).then(function(u){return cv(o,i,u)})}(this._delegate)).then(function(i){return new qa(n.firestore,new Zr(n.firestore._delegate,n._userDataWriter,i._key,i._document,i.metadata,n._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(gh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function vn(t,e,n){return t.message=t.message.replace(e,n),t}function bA(t){for(var e=0,n=t;e<n.length;e++){var i=n[e];if(typeof i=="object"&&!Xs(i))return i}return{}}function _A(t,e){var n,i,o;return{next:function(u){o.next&&o.next(e(u))},error:(n=(o=Xs(t[0])?t[0]:Xs(t[1])?t[1]:typeof t[0]=="function"?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(i=o.complete)===null||i===void 0?void 0:i.bind(o)}}var qa=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(e){return this._delegate.data(e)},t.prototype.get=function(e,n){return this._delegate.get(e,n)},t.prototype.isEqual=function(e){return fA(this._delegate,e._delegate)},t}(),$a=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Tt(e,t),e.prototype.data=function(n){return this._delegate.data(n)},e}(qa),vh=function(){function t(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ph(e)}return t.prototype.where=function(e,n,i){try{return new t(this.firestore,mi(this._delegate,function(o,u,a){var l=u,f=yf("where",o);return new r2(f,l,a)}(e,n,i)))}catch(o){throw vn(o,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,mi(this._delegate,function(i,o){o===void 0&&(o="asc");var u=o,a=yf("orderBy",i);return new i2(a,u)}(e,n)))}catch(i){throw vn(i,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,mi(this._delegate,function(n){return LE("limit",n),new jE("limit",n,"F")}(e)))}catch(n){throw vn(n,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,mi(this._delegate,function(n){return LE("limitToLast",n),new jE("limitToLast",n,"L")}(e)))}catch(n){throw vn(n,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new UE("startAt",i,!0)}).apply(void 0,e)))}catch(i){throw vn(i,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new UE("startAfter",i,!1)}).apply(void 0,e)))}catch(i){throw vn(i,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new BE("endBefore",i,!0)}).apply(void 0,e)))}catch(i){throw vn(i,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,mi(this._delegate,(function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return new BE("endAt",i,!1)}).apply(void 0,e)))}catch(i){throw vn(i,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(e){return eA(this._delegate,e._delegate)},t.prototype.get=function(e){var n=this;return((e==null?void 0:e.source)==="cache"?function(i){i=ne(i,Xn);var o=ne(i.firestore,qe),u=sn(o),a=new So(o);return function(l,f){var d=this,g=new Ln;return l.asyncQueue.enqueueAndForget(function(){return z(d,void 0,void 0,function(){var v;return K(this,function(y){switch(y.label){case 0:return v=function(b,_,T){return z(this,void 0,void 0,function(){var N,O,P,j,q;return K(this,function(rt){switch(rt.label){case 0:return rt.trys.push([0,2,,3]),[4,df(b,_,!0)];case 1:return q=rt.sent(),N=new BS(_,q.Bn),O=N._o(q.documents),P=N.applyChanges(O,!1),T.resolve(P.snapshot),[3,3];case 2:return j=rt.sent(),q=lu(j,"Failed to execute query '"+_+" against cache"),T.reject(q),[3,3];case 3:return[2]}})})},[4,QS(l)];case 1:return[2,v.apply(void 0,[y.sent(),f,g])]}})})}),g.promise}(u,i._query).then(function(l){return new Ai(o,a,i,l)})}(this._delegate):(e==null?void 0:e.source)==="server"?function(i){i=ne(i,Xn);var o=ne(i.firestore,qe),u=sn(o),a=new So(o);return CE(u,i._query,{source:"server"}).then(function(l){return new Ai(o,a,i,l)})}(this._delegate):function(i){i=ne(i,Xn);var o=ne(i.firestore,qe),u=sn(o),a=new So(o);return hA(i._query),CE(u,i._query).then(function(l){return new Ai(o,a,i,l)})}(this._delegate)).then(function(i){return new lv(n.firestore,new Ai(n.firestore._delegate,n._userDataWriter,n._delegate,i._snapshot))})},t.prototype.onSnapshot=function(){for(var e=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=bA(n),u=_A(n,function(a){return new lv(e.firestore,new Ai(e.firestore._delegate,e._userDataWriter,e._delegate,a._snapshot))});return gA(this._delegate,o,u)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(gh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),l2=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new $a(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),lv=function(){function t(e,n){this._firestore=e,this._delegate=n}return Object.defineProperty(t.prototype,"query",{get:function(){return new vh(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(n){return new $a(e._firestore,n)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(e){var n=this;return this._delegate.docChanges(e).map(function(i){return new l2(n._firestore,i)})},t.prototype.forEach=function(e,n){var i=this;this._delegate.forEach(function(o){e.call(n,new $a(i._firestore,o))})},t.prototype.isEqual=function(e){return fA(this._delegate,e._delegate)},t}(),wf=function(t){function e(n,i){var o=this;return(o=t.call(this,n,i)||this).firestore=n,o._delegate=i,o}return Tt(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ao(this.firestore,n):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(n){try{return new Ao(this.firestore,n===void 0?jl(this._delegate):jl(this._delegate,n))}catch(i){throw vn(i,"doc()","CollectionReference.doc()")}},e.prototype.add=function(n){var i=this;return function(o,u){var a=ne(o.firestore,qe),l=jl(o),f=dh(o.converter,u);return lc(a,[hh(qo(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,cn.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Ao(i.firestore,o)})},e.prototype.isEqual=function(n){return tA(this._delegate,n._delegate)},e.prototype.withConverter=function(n){return new e(this.firestore,n?this._delegate.withConverter(gh.nu(this.firestore,n)):this._delegate.withConverter(null))},e}(vh);function _o(t){return ne(t,Ee)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f2=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._delegate=new(Lr.bind.apply(Lr,Ae([void 0],e)))}return t.documentId=function(){return new t(br.keyField().canonicalString())},t.prototype.isEqual=function(e){return(e=Me(e))instanceof Lr&&this._delegate._internalPath.isEqual(e._internalPath)},t}(),h2=function(){function t(e){this._delegate=e}return t.serverTimestamp=function(){var e=new YF("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new ty("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new XF("arrayUnion",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayUnion",new t(i)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=(function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new JF("arrayRemove",o)}).apply(void 0,e);return i._methodName="FieldValue.arrayRemove",new t(i)},t.increment=function(e){var n=function(i){return new ZF("increment",i)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},t}(),d2={Firestore:mA,GeoPoint:fh,Timestamp:Rn,Blob:vA,Transaction:yA,WriteBatch:wA,DocumentReference:Ao,DocumentSnapshot:qa,Query:vh,QueryDocumentSnapshot:$a,QuerySnapshot:lv,CollectionReference:wf,FieldPath:f2,FieldValue:h2,setLogLevel:c2,CACHE_SIZE_UNLIMITED:zF};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){(function(e,n){e.INTERNAL.registerComponent(new Bf("firestore",function(i){var o=i.getProvider("app").getImmediate();return n(o,i.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},d2)))})(t,function(e,n){return new mA(e,new qe(e,n),new a2)}),t.registerVersion("@firebase/firestore","2.4.1")}p2(xt);const g2={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};xt.initializeApp(g2);const Yr=xt.auth(),v2=xt.firestore(),m2=v2.collection("users"),mh=Kv("user",{state:()=>({userLoggedIn:!1}),actions:{async register(t){const e=await Yr.createUserWithEmailAndPassword(t.email,t.password),n={name:t.name,email:t.email,birthdate:t.birthdate,country:t.country,phone:t.phone};Object.keys(n).forEach(i=>{(n[i]===void 0||n[i]===null||n[i]==="")&&delete n[i]}),await m2.doc(e.user.uid).set({userData:n}),await e.user.updateProfile({displayName:t.name}),this.userLoggedIn=!0},async authenticate(t){await Yr.signInWithEmailAndPassword(t.email,t.password),this.userLoggedIn=!0},async signOut(){await Yr.signOut(),this.userLoggedIn=!1,window.location.reload()}}}),jr=(t,e)=>{const n=t.__vccOpts||t;for(const[i,o]of e)n[i]=o;return n},y2={name:"AppHeader",computed:{...ID(Hl,mh),...zv(Hl,["isOpen"])},methods:{toggleAuthModal(){this.isOpen=!this.isOpen}}},w2={id:"header",class:"fixed top-0 z-20 w-full font-circular-black bg-neutral-900"},b2={class:"flex items-center py-5 md:px-10 sm:px-10"},_2={class:"flex flex-grow items-center justify-end"},E2={class:"flex flex-row mt-1 gap-1"},I2=Bv('<li class="p-1 pr-2 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"><a class="text-white text-sm flex gap-1 items-center" href="https://www.spotify.com/es/download/windows/" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="hidden md:block">Install app</span></a></li>',1),T2={class:"p-1 pr-2 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},S2=$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),A2=$("span",{class:"hidden md:block"},"Login/Register",-1),N2=[S2,A2],k2=$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),x2=$("span",{class:"hidden md:block"},"Logout",-1),C2=[k2,x2],O2=$("div",null,null,-1),R2={class:"p-1 bg-neutral-900 bg-opacity-60 rounded-full hover:scale-105 hover:bg-opacity-90"},D2=$("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),$("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1);function P2(t,e,n,i,o,u){const a=On("RouterLink");return Be(),an("header",w2,[$("nav",b2,[jt(a,{class:"text-[#1ed760] font-bold text-2xl justify-center hover:scale-105",to:"/"},{default:Gr(()=>[Jn(" Musicfy ")]),_:1}),$("div",_2,[$("ul",E2,[I2,$("li",T2,[t.userStore.userLoggedIn?(Be(),an("a",{key:1,class:"text-white text-sm flex gap-1 items-center",href:"#",onClick:e[1]||(e[1]=Ds((...l)=>t.userStore.signOut&&t.userStore.signOut(...l),["prevent"]))},C2)):(Be(),an("a",{key:0,class:"text-white text-sm flex gap-1 items-center",href:"#",onClick:e[0]||(e[0]=Ds((...l)=>u.toggleAuthModal&&u.toggleAuthModal(...l),["prevent"]))},N2)),O2]),tR($("li",R2,[jt(a,{class:"text-white",to:"/manage"},{default:Gr(()=>[D2]),_:1})],512),[[lD,t.userStore.userLoggedIn]])])])])])}const L2=jr(y2,[["render",P2]]),M2={name:"LoginForm",data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},togglePassword:!1,login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Your account is being created. "}},methods:{...Uf(mh,["authenticate"]),async login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(t)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.login_alert_variant="bg-[#1ed760]",this.login_alert_msg="Success! Login completed.",window.location.reload()}}},F2={class:"mb-3"},V2=$("label",{class:"inline-block mb-2"},"Email",-1),j2={class:"mb-3"},U2=$("label",{class:"inline-block mb-2"},"Password",-1),B2={class:"flex items-center"},q2=["type"],$2=["disabled"];function K2(t,e,n,i,o,u){const a=On("VeeField"),l=On("ErrorMessage"),f=On("VeeForm");return Be(),an(Kn,null,[o.login_show_alert?(Be(),an("div",{key:0,class:Qn(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},ya(o.login_alert_msg),3)):y1("",!0),jt(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:u.login},{default:Gr(()=>[$("div",F2,[V2,jt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"your@email.com",autocomplete:"email"}),jt(l,{class:"text-red-600 block",name:"email"})]),$("div",j2,[U2,jt(a,{name:"password",bails:!1},{default:Gr(({field:d,errors:g})=>[$("div",B2,[$("input",Ta(d,{type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"Password",autocomplete:"current-password"}),null,16,q2),$("i",{onClick:e[0]||(e[0]=v=>o.togglePassword=!o.togglePassword),class:Qn(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),jt(l,Ta(g,{class:"text-red-600 block",name:"password"}),null,16)]),_:1})]),$("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,$2)]),_:1},8,["validation-schema","onSubmit"])],64)}const H2=jr(M2,[["render",K2]]),z2={name:"RegisterForm",data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},togglePassword:!1,toggleConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_success_msg:"Success! Your account has been created.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500",reg_success_variant:"bg-[#1ed760]"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(t){this.initRegisterAlert();try{await this.createUser(t)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.reg_alert_variant=this.reg_success_variant,this.reg_alert_msg=this.reg_success_msg,window.location.reload()},...Uf(mh,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},G2={class:""},W2=$("label",{class:"select-none group"},[Jn("Name "),$("sup",{class:""},"*"),$("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),Q2={class:""},Y2=$("label",{class:"select-none group"},[Jn("Email "),$("sup",{class:""},"*"),$("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),X2={class:""},J2=$("label",{class:"select-none"},"Phone",-1),Z2={class:""},tV=$("label",{class:"select-none group"},[Jn("Birthdate "),$("sup",{class:""},"*"),$("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),eV={class:""},nV=$("label",{class:"select-none group"},[Jn("Password "),$("sup",{class:""},"*"),$("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),rV={class:"flex items-center"},iV=["type"],oV={class:""},sV=$("label",{class:"select-none group"},[Jn("Confirm Password "),$("sup",{class:""},"*"),$("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),uV={class:"flex items-center"},aV=["type"],cV={class:""},lV=$("label",{class:"select-none group"},[Jn("Country "),$("sup",{class:""},"*"),$("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),fV=$("option",{value:"Argentina"},"Argentina",-1),hV=$("option",{value:"United States"},"United States",-1),dV=$("option",{value:"Spain"},"Spain",-1),pV=$("option",{value:"Germany"},"Germany",-1),gV=$("option",{value:"Antarctica"},"Antarctica",-1),vV=$("option",{value:"Other"},"Other",-1),mV={class:"mb-3 pl-6"},yV={class:"inline-block hover:cursor-pointer"},wV=$("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function bV(t,e,n,i,o,u){const a=On("VeeField"),l=On("ErrorMessage"),f=On("VeeForm");return Be(),an(Kn,null,[o.reg_show_alert?(Be(),an("div",{key:0,class:Qn(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},ya(o.reg_alert_msg),3)):y1("",!0),jt(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:u.register,"initial-values":o.userData},{default:Gr(()=>[$("div",G2,[W2,jt(a,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),jt(l,{class:"text-red-600",name:"name"})]),$("div",Q2,[Y2,jt(a,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),jt(l,{class:"text-red-600",name:"email"})]),$("div",X2,[J2,jt(a,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your phone"}),jt(l,{class:"text-red-600",name:"phone"})]),$("div",Z2,[tV,jt(a,{name:"birthdate",type:"date",min:"1900-01-01",max:u.maxBirthdate,class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),jt(l,{class:"text-red-600",name:"birthdate"})]),$("div",eV,[nV,jt(a,{name:"password",bails:!1},{default:Gr(({field:d,errors:g})=>[$("div",rV,[$("input",Ta(d,{placeholder:"Enter new Password",type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,iV),$("i",{onClick:e[0]||(e[0]=v=>o.togglePassword=!o.togglePassword),class:Qn(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),(Be(!0),an(Kn,null,fR(g,v=>(Be(),an("div",{class:"text-red-600",key:v},ya(v),1))),128))]),_:1})]),$("div",oV,[sV,jt(a,{name:"confirmPassword",bails:!1},{default:Gr(({field:d})=>[$("div",uV,[$("input",Ta(d,{type:o.toggleConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),null,16,aV),$("i",{onClick:e[1]||(e[1]=g=>o.toggleConfirmPassword=!o.toggleConfirmPassword),class:Qn(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.toggleConfirmPassword,"fa-regular fa-eye":!o.toggleConfirmPassword}])},null,2)])]),_:1}),jt(l,{class:"text-red-600",name:"confirmPassword"})]),$("div",cV,[lV,jt(a,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:Gr(()=>[fV,hV,dV,pV,gV,vV]),_:1}),jt(l,{class:"text-red-600",name:"country"})]),$("div",mV,[$("label",yV,[jt(a,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),Jn(" Accept terms of service")]),jt(l,{class:"text-red-600 block",name:"tos"})]),wV]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const _V=jr(z2,[["render",bV]]),EV={name:"AppAuth",components:{AppLoginForm:H2,AppRegisterForm:_V},data(){return{tab:"login"}},computed:{...Hv(Hl,["hiddenClass"]),...zv(Hl,{modalVisibility:"isOpen"})},methods:{}},IV={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},TV=$("div",{class:"fixed inset-0 transition-opacity"},[$("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),SV=$("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),AV={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},NV={class:"py-4 text-left px-6"},kV={class:"flex justify-between items-center pb-4"},xV=$("p",{class:"text-2xl font-bold"},"Your Account",-1),CV=$("i",{class:"fas fa-times"},null,-1),OV=[CV],RV={class:"flex flex-wrap mb-4 gap-2"},DV={class:"flex-auto text-center"},PV={class:"flex-auto text-center"};function LV(t,e,n,i,o,u){const a=On("AppLoginForm"),l=On("AppRegisterForm");return Be(),an("div",{class:Qn(["fixed z-10 inset-0 overflow-y-auto",t.hiddenClass]),id:"modal"},[$("div",IV,[TV,SV,$("div",AV,[$("div",NV,[$("div",kV,[xV,$("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=f=>t.modalVisibility=!1)},OV)]),$("ul",RV,[$("li",DV,[$("a",{class:Qn(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:e[1]||(e[1]=Ds(f=>o.tab="login",["prevent"]))},"Login",2)]),$("li",PV,[$("a",{class:Qn(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:e[2]||(e[2]=Ds(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(Be(),Og(a,{key:0})):(Be(),Og(l,{key:1}))])])])],2)}const MV=jr(EV,[["render",LV]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const _s=typeof window<"u";function FV(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ie=Object.assign;function vg(t,e){const n={};for(const i in e){const o=e[i];n[i]=_r(o)?o.map(t):t(o)}return n}const pa=()=>{},_r=Array.isArray,VV=/\/$/,jV=t=>t.replace(VV,"");function mg(t,e,n="/"){let i,o={},u="",a="";const l=e.indexOf("#");let f=e.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(i=e.slice(0,f),u=e.slice(f+1,l>-1?l:e.length),o=t(u)),l>-1&&(i=i||e.slice(0,l),a=e.slice(l,e.length)),i=$V(i??e,n),{fullPath:i+(u&&"?")+u+a,path:i,query:o,hash:a}}function UV(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function WE(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function BV(t,e,n){const i=e.matched.length-1,o=n.matched.length-1;return i>-1&&i===o&&Js(e.matched[i],n.matched[o])&&EA(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Js(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function EA(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!qV(t[n],e[n]))return!1;return!0}function qV(t,e){return _r(t)?QE(t,e):_r(e)?QE(e,t):t===e}function QE(t,e){return _r(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function $V(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),o=i[i.length-1];(o===".."||o===".")&&i.push("");let u=n.length-1,a,l;for(a=0;a<i.length;a++)if(l=i[a],l!==".")if(l==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+i.slice(a-(a===i.length?1:0)).join("/")}var Ka;(function(t){t.pop="pop",t.push="push"})(Ka||(Ka={}));var ga;(function(t){t.back="back",t.forward="forward",t.unknown=""})(ga||(ga={}));function KV(t){if(!t)if(_s){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),jV(t)}const HV=/^[^#]+#/;function zV(t,e){return t.replace(HV,"#")+e}function GV(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const yh=()=>({left:window.pageXOffset,top:window.pageYOffset});function WV(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;e=GV(o,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function YE(t,e){return(history.state?history.state.position-e:-1)+t}const fv=new Map;function QV(t,e){fv.set(t,e)}function YV(t){const e=fv.get(t);return fv.delete(t),e}let XV=()=>location.protocol+"//"+location.host;function IA(t,e){const{pathname:n,search:i,hash:o}=e,u=t.indexOf("#");if(u>-1){let l=o.includes(t.slice(u))?t.slice(u).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),WE(f,"")}return WE(n,t)+i+o}function JV(t,e,n,i){let o=[],u=[],a=null;const l=({state:y})=>{const b=IA(t,location),_=n.value,T=e.value;let N=0;if(y){if(n.value=b,e.value=y,a&&a===_){a=null;return}N=T?y.position-T.position:0}else i(b);o.forEach(O=>{O(n.value,_,{delta:N,type:Ka.pop,direction:N?N>0?ga.forward:ga.back:ga.unknown})})};function f(){a=n.value}function d(y){o.push(y);const b=()=>{const _=o.indexOf(y);_>-1&&o.splice(_,1)};return u.push(b),b}function g(){const{history:y}=window;y.state&&y.replaceState(ie({},y.state,{scroll:yh()}),"")}function v(){for(const y of u)y();u=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",g)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",g,{passive:!0}),{pauseListeners:f,listen:d,destroy:v}}function XE(t,e,n,i=!1,o=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:o?yh():null}}function ZV(t){const{history:e,location:n}=window,i={value:IA(t,n)},o={value:e.state};o.value||u(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function u(f,d,g){const v=t.indexOf("#"),y=v>-1?(n.host&&document.querySelector("base")?t:t.slice(v))+f:XV()+t+f;try{e[g?"replaceState":"pushState"](d,"",y),o.value=d}catch(b){console.error(b),n[g?"replace":"assign"](y)}}function a(f,d){const g=ie({},e.state,XE(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});u(f,g,!0),i.value=f}function l(f,d){const g=ie({},o.value,e.state,{forward:f,scroll:yh()});u(g.current,g,!0);const v=ie({},XE(i.value,f,null),{position:g.position+1},d);u(f,v,!1),i.value=f}return{location:i,state:o,push:l,replace:a}}function tj(t){t=KV(t);const e=ZV(t),n=JV(t,e.state,e.location,e.replace);function i(u,a=!0){a||n.pauseListeners(),history.go(u)}const o=ie({location:"",base:t,go:i,createHref:zV.bind(null,t)},e,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>e.state.value}),o}function ej(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),tj(t)}function nj(t){return typeof t=="string"||t&&typeof t=="object"}function TA(t){return typeof t=="string"||typeof t=="symbol"}const yi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},SA=Symbol("");var JE;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(JE||(JE={}));function Zs(t,e){return ie(new Error,{type:t,[SA]:!0},e)}function Hr(t,e){return t instanceof Error&&SA in t&&(e==null||!!(t.type&e))}const ZE="[^/]+?",rj={sensitive:!1,strict:!1,start:!0,end:!0},ij=/[.+*?^${}()[\]/\\]/g;function oj(t,e){const n=ie({},rj,e),i=[];let o=n.start?"^":"";const u=[];for(const d of t){const g=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let v=0;v<d.length;v++){const y=d[v];let b=40+(n.sensitive?.25:0);if(y.type===0)v||(o+="/"),o+=y.value.replace(ij,"\\$&"),b+=40;else if(y.type===1){const{value:_,repeatable:T,optional:N,regexp:O}=y;u.push({name:_,repeatable:T,optional:N});const P=O||ZE;if(P!==ZE){b+=10;try{new RegExp(`(${P})`)}catch(q){throw new Error(`Invalid custom RegExp for param "${_}" (${P}): `+q.message)}}let j=T?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;v||(j=N&&d.length<2?`(?:/${j})`:"/"+j),N&&(j+="?"),o+=j,b+=20,N&&(b+=-8),T&&(b+=-20),P===".*"&&(b+=-50)}g.push(b)}i.push(g)}if(n.strict&&n.end){const d=i.length-1;i[d][i[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const a=new RegExp(o,n.sensitive?"":"i");function l(d){const g=d.match(a),v={};if(!g)return null;for(let y=1;y<g.length;y++){const b=g[y]||"",_=u[y-1];v[_.name]=b&&_.repeatable?b.split("/"):b}return v}function f(d){let g="",v=!1;for(const y of t){(!v||!g.endsWith("/"))&&(g+="/"),v=!1;for(const b of y)if(b.type===0)g+=b.value;else if(b.type===1){const{value:_,repeatable:T,optional:N}=b,O=_ in d?d[_]:"";if(_r(O)&&!T)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const P=_r(O)?O.join("/"):O;if(!P)if(N)y.length<2&&(g.endsWith("/")?g=g.slice(0,-1):v=!0);else throw new Error(`Missing required param "${_}"`);g+=P}}return g||"/"}return{re:a,score:i,keys:u,parse:l,stringify:f}}function sj(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function uj(t,e){let n=0;const i=t.score,o=e.score;for(;n<i.length&&n<o.length;){const u=sj(i[n],o[n]);if(u)return u;n++}if(Math.abs(o.length-i.length)===1){if(tI(i))return 1;if(tI(o))return-1}return o.length-i.length}function tI(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const aj={type:0,value:""},cj=/[a-zA-Z0-9_]/;function lj(t){if(!t)return[[]];if(t==="/")return[[aj]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${d}": ${b}`)}let n=0,i=n;const o=[];let u;function a(){u&&o.push(u),u=[]}let l=0,f,d="",g="";function v(){d&&(n===0?u.push({type:0,value:d}):n===1||n===2||n===3?(u.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:d,regexp:g,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),d="")}function y(){d+=f}for(;l<t.length;){if(f=t[l++],f==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:f==="/"?(d&&v(),a()):f===":"?(v(),n=1):y();break;case 4:y(),n=i;break;case 1:f==="("?n=2:cj.test(f)?y():(v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?g[g.length-1]=="\\"?g=g.slice(0,-1)+f:n=3:g+=f;break;case 3:v(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,g="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${d}"`),v(),a(),o}function fj(t,e,n){const i=oj(lj(t.path),n),o=ie(i,{record:t,parent:e,children:[],alias:[]});return e&&!o.record.aliasOf==!e.record.aliasOf&&e.children.push(o),o}function hj(t,e){const n=[],i=new Map;e=rI({strict:!1,end:!0,sensitive:!1},e);function o(g){return i.get(g)}function u(g,v,y){const b=!y,_=dj(g);_.aliasOf=y&&y.record;const T=rI(e,g),N=[_];if("alias"in g){const j=typeof g.alias=="string"?[g.alias]:g.alias;for(const q of j)N.push(ie({},_,{components:y?y.record.components:_.components,path:q,aliasOf:y?y.record:_}))}let O,P;for(const j of N){const{path:q}=j;if(v&&q[0]!=="/"){const rt=v.record.path,V=rt[rt.length-1]==="/"?"":"/";j.path=v.record.path+(q&&V+q)}if(O=fj(j,v,T),y?y.alias.push(O):(P=P||O,P!==O&&P.alias.push(O),b&&g.name&&!nI(O)&&a(g.name)),_.children){const rt=_.children;for(let V=0;V<rt.length;V++)u(rt[V],O,y&&y.children[V])}y=y||O,(O.record.components&&Object.keys(O.record.components).length||O.record.name||O.record.redirect)&&f(O)}return P?()=>{a(P)}:pa}function a(g){if(TA(g)){const v=i.get(g);v&&(i.delete(g),n.splice(n.indexOf(v),1),v.children.forEach(a),v.alias.forEach(a))}else{const v=n.indexOf(g);v>-1&&(n.splice(v,1),g.record.name&&i.delete(g.record.name),g.children.forEach(a),g.alias.forEach(a))}}function l(){return n}function f(g){let v=0;for(;v<n.length&&uj(g,n[v])>=0&&(g.record.path!==n[v].record.path||!AA(g,n[v]));)v++;n.splice(v,0,g),g.record.name&&!nI(g)&&i.set(g.record.name,g)}function d(g,v){let y,b={},_,T;if("name"in g&&g.name){if(y=i.get(g.name),!y)throw Zs(1,{location:g});T=y.record.name,b=ie(eI(v.params,y.keys.filter(P=>!P.optional).map(P=>P.name)),g.params&&eI(g.params,y.keys.map(P=>P.name))),_=y.stringify(b)}else if("path"in g)_=g.path,y=n.find(P=>P.re.test(_)),y&&(b=y.parse(_),T=y.record.name);else{if(y=v.name?i.get(v.name):n.find(P=>P.re.test(v.path)),!y)throw Zs(1,{location:g,currentLocation:v});T=y.record.name,b=ie({},v.params,g.params),_=y.stringify(b)}const N=[];let O=y;for(;O;)N.unshift(O.record),O=O.parent;return{name:T,path:_,params:b,matched:N,meta:gj(N)}}return t.forEach(g=>u(g)),{addRoute:u,resolve:d,removeRoute:a,getRoutes:l,getRecordMatcher:o}}function eI(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function dj(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:pj(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function pj(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function nI(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function gj(t){return t.reduce((e,n)=>ie(e,n.meta),{})}function rI(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function AA(t,e){return e.children.some(n=>n===t||AA(t,n))}const NA=/#/g,vj=/&/g,mj=/\//g,yj=/=/g,wj=/\?/g,kA=/\+/g,bj=/%5B/g,_j=/%5D/g,xA=/%5E/g,Ej=/%60/g,CA=/%7B/g,Ij=/%7C/g,OA=/%7D/g,Tj=/%20/g;function sy(t){return encodeURI(""+t).replace(Ij,"|").replace(bj,"[").replace(_j,"]")}function Sj(t){return sy(t).replace(CA,"{").replace(OA,"}").replace(xA,"^")}function hv(t){return sy(t).replace(kA,"%2B").replace(Tj,"+").replace(NA,"%23").replace(vj,"%26").replace(Ej,"`").replace(CA,"{").replace(OA,"}").replace(xA,"^")}function Aj(t){return hv(t).replace(yj,"%3D")}function Nj(t){return sy(t).replace(NA,"%23").replace(wj,"%3F")}function kj(t){return t==null?"":Nj(t).replace(mj,"%2F")}function bf(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function xj(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let o=0;o<i.length;++o){const u=i[o].replace(kA," "),a=u.indexOf("="),l=bf(a<0?u:u.slice(0,a)),f=a<0?null:bf(u.slice(a+1));if(l in e){let d=e[l];_r(d)||(d=e[l]=[d]),d.push(f)}else e[l]=f}return e}function iI(t){let e="";for(let n in t){const i=t[n];if(n=Aj(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(_r(i)?i.map(u=>u&&hv(u)):[i&&hv(i)]).forEach(u=>{u!==void 0&&(e+=(e.length?"&":"")+n,u!=null&&(e+="="+u))})}return e}function Cj(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=_r(i)?i.map(o=>o==null?null:""+o):i==null?i:""+i)}return e}const Oj=Symbol(""),oI=Symbol(""),uy=Symbol(""),RA=Symbol(""),dv=Symbol("");function Ju(){let t=[];function e(i){return t.push(i),()=>{const o=t.indexOf(i);o>-1&&t.splice(o,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ei(t,e,n,i,o){const u=i&&(i.enterCallbacks[o]=i.enterCallbacks[o]||[]);return()=>new Promise((a,l)=>{const f=v=>{v===!1?l(Zs(4,{from:n,to:e})):v instanceof Error?l(v):nj(v)?l(Zs(2,{from:e,to:v})):(u&&i.enterCallbacks[o]===u&&typeof v=="function"&&u.push(v),a())},d=t.call(i&&i.instances[o],e,n,f);let g=Promise.resolve(d);t.length<3&&(g=g.then(f)),g.catch(v=>l(v))})}function yg(t,e,n,i){const o=[];for(const u of t)for(const a in u.components){let l=u.components[a];if(!(e!=="beforeRouteEnter"&&!u.instances[a]))if(Rj(l)){const d=(l.__vccOpts||l)[e];d&&o.push(Ei(d,n,i,u,a))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${u.path}"`));const g=FV(d)?d.default:d;u.components[a]=g;const y=(g.__vccOpts||g)[e];return y&&Ei(y,n,i,u,a)()}))}}return o}function Rj(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function sI(t){const e=or(uy),n=or(RA),i=qt(()=>e.resolve(Gt(t.to))),o=qt(()=>{const{matched:f}=i.value,{length:d}=f,g=f[d-1],v=n.matched;if(!g||!v.length)return-1;const y=v.findIndex(Js.bind(null,g));if(y>-1)return y;const b=uI(f[d-2]);return d>1&&uI(g)===b&&v[v.length-1].path!==b?v.findIndex(Js.bind(null,f[d-2])):y}),u=qt(()=>o.value>-1&&Mj(n.params,i.value.params)),a=qt(()=>o.value>-1&&o.value===n.matched.length-1&&EA(n.params,i.value.params));function l(f={}){return Lj(f)?e[Gt(t.replace)?"replace":"push"](Gt(t.to)).catch(pa):Promise.resolve()}return{route:i,href:qt(()=>i.value.href),isActive:u,isExactActive:a,navigate:l}}const Dj=Ha({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:sI,setup(t,{slots:e}){const n=ei(sI(t)),{options:i}=or(uy),o=qt(()=>({[aI(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[aI(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=e.default&&e.default(n);return t.custom?u:Rs("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},u)}}}),Pj=Dj;function Lj(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Mj(t,e){for(const n in e){const i=e[n],o=t[n];if(typeof i=="string"){if(i!==o)return!1}else if(!_r(o)||o.length!==i.length||i.some((u,a)=>u!==o[a]))return!1}return!0}function uI(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const aI=(t,e,n)=>t??e??n,Fj=Ha({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=or(dv),o=qt(()=>t.route||i.value),u=or(oI,0),a=qt(()=>{let d=Gt(u);const{matched:g}=o.value;let v;for(;(v=g[d])&&!v.components;)d++;return d}),l=qt(()=>o.value.matched[a.value]);Ns(oI,qt(()=>a.value+1)),Ns(Oj,l),Ns(dv,o);const f=mn();return Yn(()=>[f.value,l.value,t.name],([d,g,v],[y,b,_])=>{g&&(g.instances[v]=d,b&&b!==g&&d&&d===y&&(g.leaveGuards.size||(g.leaveGuards=b.leaveGuards),g.updateGuards.size||(g.updateGuards=b.updateGuards))),d&&g&&(!b||!Js(g,b)||!y)&&(g.enterCallbacks[v]||[]).forEach(T=>T(d))},{flush:"post"}),()=>{const d=o.value,g=t.name,v=l.value,y=v&&v.components[g];if(!y)return cI(n.default,{Component:y,route:d});const b=v.props[g],_=b?b===!0?d.params:typeof b=="function"?b(d):b:null,N=Rs(y,ie({},_,e,{onVnodeUnmounted:O=>{O.component.isUnmounted&&(v.instances[g]=null)},ref:f}));return cI(n.default,{Component:N,route:d})||N}}});function cI(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const DA=Fj;function Vj(t){const e=hj(t.routes,t),n=t.parseQuery||xj,i=t.stringifyQuery||iI,o=t.history,u=Ju(),a=Ju(),l=Ju(),f=HI(yi);let d=yi;_s&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const g=vg.bind(null,R=>""+R),v=vg.bind(null,kj),y=vg.bind(null,bf);function b(R,U){let Z,ut;return TA(R)?(Z=e.getRecordMatcher(R),ut=U):ut=R,e.addRoute(ut,Z)}function _(R){const U=e.getRecordMatcher(R);U&&e.removeRoute(U)}function T(){return e.getRoutes().map(R=>R.record)}function N(R){return!!e.getRecordMatcher(R)}function O(R,U){if(U=ie({},U||f.value),typeof R=="string"){const C=mg(n,R,U.path),M=e.resolve({path:C.path},U),F=o.createHref(C.fullPath);return ie(C,M,{params:y(M.params),hash:bf(C.hash),redirectedFrom:void 0,href:F})}let Z;if("path"in R)Z=ie({},R,{path:mg(n,R.path,U.path).path});else{const C=ie({},R.params);for(const M in C)C[M]==null&&delete C[M];Z=ie({},R,{params:v(C)}),U.params=v(U.params)}const ut=e.resolve(Z,U),Rt=R.hash||"";ut.params=g(y(ut.params));const I=UV(i,ie({},R,{hash:Sj(Rt),path:ut.path})),S=o.createHref(I);return ie({fullPath:I,hash:Rt,query:i===iI?Cj(R.query):R.query||{}},ut,{redirectedFrom:void 0,href:S})}function P(R){return typeof R=="string"?mg(n,R,f.value.path):ie({},R)}function j(R,U){if(d!==R)return Zs(8,{from:U,to:R})}function q(R){return It(R)}function rt(R){return q(ie(P(R),{replace:!0}))}function V(R){const U=R.matched[R.matched.length-1];if(U&&U.redirect){const{redirect:Z}=U;let ut=typeof Z=="function"?Z(R):Z;return typeof ut=="string"&&(ut=ut.includes("?")||ut.includes("#")?ut=P(ut):{path:ut},ut.params={}),ie({query:R.query,hash:R.hash,params:"path"in ut?{}:R.params},ut)}}function It(R,U){const Z=d=O(R),ut=f.value,Rt=R.state,I=R.force,S=R.replace===!0,C=V(Z);if(C)return It(ie(P(C),{state:typeof C=="object"?ie({},Rt,C.state):Rt,force:I,replace:S}),U||Z);const M=Z;M.redirectedFrom=U;let F;return!I&&BV(i,ut,Z)&&(F=Zs(16,{to:M,from:ut}),Ve(ut,ut,!0,!1)),(F?Promise.resolve(F):A(M,ut)).catch(G=>Hr(G)?Hr(G,2)?G:Ie(G):gt(G,M,ut)).then(G=>{if(G){if(Hr(G,2))return It(ie({replace:S},P(G.to),{state:typeof G.to=="object"?ie({},Rt,G.to.state):Rt,force:I}),U||M)}else G=oe(M,ut,!0,S,Rt);return Wt(M,ut,G),G})}function Q(R,U){const Z=j(R,U);return Z?Promise.reject(Z):Promise.resolve()}function ht(R){const U=Fn.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(R):R()}function A(R,U){let Z;const[ut,Rt,I]=jj(R,U);Z=yg(ut.reverse(),"beforeRouteLeave",R,U);for(const C of ut)C.leaveGuards.forEach(M=>{Z.push(Ei(M,R,U))});const S=Q.bind(null,R,U);return Z.push(S),vt(Z).then(()=>{Z=[];for(const C of u.list())Z.push(Ei(C,R,U));return Z.push(S),vt(Z)}).then(()=>{Z=yg(Rt,"beforeRouteUpdate",R,U);for(const C of Rt)C.updateGuards.forEach(M=>{Z.push(Ei(M,R,U))});return Z.push(S),vt(Z)}).then(()=>{Z=[];for(const C of I)if(C.beforeEnter)if(_r(C.beforeEnter))for(const M of C.beforeEnter)Z.push(Ei(M,R,U));else Z.push(Ei(C.beforeEnter,R,U));return Z.push(S),vt(Z)}).then(()=>(R.matched.forEach(C=>C.enterCallbacks={}),Z=yg(I,"beforeRouteEnter",R,U),Z.push(S),vt(Z))).then(()=>{Z=[];for(const C of a.list())Z.push(Ei(C,R,U));return Z.push(S),vt(Z)}).catch(C=>Hr(C,8)?C:Promise.reject(C))}function Wt(R,U,Z){l.list().forEach(ut=>ht(()=>ut(R,U,Z)))}function oe(R,U,Z,ut,Rt){const I=j(R,U);if(I)return I;const S=U===yi,C=_s?history.state:{};Z&&(ut||S?o.replace(R.fullPath,ie({scroll:S&&C&&C.scroll},Rt)):o.push(R.fullPath,Rt)),f.value=R,Ve(R,U,Z,S),Ie()}let se;function ce(){se||(se=o.listen((R,U,Z)=>{if(!dt.listening)return;const ut=O(R),Rt=V(ut);if(Rt){It(ie(Rt,{replace:!0}),ut).catch(pa);return}d=ut;const I=f.value;_s&&QV(YE(I.fullPath,Z.delta),yh()),A(ut,I).catch(S=>Hr(S,12)?S:Hr(S,2)?(It(S.to,ut).then(C=>{Hr(C,20)&&!Z.delta&&Z.type===Ka.pop&&o.go(-1,!1)}).catch(pa),Promise.reject()):(Z.delta&&o.go(-Z.delta,!1),gt(S,ut,I))).then(S=>{S=S||oe(ut,I,!1),S&&(Z.delta&&!Hr(S,8)?o.go(-Z.delta,!1):Z.type===Ka.pop&&Hr(S,20)&&o.go(-1,!1)),Wt(ut,I,S)}).catch(pa)}))}let Qt=Ju(),st=Ju(),Lt;function gt(R,U,Z){Ie(R);const ut=st.list();return ut.length?ut.forEach(Rt=>Rt(R,U,Z)):console.error(R),Promise.reject(R)}function he(){return Lt&&f.value!==yi?Promise.resolve():new Promise((R,U)=>{Qt.add([R,U])})}function Ie(R){return Lt||(Lt=!R,ce(),Qt.list().forEach(([U,Z])=>R?Z(R):U()),Qt.reset()),R}function Ve(R,U,Z,ut){const{scrollBehavior:Rt}=t;if(!_s||!Rt)return Promise.resolve();const I=!Z&&YV(YE(R.fullPath,0))||(ut||!Z)&&history.state&&history.state.scroll||null;return Or().then(()=>Rt(R,U,I)).then(S=>S&&WV(S)).catch(S=>gt(S,R,U))}const Ce=R=>o.go(R);let de;const Fn=new Set,dt={currentRoute:f,listening:!0,addRoute:b,removeRoute:_,hasRoute:N,getRoutes:T,resolve:O,options:t,push:q,replace:rt,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:u.add,beforeResolve:a.add,afterEach:l.add,onError:st.add,isReady:he,install(R){const U=this;R.component("RouterLink",Pj),R.component("RouterView",DA),R.config.globalProperties.$router=U,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Gt(f)}),_s&&!de&&f.value===yi&&(de=!0,q(o.location).catch(Rt=>{}));const Z={};for(const Rt in yi)Object.defineProperty(Z,Rt,{get:()=>f.value[Rt],enumerable:!0});R.provide(uy,U),R.provide(RA,BI(Z)),R.provide(dv,f);const ut=R.unmount;Fn.add(R),R.unmount=function(){Fn.delete(R),Fn.size<1&&(d=yi,se&&se(),se=null,f.value=yi,de=!1,Lt=!1),ut()}}};function vt(R){return R.reduce((U,Z)=>U.then(()=>ht(Z)),Promise.resolve())}return dt}function jj(t,e){const n=[],i=[],o=[],u=Math.max(e.matched.length,t.matched.length);for(let a=0;a<u;a++){const l=e.matched[a];l&&(t.matched.find(d=>Js(d,l))?i.push(l):n.push(l));const f=t.matched[a];f&&(e.matched.find(d=>Js(d,f))||o.push(f))}return[n,i,o]}const Uj={name:"App",components:{AppHeader:L2,AppAuth:MV,RouterView:DA},computed:{...zv(mh,["userLoggedIn"])},created(){Yr.currentUser&&(this.userLoggedIn=!0)}};function Bj(t,e,n,i,o,u){const a=On("AppHeader"),l=On("RouterView"),f=On("AppAuth");return Be(),an(Kn,null,[jt(a),jt(l),jt(f)],64)}const qj=jr(Uj,[["render",Bj]]),_f=Kv("player",{state:()=>({isPlaying:!1}),actions:{play(t){console.log("Now playing "+t),this.isPlaying=!0},pause(){console.log("Pause song"),this.isPlaying=!1}}}),pv="/musicfy/assets/img/liked-songs-300.webp",lI="/musicfy/assets/img/liked-songs-640.webp",$j={name:"AppPlaylist",data(){return{songsInPlaylist:Yr.currentUser?6:0}},computed:{...Hv(_f,["isPlaying"]),getUserName(){return Yr.currentUser&&Yr.currentUser.displayName?Yr.currentUser.displayName:"Your name here"},getPlaylistSongs(){return[{name:"Perfect",artist:"Ed Sheeran"}]},getPlaylistSongsSize(){return 6}},methods:{...Uf(_f,["play","pause"])}},Kj=pv+" 150w, "+pv+" 300w, "+lI+" 320w, "+lI+" 640w",Hj={class:"relative min-h-screen"},zj=$("section",{class:"absolute inset-0 min-h-screen bg-gradient-to-t from-zinc-900 from-60% to-[#4a368e] to-90% w-full"},null,-1),Gj={class:"relative z-10 mx-10 pt-40 pb-6 text-white text-center relative font-circular-regular"},Wj={class:"container flex gap-6"},Qj=$("img",{"aria-hidden":"false",draggable:"false",loading:"eager",src:pv,alt:"Liked songs",class:"shadow-3xl",srcset:Kj,sizes:"(min-width: 1280px) 232px, 192px"},null,-1),Yj={class:"text-white main-header-content flex flex-col grow justify-end items-start content-normal"},Xj=$("h4",{class:"text-sm mb-2"},"Playlist",-1),Jj=$("h1",{class:"text-5xl mb-5 font-circular-black tracking-tighter"},"Liked songs",-1),Zj={class:""},tU={class:"relative z-10 px-10 py-5 mb-20 bg-black bg-opacity-30 font-circular-regular"},eU={type:"button"},nU=Bv('<div class="flex flex-col"><div class="px-6 pt-6 pb-2 font-bold border-b border-zinc-300 border-opacity-10"><span class="card-title secondary-text">Title</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6 float-right secondary-text"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><ol id="playlist" class="font-circular-thin text-white mb-10"><li class="flex justify-between items-center p-2 cursor-pointer transition duration-800 rounded-md hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="secondary-text text-sm">Artist Name</span></div><div class="text-lg secondary-text"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 rounded-md hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="secondary-text text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-white hover:bg-opacity-10"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-gray-50"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li><li class="flex justify-between items-center p-2 cursor-pointer transition duration-300 hover:bg-gray-50 hover:bg-opacity-0"><div><a href="#" class="font-bold block">Song Title</a><span class="text-sm">Artist Name</span></div><div class="text-lg"><span class="comments"><i class="fa fa-comments"></i> 15 </span></div></li></ol></div>',1);function rU(t,e,n,i,o,u){return Be(),an("div",Hj,[zj,$("section",Gj,[$("div",Wj,[Qj,$("div",Yj,[Xj,Jj,$("p",Zj,[$("span",null,ya(u.getUserName)+"  "+ya(u.getPlaylistSongsSize)+" songs ",1)])])])]),$("section",tU,[$("button",eU,[$("p",{class:Qn(["text-[#1ed760] text-5xl hover:scale-110 bg-black rounded-full",{"fa fa-play-circle":!t.isPlaying,"fa fa-pause-circle":t.isPlaying}]),onClick:e[0]||(e[0]=Ds(a=>t.isPlaying?t.pause():t.play(),["prevent"]))},null,2)]),nU])])}const iU=jr($j,[["render",rU]]),oU={name:"AppPlayer",data(){return{currentTime:93,durationTime:186}},computed:{...Hv(_f,["isPlaying"]),currentTimePercentage(){return this.currentTime/this.durationTime*100+"%"}},methods:{...Uf(_f,["play","pause"])}},sU={class:"fixed bottom-0 left-0 bg-black z-10 px-4 py-4 w-full flex flex-nowrap"},uU=$("div",{class:"fixed bottom-2 left-5 text-white flex flex-col justify-center font-circular-thin w-40 h-16 overflow-x-hidden whitespace-nowrap"},[$("p",{class:"song-title font-bold"},"Playing Song"),$("p",{class:"song-artist"},"by Artist")],-1),aU={class:"text-white grow flex flex-col gap-0.5 font-circular-regular"},cU={type:"button"},lU={class:"flex flex-nowrap gap-3 justify-center items-center"},fU=$("div",{class:"player-currenttime text-xs secondary-text"},[Jn(" 00"),$("span",{class:"font-sans"},":"),Jn("00 ")],-1),hU={class:"group w-80 h-1 rounded bg-neutral-700 relative cursor-pointer"},dU=$("i",{class:"fas fa-circle"},null,-1),pU=[dU],gU=$("div",{class:"player-duration text-xs secondary-text"},[Jn(" 03"),$("span",{class:"font-sans"},":"),Jn("06 ")],-1);function vU(t,e,n,i,o,u){return Be(),an("div",sU,[uU,$("div",aU,[$("button",cU,[$("p",{class:Qn(["text-white text-3xl hover:scale-105",{"fa fa-play-circle":!t.isPlaying,"fa fa-pause-circle":t.isPlaying}]),onClick:e[0]||(e[0]=Ds(a=>t.isPlaying?t.pause():t.play(),["prevent"]))},null,2)]),$("div",lU,[fU,$("div",hU,[$("span",{class:"absolute -top-1.5 -ml-2.5 text-white text-xs opacity-0 group-hover:opacity-100",style:ma({left:u.currentTimePercentage})},pU,4),$("span",{class:"block h-1 rounded bg-white group-hover:bg-gradient-to-r from-green-500 to-green-400",style:ma({width:u.currentTimePercentage})},null,4)]),gU])])])}const mU=jr(oU,[["render",vU]]),yU={components:{AppPlaylist:iU,AppPlayer:mU}};function wU(t,e,n,i,o,u){const a=On("AppPlaylist"),l=On("AppPlayer");return Be(),an("section",null,[jt(a),jt(l)])}const bU=jr(yU,[["render",wU]]),_U={};function EU(t,e){return Be(),an("h1",null,"This is about muscify")}const IU=jr(_U,[["render",EU]]),TU={},SU={class:"relative min-h-screen"},AU=Bv('<section class="absolute inset-0 min-h-screen bg-gradient-to-t from-zinc-900 from-60% to-[#4a368e] to-90% w-full"></section><main id="manage" class="pt-20"><div class="container mx-auto pt-6"><div class="md:grid md:grid-cols-3 md:gap-4"><div class="col-span-1"><div class="bg-zinc-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">Upload</span><i class="fas fa-upload float-right text-green-400 text-2xl"></i></div><div class="p-6"><div class="w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-zinc-500 hover:border-solid"><h5>Drop your files here</h5></div><hr class="my-6"><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:75%;"></div></div></div><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:35%;"></div></div></div><div class="mb-4"><div class="font-bold text-sm">Just another song.mp3</div><div class="flex h-4 overflow-hidden bg-gray-200 rounded"><div class="transition-all progress-bar bg-blue-400" style="width:55%;"></div></div></div></div></div></div><div class="col-span-2"><div class="bg-neutral-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"><div class="px-6 pt-6 pb-5 font-bold border-b border-gray-200"><span class="card-title">My Songs</span><i class="fa-solid fa-music float-right text-green-400 text-2xl"></i></div><div class="p-6"><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div><div><form><div class="mb-3"><label class="inline-block mb-2">Song Title</label><input type="text" class="block w-full py-1.5 px-3 text-gray-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded" placeholder="Enter Song Title"></div><div class="mb-3"><label class="inline-block mb-2">Genre</label><input type="text" class="block w-full py-1.5 px-3 text-gray-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded" placeholder="Enter Genre"></div><button type="submit" class="py-1.5 px-3 rounded text-white bg-green-600"> Submit </button><button type="button" class="py-1.5 px-3 rounded text-white bg-gray-600"> Go Back </button></form></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div><div class="border border-gray-200 p-3 mb-4 rounded"><div><h4 class="inline-block text-2xl font-bold">Song Name</h4><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-red-600 float-right"><i class="fa fa-times"></i></button><button class="ml-1 py-1 px-2 text-sm rounded text-white bg-blue-600 float-right"><i class="fa fa-pencil-alt"></i></button></div></div></div></div></div></div></div></main>',2),NU=[AU];function kU(t,e){return Be(),an("div",SU,NU)}const xU=jr(TU,[["render",kU]]),CU=[{path:"/",name:"home",component:bU},{path:"/about",name:"about",component:IU},{path:"/manage",name:"manage",component:xU}],OU=Vj({history:ej("/musicfy/"),routes:CU});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Ye(t){return typeof t=="function"}function PA(t){return t==null}const Lo=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function ay(t){return Number(t)>=0}function RU(t){const e=parseFloat(t);return isNaN(e)?t:e}function DU(t){return typeof t=="object"&&t!==null}function PU(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function LU(t){if(!DU(t)||PU(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ef(t,e){return Object.keys(e).forEach(n=>{if(LU(e[n])){t[n]||(t[n]={}),Ef(t[n],e[n]);return}t[n]=e[n]}),t}function oa(t){const e=t.split(".");if(!e.length)return"";let n=String(e[0]);for(let i=1;i<e.length;i++){if(ay(e[i])){n+=`[${e[i]}]`;continue}n+=`.${e[i]}`}return n}const LA={};function Bn(t,e){FU(t,e),LA[t]=e}function MU(t){return LA[t]}function FU(t,e){if(!Ye(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}function fI(t,e,n){typeof n.value=="object"&&(n.value=le(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function le(t){if(typeof t!="object")return t;var e=0,n,i,o,u=Object.prototype.toString.call(t);if(u==="[object Object]"?o=Object.create(t.__proto__||null):u==="[object Array]"?o=Array(t.length):u==="[object Set]"?(o=new Set,t.forEach(function(a){o.add(le(a))})):u==="[object Map]"?(o=new Map,t.forEach(function(a,l){o.set(le(l),le(a))})):u==="[object Date]"?o=new Date(+t):u==="[object RegExp]"?o=new RegExp(t.source,t.flags):u==="[object DataView]"?o=new t.constructor(le(t.buffer)):u==="[object ArrayBuffer]"?o=t.slice(0):u.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(i=Object.getOwnPropertySymbols(t);e<i.length;e++)fI(o,i[e],Object.getOwnPropertyDescriptor(t,i[e]));for(e=0,i=Object.getOwnPropertyNames(t);e<i.length;e++)Object.hasOwnProperty.call(o,n=i[e])&&o[n]===t[n]||fI(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}const wh=Symbol("vee-validate-form"),VU=Symbol("vee-validate-field-instance"),If=Symbol("Default empty value"),jU=typeof window<"u";function gv(t){return Ye(t)&&!!t.__locatorRef}function Fi(t){return!!t&&Ye(t.parse)&&t.__type==="VVTypedSchema"}function Tf(t){return!!t&&Ye(t.validate)}function fc(t){return t==="checkbox"||t==="radio"}function UU(t){return Lo(t)||Array.isArray(t)}function BU(t){return Array.isArray(t)?t.length===0:Lo(t)&&Object.keys(t).length===0}function bh(t){return/^\[.+\]$/i.test(t)}function qU(t){return MA(t)&&t.multiple}function MA(t){return t.tagName==="SELECT"}function $U(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function KU(t,e){return!$U(t,e)&&e.type!=="file"&&!fc(e.type)}function FA(t){return cy(t)&&t.target&&"submit"in t.target}function cy(t){return t?!!(typeof Event<"u"&&Ye(Event)&&t instanceof Event||t&&t.srcElement):!1}function hI(t,e){return e in t&&t[e]!==If}function En(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,i,o;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(!En(t[i],e[i]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;for(i of t.entries())if(!En(i[1],e.get(i[0])))return!1;return!0}if(dI(t)&&dI(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i of t.entries())if(!e.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(i=n;i--!==0;)if(t[i]!==e[i])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();for(o=Object.keys(t),n=o.length,i=n;i--!==0;){var u=o[i];if(!En(t[u],e[u]))return!1}return!0}return t!==t&&e!==e}function dI(t){return jU?t instanceof File:!1}function ly(t){return bh(t)?t.replace(/\[|\]/gi,""):t}function kn(t,e,n){return t?bh(e)?t[ly(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,u)=>UU(o)&&u in o?o[u]:n,t):n}function ho(t,e,n){if(bh(e)){t[ly(e)]=n;return}const i=e.split(/\.|\[(\d+)\]/).filter(Boolean);let o=t;for(let u=0;u<i.length;u++){if(u===i.length-1){o[i[u]]=n;return}(!(i[u]in o)||PA(o[i[u]]))&&(o[i[u]]=ay(i[u+1])?[]:{}),o=o[i[u]]}}function wg(t,e){if(Array.isArray(t)&&ay(e)){t.splice(Number(e),1);return}Lo(t)&&delete t[e]}function pI(t,e){if(bh(e)){delete t[ly(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let i=t;for(let u=0;u<n.length;u++){if(u===n.length-1){wg(i,n[u]);break}if(!(n[u]in i)||PA(i[n[u]]))break;i=i[n[u]]}const o=n.map((u,a)=>kn(t,n.slice(0,a).join(".")));for(let u=o.length-1;u>=0;u--)if(BU(o[u])){if(u===0){wg(t,n[0]);continue}wg(o[u-1],n[u-1])}}function ir(t){return Object.keys(t)}function VA(t,e=void 0){const n=Ff();return(n==null?void 0:n.provides[t])||or(t,e)}function gI(t,e,n){if(Array.isArray(t)){const i=[...t],o=i.findIndex(u=>En(u,e));return o>=0?i.splice(o,1):i.push(e),i}return En(t,e)?n:e}function vI(t,e=0){let n=null,i=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const u=t(...o);i.forEach(a=>a(u)),i=[]},e),new Promise(u=>i.push(u))}}function HU(t,e){return Lo(e)&&e.number?RU(t):t}function vv(t,e){let n;return async function(...o){const u=t(...o);n=u;const a=await u;return u!==n||(n=void 0,e(a,o)),a}}function mv(t){return Array.isArray(t)?t:t?[t]:[]}function Zu(t,e){const n={};for(const i in t)e.includes(i)||(n[i]=t[i]);return n}function zU(t){let e=null,n=[];return function(...i){const o=Or(()=>{if(e!==o)return;const u=t(...i);n.forEach(a=>a(u)),n=[],e=null});return e=o,new Promise(u=>n.push(u))}}function fy(t,e,n){return e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var i,o;return(o=(i=e.slots).default)===null||o===void 0?void 0:o.call(i,n())}}:e.slots.default}function bg(t){if(jA(t))return t._value}function jA(t){return"_value"in t}function GU(t){return t.type==="number"||t.type==="range"?Number.isNaN(t.valueAsNumber)?t.value:t.valueAsNumber:t.value}function Sf(t){if(!cy(t))return t;const e=t.target;if(fc(e.type)&&jA(e))return bg(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(qU(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(bg);if(MA(e)){const n=Array.from(e.options).find(i=>i.selected);return n?bg(n):e.value}return GU(e)}function UA(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Lo(t)&&t._$$isNormalized?t:Lo(t)?Object.keys(t).reduce((n,i)=>{const o=WU(t[i]);return t[i]!==!1&&(n[i]=mI(o)),n},e):typeof t!="string"?e:t.split("|").reduce((n,i)=>{const o=QU(i);return o.name&&(n[o.name]=mI(o.params)),n},e):e}function WU(t){return t===!0?[]:Array.isArray(t)||Lo(t)?t:[t]}function mI(t){const e=n=>typeof n=="string"&&n[0]==="@"?YU(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,i)=>(n[i]=e(t[i]),n),{})}const QU=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function YU(t){const e=n=>kn(n,t)||n[t];return e.__locatorRef=t,e}function XU(t){return Array.isArray(t)?t.filter(gv):ir(t).filter(e=>gv(t[e])).map(e=>t[e])}const JU={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let yv=Object.assign({},JU);const ki=()=>yv,ZU=t=>{yv=Object.assign(Object.assign({},yv),t)},t3=ZU;async function BA(t,e,n={}){const i=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:i??!0,formData:(n==null?void 0:n.values)||{}},a=(await e3(o,t)).errors;return{errors:a,valid:!a.length}}async function e3(t,e){if(Fi(t.rules)||Tf(t.rules))return r3(e,t.rules);if(Ye(t.rules)||Array.isArray(t.rules)){const a={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},l=Array.isArray(t.rules)?t.rules:[t.rules],f=l.length,d=[];for(let g=0;g<f;g++){const v=l[g],y=await v(e,a);if(!(typeof y!="string"&&!Array.isArray(y)&&y)){if(Array.isArray(y))d.push(...y);else{const _=typeof y=="string"?y:$A(a);d.push(_)}if(t.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},t),{rules:UA(t.rules)}),i=[],o=Object.keys(n.rules),u=o.length;for(let a=0;a<u;a++){const l=o[a],f=await i3(n,e,{name:l,params:n.rules[l]});if(f.error&&(i.push(f.error),t.bails))return{errors:i}}return{errors:i}}function n3(t){return!!t&&t.name==="ValidationError"}function qA(t){return{__type:"VVTypedSchema",async parse(n){var i;try{return{output:await t.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!n3(o))throw o;if(!(!((i=o.inner)===null||i===void 0)&&i.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const u=o.inner.reduce((a,l)=>{const f=l.path||"";return a[f]||(a[f]={errors:[],path:f}),a[f].errors.push(...l.errors),a},{});return{errors:Object.values(u)}}}}}async function r3(t,e){const i=await(Fi(e)?e:qA(e)).parse(t),o=[];for(const u of i.errors)u.errors.length&&o.push(...u.errors);return{errors:o}}async function i3(t,e,n){const i=MU(n.name);if(!i)throw new Error(`No such validator '${n.name}' exists.`);const o=o3(n.params,t.formData),u={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:o})},a=await i(e,o,u);return typeof a=="string"?{error:a}:{error:a?void 0:$A(u)}}function $A(t){const e=ki().generateMessage;return e?e(t):"Field is invalid"}function o3(t,e){const n=i=>gv(i)?i(e):i;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((i,o)=>(i[o]=n(t[o]),i),{})}async function s3(t,e){const i=await(Fi(t)?t:qA(t)).parse(le(e)),o={},u={};for(const a of i.errors){const l=a.errors,f=(a.path||"").replace(/\["(\d+)"\]/g,(d,g)=>`[${g}]`);o[f]={valid:!l.length,errors:l},l.length&&(u[f]=l[0])}return{valid:!i.errors.length,results:o,errors:u,values:i.value}}async function u3(t,e,n){const o=ir(t).map(async d=>{var g,v,y;const b=(g=n==null?void 0:n.names)===null||g===void 0?void 0:g[d],_=await BA(kn(e,d),t[d],{name:(b==null?void 0:b.name)||d,label:b==null?void 0:b.label,values:e,bails:(y=(v=n==null?void 0:n.bailsMap)===null||v===void 0?void 0:v[d])!==null&&y!==void 0?y:!0});return Object.assign(Object.assign({},_),{path:d})});let u=!0;const a=await Promise.all(o),l={},f={};for(const d of a)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(u=!1,f[d.path]=d.errors[0]);return{valid:u,results:l,errors:f}}let yI=0;function a3(t,e){const{value:n,initialValue:i,setInitialValue:o}=c3(t,e.modelValue,e.form);if(!e.form){let y=function(_){var T;"value"in _&&(n.value=_.value),"errors"in _&&d(_.errors),"touched"in _&&(v.touched=(T=_.touched)!==null&&T!==void 0?T:v.touched),"initialValue"in _&&o(_.initialValue)};var l=y;const{errors:f,setErrors:d}=h3(),g=yI>=Number.MAX_SAFE_INTEGER?0:++yI,v=f3(n,i,f);return{id:g,path:t,value:n,initialValue:i,meta:v,flags:{pendingUnmount:{[g]:!1},pendingReset:!1},errors:f,setState:y}}const u=e.form.createPathState(t,{bails:e.bails,label:e.label,type:e.type,validate:e.validate}),a=qt(()=>u.errors);function l(f){var d,g,v;"value"in f&&(n.value=f.value),"errors"in f&&((d=e.form)===null||d===void 0||d.setFieldError(Gt(t),f.errors)),"touched"in f&&((g=e.form)===null||g===void 0||g.setFieldTouched(Gt(t),(v=f.touched)!==null&&v!==void 0?v:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(u.id)?u.id[u.id.length-1]:u.id,path:t,value:n,errors:a,meta:u,initialValue:i,flags:u.__flags,setState:l}}function c3(t,e,n){const i=mn(Gt(e));function o(){return n?kn(n.initialValues.value,Gt(t),Gt(i)):Gt(i)}function u(d){if(!n){i.value=d;return}n.stageInitialValue(Gt(t),d,!0)}const a=qt(o);if(!n)return{value:mn(o()),initialValue:a,setInitialValue:u};const l=l3(e,n,a,t);return n.stageInitialValue(Gt(t),l,!0),{value:qt({get(){return kn(n.values,Gt(t))},set(d){n.setFieldValue(Gt(t),d,!1)}}),initialValue:a,setInitialValue:u}}function l3(t,e,n,i){return ae(t)?Gt(t):t!==void 0?t:kn(e.values,Gt(i),Gt(n))}function f3(t,e,n){const i=ei({touched:!1,pending:!1,valid:!0,validated:!!Gt(n).length,initialValue:qt(()=>Gt(e)),dirty:qt(()=>!En(Gt(t),Gt(e)))});return Yn(n,o=>{i.valid=!o.length},{immediate:!0,flush:"sync"}),i}function h3(){const t=mn([]);return{errors:t,setErrors:e=>{t.value=mv(e)}}}function d3(t,e,n){return fc(n==null?void 0:n.type)?g3(t,e,n):KA(t,e,n)}function KA(t,e,n){const{initialValue:i,validateOnMount:o,bails:u,type:a,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:g,controlled:v,keepValueOnUnmount:y,syncVModel:b,form:_}=p3(n),T=v?VA(wh):void 0,N=_||T,O=qt(()=>oa(_e(t))),P=qt(()=>{if(_e(N==null?void 0:N.schema))return;const vt=Gt(e);return Tf(vt)||Fi(vt)||Ye(vt)||Array.isArray(vt)?vt:UA(vt)}),{id:j,value:q,initialValue:rt,meta:V,setState:It,errors:Q,flags:ht}=a3(O,{modelValue:i,form:N,bails:u,label:f,type:a,validate:P.value?Qt:void 0}),A=qt(()=>Q.value[0]);b&&v3({value:q,prop:b,handleChange:st,shouldValidate:()=>d&&!ht.pendingReset});const Wt=(dt,vt=!1)=>{V.touched=!0,vt&&se()};async function oe(dt){var vt,R;return N!=null&&N.validateSchema?(vt=(await N.validateSchema(dt)).results[_e(O)])!==null&&vt!==void 0?vt:{valid:!0,errors:[]}:P.value?BA(q.value,P.value,{name:_e(O),label:_e(f),values:(R=N==null?void 0:N.values)!==null&&R!==void 0?R:{},bails:u}):{valid:!0,errors:[]}}const se=vv(async()=>(V.pending=!0,V.validated=!0,oe("validated-only")),dt=>{if(!ht.pendingUnmount[de.id])return It({errors:dt.errors}),V.pending=!1,V.valid=dt.valid,dt}),ce=vv(async()=>oe("silent"),dt=>(V.valid=dt.valid,dt));function Qt(dt){return(dt==null?void 0:dt.mode)==="silent"?ce():se()}function st(dt,vt=!0){const R=Sf(dt);Ie(R,vt)}Mv(()=>{if(o)return se();(!N||!N.validateSchema)&&ce()});function Lt(dt){V.touched=dt}function gt(dt){var vt;const R=dt&&"value"in dt?dt.value:rt.value;It({value:le(R),initialValue:le(R),touched:(vt=dt==null?void 0:dt.touched)!==null&&vt!==void 0?vt:!1,errors:(dt==null?void 0:dt.errors)||[]}),V.pending=!1,V.validated=!1,ce()}const he=Ff();function Ie(dt,vt=!0){q.value=he&&b?HU(dt,he.props.modelModifiers):dt,(vt?se:ce)()}function Ve(dt){It({errors:Array.isArray(dt)?dt:[dt]})}const Ce=qt({get(){return q.value},set(dt){Ie(dt,d)}}),de={id:j,name:O,label:f,value:Ce,meta:V,errors:Q,errorMessage:A,type:a,checkedValue:l,uncheckedValue:g,bails:u,keepValueOnUnmount:y,resetField:gt,handleReset:()=>gt(),validate:Qt,handleChange:st,handleBlur:Wt,setState:It,setTouched:Lt,setErrors:Ve,setValue:Ie};if(Ns(VU,de),ae(e)&&typeof Gt(e)!="function"&&Yn(e,(dt,vt)=>{En(dt,vt)||(V.validated?se():ce())},{deep:!0}),!N)return de;const Fn=qt(()=>{const dt=P.value;return!dt||Ye(dt)||Tf(dt)||Fi(dt)||Array.isArray(dt)?{}:Object.keys(dt).reduce((vt,R)=>{const U=XU(dt[R]).map(Z=>Z.__locatorRef).reduce((Z,ut)=>{const Rt=kn(N.values,ut)||N.values[ut];return Rt!==void 0&&(Z[ut]=Rt),Z},{});return Object.assign(vt,U),vt},{})});return Yn(Fn,(dt,vt)=>{if(!Object.keys(dt).length)return;!En(dt,vt)&&(V.validated?se():ce())}),i1(()=>{var dt;const vt=(dt=_e(de.keepValueOnUnmount))!==null&&dt!==void 0?dt:_e(N.keepValuesOnUnmount),R=_e(O);if(vt||!N||ht.pendingUnmount[de.id]){N==null||N.removePathState(R,j);return}ht.pendingUnmount[de.id]=!0;const U=N.getPathState(R);if(Array.isArray(U==null?void 0:U.id)&&(U!=null&&U.multiple)?U!=null&&U.id.includes(de.id):(U==null?void 0:U.id)===de.id){if(U!=null&&U.multiple&&Array.isArray(U.value)){const ut=U.value.findIndex(Rt=>En(Rt,_e(de.checkedValue)));if(ut>-1){const Rt=[...U.value];Rt.splice(ut,1),N.setFieldValue(R,Rt)}Array.isArray(U.id)&&U.id.splice(U.id.indexOf(de.id),1)}else N.unsetPathValue(_e(O));N.removePathState(R,j)}}),de}function p3(t){const e=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(t!=null&&t.syncVModel),i=typeof(t==null?void 0:t.syncVModel)=="string"?t.syncVModel:(t==null?void 0:t.modelPropName)||"modelValue",o=n&&!("initialValue"in(t||{}))?wv(Ff(),i):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},e()),{initialValue:o});const u="valueProp"in t?t.valueProp:t.checkedValue,a="standalone"in t?!t.standalone:t.controlled,l=(t==null?void 0:t.modelPropName)||(t==null?void 0:t.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},e()),t||{}),{initialValue:o,controlled:a??!0,checkedValue:u,syncVModel:l})}function g3(t,e,n){const i=n!=null&&n.standalone?void 0:VA(wh),o=n==null?void 0:n.checkedValue,u=n==null?void 0:n.uncheckedValue;function a(l){const f=l.handleChange,d=qt(()=>{const v=_e(l.value),y=_e(o);return Array.isArray(v)?v.findIndex(b=>En(b,y))>=0:En(y,v)});function g(v,y=!0){var b,_;if(d.value===((b=v==null?void 0:v.target)===null||b===void 0?void 0:b.checked)){y&&l.validate();return}const T=_e(t),N=i==null?void 0:i.getPathState(T),O=Sf(v);let P=(_=_e(o))!==null&&_!==void 0?_:O;i&&(N!=null&&N.multiple)&&N.type==="checkbox"?P=gI(kn(i.values,T)||[],P,void 0):(n==null?void 0:n.type)==="checkbox"&&(P=gI(_e(l.value),P,_e(u))),f(P,y)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:u,handleChange:g})}return a(KA(t,e,n))}function v3({prop:t,value:e,handleChange:n,shouldValidate:i}){const o=Ff();if(!o||!t)return;const u=typeof t=="string"?t:"modelValue",a=`update:${u}`;u in o.props&&(Yn(e,l=>{En(l,wv(o,u))||o.emit(a,l)}),Yn(()=>wv(o,u),l=>{if(l===If&&e.value===void 0)return;const f=l===If?void 0:l;En(f,e.value)||n(f,i())}))}function wv(t,e){if(t)return t.props[e]}const m3=Ha({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>ki().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:If},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=Ii(t,"rules"),i=Ii(t,"name"),o=Ii(t,"label"),u=Ii(t,"uncheckedValue"),a=Ii(t,"keepValue"),{errors:l,value:f,errorMessage:d,validate:g,handleChange:v,handleBlur:y,setTouched:b,resetField:_,handleReset:T,meta:N,checked:O,setErrors:P}=d3(i,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:w3(t,e),checkedValue:e.attrs.value,uncheckedValue:u,label:o,validateOnValueUpdate:t.validateOnModelUpdate,keepValueOnUnmount:a,syncVModel:!0}),j=function(ht,A=!0){v(ht,A)},q=qt(()=>{const{validateOnInput:Q,validateOnChange:ht,validateOnBlur:A,validateOnModelUpdate:Wt}=y3(t);function oe(st){y(st,A),Ye(e.attrs.onBlur)&&e.attrs.onBlur(st)}function se(st){j(st,Q),Ye(e.attrs.onInput)&&e.attrs.onInput(st)}function ce(st){j(st,ht),Ye(e.attrs.onChange)&&e.attrs.onChange(st)}const Qt={name:t.name,onBlur:oe,onInput:se,onChange:ce};return Qt["onUpdate:modelValue"]=st=>j(st,Wt),Qt}),rt=qt(()=>{const Q=Object.assign({},q.value);fc(e.attrs.type)&&O&&(Q.checked=O.value);const ht=wI(t,e);return KU(ht,e.attrs)&&(Q.value=f.value),Q}),V=qt(()=>Object.assign(Object.assign({},q.value),{modelValue:f.value}));function It(){return{field:rt.value,componentField:V.value,value:f.value,meta:N,errors:l.value,errorMessage:d.value,validate:g,resetField:_,handleChange:j,handleInput:Q=>j(Q,!1),handleReset:T,handleBlur:q.value.onBlur,setTouched:b,setErrors:P}}return e.expose({setErrors:P,setTouched:b,reset:_,validate:g,handleChange:v}),()=>{const Q=Vv(wI(t,e)),ht=fy(Q,e,It);return Q?Rs(Q,Object.assign(Object.assign({},e.attrs),rt.value),ht):ht}}});function wI(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function y3(t){var e,n,i,o;const{validateOnInput:u,validateOnChange:a,validateOnBlur:l,validateOnModelUpdate:f}=ki();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:u,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:a,validateOnBlur:(i=t.validateOnBlur)!==null&&i!==void 0?i:l,validateOnModelUpdate:(o=t.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function w3(t,e){return fc(e.attrs.type)?hI(t,"modelValue")?t.modelValue:void 0:hI(t,"modelValue")?t.modelValue:e.attrs.value}const b3=m3;let _3=0;const ta=["bails","fieldsCount","id","multiple","type","validate"];function HA(t){const e=Gt(t==null?void 0:t.initialValues)||{},n=Gt(t==null?void 0:t.validationSchema);return n&&Fi(n)&&Ye(n.cast)?le(n.cast(e)||{}):le(e)}function E3(t){var e;const n=_3++;let i=0;const o=mn(!1),u=mn(!1),a=mn(0),l=[],f=ei(HA(t)),d=mn([]),g=mn({}),v=mn({}),y=zU(()=>{v.value=d.value.reduce((x,k)=>(x[oa(_e(k.path))]=k,x),{})});function b(x,k){const B=st(x);if(!B){typeof x=="string"&&(g.value[oa(x)]=mv(k));return}if(typeof x=="string"){const it=oa(x);g.value[it]&&delete g.value[it]}B.errors=mv(k),B.valid=!B.errors.length}function _(x){ir(x).forEach(k=>{b(k,x[k])})}t!=null&&t.initialErrors&&_(t.initialErrors);const T=qt(()=>{const x=d.value.reduce((k,B)=>(B.errors.length&&(k[B.path]=B.errors),k),{});return Object.assign(Object.assign({},g.value),x)}),N=qt(()=>ir(T.value).reduce((x,k)=>{const B=T.value[k];return B!=null&&B.length&&(x[k]=B[0]),x},{})),O=qt(()=>d.value.reduce((x,k)=>(x[k.path]={name:k.path||"",label:k.label||""},x),{})),P=qt(()=>d.value.reduce((x,k)=>{var B;return x[k.path]=(B=k.bails)!==null&&B!==void 0?B:!0,x},{})),j=Object.assign({},(t==null?void 0:t.initialErrors)||{}),q=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:rt,originalInitialValues:V,setInitialValues:It}=T3(d,f,t),Q=I3(d,f,V,N),ht=qt(()=>d.value.reduce((x,k)=>{const B=kn(f,k.path);return ho(x,k.path,B),x},{})),A=t==null?void 0:t.validationSchema;function Wt(x,k){var B,it;const lt=qt(()=>kn(rt.value,_e(x))),At=v.value[_e(x)];if(At){((k==null?void 0:k.type)==="checkbox"||(k==null?void 0:k.type)==="radio")&&(At.multiple=!0);const en=i++;return Array.isArray(At.id)?At.id.push(en):At.id=[At.id,en],At.fieldsCount++,At.__flags.pendingUnmount[en]=!1,At}const Vt=qt(()=>kn(f,_e(x))),kt=_e(x),Mt=i++,Dt=ei({id:Mt,path:x,touched:!1,pending:!1,valid:!0,validated:!!(!((B=j[kt])===null||B===void 0)&&B.length),initialValue:lt,errors:HI([]),bails:(it=k==null?void 0:k.bails)!==null&&it!==void 0?it:!1,label:k==null?void 0:k.label,type:(k==null?void 0:k.type)||"default",value:Vt,multiple:!1,__flags:{pendingUnmount:{[Mt]:!1},pendingReset:!1},fieldsCount:1,validate:k==null?void 0:k.validate,dirty:qt(()=>!En(Gt(Vt),Gt(lt)))});return d.value.push(Dt),v.value[kt]=Dt,y(),N.value[kt]&&!j[kt]&&Or(()=>{tt(kt,{mode:"silent"})}),ae(x)&&Yn(x,en=>{y();const nn=le(Vt.value);v.value[en]=Dt,Or(()=>{ho(f,en,nn)})}),Dt}const oe=vI(mt,5),se=vI(mt,5),ce=vv(async x=>await x==="silent"?oe():se(),(x,[k])=>{const B=ir(vt.errorBag.value);return[...new Set([...ir(x.results),...d.value.map(lt=>lt.path),...B])].sort().reduce((lt,At)=>{const Vt=At,kt=st(Vt)||Lt(Vt),Mt=(x.results[Vt]||{errors:[]}).errors,Dt={errors:Mt,valid:!Mt.length};return lt.results[Vt]=Dt,Dt.valid||(lt.errors[Vt]=Dt.errors[0]),kt&&g.value[Vt]&&delete g.value[Vt],kt?(kt.valid=Dt.valid,k==="silent"||k==="validated-only"&&!kt.validated||b(kt,Dt.errors),lt):(b(Vt,Mt),lt)},{valid:x.valid,results:{},errors:{}})});function Qt(x){d.value.forEach(x)}function st(x){const k=typeof x=="string"?oa(x):x;return typeof k=="string"?v.value[k]:k}function Lt(x){return d.value.filter(B=>x.startsWith(B.path)).reduce((B,it)=>B?it.path.length>B.path.length?it:B:it,void 0)}let gt=[],he;function Ie(x){return gt.push(x),he||(he=Or(()=>{[...gt].sort().reverse().forEach(B=>{pI(f,B)}),gt=[],he=null})),he}function Ve(x){return function(B,it){return function(At){return At instanceof Event&&(At.preventDefault(),At.stopPropagation()),Qt(Vt=>Vt.touched=!0),o.value=!0,a.value++,X().then(Vt=>{const kt=le(f);if(Vt.valid&&typeof B=="function"){const Mt=le(ht.value);let Dt=x?Mt:kt;return Vt.values&&(Dt=Vt.values),B(Dt,{evt:At,controlledValues:Mt,setErrors:_,setFieldError:b,setTouched:F,setFieldTouched:I,setValues:Z,setFieldValue:R,resetForm:nt,resetField:G})}!Vt.valid&&typeof it=="function"&&it({values:kt,evt:At,errors:Vt.errors,results:Vt.results})}).then(Vt=>(o.value=!1,Vt),Vt=>{throw o.value=!1,Vt})}}}const de=Ve(!1);de.withControlled=Ve(!0);function Fn(x,k){const B=d.value.findIndex(lt=>lt.path===x),it=d.value[B];if(!(B===-1||!it)){if(Or(()=>{tt(x,{mode:"silent",warn:!1})}),it.multiple&&it.fieldsCount&&it.fieldsCount--,Array.isArray(it.id)){const lt=it.id.indexOf(k);lt>=0&&it.id.splice(lt,1),delete it.__flags.pendingUnmount[k]}(!it.multiple||it.fieldsCount<=0)&&(d.value.splice(B,1),Y(x),y(),delete v.value[x])}}function dt(x){return Qt(k=>{k.path.startsWith(x)&&ir(k.__flags.pendingUnmount).forEach(B=>{k.__flags.pendingUnmount[B]=!0})})}const vt={formId:n,values:f,controlledValues:ht,errorBag:T,errors:N,schema:A,submitCount:a,meta:Q,isSubmitting:o,isValidating:u,fieldArrays:l,keepValuesOnUnmount:q,validateSchema:Gt(A)?ce:void 0,validate:X,setFieldError:b,validateField:tt,setFieldValue:R,setValues:Z,setErrors:_,setFieldTouched:I,setTouched:F,resetForm:nt,resetField:G,handleSubmit:de,stageInitialValue:wt,unsetInitialValue:Y,setFieldInitialValue:at,useFieldModel:Rt,createPathState:Wt,getPathState:st,unsetPathValue:Ie,removePathState:Fn,initialValues:rt,getAllPathStates:()=>d.value,markForUnmount:dt,isFieldTouched:S,isFieldDirty:C,isFieldValid:M};function R(x,k,B=!0){const it=le(k),lt=typeof x=="string"?x:x.path;st(lt)||Wt(lt),ho(f,lt,it),B&&tt(lt)}function U(x,k=!0){ir(f).forEach(B=>{delete f[B]}),ir(x).forEach(B=>{R(B,x[B],!1)}),k&&X()}function Z(x,k=!0){Ef(f,x),l.forEach(B=>B&&B.reset()),k&&X()}function ut(x){const k=st(Gt(x))||Wt(x);return qt({get(){return k.value},set(B){const it=Gt(x);R(it,B,!1),k.validated=!0,k.pending=!0,tt(it).then(()=>{k.pending=!1})}})}function Rt(x){return Array.isArray(x)?x.map(ut):ut(x)}function I(x,k){const B=st(x);B&&(B.touched=k)}function S(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.touched)}function C(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.dirty)}function M(x){var k;return!!(!((k=st(x))===null||k===void 0)&&k.valid)}function F(x){if(typeof x=="boolean"){Qt(k=>{k.touched=x});return}ir(x).forEach(k=>{I(k,!!x[k])})}function G(x,k){var B;const it=k&&"value"in k?k.value:kn(rt.value,x),lt=st(x);lt&&(lt.__flags.pendingReset=!0),at(x,le(it)),R(x,it,!1),I(x,(B=k==null?void 0:k.touched)!==null&&B!==void 0?B:!1),b(x,(k==null?void 0:k.errors)||[]),Or(()=>{lt&&(lt.__flags.pendingReset=!1)})}function nt(x,k){let B=x!=null&&x.values?x.values:V.value;B=Fi(A)&&Ye(A.cast)?A.cast(B):B,It(B),Qt(it=>{var lt;it.__flags.pendingReset=!0,it.validated=!1,it.touched=((lt=x==null?void 0:x.touched)===null||lt===void 0?void 0:lt[it.path])||!1,R(it.path,kn(B,it.path),!1),b(it.path,void 0)}),k!=null&&k.force?U(B,!1):Z(B,!1),_((x==null?void 0:x.errors)||{}),a.value=(x==null?void 0:x.submitCount)||0,Or(()=>{X({mode:"silent"}),Qt(it=>{it.__flags.pendingReset=!1})})}async function X(x){const k=(x==null?void 0:x.mode)||"force";if(k==="force"&&Qt(At=>At.validated=!0),vt.validateSchema)return vt.validateSchema(k);u.value=!0;const B=await Promise.all(d.value.map(At=>At.validate?At.validate(x).then(Vt=>({key:At.path,valid:Vt.valid,errors:Vt.errors})):Promise.resolve({key:At.path,valid:!0,errors:[]})));u.value=!1;const it={},lt={};for(const At of B)it[At.key]={valid:At.valid,errors:At.errors},At.errors.length&&(lt[At.key]=At.errors[0]);return{valid:B.every(At=>At.valid),results:it,errors:lt}}async function tt(x,k){var B;const it=st(x);if(it&&(k==null?void 0:k.mode)!=="silent"&&(it.validated=!0),A){const{results:lt}=await ce((k==null?void 0:k.mode)||"validated-only");return lt[x]||{errors:[],valid:!0}}return it!=null&&it.validate?it.validate(k):(!it&&(B=k==null?void 0:k.warn),Promise.resolve({errors:[],valid:!0}))}function Y(x){pI(rt.value,x)}function wt(x,k,B=!1){at(x,k),ho(f,x,k),B&&!(t!=null&&t.initialValues)&&ho(V.value,x,le(k))}function at(x,k){ho(rt.value,x,le(k))}async function mt(){const x=Gt(A);if(!x)return{valid:!0,results:{},errors:{}};u.value=!0;const k=Tf(x)||Fi(x)?await s3(x,f):await u3(x,f,{names:O.value,bailsMap:P.value});return u.value=!1,k}const St=de((x,{evt:k})=>{FA(k)&&k.target.submit()});Mv(()=>{if(t!=null&&t.initialErrors&&_(t.initialErrors),t!=null&&t.initialTouched&&F(t.initialTouched),t!=null&&t.validateOnMount){X();return}vt.validateSchema&&vt.validateSchema("silent")}),ae(A)&&Yn(A,()=>{var x;(x=vt.validateSchema)===null||x===void 0||x.call(vt,"validated-only")}),Ns(wh,vt);function Bt(x,k){const B=st(_e(x))||Wt(x),it=()=>Ye(k)?k(Zu(B,ta)):k||{};function lt(){var kt;B.touched=!0,((kt=it().validateOnBlur)!==null&&kt!==void 0?kt:ki().validateOnBlur)&&tt(B.path)}function At(kt){var Mt;const Dt=(Mt=it().validateOnModelUpdate)!==null&&Mt!==void 0?Mt:ki().validateOnModelUpdate;R(B.path,kt,Dt)}return qt(()=>{if(Ye(k)){const Dt=k(B),en=Dt.model||"modelValue";return Object.assign({onBlur:lt,[en]:B.value,[`onUpdate:${en}`]:At},Dt.props||{})}const kt=(k==null?void 0:k.model)||"modelValue",Mt={onBlur:lt,[kt]:B.value,[`onUpdate:${kt}`]:At};return k!=null&&k.mapProps?Object.assign(Object.assign({},Mt),k.mapProps(Zu(B,ta))):Mt})}function _t(x,k){const B=st(_e(x))||Wt(x),it=()=>Ye(k)?k(Zu(B,ta)):k||{};function lt(){var Mt;B.touched=!0,((Mt=it().validateOnBlur)!==null&&Mt!==void 0?Mt:ki().validateOnBlur)&&tt(B.path)}function At(Mt){var Dt;const en=Sf(Mt),nn=(Dt=it().validateOnInput)!==null&&Dt!==void 0?Dt:ki().validateOnInput;R(B.path,en,nn)}function Vt(Mt){var Dt;const en=Sf(Mt),nn=(Dt=it().validateOnChange)!==null&&Dt!==void 0?Dt:ki().validateOnChange;R(B.path,en,nn)}return qt(()=>{const Mt={value:B.value,onChange:Vt,onInput:At,onBlur:lt};return Ye(k)?Object.assign(Object.assign({},Mt),k(Zu(B,ta)).attrs||{}):k!=null&&k.mapAttrs?Object.assign(Object.assign({},Mt),k.mapAttrs(Zu(B,ta))):Mt})}return Object.assign(Object.assign({},vt),{values:Cv(f),handleReset:()=>nt(),submitForm:St,defineComponentBinds:Bt,defineInputBinds:_t})}function I3(t,e,n,i){const o={touched:"some",pending:"some",valid:"every"},u=qt(()=>!En(e,Gt(n)));function a(){const f=t.value;return ir(o).reduce((d,g)=>{const v=o[g];return d[g]=f[v](y=>y[g]),d},{})}const l=ei(a());return JO(()=>{const f=a();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),qt(()=>Object.assign(Object.assign({initialValues:Gt(n)},l),{valid:l.valid&&!ir(i.value).length,dirty:u.value}))}function T3(t,e,n){const i=HA(n),o=n==null?void 0:n.initialValues,u=mn(i),a=mn(le(i));function l(f,d=!1){u.value=Ef(le(u.value)||{},le(f)),a.value=Ef(le(a.value)||{},le(f)),d&&t.value.forEach(g=>{if(g.touched)return;const y=kn(u.value,g.path);ho(e,g.path,le(y))})}return ae(o)&&Yn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:u,originalInitialValues:a,setInitialValues:l}}const S3=Ha({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=Ii(t,"initialValues"),i=Ii(t,"validationSchema"),o=Ii(t,"keepValues"),{errors:u,errorBag:a,values:l,meta:f,isSubmitting:d,isValidating:g,submitCount:v,controlledValues:y,validate:b,validateField:_,handleReset:T,resetForm:N,handleSubmit:O,setErrors:P,setFieldError:j,setFieldValue:q,setValues:rt,setFieldTouched:V,setTouched:It,resetField:Q}=E3({validationSchema:i.value?i:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:o}),ht=O((Lt,{evt:gt})=>{FA(gt)&&gt.target.submit()},t.onInvalidSubmit),A=t.onSubmit?O(t.onSubmit,t.onInvalidSubmit):ht;function Wt(Lt){cy(Lt)&&Lt.preventDefault(),T(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function oe(Lt,gt){return O(typeof Lt=="function"&&!gt?Lt:gt,t.onInvalidSubmit)(Lt)}function se(){return le(l)}function ce(){return le(f.value)}function Qt(){return le(u.value)}function st(){return{meta:f.value,errors:u.value,errorBag:a.value,values:l,isSubmitting:d.value,isValidating:g.value,submitCount:v.value,controlledValues:y.value,validate:b,validateField:_,handleSubmit:oe,handleReset:T,submitForm:ht,setErrors:P,setFieldError:j,setFieldValue:q,setValues:rt,setFieldTouched:V,setTouched:It,resetForm:N,resetField:Q,getValues:se,getMeta:ce,getErrors:Qt}}return e.expose({setFieldError:j,setErrors:P,setFieldValue:q,setValues:rt,setFieldTouched:V,setTouched:It,resetForm:N,validate:b,validateField:_,resetField:Q,getValues:se,getMeta:ce,getErrors:Qt}),function(){const gt=t.as==="form"?t.as:t.as?Vv(t.as):null,he=fy(gt,e,st);return gt?Rs(gt,Object.assign(Object.assign(Object.assign({},gt==="form"?{novalidate:!0}:{}),e.attrs),{onSubmit:A,onReset:Wt}),he):he}}}),A3=S3,N3=Ha({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=or(wh,void 0),i=qt(()=>n==null?void 0:n.errors.value[t.name]);function o(){return{message:i.value}}return()=>{if(!i.value)return;const u=t.as?Vv(t.as):t.as,a=fy(u,e,o),l=Object.assign({role:"alert"},e.attrs);return!u&&(Array.isArray(a)||!a)&&(a!=null&&a.length)?a:(Array.isArray(a)||!a)&&!(a!=null&&a.length)?Rs(u||"span",l,i.value):Rs(u,l,a)}}}),k3=N3;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const kl={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},x3=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function fu(t,e){return Array.isArray(t)?t[0]:t[e]}function oi(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const zA=(t,e)=>{if(oi(t))return!0;const n=x3(e);if(Array.isArray(t))return t.every(o=>zA(o,{locale:n}));const i=String(t);return n?(kl[n]||kl.en).test(i):Object.keys(kl).some(o=>kl[o].test(i))},C3=(t,e)=>{const n=fu(e,"target");return String(t)===String(n)},GA=(t,e)=>{if(oi(t))return!0;const n=fu(e,"length");if(Array.isArray(t))return t.every(o=>GA(o,{length:n}));const i=String(t);return/^[0-9]*$/.test(i)&&i.length===Number(n)},O3=t=>{if(oi(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function R3(t){return t==null}function D3(t){return Array.isArray(t)&&t.length===0}const WA=(t,e)=>{if(oi(t))return!0;const n=fu(e,"length");return Array.isArray(t)?t.every(i=>WA(i,{length:n})):[...String(t)].length<=Number(n)},QA=(t,e)=>{if(oi(t))return!0;const n=fu(e,"max");return Array.isArray(t)?t.length>0&&t.every(i=>QA(i,{max:n})):Number(t)<=Number(n)},YA=(t,e)=>{if(oi(t))return!0;const n=fu(e,"length");return Array.isArray(t)?t.every(i=>YA(i,{length:n})):[...String(t)].length>=Number(n)},XA=(t,e)=>{if(oi(t))return!0;const n=fu(e,"min");return Array.isArray(t)?t.length>0&&t.every(i=>XA(i,{min:n})):Number(t)>=Number(n)},JA=(t,e)=>oi(t)?!0:Array.isArray(t)?t.every(n=>JA(n,e)):Array.from(e).some(n=>n==t),bI=(t,e)=>oi(t)?!0:!JA(t,e),_I=t=>R3(t)||D3(t)||t===!1?!1:!!String(t).trim().length;function P3(t,e){const n=e[0],i=new Date(t),o=new Date;return o.setFullYear(o.getFullYear()-n),i.getTime()<=o.getTime()}const L3={install(t){t.component("VeeForm",A3),t.component("VeeField",b3),t.component("ErrorMessage",k3),Bn("required",_I),Bn("tos",_I),Bn("min",YA),Bn("max",WA),Bn("alpha_spaces",zA),Bn("email",O3),Bn("min_value",XA),Bn("max_value",QA),Bn("passwords_missmatch",C3),Bn("excluded",bI),Bn("country_excluded",bI),Bn("digits",GA),Bn("minAge",P3),t3({generateMessage:e=>{const n={required:`The field ${e.field} is required.`,min:`The field ${e.field} must have at least ${e.rule.params} characters.`,max:`The field ${e.field} maximun length is ${e.rule.params}.`,alpha_spaces:`The field ${e.field} may only contain alphabetical characters and spaces.`,email:`The field ${e.field} must be a valid email.`,min_value:`The field ${e.field} can't be under ${e.rule.params}.`,max_value:`The field ${e.field} can't be above ${e.rule.params}.`,excluded:`You are not allowed to use this value for the field ${e.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${e.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${e.field} must be a valid phone number (012345678)`,minAge:`You must be at least ${e.rule.params} years old`};return n[e.rule.name]?n[e.rule.name]:`The field ${e.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};let ms;Yr.onAuthStateChanged(()=>{ms||(ms=dD(qj),ms.use(vD()),ms.use(OU),ms.use(L3),ms.mount("#app"))});
