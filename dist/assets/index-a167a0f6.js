(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function Rv(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const wt={},Gs=[],Pr=()=>{},nR=()=>!1,rR=/^on[^a-z]/,vh=e=>rR.test(e),Dv=e=>e.startsWith("onUpdate:"),tn=Object.assign,Lv=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},iR=Object.prototype.hasOwnProperty,nt=(e,t)=>iR.call(e,t),Ae=Array.isArray,Ws=e=>Al(e)==="[object Map]",yh=e=>Al(e)==="[object Set]",c1=e=>Al(e)==="[object Date]",je=e=>typeof e=="function",Ht=e=>typeof e=="string",zu=e=>typeof e=="symbol",pt=e=>e!==null&&typeof e=="object",aT=e=>pt(e)&&je(e.then)&&je(e.catch),uT=Object.prototype.toString,Al=e=>uT.call(e),oR=e=>Al(e).slice(8,-1),lT=e=>Al(e)==="[object Object]",Mv=e=>Ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,bf=Rv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),bh=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},sR=/-(\w)/g,Zr=bh(e=>e.replace(sR,(t,n)=>n?n.toUpperCase():"")),aR=/\B([A-Z])/g,Aa=bh(e=>e.replace(aR,"-$1").toLowerCase()),_h=bh(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wg=bh(e=>e?`on${_h(e)}`:""),Xu=(e,t)=>!Object.is(e,t),_f=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Of=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},cT=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let f1;const km=()=>f1||(f1=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function wh(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Ht(r)?fR(r):wh(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Ht(e))return e;if(pt(e))return e}}const uR=/;(?![^(]*\))/g,lR=/:([^]+)/,cR=/\/\*[^]*?\*\//g;function fR(e){const t={};return e.replace(cR,"").split(uR).forEach(n=>{if(n){const r=n.split(lR);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function xt(e){let t="";if(Ht(e))t=e;else if(Ae(e))for(let n=0;n<e.length;n++){const r=xt(e[n]);r&&(t+=r+" ")}else if(pt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const hR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",dR=Rv(hR);function fT(e){return!!e||e===""}function pR(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Sh(e[r],t[r]);return n}function Sh(e,t){if(e===t)return!0;let n=c1(e),r=c1(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=zu(e),r=zu(t),n||r)return e===t;if(n=Ae(e),r=Ae(t),n||r)return n&&r?pR(e,t):!1;if(n=pt(e),r=pt(t),n||r){if(!n||!r)return!1;const o=Object.keys(e).length,s=Object.keys(t).length;if(o!==s)return!1;for(const u in e){const l=e.hasOwnProperty(u),f=t.hasOwnProperty(u);if(l&&!f||!l&&f||!Sh(e[u],t[u]))return!1}}return String(e)===String(t)}function gR(e,t){return e.findIndex(n=>Sh(n,t))}const gt=e=>Ht(e)?e:e==null?"":Ae(e)||pt(e)&&(e.toString===uT||!je(e.toString))?JSON.stringify(e,hT,2):String(e),hT=(e,t)=>t&&t.__v_isRef?hT(e,t.value):Ws(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:yh(t)?{[`Set(${t.size})`]:[...t.values()]}:pt(t)&&!Ae(t)&&!lT(t)?String(t):t;let nr;class dT{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=nr,!t&&nr&&(this.index=(nr.scopes||(nr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=nr;try{return nr=this,t()}finally{nr=n}}}on(){nr=this}off(){nr=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function pT(e){return new dT(e)}function mR(e,t=nr){t&&t.active&&t.effects.push(e)}function gT(){return nr}function vR(e){nr&&nr.cleanups.push(e)}const Fv=e=>{const t=new Set(e);return t.w=0,t.n=0,t},mT=e=>(e.w&Qi)>0,vT=e=>(e.n&Qi)>0,yR=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Qi},bR=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];mT(o)&&!vT(o)?o.delete(e):t[n++]=o,o.w&=~Qi,o.n&=~Qi}t.length=n}},Pf=new WeakMap;let Ou=0,Qi=1;const Cm=30;let kr;const Bo=Symbol(""),Om=Symbol("");class Vv{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,mR(this,r)}run(){if(!this.active)return this.fn();let t=kr,n=Ki;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=kr,kr=this,Ki=!0,Qi=1<<++Ou,Ou<=Cm?yR(this):h1(this),this.fn()}finally{Ou<=Cm&&bR(this),Qi=1<<--Ou,kr=this.parent,Ki=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){kr===this?this.deferStop=!0:this.active&&(h1(this),this.onStop&&this.onStop(),this.active=!1)}}function h1(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ki=!0;const yT=[];function xa(){yT.push(Ki),Ki=!1}function ka(){const e=yT.pop();Ki=e===void 0?!0:e}function Gn(e,t,n){if(Ki&&kr){let r=Pf.get(e);r||Pf.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Fv()),bT(o)}}function bT(e,t){let n=!1;Ou<=Cm?vT(e)||(e.n|=Qi,n=!mT(e)):n=!e.has(kr),n&&(e.add(kr),kr.deps.push(e))}function gi(e,t,n,r,o,s){const u=Pf.get(e);if(!u)return;let l=[];if(t==="clear")l=[...u.values()];else if(n==="length"&&Ae(e)){const f=Number(r);u.forEach((d,m)=>{(m==="length"||m>=f)&&l.push(d)})}else switch(n!==void 0&&l.push(u.get(n)),t){case"add":Ae(e)?Mv(n)&&l.push(u.get("length")):(l.push(u.get(Bo)),Ws(e)&&l.push(u.get(Om)));break;case"delete":Ae(e)||(l.push(u.get(Bo)),Ws(e)&&l.push(u.get(Om)));break;case"set":Ws(e)&&l.push(u.get(Bo));break}if(l.length===1)l[0]&&Pm(l[0]);else{const f=[];for(const d of l)d&&f.push(...d);Pm(Fv(f))}}function Pm(e,t){const n=Ae(e)?e:[...e];for(const r of n)r.computed&&d1(r);for(const r of n)r.computed||d1(r)}function d1(e,t){(e!==kr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function _R(e,t){var n;return(n=Pf.get(e))==null?void 0:n.get(t)}const wR=Rv("__proto__,__v_isRef,__isVue"),_T=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(zu)),SR=jv(),ER=jv(!1,!0),TR=jv(!0),p1=IR();function IR(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=rt(this);for(let s=0,u=this.length;s<u;s++)Gn(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(rt)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){xa();const r=rt(this)[t].apply(this,n);return ka(),r}}),e}function AR(e){const t=rt(this);return Gn(t,"has",e),t.hasOwnProperty(e)}function jv(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?$R:IT:t?TT:ET).get(r))return r;const u=Ae(r);if(!e){if(u&&nt(p1,o))return Reflect.get(p1,o,s);if(o==="hasOwnProperty")return AR}const l=Reflect.get(r,o,s);return(zu(o)?_T.has(o):wR(o))||(e||Gn(r,"get",o),t)?l:ht(l)?u&&Mv(o)?l:l.value:pt(l)?e?Th(l):ei(l):l}}const xR=wT(),kR=wT(!0);function wT(e=!1){return function(n,r,o,s){let u=n[r];if(Js(u)&&ht(u)&&!ht(o))return!1;if(!e&&(!Nf(o)&&!Js(o)&&(u=rt(u),o=rt(o)),!Ae(n)&&ht(u)&&!ht(o)))return u.value=o,!0;const l=Ae(n)&&Mv(r)?Number(r)<n.length:nt(n,r),f=Reflect.set(n,r,o,s);return n===rt(s)&&(l?Xu(o,u)&&gi(n,"set",r,o):gi(n,"add",r,o)),f}}function CR(e,t){const n=nt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&gi(e,"delete",t,void 0),r}function OR(e,t){const n=Reflect.has(e,t);return(!zu(t)||!_T.has(t))&&Gn(e,"has",t),n}function PR(e){return Gn(e,"iterate",Ae(e)?"length":Bo),Reflect.ownKeys(e)}const ST={get:SR,set:xR,deleteProperty:CR,has:OR,ownKeys:PR},NR={get:TR,set(e,t){return!0},deleteProperty(e,t){return!0}},RR=tn({},ST,{get:ER,set:kR}),Uv=e=>e,Eh=e=>Reflect.getPrototypeOf(e);function Jc(e,t,n=!1,r=!1){e=e.__v_raw;const o=rt(e),s=rt(t);n||(t!==s&&Gn(o,"get",t),Gn(o,"get",s));const{has:u}=Eh(o),l=r?Uv:n?qv:Yu;if(u.call(o,t))return l(e.get(t));if(u.call(o,s))return l(e.get(s));e!==o&&e.get(t)}function Zc(e,t=!1){const n=this.__v_raw,r=rt(n),o=rt(e);return t||(e!==o&&Gn(r,"has",e),Gn(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function ef(e,t=!1){return e=e.__v_raw,!t&&Gn(rt(e),"iterate",Bo),Reflect.get(e,"size",e)}function g1(e){e=rt(e);const t=rt(this);return Eh(t).has.call(t,e)||(t.add(e),gi(t,"add",e,e)),this}function m1(e,t){t=rt(t);const n=rt(this),{has:r,get:o}=Eh(n);let s=r.call(n,e);s||(e=rt(e),s=r.call(n,e));const u=o.call(n,e);return n.set(e,t),s?Xu(t,u)&&gi(n,"set",e,t):gi(n,"add",e,t),this}function v1(e){const t=rt(this),{has:n,get:r}=Eh(t);let o=n.call(t,e);o||(e=rt(e),o=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return o&&gi(t,"delete",e,void 0),s}function y1(){const e=rt(this),t=e.size!==0,n=e.clear();return t&&gi(e,"clear",void 0,void 0),n}function tf(e,t){return function(r,o){const s=this,u=s.__v_raw,l=rt(u),f=t?Uv:e?qv:Yu;return!e&&Gn(l,"iterate",Bo),u.forEach((d,m)=>r.call(o,f(d),f(m),s))}}function nf(e,t,n){return function(...r){const o=this.__v_raw,s=rt(o),u=Ws(s),l=e==="entries"||e===Symbol.iterator&&u,f=e==="keys"&&u,d=o[e](...r),m=n?Uv:t?qv:Yu;return!t&&Gn(s,"iterate",f?Om:Bo),{next(){const{value:h,done:g}=d.next();return g?{value:h,done:g}:{value:l?[m(h[0]),m(h[1])]:m(h),done:g}},[Symbol.iterator](){return this}}}}function Ci(e){return function(...t){return e==="delete"?!1:this}}function DR(){const e={get(s){return Jc(this,s)},get size(){return ef(this)},has:Zc,add:g1,set:m1,delete:v1,clear:y1,forEach:tf(!1,!1)},t={get(s){return Jc(this,s,!1,!0)},get size(){return ef(this)},has:Zc,add:g1,set:m1,delete:v1,clear:y1,forEach:tf(!1,!0)},n={get(s){return Jc(this,s,!0)},get size(){return ef(this,!0)},has(s){return Zc.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:tf(!0,!1)},r={get(s){return Jc(this,s,!0,!0)},get size(){return ef(this,!0)},has(s){return Zc.call(this,s,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:tf(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=nf(s,!1,!1),n[s]=nf(s,!0,!1),t[s]=nf(s,!1,!0),r[s]=nf(s,!0,!0)}),[e,n,t,r]}const[LR,MR,FR,VR]=DR();function Bv(e,t){const n=t?e?VR:FR:e?MR:LR;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(nt(n,o)&&o in r?n:r,o,s)}const jR={get:Bv(!1,!1)},UR={get:Bv(!1,!0)},BR={get:Bv(!0,!1)},ET=new WeakMap,TT=new WeakMap,IT=new WeakMap,$R=new WeakMap;function qR(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HR(e){return e.__v_skip||!Object.isExtensible(e)?0:qR(oR(e))}function ei(e){return Js(e)?e:$v(e,!1,ST,jR,ET)}function AT(e){return $v(e,!1,RR,UR,TT)}function Th(e){return $v(e,!0,NR,BR,IT)}function $v(e,t,n,r,o){if(!pt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const u=HR(e);if(u===0)return e;const l=new Proxy(e,u===2?r:n);return o.set(e,l),l}function Gi(e){return Js(e)?Gi(e.__v_raw):!!(e&&e.__v_isReactive)}function Js(e){return!!(e&&e.__v_isReadonly)}function Nf(e){return!!(e&&e.__v_isShallow)}function xT(e){return Gi(e)||Js(e)}function rt(e){const t=e&&e.__v_raw;return t?rt(t):e}function Ih(e){return Of(e,"__v_skip",!0),e}const Yu=e=>pt(e)?ei(e):e,qv=e=>pt(e)?Th(e):e;function kT(e){Ki&&kr&&(e=rt(e),bT(e.dep||(e.dep=Fv())))}function CT(e,t){e=rt(e);const n=e.dep;n&&Pm(n)}function ht(e){return!!(e&&e.__v_isRef===!0)}function en(e){return PT(e,!1)}function OT(e){return PT(e,!0)}function PT(e,t){return ht(e)?e:new KR(e,t)}class KR{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:rt(t),this._value=n?t:Yu(t)}get value(){return kT(this),this._value}set value(t){const n=this.__v_isShallow||Nf(t)||Js(t);t=n?t:rt(t),Xu(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Yu(t),CT(this))}}function Je(e){return ht(e)?e.value:e}function Ct(e){return je(e)?e():Je(e)}const GR={get:(e,t,n)=>Je(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return ht(o)&&!ht(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function NT(e){return Gi(e)?e:new Proxy(e,GR)}function WR(e){const t=Ae(e)?new Array(e.length):{};for(const n in e)t[n]=RT(e,n);return t}class zR{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return _R(rt(this._object),this._key)}}class XR{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Vi(e,t,n){return ht(e)?e:je(e)?new XR(e):pt(e)&&arguments.length>1?RT(e,t,n):en(e)}function RT(e,t,n){const r=e[t];return ht(r)?r:new zR(e,t,n)}class YR{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Vv(t,()=>{this._dirty||(this._dirty=!0,CT(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=rt(this);return kT(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function QR(e,t,n=!1){let r,o;const s=je(e);return s?(r=e,o=Pr):(r=e.get,o=e.set),new YR(r,o,s||!o,n)}function Wi(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){Ah(s,t,n)}return o}function Nr(e,t,n,r){if(je(e)){const s=Wi(e,t,n,r);return s&&aT(s)&&s.catch(u=>{Ah(u,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(Nr(e[s],t,n,r));return o}function Ah(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const u=t.proxy,l=n;for(;s;){const d=s.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](e,u,l)===!1)return}s=s.parent}const f=t.appContext.config.errorHandler;if(f){Wi(f,null,10,[e,u,l]);return}}JR(e,n,o,r)}function JR(e,t,n,r=!0){console.error(e)}let Qu=!1,Nm=!1;const yn=[];let zr=0;const zs=[];let li=null,Ro=0;const DT=Promise.resolve();let Hv=null;function xr(e){const t=Hv||DT;return e?t.then(this?e.bind(this):e):t}function ZR(e){let t=zr+1,n=yn.length;for(;t<n;){const r=t+n>>>1;Ju(yn[r])<e?t=r+1:n=r}return t}function Kv(e){(!yn.length||!yn.includes(e,Qu&&e.allowRecurse?zr+1:zr))&&(e.id==null?yn.push(e):yn.splice(ZR(e.id),0,e),LT())}function LT(){!Qu&&!Nm&&(Nm=!0,Hv=DT.then(FT))}function eD(e){const t=yn.indexOf(e);t>zr&&yn.splice(t,1)}function tD(e){Ae(e)?zs.push(...e):(!li||!li.includes(e,e.allowRecurse?Ro+1:Ro))&&zs.push(e),LT()}function b1(e,t=Qu?zr+1:0){for(;t<yn.length;t++){const n=yn[t];n&&n.pre&&(yn.splice(t,1),t--,n())}}function MT(e){if(zs.length){const t=[...new Set(zs)];if(zs.length=0,li){li.push(...t);return}for(li=t,li.sort((n,r)=>Ju(n)-Ju(r)),Ro=0;Ro<li.length;Ro++)li[Ro]();li=null,Ro=0}}const Ju=e=>e.id==null?1/0:e.id,nD=(e,t)=>{const n=Ju(e)-Ju(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function FT(e){Nm=!1,Qu=!0,yn.sort(nD);const t=Pr;try{for(zr=0;zr<yn.length;zr++){const n=yn[zr];n&&n.active!==!1&&Wi(n,null,14)}}finally{zr=0,yn.length=0,MT(),Qu=!1,Hv=null,(yn.length||zs.length)&&FT()}}function rD(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||wt;let o=n;const s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in r){const m=`${u==="modelValue"?"model":u}Modifiers`,{number:h,trim:g}=r[m]||wt;g&&(o=n.map(y=>Ht(y)?y.trim():y)),h&&(o=n.map(cT))}let l,f=r[l=Wg(t)]||r[l=Wg(Zr(t))];!f&&s&&(f=r[l=Wg(Aa(t))]),f&&Nr(f,e,6,o);const d=r[l+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[l])return;e.emitted[l]=!0,Nr(d,e,6,o)}}function VT(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let u={},l=!1;if(!je(e)){const f=d=>{const m=VT(d,t,!0);m&&(l=!0,tn(u,m))};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}return!s&&!l?(pt(e)&&r.set(e,null),null):(Ae(s)?s.forEach(f=>u[f]=null):tn(u,s),pt(e)&&r.set(e,u),u)}function xh(e,t){return!e||!vh(t)?!1:(t=t.slice(2).replace(/Once$/,""),nt(e,t[0].toLowerCase()+t.slice(1))||nt(e,Aa(t))||nt(e,t))}let Bn=null,jT=null;function Rf(e){const t=Bn;return Bn=e,jT=e&&e.type.__scopeId||null,t}function $n(e,t=Bn,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&O1(-1);const s=Rf(t);let u;try{u=e(...o)}finally{Rf(s),r._d&&O1(1)}return u};return r._n=!0,r._c=!0,r._d=!0,r}function zg(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:l,attrs:f,emit:d,render:m,renderCache:h,data:g,setupState:y,ctx:b,inheritAttrs:w}=e;let E,T;const k=Rf(e);try{if(n.shapeFlag&4){const F=o||r;E=Wr(m.call(F,F,h,s,y,g,b)),T=f}else{const F=t;E=Wr(F.length>1?F(s,{attrs:f,slots:l,emit:d}):F(s,null)),T=t.props?f:iD(f)}}catch(F){Mu.length=0,Ah(F,e,1),E=be(zo)}let D=E;if(T&&w!==!1){const F=Object.keys(T),{shapeFlag:J}=D;F.length&&J&7&&(u&&F.some(Dv)&&(T=oD(T,u)),D=ea(D,T))}return n.dirs&&(D=ea(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),E=D,Rf(k),E}const iD=e=>{let t;for(const n in e)(n==="class"||n==="style"||vh(n))&&((t||(t={}))[n]=e[n]);return t},oD=(e,t)=>{const n={};for(const r in e)(!Dv(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function sD(e,t,n){const{props:r,children:o,component:s}=e,{props:u,children:l,patchFlag:f}=t,d=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?_1(r,u,d):!!u;if(f&8){const m=t.dynamicProps;for(let h=0;h<m.length;h++){const g=m[h];if(u[g]!==r[g]&&!xh(d,g))return!0}}}else return(o||l)&&(!l||!l.$stable)?!0:r===u?!1:r?u?_1(r,u,d):!0:!!u;return!1}function _1(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s]&&!xh(n,s))return!0}return!1}function aD({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const uD=e=>e.__isSuspense;function lD(e,t){t&&t.pendingBranch?Ae(e)?t.effects.push(...e):t.effects.push(e):tD(e)}function cD(e,t){return Gv(e,null,t)}const rf={};function Hn(e,t,n){return Gv(e,t,n)}function Gv(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:u}=wt){var l;const f=gT()===((l=Xt)==null?void 0:l.scope)?Xt:null;let d,m=!1,h=!1;if(ht(e)?(d=()=>e.value,m=Nf(e)):Gi(e)?(d=()=>e,r=!0):Ae(e)?(h=!0,m=e.some(F=>Gi(F)||Nf(F)),d=()=>e.map(F=>{if(ht(F))return F.value;if(Gi(F))return Mo(F);if(je(F))return Wi(F,f,2)})):je(e)?t?d=()=>Wi(e,f,2):d=()=>{if(!(f&&f.isUnmounted))return g&&g(),Nr(e,f,3,[y])}:d=Pr,t&&r){const F=d;d=()=>Mo(F())}let g,y=F=>{g=k.onStop=()=>{Wi(F,f,4)}},b;if(tl)if(y=Pr,t?n&&Nr(t,f,3,[d(),h?[]:void 0,y]):d(),o==="sync"){const F=ZD();b=F.__watcherHandles||(F.__watcherHandles=[])}else return Pr;let w=h?new Array(e.length).fill(rf):rf;const E=()=>{if(k.active)if(t){const F=k.run();(r||m||(h?F.some((J,V)=>Xu(J,w[V])):Xu(F,w)))&&(g&&g(),Nr(t,f,3,[F,w===rf?void 0:h&&w[0]===rf?[]:w,y]),w=F)}else k.run()};E.allowRecurse=!!t;let T;o==="sync"?T=E:o==="post"?T=()=>jn(E,f&&f.suspense):(E.pre=!0,f&&(E.id=f.uid),T=()=>Kv(E));const k=new Vv(d,T);t?n?E():w=k.run():o==="post"?jn(k.run.bind(k),f&&f.suspense):k.run();const D=()=>{k.stop(),f&&f.scope&&Lv(f.scope.effects,k)};return b&&b.push(D),D}function fD(e,t,n){const r=this.proxy,o=Ht(e)?e.includes(".")?UT(r,e):()=>r[e]:e.bind(r,r);let s;je(t)?s=t:(s=t.handler,n=t);const u=Xt;ta(this);const l=Gv(o,s.bind(r),n);return u?ta(u):$o(),l}function UT(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function Mo(e,t){if(!pt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ht(e))Mo(e.value,t);else if(Ae(e))for(let n=0;n<e.length;n++)Mo(e[n],t);else if(yh(e)||Ws(e))e.forEach(n=>{Mo(n,t)});else if(lT(e))for(const n in e)Mo(e[n],t);return e}function Wo(e,t){const n=Bn;if(n===null)return e;const r=Nh(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,l,f,d=wt]=t[s];u&&(je(u)&&(u={mounted:u,updated:u}),u.deep&&Mo(l),o.push({dir:u,instance:r,value:l,oldValue:void 0,arg:f,modifiers:d}))}return e}function xo(e,t,n,r){const o=e.dirs,s=t&&t.dirs;for(let u=0;u<o.length;u++){const l=o[u];s&&(l.oldValue=s[u].value);let f=l.dir[r];f&&(xa(),Nr(f,n,8,[e.el,l,e,t]),ka())}}function xl(e,t){return je(e)?(()=>tn({name:e.name},t,{setup:e}))():e}const wf=e=>!!e.type.__asyncLoader,BT=e=>e.type.__isKeepAlive;function hD(e,t){$T(e,"a",t)}function dD(e,t){$T(e,"da",t)}function $T(e,t,n=Xt){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(kh(t,r,n),n){let o=n.parent;for(;o&&o.parent;)BT(o.parent.vnode)&&pD(r,t,n,o),o=o.parent}}function pD(e,t,n,r){const o=kh(t,e,r,!0);HT(()=>{Lv(r[t],o)},n)}function kh(e,t,n=Xt,r=!1){if(n){const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...u)=>{if(n.isUnmounted)return;xa(),ta(n);const l=Nr(t,n,e,u);return $o(),ka(),l});return r?o.unshift(s):o.push(s),s}}const vi=e=>(t,n=Xt)=>(!tl||e==="sp")&&kh(e,(...r)=>t(...r),n),gD=vi("bm"),Ch=vi("m"),mD=vi("bu"),vD=vi("u"),qT=vi("bum"),HT=vi("um"),yD=vi("sp"),bD=vi("rtg"),_D=vi("rtc");function wD(e,t=Xt){kh("ec",e,t)}const Wv="components";function dt(e,t){return GT(Wv,e,!0,t)||e}const KT=Symbol.for("v-ndc");function zv(e){return Ht(e)?GT(Wv,e,!1)||e:e||KT}function GT(e,t,n=!0,r=!1){const o=Bn||Xt;if(o){const s=o.type;if(e===Wv){const l=YD(s,!1);if(l&&(l===t||l===Zr(t)||l===_h(Zr(t))))return s}const u=w1(o[e]||s[e],t)||w1(o.appContext[e],t);return!u&&r?s:u}}function w1(e,t){return e&&(e[t]||e[Zr(t)]||e[_h(Zr(t))])}function kl(e,t,n,r){let o;const s=n&&n[r];if(Ae(e)||Ht(e)){o=new Array(e.length);for(let u=0,l=e.length;u<l;u++)o[u]=t(e[u],u,void 0,s&&s[u])}else if(typeof e=="number"){o=new Array(e);for(let u=0;u<e;u++)o[u]=t(u+1,u,void 0,s&&s[u])}else if(pt(e))if(e[Symbol.iterator])o=Array.from(e,(u,l)=>t(u,l,void 0,s&&s[l]));else{const u=Object.keys(e);o=new Array(u.length);for(let l=0,f=u.length;l<f;l++){const d=u[l];o[l]=t(e[d],d,l,s&&s[l])}}else o=[];return n&&(n[r]=o),o}const Rm=e=>e?rI(e)?Nh(e)||e.proxy:Rm(e.parent):null,Lu=tn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Rm(e.parent),$root:e=>Rm(e.root),$emit:e=>e.emit,$options:e=>Xv(e),$forceUpdate:e=>e.f||(e.f=()=>Kv(e.update)),$nextTick:e=>e.n||(e.n=xr.bind(e.proxy)),$watch:e=>fD.bind(e)}),Xg=(e,t)=>e!==wt&&!e.__isScriptSetup&&nt(e,t),SD={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:u,type:l,appContext:f}=e;let d;if(t[0]!=="$"){const y=u[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(Xg(r,t))return u[t]=1,r[t];if(o!==wt&&nt(o,t))return u[t]=2,o[t];if((d=e.propsOptions[0])&&nt(d,t))return u[t]=3,s[t];if(n!==wt&&nt(n,t))return u[t]=4,n[t];Dm&&(u[t]=0)}}const m=Lu[t];let h,g;if(m)return t==="$attrs"&&Gn(e,"get",t),m(e);if((h=l.__cssModules)&&(h=h[t]))return h;if(n!==wt&&nt(n,t))return u[t]=4,n[t];if(g=f.config.globalProperties,nt(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return Xg(o,t)?(o[t]=n,!0):r!==wt&&nt(r,t)?(r[t]=n,!0):nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},u){let l;return!!n[u]||e!==wt&&nt(e,u)||Xg(t,u)||(l=s[0])&&nt(l,u)||nt(r,u)||nt(Lu,u)||nt(o.config.globalProperties,u)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function S1(e){return Ae(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Dm=!0;function ED(e){const t=Xv(e),n=e.proxy,r=e.ctx;Dm=!1,t.beforeCreate&&E1(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:u,watch:l,provide:f,inject:d,created:m,beforeMount:h,mounted:g,beforeUpdate:y,updated:b,activated:w,deactivated:E,beforeDestroy:T,beforeUnmount:k,destroyed:D,unmounted:F,render:J,renderTracked:V,renderTriggered:fe,errorCaptured:G,serverPrefetch:X,expose:C,inheritAttrs:He,components:Ze,directives:tt,filters:Xe}=t;if(d&&TD(d,r,null),u)for(const Me in u){const me=u[Me];je(me)&&(r[Me]=me.bind(n))}if(o){const Me=o.call(n,n);pt(Me)&&(e.data=ei(Me))}if(Dm=!0,s)for(const Me in s){const me=s[Me],yt=je(me)?me.bind(n,n):je(me.get)?me.get.bind(n,n):Pr,Pt=!je(me)&&je(me.set)?me.set.bind(n):Pr,Wt=qe({get:yt,set:Pt});Object.defineProperty(r,Me,{enumerable:!0,configurable:!0,get:()=>Wt.value,set:jt=>Wt.value=jt})}if(l)for(const Me in l)WT(l[Me],r,n,Me);if(f){const Me=je(f)?f.call(n):f;Reflect.ownKeys(Me).forEach(me=>{Xs(me,Me[me])})}m&&E1(m,e,"c");function ae(Me,me){Ae(me)?me.forEach(yt=>Me(yt.bind(n))):me&&Me(me.bind(n))}if(ae(gD,h),ae(Ch,g),ae(mD,y),ae(vD,b),ae(hD,w),ae(dD,E),ae(wD,G),ae(_D,V),ae(bD,fe),ae(qT,k),ae(HT,F),ae(yD,X),Ae(C))if(C.length){const Me=e.exposed||(e.exposed={});C.forEach(me=>{Object.defineProperty(Me,me,{get:()=>n[me],set:yt=>n[me]=yt})})}else e.exposed||(e.exposed={});J&&e.render===Pr&&(e.render=J),He!=null&&(e.inheritAttrs=He),Ze&&(e.components=Ze),tt&&(e.directives=tt)}function TD(e,t,n=Pr){Ae(e)&&(e=Lm(e));for(const r in e){const o=e[r];let s;pt(o)?"default"in o?s=br(o.from||r,o.default,!0):s=br(o.from||r):s=br(o),ht(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:u=>s.value=u}):t[r]=s}}function E1(e,t,n){Nr(Ae(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function WT(e,t,n,r){const o=r.includes(".")?UT(n,r):()=>n[r];if(Ht(e)){const s=t[e];je(s)&&Hn(o,s)}else if(je(e))Hn(o,e.bind(n));else if(pt(e))if(Ae(e))e.forEach(s=>WT(s,t,n,r));else{const s=je(e.handler)?e.handler.bind(n):t[e.handler];je(s)&&Hn(o,s,e)}}function Xv(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:u}}=e.appContext,l=s.get(t);let f;return l?f=l:!o.length&&!n&&!r?f=t:(f={},o.length&&o.forEach(d=>Df(f,d,u,!0)),Df(f,t,u)),pt(t)&&s.set(t,f),f}function Df(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&Df(e,s,n,!0),o&&o.forEach(u=>Df(e,u,n,!0));for(const u in t)if(!(r&&u==="expose")){const l=ID[u]||n&&n[u];e[u]=l?l(e[u],t[u]):t[u]}return e}const ID={data:T1,props:I1,emits:I1,methods:Pu,computed:Pu,beforeCreate:xn,created:xn,beforeMount:xn,mounted:xn,beforeUpdate:xn,updated:xn,beforeDestroy:xn,beforeUnmount:xn,destroyed:xn,unmounted:xn,activated:xn,deactivated:xn,errorCaptured:xn,serverPrefetch:xn,components:Pu,directives:Pu,watch:xD,provide:T1,inject:AD};function T1(e,t){return t?e?function(){return tn(je(e)?e.call(this,this):e,je(t)?t.call(this,this):t)}:t:e}function AD(e,t){return Pu(Lm(e),Lm(t))}function Lm(e){if(Ae(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function xn(e,t){return e?[...new Set([].concat(e,t))]:t}function Pu(e,t){return e?tn(Object.create(null),e,t):t}function I1(e,t){return e?Ae(e)&&Ae(t)?[...new Set([...e,...t])]:tn(Object.create(null),S1(e),S1(t??{})):t}function xD(e,t){if(!e)return t;if(!t)return e;const n=tn(Object.create(null),e);for(const r in t)n[r]=xn(e[r],t[r]);return n}function zT(){return{app:null,config:{isNativeTag:nR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kD=0;function CD(e,t){return function(r,o=null){je(r)||(r=tn({},r)),o!=null&&!pt(o)&&(o=null);const s=zT(),u=new Set;let l=!1;const f=s.app={_uid:kD++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:eL,get config(){return s.config},set config(d){},use(d,...m){return u.has(d)||(d&&je(d.install)?(u.add(d),d.install(f,...m)):je(d)&&(u.add(d),d(f,...m))),f},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),f},component(d,m){return m?(s.components[d]=m,f):s.components[d]},directive(d,m){return m?(s.directives[d]=m,f):s.directives[d]},mount(d,m,h){if(!l){const g=be(r,o);return g.appContext=s,m&&t?t(g,d):e(g,d,h),l=!0,f._container=d,d.__vue_app__=f,Nh(g.component)||g.component.proxy}},unmount(){l&&(e(null,f._container),delete f._container.__vue_app__)},provide(d,m){return s.provides[d]=m,f},runWithContext(d){Zu=f;try{return d()}finally{Zu=null}}};return f}}let Zu=null;function Xs(e,t){if(Xt){let n=Xt.provides;const r=Xt.parent&&Xt.parent.provides;r===n&&(n=Xt.provides=Object.create(r)),n[e]=t}}function br(e,t,n=!1){const r=Xt||Bn;if(r||Zu){const o=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Zu._context.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&je(t)?t.call(r&&r.proxy):t}}function OD(){return!!(Xt||Bn||Zu)}function PD(e,t,n,r=!1){const o={},s={};Of(s,Ph,1),e.propsDefaults=Object.create(null),XT(e,t,o,s);for(const u in e.propsOptions[0])u in o||(o[u]=void 0);n?e.props=r?o:AT(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function ND(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:u}}=e,l=rt(o),[f]=e.propsOptions;let d=!1;if((r||u>0)&&!(u&16)){if(u&8){const m=e.vnode.dynamicProps;for(let h=0;h<m.length;h++){let g=m[h];if(xh(e.emitsOptions,g))continue;const y=t[g];if(f)if(nt(s,g))y!==s[g]&&(s[g]=y,d=!0);else{const b=Zr(g);o[b]=Mm(f,l,b,y,e,!1)}else y!==s[g]&&(s[g]=y,d=!0)}}}else{XT(e,t,o,s)&&(d=!0);let m;for(const h in l)(!t||!nt(t,h)&&((m=Aa(h))===h||!nt(t,m)))&&(f?n&&(n[h]!==void 0||n[m]!==void 0)&&(o[h]=Mm(f,l,h,void 0,e,!0)):delete o[h]);if(s!==l)for(const h in s)(!t||!nt(t,h))&&(delete s[h],d=!0)}d&&gi(e,"set","$attrs")}function XT(e,t,n,r){const[o,s]=e.propsOptions;let u=!1,l;if(t)for(let f in t){if(bf(f))continue;const d=t[f];let m;o&&nt(o,m=Zr(f))?!s||!s.includes(m)?n[m]=d:(l||(l={}))[m]=d:xh(e.emitsOptions,f)||(!(f in r)||d!==r[f])&&(r[f]=d,u=!0)}if(s){const f=rt(n),d=l||wt;for(let m=0;m<s.length;m++){const h=s[m];n[h]=Mm(o,f,h,d[h],e,!nt(d,h))}}return u}function Mm(e,t,n,r,o,s){const u=e[n];if(u!=null){const l=nt(u,"default");if(l&&r===void 0){const f=u.default;if(u.type!==Function&&!u.skipFactory&&je(f)){const{propsDefaults:d}=o;n in d?r=d[n]:(ta(o),r=d[n]=f.call(null,t),$o())}else r=f}u[0]&&(s&&!l?r=!1:u[1]&&(r===""||r===Aa(n))&&(r=!0))}return r}function YT(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,u={},l=[];let f=!1;if(!je(e)){const m=h=>{f=!0;const[g,y]=YT(h,t,!0);tn(u,g),y&&l.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(m),e.extends&&m(e.extends),e.mixins&&e.mixins.forEach(m)}if(!s&&!f)return pt(e)&&r.set(e,Gs),Gs;if(Ae(s))for(let m=0;m<s.length;m++){const h=Zr(s[m]);A1(h)&&(u[h]=wt)}else if(s)for(const m in s){const h=Zr(m);if(A1(h)){const g=s[m],y=u[h]=Ae(g)||je(g)?{type:g}:tn({},g);if(y){const b=C1(Boolean,y.type),w=C1(String,y.type);y[0]=b>-1,y[1]=w<0||b<w,(b>-1||nt(y,"default"))&&l.push(h)}}}const d=[u,l];return pt(e)&&r.set(e,d),d}function A1(e){return e[0]!=="$"}function x1(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function k1(e,t){return x1(e)===x1(t)}function C1(e,t){return Ae(t)?t.findIndex(n=>k1(n,e)):je(t)&&k1(t,e)?0:-1}const QT=e=>e[0]==="_"||e==="$stable",Yv=e=>Ae(e)?e.map(Wr):[Wr(e)],RD=(e,t,n)=>{if(t._n)return t;const r=$n((...o)=>Yv(t(...o)),n);return r._c=!1,r},JT=(e,t,n)=>{const r=e._ctx;for(const o in e){if(QT(o))continue;const s=e[o];if(je(s))t[o]=RD(o,s,r);else if(s!=null){const u=Yv(s);t[o]=()=>u}}},ZT=(e,t)=>{const n=Yv(t);e.slots.default=()=>n},DD=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=rt(t),Of(t,"_",n)):JT(t,e.slots={})}else e.slots={},t&&ZT(e,t);Of(e.slots,Ph,1)},LD=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,u=wt;if(r.shapeFlag&32){const l=t._;l?n&&l===1?s=!1:(tn(o,t),!n&&l===1&&delete o._):(s=!t.$stable,JT(t,o)),u=t}else t&&(ZT(e,t),u={default:1});if(s)for(const l in o)!QT(l)&&!(l in u)&&delete o[l]};function Fm(e,t,n,r,o=!1){if(Ae(e)){e.forEach((g,y)=>Fm(g,t&&(Ae(t)?t[y]:t),n,r,o));return}if(wf(r)&&!o)return;const s=r.shapeFlag&4?Nh(r.component)||r.component.proxy:r.el,u=o?null:s,{i:l,r:f}=e,d=t&&t.r,m=l.refs===wt?l.refs={}:l.refs,h=l.setupState;if(d!=null&&d!==f&&(Ht(d)?(m[d]=null,nt(h,d)&&(h[d]=null)):ht(d)&&(d.value=null)),je(f))Wi(f,l,12,[u,m]);else{const g=Ht(f),y=ht(f);if(g||y){const b=()=>{if(e.f){const w=g?nt(h,f)?h[f]:m[f]:f.value;o?Ae(w)&&Lv(w,s):Ae(w)?w.includes(s)||w.push(s):g?(m[f]=[s],nt(h,f)&&(h[f]=m[f])):(f.value=[s],e.k&&(m[e.k]=f.value))}else g?(m[f]=u,nt(h,f)&&(h[f]=u)):y&&(f.value=u,e.k&&(m[e.k]=u))};u?(b.id=-1,jn(b,n)):b()}}}const jn=lD;function MD(e){return FD(e)}function FD(e,t){const n=km();n.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:u,createText:l,createComment:f,setText:d,setElementText:m,parentNode:h,nextSibling:g,setScopeId:y=Pr,insertStaticContent:b}=e,w=(A,x,R,U=null,B=null,z=null,ie=!1,Z=null,ne=!!x.dynamicChildren)=>{if(A===x)return;A&&!Su(A,x)&&(U=L(A),jt(A,B,z,!0),A=null),x.patchFlag===-2&&(ne=!1,x.dynamicChildren=null);const{type:Q,ref:we,shapeFlag:le}=x;switch(Q){case Oh:E(A,x,R,U);break;case zo:T(A,x,R,U);break;case Yg:A==null&&k(x,R,U,ie);break;case Vt:Ze(A,x,R,U,B,z,ie,Z,ne);break;default:le&1?J(A,x,R,U,B,z,ie,Z,ne):le&6?tt(A,x,R,U,B,z,ie,Z,ne):(le&64||le&128)&&Q.process(A,x,R,U,B,z,ie,Z,ne,te)}we!=null&&B&&Fm(we,A&&A.ref,z,x||A,!x)},E=(A,x,R,U)=>{if(A==null)r(x.el=l(x.children),R,U);else{const B=x.el=A.el;x.children!==A.children&&d(B,x.children)}},T=(A,x,R,U)=>{A==null?r(x.el=f(x.children||""),R,U):x.el=A.el},k=(A,x,R,U)=>{[A.el,A.anchor]=b(A.children,x,R,U,A.el,A.anchor)},D=({el:A,anchor:x},R,U)=>{let B;for(;A&&A!==x;)B=g(A),r(A,R,U),A=B;r(x,R,U)},F=({el:A,anchor:x})=>{let R;for(;A&&A!==x;)R=g(A),o(A),A=R;o(x)},J=(A,x,R,U,B,z,ie,Z,ne)=>{ie=ie||x.type==="svg",A==null?V(x,R,U,B,z,ie,Z,ne):X(A,x,B,z,ie,Z,ne)},V=(A,x,R,U,B,z,ie,Z)=>{let ne,Q;const{type:we,props:le,shapeFlag:ye,transition:ke,dirs:$e}=A;if(ne=A.el=u(A.type,z,le&&le.is,le),ye&8?m(ne,A.children):ye&16&&G(A.children,ne,null,U,B,z&&we!=="foreignObject",ie,Z),$e&&xo(A,null,U,"created"),fe(ne,A,A.scopeId,ie,U),le){for(const N in le)N!=="value"&&!bf(N)&&s(ne,N,null,le[N],z,A.children,U,B,ve);"value"in le&&s(ne,"value",null,le.value),(Q=le.onVnodeBeforeMount)&&Kr(Q,U,A)}$e&&xo(A,null,U,"beforeMount");const Ee=(!B||B&&!B.pendingBranch)&&ke&&!ke.persisted;Ee&&ke.beforeEnter(ne),r(ne,x,R),((Q=le&&le.onVnodeMounted)||Ee||$e)&&jn(()=>{Q&&Kr(Q,U,A),Ee&&ke.enter(ne),$e&&xo(A,null,U,"mounted")},B)},fe=(A,x,R,U,B)=>{if(R&&y(A,R),U)for(let z=0;z<U.length;z++)y(A,U[z]);if(B){let z=B.subTree;if(x===z){const ie=B.vnode;fe(A,ie,ie.scopeId,ie.slotScopeIds,B.parent)}}},G=(A,x,R,U,B,z,ie,Z,ne=0)=>{for(let Q=ne;Q<A.length;Q++){const we=A[Q]=Z?Li(A[Q]):Wr(A[Q]);w(null,we,x,R,U,B,z,ie,Z)}},X=(A,x,R,U,B,z,ie)=>{const Z=x.el=A.el;let{patchFlag:ne,dynamicChildren:Q,dirs:we}=x;ne|=A.patchFlag&16;const le=A.props||wt,ye=x.props||wt;let ke;R&&ko(R,!1),(ke=ye.onVnodeBeforeUpdate)&&Kr(ke,R,x,A),we&&xo(x,A,R,"beforeUpdate"),R&&ko(R,!0);const $e=B&&x.type!=="foreignObject";if(Q?C(A.dynamicChildren,Q,Z,R,U,$e,z):ie||me(A,x,Z,null,R,U,$e,z,!1),ne>0){if(ne&16)He(Z,x,le,ye,R,U,B);else if(ne&2&&le.class!==ye.class&&s(Z,"class",null,ye.class,B),ne&4&&s(Z,"style",le.style,ye.style,B),ne&8){const Ee=x.dynamicProps;for(let N=0;N<Ee.length;N++){const P=Ee[N],K=le[P],oe=ye[P];(oe!==K||P==="value")&&s(Z,P,K,oe,B,A.children,R,U,ve)}}ne&1&&A.children!==x.children&&m(Z,x.children)}else!ie&&Q==null&&He(Z,x,le,ye,R,U,B);((ke=ye.onVnodeUpdated)||we)&&jn(()=>{ke&&Kr(ke,R,x,A),we&&xo(x,A,R,"updated")},U)},C=(A,x,R,U,B,z,ie)=>{for(let Z=0;Z<x.length;Z++){const ne=A[Z],Q=x[Z],we=ne.el&&(ne.type===Vt||!Su(ne,Q)||ne.shapeFlag&70)?h(ne.el):R;w(ne,Q,we,null,U,B,z,ie,!0)}},He=(A,x,R,U,B,z,ie)=>{if(R!==U){if(R!==wt)for(const Z in R)!bf(Z)&&!(Z in U)&&s(A,Z,R[Z],null,ie,x.children,B,z,ve);for(const Z in U){if(bf(Z))continue;const ne=U[Z],Q=R[Z];ne!==Q&&Z!=="value"&&s(A,Z,Q,ne,ie,x.children,B,z,ve)}"value"in U&&s(A,"value",R.value,U.value)}},Ze=(A,x,R,U,B,z,ie,Z,ne)=>{const Q=x.el=A?A.el:l(""),we=x.anchor=A?A.anchor:l("");let{patchFlag:le,dynamicChildren:ye,slotScopeIds:ke}=x;ke&&(Z=Z?Z.concat(ke):ke),A==null?(r(Q,R,U),r(we,R,U),G(x.children,R,we,B,z,ie,Z,ne)):le>0&&le&64&&ye&&A.dynamicChildren?(C(A.dynamicChildren,ye,R,B,z,ie,Z),(x.key!=null||B&&x===B.subTree)&&eI(A,x,!0)):me(A,x,R,we,B,z,ie,Z,ne)},tt=(A,x,R,U,B,z,ie,Z,ne)=>{x.slotScopeIds=Z,A==null?x.shapeFlag&512?B.ctx.activate(x,R,U,ie,ne):Xe(x,R,U,B,z,ie,ne):Ke(A,x,ne)},Xe=(A,x,R,U,B,z,ie)=>{const Z=A.component=KD(A,U,B);if(BT(A)&&(Z.ctx.renderer=te),GD(Z),Z.asyncDep){if(B&&B.registerDep(Z,ae),!A.el){const ne=Z.subTree=be(zo);T(null,ne,x,R)}return}ae(Z,A,x,R,B,z,ie)},Ke=(A,x,R)=>{const U=x.component=A.component;if(sD(A,x,R))if(U.asyncDep&&!U.asyncResolved){Me(U,x,R);return}else U.next=x,eD(U.update),U.update();else x.el=A.el,U.vnode=x},ae=(A,x,R,U,B,z,ie)=>{const Z=()=>{if(A.isMounted){let{next:we,bu:le,u:ye,parent:ke,vnode:$e}=A,Ee=we,N;ko(A,!1),we?(we.el=$e.el,Me(A,we,ie)):we=$e,le&&_f(le),(N=we.props&&we.props.onVnodeBeforeUpdate)&&Kr(N,ke,we,$e),ko(A,!0);const P=zg(A),K=A.subTree;A.subTree=P,w(K,P,h(K.el),L(K),A,B,z),we.el=P.el,Ee===null&&aD(A,P.el),ye&&jn(ye,B),(N=we.props&&we.props.onVnodeUpdated)&&jn(()=>Kr(N,ke,we,$e),B)}else{let we;const{el:le,props:ye}=x,{bm:ke,m:$e,parent:Ee}=A,N=wf(x);if(ko(A,!1),ke&&_f(ke),!N&&(we=ye&&ye.onVnodeBeforeMount)&&Kr(we,Ee,x),ko(A,!0),le&&Re){const P=()=>{A.subTree=zg(A),Re(le,A.subTree,A,B,null)};N?x.type.__asyncLoader().then(()=>!A.isUnmounted&&P()):P()}else{const P=A.subTree=zg(A);w(null,P,R,U,A,B,z),x.el=P.el}if($e&&jn($e,B),!N&&(we=ye&&ye.onVnodeMounted)){const P=x;jn(()=>Kr(we,Ee,P),B)}(x.shapeFlag&256||Ee&&wf(Ee.vnode)&&Ee.vnode.shapeFlag&256)&&A.a&&jn(A.a,B),A.isMounted=!0,x=R=U=null}},ne=A.effect=new Vv(Z,()=>Kv(Q),A.scope),Q=A.update=()=>ne.run();Q.id=A.uid,ko(A,!0),Q()},Me=(A,x,R)=>{x.component=A;const U=A.vnode.props;A.vnode=x,A.next=null,ND(A,x.props,U,R),LD(A,x.children,R),xa(),b1(),ka()},me=(A,x,R,U,B,z,ie,Z,ne=!1)=>{const Q=A&&A.children,we=A?A.shapeFlag:0,le=x.children,{patchFlag:ye,shapeFlag:ke}=x;if(ye>0){if(ye&128){Pt(Q,le,R,U,B,z,ie,Z,ne);return}else if(ye&256){yt(Q,le,R,U,B,z,ie,Z,ne);return}}ke&8?(we&16&&ve(Q,B,z),le!==Q&&m(R,le)):we&16?ke&16?Pt(Q,le,R,U,B,z,ie,Z,ne):ve(Q,B,z,!0):(we&8&&m(R,""),ke&16&&G(le,R,U,B,z,ie,Z,ne))},yt=(A,x,R,U,B,z,ie,Z,ne)=>{A=A||Gs,x=x||Gs;const Q=A.length,we=x.length,le=Math.min(Q,we);let ye;for(ye=0;ye<le;ye++){const ke=x[ye]=ne?Li(x[ye]):Wr(x[ye]);w(A[ye],ke,R,null,B,z,ie,Z,ne)}Q>we?ve(A,B,z,!0,!1,le):G(x,R,U,B,z,ie,Z,ne,le)},Pt=(A,x,R,U,B,z,ie,Z,ne)=>{let Q=0;const we=x.length;let le=A.length-1,ye=we-1;for(;Q<=le&&Q<=ye;){const ke=A[Q],$e=x[Q]=ne?Li(x[Q]):Wr(x[Q]);if(Su(ke,$e))w(ke,$e,R,null,B,z,ie,Z,ne);else break;Q++}for(;Q<=le&&Q<=ye;){const ke=A[le],$e=x[ye]=ne?Li(x[ye]):Wr(x[ye]);if(Su(ke,$e))w(ke,$e,R,null,B,z,ie,Z,ne);else break;le--,ye--}if(Q>le){if(Q<=ye){const ke=ye+1,$e=ke<we?x[ke].el:U;for(;Q<=ye;)w(null,x[Q]=ne?Li(x[Q]):Wr(x[Q]),R,$e,B,z,ie,Z,ne),Q++}}else if(Q>ye)for(;Q<=le;)jt(A[Q],B,z,!0),Q++;else{const ke=Q,$e=Q,Ee=new Map;for(Q=$e;Q<=ye;Q++){const Pe=x[Q]=ne?Li(x[Q]):Wr(x[Q]);Pe.key!=null&&Ee.set(Pe.key,Q)}let N,P=0;const K=ye-$e+1;let oe=!1,he=0;const Ce=new Array(K);for(Q=0;Q<K;Q++)Ce[Q]=0;for(Q=ke;Q<=le;Q++){const Pe=A[Q];if(P>=K){jt(Pe,B,z,!0);continue}let Fe;if(Pe.key!=null)Fe=Ee.get(Pe.key);else for(N=$e;N<=ye;N++)if(Ce[N-$e]===0&&Su(Pe,x[N])){Fe=N;break}Fe===void 0?jt(Pe,B,z,!0):(Ce[Fe-$e]=Q+1,Fe>=he?he=Fe:oe=!0,w(Pe,x[Fe],R,null,B,z,ie,Z,ne),P++)}const Ue=oe?VD(Ce):Gs;for(N=Ue.length-1,Q=K-1;Q>=0;Q--){const Pe=$e+Q,Fe=x[Pe],De=Pe+1<we?x[Pe+1].el:U;Ce[Q]===0?w(null,Fe,R,De,B,z,ie,Z,ne):oe&&(N<0||Q!==Ue[N]?Wt(Fe,R,De,2):N--)}}},Wt=(A,x,R,U,B=null)=>{const{el:z,type:ie,transition:Z,children:ne,shapeFlag:Q}=A;if(Q&6){Wt(A.component.subTree,x,R,U);return}if(Q&128){A.suspense.move(x,R,U);return}if(Q&64){ie.move(A,x,R,te);return}if(ie===Vt){r(z,x,R);for(let le=0;le<ne.length;le++)Wt(ne[le],x,R,U);r(A.anchor,x,R);return}if(ie===Yg){D(A,x,R);return}if(U!==2&&Q&1&&Z)if(U===0)Z.beforeEnter(z),r(z,x,R),jn(()=>Z.enter(z),B);else{const{leave:le,delayLeave:ye,afterLeave:ke}=Z,$e=()=>r(z,x,R),Ee=()=>{le(z,()=>{$e(),ke&&ke()})};ye?ye(z,$e,Ee):Ee()}else r(z,x,R)},jt=(A,x,R,U=!1,B=!1)=>{const{type:z,props:ie,ref:Z,children:ne,dynamicChildren:Q,shapeFlag:we,patchFlag:le,dirs:ye}=A;if(Z!=null&&Fm(Z,null,R,A,!0),we&256){x.ctx.deactivate(A);return}const ke=we&1&&ye,$e=!wf(A);let Ee;if($e&&(Ee=ie&&ie.onVnodeBeforeUnmount)&&Kr(Ee,x,A),we&6)pe(A.component,R,U);else{if(we&128){A.suspense.unmount(R,U);return}ke&&xo(A,null,x,"beforeUnmount"),we&64?A.type.remove(A,x,R,B,te,U):Q&&(z!==Vt||le>0&&le&64)?ve(Q,x,R,!1,!0):(z===Vt&&le&384||!B&&we&16)&&ve(ne,x,R),U&&bt(A)}($e&&(Ee=ie&&ie.onVnodeUnmounted)||ke)&&jn(()=>{Ee&&Kr(Ee,x,A),ke&&xo(A,null,x,"unmounted")},R)},bt=A=>{const{type:x,el:R,anchor:U,transition:B}=A;if(x===Vt){Qn(R,U);return}if(x===Yg){F(A);return}const z=()=>{o(R),B&&!B.persisted&&B.afterLeave&&B.afterLeave()};if(A.shapeFlag&1&&B&&!B.persisted){const{leave:ie,delayLeave:Z}=B,ne=()=>ie(R,z);Z?Z(A.el,z,ne):ne()}else z()},Qn=(A,x)=>{let R;for(;A!==x;)R=g(A),o(A),A=R;o(x)},pe=(A,x,R)=>{const{bum:U,scope:B,update:z,subTree:ie,um:Z}=A;U&&_f(U),B.stop(),z&&(z.active=!1,jt(ie,A,x,R)),Z&&jn(Z,x),jn(()=>{A.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},ve=(A,x,R,U=!1,B=!1,z=0)=>{for(let ie=z;ie<A.length;ie++)jt(A[ie],x,R,U,B)},L=A=>A.shapeFlag&6?L(A.component.subTree):A.shapeFlag&128?A.suspense.next():g(A.anchor||A.el),q=(A,x,R)=>{A==null?x._vnode&&jt(x._vnode,null,null,!0):w(x._vnode||null,A,x,null,null,null,R),b1(),MT(),x._vnode=A},te={p:w,um:jt,m:Wt,r:bt,mt:Xe,mc:G,pc:me,pbc:C,n:L,o:e};let ue,Re;return t&&([ue,Re]=t(te)),{render:q,hydrate:ue,createApp:CD(q,ue)}}function ko({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function eI(e,t,n=!1){const r=e.children,o=t.children;if(Ae(r)&&Ae(o))for(let s=0;s<r.length;s++){const u=r[s];let l=o[s];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=o[s]=Li(o[s]),l.el=u.el),n||eI(u,l)),l.type===Oh&&(l.el=u.el)}}function VD(e){const t=e.slice(),n=[0];let r,o,s,u,l;const f=e.length;for(r=0;r<f;r++){const d=e[r];if(d!==0){if(o=n[n.length-1],e[o]<d){t[r]=o,n.push(r);continue}for(s=0,u=n.length-1;s<u;)l=s+u>>1,e[n[l]]<d?s=l+1:u=l;d<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,u=n[s-1];s-- >0;)n[s]=u,u=t[u];return n}const jD=e=>e.__isTeleport,Vt=Symbol.for("v-fgt"),Oh=Symbol.for("v-txt"),zo=Symbol.for("v-cmt"),Yg=Symbol.for("v-stc"),Mu=[];let Cr=null;function Ve(e=!1){Mu.push(Cr=e?null:[])}function UD(){Mu.pop(),Cr=Mu[Mu.length-1]||null}let el=1;function O1(e){el+=e}function tI(e){return e.dynamicChildren=el>0?Cr||Gs:null,UD(),el>0&&Cr&&Cr.push(e),e}function ze(e,t,n,r,o,s){return tI(O(e,t,n,r,o,s,!0))}function Zs(e,t,n,r,o){return tI(be(e,t,n,r,o,!0))}function Vm(e){return e?e.__v_isVNode===!0:!1}function Su(e,t){return e.type===t.type&&e.key===t.key}const Ph="__vInternal",nI=({key:e})=>e??null,Sf=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Ht(e)||ht(e)||je(e)?{i:Bn,r:e,k:t,f:!!n}:e:null);function O(e,t=null,n=null,r=0,o=null,s=e===Vt?0:1,u=!1,l=!1){const f={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nI(t),ref:t&&Sf(t),scopeId:jT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Bn};return l?(Qv(f,n),s&128&&e.normalize(f)):n&&(f.shapeFlag|=Ht(n)?8:16),el>0&&!u&&Cr&&(f.patchFlag>0||s&6)&&f.patchFlag!==32&&Cr.push(f),f}const be=BD;function BD(e,t=null,n=null,r=0,o=null,s=!1){if((!e||e===KT)&&(e=zo),Vm(e)){const l=ea(e,t,!0);return n&&Qv(l,n),el>0&&!s&&Cr&&(l.shapeFlag&6?Cr[Cr.indexOf(e)]=l:Cr.push(l)),l.patchFlag|=-2,l}if(QD(e)&&(e=e.__vccOpts),t){t=$D(t);let{class:l,style:f}=t;l&&!Ht(l)&&(t.class=xt(l)),pt(f)&&(xT(f)&&!Ae(f)&&(f=tn({},f)),t.style=wh(f))}const u=Ht(e)?1:uD(e)?128:jD(e)?64:pt(e)?4:je(e)?2:0;return O(e,t,n,r,o,u,s,!0)}function $D(e){return e?xT(e)||Ph in e?tn({},e):e:null}function ea(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:u}=e,l=t?gr(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&nI(l),ref:t&&t.ref?n&&o?Ae(o)?o.concat(Sf(t)):[o,Sf(t)]:Sf(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:u,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Vt?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ea(e.ssContent),ssFallback:e.ssFallback&&ea(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function bn(e=" ",t=0){return be(Oh,null,e,t)}function Or(e="",t=!1){return t?(Ve(),Zs(zo,null,e)):be(zo,null,e)}function Wr(e){return e==null||typeof e=="boolean"?be(zo):Ae(e)?be(Vt,null,e.slice()):typeof e=="object"?Li(e):be(Oh,null,String(e))}function Li(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ea(e)}function Qv(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Ae(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Qv(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Ph in t)?t._ctx=Bn:o===3&&Bn&&(Bn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else je(t)?(t={default:t,_ctx:Bn},n=32):(t=String(t),r&64?(n=16,t=[bn(t)]):n=8);e.children=t,e.shapeFlag|=n}function gr(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=xt([t.class,r.class]));else if(o==="style")t.style=wh([t.style,r.style]);else if(vh(o)){const s=t[o],u=r[o];u&&s!==u&&!(Ae(s)&&s.includes(u))&&(t[o]=s?[].concat(s,u):u)}else o!==""&&(t[o]=r[o])}return t}function Kr(e,t,n,r=null){Nr(e,t,7,[n,r])}const qD=zT();let HD=0;function KD(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||qD,s={uid:HD++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new dT(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:YT(r,o),emitsOptions:VT(r,o),emit:null,emitted:null,propsDefaults:wt,inheritAttrs:r.inheritAttrs,ctx:wt,data:wt,props:wt,attrs:wt,slots:wt,refs:wt,setupState:wt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=rD.bind(null,s),e.ce&&e.ce(s),s}let Xt=null;const Cl=()=>Xt||Bn;let Jv,Ls,P1="__VUE_INSTANCE_SETTERS__";(Ls=km()[P1])||(Ls=km()[P1]=[]),Ls.push(e=>Xt=e),Jv=e=>{Ls.length>1?Ls.forEach(t=>t(e)):Ls[0](e)};const ta=e=>{Jv(e),e.scope.on()},$o=()=>{Xt&&Xt.scope.off(),Jv(null)};function rI(e){return e.vnode.shapeFlag&4}let tl=!1;function GD(e,t=!1){tl=t;const{props:n,children:r}=e.vnode,o=rI(e);PD(e,n,o,t),DD(e,r);const s=o?WD(e,t):void 0;return tl=!1,s}function WD(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ih(new Proxy(e.ctx,SD));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?XD(e):null;ta(e),xa();const s=Wi(r,e,0,[e.props,o]);if(ka(),$o(),aT(s)){if(s.then($o,$o),t)return s.then(u=>{N1(e,u,t)}).catch(u=>{Ah(u,e,0)});e.asyncDep=s}else N1(e,s,t)}else iI(e,t)}function N1(e,t,n){je(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:pt(t)&&(e.setupState=NT(t)),iI(e,n)}let R1;function iI(e,t,n){const r=e.type;if(!e.render){if(!t&&R1&&!r.render){const o=r.template||Xv(e).template;if(o){const{isCustomElement:s,compilerOptions:u}=e.appContext.config,{delimiters:l,compilerOptions:f}=r,d=tn(tn({isCustomElement:s,delimiters:l},u),f);r.render=R1(o,d)}}e.render=r.render||Pr}ta(e),xa(),ED(e),ka(),$o()}function zD(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Gn(e,"get","$attrs"),t[n]}}))}function XD(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return zD(e)},slots:e.slots,emit:e.emit,expose:t}}function Nh(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(NT(Ih(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Lu)return Lu[n](e)},has(t,n){return n in t||n in Lu}}))}function YD(e,t=!0){return je(e)?e.displayName||e.name:e.name||t&&e.__name}function QD(e){return je(e)&&"__vccOpts"in e}const qe=(e,t)=>QR(e,t,tl);function na(e,t,n){const r=arguments.length;return r===2?pt(t)&&!Ae(t)?Vm(t)?be(e,null,[t]):be(e,t):be(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Vm(n)&&(n=[n]),be(e,t,n))}const JD=Symbol.for("v-scx"),ZD=()=>br(JD),eL="3.3.4",tL="http://www.w3.org/2000/svg",Do=typeof document<"u"?document:null,D1=Do&&Do.createElement("template"),nL={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?Do.createElementNS(tL,e):Do.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Do.createTextNode(e),createComment:e=>Do.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Do.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,s){const u=n?n.previousSibling:t.lastChild;if(o&&(o===s||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===s||!(o=o.nextSibling)););else{D1.innerHTML=r?`<svg>${e}</svg>`:e;const l=D1.content;if(r){const f=l.firstChild;for(;f.firstChild;)l.appendChild(f.firstChild);l.removeChild(f)}t.insertBefore(l,n)}return[u?u.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function rL(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function iL(e,t,n){const r=e.style,o=Ht(n);if(n&&!o){if(t&&!Ht(t))for(const s in t)n[s]==null&&jm(r,s,"");for(const s in n)jm(r,s,n[s])}else{const s=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const L1=/\s*!important$/;function jm(e,t,n){if(Ae(n))n.forEach(r=>jm(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=oL(e,t);L1.test(n)?e.setProperty(Aa(r),n.replace(L1,""),"important"):e[r]=n}}const M1=["Webkit","Moz","ms"],Qg={};function oL(e,t){const n=Qg[t];if(n)return n;let r=Zr(t);if(r!=="filter"&&r in e)return Qg[t]=r;r=_h(r);for(let o=0;o<M1.length;o++){const s=M1[o]+r;if(s in e)return Qg[t]=s}return t}const F1="http://www.w3.org/1999/xlink";function sL(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(F1,t.slice(6,t.length)):e.setAttributeNS(F1,t,n);else{const s=dR(t);n==null||s&&!fT(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function aL(e,t,n,r,o,s,u){if(t==="innerHTML"||t==="textContent"){r&&u(r,o,s),e[t]=n??"";return}const l=e.tagName;if(t==="value"&&l!=="PROGRESS"&&!l.includes("-")){e._value=n;const d=l==="OPTION"?e.getAttribute("value"):e.value,m=n??"";d!==m&&(e.value=m),n==null&&e.removeAttribute(t);return}let f=!1;if(n===""||n==null){const d=typeof e[t];d==="boolean"?n=fT(n):n==null&&d==="string"?(n="",f=!0):d==="number"&&(n=0,f=!0)}try{e[t]=n}catch{}f&&e.removeAttribute(t)}function oI(e,t,n,r){e.addEventListener(t,n,r)}function uL(e,t,n,r){e.removeEventListener(t,n,r)}function lL(e,t,n,r,o=null){const s=e._vei||(e._vei={}),u=s[t];if(r&&u)u.value=r;else{const[l,f]=cL(t);if(r){const d=s[t]=dL(r,o);oI(e,l,d,f)}else u&&(uL(e,l,u,f),s[t]=void 0)}}const V1=/(?:Once|Passive|Capture)$/;function cL(e){let t;if(V1.test(e)){t={};let r;for(;r=e.match(V1);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Aa(e.slice(2)),t]}let Jg=0;const fL=Promise.resolve(),hL=()=>Jg||(fL.then(()=>Jg=0),Jg=Date.now());function dL(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Nr(pL(r,n.value),t,5,[r])};return n.value=e,n.attached=hL(),n}function pL(e,t){if(Ae(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const j1=/^on[a-z]/,gL=(e,t,n,r,o=!1,s,u,l,f)=>{t==="class"?rL(e,r,o):t==="style"?iL(e,n,r):vh(t)?Dv(t)||lL(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mL(e,t,r,o))?aL(e,t,r,s,u,l,f):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),sL(e,t,r,o))};function mL(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&j1.test(t)&&je(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||j1.test(t)&&Ht(n)?!1:t in e}const U1=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Ae(t)?n=>_f(t,n):t},vL={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const o=yh(t);oI(e,"change",()=>{const s=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>n?cT(Lf(u)):Lf(u));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=U1(r)},mounted(e,{value:t}){B1(e,t)},beforeUpdate(e,t,n){e._assign=U1(n)},updated(e,{value:t}){B1(e,t)}};function B1(e,t){const n=e.multiple;if(!(n&&!Ae(t)&&!yh(t))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],u=Lf(s);if(n)Ae(t)?s.selected=gR(t,u)>-1:s.selected=t.has(u);else if(Sh(Lf(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Lf(e){return"_value"in e?e._value:e.value}const yL=["ctrl","shift","alt","meta"],bL={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>yL.some(n=>e[`${n}Key`]&&!t.includes(n))},Ft=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const s=bL[t[o]];if(s&&s(n,t))return}return e(n,...r)},ra={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Eu(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Eu(e,!0),r.enter(e)):r.leave(e,()=>{Eu(e,!1)}):Eu(e,t))},beforeUnmount(e,{value:t}){Eu(e,t)}};function Eu(e,t){e.style.display=t?e._vod:"none"}const _L=tn({patchProp:gL},nL);let $1;function wL(){return $1||($1=MD(_L))}const SL=(...e)=>{const t=wL().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=EL(r);if(!o)return;const s=t._component;!je(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const u=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),u},t};function EL(e){return Ht(e)?document.querySelector(e):e}var TL=!1;/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let sI;const Rh=e=>sI=e,aI=Symbol();function Um(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Fu;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Fu||(Fu={}));function IL(){const e=pT(!0),t=e.run(()=>en({}));let n=[],r=[];const o=Ih({install(s){Rh(o),o._a=s,s.provide(aI,o),s.config.globalProperties.$pinia=o,r.forEach(u=>n.push(u)),r=[]},use(s){return!this._a&&!TL?r.push(s):n.push(s),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return o}const uI=()=>{};function q1(e,t,n,r=uI){e.push(t);const o=()=>{const s=e.indexOf(t);s>-1&&(e.splice(s,1),r())};return!n&&gT()&&vR(o),o}function Ms(e,...t){e.slice().forEach(n=>{n(...t)})}const AL=e=>e();function Bm(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,r)=>e.set(r,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],o=e[n];Um(o)&&Um(r)&&e.hasOwnProperty(n)&&!ht(r)&&!Gi(r)?e[n]=Bm(o,r):e[n]=r}return e}const xL=Symbol();function kL(e){return!Um(e)||!e.hasOwnProperty(xL)}const{assign:Di}=Object;function CL(e){return!!(ht(e)&&e.effect)}function OL(e,t,n,r){const{state:o,actions:s,getters:u}=t,l=n.state.value[e];let f;function d(){l||(n.state.value[e]=o?o():{});const m=WR(n.state.value[e]);return Di(m,s,Object.keys(u||{}).reduce((h,g)=>(h[g]=Ih(qe(()=>{Rh(n);const y=n._s.get(e);return u[g].call(y,y)})),h),{}))}return f=lI(e,d,t,n,r,!0),f}function lI(e,t,n={},r,o,s){let u;const l=Di({actions:{}},n),f={deep:!0};let d,m,h=[],g=[],y;const b=r.state.value[e];!s&&!b&&(r.state.value[e]={}),en({});let w;function E(G){let X;d=m=!1,typeof G=="function"?(G(r.state.value[e]),X={type:Fu.patchFunction,storeId:e,events:y}):(Bm(r.state.value[e],G),X={type:Fu.patchObject,payload:G,storeId:e,events:y});const C=w=Symbol();xr().then(()=>{w===C&&(d=!0)}),m=!0,Ms(h,X,r.state.value[e])}const T=s?function(){const{state:X}=n,C=X?X():{};this.$patch(He=>{Di(He,C)})}:uI;function k(){u.stop(),h=[],g=[],r._s.delete(e)}function D(G,X){return function(){Rh(r);const C=Array.from(arguments),He=[],Ze=[];function tt(ae){He.push(ae)}function Xe(ae){Ze.push(ae)}Ms(g,{args:C,name:G,store:J,after:tt,onError:Xe});let Ke;try{Ke=X.apply(this&&this.$id===e?this:J,C)}catch(ae){throw Ms(Ze,ae),ae}return Ke instanceof Promise?Ke.then(ae=>(Ms(He,ae),ae)).catch(ae=>(Ms(Ze,ae),Promise.reject(ae))):(Ms(He,Ke),Ke)}}const F={_p:r,$id:e,$onAction:q1.bind(null,g),$patch:E,$reset:T,$subscribe(G,X={}){const C=q1(h,G,X.detached,()=>He()),He=u.run(()=>Hn(()=>r.state.value[e],Ze=>{(X.flush==="sync"?m:d)&&G({storeId:e,type:Fu.direct,events:y},Ze)},Di({},f,X)));return C},$dispose:k},J=ei(F);r._s.set(e,J);const fe=(r._a&&r._a.runWithContext||AL)(()=>r._e.run(()=>(u=pT()).run(t)));for(const G in fe){const X=fe[G];if(ht(X)&&!CL(X)||Gi(X))s||(b&&kL(X)&&(ht(X)?X.value=b[G]:Bm(X,b[G])),r.state.value[e][G]=X);else if(typeof X=="function"){const C=D(G,X);fe[G]=C,l.actions[G]=X}}return Di(J,fe),Di(rt(J),fe),Object.defineProperty(J,"$state",{get:()=>r.state.value[e],set:G=>{E(X=>{Di(X,G)})}}),r._p.forEach(G=>{Di(J,u.run(()=>G({store:J,app:r._a,pinia:r,options:l})))}),b&&s&&n.hydrate&&n.hydrate(J.$state,b),d=!0,m=!0,J}function Zv(e,t,n){let r,o;const s=typeof t=="function";typeof e=="string"?(r=e,o=s?n:t):(o=e,r=e.id);function u(l,f){const d=OD();return l=l||(d?br(aI,null):null),l&&Rh(l),l=sI,l._s.has(r)||(s?lI(r,t,o,l):OL(r,o,l)),l._s.get(r)}return u.$id=r,u}let PL="Store";function NL(...e){return e.reduce((t,n)=>(t[n.$id+PL]=function(){return n(this.$pinia)},t),{})}function ia(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(){return e(this.$pinia)[r]},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(){const o=e(this.$pinia),s=t[r];return typeof s=="function"?s.call(this,o):o[s]},n),{})}function Ca(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[r](...o)},n),{}):Object.keys(t).reduce((n,r)=>(n[r]=function(...o){return e(this.$pinia)[t[r]](...o)},n),{})}function Dh(e,t){return Array.isArray(t)?t.reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[r]},set(o){return e(this.$pinia)[r]=o}},n),{}):Object.keys(t).reduce((n,r)=>(n[r]={get(){return e(this.$pinia)[t[r]]},set(o){return e(this.$pinia)[t[r]]=o}},n),{})}const Mf=Zv("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(e){return e.isOpen?"":"hidden"}}});var $m=function(e,t){return $m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},$m(e,t)};function Ie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");$m(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var oa=function(){return oa=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},oa.apply(this,arguments)};function H(e,t,n,r){function o(s){return s instanceof n?s:new n(function(u){u(s)})}return new(n||(n=Promise))(function(s,u){function l(m){try{d(r.next(m))}catch(h){u(h)}}function f(m){try{d(r.throw(m))}catch(h){u(h)}}function d(m){m.done?s(m.value):o(m.value).then(l,f)}d((r=r.apply(e,t||[])).next())})}function $(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,o,s,u;return u={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function l(d){return function(m){return f([d,m])}}function f(d){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,d[0]&&(n=0)),n;)try{if(r=1,o&&(s=d[0]&2?o.return:d[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,d[1])).done)return s;switch(o=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,o=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(m){d=[6,m],o=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Zg(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function of(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,s=[],u;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(l){u={error:l}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function It(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cI=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},RL=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var s=e[n++];t[r++]=String.fromCharCode((o&31)<<6|s&63)}else if(o>239&&o<365){var s=e[n++],u=e[n++],l=e[n++],f=((o&7)<<18|(s&63)<<12|(u&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(f>>10)),t[r++]=String.fromCharCode(56320+(f&1023))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((o&15)<<12|(s&63)<<6|u&63)}}return t.join("")},DL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var s=e[o],u=o+1<e.length,l=u?e[o+1]:0,f=o+2<e.length,d=f?e[o+2]:0,m=s>>2,h=(s&3)<<4|l>>4,g=(l&15)<<2|d>>6,y=d&63;f||(y=64,u||(g=64)),r.push(n[m],n[h],n[g],n[y])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cI(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):RL(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var s=n[e.charAt(o++)],u=o<e.length,l=u?n[e.charAt(o)]:0;++o;var f=o<e.length,d=f?n[e.charAt(o)]:64;++o;var m=o<e.length,h=m?n[e.charAt(o)]:64;if(++o,s==null||l==null||d==null||h==null)throw Error();var g=s<<2|l>>4;if(r.push(g),d!==64){var y=l<<4&240|d>>2;if(r.push(y),h!==64){var b=d<<6&192|h;r.push(b)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},LL=function(e){var t=cI(e);return DL.encodeByteArray(t,!0)},H1=function(e){return LL(e).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(e){return nl(void 0,e)}function nl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:var n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(var r in t)!t.hasOwnProperty(r)||!FL(r)||(e[r]=nl(e[r],t[r]));return e}function FL(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VL=function(){function e(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(n,r){t.resolve=n,t.reject=r})}return e.prototype.wrapCallback=function(t){var n=this;return function(r,o){r?n.reject(r):n.resolve(o),typeof t=="function"&&(n.promise.catch(function(){}),t.length===1?t(r):t(r,o))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},r=t||"demo-project",o=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=oa({iss:"https://securetoken.google.com/"+r,aud:r,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[H1(JSON.stringify(n)),H1(JSON.stringify(u)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xo())}function hI(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UL(){return typeof self=="object"&&self.self===self}function BL(){var e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function $L(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qL(){return Xo().indexOf("Electron/")>=0}function HL(){var e=Xo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function KL(){return Xo().indexOf("MSAppHost/")>=0}function GL(){return!hI()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WL="FirebaseError",dI=function(e){Ie(t,e);function t(n,r,o){var s=e.call(this,r)||this;return s.code=n,s.customData=o,s.name=WL,Object.setPrototypeOf(s,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,ey.prototype.create),s}return t}(Error),ey=function(){function e(t,n,r){this.service=t,this.serviceName=n,this.errors=r}return e.prototype.create=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=n[0]||{},s=this.service+"/"+t,u=this.errors[t],l=u?zL(u,o):"Error",f=this.serviceName+": "+l+" ("+s+").",d=new dI(s,f,o);return d},e}();function zL(e,t){return e.replace(XL,function(n,r){var o=t[r];return o!=null?String(o):"<"+r+"?>"})}var XL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function YL(e,t){var n=new QL(e,t);return n.subscribe.bind(n)}var QL=function(){function e(t,n){var r=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(function(){t(r)}).catch(function(o){r.error(o)})}return e.prototype.next=function(t){this.forEachObserver(function(n){n.next(t)})},e.prototype.error=function(t){this.forEachObserver(function(n){n.error(t)}),this.close(t)},e.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},e.prototype.subscribe=function(t,n,r){var o=this,s;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");JL(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:r},s.next===void 0&&(s.next=em),s.error===void 0&&(s.error=em),s.complete===void 0&&(s.complete=em);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?s.error(o.finalError):s.complete()}catch{}}),this.observers.push(s),u},e.prototype.unsubscribeOne=function(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))},e.prototype.forEachObserver=function(t){if(!this.finalized)for(var n=0;n<this.observers.length;n++)this.sendOne(n,t)},e.prototype.sendOne=function(t,n){var r=this;this.task.then(function(){if(r.observers!==void 0&&r.observers[t]!==void 0)try{n(r.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})},e.prototype.close=function(t){var n=this;this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(function(){n.observers=void 0,n.onNoObservers=void 0}))},e}();function JL(e,t){if(typeof e!="object"||e===null)return!1;for(var n=0,r=t;n<r.length;n++){var o=r[n];if(o in e&&typeof e[o]=="function")return!0}return!1}function em(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(e){return e&&e._delegate?e._delegate:e}var Ol=function(){function e(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},e.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},e.prototype.setServiceProps=function(t){return this.serviceProps=t,this},e.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZL=function(){function e(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(t){var n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){var r=new VL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{var o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise},e.prototype.getImmediate=function(t){var n,r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}else{if(o)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(t){var n,r;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,!!this.shouldAutoInitialize()){if(tM(t))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}try{for(var o=Zg(this.instancesDeferred.entries()),s=o.next();!s.done;s=o.next()){var u=of(s.value,2),l=u[0],f=u[1],d=this.normalizeInstanceIdentifier(l);try{var m=this.getOrInitializeService({instanceIdentifier:d});f.resolve(m)}catch{}}}catch(h){n={error:h}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}},e.prototype.clearInstance=function(t){t===void 0&&(t=Po),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},e.prototype.delete=function(){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(It(It([],of(t.filter(function(r){return"INTERNAL"in r}).map(function(r){return r.INTERNAL.delete()}))),of(t.filter(function(r){return"_delete"in r}).map(function(r){return r._delete()}))))];case 1:return n.sent(),[2]}})})},e.prototype.isComponentSet=function(){return this.component!=null},e.prototype.isInitialized=function(t){return t===void 0&&(t=Po),this.instances.has(t)},e.prototype.getOptions=function(t){return t===void 0&&(t=Po),this.instancesOptions.get(t)||{}},e.prototype.initialize=function(t){var n,r;t===void 0&&(t={});var o=t.options,s=o===void 0?{}:o,u=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:u,options:s});try{for(var f=Zg(this.instancesDeferred.entries()),d=f.next();!d.done;d=f.next()){var m=of(d.value,2),h=m[0],g=m[1],y=this.normalizeInstanceIdentifier(h);u===y&&g.resolve(l)}}catch(b){n={error:b}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}return l},e.prototype.onInit=function(t,n){var r,o=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(o,s);var u=this.instances.get(o);return u&&t(u,o),function(){s.delete(t)}},e.prototype.invokeOnInitCallbacks=function(t,n){var r,o,s=this.onInitCallbacks.get(n);if(s)try{for(var u=Zg(s),l=u.next();!l.done;l=u.next()){var f=l.value;try{f(t,n)}catch{}}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=u.return)&&o.call(u)}finally{if(r)throw r.error}}},e.prototype.getOrInitializeService=function(t){var n=t.instanceIdentifier,r=t.options,o=r===void 0?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:eM(n),options:o}),this.instances.set(n,s),this.instancesOptions.set(n,o),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch{}return s||null},e.prototype.normalizeInstanceIdentifier=function(t){return t===void 0&&(t=Po),this.component?this.component.multipleInstances?t:Po:t},e.prototype.shouldAutoInitialize=function(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"},e}();function eM(e){return e===Po?void 0:e}function tM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nM=function(){function e(t){this.name=t,this.providers=new Map}return e.prototype.addComponent=function(t){var n=this.getProvider(t.name);if(n.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);n.setComponent(t)},e.prototype.addOrOverwriteComponent=function(t){var n=this.getProvider(t.name);n.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},e.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var n=new ZL(t,this);return this.providers.set(t,n),n},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Ar(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var s=arguments[t],u=0,l=s.length;u<l;u++,o++)r[o]=s[u];return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Co,ty=[],ot;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ot||(ot={}));var pI={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},rM=ot.INFO,iM=(Co={},Co[ot.DEBUG]="log",Co[ot.VERBOSE]="log",Co[ot.INFO]="info",Co[ot.WARN]="warn",Co[ot.ERROR]="error",Co),oM=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var o=new Date().toISOString(),s=iM[t];if(s)console[s].apply(console,Ar(["["+o+"]  "+e.name+":"],n));else throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}},gI=function(){function e(t){this.name=t,this._logLevel=rM,this._logHandler=oM,this._userLogHandler=null,ty.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in ot))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(t){this._logLevel=typeof t=="string"?pI[t]:t},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ar([this,ot.DEBUG],t)),this._logHandler.apply(this,Ar([this,ot.DEBUG],t))},e.prototype.log=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ar([this,ot.VERBOSE],t)),this._logHandler.apply(this,Ar([this,ot.VERBOSE],t))},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ar([this,ot.INFO],t)),this._logHandler.apply(this,Ar([this,ot.INFO],t))},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ar([this,ot.WARN],t)),this._logHandler.apply(this,Ar([this,ot.WARN],t))},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,Ar([this,ot.ERROR],t)),this._logHandler.apply(this,Ar([this,ot.ERROR],t))},e}();function sM(e){ty.forEach(function(t){t.setLogLevel(e)})}function aM(e,t){for(var n=function(u){var l=null;t&&t.level&&(l=pI[t.level]),e===null?u.userLogHandler=null:u.userLogHandler=function(f,d){for(var m=[],h=2;h<arguments.length;h++)m[h-2]=arguments[h];var g=m.map(function(y){if(y==null)return null;if(typeof y=="string")return y;if(typeof y=="number"||typeof y=="boolean")return y.toString();if(y instanceof Error)return y.message;try{return JSON.stringify(y)}catch{return null}}).filter(function(y){return y}).join(" ");d>=(l??f.logLevel)&&e({level:ot[d].toLowerCase(),message:g,args:m,type:f.name})}},r=0,o=ty;r<o.length;r++){var s=o[r];n(s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi,uM=(Oi={},Oi["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Oi["bad-app-name"]="Illegal App name: '{$appName}",Oi["duplicate-app"]="Firebase App named '{$appName}' already exists",Oi["app-deleted"]="Firebase App named '{$appName}' already deleted",Oi["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Oi["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Oi),Us=new ey("app","Firebase",uM),mI="@firebase/app",lM="0.6.30",cM="@firebase/analytics",fM="@firebase/app-check",hM="@firebase/auth",dM="@firebase/database",pM="@firebase/functions",gM="@firebase/installations",mM="@firebase/messaging",vM="@firebase/performance",yM="@firebase/remote-config",bM="@firebase/storage",_M="@firebase/firestore",wM="firebase-wrapper";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dn,Ff="[DEFAULT]",SM=(dn={},dn[mI]="fire-core",dn[cM]="fire-analytics",dn[fM]="fire-app-check",dn[hM]="fire-auth",dn[dM]="fire-rtdb",dn[pM]="fire-fn",dn[gM]="fire-iid",dn[mM]="fire-fcm",dn[vM]="fire-perf",dn[yM]="fire-rc",dn[bM]="fire-gcs",dn[_M]="fire-fst",dn["fire-js"]="fire-js",dn[wM]="fire-js-all",dn);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa=new gI("@firebase/app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ef=function(){function e(t,n,r){var o=this;this.firebase_=r,this.isDeleted_=!1,this.name_=n.name,this.automaticDataCollectionEnabled_=n.automaticDataCollectionEnabled||!1,this.options_=ML(t),this.container=new nM(n.name),this._addComponent(new Ol("app",function(){return o},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(s){return o._addComponent(s)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var t=this;return new Promise(function(n){t.checkDestroyed_(),n()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(n){return n.delete()}))}).then(function(){t.isDeleted_=!0})},e.prototype._getService=function(t,n){var r;n===void 0&&(n=Ff),this.checkDestroyed_();var o=this.container.getProvider(t);return!o.isInitialized()&&((r=o.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&o.initialize(),o.getImmediate({identifier:n})},e.prototype._removeServiceInstance=function(t,n){n===void 0&&(n=Ff),this.container.getProvider(t).clearInstance(n)},e.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(n){sa.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,n)}},e.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Us.create("app-deleted",{appName:this.name_})},e}();Ef.prototype.name&&Ef.prototype.options||Ef.prototype.delete||console.log("dc");var EM="8.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TM(e){var t={},n=new Map,r={__esModule:!0,initializeApp:u,app:s,registerVersion:d,setLogLevel:sM,onLog:m,apps:null,SDK_VERSION:EM,INTERNAL:{registerComponent:f,removeApp:o,components:n,useAsService:h}};r.default=r,Object.defineProperty(r,"apps",{get:l});function o(g){delete t[g]}function s(g){if(g=g||Ff,!K1(t,g))throw Us.create("no-app",{appName:g});return t[g]}s.App=e;function u(g,y){if(y===void 0&&(y={}),typeof y!="object"||y===null){var b=y;y={name:b}}var w=y;w.name===void 0&&(w.name=Ff);var E=w.name;if(typeof E!="string"||!E)throw Us.create("bad-app-name",{appName:String(E)});if(K1(t,E))throw Us.create("duplicate-app",{appName:E});var T=new e(g,w,r);return t[E]=T,T}function l(){return Object.keys(t).map(function(g){return t[g]})}function f(g){var y=g.name;if(n.has(y))return sa.debug("There were multiple attempts to register component "+y+"."),g.type==="PUBLIC"?r[y]:null;if(n.set(y,g),g.type==="PUBLIC"){var b=function(k){if(k===void 0&&(k=s()),typeof k[y]!="function")throw Us.create("invalid-app-argument",{appName:y});return k[y]()};g.serviceProps!==void 0&&nl(b,g.serviceProps),r[y]=b,e.prototype[y]=function(){for(var k=[],D=0;D<arguments.length;D++)k[D]=arguments[D];var F=this._getService.bind(this,y);return F.apply(this,g.multipleInstances?k:[])}}for(var w=0,E=Object.keys(t);w<E.length;w++){var T=E[w];t[T]._addComponent(g)}return g.type==="PUBLIC"?r[y]:null}function d(g,y,b){var w,E=(w=SM[g])!==null&&w!==void 0?w:g;b&&(E+="-"+b);var T=E.match(/\s|\//),k=y.match(/\s|\//);if(T||k){var D=['Unable to register library "'+E+'" with version "'+y+'":'];T&&D.push('library name "'+E+'" contains illegal characters (whitespace or "/")'),T&&k&&D.push("and"),k&&D.push('version name "'+y+'" contains illegal characters (whitespace or "/")'),sa.warn(D.join(" "));return}f(new Ol(E+"-version",function(){return{library:E,version:y}},"VERSION"))}function m(g,y){if(g!==null&&typeof g!="function")throw Us.create("invalid-log-argument");aM(g,y)}function h(g,y){if(y==="serverAuth")return null;var b=y;return b}return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){var e=TM(Ef);e.INTERNAL=oa(oa({},e.INTERNAL),{createFirebaseNamespace:vI,extendNamespace:t,createSubscribe:YL,ErrorFactory:ey,deepExtend:nl});function t(n){nl(e,n)}return e}var ny=vI();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IM=function(){function e(t){this.container=t}return e.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map(function(n){if(AM(n)){var r=n.getImmediate();return r.library+"/"+r.version}else return null}).filter(function(n){return n}).join(" ")},e}();function AM(e){var t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(e,t){e.INTERNAL.registerComponent(new Ol("platform-logger",function(n){return new IM(n)},"PRIVATE")),e.registerVersion(mI,lM,t),e.registerVersion("fire-js","")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(UL()&&self.firebase!==void 0){sa.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);var G1=self.firebase.SDK_VERSION;G1&&G1.indexOf("LITE")>=0&&sa.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var kM=ny.initializeApp;ny.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return hI()&&sa.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `),kM.apply(void 0,e)};var xe=ny;xM(xe);var CM="firebase",yI="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xe.registerVersion(CM,yI,"app");xe.SDK_VERSION=yI;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,a,c){i!=Array.prototype&&i!=Object.prototype&&(i[a]=c.value)};function n(i){i=[typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global,i];for(var a=0;a<i.length;++a){var c=i[a];if(c&&c.Math==Math)return c}return globalThis}var r=n(this);function o(i,a){if(a){var c=r;i=i.split(".");for(var p=0;p<i.length-1;p++){var v=i[p];v in c||(c[v]={}),c=c[v]}i=i[i.length-1],p=c[i],a=a(p),a!=p&&a!=null&&t(c,i,{configurable:!0,writable:!0,value:a})}}function s(i){var a=0;return function(){return a<i.length?{done:!1,value:i[a++]}:{done:!0}}}function u(i){var a=typeof Symbol<"u"&&Symbol.iterator&&i[Symbol.iterator];return a?a.call(i):{next:s(i)}}o("Promise",function(i){function a(S){this.b=0,this.c=void 0,this.a=[];var I=this.f();try{S(I.resolve,I.reject)}catch(j){I.reject(j)}}function c(){this.a=null}function p(S){return S instanceof a?S:new a(function(I){I(S)})}if(i)return i;c.prototype.b=function(S){if(this.a==null){this.a=[];var I=this;this.c(function(){I.g()})}this.a.push(S)};var v=r.setTimeout;c.prototype.c=function(S){v(S,0)},c.prototype.g=function(){for(;this.a&&this.a.length;){var S=this.a;this.a=[];for(var I=0;I<S.length;++I){var j=S[I];S[I]=null;try{j()}catch(W){this.f(W)}}}this.a=null},c.prototype.f=function(S){this.c(function(){throw S})},a.prototype.f=function(){function S(W){return function(Ne){j||(j=!0,W.call(I,Ne))}}var I=this,j=!1;return{resolve:S(this.m),reject:S(this.g)}},a.prototype.m=function(S){if(S===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(S instanceof a)this.s(S);else{e:switch(typeof S){case"object":var I=S!=null;break e;case"function":I=!0;break e;default:I=!1}I?this.v(S):this.h(S)}},a.prototype.v=function(S){var I=void 0;try{I=S.then}catch(j){this.g(j);return}typeof I=="function"?this.u(I,S):this.h(S)},a.prototype.g=function(S){this.i(2,S)},a.prototype.h=function(S){this.i(1,S)},a.prototype.i=function(S,I){if(this.b!=0)throw Error("Cannot settle("+S+", "+I+"): Promise already settled in state"+this.b);this.b=S,this.c=I,this.l()},a.prototype.l=function(){if(this.a!=null){for(var S=0;S<this.a.length;++S)_.b(this.a[S]);this.a=null}};var _=new c;return a.prototype.s=function(S){var I=this.f();S.Ra(I.resolve,I.reject)},a.prototype.u=function(S,I){var j=this.f();try{S.call(I,j.resolve,j.reject)}catch(W){j.reject(W)}},a.prototype.then=function(S,I){function j(it,Jt){return typeof it=="function"?function(ai){try{W(it(ai))}catch(Gg){Ne(Gg)}}:Jt}var W,Ne,ut=new a(function(it,Jt){W=it,Ne=Jt});return this.Ra(j(S,W),j(I,Ne)),ut},a.prototype.catch=function(S){return this.then(void 0,S)},a.prototype.Ra=function(S,I){function j(){switch(W.b){case 1:S(W.c);break;case 2:I(W.c);break;default:throw Error("Unexpected state: "+W.b)}}var W=this;this.a==null?_.b(j):this.a.push(j)},a.resolve=p,a.reject=function(S){return new a(function(I,j){j(S)})},a.race=function(S){return new a(function(I,j){for(var W=u(S),Ne=W.next();!Ne.done;Ne=W.next())p(Ne.value).Ra(I,j)})},a.all=function(S){var I=u(S),j=I.next();return j.done?p([]):new a(function(W,Ne){function ut(ai){return function(Gg){it[ai]=Gg,Jt--,Jt==0&&W(it)}}var it=[],Jt=0;do it.push(void 0),Jt++,p(j.value).Ra(ut(it.length-1),Ne),j=I.next();while(!j.done)})},a});var l=l||{},f=this||self,d=/^[\w+/_-]+[=]{0,2}$/,m=null;function h(i){return(i=i.querySelector&&i.querySelector("script[nonce]"))&&(i=i.nonce||i.getAttribute("nonce"))&&d.test(i)?i:""}function g(){}function y(i){var a=typeof i;return a!="object"?a:i?Array.isArray(i)?"array":a:"null"}function b(i){var a=y(i);return a=="array"||a=="object"&&typeof i.length=="number"}function w(i){return y(i)=="function"}function E(i){var a=typeof i;return a=="object"&&i!=null||a=="function"}function T(i){return Object.prototype.hasOwnProperty.call(i,k)&&i[k]||(i[k]=++D)}var k="closure_uid_"+(1e9*Math.random()>>>0),D=0;function F(i,a,c){return i.call.apply(i.bind,arguments)}function J(i,a,c){if(!i)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var v=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(v,p),i.apply(a,v)}}return function(){return i.apply(a,arguments)}}function V(i,a,c){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?V=F:V=J,V.apply(null,arguments)}function fe(i,a){var c=Array.prototype.slice.call(arguments,1);return function(){var p=c.slice();return p.push.apply(p,arguments),i.apply(this,p)}}function G(i,a){function c(){}c.prototype=a.prototype,i.bb=a.prototype,i.prototype=new c,i.prototype.constructor=i}function X(i){return i}function C(i,a,c){this.code=Ze+i,this.message=a||tt[i]||"",this.a=c||null}G(C,Error),C.prototype.w=function(){var i={code:this.code,message:this.message};return this.a&&(i.serverResponse=this.a),i},C.prototype.toJSON=function(){return this.w()};function He(i){var a=i&&i.code;return a?new C(a.substring(Ze.length),i.message,i.serverResponse):null}var Ze="auth/",tt={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},Xe={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function Ke(i){for(var a in Xe)if(Xe[a].id===i)return i=Xe[a],{firebaseEndpoint:i.Ua,secureTokenEndpoint:i.$a,identityPlatformEndpoint:i.Xa};return null}var ae;ae=Ke("__EID__")?"__EID__":void 0;function Me(i){if(!i)return!1;try{return!!i.$goog_Thenable}catch{return!1}}function me(i){if(Error.captureStackTrace)Error.captureStackTrace(this,me);else{var a=Error().stack;a&&(this.stack=a)}i&&(this.message=String(i))}G(me,Error),me.prototype.name="CustomError";function yt(i,a){i=i.split("%s");for(var c="",p=i.length-1,v=0;v<p;v++)c+=i[v]+(v<a.length?a[v]:"%s");me.call(this,c+i[p])}G(yt,me),yt.prototype.name="AssertionError";function Pt(i,a){throw new yt("Failure"+(i?": "+i:""),Array.prototype.slice.call(arguments,1))}function Wt(i,a){this.c=i,this.f=a,this.b=0,this.a=null}Wt.prototype.get=function(){if(0<this.b){this.b--;var i=this.a;this.a=i.next,i.next=null}else i=this.c();return i};function jt(i,a){i.f(a),100>i.b&&(i.b++,a.next=i.a,i.a=a)}function bt(){this.b=this.a=null}var Qn=new Wt(function(){return new ve},function(i){i.reset()});bt.prototype.add=function(i,a){var c=Qn.get();c.set(i,a),this.b?this.b.next=c:this.a=c,this.b=c};function pe(){var i=X0,a=null;return i.a&&(a=i.a,i.a=i.a.next,i.a||(i.b=null),a.next=null),a}function ve(){this.next=this.b=this.a=null}ve.prototype.set=function(i,a){this.a=i,this.b=a,this.next=null},ve.prototype.reset=function(){this.next=this.b=this.a=null};var L=Array.prototype.indexOf?function(i,a){return Array.prototype.indexOf.call(i,a,void 0)}:function(i,a){if(typeof i=="string")return typeof a!="string"||a.length!=1?-1:i.indexOf(a,0);for(var c=0;c<i.length;c++)if(c in i&&i[c]===a)return c;return-1},q=Array.prototype.forEach?function(i,a,c){Array.prototype.forEach.call(i,a,c)}:function(i,a,c){for(var p=i.length,v=typeof i=="string"?i.split(""):i,_=0;_<p;_++)_ in v&&a.call(c,v[_],_,i)};function te(i,a){for(var c=typeof i=="string"?i.split(""):i,p=i.length-1;0<=p;--p)p in c&&a.call(void 0,c[p],p,i)}var ue=Array.prototype.filter?function(i,a){return Array.prototype.filter.call(i,a,void 0)}:function(i,a){for(var c=i.length,p=[],v=0,_=typeof i=="string"?i.split(""):i,S=0;S<c;S++)if(S in _){var I=_[S];a.call(void 0,I,S,i)&&(p[v++]=I)}return p},Re=Array.prototype.map?function(i,a){return Array.prototype.map.call(i,a,void 0)}:function(i,a){for(var c=i.length,p=Array(c),v=typeof i=="string"?i.split(""):i,_=0;_<c;_++)_ in v&&(p[_]=a.call(void 0,v[_],_,i));return p},A=Array.prototype.some?function(i,a){return Array.prototype.some.call(i,a,void 0)}:function(i,a){for(var c=i.length,p=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in p&&a.call(void 0,p[v],v,i))return!0;return!1};function x(i){e:{for(var a=LO,c=i.length,p=typeof i=="string"?i.split(""):i,v=0;v<c;v++)if(v in p&&a.call(void 0,p[v],v,i)){a=v;break e}a=-1}return 0>a?null:typeof i=="string"?i.charAt(a):i[a]}function R(i,a){return 0<=L(i,a)}function U(i,a){a=L(i,a);var c;return(c=0<=a)&&Array.prototype.splice.call(i,a,1),c}function B(i,a){var c=0;te(i,function(p,v){a.call(void 0,p,v,i)&&Array.prototype.splice.call(i,v,1).length==1&&c++})}function z(i){return Array.prototype.concat.apply([],arguments)}function ie(i){var a=i.length;if(0<a){for(var c=Array(a),p=0;p<a;p++)c[p]=i[p];return c}return[]}var Z=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]},ne=/&/g,Q=/</g,we=/>/g,le=/"/g,ye=/'/g,ke=/\x00/g,$e=/[\x00&<>"']/;function Ee(i,a){return i.indexOf(a)!=-1}function N(i,a){return i<a?-1:i>a?1:0}var P;e:{var K=f.navigator;if(K){var oe=K.userAgent;if(oe){P=oe;break e}}P=""}function he(i){return Ee(P,i)}function Ce(i,a){for(var c in i)a.call(void 0,i[c],c,i)}function Ue(i){for(var a in i)return!1;return!0}function Pe(i){var a={},c;for(c in i)a[c]=i[c];return a}var Fe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function De(i,a){for(var c,p,v=1;v<arguments.length;v++){p=arguments[v];for(c in p)i[c]=p[c];for(var _=0;_<Fe.length;_++)c=Fe[_],Object.prototype.hasOwnProperty.call(p,c)&&(i[c]=p[c])}}function fn(i,a){e:{try{var c=i&&i.ownerDocument,p=c&&(c.defaultView||c.parentWindow);if(p=p||f,p.Element&&p.Location){var v=p;break e}}catch{}v=null}if(v&&typeof v[a]<"u"&&(!i||!(i instanceof v[a])&&(i instanceof v.Location||i instanceof v.Element))){if(E(i))try{var _=i.constructor.displayName||i.constructor.name||Object.prototype.toString.call(i)}catch{_="<object could not be stringified>"}else _=i===void 0?"undefined":i===null?"null":typeof i;Pt("Argument is not a %s (or a non-Element, non-Location mock); got: %s",a,_)}}function hn(i,a){this.a=i===Ql&&a||"",this.b=O0}hn.prototype.ta=!0,hn.prototype.sa=function(){return this.a},hn.prototype.toString=function(){return"Const{"+this.a+"}"};function bd(i){return i instanceof hn&&i.constructor===hn&&i.b===O0?i.a:(Pt("expected object of type Const, got '"+i+"'"),"type_error:Const")}var O0={},Ql={},Jl;function P0(){if(Jl===void 0){var i=null,a=f.trustedTypes;if(a&&a.createPolicy){try{i=a.createPolicy("goog#html",{createHTML:X,createScript:X,createScriptURL:X})}catch(c){f.console&&f.console.error(c.message)}Jl=i}else Jl=i}return Jl}function hs(i,a){this.a=a===R0?i:""}hs.prototype.ta=!0,hs.prototype.sa=function(){return this.a.toString()},hs.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};function N0(i){return i instanceof hs&&i.constructor===hs?i.a:(Pt("expected object of type TrustedResourceUrl, got '"+i+"' of type "+y(i)),"type_error:TrustedResourceUrl")}function _d(i,a){var c=bd(i);if(!fC.test(c))throw Error("Invalid TrustedResourceUrl format: "+c);return i=c.replace(cC,function(p,v){if(!Object.prototype.hasOwnProperty.call(a,v))throw Error('Found marker, "'+v+'", in format string, "'+c+'", but no valid label mapping found in args: '+JSON.stringify(a));return p=a[v],p instanceof hn?bd(p):encodeURIComponent(String(p))}),hC(i)}var cC=/%{(\w+)}/g,fC=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,R0={};function hC(i){var a=P0();return i=a?a.createScriptURL(i):i,new hs(i,R0)}function Ln(i,a){this.a=a===Ua?i:""}Ln.prototype.ta=!0,Ln.prototype.sa=function(){return this.a.toString()},Ln.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};function Zl(i){return i instanceof Ln&&i.constructor===Ln?i.a:(Pt("expected object of type SafeUrl, got '"+i+"' of type "+y(i)),"type_error:SafeUrl")}var dC=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,pC=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,D0=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function L0(i){if(i instanceof Ln)return i;if(i=typeof i=="object"&&i.ta?i.sa():String(i),D0.test(i))i=new Ln(i,Ua);else{i=String(i),i=i.replace(/(%0A|%0D)/g,"");var a=i.match(pC);i=a&&dC.test(a[1])?new Ln(i,Ua):null}return i}function M0(i){return i instanceof Ln?i:(i=typeof i=="object"&&i.ta?i.sa():String(i),D0.test(i)||(i="about:invalid#zClosurez"),new Ln(i,Ua))}var Ua={},F0=new Ln("about:invalid#zClosurez",Ua);function ds(i,a,c){this.a=c===V0?i:""}ds.prototype.ta=!0,ds.prototype.sa=function(){return this.a.toString()},ds.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};function gC(i){return i instanceof ds&&i.constructor===ds?i.a:(Pt("expected object of type SafeHtml, got '"+i+"' of type "+y(i)),"type_error:SafeHtml")}var V0={};function mC(i,a){fn(i,"HTMLScriptElement"),i.src=N0(a),(a=i.ownerDocument&&i.ownerDocument.defaultView)&&a!=f?a=h(a.document):(m===null&&(m=h(f.document)),a=m),a&&i.setAttribute("nonce",a)}function j0(i,a,c,p){return i=i instanceof Ln?i:M0(i),a=a||f,c=c instanceof hn?bd(c):c||"",a.open(Zl(i),c,p,void 0)}function U0(i,a){for(var c=i.split("%s"),p="",v=Array.prototype.slice.call(arguments,1);v.length&&1<c.length;)p+=c.shift()+v.shift();return p+c.join("%s")}function wd(i){return $e.test(i)&&(i.indexOf("&")!=-1&&(i=i.replace(ne,"&amp;")),i.indexOf("<")!=-1&&(i=i.replace(Q,"&lt;")),i.indexOf(">")!=-1&&(i=i.replace(we,"&gt;")),i.indexOf('"')!=-1&&(i=i.replace(le,"&quot;")),i.indexOf("'")!=-1&&(i=i.replace(ye,"&#39;")),i.indexOf("\0")!=-1&&(i=i.replace(ke,"&#0;"))),i}function Sd(i){return Sd[" "](i),i}Sd[" "]=g;function vC(i,a){var c=wC;return Object.prototype.hasOwnProperty.call(c,i)?c[i]:c[i]=a(i)}var yC=he("Opera"),_r=he("Trident")||he("MSIE"),B0=he("Edge"),bC=B0||_r,$0=he("Gecko")&&!(Ee(P.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),_C=Ee(P.toLowerCase(),"webkit")&&!he("Edge");function q0(){var i=f.document;return i?i.documentMode:void 0}var ec;e:{var Ed="",Td=function(){var i=P;if($0)return/rv:([^\);]+)(\)|;)/.exec(i);if(B0)return/Edge\/([\d\.]+)/.exec(i);if(_r)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i);if(_C)return/WebKit\/(\S+)/.exec(i);if(yC)return/(?:Version)[ \/]?(\S+)/.exec(i)}();if(Td&&(Ed=Td?Td[1]:""),_r){var Id=q0();if(Id!=null&&Id>parseFloat(Ed)){ec=String(Id);break e}}ec=Ed}var wC={};function H0(i){return vC(i,function(){for(var a=0,c=Z(String(ec)).split("."),p=Z(String(i)).split("."),v=Math.max(c.length,p.length),_=0;a==0&&_<v;_++){var S=c[_]||"",I=p[_]||"";do{if(S=/(\d*)(\D*)(.*)/.exec(S)||["","","",""],I=/(\d*)(\D*)(.*)/.exec(I)||["","","",""],S[0].length==0&&I[0].length==0)break;a=N(S[1].length==0?0:parseInt(S[1],10),I[1].length==0?0:parseInt(I[1],10))||N(S[2].length==0,I[2].length==0)||N(S[2],I[2]),S=S[3],I=I[3]}while(a==0)}return 0<=a})}var Ad;if(f.document&&_r){var K0=q0();Ad=K0||parseInt(ec,10)||void 0}else Ad=void 0;var wi=Ad;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch{}var SC=!_r||9<=Number(wi);function Ba(i){var a=document;return typeof i=="string"?a.getElementById(i):i}function G0(i,a){Ce(a,function(c,p){c&&typeof c=="object"&&c.ta&&(c=c.sa()),p=="style"?i.style.cssText=c:p=="class"?i.className=c:p=="for"?i.htmlFor=c:W0.hasOwnProperty(p)?i.setAttribute(W0[p],c):p.lastIndexOf("aria-",0)==0||p.lastIndexOf("data-",0)==0?i.setAttribute(p,c):i[p]=c})}var W0={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function EC(i,a,c){var p=arguments,v=document,_=String(p[0]),S=p[1];if(!SC&&S&&(S.name||S.type)){if(_=["<",_],S.name&&_.push(' name="',wd(S.name),'"'),S.type){_.push(' type="',wd(S.type),'"');var I={};De(I,S),delete I.type,S=I}_.push(">"),_=_.join("")}return _=tc(v,_),S&&(typeof S=="string"?_.className=S:Array.isArray(S)?_.className=S.join(" "):G0(_,S)),2<p.length&&TC(v,_,p),_}function TC(i,a,c){function p(I){I&&a.appendChild(typeof I=="string"?i.createTextNode(I):I)}for(var v=2;v<c.length;v++){var _=c[v];if(!b(_)||E(_)&&0<_.nodeType)p(_);else{e:{if(_&&typeof _.length=="number"){if(E(_)){var S=typeof _.item=="function"||typeof _.item=="string";break e}if(w(_)){S=typeof _.item=="function";break e}}S=!1}q(S?ie(_):_,p)}}}function tc(i,a){return a=String(a),i.contentType==="application/xhtml+xml"&&(a=a.toLowerCase()),i.createElement(a)}function z0(i){f.setTimeout(function(){throw i},0)}var xd;function IC(){var i=f.MessageChannel;if(typeof i>"u"&&typeof window<"u"&&window.postMessage&&window.addEventListener&&!he("Presto")&&(i=function(){var v=tc(document,"IFRAME");v.style.display="none",document.documentElement.appendChild(v);var _=v.contentWindow;v=_.document,v.open(),v.close();var S="callImmediate"+Math.random(),I=_.location.protocol=="file:"?"*":_.location.protocol+"//"+_.location.host;v=V(function(j){(I=="*"||j.origin==I)&&j.data==S&&this.port1.onmessage()},this),_.addEventListener("message",v,!1),this.port1={},this.port2={postMessage:function(){_.postMessage(S,I)}}}),typeof i<"u"&&!he("Trident")&&!he("MSIE")){var a=new i,c={},p=c;return a.port1.onmessage=function(){if(c.next!==void 0){c=c.next;var v=c.Hb;c.Hb=null,v()}},function(v){p.next={Hb:v},p=p.next,a.port2.postMessage(0)}}return function(v){f.setTimeout(v,0)}}function nc(i,a){rc||AC(),kd||(rc(),kd=!0),X0.add(i,a)}var rc;function AC(){if(f.Promise&&f.Promise.resolve){var i=f.Promise.resolve(void 0);rc=function(){i.then(Y0)}}else rc=function(){var a=Y0;!w(f.setImmediate)||f.Window&&f.Window.prototype&&!he("Edge")&&f.Window.prototype.setImmediate==f.setImmediate?(xd||(xd=IC()),xd(a)):f.setImmediate(a)}}var kd=!1,X0=new bt;function Y0(){for(var i;i=pe();){try{i.a.call(i.b)}catch(a){z0(a)}jt(Qn,i)}kd=!1}function We(i,a){if(this.a=ao,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,i!=g)try{var c=this;i.call(a,function(p){uo(c,$a,p)},function(p){if(!(p instanceof ps))try{throw p instanceof Error?p:Error("Promise rejected.")}catch{}uo(c,ri,p)})}catch(p){uo(this,ri,p)}}var ao=0,$a=2,ri=3;function Q0(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Q0.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var J0=new Wt(function(){return new Q0},function(i){i.reset()});function Cd(i,a,c){var p=J0.get();return p.g=i,p.b=a,p.f=c,p}function Te(i){if(i instanceof We)return i;var a=new We(g);return uo(a,$a,i),a}function St(i){return new We(function(a,c){c(i)})}function Z0(i,a,c){rb(i,a,c,null)||nc(fe(a,i))}function xC(i){return new We(function(a,c){var p=i.length,v=[];if(p)for(var _=function(W,Ne){p--,v[W]=Ne,p==0&&a(v)},S=function(W){c(W)},I=0,j;I<i.length;I++)j=i[I],Z0(j,fe(_,I),S);else a(v)})}function eb(i){return new We(function(a){var c=i.length,p=[];if(c)for(var v=function(I,j,W){c--,p[I]=j?{Qb:!0,value:W}:{Qb:!1,reason:W},c==0&&a(p)},_=0,S;_<i.length;_++)S=i[_],Z0(S,fe(v,_,!0),fe(v,_,!1));else a(p)})}We.prototype.then=function(i,a,c){return nb(this,w(i)?i:null,w(a)?a:null,c)},We.prototype.$goog_Thenable=!0,e=We.prototype,e.oa=function(i,a){return i=Cd(i,i,a),i.c=!0,Od(this,i),this},e.o=function(i,a){return nb(this,null,i,a)},e.cancel=function(i){if(this.a==ao){var a=new ps(i);nc(function(){tb(this,a)},this)}};function tb(i,a){if(i.a==ao)if(i.c){var c=i.c;if(c.b){for(var p=0,v=null,_=null,S=c.b;S&&(S.c||(p++,S.a==i&&(v=S),!(v&&1<p)));S=S.next)v||(_=S);v&&(c.a==ao&&p==1?tb(c,a):(_?(p=_,p.next==c.f&&(c.f=p),p.next=p.next.next):ob(c),sb(c,v,ri,a)))}i.c=null}else uo(i,ri,a)}function Od(i,a){i.b||i.a!=$a&&i.a!=ri||ib(i),i.f?i.f.next=a:i.b=a,i.f=a}function nb(i,a,c,p){var v=Cd(null,null,null);return v.a=new We(function(_,S){v.g=a?function(I){try{var j=a.call(p,I);_(j)}catch(W){S(W)}}:_,v.b=c?function(I){try{var j=c.call(p,I);j===void 0&&I instanceof ps?S(I):_(j)}catch(W){S(W)}}:S}),v.a.c=i,Od(i,v),v.a}e.$c=function(i){this.a=ao,uo(this,$a,i)},e.ad=function(i){this.a=ao,uo(this,ri,i)};function uo(i,a,c){i.a==ao&&(i===c&&(a=ri,c=new TypeError("Promise cannot resolve to itself")),i.a=1,rb(c,i.$c,i.ad,i)||(i.i=c,i.a=a,i.c=null,ib(i),a!=ri||c instanceof ps||CC(i,c)))}function rb(i,a,c,p){if(i instanceof We)return Od(i,Cd(a||g,c||null,p)),!0;if(Me(i))return i.then(a,c,p),!0;if(E(i))try{var v=i.then;if(w(v))return kC(i,v,a,c,p),!0}catch(_){return c.call(p,_),!0}return!1}function kC(i,a,c,p,v){function _(j){I||(I=!0,p.call(v,j))}function S(j){I||(I=!0,c.call(v,j))}var I=!1;try{a.call(i,S,_)}catch(j){_(j)}}function ib(i){i.h||(i.h=!0,nc(i.gc,i))}function ob(i){var a=null;return i.b&&(a=i.b,i.b=a.next,a.next=null),i.b||(i.f=null),a}e.gc=function(){for(var i;i=ob(this);)sb(this,i,this.a,this.i);this.h=!1};function sb(i,a,c,p){if(c==ri&&a.b&&!a.c)for(;i&&i.g;i=i.c)i.g=!1;if(a.a)a.a.c=null,ab(a,c,p);else try{a.c?a.g.call(a.f):ab(a,c,p)}catch(v){ub.call(null,v)}jt(J0,a)}function ab(i,a,c){a==$a?i.g.call(i.f,c):i.b&&i.b.call(i.f,c)}function CC(i,a){i.g=!0,nc(function(){i.g&&ub.call(null,a)})}var ub=z0;function ps(i){me.call(this,i)}G(ps,me),ps.prototype.name="cancel";function ic(){this.ya=this.ya,this.pa=this.pa}var OC=0;ic.prototype.ya=!1;function lb(i){!i.ya&&(i.ya=!0,i.Da(),OC!=0)&&T(i)}ic.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var PC=Object.freeze||function(i){return i},cb=!_r||9<=Number(wi),NC=_r&&!H0("9"),RC=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var i=!1,a=Object.defineProperty({},"passive",{get:function(){i=!0}});try{f.addEventListener("test",g,a),f.removeEventListener("test",g,a)}catch{}return i}();function Mn(i,a){this.type=i,this.b=this.target=a,this.defaultPrevented=!1}Mn.prototype.preventDefault=function(){this.defaultPrevented=!0};function lo(i,a){if(Mn.call(this,i?i.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,i){var c=this.type=i.type,p=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.b=a,a=i.relatedTarget){if($0){e:{try{Sd(a.nodeName);var v=!0;break e}catch{}v=!1}v||(a=null)}}else c=="mouseover"?a=i.fromElement:c=="mouseout"&&(a=i.toElement);this.relatedTarget=a,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:DC[i.pointerType]||"",this.a=i,i.defaultPrevented&&this.preventDefault()}}G(lo,Mn);var DC=PC({2:"touch",3:"pen",4:"mouse"});lo.prototype.preventDefault=function(){lo.bb.preventDefault.call(this);var i=this.a;if(i.preventDefault)i.preventDefault();else if(i.returnValue=!1,NC)try{(i.ctrlKey||112<=i.keyCode&&123>=i.keyCode)&&(i.keyCode=-1)}catch{}},lo.prototype.g=function(){return this.a};var qa="closure_listenable_"+(1e6*Math.random()|0),LC=0;function MC(i,a,c,p,v){this.listener=i,this.proxy=null,this.src=a,this.type=c,this.capture=!!p,this.Wa=v,this.key=++LC,this.wa=this.Qa=!1}function oc(i){i.wa=!0,i.listener=null,i.proxy=null,i.src=null,i.Wa=null}function sc(i){this.src=i,this.a={},this.b=0}sc.prototype.add=function(i,a,c,p,v){var _=i.toString();i=this.a[_],i||(i=this.a[_]=[],this.b++);var S=Nd(i,a,p,v);return-1<S?(a=i[S],c||(a.Qa=!1)):(a=new MC(a,this.src,_,!!p,v),a.Qa=c,i.push(a)),a};function Pd(i,a){var c=a.type;c in i.a&&U(i.a[c],a)&&(oc(a),i.a[c].length==0&&(delete i.a[c],i.b--))}function Nd(i,a,c,p){for(var v=0;v<i.length;++v){var _=i[v];if(!_.wa&&_.listener==a&&_.capture==!!c&&_.Wa==p)return v}return-1}var Rd="closure_lm_"+(1e6*Math.random()|0),Dd={};function cr(i,a,c,p,v){if(p&&p.once)Ld(i,a,c,p,v);else if(Array.isArray(a))for(var _=0;_<a.length;_++)cr(i,a[_],c,p,v);else c=Fd(c),i&&i[qa]?mb(i,a,c,E(p)?!!p.capture:!!p,v):fb(i,a,c,!1,p,v)}function fb(i,a,c,p,v,_){if(!a)throw Error("Invalid event type");var S=E(v)?!!v.capture:!!v,I=ac(i);if(I||(i[Rd]=I=new sc(i)),c=I.add(a,c,p,S,_),!c.proxy)if(p=FC(),c.proxy=p,p.src=i,p.listener=c,i.addEventListener)RC||(v=S),v===void 0&&(v=!1),i.addEventListener(a.toString(),p,v);else if(i.attachEvent)i.attachEvent(db(a.toString()),p);else if(i.addListener&&i.removeListener)i.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.")}function FC(){var i=VC,a=cb?function(c){return i.call(a.src,a.listener,c)}:function(c){if(c=i.call(a.src,a.listener,c),!c)return c};return a}function Ld(i,a,c,p,v){if(Array.isArray(a))for(var _=0;_<a.length;_++)Ld(i,a[_],c,p,v);else c=Fd(c),i&&i[qa]?Vd(i,a,c,E(p)?!!p.capture:!!p,v):fb(i,a,c,!0,p,v)}function Jn(i,a,c,p,v){if(Array.isArray(a))for(var _=0;_<a.length;_++)Jn(i,a[_],c,p,v);else p=E(p)?!!p.capture:!!p,c=Fd(c),i&&i[qa]?(i=i.v,a=String(a).toString(),a in i.a&&(_=i.a[a],c=Nd(_,c,p,v),-1<c&&(oc(_[c]),Array.prototype.splice.call(_,c,1),_.length==0&&(delete i.a[a],i.b--)))):i&&(i=ac(i))&&(a=i.a[a.toString()],i=-1,a&&(i=Nd(a,c,p,v)),(c=-1<i?a[i]:null)&&hb(c))}function hb(i){if(typeof i!="number"&&i&&!i.wa){var a=i.src;if(a&&a[qa])Pd(a.v,i);else{var c=i.type,p=i.proxy;a.removeEventListener?a.removeEventListener(c,p,i.capture):a.detachEvent?a.detachEvent(db(c),p):a.addListener&&a.removeListener&&a.removeListener(p),(c=ac(a))?(Pd(c,i),c.b==0&&(c.src=null,a[Rd]=null)):oc(i)}}}function db(i){return i in Dd?Dd[i]:Dd[i]="on"+i}function pb(i,a,c,p){var v=!0;if((i=ac(i))&&(a=i.a[a.toString()]))for(a=a.concat(),i=0;i<a.length;i++){var _=a[i];_&&_.capture==c&&!_.wa&&(_=gb(_,p),v=v&&_!==!1)}return v}function gb(i,a){var c=i.listener,p=i.Wa||i.src;return i.Qa&&hb(i),c.call(p,a)}function VC(i,a){if(i.wa)return!0;if(!cb){if(!a)e:{a=["window","event"];for(var c=f,p=0;p<a.length;p++)if(c=c[a[p]],c==null){a=null;break e}a=c}if(p=a,a=new lo(p,this),c=!0,!(0>p.keyCode||p.returnValue!=null)){e:{var v=!1;if(p.keyCode==0)try{p.keyCode=-1;break e}catch{v=!0}(v||p.returnValue==null)&&(p.returnValue=!0)}for(p=[],v=a.b;v;v=v.parentNode)p.push(v);for(i=i.type,v=p.length-1;0<=v;v--){a.b=p[v];var _=pb(p[v],i,!0,a);c=c&&_}for(v=0;v<p.length;v++)a.b=p[v],_=pb(p[v],i,!1,a),c=c&&_}return c}return gb(i,new lo(a,this))}function ac(i){return i=i[Rd],i instanceof sc?i:null}var Md="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fd(i){return w(i)?i:(i[Md]||(i[Md]=function(a){return i.handleEvent(a)}),i[Md])}function Tn(){ic.call(this),this.v=new sc(this),this.bc=this,this.hb=null}G(Tn,ic),Tn.prototype[qa]=!0,Tn.prototype.addEventListener=function(i,a,c,p){cr(this,i,a,c,p)},Tn.prototype.removeEventListener=function(i,a,c,p){Jn(this,i,a,c,p)},Tn.prototype.dispatchEvent=function(i){var a,c=this.hb;if(c)for(a=[];c;c=c.hb)a.push(c);c=this.bc;var p=i.type||i;if(typeof i=="string")i=new Mn(i,c);else if(i instanceof Mn)i.target=i.target||c;else{var v=i;i=new Mn(p,c),De(i,v)}if(v=!0,a)for(var _=a.length-1;0<=_;_--){var S=i.b=a[_];v=uc(S,p,!0,i)&&v}if(S=i.b=c,v=uc(S,p,!0,i)&&v,v=uc(S,p,!1,i)&&v,a)for(_=0;_<a.length;_++)S=i.b=a[_],v=uc(S,p,!1,i)&&v;return v},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var i=this.v,a;for(a in i.a){for(var c=i.a[a],p=0;p<c.length;p++)oc(c[p]);delete i.a[a],i.b--}}this.hb=null};function mb(i,a,c,p,v){i.v.add(String(a),c,!1,p,v)}function Vd(i,a,c,p,v){i.v.add(String(a),c,!0,p,v)}function uc(i,a,c,p){if(a=i.v.a[String(a)],!a)return!0;a=a.concat();for(var v=!0,_=0;_<a.length;++_){var S=a[_];if(S&&!S.wa&&S.capture==c){var I=S.listener,j=S.Wa||S.src;S.Qa&&Pd(i.v,S),v=I.call(j,p)!==!1&&v}}return v&&!p.defaultPrevented}function jd(i,a,c){if(w(i))c&&(i=V(i,c));else if(i&&typeof i.handleEvent=="function")i=V(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(a)?-1:f.setTimeout(i,a||0)}function gs(i){var a=null;return new We(function(c,p){a=jd(function(){c(void 0)},i),a==-1&&p(Error("Failed to schedule timer."))}).o(function(c){throw f.clearTimeout(a),c})}function vb(i){if(i.X&&typeof i.X=="function")return i.X();if(typeof i=="string")return i.split("");if(b(i)){for(var a=[],c=i.length,p=0;p<c;p++)a.push(i[p]);return a}a=[],c=0;for(p in i)a[c++]=i[p];return a}function yb(i){if(i.Y&&typeof i.Y=="function")return i.Y();if(!i.X||typeof i.X!="function"){if(b(i)||typeof i=="string"){var a=[];i=i.length;for(var c=0;c<i;c++)a.push(c);return a}a=[],c=0;for(var p in i)a[c++]=p;return a}}function jC(i,a){if(i.forEach&&typeof i.forEach=="function")i.forEach(a,void 0);else if(b(i)||typeof i=="string")q(i,a,void 0);else for(var c=yb(i),p=vb(i),v=p.length,_=0;_<v;_++)a.call(void 0,p[_],c&&c[_],i)}function ms(i,a){this.b={},this.a=[],this.c=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var p=0;p<c;p+=2)this.set(arguments[p],arguments[p+1])}else if(i)if(i instanceof ms)for(c=i.Y(),p=0;p<c.length;p++)this.set(c[p],i.get(c[p]));else for(p in i)this.set(p,i[p])}e=ms.prototype,e.X=function(){Ud(this);for(var i=[],a=0;a<this.a.length;a++)i.push(this.b[this.a[a]]);return i},e.Y=function(){return Ud(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0};function Ud(i){if(i.c!=i.a.length){for(var a=0,c=0;a<i.a.length;){var p=i.a[a];co(i.b,p)&&(i.a[c++]=p),a++}i.a.length=c}if(i.c!=i.a.length){var v={};for(c=a=0;a<i.a.length;)p=i.a[a],co(v,p)||(i.a[c++]=p,v[p]=1),a++;i.a.length=c}}e.get=function(i,a){return co(this.b,i)?this.b[i]:a},e.set=function(i,a){co(this.b,i)||(this.c++,this.a.push(i)),this.b[i]=a},e.forEach=function(i,a){for(var c=this.Y(),p=0;p<c.length;p++){var v=c[p],_=this.get(v);i.call(a,_,v,this)}};function co(i,a){return Object.prototype.hasOwnProperty.call(i,a)}var bb=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function UC(i,a){if(i){i=i.split("&");for(var c=0;c<i.length;c++){var p=i[c].indexOf("="),v=null;if(0<=p){var _=i[c].substring(0,p);v=i[c].substring(p+1)}else _=i[c];a(_,v?decodeURIComponent(v.replace(/\+/g," ")):"")}}}function Si(i,a){this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1;var c;i instanceof Si?(this.i=a!==void 0?a:i.i,Ha(this,i.c),this.l=i.l,this.a=i.a,Ka(this,i.g),this.f=i.f,Bd(this,Eb(i.b)),this.h=i.h):i&&(c=String(i).match(bb))?(this.i=!!a,Ha(this,c[1]||"",!0),this.l=Ga(c[2]||""),this.a=Ga(c[3]||"",!0),Ka(this,c[4]),this.f=Ga(c[5]||"",!0),Bd(this,c[6]||"",!0),this.h=Ga(c[7]||"")):(this.i=!!a,this.b=new fo(null,this.i))}Si.prototype.toString=function(){var i=[],a=this.c;a&&i.push(Wa(a,_b,!0),":");var c=this.a;return(c||a=="file")&&(i.push("//"),(a=this.l)&&i.push(Wa(a,_b,!0),"@"),i.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.g,c!=null&&i.push(":",String(c))),(c=this.f)&&(this.a&&c.charAt(0)!="/"&&i.push("/"),i.push(Wa(c,c.charAt(0)=="/"?qC:$C,!0))),(c=this.b.toString())&&i.push("?",c),(c=this.h)&&i.push("#",Wa(c,KC)),i.join("")},Si.prototype.resolve=function(i){var a=new Si(this),c=!!i.c;c?Ha(a,i.c):c=!!i.l,c?a.l=i.l:c=!!i.a,c?a.a=i.a:c=i.g!=null;var p=i.f;if(c)Ka(a,i.g);else if(c=!!i.f){if(p.charAt(0)!="/")if(this.a&&!this.f)p="/"+p;else{var v=a.f.lastIndexOf("/");v!=-1&&(p=a.f.substr(0,v+1)+p)}if(v=p,v==".."||v==".")p="";else if(Ee(v,"./")||Ee(v,"/.")){p=v.lastIndexOf("/",0)==0,v=v.split("/");for(var _=[],S=0;S<v.length;){var I=v[S++];I=="."?p&&S==v.length&&_.push(""):I==".."?((1<_.length||_.length==1&&_[0]!="")&&_.pop(),p&&S==v.length&&_.push("")):(_.push(I),p=!0)}p=_.join("/")}else p=v}return c?a.f=p:c=i.b.toString()!=="",c?Bd(a,Eb(i.b)):c=!!i.h,c&&(a.h=i.h),a};function Ha(i,a,c){i.c=c?Ga(a,!0):a,i.c&&(i.c=i.c.replace(/:$/,""))}function Ka(i,a){if(a){if(a=Number(a),isNaN(a)||0>a)throw Error("Bad port number "+a);i.g=a}else i.g=null}function Bd(i,a,c){a instanceof fo?(i.b=a,GC(i.b,i.i)):(c||(a=Wa(a,HC)),i.b=new fo(a,i.i))}function Dt(i,a,c){i.b.set(a,c)}function fr(i,a){return i.b.get(a)}function Fn(i){return i instanceof Si?new Si(i):new Si(i,void 0)}function lc(i,a,c,p){var v=new Si(null,void 0);return i&&Ha(v,i),a&&(v.a=a),c&&Ka(v,c),p&&(v.f=p),v}function Ga(i,a){return i?a?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Wa(i,a,c){return typeof i=="string"?(i=encodeURI(i).replace(a,BC),c&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function BC(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var _b=/[#\/\?@]/g,$C=/[#\?:]/g,qC=/[#\?]/g,HC=/[#\?@]/g,KC=/#/g;function fo(i,a){this.b=this.a=null,this.c=i||null,this.f=!!a}function Ei(i){i.a||(i.a=new ms,i.b=0,i.c&&UC(i.c,function(a,c){i.add(decodeURIComponent(a.replace(/\+/g," ")),c)}))}function wb(i){var a=yb(i);if(typeof a>"u")throw Error("Keys are undefined");var c=new fo(null,void 0);i=vb(i);for(var p=0;p<a.length;p++){var v=a[p],_=i[p];Array.isArray(_)?Sb(c,v,_):c.add(v,_)}return c}e=fo.prototype,e.add=function(i,a){Ei(this),this.c=null,i=vs(this,i);var c=this.a.get(i);return c||this.a.set(i,c=[]),c.push(a),this.b+=1,this};function Vr(i,a){Ei(i),a=vs(i,a),co(i.a.b,a)&&(i.c=null,i.b-=i.a.get(a).length,i=i.a,co(i.b,a)&&(delete i.b[a],i.c--,i.a.length>2*i.c&&Ud(i)))}e.clear=function(){this.a=this.c=null,this.b=0};function $d(i,a){return Ei(i),a=vs(i,a),co(i.a.b,a)}e.forEach=function(i,a){Ei(this),this.a.forEach(function(c,p){q(c,function(v){i.call(a,v,p,this)},this)},this)},e.Y=function(){Ei(this);for(var i=this.a.X(),a=this.a.Y(),c=[],p=0;p<a.length;p++)for(var v=i[p],_=0;_<v.length;_++)c.push(a[p]);return c},e.X=function(i){Ei(this);var a=[];if(typeof i=="string")$d(this,i)&&(a=z(a,this.a.get(vs(this,i))));else{i=this.a.X();for(var c=0;c<i.length;c++)a=z(a,i[c])}return a},e.set=function(i,a){return Ei(this),this.c=null,i=vs(this,i),$d(this,i)&&(this.b-=this.a.get(i).length),this.a.set(i,[a]),this.b+=1,this},e.get=function(i,a){return i?(i=this.X(i),0<i.length?String(i[0]):a):a};function Sb(i,a,c){Vr(i,a),0<c.length&&(i.c=null,i.a.set(vs(i,a),ie(c)),i.b+=c.length)}e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var i=[],a=this.a.Y(),c=0;c<a.length;c++){var p=a[c],v=encodeURIComponent(String(p));p=this.X(p);for(var _=0;_<p.length;_++){var S=v;p[_]!==""&&(S+="="+encodeURIComponent(String(p[_]))),i.push(S)}}return this.c=i.join("&")};function Eb(i){var a=new fo;return a.c=i.c,i.a&&(a.a=new ms(i.a),a.b=i.b),a}function vs(i,a){return a=String(a),i.f&&(a=a.toLowerCase()),a}function GC(i,a){a&&!i.f&&(Ei(i),i.c=null,i.a.forEach(function(c,p){var v=p.toLowerCase();p!=v&&(Vr(this,p),Sb(this,v,c))},i)),i.f=a}function Tb(i){var a=[];return qd(new WC,i,a),a.join("")}function WC(){}function qd(i,a,c){if(a==null)c.push("null");else{if(typeof a=="object"){if(Array.isArray(a)){var p=a;a=p.length,c.push("[");for(var v="",_=0;_<a;_++)c.push(v),qd(i,p[_],c),v=",";c.push("]");return}if(a instanceof String||a instanceof Number||a instanceof Boolean)a=a.valueOf();else{c.push("{"),v="";for(p in a)Object.prototype.hasOwnProperty.call(a,p)&&(_=a[p],typeof _!="function"&&(c.push(v),Ab(p,c),c.push(":"),qd(i,_,c),v=","));c.push("}");return}}switch(typeof a){case"string":Ab(a,c);break;case"number":c.push(isFinite(a)&&!isNaN(a)?String(a):"null");break;case"boolean":c.push(String(a));break;case"function":c.push("null");break;default:throw Error("Unknown type: "+typeof a)}}}var Ib={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},zC=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ab(i,a){a.push('"',i.replace(zC,function(c){var p=Ib[c];return p||(p="\\u"+(c.charCodeAt(0)|65536).toString(16).substr(1),Ib[c]=p),p}),'"')}function Hd(){var i=rn();return _r&&!!wi&&wi==11||/Edge\/\d+/.test(i)}function za(){return f.window&&f.window.location.href||self&&self.location&&self.location.href||""}function xb(i,a){a=a||f.window;var c="about:blank";i&&(c=Zl(L0(i)||F0)),a.location.href=c}function kb(i,a){var c=[],p;for(p in i)p in a?typeof i[p]!=typeof a[p]?c.push(p):typeof i[p]=="object"&&i[p]!=null&&a[p]!=null?0<kb(i[p],a[p]).length&&c.push(p):i[p]!==a[p]&&c.push(p):c.push(p);for(p in a)p in i||c.push(p);return c}function XC(){var i=rn();return i=ys(i)!=Nb?null:(i=i.match(/\sChrome\/(\d+)/i))&&i.length==2?parseInt(i[1],10):null,i&&30>i?!1:!_r||!wi||9<wi}function Cb(i){return i=(i||rn()).toLowerCase(),!!(i.match(/android/)||i.match(/webos/)||i.match(/iphone|ipad|ipod/)||i.match(/blackberry/)||i.match(/windows phone/)||i.match(/iemobile/))}function ho(i){i=i||f.window;try{i.close()}catch{}}function Ob(i,a,c){var p=Math.floor(1e9*Math.random()).toString();a=a||500,c=c||600;var v=(window.screen.availHeight-c)/2,_=(window.screen.availWidth-a)/2;a={width:a,height:c,top:0<v?v:0,left:0<_?_:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},c=rn().toLowerCase(),p&&(a.target=p,Ee(c,"crios/")&&(a.target="_blank")),ys(rn())==Wd&&(i=i||"http://localhost",a.scrollbars=!0),c=i||"",(i=a)||(i={}),p=window,a=c instanceof Ln?c:L0(typeof c.href<"u"?c.href:String(c))||F0,c=i.target||c.target,v=[];for(S in i)switch(S){case"width":case"height":case"top":case"left":v.push(S+"="+i[S]);break;case"target":case"noopener":case"noreferrer":break;default:v.push(S+"="+(i[S]?1:0))}var S=v.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&p.navigator&&p.navigator.standalone&&c&&c!="_self"?(S=tc(document,"A"),fn(S,"HTMLAnchorElement"),a=a instanceof Ln?a:M0(a),S.href=Zl(a),S.setAttribute("target",c),i.noreferrer&&S.setAttribute("rel","noreferrer"),i=document.createEvent("MouseEvent"),i.initMouseEvent("click",!0,!0,p,1),S.dispatchEvent(i),S={}):i.noreferrer?(S=j0("",p,c,S),i=Zl(a),S&&(bC&&Ee(i,";")&&(i="'"+i.replace(/'/g,"%27")+"'"),S.opener=null,i='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+wd(i)+'">',i=(p=P0())?p.createHTML(i):i,i=new ds(i,null,V0),p=S.document)&&(p.write(gC(i)),p.close())):(S=j0(a,p,c,S))&&i.noopener&&(S.opener=null),S)try{S.focus()}catch{}return S}function YC(i){return new We(function(a){function c(){gs(2e3).then(function(){if(!i||i.closed)a();else return c()})}return c()})}var QC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JC=/^[^@]+@[^@]+$/;function cc(){var i=null;return new We(function(a){f.document.readyState=="complete"?a():(i=function(){a()},Ld(window,"load",i))}).o(function(a){throw Jn(window,"load",i),a})}function ZC(){return Kd(void 0)?cc().then(function(){return new We(function(i,a){var c=f.document,p=setTimeout(function(){a(Error("Cordova framework is not ready."))},1e3);c.addEventListener("deviceready",function(){clearTimeout(p),i()},!1)})}):St(Error("Cordova must run in an Android or iOS file scheme."))}function Kd(i){return i=i||rn(),!(_s()!=="file:"&&_s()!=="ionic:"||!i.toLowerCase().match(/iphone|ipad|ipod|android/))}function Gd(){var i=f.window;try{return!(!i||i==i.top)}catch{return!1}}function wr(){return typeof f.WorkerGlobalScope<"u"&&typeof f.importScripts=="function"}function jr(){return xe.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":xe.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Pb(){var i=jr();return i==="ReactNative"||i==="Node"}function eO(){for(var i=50,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}var Wd="Firefox",Nb="Chrome";function ys(i){var a=i.toLowerCase();if(Ee(a,"opera/")||Ee(a,"opr/")||Ee(a,"opios/"))return"Opera";if(Ee(a,"iemobile"))return"IEMobile";if(Ee(a,"msie")||Ee(a,"trident/"))return"IE";if(Ee(a,"edge/"))return"Edge";if(Ee(a,"firefox/"))return Wd;if(Ee(a,"silk/"))return"Silk";if(Ee(a,"blackberry"))return"Blackberry";if(Ee(a,"webos"))return"Webos";if(!Ee(a,"safari/")||Ee(a,"chrome/")||Ee(a,"crios/")||Ee(a,"android"))if(!Ee(a,"chrome/")&&!Ee(a,"crios/")||Ee(a,"edge/")){if(Ee(a,"android"))return"Android";if((i=i.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&i.length==2)return i[1]}else return Nb;else return"Safari";return"Other"}var Rb={md:"FirebaseCore-web",od:"FirebaseUI-web"};function bs(i,a){a=a||[];var c=[],p={},v;for(v in Rb)p[Rb[v]]=!0;for(v=0;v<a.length;v++)typeof p[a[v]]<"u"&&(delete p[a[v]],c.push(a[v]));return c.sort(),a=c,a.length||(a=["FirebaseCore-web"]),c=jr(),c==="Browser"?(p=rn(),c=ys(p)):c==="Worker"&&(p=rn(),c=ys(p)+"-"+c),c+"/JsCore/"+i+"/"+a.join(",")}function rn(){return f.navigator&&f.navigator.userAgent||""}function Et(i,a){i=i.split("."),a=a||f;for(var c=0;c<i.length&&typeof a=="object"&&a!=null;c++)a=a[i[c]];return c!=i.length&&(a=void 0),a}function zd(){try{var i=f.localStorage,a=go();if(i)return i.setItem(a,"1"),i.removeItem(a),Hd()?!!f.indexedDB:!0}catch{return wr()&&!!f.indexedDB}return!1}function po(){return(fc()||_s()==="chrome-extension:"||Kd())&&!Pb()&&zd()&&!wr()}function fc(){return _s()==="http:"||_s()==="https:"}function _s(){return f.location&&f.location.protocol||null}function Xa(i){return i=i||rn(),!(Cb(i)||ys(i)==Wd)}function Ya(i){return typeof i>"u"?null:Tb(i)}function Db(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&i[c]!==null&&i[c]!==void 0&&(a[c]=i[c]);return a}function ws(i){if(i!==null)return JSON.parse(i)}function go(i){return i||Math.floor(1e9*Math.random()).toString()}function Lb(i){return i=i||rn(),!(ys(i)=="Safari"||i.toLowerCase().match(/iphone|ipad|ipod/))}function Mb(){var i=f.___jsl;if(i&&i.H){for(var a in i.H)if(i.H[a].r=i.H[a].r||[],i.H[a].L=i.H[a].L||[],i.H[a].r=i.H[a].L.concat(),i.CP)for(var c=0;c<i.CP.length;c++)i.CP[c]=null}}function Ti(i,a){if(i>a)throw Error("Short delay should be less than long delay!");this.a=i,this.c=a,i=rn(),a=jr(),this.b=Cb(i)||a==="ReactNative"}Ti.prototype.get=function(){var i=f.navigator;return!(i&&typeof i.onLine=="boolean"&&(fc()||_s()==="chrome-extension:"||typeof i.connection<"u"))||i.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};function Xd(){var i=f.document;return i&&typeof i.visibilityState<"u"?i.visibilityState=="visible":!0}function tO(){var i=f.document,a=null;return Xd()||!i?Te():new We(function(c){a=function(){Xd()&&(i.removeEventListener("visibilitychange",a,!1),c())},i.addEventListener("visibilitychange",a,!1)}).o(function(c){throw i.removeEventListener("visibilitychange",a,!1),c})}function Qa(i){try{var a=new Date(parseInt(i,10));if(!isNaN(a.getTime())&&!/[^0-9]/.test(i))return a.toUTCString()}catch{}return null}function Fb(){return!(!Et("fireauth.oauthhelper",f)&&!Et("fireauth.iframe",f))}function nO(){var i=f.navigator;return i&&i.serviceWorker&&i.serviceWorker.controller||null}function rO(){var i=f.navigator;return i&&i.serviceWorker?Te().then(function(){return i.serviceWorker.ready}).then(function(a){return a.active||null}).o(function(){return null}):Te(null)}var Vb={};function Yd(i){Vb[i]||(Vb[i]=!0,typeof console<"u"&&typeof console.warn=="function"&&console.warn(i))}var Qd;try{var Jd={};Object.defineProperty(Jd,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jd,"abcd",{configurable:!0,enumerable:!0,value:2}),Qd=Jd.abcd==2}catch{Qd=!1}function ge(i,a,c){Qd?Object.defineProperty(i,a,{configurable:!0,enumerable:!0,value:c}):i[a]=c}function In(i,a){if(a)for(var c in a)a.hasOwnProperty(c)&&ge(i,c,a[c])}function Ur(i){var a={};return In(a,i),a}function iO(i){var a={},c;for(c in i)i.hasOwnProperty(c)&&(a[c]=i[c]);return a}function oO(i,a){if(!a||!a.length)return!0;if(!i)return!1;for(var c=0;c<a.length;c++){var p=i[a[c]];if(p==null||p==="")return!1}return!0}function Zd(i){var a=i;if(typeof i=="object"&&i!=null){a="length"in i?[]:{};for(var c in i)ge(a,c,Zd(i[c]))}return a}function ep(i){var a=i&&(i[ip]?"phone":null);if(a&&i&&i[rp]){ge(this,"uid",i[rp]),ge(this,"displayName",i[jb]||null);var c=null;i[np]&&(c=new Date(i[np]).toUTCString()),ge(this,"enrollmentTime",c),ge(this,"factorId",a)}else throw new C("internal-error","Internal assert: invalid MultiFactorInfo object")}ep.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};function tp(i){try{var a=new Ja(i)}catch{a=null}return a}var jb="displayName",np="enrolledAt",rp="mfaEnrollmentId",ip="phoneInfo";function Ja(i){ep.call(this,i),ge(this,"phoneNumber",i[ip])}G(Ja,ep),Ja.prototype.w=function(){var i=Ja.bb.w.call(this);return i.phoneNumber=this.phoneNumber,i};function sO(i){var a={},c=i[aO],p=i[lO],v=i[cO];if(i=tp(i[uO]),!v||v!=hc&&v!=Za&&!c||v==Za&&!p||v==op&&!i)throw Error("Invalid checkActionCode response!");v==Za?(a[Bb]=c||null,a[$b]=c||null,a[Ub]=p):(a[Bb]=p||null,a[$b]=p||null,a[Ub]=c||null),a[fO]=i||null,ge(this,dO,v),ge(this,hO,Zd(a))}var op="REVERT_SECOND_FACTOR_ADDITION",hc="EMAIL_SIGNIN",Za="VERIFY_AND_CHANGE_EMAIL",aO="email",uO="mfaInfo",lO="newEmail",cO="requestType",Ub="email",Bb="fromEmail",fO="multiFactorInfo",$b="previousEmail",hO="data",dO="operation";function sp(i){i=Fn(i);var a=fr(i,qb)||null,c=fr(i,Hb)||null,p=fr(i,Kb)||null;if(p=p&&vO[p]||null,!a||!c||!p)throw new C("argument-error",qb+", "+Hb+"and "+Kb+" are required in a valid action code URL.");In(this,{apiKey:a,operation:p,code:c,continueUrl:fr(i,pO)||null,languageCode:fr(i,gO)||null,tenantId:fr(i,mO)||null})}var qb="apiKey",Hb="oobCode",pO="continueUrl",gO="languageCode",Kb="mode",mO="tenantId",vO={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:op,signIn:hc,verifyAndChangeEmail:Za,verifyEmail:"VERIFY_EMAIL"};function Gb(i){try{return new sp(i)}catch{return null}}function dc(i){var a=i[yO];if(typeof a>"u")throw new C("missing-continue-uri");if(typeof a!="string"||typeof a=="string"&&!a.length)throw new C("invalid-continue-uri");this.h=a,this.b=this.a=null,this.g=!1;var c=i[Wb];if(c&&typeof c=="object"){a=c[Jb];var p=c[Yb];if(c=c[Qb],typeof a=="string"&&a.length){if(this.a=a,typeof p<"u"&&typeof p!="boolean")throw new C("argument-error",Yb+" property must be a boolean when specified.");if(this.g=!!p,typeof c<"u"&&(typeof c!="string"||typeof c=="string"&&!c.length))throw new C("argument-error",Qb+" property must be a non empty string when specified.");this.b=c||null}else{if(typeof a<"u")throw new C("argument-error",Jb+" property must be a non empty string when specified.");if(typeof p<"u"||typeof c<"u")throw new C("missing-android-pkg-name")}}else if(typeof c<"u")throw new C("argument-error",Wb+" property must be a non null object when specified.");if(this.f=null,(a=i[Xb])&&typeof a=="object"){if(a=a[Zb],typeof a=="string"&&a.length)this.f=a;else if(typeof a<"u")throw new C("argument-error",Zb+" property must be a non empty string when specified.")}else if(typeof a<"u")throw new C("argument-error",Xb+" property must be a non null object when specified.");if(a=i[ap],typeof a<"u"&&typeof a!="boolean")throw new C("argument-error",ap+" property must be a boolean when specified.");if(this.c=!!a,i=i[zb],typeof i<"u"&&(typeof i!="string"||typeof i=="string"&&!i.length))throw new C("argument-error",zb+" property must be a non empty string when specified.");this.i=i||null}var Wb="android",zb="dynamicLinkDomain",ap="handleCodeInApp",Xb="iOS",yO="url",Yb="installApp",Qb="minimumVersion",Jb="packageName",Zb="bundleId";function pc(i){var a={};a.continueUrl=i.h,a.canHandleCodeInApp=i.c,(a.androidPackageName=i.a)&&(a.androidMinimumVersion=i.b,a.androidInstallApp=i.g),a.iOSBundleId=i.f,a.dynamicLinkDomain=i.i;for(var c in a)a[c]===null&&delete a[c];return a}function bO(i){return Re(i,function(a){return a=a.toString(16),1<a.length?a:"0"+a}).join("")}var eu=null;function _O(i){var a=[];return wO(i,function(c){a.push(c)}),a}function wO(i,a){function c(j){for(;p<i.length;){var W=i.charAt(p++),Ne=eu[W];if(Ne!=null)return Ne;if(!/^[\s\xa0]*$/.test(W))throw Error("Unknown base64 encoding at char: "+W)}return j}SO();for(var p=0;;){var v=c(-1),_=c(0),S=c(64),I=c(64);if(I===64&&v===-1)break;a(v<<2|_>>4),S!=64&&(a(_<<4&240|S>>2),I!=64&&a(S<<6&192|I))}}function SO(){if(!eu){eu={};for(var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),a=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var p=i.concat(a[c].split("")),v=0;v<p.length;v++){var _=p[v];eu[_]===void 0&&(eu[_]=v)}}}function gc(i){var a=e_(i);if(!(a&&a.sub&&a.iss&&a.aud&&a.exp))throw Error("Invalid JWT");this.h=i,this.a=a.exp,this.i=a.sub,i=Date.now()/1e3,this.g=a.iat||(i>this.a?this.a:i),this.b=a.provider_id||a.firebase&&a.firebase.sign_in_provider||null,this.f=a.firebase&&a.firebase.tenant||null,this.c=!!a.is_anonymous||this.b=="anonymous"}gc.prototype.T=function(){return this.f},gc.prototype.l=function(){return this.c},gc.prototype.toString=function(){return this.h};function mc(i){try{return new gc(i)}catch{return null}}function e_(i){if(!i||(i=i.split("."),i.length!=3))return null;i=i[1];for(var a=(4-i.length%4)%4,c=0;c<a;c++)i+=".";try{var p=_O(i);for(i=[],c=a=0;a<p.length;){var v=p[a++];if(128>v)i[c++]=String.fromCharCode(v);else if(191<v&&224>v){var _=p[a++];i[c++]=String.fromCharCode((v&31)<<6|_&63)}else if(239<v&&365>v){_=p[a++];var S=p[a++],I=p[a++],j=((v&7)<<18|(_&63)<<12|(S&63)<<6|I&63)-65536;i[c++]=String.fromCharCode(55296+(j>>10)),i[c++]=String.fromCharCode(56320+(j&1023))}else _=p[a++],S=p[a++],i[c++]=String.fromCharCode((v&15)<<12|(_&63)<<6|S&63)}return JSON.parse(i.join(""))}catch{}return null}var t_="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),vc=["client_id","response_type","scope","redirect_uri","state"],up={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:vc},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:vc},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:vc},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:t_},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function lp(i){for(var a in up)if(up[a].fa==i)return up[a];return null}function n_(i){var a={};a["facebook.com"]=i_,a["google.com"]=s_,a["github.com"]=o_,a["twitter.com"]=a_;var c=i&&i[r_];try{if(c)return a[c]?new a[c](i):new Br(i);if(typeof i[cp]<"u")return new fp(i)}catch{}return null}var cp="idToken",r_="providerId";function fp(i){var a=i[r_];if(!a&&i[cp]){var c=mc(i[cp]);c&&c.b&&(a=c.b)}if(!a)throw Error("Invalid additional user info!");(a=="anonymous"||a=="custom")&&(a=null),c=!1,typeof i.isNewUser<"u"?c=!!i.isNewUser:i.kind==="identitytoolkit#SignupNewUserResponse"&&(c=!0),ge(this,"providerId",a),ge(this,"isNewUser",c)}function Br(i){fp.call(this,i),i=ws(i.rawUserInfo||"{}"),ge(this,"profile",Zd(i||{}))}G(Br,fp);function i_(i){if(Br.call(this,i),this.providerId!="facebook.com")throw Error("Invalid provider ID!")}G(i_,Br);function o_(i){if(Br.call(this,i),this.providerId!="github.com")throw Error("Invalid provider ID!");ge(this,"username",this.profile&&this.profile.login||null)}G(o_,Br);function s_(i){if(Br.call(this,i),this.providerId!="google.com")throw Error("Invalid provider ID!")}G(s_,Br);function a_(i){if(Br.call(this,i),this.providerId!="twitter.com")throw Error("Invalid provider ID!");ge(this,"username",i.screenName||null)}G(a_,Br);function u_(i){var a=Fn(i),c=fr(a,"link"),p=fr(Fn(c),"link");return a=fr(a,"deep_link_id"),fr(Fn(a),"link")||a||p||c||i}function yc(i,a){if(!i&&!a)throw new C("internal-error","Internal assert: no raw session string available");if(i&&a)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=i||null,this.b=a||null,this.type=this.a?tu:bc}var tu="enroll",bc="signin";yc.prototype.Ha=function(){return this.a?Te(this.a):Te(this.b)},yc.prototype.w=function(){return this.type==tu?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}};function Ss(){}Ss.prototype.ka=function(){},Ss.prototype.b=function(){},Ss.prototype.c=function(){},Ss.prototype.w=function(){};function Es(i,a){return i.then(function(c){if(c[Tr]){var p=mc(c[Tr]);if(!p||a!=p.i)throw new C("user-mismatch");return c}throw new C("user-mismatch")}).o(function(c){throw c&&c.code&&c.code==Ze+"user-not-found"?new C("user-mismatch"):c})}function mo(i,a){if(a)this.a=a;else throw new C("internal-error","failed to construct a credential");ge(this,"providerId",i),ge(this,"signInMethod",i)}mo.prototype.ka=function(i){return Lp(i,hp(this))},mo.prototype.b=function(i,a){var c=hp(this);return c.idToken=a,Mp(i,c)},mo.prototype.c=function(i,a){return Es(Fp(i,hp(this)),a)};function hp(i){return{pendingToken:i.a,requestUri:"http://localhost"}}mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}};function EO(i){if(i&&i.providerId&&i.signInMethod&&i.providerId.indexOf("saml.")==0&&i.pendingToken)try{return new mo(i.providerId,i.pendingToken)}catch{}return null}function ii(i,a,c){if(this.a=null,a.idToken||a.accessToken)a.idToken&&ge(this,"idToken",a.idToken),a.accessToken&&ge(this,"accessToken",a.accessToken),a.nonce&&!a.pendingToken&&ge(this,"nonce",a.nonce),a.pendingToken&&(this.a=a.pendingToken);else if(a.oauthToken&&a.oauthTokenSecret)ge(this,"accessToken",a.oauthToken),ge(this,"secret",a.oauthTokenSecret);else throw new C("internal-error","failed to construct a credential");ge(this,"providerId",i),ge(this,"signInMethod",c)}ii.prototype.ka=function(i){return Lp(i,dp(this))},ii.prototype.b=function(i,a){var c=dp(this);return c.idToken=a,Mp(i,c)},ii.prototype.c=function(i,a){var c=dp(this);return Es(Fp(i,c),a)};function dp(i){var a={};return i.idToken&&(a.id_token=i.idToken),i.accessToken&&(a.access_token=i.accessToken),i.secret&&(a.oauth_token_secret=i.secret),a.providerId=i.providerId,i.nonce&&!i.a&&(a.nonce=i.nonce),a={postBody:wb(a).toString(),requestUri:"http://localhost"},i.a&&(delete a.postBody,a.pendingToken=i.a),a}ii.prototype.w=function(){var i={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(i.oauthIdToken=this.idToken),this.accessToken&&(i.oauthAccessToken=this.accessToken),this.secret&&(i.oauthTokenSecret=this.secret),this.nonce&&(i.nonce=this.nonce),this.a&&(i.pendingToken=this.a),i};function TO(i){if(i&&i.providerId&&i.signInMethod){var a={idToken:i.oauthIdToken,accessToken:i.oauthTokenSecret?null:i.oauthAccessToken,oauthTokenSecret:i.oauthTokenSecret,oauthToken:i.oauthTokenSecret&&i.oauthAccessToken,nonce:i.nonce,pendingToken:i.pendingToken};try{return new ii(i.providerId,a,i.signInMethod)}catch{}}return null}function vo(i,a){this.Qc=a||[],In(this,{providerId:i,isOAuthProvider:!0}),this.Jb={},this.qb=(lp(i)||{}).Ja||null,this.pb=null}vo.prototype.Ka=function(i){return this.Jb=Pe(i),this};function l_(i){if(typeof i!="string"||i.indexOf("saml.")!=0)throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,i,[])}G(l_,vo);function Zn(i){vo.call(this,i,vc),this.a=[]}G(Zn,vo),Zn.prototype.Ca=function(i){return R(this.a,i)||this.a.push(i),this},Zn.prototype.Rb=function(){return ie(this.a)},Zn.prototype.credential=function(i,a){var c;if(E(i)?c={idToken:i.idToken||null,accessToken:i.accessToken||null,nonce:i.rawNonce||null}:c={idToken:i||null,accessToken:a||null},!c.idToken&&!c.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new ii(this.providerId,c,this.providerId)};function yo(){Zn.call(this,"facebook.com")}G(yo,Zn),ge(yo,"PROVIDER_ID","facebook.com"),ge(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com");function c_(i){if(!i)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return E(i)&&(a=i.accessToken),new yo().credential({accessToken:a})}function bo(){Zn.call(this,"github.com")}G(bo,Zn),ge(bo,"PROVIDER_ID","github.com"),ge(bo,"GITHUB_SIGN_IN_METHOD","github.com");function f_(i){if(!i)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var a=i;return E(i)&&(a=i.accessToken),new bo().credential({accessToken:a})}function _o(){Zn.call(this,"google.com"),this.Ca("profile")}G(_o,Zn),ge(_o,"PROVIDER_ID","google.com"),ge(_o,"GOOGLE_SIGN_IN_METHOD","google.com");function h_(i,a){var c=i;return E(i)&&(c=i.idToken,a=i.accessToken),new _o().credential({idToken:c,accessToken:a})}function Ts(){vo.call(this,"twitter.com",t_)}G(Ts,vo),ge(Ts,"PROVIDER_ID","twitter.com"),ge(Ts,"TWITTER_SIGN_IN_METHOD","twitter.com");function d_(i,a){var c=i;if(E(c)||(c={oauthToken:i,oauthTokenSecret:a}),!c.oauthToken||!c.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ii("twitter.com",c,"twitter.com")}function Ii(i,a,c){this.a=i,this.f=a,ge(this,"providerId","password"),ge(this,"signInMethod",c===hr.EMAIL_LINK_SIGN_IN_METHOD?hr.EMAIL_LINK_SIGN_IN_METHOD:hr.EMAIL_PASSWORD_SIGN_IN_METHOD)}Ii.prototype.ka=function(i){return this.signInMethod==hr.EMAIL_LINK_SIGN_IN_METHOD?Ye(i,uP,{email:this.a,oobCode:this.f}):Ye(i,B_,{email:this.a,password:this.f})},Ii.prototype.b=function(i,a){return this.signInMethod==hr.EMAIL_LINK_SIGN_IN_METHOD?Ye(i,lP,{idToken:a,email:this.a,oobCode:this.f}):Ye(i,U_,{idToken:a,email:this.a,password:this.f})},Ii.prototype.c=function(i,a){return Es(this.ka(i),a)},Ii.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}};function IO(i){return i&&i.email&&i.password?new Ii(i.email,i.password,i.signInMethod):null}function hr(){In(this,{providerId:"password",isOAuthProvider:!1})}function p_(i,a){if(a=pp(a),!a)throw new C("argument-error","Invalid email link!");return new Ii(i,a.code,hr.EMAIL_LINK_SIGN_IN_METHOD)}function pp(i){return i=u_(i),(i=Gb(i))&&i.operation===hc?i:null}In(hr,{PROVIDER_ID:"password"}),In(hr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),In(hr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"});function Ai(i){if(!(i.fb&&i.eb||i.La&&i.ea))throw new C("internal-error");this.a=i,ge(this,"providerId","phone"),this.fa="phone",ge(this,"signInMethod","phone")}Ai.prototype.ka=function(i){return i.gb(nu(this))},Ai.prototype.b=function(i,a){var c=nu(this);return c.idToken=a,Ye(i,CP,c)},Ai.prototype.c=function(i,a){var c=nu(this);return c.operation="REAUTH",i=Ye(i,OP,c),Es(i,a)},Ai.prototype.w=function(){var i={providerId:"phone"};return this.a.fb&&(i.verificationId=this.a.fb),this.a.eb&&(i.verificationCode=this.a.eb),this.a.La&&(i.temporaryProof=this.a.La),this.a.ea&&(i.phoneNumber=this.a.ea),i};function AO(i){if(i&&i.providerId==="phone"&&(i.verificationId&&i.verificationCode||i.temporaryProof&&i.phoneNumber)){var a={};return q(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(c){i[c]&&(a[c]=i[c])}),new Ai(a)}return null}function nu(i){return i.a.La&&i.a.ea?{temporaryProof:i.a.La,phoneNumber:i.a.ea}:{sessionInfo:i.a.fb,code:i.a.eb}}function oi(i){try{this.a=i||xe.auth()}catch{throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}In(this,{providerId:"phone",isOAuthProvider:!1})}oi.prototype.gb=function(i,a){var c=this.a.a;return Te(a.verify()).then(function(p){if(typeof p!="string")throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(a.type){case"recaptcha":var v=E(i)?i.session:null,_=E(i)?i.phoneNumber:i,S;return v&&v.type==tu?S=v.Ha().then(function(I){return ZO(c,{idToken:I,phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:p}})}):v&&v.type==bc?S=v.Ha().then(function(I){return eP(c,{mfaPendingCredential:I,mfaEnrollmentId:i.multiFactorHint&&i.multiFactorHint.uid||i.multiFactorUid,phoneSignInInfo:{recaptchaToken:p}})}):S=JO(c,{phoneNumber:_,recaptchaToken:p}),S.then(function(I){return typeof a.reset=="function"&&a.reset(),I},function(I){throw typeof a.reset=="function"&&a.reset(),I});default:throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})};function g_(i,a){if(!i)throw new C("missing-verification-id");if(!a)throw new C("missing-verification-code");return new Ai({fb:i,eb:a})}In(oi,{PROVIDER_ID:"phone"}),In(oi,{PHONE_SIGN_IN_METHOD:"phone"});function gp(i){if(i.temporaryProof&&i.phoneNumber)return new Ai({La:i.temporaryProof,ea:i.phoneNumber});var a=i&&i.providerId;if(!a||a==="password")return null;var c=i&&i.oauthAccessToken,p=i&&i.oauthTokenSecret,v=i&&i.nonce,_=i&&i.oauthIdToken,S=i&&i.pendingToken;try{switch(a){case"google.com":return h_(_,c);case"facebook.com":return c_(c);case"github.com":return f_(c);case"twitter.com":return d_(c,p);default:return c||p||_||S?S?a.indexOf("saml.")==0?new mo(a,S):new ii(a,{pendingToken:S,idToken:i.oauthIdToken,accessToken:i.oauthAccessToken},a):new Zn(a).credential({idToken:_,accessToken:c,rawNonce:v}):null}}catch{return null}}function mp(i){if(!i.isOAuthProvider)throw new C("invalid-oauth-provider")}function Sr(i,a,c,p,v,_,S){if(this.c=i,this.b=a||null,this.g=c||null,this.f=p||null,this.i=_||null,this.h=S||null,this.a=v||null,this.g||this.a){if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}else throw new C("invalid-auth-event")}Sr.prototype.getUid=function(){var i=[];return i.push(this.c),this.b&&i.push(this.b),this.f&&i.push(this.f),this.h&&i.push(this.h),i.join("-")},Sr.prototype.T=function(){return this.h},Sr.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};function m_(i){return i=i||{},i.type?new Sr(i.type,i.eventId,i.urlResponse,i.sessionId,i.error&&He(i.error),i.postBody,i.tenantId):null}function xO(){this.b=null,this.a=[]}var vp=null;function kO(i){var a=vp;a.a.push(i),a.b||(a.b=function(c){for(var p=0;p<a.a.length;p++)a.a[p](c)},i=Et("universalLinks.subscribe",f),typeof i=="function"&&i(null,a.b))}function yp(i){var a="unauthorized-domain",c=void 0,p=Fn(i);i=p.a,p=p.c,p=="chrome-extension"?c=U0("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):p=="http"||p=="https"?c=U0("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",i):a="operation-not-supported-in-this-environment",C.call(this,a,c)}G(yp,C);function ru(i,a,c){C.call(this,i,c),i=a||{},i.Kb&&ge(this,"email",i.Kb),i.ea&&ge(this,"phoneNumber",i.ea),i.credential&&ge(this,"credential",i.credential),i.$b&&ge(this,"tenantId",i.$b)}G(ru,C),ru.prototype.w=function(){var i={code:this.code,message:this.message};this.email&&(i.email=this.email),this.phoneNumber&&(i.phoneNumber=this.phoneNumber),this.tenantId&&(i.tenantId=this.tenantId);var a=this.credential&&this.credential.w();return a&&De(i,a),i},ru.prototype.toJSON=function(){return this.w()};function _c(i){if(i.code){var a=i.code||"";a.indexOf(Ze)==0&&(a=a.substring(Ze.length));var c={credential:gp(i),$b:i.tenantId};if(i.email)c.Kb=i.email;else if(i.phoneNumber)c.ea=i.phoneNumber;else if(!c.credential)return new C(a,i.message||void 0);return new ru(a,c,i.message)}return null}function iu(){}iu.prototype.c=null;function v_(i){return i.c||(i.c=i.b())}var bp;function wc(){}G(wc,iu),wc.prototype.a=function(){var i=y_(this);return i?new ActiveXObject(i):new XMLHttpRequest},wc.prototype.b=function(){var i={};return y_(this)&&(i[0]=!0,i[1]=!0),i};function y_(i){if(!i.f&&typeof XMLHttpRequest>"u"&&typeof ActiveXObject<"u"){for(var a=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<a.length;c++){var p=a[c];try{return new ActiveXObject(p),i.f=p}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return i.f}bp=new wc;function Sc(){}G(Sc,iu),Sc.prototype.a=function(){var i=new XMLHttpRequest;if("withCredentials"in i)return i;if(typeof XDomainRequest<"u")return new b_;throw Error("Unsupported browser")},Sc.prototype.b=function(){return{}};function b_(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=V(this.qc,this),this.a.onerror=V(this.Tb,this),this.a.onprogress=V(this.rc,this),this.a.ontimeout=V(this.vc,this)}e=b_.prototype,e.open=function(i,a,c){if(c!=null&&!c)throw Error("Only async requests are supported.");this.a.open(i,a)},e.send=function(i){if(i)if(typeof i=="string")this.a.send(i);else throw Error("Only string data is supported");else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(i){return i.toLowerCase()=="content-type"?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,_p(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",_p(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,_p(this,1)};function _p(i,a){i.readyState=a,i.onreadystatechange&&i.onreadystatechange()}e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType};function wp(i,a,c){this.reset(i,a,c,void 0,void 0)}wp.prototype.a=null,wp.prototype.reset=function(i,a,c,p,v){delete this.a};function Sp(i){this.f=i,this.b=this.c=this.a=null}function ou(i,a){this.name=i,this.value=a}ou.prototype.toString=function(){return this.name};var __=new ou("SEVERE",1e3),Ep=new ou("WARNING",900),CO=new ou("CONFIG",700),OO=new ou("FINE",500);function w_(i){return i.c?i.c:i.a?w_(i.a):(Pt("Root logger has no level set."),null)}Sp.prototype.log=function(i,a,c){if(i.value>=w_(this).value)for(w(a)&&(a=a()),i=new wp(i,String(a),this.f),c&&(i.a=c),c=this;c;)c=c.a};var Tp={},Ec=null;function Ip(i){Ec||(Ec=new Sp(""),Tp[""]=Ec,Ec.c=CO);var a;if(!(a=Tp[i])){a=new Sp(i);var c=i.lastIndexOf("."),p=i.substr(c+1);c=Ip(i.substr(0,c)),c.b||(c.b={}),c.b[p]=a,a.a=c,Tp[i]=a}return a}function dr(i,a){i&&i.log(OO,a,void 0)}function Tc(i){this.f=i}G(Tc,iu),Tc.prototype.a=function(){return new Ic(this.f)},Tc.prototype.b=function(i){return function(){return i}}({});function Ic(i){Tn.call(this),this.u=i,this.h=void 0,this.readyState=Ap,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ip("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}G(Ic,Tn);var Ap=0;e=Ic.prototype,e.open=function(i,a){if(this.readyState!=Ap)throw this.abort(),Error("Error reopening a connection");this.s=i,this.f=a,this.readyState=1,au(this)},e.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.a=!0;var a={headers:this.l,method:this.s,credentials:this.h,cache:void 0};i&&(a.body=i),this.u.fetch(new Request(this.f,a)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&this.readyState!=4&&(this.a=!1,su(this)),this.readyState=Ap},e.uc=function(i){this.a&&(this.g=i,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=i.headers,this.readyState=2,au(this)),this.a&&(this.readyState=3,au(this),this.a&&(this.responseType==="arraybuffer"?i.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):typeof f.ReadableStream<"u"&&"body"in i?(this.response=this.responseText="",this.c=i.body.getReader(),this.m=new TextDecoder,S_(this)):i.text().then(this.tc.bind(this),this.Va.bind(this)))))};function S_(i){i.c.read().then(i.pc.bind(i)).catch(i.Va.bind(i))}e.pc=function(i){if(this.a){var a=this.m.decode(i.value?i.value:new Uint8Array(0),{stream:!i.done});a&&(this.response=this.responseText+=a),i.done?su(this):au(this),this.readyState==3&&S_(this)}},e.tc=function(i){this.a&&(this.response=this.responseText=i,su(this))},e.sc=function(i){this.a&&(this.response=i,su(this))},e.Va=function(i){var a=this.i;a&&a.log(Ep,"Failed to fetch url "+this.f,i instanceof Error?i:Error(i)),this.a&&su(this)};function su(i){i.readyState=4,i.g=null,i.c=null,i.m=null,au(i)}e.setRequestHeader=function(i,a){this.l.append(i,a)},e.getResponseHeader=function(i){return this.b?this.b.get(i.toLowerCase())||"":((i=this.i)&&i.log(Ep,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var i=this.i;return i&&i.log(Ep,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}i=[];for(var a=this.b.entries(),c=a.next();!c.done;)c=c.value,i.push(c[0]+": "+c[1]),c=a.next();return i.join(`\r
`)};function au(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.h==="include"},set:function(i){this.h=i?"include":"same-origin"}});function uu(i){Tn.call(this),this.headers=new ms,this.D=i||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=E_,this.u=this.S=!1}G(uu,Tn);var E_="";uu.prototype.b=Ip("goog.net.XhrIo");var PO=/^https?$/i,NO=["POST","PUT"];function RO(i,a,c,p,v){if(i.a)throw Error("[goog.net.XhrIo] Object is active with another request="+i.l+"; newUri="+a);c=c?c.toUpperCase():"GET",i.l=a,i.h="",i.P=c,i.J=!1,i.c=!0,i.a=i.D?i.D.a():bp.a(),i.C=i.D?v_(i.D):v_(bp),i.a.onreadystatechange=V(i.Wb,i);try{dr(i.b,si(i,"Opening Xhr")),i.N=!0,i.a.open(c,String(a),!0),i.N=!1}catch(S){dr(i.b,si(i,"Error opening Xhr: "+S.message)),T_(i,S);return}a=p||"";var _=new ms(i.headers);v&&jC(v,function(S,I){_.set(I,S)}),v=x(_.Y()),p=f.FormData&&a instanceof f.FormData,!R(NO,c)||v||p||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),_.forEach(function(S,I){this.a.setRequestHeader(I,S)},i),i.m&&(i.a.responseType=i.m),"withCredentials"in i.a&&i.a.withCredentials!==i.S&&(i.a.withCredentials=i.S);try{x_(i),0<i.g&&(i.u=DO(i.a),dr(i.b,si(i,"Will abort after "+i.g+"ms if incomplete, xhr2 "+i.u)),i.u?(i.a.timeout=i.g,i.a.ontimeout=V(i.Ma,i)):i.s=jd(i.Ma,i.g,i)),dr(i.b,si(i,"Sending request")),i.i=!0,i.a.send(a),i.i=!1}catch(S){dr(i.b,si(i,"Send error: "+S.message)),T_(i,S)}}function DO(i){return _r&&H0(9)&&typeof i.timeout=="number"&&i.ontimeout!==void 0}function LO(i){return i.toLowerCase()=="content-type"}e=uu.prototype,e.Ma=function(){typeof l<"u"&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",dr(this.b,si(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))};function T_(i,a){i.c=!1,i.a&&(i.f=!0,i.a.abort(),i.f=!1),i.h=a,I_(i),Ac(i)}function I_(i){i.J||(i.J=!0,i.dispatchEvent("complete"),i.dispatchEvent("error"))}e.abort=function(){this.a&&this.c&&(dr(this.b,si(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ac(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ac(this,!0)),uu.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?A_(this):this.Jc())},e.Jc=function(){A_(this)};function A_(i){if(i.c&&typeof l<"u"){if(i.C[1]&&lu(i)==4&&xc(i)==2)dr(i.b,si(i,"Local request error detected and ignored"));else if(i.i&&lu(i)==4)jd(i.Wb,0,i);else if(i.dispatchEvent("readystatechange"),lu(i)==4){dr(i.b,si(i,"Request complete")),i.c=!1;try{var a=xc(i);e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var p;if(!(p=c)){var v;if(v=a===0){var _=String(i.l).match(bb)[1]||null;if(!_&&f.self&&f.self.location){var S=f.self.location.protocol;_=S.substr(0,S.length-1)}v=!PO.test(_?_.toLowerCase():"")}p=v}if(p)i.dispatchEvent("complete"),i.dispatchEvent("success");else{try{var I=2<lu(i)?i.a.statusText:""}catch(j){dr(i.b,"Can not get status: "+j.message),I=""}i.h=I+" ["+xc(i)+"]",I_(i)}}finally{Ac(i)}}}}function Ac(i,a){if(i.a){x_(i);var c=i.a,p=i.C[0]?g:null;i.a=null,i.C=null,a||i.dispatchEvent("ready");try{c.onreadystatechange=p}catch(v){(i=i.b)&&i.log(__,"Problem encountered resetting onreadystatechange: "+v.message,void 0)}}}function x_(i){i.a&&i.u&&(i.a.ontimeout=null),i.s&&(f.clearTimeout(i.s),i.s=null)}function lu(i){return i.a?i.a.readyState:0}function xc(i){try{return 2<lu(i)?i.a.status:-1}catch{return-1}}function MO(i){try{return i.a?i.a.responseText:""}catch(a){return dr(i.b,"Can not get responseText: "+a.message),""}}e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case E_:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var i=this.b;return i&&i.log(__,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(a){return dr(this.b,"Can not get response: "+a.message),null}};function si(i,a){return a+" ["+i.P+" "+i.l+" "+xc(i)+"]"}function wo(i){var a=jO;this.g=[],this.u=a,this.s=i||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}wo.prototype.cancel=function(i){if(this.a)this.c instanceof wo&&this.c.cancel();else{if(this.b){var a=this.b;delete this.b,i?a.cancel(i):(a.l--,0>=a.l&&a.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(i=new fu,kc(this),cu(this,!1,i))}},wo.prototype.m=function(i,a){this.i=!1,cu(this,i,a)};function cu(i,a,c){i.a=!0,i.c=c,i.f=!a,C_(i)}function kc(i){if(i.a){if(!i.v)throw new Cc;i.v=!1}}function FO(i,a){xp(i,null,a,void 0)}function xp(i,a,c,p){i.g.push([a,c,p]),i.a&&C_(i)}wo.prototype.then=function(i,a,c){var p,v,_=new We(function(S,I){p=S,v=I});return xp(this,p,function(S){S instanceof fu?_.cancel():v(S)}),_.then(i,a,c)},wo.prototype.$goog_Thenable=!0;function k_(i){return A(i.g,function(a){return w(a[1])})}function C_(i){if(i.h&&i.a&&k_(i)){var a=i.h,c=Oc[a];c&&(f.clearTimeout(c.a),delete Oc[a]),i.h=0}i.b&&(i.b.l--,delete i.b),a=i.c;for(var p=c=!1;i.g.length&&!i.i;){var v=i.g.shift(),_=v[0],S=v[1];if(v=v[2],_=i.f?S:_)try{var I=_.call(v||i.s,a);I!==void 0&&(i.f=i.f&&(I==a||I instanceof Error),i.c=a=I),(Me(a)||typeof f.Promise=="function"&&a instanceof f.Promise)&&(p=!0,i.i=!0)}catch(j){a=j,i.f=!0,k_(i)||(c=!0)}}i.c=a,p&&(I=V(i.m,i,!0),p=V(i.m,i,!1),a instanceof wo?(xp(a,I,p),a.C=!0):a.then(I,p)),c&&(a=new O_(a),Oc[a.a]=a,i.h=a.a)}function Cc(){me.call(this)}G(Cc,me),Cc.prototype.message="Deferred has already fired",Cc.prototype.name="AlreadyCalledError";function fu(){me.call(this)}G(fu,me),fu.prototype.message="Deferred was canceled",fu.prototype.name="CanceledError";function O_(i){this.a=f.setTimeout(V(this.c,this),0),this.b=i}O_.prototype.c=function(){throw delete Oc[this.a],this.b};var Oc={};function kp(i){var a={},c=a.document||document,p=N0(i).toString(),v=tc(document,"SCRIPT"),_={Xb:v,Ma:void 0},S=new wo(_),I=null,j=a.timeout!=null?a.timeout:5e3;return 0<j&&(I=window.setTimeout(function(){Pc(v,!0);var W=new Cp(BO,"Timeout reached for loading script "+p);kc(S),cu(S,!1,W)},j),_.Ma=I),v.onload=v.onreadystatechange=function(){v.readyState&&v.readyState!="loaded"&&v.readyState!="complete"||(Pc(v,a.xd||!1,I),kc(S),cu(S,!0,null))},v.onerror=function(){Pc(v,!0,I);var W=new Cp(UO,"Error while loading script "+p);kc(S),cu(S,!1,W)},_=a.attributes||{},De(_,{type:"text/javascript",charset:"UTF-8"}),G0(v,_),mC(v,i),VO(c).appendChild(v),S}function VO(i){var a;return(a=(i||document).getElementsByTagName("HEAD"))&&a.length!=0?a[0]:i.documentElement}function jO(){if(this&&this.Xb){var i=this.Xb;i&&i.tagName=="SCRIPT"&&Pc(i,!0,this.Ma)}}function Pc(i,a,c){c!=null&&f.clearTimeout(c),i.onload=g,i.onerror=g,i.onreadystatechange=g,a&&window.setTimeout(function(){i&&i.parentNode&&i.parentNode.removeChild(i)},0)}var UO=0,BO=1;function Cp(i,a){var c="Jsloader error (code #"+i+")";a&&(c+=": "+a),me.call(this,c),this.code=i}G(Cp,me);function Nc(i){this.f=i}G(Nc,iu),Nc.prototype.a=function(){return new this.f},Nc.prototype.b=function(){return{}};function Er(i,a,c){if(this.c=i,i=a||{},this.l=i.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=i.secureTokenTimeout||$O,this.g=Pe(i.secureTokenHeaders||qO),this.h=i.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=i.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=i.firebaseTimeout||HO,this.a=Pe(i.firebaseHeaders||KO),c&&(this.a["X-Client-Version"]=c,this.g["X-Client-Version"]=c),c=jr()=="Node",c=f.XMLHttpRequest||c&&xe.INTERNAL.node&&xe.INTERNAL.node.XMLHttpRequest,!c&&!wr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,wr()?this.f=new Tc(self):Pb()?this.f=new Nc(c):this.f=new Sc,this.b=null}var Op,Tr="idToken",$O=new Ti(3e4,6e4),qO={"Content-Type":"application/x-www-form-urlencoded"},HO=new Ti(3e4,6e4),KO={"Content-Type":"application/json"};function P_(i,a){a?i.a["X-Firebase-Locale"]=a:delete i.a["X-Firebase-Locale"]}function Rc(i,a){a&&(i.l=Pp("https://securetoken.googleapis.com/v1/token",a),i.h=Pp("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",a),i.i=Pp("https://identitytoolkit.googleapis.com/v2/",a))}function Pp(i,a){return i=Fn(i),a=Fn(a.url),i.f=i.a+i.f,Ha(i,a.c),i.a=a.a,Ka(i,a.g),i.toString()}function N_(i,a){a?(i.a["X-Client-Version"]=a,i.g["X-Client-Version"]=a):(delete i.a["X-Client-Version"],delete i.g["X-Client-Version"])}Er.prototype.T=function(){return this.b};function R_(i,a,c,p,v,_,S){XC()||wr()?i=V(i.u,i):(Op||(Op=new We(function(I,j){WO(I,j)})),i=V(i.s,i)),i(a,c,p,v,_,S)}Er.prototype.u=function(i,a,c,p,v,_){if(wr()&&(typeof f.fetch>"u"||typeof f.Headers>"u"||typeof f.Request>"u"))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var S=new uu(this.f);if(_){S.g=Math.max(0,_);var I=setTimeout(function(){S.dispatchEvent("timeout")},_)}mb(S,"complete",function(){I&&clearTimeout(I);var j=null;try{j=JSON.parse(MO(this))||null}catch{j=null}a&&a(j)}),Vd(S,"ready",function(){I&&clearTimeout(I),lb(this)}),Vd(S,"timeout",function(){I&&clearTimeout(I),lb(this),a&&a(null)}),RO(S,i,c,p,v)};var GO=new hn(Ql,"https://apis.google.com/js/client.js?onload=%{onload}"),D_="__fcb"+Math.floor(1e6*Math.random()).toString();function WO(i,a){if(((window.gapi||{}).client||{}).request)i();else{f[D_]=function(){((window.gapi||{}).client||{}).request?i():a(Error("CORS_UNSUPPORTED"))};var c=_d(GO,{onload:D_});FO(kp(c),function(){a(Error("CORS_UNSUPPORTED"))})}}Er.prototype.s=function(i,a,c,p,v){var _=this;Op.then(function(){window.gapi.client.setApiKey(_.c);var S=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:i,method:c,body:p,headers:v,authType:"none",callback:function(I){window.gapi.auth.setToken(S),a&&a(I)}})}).o(function(S){a&&a({error:{message:S&&S.message||"CORS_UNSUPPORTED"}})})};function zO(i,a){return new We(function(c,p){a.grant_type=="refresh_token"&&a.refresh_token||a.grant_type=="authorization_code"&&a.code?R_(i,i.l+"?key="+encodeURIComponent(i.c),function(v){v?v.error?p(jp(v)):v.access_token&&v.refresh_token?c(v):p(new C("internal-error")):p(new C("network-request-failed"))},"POST",wb(a).toString(),i.g,i.m.get()):p(new C("internal-error"))})}function L_(i,a,c,p,v,_,S){var I=Fn(a+c);Dt(I,"key",i.c),S&&Dt(I,"cb",Date.now().toString());var j=p=="GET";if(j)for(var W in v)v.hasOwnProperty(W)&&Dt(I,W,v[W]);return new We(function(Ne,ut){R_(i,I.toString(),function(it){it?it.error?ut(jp(it,_||{})):Ne(it):ut(new C("network-request-failed"))},p,j?void 0:Tb(Db(v)),i.a,i.v.get())})}function So(i){if(i=i.email,typeof i!="string"||!JC.test(i))throw new C("invalid-email")}function M_(i){"email"in i&&So(i)}function XO(i,a){return Ye(i,oP,{identifier:a,continueUri:fc()?za():"http://localhost"}).then(function(c){return c.signinMethods||[]})}function YO(i){return Ye(i,vP,{}).then(function(a){return a.authorizedDomains||[]})}function Vn(i){if(!i[Tr])throw i.mfaPendingCredential?new C("multi-factor-auth-required",null,Pe(i)):new C("internal-error")}function Np(i){if(i.phoneNumber||i.temporaryProof){if(!i.phoneNumber||!i.temporaryProof)throw new C("internal-error")}else{if(!i.sessionInfo)throw new C("missing-verification-id");if(!i.code)throw new C("missing-verification-code")}}Er.prototype.Ab=function(){return Ye(this,wP,{})},Er.prototype.Cb=function(i,a){return Ye(this,j_,{idToken:i,email:a})},Er.prototype.Db=function(i,a){return Ye(this,U_,{idToken:i,password:a})};var QO={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};e=Er.prototype,e.Eb=function(i,a){var c={idToken:i},p=[];return Ce(QO,function(v,_){var S=a[_];S===null?p.push(v):_ in a&&(c[_]=S)}),p.length&&(c.deleteAttribute=p),Ye(this,j_,c)},e.wb=function(i,a){return i={requestType:"PASSWORD_RESET",email:i},De(i,a),Ye(this,mP,i)},e.xb=function(i,a){return i={requestType:"EMAIL_SIGNIN",email:i},De(i,a),Ye(this,dP,i)},e.vb=function(i,a){return i={requestType:"VERIFY_EMAIL",idToken:i},De(i,a),Ye(this,pP,i)},e.Fb=function(i,a,c){return i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:a},De(i,c),Ye(this,gP,i)};function JO(i,a){return Ye(i,_P,a)}e.gb=function(i){return Ye(this,kP,i)};function ZO(i,a){return Ye(i,SP,a).then(function(c){return c.phoneSessionInfo.sessionInfo})}function F_(i){if(!i.phoneVerificationInfo)throw new C("internal-error");if(!i.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!i.phoneVerificationInfo.code)throw new C("missing-verification-code")}function eP(i,a){return Ye(i,EP,a).then(function(c){return c.phoneResponseInfo.sessionInfo})}function tP(i,a,c){return Ye(i,aP,{idToken:a,deleteProvider:c})}function Rp(i){if(!i.requestUri||!i.sessionId&&!i.postBody&&!i.pendingToken)throw new C("internal-error")}function Dp(i,a){return a.oauthIdToken&&a.providerId&&a.providerId.indexOf("oidc.")==0&&!a.pendingToken&&(i.sessionId?a.nonce=i.sessionId:i.postBody&&(i=new fo(i.postBody),$d(i,"nonce")&&(a.nonce=i.get("nonce")))),a}function V_(i){var a=null;if(i.needConfirmation?(i.code="account-exists-with-different-credential",a=_c(i)):i.errorMessage=="FEDERATED_USER_ID_ALREADY_LINKED"?(i.code="credential-already-in-use",a=_c(i)):i.errorMessage=="EMAIL_EXISTS"?(i.code="email-already-in-use",a=_c(i)):i.errorMessage&&(a=$_(i.errorMessage)),a)throw a;Vn(i)}function Lp(i,a){return a.returnIdpCredential=!0,Ye(i,TP,a)}function Mp(i,a){return a.returnIdpCredential=!0,Ye(i,AP,a)}function Fp(i,a){return a.returnIdpCredential=!0,a.autoCreate=!1,Ye(i,IP,a)}function Vp(i){if(!i.oobCode)throw new C("invalid-action-code")}e.ob=function(i,a){return Ye(this,bP,{oobCode:i,newPassword:a})},e.Sa=function(i){return Ye(this,rP,{oobCode:i})},e.kb=function(i){return Ye(this,nP,{oobCode:i})};var nP={endpoint:"setAccountInfo",A:Vp,Z:"email",B:!0},rP={endpoint:"resetPassword",A:Vp,G:function(i){var a=i.requestType;if(!a||!i.email&&a!="EMAIL_SIGNIN"&&a!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},B:!0},iP={endpoint:"signupNewUser",A:function(i){if(So(i),!i.password)throw new C("weak-password")},G:Vn,V:!0,B:!0},oP={endpoint:"createAuthUri",B:!0},sP={endpoint:"deleteAccount",O:["idToken"]},aP={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(i){if(!Array.isArray(i.deleteProvider))throw new C("internal-error")}},uP={endpoint:"emailLinkSignin",O:["email","oobCode"],A:So,G:Vn,V:!0,B:!0},lP={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:So,G:Vn,V:!0},cP={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:F_,G:Vn,B:!0,Na:!0},fP={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:F_,G:Vn,B:!0,Na:!0},hP={endpoint:"getAccountInfo"},dP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="EMAIL_SIGNIN")throw new C("internal-error");So(i)},Z:"email",B:!0},pP={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(i){if(i.requestType!="VERIFY_EMAIL")throw new C("internal-error")},Z:"email",B:!0},gP={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(i){if(i.requestType!="VERIFY_AND_CHANGE_EMAIL")throw new C("internal-error")},Z:"email",B:!0},mP={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(i){if(i.requestType!="PASSWORD_RESET")throw new C("internal-error");So(i)},Z:"email",B:!0},vP={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},yP={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(i){if(!i.recaptchaSiteKey)throw new C("internal-error")}},bP={endpoint:"resetPassword",A:Vp,Z:"email",B:!0},_P={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},j_={endpoint:"setAccountInfo",O:["idToken"],A:M_,V:!0},U_={endpoint:"setAccountInfo",O:["idToken"],A:function(i){if(M_(i),!i.password)throw new C("weak-password")},G:Vn,V:!0},wP={endpoint:"signupNewUser",G:Vn,V:!0,B:!0},SP={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(i){if(!i.phoneEnrollmentInfo)throw new C("internal-error");if(!i.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!i.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(i){if(!i.phoneSessionInfo||!i.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},EP={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(i){if(!i.phoneSignInInfo||!i.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(i){if(!i.phoneResponseInfo||!i.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},TP={endpoint:"verifyAssertion",A:Rp,Za:Dp,G:V_,V:!0,B:!0},IP={endpoint:"verifyAssertion",A:Rp,Za:Dp,G:function(i){if(i.errorMessage&&i.errorMessage=="USER_NOT_FOUND")throw new C("user-not-found");if(i.errorMessage)throw $_(i.errorMessage);Vn(i)},V:!0,B:!0},AP={endpoint:"verifyAssertion",A:function(i){if(Rp(i),!i.idToken)throw new C("internal-error")},Za:Dp,G:V_,V:!0},xP={endpoint:"verifyCustomToken",A:function(i){if(!i.token)throw new C("invalid-custom-token")},G:Vn,V:!0,B:!0},B_={endpoint:"verifyPassword",A:function(i){if(So(i),!i.password)throw new C("wrong-password")},G:Vn,V:!0,B:!0},kP={endpoint:"verifyPhoneNumber",A:Np,G:Vn,B:!0},CP={endpoint:"verifyPhoneNumber",A:function(i){if(!i.idToken)throw new C("internal-error");Np(i)},G:function(i){if(i.temporaryProof)throw i.code="credential-already-in-use",_c(i);Vn(i)}},OP={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:Np,G:Vn,B:!0},PP={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(i){if(!!i[Tr]^!!i.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function Ye(i,a,c){if(!oO(c,a.O))return St(new C("internal-error"));var p=!!a.Na,v=a.Vb||"POST",_;return Te(c).then(a.A).then(function(){return a.V&&(c.returnSecureToken=!0),a.B&&i.b&&typeof c.tenantId>"u"&&(c.tenantId=i.b),p?L_(i,i.i,a.endpoint,v,c,a.Ib,a.mb||!1):L_(i,i.h,a.endpoint,v,c,a.Ib,a.mb||!1)}).then(function(S){return _=S,a.Za?a.Za(c,_):_}).then(a.G).then(function(){if(!a.Z)return _;if(!(a.Z in _))throw new C("internal-error");return _[a.Z]})}function $_(i){return jp({error:{errors:[{message:i}],code:400,message:i}})}function jp(i,a){var c=(i.error&&i.error.errors&&i.error.errors[0]||{}).reason||"",p={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(c=p[c]?new C(p[c]):null)return c;c=i.error&&i.error.message||"",p={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},De(p,a||{}),a=(a=c.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<a.length?a[1]:void 0;for(var v in p)if(c.indexOf(v)===0)return new C(p[v],a);return!a&&i&&(a=Ya(i)),new C("internal-error",a)}function NP(i){this.b=i,this.a=null,this.sb=RP(this)}function RP(i){return jP().then(function(){return new We(function(a,c){Et("gapi.iframes.getContext")().open({where:document.body,url:i.b,messageHandlersFilter:Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(p){function v(){clearTimeout(_),a()}i.a=p,i.a.restyle({setHideOnLeave:!1});var _=setTimeout(function(){c(Error("Network Error"))},VP.get());p.ping(v).then(v,function(){c(Error("Network Error"))})})})})}function DP(i,a){return i.sb.then(function(){return new We(function(c){i.a.send(a.type,a,c,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function LP(i,a){i.sb.then(function(){i.a.register("authEvent",a,Et("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var MP=new hn(Ql,"https://apis.google.com/js/api.js?onload=%{onload}"),FP=new Ti(3e4,6e4),VP=new Ti(5e3,15e3),Dc=null;function jP(){return Dc||(Dc=new We(function(i,a){function c(){Mb(),Et("gapi.load")("gapi.iframes",{callback:i,ontimeout:function(){Mb(),a(Error("Network Error"))},timeout:FP.get()})}if(Et("gapi.iframes.Iframe"))i();else if(Et("gapi.load"))c();else{var p="__iframefcb"+Math.floor(1e6*Math.random()).toString();f[p]=function(){Et("gapi.load")?c():a(Error("Network Error"))},p=_d(MP,{onload:p}),Te(kp(p)).o(function(){a(Error("Network Error"))})}}).o(function(i){throw Dc=null,i}))}function q_(i,a,c,p){this.l=i,this.h=a,this.i=c,this.g=p,this.f=null,this.g?(i=Fn(this.g.url),i=lc(i.c,i.a,i.g,"/emulator/auth/iframe")):i=lc("https",this.l,null,"/__/auth/iframe"),this.a=i,Dt(this.a,"apiKey",this.h),Dt(this.a,"appName",this.i),this.b=null,this.c=[]}q_.prototype.toString=function(){return this.f?Dt(this.a,"v",this.f):Vr(this.a.b,"v"),this.b?Dt(this.a,"eid",this.b):Vr(this.a.b,"eid"),this.c.length?Dt(this.a,"fw",this.c.join(",")):Vr(this.a.b,"fw"),this.a.toString()};function Up(i,a,c,p,v,_){this.u=i,this.s=a,this.c=c,this.m=p,this.v=_,this.i=this.g=this.l=null,this.a=v,this.h=this.f=null}Up.prototype.zb=function(i){return this.h=i,this},Up.prototype.toString=function(){if(this.v){var i=Fn(this.v.url);i=lc(i.c,i.a,i.g,"/emulator/auth/handler")}else i=lc("https",this.u,null,"/__/auth/handler");if(Dt(i,"apiKey",this.s),Dt(i,"appName",this.c),Dt(i,"authType",this.m),this.a.isOAuthProvider){var a=this.a;try{var c=xe.app(this.c).auth().la()}catch{c=null}a.pb=c,Dt(i,"providerId",this.a.providerId),c=this.a,a=Db(c.Jb);for(var p in a)a[p]=a[p].toString();p=c.Qc,a=Pe(a);for(var v=0;v<p.length;v++){var _=p[v];_ in a&&delete a[_]}c.qb&&c.pb&&!a[c.qb]&&(a[c.qb]=c.pb),Ue(a)||Dt(i,"customParameters",Ya(a))}if(typeof this.a.Rb=="function"&&(c=this.a.Rb(),c.length&&Dt(i,"scopes",c.join(","))),this.l?Dt(i,"redirectUrl",this.l):Vr(i.b,"redirectUrl"),this.g?Dt(i,"eventId",this.g):Vr(i.b,"eventId"),this.i?Dt(i,"v",this.i):Vr(i.b,"v"),this.b)for(var S in this.b)this.b.hasOwnProperty(S)&&!fr(i,S)&&Dt(i,S,this.b[S]);return this.h?Dt(i,"tid",this.h):Vr(i.b,"tid"),this.f?Dt(i,"eid",this.f):Vr(i.b,"eid"),S=Bp(this.c),S.length&&Dt(i,"fw",S.join(",")),i.toString()};function Bp(i){try{return xe.app(i).auth().Ga()}catch{return[]}}function H_(i,a,c,p,v,_){this.s=i,this.g=a,this.b=c,this.f=_,this.c=p||null,this.i=v||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function K_(i){var a=za();return YO(i).then(function(c){e:{var p=Fn(a),v=p.c;p=p.a;for(var _=0;_<c.length;_++){var S=c[_],I=p,j=v;if(S.indexOf("chrome-extension://")==0?I=Fn(S).a==I&&j=="chrome-extension":j!="http"&&j!="https"?I=!1:QC.test(S)?I=I==S:(S=S.split(".").join("\\."),I=new RegExp("^(.+\\."+S+"|"+S+")$","i").test(I)),I){c=!0;break e}}c=!1}if(!c)throw new yp(za())})}function G_(i){return i.m||(i.m=cc().then(function(){if(!i.u){var a=i.c,c=i.i,p=Bp(i.b),v=new q_(i.s,i.g,i.b,i.f);v.f=a,v.b=c,v.c=ie(p||[]),i.u=v.toString()}i.v=new NP(i.u),UP(i)})),i.m}e=H_.prototype,e.Pb=function(i,a,c){var p=new C("popup-closed-by-user"),v=new C("web-storage-unsupported"),_=this,S=!1;return this.ma().then(function(){BP(_).then(function(I){I||(i&&ho(i),a(v),S=!0)})}).o(function(){}).then(function(){if(!S)return YC(i)}).then(function(){if(!S)return gs(c).then(function(){a(p)})})},e.Yb=function(){var i=rn();return!Xa(i)&&!Lb(i)},e.Ub=function(){return!1},e.Nb=function(i,a,c,p,v,_,S,I){if(!i)return St(new C("popup-blocked"));if(S&&!Xa())return this.ma().o(function(W){ho(i),v(W)}),p(),Te();this.a||(this.a=K_(W_(this)));var j=this;return this.a.then(function(){var W=j.ma().o(function(Ne){throw ho(i),v(Ne),Ne});return p(),W}).then(function(){if(mp(c),!S){var W=hu(j.s,j.g,j.b,a,c,null,_,j.c,void 0,j.i,I,j.f);xb(W,i)}}).o(function(W){throw W.code=="auth/network-request-failed"&&(j.a=null),W})};function W_(i){return i.l||(i.C=i.c?bs(i.c,Bp(i.b)):null,i.l=new Er(i.g,Ke(i.i),i.C),i.f&&Rc(i.l,i.f)),i.l}e.Ob=function(i,a,c,p){this.a||(this.a=K_(W_(this)));var v=this;return this.a.then(function(){mp(a);var _=hu(v.s,v.g,v.b,i,a,za(),c,v.c,void 0,v.i,p,v.f);xb(_)}).o(function(_){throw _.code=="auth/network-request-failed"&&(v.a=null),_})},e.ma=function(){var i=this;return G_(this).then(function(){return i.v.sb}).o(function(){throw i.a=null,new C("network-request-failed")})},e.ac=function(){return!0};function hu(i,a,c,p,v,_,S,I,j,W,Ne,ut){return i=new Up(i,a,c,p,v,ut),i.l=_,i.g=S,i.i=I,i.b=Pe(j||null),i.f=W,i.zb(Ne).toString()}function UP(i){if(!i.v)throw Error("IfcHandler must be initialized!");LP(i.v,function(a){var c={};if(a&&a.authEvent){var p=!1;for(a=m_(a.authEvent),c=0;c<i.h.length;c++)p=i.h[c](a)||p;return c={},c.status=p?"ACK":"ERROR",Te(c)}return c.status="ERROR",Te(c)})}function BP(i){var a={type:"webStorageSupport"};return G_(i).then(function(){return DP(i.v,a)}).then(function(c){if(c&&c.length&&typeof c[0].webStorageSupport<"u")return c[0].webStorageSupport;throw Error()})}e.Ea=function(i){this.h.push(i)},e.Ta=function(i){B(this.h,function(a){return a==i})};function z_(i){if(this.a=i||xe.INTERNAL.reactNative&&xe.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}e=z_.prototype,e.get=function(i){return Te(this.a.getItem(i)).then(function(a){return a&&ws(a)})},e.set=function(i,a){return Te(this.a.setItem(i,Ya(a)))},e.U=function(i){return Te(this.a.removeItem(i))},e.ca=function(){},e.ia=function(){};function X_(i){this.b=i,this.a={},this.f=V(this.c,this)}var Y_=[];function $P(){var i=wr()?self:null;if(q(Y_,function(c){c.b==i&&(a=c)}),!a){var a=new X_(i);Y_.push(a)}return a}X_.prototype.c=function(i){var a=i.data.eventType,c=i.data.eventId,p=this.a[a];if(p&&0<p.length){i.ports[0].postMessage({status:"ack",eventId:c,eventType:a,response:null});var v=[];q(p,function(_){v.push(Te().then(function(){return _(i.origin,i.data.data)}))}),eb(v).then(function(_){var S=[];q(_,function(I){S.push({fulfilled:I.Qb,value:I.value,reason:I.reason?I.reason.message:void 0})}),q(S,function(I){for(var j in I)typeof I[j]>"u"&&delete I[j]}),i.ports[0].postMessage({status:"done",eventId:c,eventType:a,response:S})})}};function Q_(i,a,c){Ue(i.a)&&i.b.addEventListener("message",i.f),typeof i.a[a]>"u"&&(i.a[a]=[]),i.a[a].push(c)}function J_(i){this.a=i}J_.prototype.postMessage=function(i,a){this.a.postMessage(i,a)};function Z_(i){this.c=i,this.b=!1,this.a=[]}function ew(i,a,c,p){var v,_=c||{},S,I,j,W=null;if(i.b)return St(Error("connection_unavailable"));var Ne=p?800:50,ut=typeof MessageChannel<"u"?new MessageChannel:null;return new We(function(it,Jt){ut?(v=Math.floor(Math.random()*Math.pow(10,20)).toString(),ut.port1.start(),I=setTimeout(function(){Jt(Error("unsupported_event"))},Ne),S=function(ai){ai.data.eventId===v&&(ai.data.status==="ack"?(clearTimeout(I),j=setTimeout(function(){Jt(Error("timeout"))},3e3)):ai.data.status==="done"?(clearTimeout(j),typeof ai.data.response<"u"?it(ai.data.response):Jt(Error("unknown_error"))):(clearTimeout(I),clearTimeout(j),Jt(Error("invalid_response"))))},W={messageChannel:ut,onMessage:S},i.a.push(W),ut.port1.addEventListener("message",S),i.c.postMessage({eventType:a,eventId:v,data:_},[ut.port2])):Jt(Error("connection_unavailable"))}).then(function(it){return $p(i,W),it}).o(function(it){throw $p(i,W),it})}function $p(i,a){if(a){var c=a.messageChannel,p=a.onMessage;c&&(c.port1.removeEventListener("message",p),c.port1.close()),B(i.a,function(v){return v==a})}}Z_.prototype.close=function(){for(;0<this.a.length;)$p(this,this.a[0]);this.b=!0};function tw(){if(!Kp())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=f.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var i=this;wr()&&self?(this.v=$P(),Q_(this.v,"keyChanged",function(a,c){return iw(i).then(function(p){return 0<p.length&&q(i.a,function(v){v(p)}),{keyProcessed:R(p,c.key)}})}),Q_(this.v,"ping",function(){return Te(["keyChanged"])})):rO().then(function(a){(i.h=a)&&(i.g=new Z_(new J_(a)),ew(i.g,"ping",null,!0).then(function(c){c[0].fulfilled&&R(c[0].value,"keyChanged")&&(i.s=!0)}).o(function(){}))})}var qp;function qP(i){return new We(function(a,c){var p=i.m.deleteDatabase("firebaseLocalStorageDb");p.onsuccess=function(){a()},p.onerror=function(v){c(Error(v.target.error))}})}function nw(i){return new We(function(a,c){var p=i.m.open("firebaseLocalStorageDb",1);p.onerror=function(v){try{v.preventDefault()}catch{}c(Error(v.target.error))},p.onupgradeneeded=function(v){v=v.target.result;try{v.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(_){c(_)}},p.onsuccess=function(v){v=v.target.result,v.objectStoreNames.contains("firebaseLocalStorage")?a(v):qP(i).then(function(){return nw(i)}).then(function(_){a(_)}).o(function(_){c(_)})}})}function Hp(i){return i.i||(i.i=nw(i)),i.i}function Lc(i,a){function c(v,_){Hp(i).then(a).then(v).o(function(S){if(3<++p)_(S);else return Hp(i).then(function(I){return I.close(),i.i=void 0,c(v,_)}).o(function(I){_(I)})})}var p=0;return new We(c)}function Kp(){try{return!!f.indexedDB}catch{return!1}}function du(i){return i.objectStore("firebaseLocalStorage")}function pu(i,a){return i.transaction(["firebaseLocalStorage"],a?"readwrite":"readonly")}function Is(i){return new We(function(a,c){i.onsuccess=function(p){p&&p.target?a(p.target.result):a()},i.onerror=function(p){c(p.target.error)}})}e=tw.prototype,e.set=function(i,a){var c=this,p=!1;return Lc(this,function(v){return v=du(pu(v,!0)),Is(v.get(i))}).then(function(v){return Lc(c,function(_){if(_=du(pu(_,!0)),v)return v.value=a,Is(_.put(v));c.b++,p=!0;var S={};return S.fbase_key=i,S.value=a,Is(_.add(S))})}).then(function(){return c.c[i]=a,rw(c,i)}).oa(function(){p&&c.b--})};function rw(i,a){return i.g&&i.h&&nO()===i.h?ew(i.g,"keyChanged",{key:a},i.s).then(function(){}).o(function(){}):Te()}e.get=function(i){return Lc(this,function(a){return Is(du(pu(a,!1)).get(i))}).then(function(a){return a&&a.value})},e.U=function(i){var a=this,c=!1;return Lc(this,function(p){return c=!0,a.b++,Is(du(pu(p,!0)).delete(i))}).then(function(){return delete a.c[i],rw(a,i)}).oa(function(){c&&a.b--})};function iw(i){return Hp(i).then(function(a){var c=du(pu(a,!1));return c.getAll?Is(c.getAll()):new We(function(p,v){var _=[],S=c.openCursor();S.onsuccess=function(I){(I=I.target.result)?(_.push(I.value),I.continue()):p(_)},S.onerror=function(I){v(I.target.error)}})}).then(function(a){var c={},p=[];if(i.b==0){for(p=0;p<a.length;p++)c[a[p].fbase_key]=a[p].value;p=kb(i.c,c),i.c=c}return p})}e.ca=function(i){this.a.length==0&&HP(this),this.a.push(i)},e.ia=function(i){B(this.a,function(a){return a==i}),this.a.length==0&&ow(this)};function HP(i){function a(){i.f=setTimeout(function(){i.l=iw(i).then(function(c){0<c.length&&q(i.a,function(p){p(c)})}).then(function(){a()}).o(function(c){c.message!="STOP_EVENT"&&a()})},800)}ow(i),a()}function ow(i){i.l&&i.l.cancel("STOP_EVENT"),i.f&&(clearTimeout(i.f),i.f=null)}function sw(i){var a=this,c=null;this.a=[],this.type="indexedDB",this.c=i,this.b=Te().then(function(){if(Kp()){var p=go(),v="__sak"+p;return qp||(qp=new tw),c=qp,c.set(v,p).then(function(){return c.get(v)}).then(function(_){if(_!==p)throw Error("indexedDB not supported!");return c.U(v)}).then(function(){return c}).o(function(){return a.c})}return a.c}).then(function(p){return a.type=p.type,p.ca(function(v){q(a.a,function(_){_(v)})}),p})}e=sw.prototype,e.get=function(i){return this.b.then(function(a){return a.get(i)})},e.set=function(i,a){return this.b.then(function(c){return c.set(i,a)})},e.U=function(i){return this.b.then(function(a){return a.U(i)})},e.ca=function(i){this.a.push(i)},e.ia=function(i){B(this.a,function(a){return a==i})};function gu(){this.a={},this.type="inMemory"}e=gu.prototype,e.get=function(i){return Te(this.a[i])},e.set=function(i,a){return this.a[i]=a,Te()},e.U=function(i){return delete this.a[i],Te()},e.ca=function(){},e.ia=function(){};function Mc(){if(!KP())throw jr()=="Node"?new C("internal-error","The LocalStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=aw()||xe.INTERNAL.node.localStorage,this.type="localStorage"}function aw(){try{var i=f.localStorage,a=go();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function KP(){var i=jr()=="Node";if(i=aw()||i&&xe.INTERNAL.node&&xe.INTERNAL.node.localStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Mc.prototype,e.get=function(i){var a=this;return Te().then(function(){var c=a.a.getItem(i);return ws(c)})},e.set=function(i,a){var c=this;return Te().then(function(){var p=Ya(a);p===null?c.U(i):c.a.setItem(i,p)})},e.U=function(i){var a=this;return Te().then(function(){a.a.removeItem(i)})},e.ca=function(i){f.window&&cr(f.window,"storage",i)},e.ia=function(i){f.window&&Jn(f.window,"storage",i)};function Gp(){this.type="nullStorage"}e=Gp.prototype,e.get=function(){return Te(null)},e.set=function(){return Te()},e.U=function(){return Te()},e.ca=function(){},e.ia=function(){};function Wp(){if(!GP())throw jr()=="Node"?new C("internal-error","The SessionStorage compatibility library was not found."):new C("web-storage-unsupported");this.a=uw()||xe.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function uw(){try{var i=f.sessionStorage,a=go();return i&&(i.setItem(a,"1"),i.removeItem(a)),i}catch{return null}}function GP(){var i=jr()=="Node";if(i=uw()||i&&xe.INTERNAL.node&&xe.INTERNAL.node.sessionStorage,!i)return!1;try{return i.setItem("__sak","1"),i.removeItem("__sak"),!0}catch{return!1}}e=Wp.prototype,e.get=function(i){var a=this;return Te().then(function(){var c=a.a.getItem(i);return ws(c)})},e.set=function(i,a){var c=this;return Te().then(function(){var p=Ya(a);p===null?c.U(i):c.a.setItem(i,p)})},e.U=function(i){var a=this;return Te().then(function(){a.a.removeItem(i)})},e.ca=function(){},e.ia=function(){};function WP(){var i={};i.Browser=zP,i.Node=XP,i.ReactNative=YP,i.Worker=QP,this.a=i[jr()]}var zp,zP={F:Mc,cb:Wp},XP={F:Mc,cb:Wp},YP={F:z_,cb:Gp},QP={F:Mc,cb:Gp},As={rd:"local",NONE:"none",td:"session"};function JP(i){var a=new C("invalid-persistence-type"),c=new C("unsupported-persistence-type");e:{for(p in As)if(As[p]==i){var p=!0;break e}p=!1}if(!p||typeof i!="string")throw a;switch(jr()){case"ReactNative":if(i==="session")throw c;break;case"Node":if(i!=="none")throw c;break;case"Worker":if(i==="session"||!Kp()&&i!=="none")throw c;break;default:if(!zd()&&i!=="none")throw c}}function lw(){var i=!!(!Lb(rn())&&Gd()),a=Xa(),c=zd();this.m=i,this.h=a,this.l=c,this.a={},zp||(zp=new WP),i=zp;try{this.g=!Hd()&&Fb()||!f.indexedDB?new i.a.F:new sw(wr()?new gu:new i.a.F)}catch{this.g=new gu,this.h=!0}try{this.i=new i.a.cb}catch{this.i=new gu}this.v=new gu,this.f=V(this.Zb,this),this.b={}}var Xp;function mu(){return Xp||(Xp=new lw),Xp}function Eo(i,a){switch(a){case"session":return i.i;case"none":return i.v;default:return i.g}}function xs(i,a){return"firebase:"+i.name+(a?":"+a:"")}function ZP(i,a,c){var p=xs(a,c),v=Eo(i,a.F);return i.get(a,c).then(function(_){var S=null;try{S=ws(f.localStorage.getItem(p))}catch{}if(S&&!_)return f.localStorage.removeItem(p),i.set(a,S,c);S&&_&&v.type!="localStorage"&&f.localStorage.removeItem(p)})}e=lw.prototype,e.get=function(i,a){return Eo(this,i.F).get(xs(i,a))};function ks(i,a,c){return c=xs(a,c),a.F=="local"&&(i.b[c]=null),Eo(i,a.F).U(c)}e.set=function(i,a,c){var p=xs(i,c),v=this,_=Eo(this,i.F);return _.set(p,a).then(function(){return _.get(p)}).then(function(S){i.F=="local"&&(v.b[p]=S)})},e.addListener=function(i,a,c){i=xs(i,a),this.l&&(this.b[i]=f.localStorage.getItem(i)),Ue(this.a)&&(Eo(this,"local").ca(this.f),this.h||(Hd()||!Fb())&&f.indexedDB||!this.l||eN(this)),this.a[i]||(this.a[i]=[]),this.a[i].push(c)},e.removeListener=function(i,a,c){i=xs(i,a),this.a[i]&&(B(this.a[i],function(p){return p==c}),this.a[i].length==0&&delete this.a[i]),Ue(this.a)&&(Eo(this,"local").ia(this.f),Yp(this))};function eN(i){Yp(i),i.c=setInterval(function(){for(var a in i.a){var c=f.localStorage.getItem(a),p=i.b[a];c!=p&&(i.b[a]=c,c=new lo({type:"storage",key:a,target:window,oldValue:p,newValue:c,a:!0}),i.Zb(c))}},1e3)}function Yp(i){i.c&&(clearInterval(i.c),i.c=null)}e.Zb=function(i){if(i&&i.g){var a=i.a.key;if(a==null)for(var c in this.a){var p=this.b[c];typeof p>"u"&&(p=null);var v=f.localStorage.getItem(c);v!==p&&(this.b[c]=v,this.nb(c))}else if(a.indexOf("firebase:")==0&&this.a[a]){if(typeof i.a.a<"u"?Eo(this,"local").ia(this.f):Yp(this),this.m){if(c=f.localStorage.getItem(a),p=i.a.newValue,p!==c)p!==null?f.localStorage.setItem(a,p):f.localStorage.removeItem(a);else if(this.b[a]===p&&typeof i.a.a>"u")return}var _=this;c=function(){(typeof i.a.a<"u"||_.b[a]!==f.localStorage.getItem(a))&&(_.b[a]=f.localStorage.getItem(a),_.nb(a))},_r&&wi&&wi==10&&f.localStorage.getItem(a)!==i.a.newValue&&i.a.newValue!==i.a.oldValue?setTimeout(c,10):c()}}else q(i,V(this.nb,this))},e.nb=function(i){this.a[i]&&q(this.a[i],function(a){a()})};function tN(i){this.a=i,this.b=mu()}var Qp={name:"authEvent",F:"local"};function nN(i){return i.b.get(Qp,i.a).then(function(a){return m_(a)})}function rN(){this.a=mu()}function iN(){this.b=-1}function Fc(i,a){this.b=cw,this.f=f.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=i,this.h=a,this.l=f.Int32Array?new Int32Array(64):Array(64),Vc===void 0&&(f.Int32Array?Vc=new Int32Array(dw):Vc=dw),this.reset()}var Vc;G(Fc,iN);for(var cw=64,oN=cw-1,fw=[],Jp=0;Jp<oN;Jp++)fw[Jp]=0;var hw=z(128,fw);Fc.prototype.reset=function(){this.g=this.c=0,this.a=f.Int32Array?new Int32Array(this.h):ie(this.h)};function Zp(i){for(var a=i.f,c=i.l,p=0,v=0;v<a.length;)c[p++]=a[v]<<24|a[v+1]<<16|a[v+2]<<8|a[v+3],v=4*p;for(a=16;64>a;a++){v=c[a-15]|0,p=c[a-2]|0;var _=(c[a-16]|0)+((v>>>7|v<<25)^(v>>>18|v<<14)^v>>>3)|0,S=(c[a-7]|0)+((p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10)|0;c[a]=_+S|0}p=i.a[0]|0,v=i.a[1]|0;var I=i.a[2]|0,j=i.a[3]|0,W=i.a[4]|0,Ne=i.a[5]|0,ut=i.a[6]|0;for(_=i.a[7]|0,a=0;64>a;a++){var it=((p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10))+(p&v^p&I^v&I)|0;S=W&Ne^~W&ut,_=_+((W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7))|0,S=S+(Vc[a]|0)|0,S=_+(S+(c[a]|0)|0)|0,_=ut,ut=Ne,Ne=W,W=j+S|0,j=I,I=v,v=p,p=S+it|0}i.a[0]=i.a[0]+p|0,i.a[1]=i.a[1]+v|0,i.a[2]=i.a[2]+I|0,i.a[3]=i.a[3]+j|0,i.a[4]=i.a[4]+W|0,i.a[5]=i.a[5]+Ne|0,i.a[6]=i.a[6]+ut|0,i.a[7]=i.a[7]+_|0}function eg(i,a,c){c===void 0&&(c=a.length);var p=0,v=i.c;if(typeof a=="string")for(;p<c;)i.f[v++]=a.charCodeAt(p++),v==i.b&&(Zp(i),v=0);else if(b(a))for(;p<c;){var _=a[p++];if(!(typeof _=="number"&&0<=_&&255>=_&&_==(_|0)))throw Error("message must be a byte array");i.f[v++]=_,v==i.b&&(Zp(i),v=0)}else throw Error("message must be string or array");i.c=v,i.g+=c}var dw=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pw(){Fc.call(this,8,sN)}G(pw,Fc);var sN=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function gw(i,a,c,p,v,_){this.v=i,this.i=a,this.l=c,this.m=p||null,this.u=v||null,this.s=_,this.h=a+":"+c,this.C=new rN,this.g=new tN(this.h),this.f=null,this.b=[],this.a=this.c=null}function jc(i){return new C("invalid-cordova-configuration",i)}e=gw.prototype,e.ma=function(){return this.Ia?this.Ia:this.Ia=ZC().then(function(){if(typeof Et("universalLinks.subscribe",f)!="function")throw jc("cordova-universal-links-plugin-fix is not installed");if(typeof Et("BuildInfo.packageName",f)>"u")throw jc("cordova-plugin-buildinfo is not installed");if(typeof Et("cordova.plugins.browsertab.openUrl",f)!="function")throw jc("cordova-plugin-browsertab is not installed");if(typeof Et("cordova.InAppBrowser.open",f)!="function")throw jc("cordova-plugin-inappbrowser is not installed")},function(){throw new C("cordova-not-ready")})};function aN(){for(var i=20,a=[];0<i;)a.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),i--;return a.join("")}function uN(i){var a=new pw;eg(a,i),i=[];var c=8*a.g;56>a.c?eg(a,hw,56-a.c):eg(a,hw,a.b-(a.c-56));for(var p=63;56<=p;p--)a.f[p]=c&255,c/=256;for(Zp(a),p=c=0;p<a.i;p++)for(var v=24;0<=v;v-=8)i[c++]=a.a[p]>>v&255;return bO(i)}e.Pb=function(i,a){return a(new C("operation-not-supported-in-this-environment")),Te()},e.Nb=function(){return St(new C("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(i,a,c,p){if(this.c)return St(new C("redirect-operation-pending"));var v=this,_=f.document,S=null,I=null,j=null,W=null;return this.c=Te().then(function(){return mp(a),vw(v)}).then(function(){return lN(v,i,a,c,p)}).then(function(){return new We(function(Ne,ut){I=function(){var it=Et("cordova.plugins.browsertab.close",f);return Ne(),typeof it=="function"&&it(),v.a&&typeof v.a.close=="function"&&(v.a.close(),v.a=null),!1},v.Ea(I),j=function(){S||(S=gs(2e3).then(function(){ut(new C("redirect-cancelled-by-user"))}))},W=function(){Xd()&&j()},_.addEventListener("resume",j,!1),rn().toLowerCase().match(/android/)||_.addEventListener("visibilitychange",W,!1)}).o(function(Ne){return tg(v).then(function(){throw Ne})})}).oa(function(){j&&_.removeEventListener("resume",j,!1),W&&_.removeEventListener("visibilitychange",W,!1),S&&S.cancel(),I&&v.Ta(I),v.c=null})};function lN(i,a,c,p,v){var _=aN(),S=new Sr(a,p,null,_,new C("no-auth-event"),null,v),I=Et("BuildInfo.packageName",f);if(typeof I!="string")throw new C("invalid-cordova-configuration");var j=Et("BuildInfo.displayName",f),W={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))W.ibi=I;else if(rn().toLowerCase().match(/android/))W.apn=I;else return St(new C("operation-not-supported-in-this-environment"));j&&(W.appDisplayName=j),_=uN(_),W.sessionId=_;var Ne=hu(i.v,i.i,i.l,a,c,null,p,i.m,W,i.u,v,i.s);return i.ma().then(function(){var ut=i.h;return i.C.a.set(Qp,S.w(),ut)}).then(function(){var ut=Et("cordova.plugins.browsertab.isAvailable",f);if(typeof ut!="function")throw new C("invalid-cordova-configuration");var it=null;ut(function(Jt){if(Jt){if(it=Et("cordova.plugins.browsertab.openUrl",f),typeof it!="function")throw new C("invalid-cordova-configuration");it(Ne)}else{if(it=Et("cordova.InAppBrowser.open",f),typeof it!="function")throw new C("invalid-cordova-configuration");Jt=rn(),i.a=it(Ne,Jt.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||Jt.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}function mw(i,a){for(var c=0;c<i.b.length;c++)try{i.b[c](a)}catch{}}function vw(i){return i.f||(i.f=i.ma().then(function(){return new We(function(a){function c(p){return a(p),i.Ta(c),!1}i.Ea(c),cN(i)})})),i.f}function tg(i){var a=null;return nN(i.g).then(function(c){return a=c,c=i.g,ks(c.b,Qp,c.a)}).then(function(){return a})}function cN(i){function a(S){p=!0,v&&v.cancel(),tg(i).then(function(I){var j=c;if(I&&S&&S.url){var W=null;j=u_(S.url),j.indexOf("/__/auth/callback")!=-1&&(W=Fn(j),W=ws(fr(W,"firebaseError")||null),W=(W=typeof W=="object"?He(W):null)?new Sr(I.c,I.b,null,null,W,null,I.T()):new Sr(I.c,I.b,j,I.f,null,null,I.T())),j=W||c}mw(i,j)})}var c=new Sr("unknown",null,null,null,new C("no-auth-event")),p=!1,v=gs(500).then(function(){return tg(i).then(function(){p||mw(i,c)})}),_=f.handleOpenURL;f.handleOpenURL=function(S){if(S.toLowerCase().indexOf(Et("BuildInfo.packageName",f).toLowerCase()+"://")==0&&a({url:S}),typeof _=="function")try{_(S)}catch(I){console.error(I)}},vp||(vp=new xO),kO(a)}e.Ea=function(i){this.b.push(i),vw(this).o(function(a){a.code==="auth/invalid-cordova-configuration"&&(a=new Sr("unknown",null,null,null,new C("no-auth-event")),i(a))})},e.Ta=function(i){B(this.b,function(a){return a==i})};function fN(i){this.a=i,this.b=mu()}var ng={name:"pendingRedirect",F:"session"};function hN(i){return i.b.set(ng,"pending",i.a)}function rg(i){return ks(i.b,ng,i.a)}function dN(i){return i.b.get(ng,i.a).then(function(a){return a=="pending"})}function Uc(i,a,c,p){this.i={},this.u=0,this.D=i,this.v=a,this.m=c,this.J=p,this.h=[],this.f=!1,this.l=V(this.s,this),this.b=new $c,this.C=new xw,this.g=new fN(Tw(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=yw(this.D,this.v,this.m,ae,this.J)}function yw(i,a,c,p,v){var _=xe.SDK_VERSION||null;return Kd()?new gw(i,a,c,_,p,v):new H_(i,a,c,_,p,v)}Uc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=yw(this.D,this.v,this.m,null,this.J),this.i={}};function bw(i){i.f||(i.f=!0,i.a.Ea(i.l));var a=i.a;return i.a.ma().o(function(c){throw i.a==a&&i.reset(),c})}function _w(i){i.a.Yb()&&bw(i).o(function(a){var c=new Sr("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));og(a)&&i.s(c)}),i.a.Ub()||Iw(i.b)}function Bc(i,a){R(i.h,a)||i.h.push(a),i.f||dN(i.g).then(function(c){c?rg(i.g).then(function(){bw(i).o(function(p){var v=new Sr("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));og(p)&&i.s(v)})}):_w(i)}).o(function(){_w(i)})}function ig(i,a){B(i.h,function(c){return c==a})}Uc.prototype.s=function(i){if(!i)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),i&&i.getUid()&&this.i.hasOwnProperty(i.getUid()))return!1;for(var a=!1,c=0;c<this.h.length;c++){var p=this.h[c];if(p.Gb(i.c,i.b)){(a=this.c[i.c])&&(a.h(i,p),i&&(i.f||i.b)&&(this.i[i.getUid()]=!0,this.u=Date.now())),a=!0;break}}return Iw(this.b),a};var pN=new Ti(2e3,1e4),gN=new Ti(3e4,6e4);Uc.prototype.ra=function(){return this.b.ra()};function ww(i,a,c,p,v,_,S){return i.a.Nb(a,c,p,function(){i.f||(i.f=!0,i.a.Ea(i.l))},function(){i.reset()},v,_,S)}function og(i){return!!(i&&i.code=="auth/cordova-not-ready")}function Sw(i,a,c,p,v){var _;return hN(i.g).then(function(){return i.a.Ob(a,c,p,v).o(function(S){if(og(S))throw new C("operation-not-supported-in-this-environment");return _=S,rg(i.g).then(function(){throw _})}).then(function(){return i.a.ac()?new We(function(){}):rg(i.g).then(function(){return i.ra()}).then(function(){}).o(function(){})})})}function Ew(i,a,c,p,v){return i.a.Pb(p,function(_){a.na(c,null,_,v)},pN.get())}var sg={};function Tw(i,a,c){return i=i+":"+a,c&&(i=i+":"+c.url),i}function ag(i,a,c,p){var v=Tw(a,c,p);return sg[v]||(sg[v]=new Uc(i,a,c,p)),sg[v]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(i,a){if(i){this.reset(),this.g=!0;var c=i.c,p=i.b,v=i.a&&i.a.code=="auth/web-storage-unsupported",_=i.a&&i.a.code=="auth/operation-not-supported-in-this-environment";this.i=!(!v&&!_),c!="unknown"||v||_?i.a?(To(this,!0,null,i.a),Te()):a.Fa(c,p)?mN(this,i,a):St(new C("invalid-auth-event")):(To(this,!1,null,null),Te())}else St(new C("invalid-auth-event"))};function Iw(i){i.g||(i.g=!0,To(i,!1,null,null))}function qc(i){i.g&&!i.i&&To(i,!1,null,null)}function mN(i,a,c){c=c.Fa(a.c,a.b);var p=a.g,v=a.f,_=a.i,S=a.T(),I=!!a.c.match(/Redirect$/);c(p,v,S,_).then(function(j){To(i,I,j,null)}).o(function(j){To(i,I,null,j)})}function vN(i,a){if(i.b=function(){return St(a)},i.c.length)for(var c=0;c<i.c.length;c++)i.c[c](a)}function Aw(i,a){if(i.b=function(){return Te(a)},i.f.length)for(var c=0;c<i.f.length;c++)i.f[c](a)}function To(i,a,c,p){a?p?vN(i,p):Aw(i,c):Aw(i,{user:null}),i.f=[],i.c=[]}$c.prototype.ra=function(){var i=this;return new We(function(a,c){i.b?i.b().then(a,c):(i.f.push(a),i.c.push(c),yN(i))})};function yN(i){var a=new C("timeout");i.a&&i.a.cancel(),i.a=gs(gN.get()).then(function(){i.b||(i.g=!0,To(i,!0,null,a))})}function xw(){}xw.prototype.h=function(i,a){if(i){var c=i.c,p=i.b;i.a?(a.na(i.c,null,i.a,i.b),Te()):a.Fa(c,p)?bN(i,a):St(new C("invalid-auth-event"))}else St(new C("invalid-auth-event"))};function bN(i,a){var c=i.b,p=i.c;a.Fa(p,c)(i.g,i.f,i.T(),i.i).then(function(v){a.na(p,v,null,c)}).o(function(v){a.na(p,null,v,c)})}function kw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(i){this.jb=i},enumerable:!1})}function ug(i,a){this.a=a,ge(this,"verificationId",i)}ug.prototype.confirm=function(i){return i=g_(this.verificationId,i),this.a(i)};function lg(i,a,c,p){return new oi(i).gb(a,c).then(function(v){return new ug(v,p)})}function _N(i){var a=e_(i);if(!(a&&a.exp&&a.auth_time&&a.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");In(this,{token:i,expirationTime:Qa(1e3*a.exp),authTime:Qa(1e3*a.auth_time),issuedAtTime:Qa(1e3*a.iat),signInProvider:a.firebase&&a.firebase.sign_in_provider?a.firebase.sign_in_provider:null,signInSecondFactor:a.firebase&&a.firebase.sign_in_second_factor?a.firebase.sign_in_second_factor:null,claims:a})}function cg(i,a,c){var p=a&&a[Ow];if(!p)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=i,this.f=Pe(a),this.g=c,this.c=new yc(null,p),this.b=[];var v=this;q(a[Cw]||[],function(_){(_=tp(_))&&v.b.push(_)}),ge(this,"auth",this.a),ge(this,"session",this.c),ge(this,"hints",this.b)}var Cw="mfaInfo",Ow="mfaPendingCredential";cg.prototype.Rc=function(i){var a=this;return i.tb(this.a.a,this.c).then(function(c){var p=Pe(a.f);return delete p[Cw],delete p[Ow],De(p,c),a.g(p)})};function fg(i,a,c,p){C.call(this,"multi-factor-auth-required",p,a),this.b=new cg(i,a,c),ge(this,"resolver",this.b)}G(fg,C);function Pw(i,a,c){if(i&&E(i.serverResponse)&&i.code==="auth/multi-factor-auth-required")try{return new fg(a,i.serverResponse,c,i.message)}catch{}return null}function Nw(){}Nw.prototype.tb=function(i,a,c){return a.type==tu?wN(this,i,a,c):SN(this,i,a)};function wN(i,a,c,p){return c.Ha().then(function(v){return v={idToken:v},typeof p<"u"&&(v.displayName=p),De(v,{phoneVerificationInfo:nu(i.a)}),Ye(a,cP,v)})}function SN(i,a,c){return c.Ha().then(function(p){return p={mfaPendingCredential:p},De(p,{phoneVerificationInfo:nu(i.a)}),Ye(a,fP,p)})}function hg(i){ge(this,"factorId",i.fa),this.a=i}G(hg,Nw);function Rw(i){if(hg.call(this,i),this.a.fa!=oi.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}G(Rw,hg);function Cs(i,a){Mn.call(this,i);for(var c in a)this[c]=a[c]}G(Cs,Mn);function dg(i,a){this.a=i,this.b=[],this.c=V(this.yc,this),cr(this.a,"userReloaded",this.c);var c=[];a&&a.multiFactor&&a.multiFactor.enrolledFactors&&q(a.multiFactor.enrolledFactors,function(p){var v=null,_={};if(p){p.uid&&(_[rp]=p.uid),p.displayName&&(_[jb]=p.displayName),p.enrollmentTime&&(_[np]=new Date(p.enrollmentTime).toISOString()),p.phoneNumber&&(_[ip]=p.phoneNumber);try{v=new Ja(_)}catch{}p=v}else p=null;p&&c.push(p)}),Hc(this,c)}function EN(i){var a=[];return q(i.mfaInfo||[],function(c){(c=tp(c))&&a.push(c)}),a}e=dg.prototype,e.yc=function(i){Hc(this,EN(i.hd))};function Hc(i,a){i.b=a,ge(i,"enrolledFactors",a)}e.Sb=function(){return this.a.I().then(function(i){return new yc(i,null)})},e.fc=function(i,a){var c=this,p=this.a.a;return this.Sb().then(function(v){return i.tb(p,v,a)}).then(function(v){return $r(c.a,v),c.a.reload()})},e.bd=function(i){var a=this,c=typeof i=="string"?i:i.uid,p=this.a.a;return this.a.I().then(function(v){return Ye(p,PP,{idToken:v,mfaEnrollmentId:c})}).then(function(v){var _=ue(a.b,function(S){return S.uid!=c});return Hc(a,_),$r(a.a,v),a.a.reload().o(function(S){if(S.code!="auth/user-token-expired")throw S})})},e.w=function(){return{multiFactor:{enrolledFactors:Re(this.b,function(i){return i.w()})}}};function pg(i,a,c){if(this.h=i,this.i=a,this.g=c,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}pg.prototype.start=function(){this.a=this.c,gg(this,!0)};function TN(i,a){return a?(i.a=i.c,i.g()):(a=i.a,i.a*=2,i.a>i.f&&(i.a=i.f),a)}function gg(i,a){i.stop(),i.b=gs(TN(i,a)).then(function(){return tO()}).then(function(){return i.h()}).then(function(){gg(i,!0)}).o(function(c){i.i(c)&&gg(i,!1)})}pg.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)};function mg(i){this.f=i,this.b=this.a=null,this.c=Date.now()}mg.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}};function Dw(i,a){typeof a>"u"&&(i.b?(a=i.b,a=a.a-a.g):a=0),i.c=Date.now()+1e3*a}function Lw(i,a){i.b=mc(a[Tr]||""),i.a=a.refreshToken,a=a.expiresIn,Dw(i,typeof a<"u"?Number(a):void 0)}function IN(i,a){i.b=a.b,i.a=a.a,i.c=a.c}function AN(i,a){return zO(i.f,a).then(function(c){return i.b=mc(c.access_token),i.a=c.refresh_token,Dw(i,c.expires_in),{accessToken:i.b.toString(),refreshToken:i.a}}).o(function(c){throw c.code=="auth/user-token-expired"&&(i.a=null),c})}mg.prototype.getToken=function(i){return i=!!i,this.b&&!this.a?St(new C("user-token-expired")):i||!this.b||Date.now()>this.c-3e4?this.a?AN(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})};function Kc(i,a){this.a=i||null,this.b=a||null,In(this,{lastSignInTime:Qa(a||null),creationTime:Qa(i||null)})}function xN(i){return new Kc(i.a,i.b)}Kc.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}};function kN(i,a,c,p,v,_){In(this,{uid:i,displayName:p||null,photoURL:v||null,email:c||null,phoneNumber:_||null,providerId:a})}function er(i,a,c){this.N=[],this.l=i.apiKey,this.m=i.appName,this.s=i.authDomain||null;var p=xe.SDK_VERSION?bs(xe.SDK_VERSION):null;this.a=new Er(this.l,Ke(ae),p),(this.u=i.emulatorConfig||null)&&Rc(this.a,this.u),this.h=new mg(this.a),Eg(this,a[Tr]),Lw(this.h,a),ge(this,"refreshToken",this.h.a),Fw(this,c||{}),Tn.call(this),this.P=!1,this.s&&po()&&(this.b=ag(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=CN(this),this.ba=V(this.ib,this);var v=this;this.za=null,this.Pa=function(_){v.xa(_.h)},this.qa=null,this.Ba=function(_){vg(v,_.c)},this.$=null,this.aa=[],this.Oa=function(_){vu(v,_.f)},this.ja=null,this.S=new dg(this,c),ge(this,"multiFactor",this.S)}G(er,Tn),er.prototype.xa=function(i){this.za=i,P_(this.a,i)};function vg(i,a){i.u=a,Rc(i.a,a),i.b&&(a=i.b,i.b=ag(i.s,i.l,i.m,i.u),i.P&&(ig(a,i),Bc(i.b,i)))}er.prototype.la=function(){return this.za};function yg(i,a){i.qa&&Jn(i.qa,"languageCodeChanged",i.Pa),(i.qa=a)&&cr(a,"languageCodeChanged",i.Pa)}function bg(i,a){i.$&&Jn(i.$,"emulatorConfigChanged",i.Ba),(i.$=a)&&cr(a,"emulatorConfigChanged",i.Ba)}function vu(i,a){i.aa=a,N_(i.a,xe.SDK_VERSION?bs(xe.SDK_VERSION,i.aa):null)}er.prototype.Ga=function(){return ie(this.aa)};function _g(i,a){i.ja&&Jn(i.ja,"frameworkChanged",i.Oa),(i.ja=a)&&cr(a,"frameworkChanged",i.Oa)}er.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())};function wg(i){try{return xe.app(i.m).auth()}catch{throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+i.m+"'!")}}function CN(i){return new pg(function(){return i.I(!0)},function(a){return!!(a&&a.code=="auth/network-request-failed")},function(){var a=i.h.c-Date.now()-3e5;return 0<a?a:0})}function Mw(i){i.J||i.D.b||(i.D.start(),Jn(i,"tokenChanged",i.ba),cr(i,"tokenChanged",i.ba))}function Sg(i){Jn(i,"tokenChanged",i.ba),i.D.stop()}function Eg(i,a){i.Aa=a,ge(i,"_lat",a)}function ON(i,a){B(i.W,function(c){return c==a})}function Io(i){for(var a=[],c=0;c<i.W.length;c++)a.push(i.W[c](i));return eb(a).then(function(){return i})}function yu(i){i.b&&!i.P&&(i.P=!0,Bc(i.b,i))}function Fw(i,a){In(i,{uid:a.uid,displayName:a.displayName||null,photoURL:a.photoURL||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,isAnonymous:a.isAnonymous||!1,tenantId:a.tenantId||null,metadata:new Kc(a.createdAt,a.lastLoginAt),providerData:[]}),i.a.b=i.tenantId}ge(er.prototype,"providerId","firebase");function Vw(){}function Tg(i){return Te().then(function(){if(i.J)throw new C("app-deleted")})}function Ig(i){return Re(i.providerData,function(a){return a.providerId})}function Ag(i,a){a&&(jw(i,a.providerId),i.providerData.push(a))}function jw(i,a){B(i.providerData,function(c){return c.providerId==a})}function xi(i,a,c){(a!="uid"||c)&&i.hasOwnProperty(a)&&ge(i,a,c)}function Gc(i,a){i!=a&&(In(i,{uid:a.uid,displayName:a.displayName,photoURL:a.photoURL,email:a.email,emailVerified:a.emailVerified,phoneNumber:a.phoneNumber,isAnonymous:a.isAnonymous,tenantId:a.tenantId,providerData:[]}),a.metadata?ge(i,"metadata",xN(a.metadata)):ge(i,"metadata",new Kc),q(a.providerData,function(c){Ag(i,c)}),IN(i.h,a.h),ge(i,"refreshToken",i.h.a),Hc(i.S,a.S.b))}e=er.prototype,e.reload=function(){var i=this;return zt(this,Tg(this).then(function(){return xg(i).then(function(){return Io(i)}).then(Vw)}))};function xg(i){return i.I().then(function(a){var c=i.isAnonymous;return PN(i,a).then(function(){return c||xi(i,"isAnonymous",!1),a})})}e.oc=function(i){return this.I(i).then(function(a){return new _N(a)})},e.I=function(i){var a=this;return zt(this,Tg(this).then(function(){return a.h.getToken(i)}).then(function(c){if(!c)throw new C("internal-error");return c.accessToken!=a.Aa&&(Eg(a,c.accessToken),a.dispatchEvent(new Cs("tokenChanged"))),xi(a,"refreshToken",c.refreshToken),c.accessToken}))};function $r(i,a){a[Tr]&&i.Aa!=a[Tr]&&(Lw(i.h,a),i.dispatchEvent(new Cs("tokenChanged")),Eg(i,a[Tr]),xi(i,"refreshToken",i.h.a))}function PN(i,a){return Ye(i.a,hP,{idToken:a}).then(V(i.Kc,i))}e.Kc=function(i){if(i=i.users,!i||!i.length)throw new C("internal-error");i=i[0],Fw(this,{uid:i.localId,displayName:i.displayName,photoURL:i.photoUrl,email:i.email,emailVerified:!!i.emailVerified,phoneNumber:i.phoneNumber,lastLoginAt:i.lastLoginAt,createdAt:i.createdAt,tenantId:i.tenantId});for(var a=NN(i),c=0;c<a.length;c++)Ag(this,a[c]);xi(this,"isAnonymous",!(this.email&&i.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new Cs("userReloaded",{hd:i}))};function NN(i){return(i=i.providerUserInfo)&&i.length?Re(i,function(a){return new kN(a.rawId,a.providerId,a.email,a.displayName,a.photoUrl,a.phoneNumber)}):[]}e.Lc=function(i){return Yd("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(i)},e.ub=function(i){var a=this,c=null;return zt(this,i.c(this.a,this.uid).then(function(p){return $r(a,p),c=bu(a,p,"reauthenticate"),a.i=null,a.reload()}).then(function(){return c}),!0)};function Wc(i,a){return xg(i).then(function(){if(R(Ig(i),a))return Io(i).then(function(){throw new C("provider-already-linked")})})}e.Cc=function(i){return Yd("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(i)},e.rb=function(i){var a=this,c=null;return zt(this,Wc(this,i.providerId).then(function(){return a.I()}).then(function(p){return i.b(a.a,p)}).then(function(p){return c=bu(a,p,"link"),Uw(a,p)}).then(function(){return c}))},e.Dc=function(i,a){var c=this;return zt(this,Wc(this,"phone").then(function(){return lg(wg(c),i,a,V(c.rb,c))}))},e.Mc=function(i,a){var c=this;return zt(this,Te().then(function(){return lg(wg(c),i,a,V(c.ub,c))}),!0)};function bu(i,a,c){var p=gp(a);return a=n_(a),Ur({user:i,credential:p,additionalUserInfo:a,operationType:c})}function Uw(i,a){return $r(i,a),i.reload().then(function(){return i})}e.Cb=function(i){var a=this;return zt(this,this.I().then(function(c){return a.a.Cb(c,i)}).then(function(c){return $r(a,c),a.reload()}))},e.ed=function(i){var a=this;return zt(this,this.I().then(function(c){return i.b(a.a,c)}).then(function(c){return $r(a,c),a.reload()}))},e.Db=function(i){var a=this;return zt(this,this.I().then(function(c){return a.a.Db(c,i)}).then(function(c){return $r(a,c),a.reload()}))},e.Eb=function(i){if(i.displayName===void 0&&i.photoURL===void 0)return Tg(this);var a=this;return zt(this,this.I().then(function(c){return a.a.Eb(c,{displayName:i.displayName,photoUrl:i.photoURL})}).then(function(c){return $r(a,c),xi(a,"displayName",c.displayName||null),xi(a,"photoURL",c.photoUrl||null),q(a.providerData,function(p){p.providerId==="password"&&(ge(p,"displayName",a.displayName),ge(p,"photoURL",a.photoURL))}),Io(a)}).then(Vw))},e.cd=function(i){var a=this;return zt(this,xg(this).then(function(c){return R(Ig(a),i)?tP(a.a,c,[i]).then(function(p){var v={};return q(p.providerUserInfo||[],function(_){v[_.providerId]=!0}),q(Ig(a),function(_){v[_]||jw(a,_)}),v[oi.PROVIDER_ID]||ge(a,"phoneNumber",null),Io(a)}):Io(a).then(function(){throw new C("no-such-provider")})}))},e.delete=function(){var i=this;return zt(this,this.I().then(function(a){return Ye(i.a,sP,{idToken:a})}).then(function(){i.dispatchEvent(new Cs("userDeleted"))})).then(function(){for(var a=0;a<i.N.length;a++)i.N[a].cancel("app-deleted");yg(i,null),bg(i,null),_g(i,null),i.N=[],i.J=!0,Sg(i),ge(i,"refreshToken",null),i.b&&ig(i.b,i)})},e.Gb=function(i,a){return!!(i=="linkViaPopup"&&(this.g||null)==a&&this.f||i=="reauthViaPopup"&&(this.g||null)==a&&this.f||i=="linkViaRedirect"&&(this.ga||null)==a||i=="reauthViaRedirect"&&(this.ga||null)==a)},e.na=function(i,a,c,p){i!="linkViaPopup"&&i!="reauthViaPopup"||p!=(this.g||null)||(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="linkViaPopup"&&a==(this.g||null)?V(this.Lb,this):i=="reauthViaPopup"&&a==(this.g||null)?V(this.Mb,this):i=="linkViaRedirect"&&(this.ga||null)==a?V(this.Lb,this):i=="reauthViaRedirect"&&(this.ga||null)==a?V(this.Mb,this):null},e.Ec=function(i){var a=this;return Bw(this,"linkViaPopup",i,function(){return Wc(a,i.providerId).then(function(){return Io(a)})},!1)},e.Nc=function(i){return Bw(this,"reauthViaPopup",i,function(){return Te()},!0)};function Bw(i,a,c,p,v){if(!po())return St(new C("operation-not-supported-in-this-environment"));if(i.i&&!v)return St(i.i);var _=lp(c.providerId),S=go(i.uid+":::"),I=null;(!Xa()||Gd())&&i.s&&c.isOAuthProvider&&(I=hu(i.s,i.l,i.m,a,c,null,S,xe.SDK_VERSION||null,null,null,i.tenantId,i.u));var j=Ob(I,_&&_.va,_&&_.ua);return p=p().then(function(){if(qw(i),!v)return i.I().then(function(){})}).then(function(){return ww(i.b,j,a,c,S,!!I,i.tenantId)}).then(function(){return new We(function(W,Ne){i.na(a,null,new C("cancelled-popup-request"),i.g||null),i.f=W,i.C=Ne,i.g=S,i.c=Ew(i.b,i,a,j,S)})}).then(function(W){return j&&ho(j),W?Ur(W):null}).o(function(W){throw j&&ho(j),W}),zt(i,p,v)}e.Fc=function(i){var a=this;return $w(this,"linkViaRedirect",i,function(){return Wc(a,i.providerId)},!1)},e.Oc=function(i){return $w(this,"reauthViaRedirect",i,function(){return Te()},!0)};function $w(i,a,c,p,v){if(!po())return St(new C("operation-not-supported-in-this-environment"));if(i.i&&!v)return St(i.i);var _=null,S=go(i.uid+":::");return p=p().then(function(){if(qw(i),!v)return i.I().then(function(){})}).then(function(){return i.ga=S,Io(i)}).then(function(I){return i.ha&&(I=i.ha,I=I.b.set(kg,i.w(),I.a)),I}).then(function(){return Sw(i.b,a,c,S,i.tenantId)}).o(function(I){if(_=I,i.ha)return Kw(i.ha);throw _}).then(function(){if(_)throw _}),zt(i,p,v)}function qw(i){if(!i.b||!i.P)throw i.b&&!i.P?new C("internal-error"):new C("auth-domain-config-required")}e.Lb=function(i,a,c,p){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null;return c=this.I().then(function(S){return Mp(v.a,{requestUri:i,postBody:p,sessionId:a,idToken:S})}).then(function(S){return _=bu(v,S,"link"),Uw(v,S)}).then(function(){return _}),zt(this,c)},e.Mb=function(i,a,c,p){var v=this;this.c&&(this.c.cancel(),this.c=null);var _=null,S=Te().then(function(){return Es(Fp(v.a,{requestUri:i,sessionId:a,postBody:p,tenantId:c}),v.uid)}).then(function(I){return _=bu(v,I,"reauthenticate"),$r(v,I),v.i=null,v.reload()}).then(function(){return _});return zt(this,S,!0)},e.vb=function(i){var a=this,c=null;return zt(this,this.I().then(function(p){return c=p,typeof i>"u"||Ue(i)?{}:pc(new dc(i))}).then(function(p){return a.a.vb(c,p)}).then(function(p){if(a.email!=p)return a.reload()}).then(function(){}))},e.Fb=function(i,a){var c=this,p=null;return zt(this,this.I().then(function(v){return p=v,typeof a>"u"||Ue(a)?{}:pc(new dc(a))}).then(function(v){return c.a.Fb(p,i,v)}).then(function(v){if(c.email!=v)return c.reload()}).then(function(){}))};function zt(i,a,c){var p=RN(i,a,c);return i.N.push(p),p.oa(function(){U(i.N,p)}),p.o(function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=Pw(v.w(),wg(i),V(i.jc,i))),_||v})}e.jc=function(i){var a=null,c=this;return i=Es(Te(i),c.uid).then(function(p){return a=bu(c,p,"reauthenticate"),$r(c,p),c.i=null,c.reload()}).then(function(){return a}),zt(this,i,!0)};function RN(i,a,c){return i.i&&!c?(a.cancel(),St(i.i)):a.o(function(p){throw!p||p.code!="auth/user-disabled"&&p.code!="auth/user-token-expired"||(i.i||i.dispatchEvent(new Cs("userInvalidated")),i.i=p),p})}e.toJSON=function(){return this.w()},e.w=function(){var i={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&De(i,this.metadata.w()),q(this.providerData,function(a){i.providerData.push(iO(a))}),De(i,this.S.w()),i};function Hw(i){if(!i.apiKey)return null;var a={apiKey:i.apiKey,authDomain:i.authDomain,appName:i.appName,emulatorConfig:i.emulatorConfig},c={};if(i.stsTokenManager&&i.stsTokenManager.accessToken){c[Tr]=i.stsTokenManager.accessToken,c.refreshToken=i.stsTokenManager.refreshToken||null;var p=i.stsTokenManager.expirationTime;p&&(c.expiresIn=(p-Date.now())/1e3)}else return null;var v=new er(a,c,i);return i.providerData&&q(i.providerData,function(_){_&&Ag(v,Ur(_))}),i.redirectEventId&&(v.ga=i.redirectEventId),v}function DN(i,a,c,p){var v=new er(i,a);return c&&(v.ha=c),p&&vu(v,p),v.reload().then(function(){return v})}function LN(i,a,c,p){var v=i.h,_={};return _[Tr]=v.b&&v.b.toString(),_.refreshToken=v.a,a=new er(a||{apiKey:i.l,authDomain:i.s,appName:i.m},_),c&&(a.ha=c),p&&vu(a,p),Gc(a,i),a}function MN(i){this.a=i,this.b=mu()}var kg={name:"redirectUser",F:"session"};function Kw(i){return ks(i.b,kg,i.a)}function FN(i,a){return i.b.get(kg,i.a).then(function(c){return c&&a&&(c.authDomain=a),Hw(c||{})})}function Cg(i){this.a=i,this.b=mu(),this.c=null,this.f=VN(this),this.b.addListener(qr("local"),this.a,V(this.g,this))}Cg.prototype.g=function(){var i=this,a=qr("local");Os(this,function(){return Te().then(function(){return i.c&&i.c.F!="local"?i.b.get(a,i.a):null}).then(function(c){if(c)return Og(i,"local").then(function(){i.c=a})})})};function Og(i,a){var c=[],p;for(p in As)As[p]!==a&&c.push(ks(i.b,qr(As[p]),i.a));return c.push(ks(i.b,Pg,i.a)),xC(c)}function VN(i){var a=qr("local"),c=qr("session"),p=qr("none");return ZP(i.b,a,i.a).then(function(){return i.b.get(c,i.a)}).then(function(v){return v?c:i.b.get(p,i.a).then(function(_){return _?p:i.b.get(a,i.a).then(function(S){return S?a:i.b.get(Pg,i.a).then(function(I){return I?qr(I):a})})})}).then(function(v){return i.c=v,Og(i,v.F)}).o(function(){i.c||(i.c=a)})}var Pg={name:"persistence",F:"session"};function qr(i){return{name:"authUser",F:i}}Cg.prototype.yb=function(i){var a=null,c=this;return JP(i),Os(this,function(){return i!=c.c.F?c.b.get(c.c,c.a).then(function(p){return a=p,Og(c,i)}).then(function(){if(c.c=qr(i),a)return c.b.set(c.c,a,c.a)}):Te()})};function jN(i){return Os(i,function(){return i.b.set(Pg,i.c.F,i.a)})}function Gw(i,a){return Os(i,function(){return i.b.set(i.c,a.w(),i.a)})}function Ww(i){return Os(i,function(){return ks(i.b,i.c,i.a)})}function zw(i,a,c){return Os(i,function(){return i.b.get(i.c,i.a).then(function(p){return p&&a&&(p.authDomain=a),p&&c&&(p.emulatorConfig=c),Hw(p||{})})})}function Os(i,a){return i.f=i.f.then(a,a),i.f}function Ir(i){if(this.l=!1,ge(this,"settings",new kw),ge(this,"app",i),ct(this).options&&ct(this).options.apiKey)i=xe.SDK_VERSION?bs(xe.SDK_VERSION):null,this.a=new Er(ct(this).options&&ct(this).options.apiKey,Ke(ae),i);else throw new C("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=xe.INTERNAL.createSubscribe(V(this.zc,this)),this.W=void 0,this.ib=xe.INTERNAL.createSubscribe(V(this.Ac,this)),Ps(this,null),this.i=new Cg(ct(this).options.apiKey+":"+ct(this).name),this.D=new MN(ct(this).options.apiKey+":"+ct(this).name),this.$=Nt(this,KN(this)),this.h=Nt(this,GN(this)),this.ba=!1,this.ja=V(this.Zc,this),this.Ba=V(this.da,this),this.qa=V(this.mc,this),this.za=V(this.wc,this),this.Aa=V(this.xc,this),this.b=null,$N(this),this.INTERNAL={},this.INTERNAL.delete=V(this.delete,this),this.INTERNAL.logFramework=V(this.Gc,this),this.u=0,Tn.call(this),BN(this),this.J=[],this.R=null}G(Ir,Tn);function Xw(i){Mn.call(this,"languageCodeChanged"),this.h=i}G(Xw,Mn);function Yw(i){Mn.call(this,"emulatorConfigChanged"),this.c=i}G(Yw,Mn);function Qw(i){Mn.call(this,"frameworkChanged"),this.f=i}G(Qw,Mn),e=Ir.prototype,e.yb=function(i){return i=this.i.yb(i),Nt(this,i)},e.xa=function(i){this.aa===i||this.l||(this.aa=i,P_(this.a,this.aa),this.dispatchEvent(new Xw(this.la())))},e.la=function(){return this.aa},e.fd=function(){var i=f.navigator;this.xa(i&&(i.languages&&i.languages[0]||i.language||i.userLanguage)||null)},e.gd=function(i,a){if(!this.R){if(!/^https?:\/\//.test(i))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");a=a?!!a.disableWarnings:!1,UN(a),this.R={url:i,ec:a},this.settings.jb=!0,Rc(this.a,this.R),this.dispatchEvent(new Yw(this.R))}};function UN(i){typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),f.document&&!i&&cc().then(function(){var a=f.document.createElement("div");a.innerText="Running in emulator mode. Do not use with production credentials.",a.style.position="fixed",a.style.width="100%",a.style.backgroundColor="#ffffff",a.style.border=".1em solid #000000",a.style.color="#b50000",a.style.bottom="0px",a.style.left="0px",a.style.margin="0px",a.style.zIndex=1e4,a.style.textAlign="center",a.classList.add("firebase-emulator-warning"),f.document.body.appendChild(a)})}e.Gc=function(i){this.J.push(i),N_(this.a,xe.SDK_VERSION?bs(xe.SDK_VERSION,this.J):null),this.dispatchEvent(new Qw(this.J))},e.Ga=function(){return ie(this.J)},e.zb=function(i){this.S===i||this.l||(this.S=i,this.a.b=this.S)},e.T=function(){return this.S};function BN(i){Object.defineProperty(i,"lc",{get:function(){return this.la()},set:function(a){this.xa(a)},enumerable:!1}),i.aa=null,Object.defineProperty(i,"ti",{get:function(){return this.T()},set:function(a){this.zb(a)},enumerable:!1}),i.S=null,Object.defineProperty(i,"emulatorConfig",{get:function(){if(this.R){var a=Fn(this.R.url);a=Ur({protocol:a.c,host:a.a,port:a.g,options:Ur({disableWarnings:this.R.ec})})}else a=null;return a},enumerable:!1})}e.toJSON=function(){return{apiKey:ct(this).options.apiKey,authDomain:ct(this).options.authDomain,appName:ct(this).name,currentUser:Be(this)&&Be(this).w()}};function Ng(i){return i.Oa||St(new C("auth-domain-config-required"))}function $N(i){var a=ct(i).options.authDomain,c=ct(i).options.apiKey;a&&po()&&(i.Oa=i.$.then(function(){if(!i.l){if(i.b=ag(a,c,ct(i).name,i.R),Bc(i.b,i),Be(i)&&yu(Be(i)),i.m){yu(i.m);var p=i.m;p.xa(i.la()),yg(p,i),p=i.m,vu(p,i.J),_g(p,i),p=i.m,vg(p,i.R),bg(p,i),i.m=null}return i.b}}))}e.Gb=function(i,a){switch(i){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==a&&!!this.f;default:return!1}},e.na=function(i,a,c,p){i=="signInViaPopup"&&this.g==p&&(c&&this.C?this.C(c):a&&!c&&this.f&&this.f(a),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(i,a){return i=="signInViaRedirect"||i=="signInViaPopup"&&this.g==a&&this.f?V(this.ic,this):null},e.ic=function(i,a,c,p){var v=this,_={requestUri:i,postBody:p,sessionId:a,tenantId:c};return this.c&&(this.c.cancel(),this.c=null),v.$.then(function(){return Ao(v,Lp(v.a,_))})},e.Xc=function(i){if(!po())return St(new C("operation-not-supported-in-this-environment"));var a=this,c=lp(i.providerId),p=go(),v=null;(!Xa()||Gd())&&ct(this).options.authDomain&&i.isOAuthProvider&&(v=hu(ct(this).options.authDomain,ct(this).options.apiKey,ct(this).name,"signInViaPopup",i,null,p,xe.SDK_VERSION||null,null,null,this.T(),this.R));var _=Ob(v,c&&c.va,c&&c.ua);return c=Ng(this).then(function(S){return ww(S,_,"signInViaPopup",i,p,!!v,a.T())}).then(function(){return new We(function(S,I){a.na("signInViaPopup",null,new C("cancelled-popup-request"),a.g),a.f=S,a.C=I,a.g=p,a.c=Ew(a.b,a,"signInViaPopup",_,p)})}).then(function(S){return _&&ho(_),S?Ur(S):null}).o(function(S){throw _&&ho(_),S}),Nt(this,c)},e.Yc=function(i){if(!po())return St(new C("operation-not-supported-in-this-environment"));var a=this,c=Ng(this).then(function(){return jN(a.i)}).then(function(){return Sw(a.b,"signInViaRedirect",i,void 0,a.T())});return Nt(this,c)};function Jw(i){if(!po())return St(new C("operation-not-supported-in-this-environment"));var a=Ng(i).then(function(){return i.b.ra()}).then(function(c){return c?Ur(c):null});return Nt(i,a)}e.ra=function(){var i=this;return Jw(this).then(function(a){return i.b&&qc(i.b.b),a}).o(function(a){throw i.b&&qc(i.b.b),a})},e.dd=function(i){if(!i)return St(new C("null-user"));if(this.S!=i.tenantId)return St(new C("tenant-id-mismatch"));var a=this,c={};c.apiKey=ct(this).options.apiKey,c.authDomain=ct(this).options.authDomain,c.appName=ct(this).name;var p=LN(i,c,a.D,a.Ga());return Nt(this,this.h.then(function(){if(ct(a).options.apiKey!=i.l)return p.reload()}).then(function(){return Be(a)&&i.uid==Be(a).uid?(Gc(Be(a),i),a.da(i)):(Ps(a,p),yu(p),a.da(p))}).then(function(){_u(a)}))};function qN(i,a){var c={};return c.apiKey=ct(i).options.apiKey,c.authDomain=ct(i).options.authDomain,c.appName=ct(i).name,i.R&&(c.emulatorConfig=i.R),i.$.then(function(){return DN(c,a,i.D,i.Ga())}).then(function(p){return Be(i)&&p.uid==Be(i).uid?(Gc(Be(i),p),i.da(p)):(Ps(i,p),yu(p),i.da(p))}).then(function(){_u(i)})}function Ps(i,a){Be(i)&&(ON(Be(i),i.Ba),Jn(Be(i),"tokenChanged",i.qa),Jn(Be(i),"userDeleted",i.za),Jn(Be(i),"userInvalidated",i.Aa),Sg(Be(i))),a&&(a.W.push(i.Ba),cr(a,"tokenChanged",i.qa),cr(a,"userDeleted",i.za),cr(a,"userInvalidated",i.Aa),0<i.u&&Mw(a)),ge(i,"currentUser",a),a&&(a.xa(i.la()),yg(a,i),vu(a,i.J),_g(a,i),vg(a,i.R),bg(a,i))}e.Bb=function(){var i=this,a=this.h.then(function(){return i.b&&qc(i.b.b),Be(i)?(Ps(i,null),Ww(i.i).then(function(){_u(i)})):Te()});return Nt(this,a)};function HN(i){var a=FN(i.D,ct(i).options.authDomain).then(function(c){return(i.m=c)&&(c.ha=i.D),Kw(i.D)});return Nt(i,a)}function KN(i){var a=ct(i).options.authDomain,c=HN(i).then(function(){return zw(i.i,a,i.R)}).then(function(p){return p?(p.ha=i.D,i.m&&(i.m.ga||null)==(p.ga||null)?p:p.reload().then(function(){return Gw(i.i,p).then(function(){return p})}).o(function(v){return v.code=="auth/network-request-failed"?p:Ww(i.i)})):null}).then(function(p){Ps(i,p||null)});return Nt(i,c)}function GN(i){return i.$.then(function(){return Jw(i)}).o(function(){}).then(function(){if(!i.l)return i.ja()}).o(function(){}).then(function(){if(!i.l){i.ba=!0;var a=i.i;a.b.addListener(qr("local"),a.a,i.ja)}})}e.Zc=function(){var i=this;return zw(this.i,ct(this).options.authDomain).then(function(a){if(!i.l){var c;if(c=Be(i)&&a){c=Be(i).uid;var p=a.uid;c=c==null||c===""||p===void 0||p===null||p===""?!1:c==p}if(c)return Gc(Be(i),a),Be(i).I();(Be(i)||a)&&(Ps(i,a),a&&(yu(a),a.ha=i.D),i.b&&Bc(i.b,i),_u(i))}})},e.da=function(i){return Gw(this.i,i)},e.mc=function(){_u(this),this.da(Be(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()};function Ao(i,a){var c=null,p=null;return Nt(i,a.then(function(v){return c=gp(v),p=n_(v),qN(i,v)},function(v){var _=null;throw v&&v.code==="auth/multi-factor-auth-required"&&(_=Pw(v.w(),i,V(i.kc,i))),_||v}).then(function(){return Ur({user:Be(i),credential:c,additionalUserInfo:p,operationType:"signIn"})}))}e.kc=function(i){var a=this;return this.h.then(function(){return Ao(a,Te(i))})},e.zc=function(i){var a=this;this.addAuthTokenListener(function(){i.next(Be(a))})},e.Ac=function(i){var a=this;WN(this,function(){i.next(Be(a))})},e.Ic=function(i,a,c){var p=this;return this.ba&&Promise.resolve().then(function(){typeof i=="function"?i(Be(p)):typeof i.next=="function"&&i.next(Be(p))}),this.Pa(i,a,c)},e.Hc=function(i,a,c){var p=this;return this.ba&&Promise.resolve().then(function(){p.W=p.getUid(),typeof i=="function"?i(Be(p)):typeof i.next=="function"&&i.next(Be(p))}),this.ib(i,a,c)},e.nc=function(i){var a=this,c=this.h.then(function(){return Be(a)?Be(a).I(i).then(function(p){return{accessToken:p}}):null});return Nt(this,c)},e.Tc=function(i){var a=this;return this.h.then(function(){return Ao(a,Ye(a.a,xP,{token:i}))}).then(function(c){var p=c.user;return xi(p,"isAnonymous",!1),a.da(p),c})},e.Uc=function(i,a){var c=this;return this.h.then(function(){return Ao(c,Ye(c.a,B_,{email:i,password:a}))})},e.dc=function(i,a){var c=this;return this.h.then(function(){return Ao(c,Ye(c.a,iP,{email:i,password:a}))})},e.ab=function(i){var a=this;return this.h.then(function(){return Ao(a,i.ka(a.a))})},e.Sc=function(i){return Yd("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(i)},e.Ab=function(){var i=this;return this.h.then(function(){var a=Be(i);if(a&&a.isAnonymous){var c=Ur({providerId:null,isNewUser:!1});return Ur({user:a,credential:null,additionalUserInfo:c,operationType:"signIn"})}return Ao(i,i.a.Ab()).then(function(p){var v=p.user;return xi(v,"isAnonymous",!0),i.da(v),p})})};function ct(i){return i.app}function Be(i){return i.currentUser}e.getUid=function(){return Be(this)&&Be(this).uid||null};function zc(i){return Be(i)&&Be(i)._lat||null}function _u(i){if(i.ba){for(var a=0;a<i.s.length;a++)i.s[a]&&i.s[a](zc(i));if(i.W!==i.getUid()&&i.N.length)for(i.W=i.getUid(),a=0;a<i.N.length;a++)i.N[a]&&i.N[a](zc(i))}}e.cc=function(i){this.addAuthTokenListener(i),this.u++,0<this.u&&Be(this)&&Mw(Be(this))},e.Pc=function(i){var a=this;q(this.s,function(c){c==i&&a.u--}),0>this.u&&(this.u=0),this.u==0&&Be(this)&&Sg(Be(this)),this.removeAuthTokenListener(i)},e.addAuthTokenListener=function(i){var a=this;this.s.push(i),Nt(this,this.h.then(function(){a.l||R(a.s,i)&&i(zc(a))}))},e.removeAuthTokenListener=function(i){B(this.s,function(a){return a==i})};function WN(i,a){i.N.push(a),Nt(i,i.h.then(function(){!i.l&&R(i.N,a)&&i.W!==i.getUid()&&(i.W=i.getUid(),a(zc(i)))}))}e.delete=function(){this.l=!0;for(var i=0;i<this.P.length;i++)this.P[i].cancel("app-deleted");return this.P=[],this.i&&(i=this.i,i.b.removeListener(qr("local"),i.a,this.ja)),this.b&&(ig(this.b,this),qc(this.b.b)),Promise.resolve()};function Nt(i,a){return i.P.push(a),a.oa(function(){U(i.P,a)}),a}e.hc=function(i){return Nt(this,XO(this.a,i))},e.Bc=function(i){return!!pp(i)},e.xb=function(i,a){var c=this;return Nt(this,Te().then(function(){var p=new dc(a);if(!p.c)throw new C("argument-error",ap+" must be true when sending sign in link to email");return pc(p)}).then(function(p){return c.a.xb(i,p)}).then(function(){}))},e.jd=function(i){return this.Sa(i).then(function(a){return a.data.email})},e.ob=function(i,a){return Nt(this,this.a.ob(i,a).then(function(){}))},e.Sa=function(i){return Nt(this,this.a.Sa(i).then(function(a){return new sO(a)}))},e.kb=function(i){return Nt(this,this.a.kb(i).then(function(){}))},e.wb=function(i,a){var c=this;return Nt(this,Te().then(function(){return typeof a>"u"||Ue(a)?{}:pc(new dc(a))}).then(function(p){return c.a.wb(i,p)}).then(function(){}))},e.Wc=function(i,a){return Nt(this,lg(this,i,a,V(this.ab,this)))},e.Vc=function(i,a){var c=this;return Nt(this,Te().then(function(){var p=a||za(),v=p_(i,p);if(p=pp(p),!p)throw new C("argument-error","Invalid email link!");if(p.tenantId!==c.T())throw new C("tenant-id-mismatch");return c.ab(v)}))};function wu(){}wu.prototype.render=function(){},wu.prototype.reset=function(){},wu.prototype.getResponse=function(){},wu.prototype.execute=function(){};function Ns(){this.a={},this.b=1e12}var Rg=null;Ns.prototype.render=function(i,a){return this.a[this.b.toString()]=new Xc(i,a),this.b++},Ns.prototype.reset=function(i){var a=Dg(this,i);i=Zw(i),a&&i&&(a.delete(),delete this.a[i])},Ns.prototype.getResponse=function(i){return(i=Dg(this,i))?i.getResponse():null},Ns.prototype.execute=function(i){(i=Dg(this,i))&&i.execute()};function Dg(i,a){return(a=Zw(a))&&i.a[a]||null}function Zw(i){return(i=typeof i>"u"?1e12:i)?i.toString():null}function Xc(i,a){this.g=!1,this.c=a,this.a=this.b=null,this.h=this.c.size!=="invisible",this.f=Ba(i);var c=this;this.i=function(){c.execute()},this.h?this.execute():cr(this.f,"click",this.i)}Xc.prototype.getResponse=function(){return Lg(this),this.b},Xc.prototype.execute=function(){Lg(this);var i=this;this.a||(this.a=setTimeout(function(){i.b=eO();var a=i.c.callback,c=i.c["expired-callback"];if(a)try{a(i.b)}catch{}i.a=setTimeout(function(){if(i.a=null,i.b=null,c)try{c()}catch{}i.h&&i.execute()},6e4)},500))},Xc.prototype.delete=function(){Lg(this),this.g=!0,clearTimeout(this.a),this.a=null,Jn(this.f,"click",this.i)};function Lg(i){if(i.g)throw Error("reCAPTCHA mock was already deleted!")}function Mg(){}ge(Mg,"FACTOR_ID","phone");function Fg(){}Fg.prototype.g=function(){return Rg||(Rg=new Ns),Te(Rg)},Fg.prototype.c=function(){};var Vg=null;function jg(){this.b=f.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var zN=new hn(Ql,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),XN=new Ti(3e4,6e4);jg.prototype.g=function(i){var a=this;return new We(function(c,p){var v=setTimeout(function(){p(new C("network-request-failed"))},XN.get());if(!f.grecaptcha||i!==a.f&&!a.b){f[a.a]=function(){if(f.grecaptcha){a.f=i;var S=f.grecaptcha.render;f.grecaptcha.render=function(I,j){return I=S(I,j),a.b++,I},clearTimeout(v),c(f.grecaptcha)}else clearTimeout(v),p(new C("internal-error"));delete f[a.a]};var _=_d(zN,{onload:a.a,hl:i||""});Te(kp(_)).o(function(){clearTimeout(v),p(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(v),c(f.grecaptcha)})},jg.prototype.c=function(){this.b--};var Ug=null;function Bg(i,a,c,p,v,_,S){if(ge(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=a,this.g=null,S?(Vg||(Vg=new Fg),S=Vg):(Ug||(Ug=new jg),S=Ug),this.m=S,this.a=c||{theme:"light",type:"image"},this.h=[],this.a[n1])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i=this.a[YN]==="invisible",!f.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Ba(a)||!this.i&&Ba(a).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Er(i,_||null,v||null),this.u=p||function(){return null};var I=this;this.l=[];var j=this.a[e1];this.a[e1]=function(Ne){if(r1(I,Ne),typeof j=="function")j(Ne);else if(typeof j=="string"){var ut=Et(j,f);typeof ut=="function"&&ut(Ne)}};var W=this.a[t1];this.a[t1]=function(){if(r1(I,null),typeof W=="function")W();else if(typeof W=="string"){var Ne=Et(W,f);typeof Ne=="function"&&Ne()}}}var e1="callback",t1="expired-callback",n1="sitekey",YN="size";function r1(i,a){for(var c=0;c<i.l.length;c++)try{i.l[c](a)}catch{}}function QN(i,a){B(i.l,function(c){return c==a})}function $g(i,a){return i.h.push(a),a.oa(function(){U(i.h,a)}),a}e=Bg.prototype,e.Ia=function(){var i=this;return this.f?this.f:this.f=$g(this,Te().then(function(){if(fc()&&!wr())return cc();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return i.m.g(i.u())}).then(function(a){return i.g=a,Ye(i.s,yP,{})}).then(function(a){i.a[n1]=a.recaptchaSiteKey}).o(function(a){throw i.f=null,a}))},e.render=function(){Yc(this);var i=this;return $g(this,this.Ia().then(function(){if(i.c===null){var a=i.v;if(!i.i){var c=Ba(a);a=EC("DIV"),c.appendChild(a)}i.c=i.g.render(a,i.a)}return i.c}))},e.verify=function(){Yc(this);var i=this;return $g(this,this.render().then(function(a){return new We(function(c){var p=i.g.getResponse(a);if(p)c(p);else{var v=function(_){_&&(QN(i,v),c(_))};i.l.push(v),i.i&&i.g.execute(i.c)}})}))},e.reset=function(){Yc(this),this.c!==null&&this.g.reset(this.c)};function Yc(i){if(i.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}e.clear=function(){Yc(this),this.J=!0,this.m.c();for(var i=0;i<this.h.length;i++)this.h[i].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){i=Ba(this.v);for(var a;a=i.firstChild;)i.removeChild(a)}};function qg(i,a,c){var p=!1;try{this.b=c||xe.app()}catch{throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)c=this.b.options.apiKey;else throw new C("invalid-api-key");var v=this,_=null;try{_=this.b.auth().Ga()}catch{}try{p=this.b.auth().settings.appVerificationDisabledForTesting}catch{}_=xe.SDK_VERSION?bs(xe.SDK_VERSION,_):null,Bg.call(this,c,i,a,function(){try{var S=v.b.auth().la()}catch{S=null}return S},_,Ke(ae),p)}G(qg,Bg);function i1(i,a,c,p){e:{c=Array.prototype.slice.call(c);for(var v=0,_=!1,S=0;S<a.length;S++)if(a[S].optional)_=!0;else{if(_)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");v++}if(_=a.length,c.length<v||_<c.length)p="Expected "+(v==_?v==1?"1 argument":v+" arguments":v+"-"+_+" arguments")+" but got "+c.length+".";else{for(v=0;v<c.length;v++)if(_=a[v].optional&&c[v]===void 0,!a[v].M(c[v])&&!_){if(a=a[v],0>v||v>=o1.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");c=o1[v],p=(p?"":c+" argument ")+(a.name?'"'+a.name+'" ':"")+"must be "+a.K+".";break e}p=null}}if(p)throw new C("argument-error",i+" failed: "+p)}var o1="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function de(i,a){return{name:i||"",K:"a valid string",optional:!!a,M:function(c){return typeof c=="string"}}}function Hg(i,a){return{name:i||"",K:"a boolean",optional:!!a,M:function(c){return typeof c=="boolean"}}}function Ut(i,a){return{name:i||"",K:"a valid object",optional:!!a,M:E}}function Rs(i,a){return{name:i||"",K:"a function",optional:!!a,M:function(c){return typeof c=="function"}}}function Hr(i,a){return{name:i||"",K:"null",optional:!!a,M:function(c){return c===null}}}function JN(){return{name:"",K:"an HTML element",optional:!1,M:function(i){return!!(i&&i instanceof Element)}}}function ZN(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(i){return!!(i&&i instanceof Ir)}}}function eR(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(i){return!!(i&&i instanceof xe.app.App)}}}function ki(i){return{name:i?i+"Credential":"credential",K:i?"a valid "+i+" credential":"a valid credential",optional:!1,M:function(a){if(!a)return!1;var c=!i||a.providerId===i;return!(!a.ka||!c)}}}function s1(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(i){return i?!!i.tb:!1}}}function Ds(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(i){return!!(i&&i.providerId&&i.hasOwnProperty&&i.hasOwnProperty("isOAuthProvider"))}}}function Kg(i,a){return E(i)&&typeof i.type=="string"&&i.type===a&&typeof i.Ha=="function"}function a1(i){return E(i)&&typeof i.uid=="string"}function Qc(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(i){return!(!i||typeof i.type!="string"||typeof i.verify!="function")}}}function Lt(i,a,c,p){return{name:c||"",K:i.K+" or "+a.K,optional:!!p,M:function(v){return i.M(v)||a.M(v)}}}function kt(i,a){for(var c in a){var p=a[c].name;i[p]=l1(p,i[c],a[c].j)}}function u1(i,a){for(var c in a){var p=a[c].name;p!==c&&Object.defineProperty(i,p,{get:fe(function(v){return this[v]},c),set:fe(function(v,_,S,I){i1(v,[S],[I],!0),this[_]=I},p,c,a[c].lb),enumerable:!0})}}function Mt(i,a,c,p){i[a]=l1(a,c,p)}function l1(i,a,c){function p(){var S=Array.prototype.slice.call(arguments);return i1(v,c,S),a.apply(this,S)}if(!c)return a;var v=tR(i),_;for(_ in a)p[_]=a[_];for(_ in a.prototype)p.prototype[_]=a.prototype[_];return p}function tR(i){return i=i.split("."),i[i.length-1]}kt(Ir.prototype,{kb:{name:"applyActionCode",j:[de("code")]},Sa:{name:"checkActionCode",j:[de("code")]},ob:{name:"confirmPasswordReset",j:[de("code"),de("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[de("email"),de("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[de("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[de("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Lt(Ut(),Rs(),"nextOrObserver"),Rs("opt_error",!0),Rs("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Lt(Ut(),Rs(),"nextOrObserver"),Rs("opt_error",!0),Rs("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[de("email"),Lt(Ut("opt_actionCodeSettings",!0),Hr(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[de("email"),Ut("actionCodeSettings")]},yb:{name:"setPersistence",j:[de("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ki()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ki()]},Tc:{name:"signInWithCustomToken",j:[de("token")]},Uc:{name:"signInWithEmailAndPassword",j:[de("email"),de("password")]},Vc:{name:"signInWithEmailLink",j:[de("email"),de("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[de("phoneNumber"),Qc()]},Xc:{name:"signInWithPopup",j:[Ds()]},Yc:{name:"signInWithRedirect",j:[Ds()]},dd:{name:"updateCurrentUser",j:[Lt(function(i){return{name:"user",K:"an instance of Firebase User",optional:!!i,M:function(a){return!!(a&&a instanceof er)}}}(),Hr(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[de(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[de("url"),Ut("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[de("code")]}}),u1(Ir.prototype,{lc:{name:"languageCode",lb:Lt(de(),Hr(),"languageCode")},ti:{name:"tenantId",lb:Lt(de(),Hr(),"tenantId")}}),Ir.Persistence=As,Ir.Persistence.LOCAL="local",Ir.Persistence.SESSION="session",Ir.Persistence.NONE="none",kt(er.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Hg("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Hg("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ki()]},rb:{name:"linkWithCredential",j:[ki()]},Dc:{name:"linkWithPhoneNumber",j:[de("phoneNumber"),Qc()]},Ec:{name:"linkWithPopup",j:[Ds()]},Fc:{name:"linkWithRedirect",j:[Ds()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ki()]},ub:{name:"reauthenticateWithCredential",j:[ki()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[de("phoneNumber"),Qc()]},Nc:{name:"reauthenticateWithPopup",j:[Ds()]},Oc:{name:"reauthenticateWithRedirect",j:[Ds()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[Lt(Ut("opt_actionCodeSettings",!0),Hr(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[de(null,!0)]},cd:{name:"unlink",j:[de("provider")]},Cb:{name:"updateEmail",j:[de("email")]},Db:{name:"updatePassword",j:[de("password")]},ed:{name:"updatePhoneNumber",j:[ki("phone")]},Eb:{name:"updateProfile",j:[Ut("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[de("email"),Lt(Ut("opt_actionCodeSettings",!0),Hr(null,!0),"opt_actionCodeSettings",!0)]}}),kt(Ns.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kt(wu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),kt(We.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),u1(kw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Hg("appVerificationDisabledForTesting")}}),kt(ug.prototype,{confirm:{name:"confirm",j:[de("verificationCode")]}}),Mt(Ss,"fromJSON",function(i){i=typeof i=="string"?JSON.parse(i):i;for(var a,c=[TO,IO,AO,EO],p=0;p<c.length;p++)if(a=c[p](i))return a;return null},[Lt(de(),Ut(),"json")]),Mt(hr,"credential",function(i,a){return new Ii(i,a)},[de("email"),de("password")]),kt(Ii.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),kt(yo.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(yo,"credential",c_,[Lt(de(),Ut(),"token")]),Mt(hr,"credentialWithLink",p_,[de("email"),de("emailLink")]),kt(bo.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(bo,"credential",f_,[Lt(de(),Ut(),"token")]),kt(_o.prototype,{Ca:{name:"addScope",j:[de("scope")]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(_o,"credential",h_,[Lt(de(),Lt(Ut(),Hr()),"idToken"),Lt(de(),Hr(),"accessToken",!0)]),kt(Ts.prototype,{Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),Mt(Ts,"credential",d_,[Lt(de(),Ut(),"token"),de("secret",!0)]),kt(Zn.prototype,{Ca:{name:"addScope",j:[de("scope")]},credential:{name:"credential",j:[Lt(de(),Lt(Ut(),Hr()),"optionsOrIdToken"),Lt(de(),Hr(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ut("customOAuthParameters")]}}),kt(ii.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),kt(mo.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),Mt(oi,"credential",g_,[de("verificationId"),de("verificationCode")]),kt(oi.prototype,{gb:{name:"verifyPhoneNumber",j:[Lt(de(),function(i,a){return{name:i||"phoneInfoOptions",K:"valid phone info options",optional:!!a,M:function(c){return c?c.session&&c.phoneNumber?Kg(c.session,tu)&&typeof c.phoneNumber=="string":c.session&&c.multiFactorHint?Kg(c.session,bc)&&a1(c.multiFactorHint):c.session&&c.multiFactorUid?Kg(c.session,bc)&&typeof c.multiFactorUid=="string":c.phoneNumber?typeof c.phoneNumber=="string":!1:!1}}}(),"phoneInfoOptions"),Qc()]}}),kt(Ai.prototype,{w:{name:"toJSON",j:[de(null,!0)]}}),kt(C.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),kt(ru.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),kt(yp.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),kt(fg.prototype,{toJSON:{name:"toJSON",j:[de(null,!0)]}}),kt(cg.prototype,{Rc:{name:"resolveSignIn",j:[s1()]}}),kt(dg.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[s1(),de("displayName",!0)]},bd:{name:"unenroll",j:[Lt({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:a1},de(),"multiFactorInfoIdentifier")]}}),kt(qg.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Mt(sp,"parseLink",Gb,[de("link")]),Mt(Mg,"assertion",function(i){return new Rw(i)},[ki("phone")]),function(){if(typeof xe<"u"&&xe.INTERNAL&&xe.INTERNAL.registerComponent){var i={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hc,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:op,VERIFY_AND_CHANGE_EMAIL:Za,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Ir,AuthCredential:Ss,Error:C};Mt(i,"EmailAuthProvider",hr,[]),Mt(i,"FacebookAuthProvider",yo,[]),Mt(i,"GithubAuthProvider",bo,[]),Mt(i,"GoogleAuthProvider",_o,[]),Mt(i,"TwitterAuthProvider",Ts,[]),Mt(i,"OAuthProvider",Zn,[de("providerId")]),Mt(i,"SAMLAuthProvider",l_,[de("providerId")]),Mt(i,"PhoneAuthProvider",oi,[ZN()]),Mt(i,"RecaptchaVerifier",qg,[Lt(de(),JN(),"recaptchaContainer"),Ut("recaptchaParameters",!0),eR()]),Mt(i,"ActionCodeURL",sp,[]),Mt(i,"PhoneMultiFactorGenerator",Mg,[]),xe.INTERNAL.registerComponent({name:"auth",instanceFactory:function(a){return a=a.getProvider("app").getImmediate(),new Ir(a)},multipleInstances:!1,serviceProps:i,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(a){a.getProvider("auth-internal").initialize()}}),xe.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(a){return a=a.getProvider("auth").getImmediate(),{getUid:V(a.getUid,a),getToken:V(a.nc,a),addAuthTokenListener:V(a.cc,a),removeAuthTokenListener:V(a.Pc,a)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),xe.registerVersion("@firebase/auth","0.16.8"),xe.INTERNAL.extendNamespace({User:er})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qm=function(e,t){return qm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},qm(e,t)};function OM(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qm(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function bI(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var PM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ce,ry=ry||{},Le=PM||self;function Vf(){}function Hm(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Pl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function NM(e){return Object.prototype.hasOwnProperty.call(e,tm)&&e[tm]||(e[tm]=++RM)}var tm="closure_uid_"+(1e9*Math.random()>>>0),RM=0;function DM(e,t,n){return e.call.apply(e.bind,arguments)}function LM(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),e.apply(t,o)}}return function(){return e.apply(t,arguments)}}function un(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?un=DM:un=LM,un.apply(null,arguments)}function sf(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function cn(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(r,o,s){for(var u=Array(arguments.length-2),l=2;l<arguments.length;l++)u[l-2]=arguments[l];return t.prototype[o].apply(r,u)}}function to(){this.s=this.s,this.o=this.o}var MM=0;to.prototype.s=!1;to.prototype.na=function(){!this.s&&(this.s=!0,this.M(),MM!=0)&&NM(this)};to.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var _I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},wI=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=typeof e=="string"?e.split(""):e,s=0;s<r;s++)s in o&&t.call(n,o[s],s,e)};function FM(e){e:{for(var t=k2,n=e.length,r=typeof e=="string"?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:typeof e=="string"?e.charAt(t):e[t]}function W1(e){return Array.prototype.concat.apply([],arguments)}function iy(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function jf(e){return/^[\s\xa0]*$/.test(e)}var z1=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function On(e,t){return e.indexOf(t)!=-1}function nm(e,t){return e<t?-1:e>t?1:0}var Pn;e:{var X1=Le.navigator;if(X1){var Y1=X1.userAgent;if(Y1){Pn=Y1;break e}}Pn=""}function oy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function SI(e){var t={};for(var n in e)t[n]=e[n];return t}var Q1="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EI(e,t){for(var n,r,o=1;o<arguments.length;o++){r=arguments[o];for(n in r)e[n]=r[n];for(var s=0;s<Q1.length;s++)n=Q1[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sy(e){return sy[" "](e),e}sy[" "]=Vf;function VM(e){var t=BM;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}var jM=On(Pn,"Opera"),aa=On(Pn,"Trident")||On(Pn,"MSIE"),TI=On(Pn,"Edge"),Km=TI||aa,II=On(Pn,"Gecko")&&!(On(Pn.toLowerCase(),"webkit")&&!On(Pn,"Edge"))&&!(On(Pn,"Trident")||On(Pn,"MSIE"))&&!On(Pn,"Edge"),UM=On(Pn.toLowerCase(),"webkit")&&!On(Pn,"Edge");function AI(){var e=Le.document;return e?e.documentMode:void 0}var Uf;e:{var rm="",im=function(){var e=Pn;if(II)return/rv:([^\);]+)(\)|;)/.exec(e);if(TI)return/Edge\/([\d\.]+)/.exec(e);if(aa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(UM)return/WebKit\/(\S+)/.exec(e);if(jM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(im&&(rm=im?im[1]:""),aa){var om=AI();if(om!=null&&om>parseFloat(rm)){Uf=String(om);break e}}Uf=rm}var BM={};function $M(){return VM(function(){for(var e=0,t=z1(String(Uf)).split("."),n=z1("9").split("."),r=Math.max(t.length,n.length),o=0;e==0&&o<r;o++){var s=t[o]||"",u=n[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],s[0].length==0&&u[0].length==0)break;e=nm(s[1].length==0?0:parseInt(s[1],10),u[1].length==0?0:parseInt(u[1],10))||nm(s[2].length==0,u[2].length==0)||nm(s[2],u[2]),s=s[3],u=u[3]}while(e==0)}return 0<=e})}var Gm;if(Le.document&&aa){var J1=AI();Gm=J1||parseInt(Uf,10)||void 0}else Gm=void 0;var qM=Gm,HM=function(){if(!Le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Le.addEventListener("test",Vf,t),Le.removeEventListener("test",Vf,t)}catch{}return e}();function wn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}wn.prototype.h=function(){this.defaultPrevented=!0};function rl(e,t){if(wn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(II){e:{try{sy(t.nodeName);var o=!0;break e}catch{}o=!1}o||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:KM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&rl.Z.h.call(this)}}cn(rl,wn);var KM={2:"touch",3:"pen",4:"mouse"};rl.prototype.h=function(){rl.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Nl="closure_listenable_"+(1e6*Math.random()|0),GM=0;function WM(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++GM,this.ca=this.fa=!1}function Lh(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Mh(e){this.src=e,this.g={},this.h=0}Mh.prototype.add=function(e,t,n,r,o){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var u=zm(e,t,r,o);return-1<u?(t=e[u],n||(t.fa=!1)):(t=new WM(t,this.src,s,!!r,o),t.fa=n,e.push(t)),t};function Wm(e,t){var n=t.type;if(n in e.g){var r=e.g[n],o=_I(r,t),s;(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(Lh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function zm(e,t,n,r){for(var o=0;o<e.length;++o){var s=e[o];if(!s.ca&&s.listener==t&&s.capture==!!n&&s.ia==r)return o}return-1}var ay="closure_lm_"+(1e6*Math.random()|0),sm={};function xI(e,t,n,r,o){if(r&&r.once)return CI(e,t,n,r,o);if(Array.isArray(t)){for(var s=0;s<t.length;s++)xI(e,t[s],n,r,o);return null}return n=cy(n),e&&e[Nl]?e.N(t,n,Pl(r)?!!r.capture:!!r,o):kI(e,t,n,!1,r,o)}function kI(e,t,n,r,o,s){if(!t)throw Error("Invalid event type");var u=Pl(o)?!!o.capture:!!o,l=ly(e);if(l||(e[ay]=l=new Mh(e)),n=l.add(t,n,r,u,s),n.proxy)return n;if(r=zM(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)HM||(o=u),o===void 0&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(PI(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zM(){function e(n){return t.call(e.src,e.listener,n)}var t=XM;return e}function CI(e,t,n,r,o){if(Array.isArray(t)){for(var s=0;s<t.length;s++)CI(e,t[s],n,r,o);return null}return n=cy(n),e&&e[Nl]?e.O(t,n,Pl(r)?!!r.capture:!!r,o):kI(e,t,n,!0,r,o)}function OI(e,t,n,r,o){if(Array.isArray(t))for(var s=0;s<t.length;s++)OI(e,t[s],n,r,o);else r=Pl(r)?!!r.capture:!!r,n=cy(n),e&&e[Nl]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=zm(s,n,r,o),-1<n&&(Lh(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=ly(e))&&(t=e.g[t.toString()],e=-1,t&&(e=zm(t,n,r,o)),(n=-1<e?t[e]:null)&&uy(n))}function uy(e){if(typeof e!="number"&&e&&!e.ca){var t=e.src;if(t&&t[Nl])Wm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(PI(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ly(t))?(Wm(n,e),n.h==0&&(n.src=null,t[ay]=null)):Lh(e)}}}function PI(e){return e in sm?sm[e]:sm[e]="on"+e}function XM(e,t){if(e.ca)e=!0;else{t=new rl(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&uy(e),e=n.call(r,t)}return e}function ly(e){return e=e[ay],e instanceof Mh?e:null}var am="__closure_events_fn_"+(1e9*Math.random()>>>0);function cy(e){return typeof e=="function"?e:(e[am]||(e[am]=function(t){return e.handleEvent(t)}),e[am])}function nn(){to.call(this),this.i=new Mh(this),this.P=this,this.I=null}cn(nn,to);nn.prototype[Nl]=!0;nn.prototype.removeEventListener=function(e,t,n,r){OI(this,e,t,n,r)};function ln(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,typeof t=="string")t=new wn(t,e);else if(t instanceof wn)t.target=t.target||e;else{var o=t;t=new wn(r,e),EI(t,o)}if(o=!0,n)for(var s=n.length-1;0<=s;s--){var u=t.g=n[s];o=af(u,r,!0,t)&&o}if(u=t.g=e,o=af(u,r,!0,t)&&o,o=af(u,r,!1,t)&&o,n)for(s=0;s<n.length;s++)u=t.g=n[s],o=af(u,r,!1,t)&&o}nn.prototype.M=function(){if(nn.Z.M.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Lh(n[r]);delete e.g[t],e.h--}}this.I=null};nn.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};nn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function af(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var o=!0,s=0;s<t.length;++s){var u=t[s];if(u&&!u.ca&&u.capture==n){var l=u.listener,f=u.ia||u.src;u.fa&&Wm(e.i,u),o=l.call(f,r)!==!1&&o}}return o&&!r.defaultPrevented}var fy=Le.JSON.stringify;function YM(){var e=RI,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var QM=function(){function e(){this.h=this.g=null}return e.prototype.add=function(t,n){var r=NI.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r},e}(),NI=new(function(){function e(t,n){this.i=t,this.j=n,this.h=0,this.g=null}return e.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},e}())(function(){return new JM},function(e){return e.reset()}),JM=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(t,n){this.h=t,this.g=n,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function ZM(e){Le.setTimeout(function(){throw e},0)}function hy(e,t){Xm||e2(),Ym||(Xm(),Ym=!0),RI.add(e,t)}var Xm;function e2(){var e=Le.Promise.resolve(void 0);Xm=function(){e.then(t2)}}var Ym=!1,RI=new QM;function t2(){for(var e;e=YM();){try{e.h.call(e.g)}catch(n){ZM(n)}var t=NI;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ym=!1}function Fh(e,t){nn.call(this),this.h=e||1,this.g=t||Le,this.j=un(this.kb,this),this.l=Date.now()}cn(Fh,nn);ce=Fh.prototype;ce.da=!1;ce.S=null;ce.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ln(this,"tick"),this.da&&(dy(this),this.start()))}};ce.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dy(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}ce.M=function(){Fh.Z.M.call(this),dy(this),delete this.g};function py(e,t,n){if(typeof e=="function")n&&(e=un(e,n));else if(e&&typeof e.handleEvent=="function")e=un(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Le.setTimeout(e,t||0)}function DI(e){e.g=py(function(){e.g=null,e.i&&(e.i=!1,DI(e))},e.j);var t=e.h;e.h=null,e.m.apply(null,t)}var n2=function(e){OM(t,e);function t(n,r){var o=e.call(this)||this;return o.m=n,o.j=r,o.h=null,o.i=!1,o.g=null,o}return t.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:DI(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(to);function il(e){to.call(this),this.h=e,this.g={}}cn(il,to);var Z1=[];function LI(e,t,n,r){Array.isArray(n)||(n&&(Z1[0]=n.toString()),n=Z1);for(var o=0;o<n.length;o++){var s=xI(t,n[o],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function MI(e){oy(e.g,function(t,n){this.g.hasOwnProperty(n)&&uy(t)},e),e.g={}}il.prototype.M=function(){il.Z.M.call(this),MI(this)};il.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Vh(){this.g=!0}Vh.prototype.Aa=function(){this.g=!1};function r2(e,t,n,r,o,s){e.info(function(){if(e.g)if(s)for(var u="",l=s.split("&"),f=0;f<l.length;f++){var d=l[f].split("=");if(1<d.length){var m=d[0];d=d[1];var h=m.split("_");u=2<=h.length&&h[1]=="type"?u+(m+"="+d+"&"):u+(m+"=redacted&")}}else u=null;else u=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+`
`+n+`
`+u})}function i2(e,t,n,r,o,s,u){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+`
`+n+`
`+s+" "+u})}function Hs(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+s2(e,n)+(r?" "+r:"")})}function o2(e,t){e.info(function(){return"TIMEOUT: "+t})}Vh.prototype.info=function(){};function s2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if(s!="noop"&&s!="stop"&&s!="close")for(var u=1;u<o.length;u++)o[u]=""}}}}return fy(n)}catch{return t}}var rs={},eS=null;function jh(){return eS=eS||new nn}rs.Ma="serverreachability";function FI(e){wn.call(this,rs.Ma,e)}cn(FI,wn);function ol(e){var t=jh();ln(t,new FI(t))}rs.STAT_EVENT="statevent";function VI(e,t){wn.call(this,rs.STAT_EVENT,e),this.stat=t}cn(VI,wn);function Nn(e){var t=jh();ln(t,new VI(t,e))}rs.Na="timingevent";function jI(e,t){wn.call(this,rs.Na,e),this.size=t}cn(jI,wn);function Rl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return Le.setTimeout(function(){e()},t)}var Uh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},UI={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gy(){}gy.prototype.h=null;function tS(e){return e.h||(e.h=e.i())}function BI(){}var Dl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function my(){wn.call(this,"d")}cn(my,wn);function vy(){wn.call(this,"c")}cn(vy,wn);var Qm;function Bh(){}cn(Bh,gy);Bh.prototype.g=function(){return new XMLHttpRequest};Bh.prototype.i=function(){return{}};Qm=new Bh;function Ll(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new il(this),this.P=a2,e=Km?125:void 0,this.W=new Fh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $I}function $I(){this.i=null,this.g="",this.h=!1}var a2=45e3,Jm={},Bf={};ce=Ll.prototype;ce.setTimeout=function(e){this.P=e};function Zm(e,t,n){e.K=1,e.v=qh(mi(t)),e.s=n,e.U=!0,qI(e,null)}function qI(e,t){e.F=Date.now(),Ml(e),e.A=mi(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),YI(n.h,"t",r),e.C=0,n=e.l.H,e.h=new $I,e.g=mA(e.l,n?t:null,!e.s),0<e.O&&(e.L=new n2(un(e.Ia,e,e.g),e.O)),LI(e.V,e.g,"readystatechange",e.gb),t=e.H?SI(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ol(),r2(e.j,e.u,e.A,e.m,e.X,e.s)}ce.gb=function(e){e=e.target;var t=this.L;t&&ci(e)==3?t.l():this.Ia(e)};ce.Ia=function(e){try{if(e==this.g)e:{var t=ci(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(t!=3||Km||this.g&&(this.h.h||this.g.ga()||oS(this.g)))){this.I||t!=4||n==7||(n==8||0>=r?ol(3):ol(2)),$h(this);var o=this.g.ba();this.N=o;t:if(HI(this)){var s=oS(this.g);e="";var u=s.length,l=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fo(this),Vu(this);var f="";break t}this.h.i=new Le.TextDecoder}for(n=0;n<u;n++)this.h.h=!0,e+=this.h.i.decode(s[n],{stream:l&&n==u-1});s.splice(0,u),this.h.g+=e,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=o==200,i2(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){t:{if(this.g){var d,m=this.g;if((d=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!jf(d)){var h=d;break t}}h=null}if(o=h)Hs(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ev(this,o);else{this.i=!1,this.o=3,Nn(12),Fo(this),Vu(this);break e}}this.U?(KI(this,t,f),Km&&this.i&&t==3&&(LI(this.V,this.W,"tick",this.fb),this.W.start())):(Hs(this.j,this.m,f,null),ev(this,f)),t==4&&Fo(this),this.i&&!this.I&&(t==4?hA(this.l,this):(this.i=!1,Ml(this)))}else o==400&&0<f.indexOf("Unknown SID")?(this.o=3,Nn(12)):(this.o=0,Nn(13)),Fo(this),Vu(this)}}}catch{}finally{}};function HI(e){return e.g?e.u=="GET"&&e.K!=2&&e.l.Ba:!1}function KI(e,t,n){for(var r=!0,o;!e.I&&e.C<n.length;)if(o=u2(e,n),o==Bf){t==4&&(e.o=4,Nn(14),r=!1),Hs(e.j,e.m,null,"[Incomplete Response]");break}else if(o==Jm){e.o=4,Nn(15),Hs(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else Hs(e.j,e.m,o,null),ev(e,o);HI(e)&&o!=Bf&&o!=Jm&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Nn(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ay(t),t.L=!0,Nn(11))):(Hs(e.j,e.m,n,"[Invalid Chunked Response]"),Fo(e),Vu(e))}ce.fb=function(){if(this.g){var e=ci(this.g),t=this.g.ga();this.C<t.length&&($h(this),KI(this,e,t),this.i&&e!=4&&Ml(this))}};function u2(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?Bf:(n=Number(t.substring(n,r)),isNaN(n)?Jm:(r+=1,r+n>t.length?Bf:(t=t.substr(r,n),e.C=r+n,t)))}ce.cancel=function(){this.I=!0,Fo(this)};function Ml(e){e.Y=Date.now()+e.P,GI(e,e.P)}function GI(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Rl(un(e.eb,e),t)}function $h(e){e.B&&(Le.clearTimeout(e.B),e.B=null)}ce.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(o2(this.j,this.A),this.K!=2&&(ol(),Nn(17)),Fo(this),this.o=2,Vu(this)):GI(this,this.Y-e)};function Vu(e){e.l.G==0||e.I||hA(e.l,e)}function Fo(e){$h(e);var t=e.L;t&&typeof t.na=="function"&&t.na(),e.L=null,dy(e.W),MI(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ev(e,t){try{var n=e.l;if(n.G!=0&&(n.g==e||tv(n.i,e))){if(n.I=e.N,!e.J&&tv(n.i,e)&&n.G==3){try{var r=n.Ca.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<e.F)Kf(n),Gh(n);else break e;Iy(n),Nn(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&n.A==0&&!n.v&&(n.v=Rl(un(n.ab,n),6e3));if(1>=ZI(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Vo(n,11)}else if((e.J||n.g==e)&&Kf(n),!jf(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var s=o[t];if(n.U=s[0],s=s[1],n.G==2)if(s[0]=="c"){n.J=s[1],n.la=s[2];var u=s[3];u!=null&&(n.ma=u,n.h.info("VER="+n.ma));var l=s[4];l!=null&&(n.za=l,n.h.info("SVER="+n.za));var f=s[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var d=e.g;if(d){var m=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var h=r.i;!h.g&&(On(m,"spdy")||On(m,"quic")||On(m,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(_y(h,h.h),h.h=null))}if(r.D){var g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.sa=g,At(r.F,r.D,g))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var y=e;if(r.oa=gA(r,r.H?r.la:null,r.W),y.J){eA(r.i,y);var b=y,w=r.K;w&&b.setTimeout(w),b.B&&($h(b),Ml(b)),r.g=y}else cA(r);0<n.l.length&&Wh(n)}else s[0]!="stop"&&s[0]!="close"||Vo(n,7);else n.G==3&&(s[0]=="stop"||s[0]=="close"?s[0]=="stop"?Vo(n,7):Ty(n):s[0]!="noop"&&n.j&&n.j.wa(s),n.A=0)}}ol(4)}catch{}}function l2(e){if(e.R&&typeof e.R=="function")return e.R();if(typeof e=="string")return e.split("");if(Hm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function yy(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Hm(e)||typeof e=="string")wI(e,t,void 0);else{if(e.T&&typeof e.T=="function")var n=e.T();else if(e.R&&typeof e.R=="function")n=void 0;else if(Hm(e)||typeof e=="string"){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;r=l2(e),o=r.length;for(var s=0;s<o;s++)t.call(void 0,r[s],n&&n[s],e)}}function Oa(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Oa)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}ce=Oa.prototype;ce.R=function(){by(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e};ce.T=function(){return by(this),this.g.concat()};function by(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Yo(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)r=e.g[t],Yo(o,r)||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}ce.get=function(e,t){return Yo(this.h,e)?this.h[e]:t};ce.set=function(e,t){Yo(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t};ce.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],s=this.get(o);e.call(t,s,o,this)}};function Yo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var WI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function c2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var s=e[n].substring(0,r);o=e[n].substring(r+1)}else s=e[n];t(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Qo(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Qo){this.g=t!==void 0?t:e.g,$f(this,e.j),this.s=e.s,qf(this,e.i),Hf(this,e.m),this.l=e.l,t=e.h;var n=new sl;n.i=t.i,t.g&&(n.g=new Oa(t.g),n.h=t.h),nS(this,n),this.o=e.o}else e&&(n=String(e).match(WI))?(this.g=!!t,$f(this,n[1]||"",!0),this.s=ju(n[2]||""),qf(this,n[3]||"",!0),Hf(this,n[4]),this.l=ju(n[5]||"",!0),nS(this,n[6]||"",!0),this.o=ju(n[7]||"")):(this.g=!!t,this.h=new sl(null,this.g))}Qo.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Nu(t,rS,!0),":");var n=this.i;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Nu(t,rS,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&e.push("/"),e.push(Nu(n,n.charAt(0)=="/"?g2:p2,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Nu(n,v2)),e.join("")};function mi(e){return new Qo(e)}function $f(e,t,n){e.j=n?ju(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qf(e,t,n){e.i=n?ju(t,!0):t}function Hf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function nS(e,t,n){t instanceof sl?(e.h=t,y2(e.h,e.g)):(n||(t=Nu(t,m2)),e.h=new sl(t,e.g))}function At(e,t,n){e.h.set(t,n)}function qh(e){return At(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function f2(e){return e instanceof Qo?mi(e):new Qo(e,void 0)}function h2(e,t,n,r){var o=new Qo(null,void 0);return e&&$f(o,e),t&&qf(o,t),n&&Hf(o,n),r&&(o.l=r),o}function ju(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Nu(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,d2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function d2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var rS=/[#\/\?@]/g,p2=/[#\?:]/g,g2=/[#\?]/g,m2=/[#\?@]/g,v2=/#/g;function sl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function no(e){e.g||(e.g=new Oa,e.h=0,e.i&&c2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}ce=sl.prototype;ce.add=function(e,t){no(this),this.i=null,e=Pa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function zI(e,t){no(e),t=Pa(e,t),Yo(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Yo(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&by(e)))}function XI(e,t){return no(e),t=Pa(e,t),Yo(e.g.h,t)}ce.forEach=function(e,t){no(this),this.g.forEach(function(n,r){wI(n,function(o){e.call(t,o,r,this)},this)},this)};ce.T=function(){no(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],s=0;s<o.length;s++)n.push(t[r]);return n};ce.R=function(e){no(this);var t=[];if(typeof e=="string")XI(this,e)&&(t=W1(t,this.g.get(Pa(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=W1(t,e[n])}return t};ce.set=function(e,t){return no(this),this.i=null,e=Pa(this,e),XI(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};ce.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t};function YI(e,t,n){zI(e,t),0<n.length&&(e.i=null,e.g.set(Pa(e,t),iy(n)),e.h+=n.length)}ce.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var u=o;r[s]!==""&&(u+="="+encodeURIComponent(String(r[s]))),e.push(u)}}return this.i=e.join("&")};function Pa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function y2(e,t){t&&!e.j&&(no(e),e.i=null,e.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(zI(this,r),YI(this,o,n))},e)),e.j=t}var b2=function(){function e(t,n){this.h=t,this.g=n}return e}();function QI(e){this.l=e||_2,Le.PerformanceNavigationTiming?(e=Le.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(Le.g&&Le.g.Ea&&Le.g.Ea()&&Le.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _2=10;function JI(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function ZI(e){return e.h?1:e.g?e.g.size:0}function tv(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function _y(e,t){e.g?e.g.add(t):e.h=t}function eA(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}QI.prototype.cancel=function(){var e,t;if(this.i=tA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){try{for(var n=bI(this.g.values()),r=n.next();!r.done;r=n.next()){var o=r.value;o.cancel()}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}};function tA(e){var t,n;if(e.h!=null)return e.i.concat(e.h.D);if(e.g!=null&&e.g.size!==0){var r=e.i;try{for(var o=bI(e.g.values()),s=o.next();!s.done;s=o.next()){var u=s.value;r=r.concat(u.D)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return iy(e.i)}function wy(){}wy.prototype.stringify=function(e){return Le.JSON.stringify(e,void 0)};wy.prototype.parse=function(e){return Le.JSON.parse(e,void 0)};function w2(){this.g=new wy}function S2(e,t,n){var r=n||"";try{yy(e,function(o,s){var u=o;Pl(o)&&(u=fy(o)),t.push(r+s+"="+encodeURIComponent(u))})}catch(o){throw t.push(r+"type="+encodeURIComponent("_badmap")),o}}function E2(e,t){var n=new Vh;if(Le.Image){var r=new Image;r.onload=sf(uf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=sf(uf,n,r,"TestLoadImage: error",!1,t),r.onabort=sf(uf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=sf(uf,n,r,"TestLoadImage: timeout",!1,t),Le.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function uf(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch{}}function Fl(e){this.l=e.$b||null,this.j=e.ib||!1}cn(Fl,gy);Fl.prototype.g=function(){return new Hh(this.l,this.j)};Fl.prototype.i=function(e){return function(){return e}}({});function Hh(e,t){nn.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Sy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(Hh,nn);var Sy=0;ce=Hh.prototype;ce.open=function(e,t){if(this.readyState!=Sy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,al(this)};ce.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Le).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))};ce.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Vl(this)),this.readyState=Sy};ce.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,al(this)),this.g&&(this.readyState=3,al(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nA(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))};function nA(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}ce.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Vl(this):al(this),this.readyState==3&&nA(this)}};ce.Ua=function(e){this.g&&(this.response=this.responseText=e,Vl(this))};ce.Ta=function(e){this.g&&(this.response=e,Vl(this))};ce.ha=function(){this.g&&Vl(this)};function Vl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,al(e)}ce.setRequestHeader=function(e,t){this.v.append(e,t)};ce.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};ce.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function al(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Hh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var T2=Le.JSON.parse;function Kt(e){nn.call(this),this.headers=new Oa,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rA,this.K=this.L=!1}cn(Kt,nn);var rA="",I2=/^https?$/i,A2=["POST","PUT"];ce=Kt.prototype;ce.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Qm.g(),this.C=this.u?tS(this.u):tS(Qm),this.g.onreadystatechange=un(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){iS(this,s);return}e=n||"";var o=new Oa(this.headers);r&&yy(r,function(s,u){o.set(u,s)}),r=FM(o.T()),n=Le.FormData&&e instanceof Le.FormData,!(0<=_I(A2,t))||r||n||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,u){this.g.setRequestHeader(u,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sA(this),0<this.B&&((this.K=x2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.pa,this)):this.A=py(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){iS(this,s)}};function x2(e){return aa&&$M()&&typeof e.timeout=="number"&&e.ontimeout!==void 0}function k2(e){return e.toLowerCase()=="content-type"}ce.pa=function(){typeof ry<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))};function iS(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,iA(e),Kh(e)}function iA(e){e.D||(e.D=!0,ln(e,"complete"),ln(e,"error"))}ce.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ln(this,"complete"),ln(this,"abort"),Kh(this))};ce.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kh(this,!0)),Kt.Z.M.call(this)};ce.Fa=function(){this.s||(this.F||this.v||this.l?oA(this):this.cb())};ce.cb=function(){oA(this)};function oA(e){if(e.h&&typeof ry<"u"&&(!e.C[1]||ci(e)!=4||e.ba()!=2)){if(e.v&&ci(e)==4)py(e.Fa,0,e);else if(ln(e,"readystatechange"),ci(e)==4){e.h=!1;try{var t=e.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var r;if(!(r=n)){var o;if(o=t===0){var s=String(e.H).match(WI)[1]||null;if(!s&&Le.self&&Le.self.location){var u=Le.self.location.protocol;s=u.substr(0,u.length-1)}o=!I2.test(s?s.toLowerCase():"")}r=o}if(r)ln(e,"complete"),ln(e,"success");else{e.m=6;try{var l=2<ci(e)?e.g.statusText:""}catch{l=""}e.j=l+" ["+e.ba()+"]",iA(e)}}finally{Kh(e)}}}}function Kh(e,t){if(e.g){sA(e);var n=e.g,r=e.C[0]?Vf:null;e.g=null,e.C=null,t||ln(e,"ready");try{n.onreadystatechange=r}catch{}}}function sA(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Le.clearTimeout(e.A),e.A=null)}function ci(e){return e.g?e.g.readyState:0}ce.ba=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}};ce.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};ce.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),T2(t)}};function oS(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case rA:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}ce.Da=function(){return this.m};ce.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function C2(e){var t="";return oy(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function Ey(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=C2(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):At(e,t,n))}function Tu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function aA(e){this.za=0,this.l=[],this.h=new Vh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Tu("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Tu("baseRetryDelayMs",5e3,e),this.$a=Tu("retryDelaySeedMs",1e4,e),this.Ya=Tu("forwardChannelMaxRetries",2,e),this.ra=Tu("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new QI(e&&e.concurrentRequestLimit),this.Ca=new w2,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||e.Xb!==!1}ce=aA.prototype;ce.ma=8;ce.G=1;function Ty(e){if(uA(e),e.G==3){var t=e.V++,n=mi(e.F);At(n,"SID",e.J),At(n,"RID",t),At(n,"TYPE","terminate"),jl(e,n),t=new Ll(e,e.h,t,void 0),t.K=2,t.v=qh(mi(n)),n=!1,Le.navigator&&Le.navigator.sendBeacon&&(n=Le.navigator.sendBeacon(t.v.toString(),"")),!n&&Le.Image&&(new Image().src=t.v,n=!0),n||(t.g=mA(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Ml(t)}pA(e)}ce.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch{}};function Gh(e){e.g&&(Ay(e),e.g.cancel(),e.g=null)}function uA(e){Gh(e),e.u&&(Le.clearTimeout(e.u),e.u=null),Kf(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&Le.clearTimeout(e.m),e.m=null)}function um(e,t){e.l.push(new b2(e.Za++,t)),e.G==3&&Wh(e)}function Wh(e){JI(e.i)||e.m||(e.m=!0,hy(e.Ha,e),e.C=0)}function O2(e,t){return ZI(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.l=t.D.concat(e.l),!0):e.G==1||e.G==2||e.C>=(e.Xa?0:e.Ya)?!1:(e.m=Rl(un(e.Ha,e,t),dA(e,e.C)),e.C++,!0)}ce.Ha=function(e){if(this.m)if(this.m=null,this.G==1){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ll(this,this.h,e,void 0),n=this.s;if(this.P&&(n?(n=SI(n),EI(n,this.P)):n=this.P),this.o===null&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){t:{var s=this.l[o];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(r+=s,4096<r){r=o;break e}if(r===4096||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=lA(this,t,r),o=mi(this.F),At(o,"RID",e),At(o,"CVER",22),this.D&&At(o,"X-HTTP-Session-Id",this.D),jl(this,o),this.o&&n&&Ey(o,this.o,n),_y(this.i,t),this.Ra&&At(o,"TYPE","init"),this.ja?(At(o,"$req",r),At(o,"SID","null"),t.$=!0,Zm(t,o,null)):Zm(t,o,r),this.G=2}}else this.G==3&&(e?sS(this,e):this.l.length==0||JI(this.i)||sS(this))};function sS(e,t){var n;t?n=t.m:n=e.V++;var r=mi(e.F);At(r,"SID",e.J),At(r,"RID",n),At(r,"AID",e.U),jl(e,r),e.o&&e.s&&Ey(r,e.o,e.s),n=new Ll(e,e.h,n,e.C+1),e.o===null&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=lA(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),_y(e.i,n),Zm(n,r,t)}function jl(e,t){e.j&&yy({},function(n,r){At(t,r,n)})}function lA(e,t,n){n=Math.min(e.l.length,n);var r=e.j?un(e.j.Oa,e.j,e):null;e:for(var o=e.l,s=-1;;){var u=["count="+n];s==-1?0<n?(s=o[0].h,u.push("ofs="+s)):s=0:u.push("ofs="+s);for(var l=!0,f=0;f<n;f++){var d=o[f].h,m=o[f].g;if(d-=s,0>d)s=Math.max(0,o[f].h-100),l=!1;else try{S2(m,u,"req"+d+"_")}catch{r&&r(m)}}if(l){r=u.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function cA(e){e.g||e.u||(e.Y=1,hy(e.Ga,e),e.A=0)}function Iy(e){return e.g||e.u||3<=e.A?!1:(e.Y++,e.u=Rl(un(e.Ga,e),dA(e,e.A)),e.A++,!0)}ce.Ga=function(){if(this.u=null,fA(this),this.$&&!(this.L||this.g==null||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Rl(un(this.bb,this),e)}};ce.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nn(10),Gh(this),fA(this))};function Ay(e){e.B!=null&&(Le.clearTimeout(e.B),e.B=null)}function fA(e){e.g=new Ll(e,e.h,"rpc",e.Y),e.o===null&&(e.g.H=e.s),e.g.O=0;var t=mi(e.oa);At(t,"RID","rpc"),At(t,"SID",e.J),At(t,"CI",e.N?"0":"1"),At(t,"AID",e.U),jl(e,t),At(t,"TYPE","xmlhttp"),e.o&&e.s&&Ey(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=qh(mi(t)),n.s=null,n.U=!0,qI(n,e)}ce.ab=function(){this.v!=null&&(this.v=null,Gh(this),Iy(this),Nn(19))};function Kf(e){e.v!=null&&(Le.clearTimeout(e.v),e.v=null)}function hA(e,t){var n=null;if(e.g==t){Kf(e),Ay(e),e.g=null;var r=2}else if(tv(e.i,t))n=t.D,eA(e.i,t),r=1;else return;if(e.I=t.N,e.G!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.F;var o=e.C;r=jh(),ln(r,new jI(r,n)),Wh(e)}else cA(e);else if(o=t.o,o==3||o==0&&0<e.I||!(r==1&&O2(e,t)||r==2&&Iy(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),o){case 1:Vo(e,5);break;case 4:Vo(e,10);break;case 3:Vo(e,6);break;default:Vo(e,2)}}}function dA(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Vo(e,t){if(e.h.info("Error code "+t),t==2){var n=null;e.j&&(n=null);var r=un(e.jb,e);n||(n=new Qo("//www.google.com/images/cleardot.gif"),Le.location&&Le.location.protocol=="http"||$f(n,"https"),qh(n)),E2(n.toString(),r)}else Nn(2);e.G=0,e.j&&e.j.va(t),pA(e),uA(e)}ce.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Nn(2)):(this.h.info("Failed to ping google.com"),Nn(1))};function pA(e){e.G=0,e.I=-1,e.j&&((tA(e.i).length!=0||e.l.length!=0)&&(e.i.i.length=0,iy(e.l),e.l.length=0),e.j.ua())}function gA(e,t,n){var r=f2(n);if(r.i!="")t&&qf(r,t+"."+r.i),Hf(r,r.m);else{var o=Le.location;r=h2(o.protocol,t?t+"."+o.hostname:o.hostname,+o.port,n)}return e.aa&&oy(e.aa,function(s,u){At(r,u,s)}),t=e.D,n=e.sa,t&&n&&At(r,t,n),At(r,"VER",e.ma),jl(e,r),r}function mA(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Kt(new Fl({ib:!0})):new Kt(e.qa),t.L=e.H,t}function vA(){}ce=vA.prototype;ce.xa=function(){};ce.wa=function(){};ce.va=function(){};ce.ua=function(){};ce.Oa=function(){};function Gf(){if(aa&&!(10<=Number(qM)))throw Error("Environmental error: no available transport.")}Gf.prototype.g=function(e,t){return new lr(e,t)};function lr(e,t){nn.call(this),this.g=new aA(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!jf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!jf(t)&&(this.g.D=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Na(this)}cn(lr,nn);lr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),hy(un(e.hb,e,t))),Nn(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=gA(e,null,e.W),Wh(e)};lr.prototype.close=function(){Ty(this.g)};lr.prototype.u=function(e){if(typeof e=="string"){var t={};t.__data__=e,um(this.g,t)}else this.v?(t={},t.__data__=fy(e),um(this.g,t)):um(this.g,e)};lr.prototype.M=function(){this.g.j=null,delete this.j,Ty(this.g),delete this.g,lr.Z.M.call(this)};function yA(e){my.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}cn(yA,my);function bA(){vy.call(this),this.status=1}cn(bA,vy);function Na(e){this.g=e}cn(Na,vA);Na.prototype.xa=function(){ln(this.g,"a")};Na.prototype.wa=function(e){ln(this.g,new yA(e))};Na.prototype.va=function(e){ln(this.g,new bA)};Na.prototype.ua=function(){ln(this.g,"b")};Gf.prototype.createWebChannel=Gf.prototype.g;lr.prototype.send=lr.prototype.u;lr.prototype.open=lr.prototype.m;lr.prototype.close=lr.prototype.close;Uh.NO_ERROR=0;Uh.TIMEOUT=8;Uh.HTTP_ERROR=6;UI.COMPLETE="complete";BI.EventType=Dl;Dl.OPEN="a";Dl.CLOSE="b";Dl.ERROR="c";Dl.MESSAGE="d";nn.prototype.listen=nn.prototype.N;Kt.prototype.listenOnce=Kt.prototype.O;Kt.prototype.getLastError=Kt.prototype.La;Kt.prototype.getLastErrorCode=Kt.prototype.Da;Kt.prototype.getStatus=Kt.prototype.ba;Kt.prototype.getResponseJson=Kt.prototype.Qa;Kt.prototype.getResponseText=Kt.prototype.ga;Kt.prototype.send=Kt.prototype.ea;var P2=function(){return new Gf},N2=function(){return jh()},lm=Uh,R2=UI,D2=rs,aS={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},L2=Fl,lf=BI,M2=Kt;/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(){function e(t,n){var r=this;this.previousValue=t,n&&(n.sequenceNumberHandler=function(o){return r.t(o)},this.i=function(o){return n.writeSequenceNumber(o)})}return e.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},e.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},e}();sr.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=function(e){function t(n,r){var o=this;return(o=e.call(this,r)||this).code=n,o.message=r,o.name="FirebaseError",o.toString=function(){return o.name+": [code="+o.code+"]: "+o.message},o}return Ie(t,e),t}(Error),Rr=new gI("@firebase/firestore");function nv(){return Rr.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=ot.DEBUG){var r=t.map(xy);Rr.debug.apply(Rr,It(["Firestore (8.10.1): "+e],r))}}function qt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=ot.ERROR){var r=t.map(xy);Rr.error.apply(Rr,It(["Firestore (8.10.1): "+e],r))}}function Wf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Rr.logLevel<=ot.WARN){var r=t.map(xy);Rr.warn.apply(Rr,It(["Firestore (8.10.1): "+e],r))}}function xy(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){e===void 0&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw qt(t),new Error(t)}function Oe(e,t){e||_e()}function se(e,t){return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(e){var t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _A=function(){function e(){}return e.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length,r="";r.length<20;)for(var o=F2(40),s=0;s<o.length;++s)r.length<20&&o[s]<n&&(r+=t.charAt(o[s]%t.length));return r},e}();function Qe(e,t){return e<t?-1:e>t?1:0}function ua(e,t,n){return e.length===t.length&&e.every(function(r,o){return n(r,t[o])})}function wA(e){return e+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kn=function(){function e(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Y(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(t){return this.seconds===t.seconds?Qe(this.nanoseconds,t.nanoseconds):Qe(this.seconds,t.seconds)},e.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Ge=function(){function e(t){this.timestamp=t}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Kn(0,0))},e.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},e.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function is(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function SA(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var EA=function(){function e(t,n,r){n===void 0?n=0:n>t.length&&_e(),r===void 0?r=t.length-n:r>t.length-n&&_e(),this.segments=t,this.offset=n,this.len=r}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return e.comparator(this,t)===0},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(r){n.push(r)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(t){return this.segments[this.offset+t]},e.prototype.isEmpty=function(){return this.length===0},e.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0},e.prototype.forEach=function(t){for(var n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(t,n){for(var r=Math.min(t.length,n.length),o=0;o<r;o++){var s=t.get(o),u=n.get(o);if(s<u)return-1;if(s>u)return 1}return t.length<n.length?-1:t.length>n.length?1:0},e}(),st=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=[],s=0,u=n;s<u.length;s++){var l=u[s];if(l.indexOf("//")>=0)throw new Y(M.INVALID_ARGUMENT,"Invalid segment ("+l+"). Paths must not contain // in them.");o.push.apply(o,l.split("/").filter(function(f){return f.length>0}))}return new t(o)},t.emptyPath=function(){return new t([])},t}(EA),V2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mr=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.construct=function(n,r,o){return new t(n,r,o)},t.isValidIdentifier=function(n){return V2.test(n)},t.prototype.canonicalString=function(){return this.toArray().map(function(n){return n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(n)||(n="`"+n+"`"),n}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return this.length===1&&this.get(0)==="__name__"},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(n){for(var r=[],o="",s=0,u=function(){if(o.length===0)throw new Y(M.INVALID_ARGUMENT,"Invalid field path ("+n+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");r.push(o),o=""},l=!1;s<n.length;){var f=n[s];if(f==="\\"){if(s+1===n.length)throw new Y(M.INVALID_ARGUMENT,"Path has trailing escape character: "+n);var d=n[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Y(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);o+=d,s+=2}else f==="`"?(l=!l,s++):f!=="."||l?(o+=f,s++):(u(),s++)}if(u(),l)throw new Y(M.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new t(r)},t.emptyPath=function(){return new t([])},t}(EA),la=function(){function e(t){this.fields=t,t.sort(Mr.comparator)}return e.prototype.covers=function(t){for(var n=0,r=this.fields;n<r.length;n++)if(r[n].isPrefixOf(t))return!0;return!1},e.prototype.isEqual=function(t){return ua(this.fields,t.fields,function(n,r){return n.isEqual(r)})},e}(),Wn=function(){function e(t){this.binaryString=t}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(n){for(var r="",o=0;o<n.length;++o)r+=String.fromCharCode(n[o]);return r}(t))},e.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},e.prototype.toUint8Array=function(){return function(t){for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(t){return Qe(this.binaryString,t.binaryString)},e.prototype.isEqual=function(t){return this.binaryString===t.binaryString},e}();Wn.EMPTY_BYTE_STRING=new Wn("");var j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(e){if(Oe(!!e),typeof e=="string"){var t=0,n=j2.exec(e);if(Oe(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var o=new Date(e);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:$t(e.seconds),nanos:$t(e.nanos)}}function $t(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ca(e){return typeof e=="string"?Wn.fromBase64String(e):Wn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function TA(e){var t=e.mapValue.fields.__previous_value__;return ky(t)?TA(t):t}function ul(e){var t=Ji(e.mapValue.fields.__local_write_time__.timestampValue);return new Kn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(e){return e==null}function zf(e){return e===0&&1/e==-1/0}function IA(e){return typeof e=="number"&&Number.isInteger(e)&&!zf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se=function(){function e(t){this.path=t}return e.fromPath=function(t){return new e(st.fromString(t))},e.fromName=function(t){return new e(st.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},e.prototype.isEqual=function(t){return t!==null&&st.comparator(this.path,t.path)===0},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(t,n){return st.comparator(t.path,n.path)},e.isDocumentKey=function(t){return t.length%2==0},e.fromSegments=function(t){return new e(new st(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ky(e)?4:10:_e()}function ti(e,t){var n=Jo(e);if(n!==Jo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ul(e).isEqual(ul(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;var s=Ji(r.timestampValue),u=Ji(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return ca(r.bytesValue).isEqual(ca(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return $t(r.geoPointValue.latitude)===$t(o.geoPointValue.latitude)&&$t(r.geoPointValue.longitude)===$t(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return $t(r.integerValue)===$t(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){var s=$t(r.doubleValue),u=$t(o.doubleValue);return s===u?zf(s)===zf(u):isNaN(s)&&isNaN(u)}return!1}(e,t);case 9:return ua(e.arrayValue.values||[],t.arrayValue.values||[],ti);case 10:return function(r,o){var s=r.mapValue.fields||{},u=o.mapValue.fields||{};if(uS(s)!==uS(u))return!1;for(var l in s)if(s.hasOwnProperty(l)&&(u[l]===void 0||!ti(s[l],u[l])))return!1;return!0}(e,t);default:return _e()}}function ll(e,t){return(e.values||[]).find(function(n){return ti(n,t)})!==void 0}function fa(e,t){var n=Jo(e),r=Jo(t);if(n!==r)return Qe(n,r);switch(n){case 0:return 0;case 1:return Qe(e.booleanValue,t.booleanValue);case 2:return function(o,s){var u=$t(o.integerValue||o.doubleValue),l=$t(s.integerValue||s.doubleValue);return u<l?-1:u>l?1:u===l?0:isNaN(u)?isNaN(l)?0:-1:1}(e,t);case 3:return lS(e.timestampValue,t.timestampValue);case 4:return lS(ul(e),ul(t));case 5:return Qe(e.stringValue,t.stringValue);case 6:return function(o,s){var u=ca(o),l=ca(s);return u.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){for(var u=o.split("/"),l=s.split("/"),f=0;f<u.length&&f<l.length;f++){var d=Qe(u[f],l[f]);if(d!==0)return d}return Qe(u.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){var u=Qe($t(o.latitude),$t(s.latitude));return u!==0?u:Qe($t(o.longitude),$t(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){for(var u=o.values||[],l=s.values||[],f=0;f<u.length&&f<l.length;++f){var d=fa(u[f],l[f]);if(d)return d}return Qe(u.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){var u=o.fields||{},l=Object.keys(u),f=s.fields||{},d=Object.keys(f);l.sort(),d.sort();for(var m=0;m<l.length&&m<d.length;++m){var h=Qe(l[m],d[m]);if(h!==0)return h;var g=fa(u[l[m]],f[d[m]]);if(g!==0)return g}return Qe(l.length,d.length)}(e.mapValue,t.mapValue);default:throw _e()}}function lS(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Qe(e,t);var n=Ji(e),r=Ji(t),o=Qe(n.seconds,r.seconds);return o!==0?o:Qe(n.nanos,r.nanos)}function Cy(e){return rv(e)}function rv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){var o=Ji(r);return"time("+o.seconds+","+o.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ca(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Se.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(r){for(var o="[",s=!0,u=0,l=r.values||[];u<l.length;u++)s?s=!1:o+=",",o+=rv(l[u]);return o+"]"}(e.arrayValue):"mapValue"in e?function(r){for(var o="{",s=!0,u=0,l=Object.keys(r.fields||{}).sort();u<l.length;u++){var f=l[u];s?s=!1:o+=",",o+=f+":"+rv(r.fields[f])}return o+"}"}(e.mapValue):_e();var t,n}function Xf(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function iv(e){return!!e&&"integerValue"in e}function Oy(e){return!!e&&"arrayValue"in e}function cS(e){return!!e&&"nullValue"in e}function fS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Tf(e){return!!e&&"mapValue"in e}function Uu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return is(e.mapValue.fields,function(o,s){return t.mapValue.fields[o]=Uu(s)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Uu(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or=function(){function e(t){this.value=t}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){if(t.isEmpty())return this.value;for(var n=this.value,r=0;r<t.length-1;++r)if(!Tf(n=(n.mapValue.fields||{})[t.get(r)]))return null;return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.set=function(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Uu(n)},e.prototype.setAll=function(t){var n=this,r=Mr.emptyPath(),o={},s=[];t.forEach(function(l,f){if(!r.isImmediateParentOf(f)){var d=n.getFieldsMap(r);n.applyChanges(d,o,s),o={},s=[],r=f.popLast()}l?o[f.lastSegment()]=Uu(l):s.push(f.lastSegment())});var u=this.getFieldsMap(r);this.applyChanges(u,o,s)},e.prototype.delete=function(t){var n=this.field(t.popLast());Tf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]},e.prototype.isEqual=function(t){return ti(this.value,t.value)},e.prototype.getFieldsMap=function(t){var n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(var r=0;r<t.length;++r){var o=n.mapValue.fields[t.get(r)];Tf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields},e.prototype.applyChanges=function(t,n,r){is(n,function(l,f){return t[l]=f});for(var o=0,s=r;o<s.length;o++){var u=s[o];delete t[u]}},e.prototype.clone=function(){return new e(Uu(this.value))},e}();function AA(e){var t=[];return is(e.fields,function(n,r){var o=new Mr([n]);if(Tf(r)){var s=AA(r.mapValue).fields;if(s.length===0)t.push(o);else for(var u=0,l=s;u<l.length;u++){var f=l[u];t.push(o.child(f))}}else t.push(o)}),new la(t)}var Sn=function(){function e(t,n,r,o,s){this.key=t,this.documentType=n,this.version=r,this.data=o,this.documentState=s}return e.newInvalidDocument=function(t){return new e(t,0,Ge.min(),or.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,or.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,or.empty(),2)},e.prototype.convertToFoundDocument=function(t,n){return this.version=t,this.documentType=1,this.data=n,this.documentState=0,this},e.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=or.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=or.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return this.documentState===1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return this.documentState===2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return this.documentType!==0},e.prototype.isFoundDocument=function(){return this.documentType===1},e.prototype.isNoDocument=function(){return this.documentType===2},e.prototype.isUnknownDocument=function(){return this.documentType===3},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),U2=function(e,t,n,r,o,s,u){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=u,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(e,t,n,r,o,s,u){return t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s=null),u===void 0&&(u=null),new U2(e,t,n,r,o,s,u)}function Ul(e){var t=se(e);if(t.h===null){var n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(r){return function(o){return o.field.canonicalString()+o.op.toString()+Cy(o.value)}(r)}).join(","),n+="|ob:",n+=t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+o.dir}(r)}).join(","),os(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=Qf(t.startAt)),t.endAt&&(n+="|ub:",n+=Qf(t.endAt)),t.h=n}return t.h}function zh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!z2(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(o=e.filters[r],s=t.filters[r],o.op!==s.op||!o.field.isEqual(s.field)||!ti(o.value,s.value))return!1;var o,s;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!pS(e.startAt,t.startAt)&&pS(e.endAt,t.endAt)}function Yf(e){return Se.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ar=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).field=n,s.op=r,s.value=o,s}return Ie(t,e),t.create=function(n,r,o){return n.isKeyField()?r==="in"||r==="not-in"?this.l(n,r,o):new B2(n,r,o):r==="array-contains"?new H2(n,o):r==="in"?new K2(n,o):r==="not-in"?new G2(n,o):r==="array-contains-any"?new W2(n,o):new t(n,r,o)},t.l=function(n,r,o){return r==="in"?new $2(n,o):new q2(n,o)},t.prototype.matches=function(n){var r=n.data.field(this.field);return this.op==="!="?r!==null&&this.m(fa(r,this.value)):r!==null&&Jo(this.value)===Jo(r)&&this.m(fa(r,this.value))},t.prototype.m=function(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return _e()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),B2=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,o)||this).key=Se.fromName(o.referenceValue),s}return Ie(t,e),t.prototype.matches=function(n){var r=Se.comparator(n.key,this.key);return this.m(r)},t}(ar),$2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"in",r)||this).keys=xA("in",r),o}return Ie(t,e),t.prototype.matches=function(n){return this.keys.some(function(r){return r.isEqual(n.key)})},t}(ar),q2=function(e){function t(n,r){var o=this;return(o=e.call(this,n,"not-in",r)||this).keys=xA("not-in",r),o}return Ie(t,e),t.prototype.matches=function(n){return!this.keys.some(function(r){return r.isEqual(n.key)})},t}(ar);function xA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(function(r){return Se.fromName(r.referenceValue)})}var H2=function(e){function t(n,r){return e.call(this,n,"array-contains",r)||this}return Ie(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return Oy(r)&&ll(r.arrayValue,this.value)},t}(ar),K2=function(e){function t(n,r){return e.call(this,n,"in",r)||this}return Ie(t,e),t.prototype.matches=function(n){var r=n.data.field(this.field);return r!==null&&ll(this.value.arrayValue,r)},t}(ar),G2=function(e){function t(n,r){return e.call(this,n,"not-in",r)||this}return Ie(t,e),t.prototype.matches=function(n){if(ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var r=n.data.field(this.field);return r!==null&&!ll(this.value.arrayValue,r)},t}(ar),W2=function(e){function t(n,r){return e.call(this,n,"array-contains-any",r)||this}return Ie(t,e),t.prototype.matches=function(n){var r=this,o=n.data.field(this.field);return!(!Oy(o)||!o.arrayValue.values)&&o.arrayValue.values.some(function(s){return ll(r.value.arrayValue,s)})},t}(ar),cl=function(e,t){this.position=e,this.before=t};function Qf(e){return(e.before?"b":"a")+":"+e.position.map(function(t){return Cy(t)}).join(",")}var Ys=function(e,t){t===void 0&&(t="asc"),this.field=e,this.dir=t};function z2(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function dS(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var s=t[o],u=e.position[o];if(r=s.field.isKeyField()?Se.comparator(Se.fromName(u.referenceValue),n.key):fa(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return e.before?r<=0:r<0}function pS(e,t){if(e===null)return t===null;if(t===null||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ti(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yi=function(e,t,n,r,o,s,u,l){t===void 0&&(t=null),n===void 0&&(n=[]),r===void 0&&(r=[]),o===void 0&&(o=null),s===void 0&&(s="F"),u===void 0&&(u=null),l===void 0&&(l=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=l,this.p=null,this.T=null,this.startAt,this.endAt};function kA(e,t,n,r,o,s,u,l){return new yi(e,t,n,r,o,s,u,l)}function Bl(e){return new yi(e)}function If(e){return!os(e.limit)&&e.limitType==="F"}function Jf(e){return!os(e.limit)&&e.limitType==="L"}function Py(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ny(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ry(e){return e.collectionGroup!==null}function ha(e){var t=se(e);if(t.p===null){t.p=[];var n=Ny(t),r=Py(t);if(n!==null&&r===null)n.isKeyField()||t.p.push(new Ys(n)),t.p.push(new Ys(Mr.keyField(),"asc"));else{for(var o=!1,s=0,u=t.explicitOrderBy;s<u.length;s++){var l=u[s];t.p.push(l),l.field.isKeyField()&&(o=!0)}if(!o){var f=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ys(Mr.keyField(),f))}}}return t.p}function ni(e){var t=se(e);if(!t.T)if(t.limitType==="F")t.T=hS(t.path,t.collectionGroup,ha(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,o=ha(t);r<o.length;r++){var s=o[r],u=s.dir==="desc"?"asc":"desc";n.push(new Ys(s.field,u))}var l=t.endAt?new cl(t.endAt.position,!t.endAt.before):null,f=t.startAt?new cl(t.startAt.position,!t.startAt.before):null;t.T=hS(t.path,t.collectionGroup,n,t.filters,t.limit,l,f)}return t.T}function CA(e,t,n){return new yi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $l(e,t){return zh(ni(e),ni(t))&&e.limitType===t.limitType}function OA(e){return Ul(ni(e))+"|lt:"+e.limitType}function ov(e){return"Query(target="+function(t){var n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(r){return(o=r).field.canonicalString()+" "+o.op+" "+Cy(o.value);var o}).join(", ")+"]"),os(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(r){return function(o){return o.field.canonicalString()+" ("+o.dir+")"}(r)}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+Qf(t.startAt)),t.endAt&&(n+=", endAt: "+Qf(t.endAt)),"Target("+n+")"}(ni(e))+"; limitType="+e.limitType+")"}function ql(e,t){return t.isFoundDocument()&&function(n,r){var o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Se.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(var o=0,s=n.explicitOrderBy;o<s.length;o++){var u=s[o];if(!u.field.isKeyField()&&r.data.field(u.field)===null)return!1}return!0}(e,t)&&function(n,r){for(var o=0,s=n.filters;o<s.length;o++)if(!s[o].matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!dS(n.startAt,ha(n),r))&&(!n.endAt||!dS(n.endAt,ha(n),r))}(e,t)}function PA(e){return function(t,n){for(var r=!1,o=0,s=ha(e);o<s.length;o++){var u=s[o],l=X2(u,t,n);if(l!==0)return l;r=r||u.field.isKeyField()}return 0}}function X2(e,t,n){var r=e.field.isKeyField()?Se.comparator(t.key,n.key):function(o,s,u){var l=s.data.field(o),f=u.data.field(o);return l!==null&&f!==null?fa(l,f):_e()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zf(t)?"-0":t}}function RA(e){return{integerValue:""+e}}function DA(e,t){return IA(t)?RA(t):NA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xh=function(){this._=void 0};function Y2(e,t,n){return e instanceof da?function(r,o){var s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,t):e instanceof Zo?MA(e,t):e instanceof es?FA(e,t):function(r,o){var s=LA(r,o),u=gS(s)+gS(r.A);return iv(s)&&iv(r.A)?RA(u):NA(r.R,u)}(e,t)}function Q2(e,t,n){return e instanceof Zo?MA(e,t):e instanceof es?FA(e,t):n}function LA(e,t){return e instanceof pa?iv(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}var da=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t}(Xh),Zo=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ie(t,e),t}(Xh);function MA(e,t){for(var n=VA(t),r=function(u){n.some(function(l){return ti(l,u)})||n.push(u)},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var es=function(e){function t(n){var r=this;return(r=e.call(this)||this).elements=n,r}return Ie(t,e),t}(Xh);function FA(e,t){for(var n=VA(t),r=function(u){n=n.filter(function(l){return!ti(l,u)})},o=0,s=e.elements;o<s.length;o++)r(s[o]);return{arrayValue:{values:n}}}var pa=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).R=n,o.A=r,o}return Ie(t,e),t}(Xh);function gS(e){return $t(e.integerValue||e.doubleValue)}function VA(e){return Oy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hl=function(e,t){this.field=e,this.transform=t},J2=function(e,t){this.version=e,this.transformResults=t},_n=function(){function e(t,n){this.updateTime=t,this.exists=n}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return this.updateTime===void 0&&this.exists===void 0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},e}();function Af(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Yh=function(){};function Z2(e,t,n){e instanceof Kl?function(r,o,s){var u=r.value.clone(),l=yS(r.fieldTransforms,o,s.transformResults);u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(e,t,n):e instanceof ro?function(r,o,s){if(Af(r.precondition,o)){var u=yS(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(jA(r)),l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}else o.convertToUnknownDocument(s.version)}(e,t,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function sv(e,t,n){e instanceof Kl?function(r,o,s){if(Af(r.precondition,o)){var u=r.value.clone(),l=bS(r.fieldTransforms,s,o);u.setAll(l),o.convertToFoundDocument(vS(o),u).setHasLocalMutations()}}(e,t,n):e instanceof ro?function(r,o,s){if(Af(r.precondition,o)){var u=bS(r.fieldTransforms,s,o),l=o.data;l.setAll(jA(r)),l.setAll(u),o.convertToFoundDocument(vS(o),l).setHasLocalMutations()}}(e,t,n):function(r,o){Af(r.precondition,o)&&o.convertToNoDocument(Ge.min())}(e,t)}function eF(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var s=o[r],u=t.data.field(s.field),l=LA(s.transform,u||null);l!=null&&(n==null&&(n=or.empty()),n.set(s.field,l))}return n||null}function mS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ua(n,r,function(o,s){return function(u,l){return u.field.isEqual(l.field)&&function(f,d){return f instanceof Zo&&d instanceof Zo||f instanceof es&&d instanceof es?ua(f.elements,d.elements,ti):f instanceof pa&&d instanceof pa?ti(f.A,d.A):f instanceof da&&d instanceof da}(u.transform,l.transform)}(o,s)})}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function vS(e){return e.isFoundDocument()?e.version:Ge.min()}var Kl=function(e){function t(n,r,o,s){s===void 0&&(s=[]);var u=this;return(u=e.call(this)||this).key=n,u.value=r,u.precondition=o,u.fieldTransforms=s,u.type=0,u}return Ie(t,e),t}(Yh),ro=function(e){function t(n,r,o,s,u){u===void 0&&(u=[]);var l=this;return(l=e.call(this)||this).key=n,l.data=r,l.fieldMask=o,l.precondition=s,l.fieldTransforms=u,l.type=1,l}return Ie(t,e),t}(Yh);function jA(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function yS(e,t,n){var r=new Map;Oe(e.length===n.length);for(var o=0;o<n.length;o++){var s=e[o],u=s.transform,l=t.data.field(s.field);r.set(s.field,Q2(u,l,n[o]))}return r}function bS(e,t,n){for(var r=new Map,o=0,s=e;o<s.length;o++){var u=s[o],l=u.transform,f=n.data.field(u.field);r.set(u.field,Y2(l,f,t))}return r}var Bt,et,Gl=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=2,o.fieldTransforms=[],o}return Ie(t,e),t}(Yh),Dy=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).key=n,o.precondition=r,o.type=3,o.fieldTransforms=[],o}return Ie(t,e),t}(Yh),tF=function(e){this.count=e};function UA(e){switch(e){case M.OK:return _e();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0;default:return _e()}}function BA(e){if(e===void 0)return qt("GRPC error has no .code"),M.UNKNOWN;switch(e){case Bt.OK:return M.OK;case Bt.CANCELLED:return M.CANCELLED;case Bt.UNKNOWN:return M.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return M.INTERNAL;case Bt.UNAVAILABLE:return M.UNAVAILABLE;case Bt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Bt.NOT_FOUND:return M.NOT_FOUND;case Bt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Bt.ABORTED:return M.ABORTED;case Bt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Bt.DATA_LOSS:return M.DATA_LOSS;default:return _e()}}(et=Bt||(Bt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En=function(){function e(t,n){this.comparator=t,this.root=n||ji.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ji.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ji.BLACK,null,null))},e.prototype.get=function(t){for(var n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null},e.prototype.indexOf=function(t){for(var n=0,r=this.root;!r.isEmpty();){var o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},e.prototype.forEach=function(t){this.inorderTraversal(function(n,r){return t(n,r),!1})},e.prototype.toString=function(){var t=[];return this.inorderTraversal(function(n,r){return t.push(n+":"+r),!1}),"{"+t.join(", ")+"}"},e.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},e.prototype.getIterator=function(){return new cf(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(t){return new cf(this.root,t,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new cf(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(t){return new cf(this.root,t,this.comparator,!0)},e}(),cf=function(){function e(t,n,r,o){this.isReverse=o,this.nodeStack=[];for(var s=1;!t.isEmpty();)if(s=n?r(t.key,n):1,o&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return e.prototype.getNext=function(){var t=this.nodeStack.pop(),n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(this.nodeStack.length===0)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},e}(),ji=function(){function e(t,n,r,o,s){this.key=t,this.value=n,this.color=r??e.RED,this.left=o??e.EMPTY,this.right=s??e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,s){return new e(t??this.key,n??this.value,r??this.color,o??this.left,s??this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},e.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(t,n,r){var o=this,s=r(t,o.key);return(o=s<0?o.copy(null,null,null,o.left.insert(t,n,r),null):s===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},e.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},e.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)},e.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _e();var t=this.left.check();if(t!==this.right.check())throw _e();return t+(this.isRed()?0:1)},e}();ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw _e()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw _e()},enumerable:!1,configurable:!0}),e.prototype.copy=function(t,n,r,o,s){return this},e.prototype.insert=function(t,n,r){return new ji(t,n)},e.prototype.remove=function(t,n){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(t){return!1},e.prototype.reverseTraversal=function(t){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt=function(){function e(t){this.comparator=t,this.data=new En(this.comparator)}return e.prototype.has=function(t){return this.data.get(t)!==null},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(t){return this.data.indexOf(t)},e.prototype.forEach=function(t){this.data.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.forEachInRange=function(t,n){for(var r=this.data.getIteratorFrom(t[0]);r.hasNext();){var o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}},e.prototype.forEachWhile=function(t,n){var r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return},e.prototype.firstAfterOrEqual=function(t){var n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null},e.prototype.getIterator=function(){return new _S(this.data.getIterator())},e.prototype.getIteratorFrom=function(t){return new _S(this.data.getIteratorFrom(t))},e.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},e.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(t){var n=this;return n.size<t.size&&(n=t,t=this),t.forEach(function(r){n=n.add(r)}),n},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(this.comparator(o,s)!==0)return!1}return!0},e.prototype.toArray=function(){var t=[];return this.forEach(function(n){t.push(n)}),t},e.prototype.toString=function(){var t=[];return this.forEach(function(n){return t.push(n)}),"SortedSet("+t.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),_S=function(){function e(t){this.iter=t}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),nF=new En(Se.comparator);function Dr(){return nF}var rF=new En(Se.comparator);function av(){return rF}var iF=new En(Se.comparator);function oF(){return iF}var sF=new Qt(Se.comparator);function vt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=sF,r=0,o=e;r<o.length;r++){var s=o[r];n=n.add(s)}return n}var aF=new Qt(Qe);function Qh(){return aF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ly=function(){function e(t,n,r,o,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,My.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Ge.min(),r,Qh(),Dr(),vt())},e}(),My=function(){function e(t,n,r,o,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Wn.EMPTY_BYTE_STRING,n,vt(),vt(),vt())},e}(),xf=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},$A=function(e,t){this.targetId=e,this.V=t},qA=function(e,t,n,r){n===void 0&&(n=Wn.EMPTY_BYTE_STRING),r===void 0&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},wS=function(){function e(){this.S=0,this.D=ES(),this.C=Wn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return this.S!==0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},e.prototype.M=function(){var t=vt(),n=vt(),r=vt();return this.D.forEach(function(o,s){switch(s){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:_e()}}),new My(this.C,this.N,t,n,r)},e.prototype.L=function(){this.k=!1,this.D=ES()},e.prototype.B=function(t,n){this.k=!0,this.D=this.D.insert(t,n)},e.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),uF=function(){function e(t){this.W=t,this.G=new Map,this.H=Dr(),this.J=SS(),this.Y=new Qt(Qe)}return e.prototype.X=function(t){for(var n=0,r=t.v;n<r.length;n++){var o=r[n];t.P&&t.P.isFoundDocument()?this.Z(o,t.P):this.tt(o,t.key,t.P)}for(var s=0,u=t.removedTargetIds;s<u.length;s++)o=u[s],this.tt(o,t.key,t.P)},e.prototype.et=function(t){var n=this;this.forEachTarget(t,function(r){var o=n.nt(r);switch(t.state){case 0:n.st(r)&&o.O(t.resumeToken);break;case 1:o.K(),o.F||o.L(),o.O(t.resumeToken);break;case 2:o.K(),o.F||n.removeTarget(r);break;case 3:n.st(r)&&(o.j(),o.O(t.resumeToken));break;case 4:n.st(r)&&(n.it(r),o.O(t.resumeToken));break;default:_e()}})},e.prototype.forEachTarget=function(t,n){var r=this;t.targetIds.length>0?t.targetIds.forEach(n):this.G.forEach(function(o,s){r.st(s)&&n(s)})},e.prototype.rt=function(t){var n=t.targetId,r=t.V.count,o=this.ot(n);if(o){var s=o.target;if(Yf(s))if(r===0){var u=new Se(s.path);this.tt(n,u,Sn.newNoDocument(u,Ge.min()))}else Oe(r===1);else this.ct(n)!==r&&(this.it(n),this.Y=this.Y.add(n))}},e.prototype.ut=function(t){var n=this,r=new Map;this.G.forEach(function(u,l){var f=n.ot(l);if(f){if(u.current&&Yf(f.target)){var d=new Se(f.target.path);n.H.get(d)!==null||n.at(l,d)||n.tt(l,d,Sn.newNoDocument(d,t))}u.$&&(r.set(l,u.M()),u.L())}});var o=vt();this.J.forEach(function(u,l){var f=!0;l.forEachWhile(function(d){var m=n.ot(d);return!m||m.purpose===2||(f=!1,!1)}),f&&(o=o.add(u))});var s=new Ly(t,r,this.Y,this.H,o);return this.H=Dr(),this.J=SS(),this.Y=new Qt(Qe),s},e.prototype.Z=function(t,n){if(this.st(t)){var r=this.at(t,n.key)?2:0;this.nt(t).B(n.key,r),this.H=this.H.insert(n.key,n),this.J=this.J.insert(n.key,this.ht(n.key).add(t))}},e.prototype.tt=function(t,n,r){if(this.st(t)){var o=this.nt(t);this.at(t,n)?o.B(n,1):o.q(n),this.J=this.J.insert(n,this.ht(n).delete(t)),r&&(this.H=this.H.insert(n,r))}},e.prototype.removeTarget=function(t){this.G.delete(t)},e.prototype.ct=function(t){var n=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},e.prototype.U=function(t){this.nt(t).U()},e.prototype.nt=function(t){var n=this.G.get(t);return n||(n=new wS,this.G.set(t,n)),n},e.prototype.ht=function(t){var n=this.J.get(t);return n||(n=new Qt(Qe),this.J=this.J.insert(t,n)),n},e.prototype.st=function(t){var n=this.ot(t)!==null;return n||re("WatchChangeAggregator","Detected inactive target",t),n},e.prototype.ot=function(t){var n=this.G.get(t);return n&&n.F?null:this.W.lt(t)},e.prototype.it=function(t){var n=this;this.G.set(t,new wS),this.W.getRemoteKeysForTarget(t).forEach(function(r){n.tt(t,r,null)})},e.prototype.at=function(t,n){return this.W.getRemoteKeysForTarget(t).has(n)},e}();function SS(){return new En(Se.comparator)}function ES(){return new En(Se.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lF={asc:"ASCENDING",desc:"DESCENDING"},cF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fF=function(e,t){this.databaseId=e,this.I=t};function fl(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function HA(e,t){return e.I?t.toBase64():t.toUint8Array()}function hF(e,t){return fl(e,t.toTimestamp())}function Rn(e){return Oe(!!e),Ge.fromTimestamp(function(t){var n=Ji(t);return new Kn(n.seconds,n.nanos)}(e))}function Fy(e,t){return function(n){return new st(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function KA(e){var t=st.fromString(e);return Oe(JA(t)),t}function hl(e,t){return Fy(e.databaseId,t.path)}function hi(e,t){var n=KA(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Se(WA(n))}function uv(e,t){return Fy(e.databaseId,t)}function GA(e){var t=KA(e);return t.length===4?st.emptyPath():WA(t)}function dl(e){return new st(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function WA(e){return Oe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function TS(e,t,n){return{name:hl(e,t),fields:n.value.mapValue.fields}}function dF(e,t,n){var r=hi(e,t.name),o=Rn(t.updateTime),s=new or({mapValue:{fields:t.fields}}),u=Sn.newFoundDocument(r,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function Zf(e,t){var n;if(t instanceof Kl)n={update:TS(e,t.key,t.value)};else if(t instanceof Gl)n={delete:hl(e,t.key)};else if(t instanceof ro)n={update:TS(e,t.key,t.data),updateMask:yF(t.fieldMask)};else{if(!(t instanceof Dy))return _e();n={verify:hl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(r){return function(o,s){var u=s.transform;if(u instanceof da)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Zo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof es)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof pa)return{fieldPath:s.field.canonicalString(),increment:u.A};throw _e()}(0,r)})),t.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:hF(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:_e()}(e,t.precondition)),n}function IS(e,t){var n=t.currentDocument?function(d){return d.updateTime!==void 0?_n.updateTime(Rn(d.updateTime)):d.exists!==void 0?_n.exists(d.exists):_n.none()}(t.currentDocument):_n.none(),r=t.updateTransforms?t.updateTransforms.map(function(d){return function(m,h){var g=null;if("setToServerValue"in h)Oe(h.setToServerValue==="REQUEST_TIME"),g=new da;else if("appendMissingElements"in h){var y=h.appendMissingElements.values||[];g=new Zo(y)}else if("removeAllFromArray"in h){var b=h.removeAllFromArray.values||[];g=new es(b)}else"increment"in h?g=new pa(m,h.increment):_e();var w=Mr.fromServerFormat(h.fieldPath);return new Hl(w,g)}(e,d)}):[];if(t.update){t.update.name;var o=hi(e,t.update.name),s=new or({mapValue:{fields:t.update.fields}});if(t.updateMask){var u=function(d){var m=d.fieldPaths||[];return new la(m.map(function(h){return Mr.fromServerFormat(h)}))}(t.updateMask);return new ro(o,s,u,n,r)}return new Kl(o,s,n,r)}if(t.delete){var l=hi(e,t.delete);return new Gl(l,n)}if(t.verify){var f=hi(e,t.verify);return new Dy(f,n)}return _e()}function zA(e,t){return{documents:[uv(e,t.path)]}}function XA(e,t){var n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=uv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=uv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var o=function(l){if(l.length!==0){var f=l.map(function(d){return function(m){if(m.op==="=="){if(fS(m.value))return{unaryFilter:{field:Fs(m.field),op:"IS_NAN"}};if(cS(m.value))return{unaryFilter:{field:Fs(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(fS(m.value))return{unaryFilter:{field:Fs(m.field),op:"IS_NOT_NAN"}};if(cS(m.value))return{unaryFilter:{field:Fs(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(m.field),op:gF(m.op),value:m.value}}}(d)});return f.length===1?f[0]:{compositeFilter:{op:"AND",filters:f}}}}(t.filters);o&&(n.structuredQuery.where=o);var s=function(l){if(l.length!==0)return l.map(function(f){return function(d){return{field:Fs(d.field),direction:pF(d.dir)}}(f)})}(t.orderBy);s&&(n.structuredQuery.orderBy=s);var u=function(l,f){return l.I||os(f)?f:{value:f}}(e,t.limit);return u!==null&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt=AS(t.startAt)),t.endAt&&(n.structuredQuery.endAt=AS(t.endAt)),n}function YA(e){var t=GA(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){Oe(r===1);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var u=[];n.where&&(u=QA(n.where));var l=[];n.orderBy&&(l=n.orderBy.map(function(h){return function(g){return new Ys(Ks(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h)}));var f=null;n.limit&&(f=function(h){var g;return os(g=typeof h=="object"?h.value:h)?null:g}(n.limit));var d=null;n.startAt&&(d=xS(n.startAt));var m=null;return n.endAt&&(m=xS(n.endAt)),kA(t,o,l,u,f,"F",d,m)}function QA(e){return e?e.unaryFilter!==void 0?[vF(e)]:e.fieldFilter!==void 0?[mF(e)]:e.compositeFilter!==void 0?e.compositeFilter.filters.map(function(t){return QA(t)}).reduce(function(t,n){return t.concat(n)}):_e():[]}function AS(e){return{before:e.before,values:e.position}}function xS(e){var t=!!e.before,n=e.values||[];return new cl(n,t)}function pF(e){return lF[e]}function gF(e){return cF[e]}function Fs(e){return{fieldPath:e.canonicalString()}}function Ks(e){return Mr.fromServerFormat(e.fieldPath)}function mF(e){return ar.create(Ks(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return _e()}}(e.fieldFilter.op),e.fieldFilter.value)}function vF(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ks(e.unaryFilter.field);return ar.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ks(e.unaryFilter.field);return ar.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ks(e.unaryFilter.field);return ar.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=Ks(e.unaryFilter.field);return ar.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return _e()}}function yF(e){var t=[];return e.fields.forEach(function(n){return t.push(n.canonicalString())}),{fieldPaths:t}}function JA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=kS(t)),t=bF(e.get(n),t);return kS(t)}function bF(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var s=e.charAt(o);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function kS(e){return e+""}function fi(e){var t=e.length;if(Oe(t>=2),t===2)return Oe(e.charAt(0)===""&&e.charAt(1)===""),st.emptyPath();for(var n=t-2,r=[],o="",s=0;s<t;){var u=e.indexOf("",s);switch((u<0||u>n)&&_e(),e.charAt(u+1)){case"":var l=e.substring(s,u),f=void 0;o.length===0?f=l:(f=o+=l,o=""),r.push(f);break;case"":o+=e.substring(s,u),o+="\0";break;case"":o+=e.substring(s,u+1);break;default:_e()}s=u+2}return new st(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _F=function(e,t){this.seconds=e,this.nanoseconds=t},rr=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};rr.store="owner",rr.key="owner";var zi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};zi.store="mutationQueues",zi.keyPath="userId";var _t=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};_t.store="mutations",_t.keyPath="batchId",_t.userMutationsIndex="userMutationsIndex",_t.userMutationsKeyPath=["userId","batchId"];var mn=function(){function e(){}return e.prefixForUser=function(t){return[t]},e.prefixForPath=function(t,n){return[t,Lr(n)]},e.key=function(t,n,r){return[t,Lr(n),r]},e}();mn.store="documentMutations",mn.PLACEHOLDER=new mn;var wF=function(e,t){this.path=e,this.readTime=t},SF=function(e,t){this.path=e,this.version=t},Rt=function(e,t,n,r,o,s){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=s};Rt.store="remoteDocuments",Rt.readTimeIndex="readTimeIndex",Rt.readTimeIndexPath="readTime",Rt.collectionReadTimeIndex="collectionReadTimeIndex",Rt.collectionReadTimeIndexPath=["parentPath","readTime"];var Xr=function(e){this.byteSize=e};Xr.store="remoteDocumentGlobal",Xr.key="remoteDocumentGlobalKey";var qn=function(e,t,n,r,o,s,u){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=s,this.query=u};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var an=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};an.store="targetDocuments",an.keyPath=["targetId","path"],an.documentTargetsIndex="documentTargetsIndex",an.documentTargetsKeyPath=["path","targetId"];var ir=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ir.key="targetGlobalKey",ir.store="targetGlobal";var qo=function(e,t){this.collectionId=e,this.parent=t};qo.store="collectionParents",qo.keyPath=["collectionId","parent"];var di=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};di.store="clientMetadata",di.keyPath="clientId";var ga=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ga.store="bundles",ga.keyPath="bundleId";var ma=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ma.store="namedQueries",ma.keyPath="name";var EF=It(It([],It(It([],It(It([],It(It([],[zi.store,_t.store,mn.store,Rt.store,qn.store,rr.store,ir.store,an.store]),[di.store])),[Xr.store])),[qo.store])),[ga.store,ma.store]),ZA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ex=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},e}(),zn=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},ee=function(){function e(t){var n=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(r){n.isDone=!0,n.result=r,n.nextCallback&&n.nextCallback(r)},function(r){n.isDone=!0,n.error=r,n.catchCallback&&n.catchCallback(r)})}return e.prototype.catch=function(t){return this.next(void 0,t)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&_e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(o,s){r.nextCallback=function(u){r.wrapSuccess(t,u).next(o,s)},r.catchCallback=function(u){r.wrapFailure(n,u).next(o,s)}})},e.prototype.toPromise=function(){var t=this;return new Promise(function(n,r){t.next(n,r)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(r){return e.reject(r)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(n,r){n(t)})},e.reject=function(t){return new e(function(n,r){r(t)})},e.waitFor=function(t){return new e(function(n,r){var o=0,s=0,u=!1;t.forEach(function(l){++o,l.next(function(){++s,u&&s===o&&n()},function(f){return r(f)})}),u=!0,s===o&&n()})},e.or=function(t){for(var n=e.resolve(!1),r=function(u){n=n.next(function(l){return l?e.resolve(l):u()})},o=0,s=t;o<s.length;o++)r(s[o]);return n},e.forEach=function(t,n){var r=this,o=[];return t.forEach(function(s,u){o.push(n.call(r,s,u))}),this.waitFor(o)},e}(),tx=function(){function e(t,n){var r=this;this.action=t,this.transaction=n,this.aborted=!1,this.ft=new zn,this.transaction.oncomplete=function(){r.ft.resolve()},this.transaction.onabort=function(){n.error?r.ft.reject(new Bu(t,n.error)):r.ft.resolve()},this.transaction.onerror=function(o){var s=Vy(o.target.error);r.ft.reject(new Bu(t,s))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(s){throw new Bu(n,s)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(re("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(t){var n=this.transaction.objectStore(t);return new IF(n)},e}(),va=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,e._t(Xo())===12.2&&qt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return re("SimpleDb","Removing database:",t),Lo(window.indexedDB.deleteDatabase(t)).toPromise()},e.yt=function(){if(typeof indexedDB>"u")return!1;if(e.gt())return!0;var t=Xo(),n=e._t(t),r=0<n&&n<10,o=e.Et(t),s=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||s)},e.gt=function(){var t;return typeof process<"u"&&((t=process.env)===null||t===void 0?void 0:t.Tt)==="YES"},e.It=function(t,n){return t.store(n)},e._t=function(t){var n=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)},e.Et=function(t){var n=t.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)},e.prototype.At=function(t){return H(this,void 0,void 0,function(){var n,r=this;return $(this,function(o){switch(o.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),n=this,[4,new Promise(function(s,u){var l=indexedDB.open(r.name,r.version);l.onsuccess=function(f){var d=f.target.result;s(d)},l.onblocked=function(){u(new Bu(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=function(f){var d=f.target.error;d.name==="VersionError"?u(new Y(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u(new Bu(t,d))},l.onupgradeneeded=function(f){re("SimpleDb",'Database "'+r.name+'" requires upgrade from version:',f.oldVersion);var d=f.target.result;r.wt.Rt(d,l.transaction,f.oldVersion,r.version).next(function(){re("SimpleDb","Database upgrade to version "+r.version+" complete")})}})]);case 1:n.db=o.sent(),o.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(s){return r.bt(s)}),this.db)]}})})},e.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(n){return t(n)})},e.prototype.runTransaction=function(t,n,r,o){return H(this,void 0,void 0,function(){var s,u,l,f,d;return $(this,function(m){switch(m.label){case 0:s=n==="readonly",u=0,l=function(){var h,g,y,b,w;return $(this,function(E){switch(E.label){case 0:++u,E.label=1;case 1:return E.trys.push([1,4,,5]),[4,f.At(t)];case 2:return f.db=E.sent(),h=tx.open(f.db,t,s?"readonly":"readwrite",r),g=o(h).catch(function(T){return h.abort(T),ee.reject(T)}).toPromise(),y={},g.catch(function(){}),[4,h.dt];case 3:return[2,(y.value=(E.sent(),g),y)];case 4:return b=E.sent(),w=b.name!=="FirebaseError"&&u<3,re("SimpleDb","Transaction failed with error:",b.message,"Retrying:",w),f.close(),w?[3,5]:[2,{value:Promise.reject(b)}];case 5:return[2]}})},f=this,m.label=1;case 1:return[5,l()];case 2:if(typeof(d=m.sent())=="object")return[2,d.value];m.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),TF=function(){function e(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(t){this.St=t},e.prototype.delete=function(){return Lo(this.Pt.delete())},e}(),Bu=function(e){function t(n,r){var o=this;return(o=e.call(this,M.UNAVAILABLE,"IndexedDB transaction '"+n+"' failed: "+r)||this).name="IndexedDbTransactionError",o}return Ie(t,e),t}(Y);function ss(e){return e.name==="IndexedDbTransactionError"}var IF=function(){function e(t){this.store=t}return e.prototype.put=function(t,n){var r;return n!==void 0?(re("SimpleDb","PUT",this.store.name,t,n),r=this.store.put(n,t)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Lo(r)},e.prototype.add=function(t){return re("SimpleDb","ADD",this.store.name,t,t),Lo(this.store.add(t))},e.prototype.get=function(t){var n=this;return Lo(this.store.get(t)).next(function(r){return r===void 0&&(r=null),re("SimpleDb","GET",n.store.name,t,r),r})},e.prototype.delete=function(t){return re("SimpleDb","DELETE",this.store.name,t),Lo(this.store.delete(t))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),Lo(this.store.count())},e.prototype.Nt=function(t,n){var r=this.cursor(this.options(t,n)),o=[];return this.xt(r,function(s,u){o.push(u)}).next(function(){return o})},e.prototype.kt=function(t,n){re("SimpleDb","DELETE ALL",this.store.name);var r=this.options(t,n);r.Ft=!1;var o=this.cursor(r);return this.xt(o,function(s,u,l){return l.delete()})},e.prototype.$t=function(t,n){var r;n?r=t:(r={},n=t);var o=this.cursor(r);return this.xt(o,n)},e.prototype.Ot=function(t){var n=this.cursor({});return new ee(function(r,o){n.onerror=function(s){var u=Vy(s.target.error);o(u)},n.onsuccess=function(s){var u=s.target.result;u?t(u.primaryKey,u.value).next(function(l){l?u.continue():r()}):r()}})},e.prototype.xt=function(t,n){var r=[];return new ee(function(o,s){t.onerror=function(u){s(u.target.error)},t.onsuccess=function(u){var l=u.target.result;if(l){var f=new TF(l),d=n(l.primaryKey,l.value,f);if(d instanceof ee){var m=d.catch(function(h){return f.done(),ee.reject(h)});r.push(m)}f.isDone?o():f.Dt===null?l.continue():l.continue(f.Dt)}else o()}}).next(function(){return ee.waitFor(r)})},e.prototype.options=function(t,n){var r;return t!==void 0&&(typeof t=="string"?r=t:n=t),{index:r,range:n}},e.prototype.cursor=function(t){var n="next";if(t.reverse&&(n="prev"),t.index){var r=this.store.index(t.index);return t.Ft?r.openKeyCursor(t.range,n):r.openCursor(t.range,n)}return this.store.openCursor(t.range,n)},e}();function Lo(e){return new ee(function(t,n){e.onsuccess=function(r){var o=r.target.result;t(o)},e.onerror=function(r){var o=Vy(r.target.error);n(o)}})}var CS=!1;function Vy(e){var t=va._t(Xo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Y("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return CS||(CS=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OS=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Mt=n,o.currentSequenceNumber=r,o}return Ie(t,e),t}(ex);function Xn(e,t){var n=se(e);return va.It(n.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jy=function(){function e(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}return e.prototype.applyToRemoteDocument=function(t,n){for(var r=n.mutationResults,o=0;o<this.mutations.length;o++){var s=this.mutations[o];s.key.isEqual(t.key)&&Z2(s,t,r[o])}},e.prototype.applyToLocalView=function(t){for(var n=0,r=this.baseMutations;n<r.length;n++)(u=r[n]).key.isEqual(t.key)&&sv(u,t,this.localWriteTime);for(var o=0,s=this.mutations;o<s.length;o++){var u;(u=s[o]).key.isEqual(t.key)&&sv(u,t,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(t){var n=this;this.mutations.forEach(function(r){var o=t.get(r.key),s=o;n.applyToLocalView(s),o.isValidDocument()||s.convertToNoDocument(Ge.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(t,n){return t.add(n.key)},vt())},e.prototype.isEqual=function(t){return this.batchId===t.batchId&&ua(this.mutations,t.mutations,function(n,r){return mS(n,r)})&&ua(this.baseMutations,t.baseMutations,function(n,r){return mS(n,r)})},e}(),AF=function(){function e(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}return e.from=function(t,n,r){Oe(t.mutations.length===r.length);for(var o=oF(),s=t.mutations,u=0;u<s.length;u++)o=o.insert(s[u].key,r[u].version);return new e(t,n,r,o)},e}(),Jh=function(){function e(t,n,r,o,s,u,l){s===void 0&&(s=Ge.min()),u===void 0&&(u=Ge.min()),l===void 0&&(l=Wn.EMPTY_BYTE_STRING),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=l}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),nx=function(e){this.Lt=e};function lv(e,t){if(t.document)return dF(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=Se.fromSegments(t.noDocument.path),r=ba(t.noDocument.readTime),o=Sn.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var s=Se.fromSegments(t.unknownDocument.path);return r=ba(t.unknownDocument.version),Sn.newUnknownDocument(s,r)}return _e()}function PS(e,t,n){var r=Uy(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var s=function(h,g){return{name:hl(h,g.key),fields:g.data.value.mapValue.fields,updateTime:fl(h,g.version.toTimestamp())}}(e.Lt,t),u=t.hasCommittedMutations;return new Rt(null,null,s,u,r,o)}if(t.isNoDocument()){var l=t.key.path.toArray(),f=ya(t.version);return u=t.hasCommittedMutations,new Rt(null,new wF(l,f),null,u,r,o)}if(t.isUnknownDocument()){var d=t.key.path.toArray(),m=ya(t.version);return new Rt(new SF(d,m),null,null,!0,r,o)}return _e()}function Uy(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rx(e){var t=new Kn(e[0],e[1]);return Ge.fromTimestamp(t)}function ya(e){var t=e.toTimestamp();return new _F(t.seconds,t.nanoseconds)}function ba(e){var t=new Kn(e.seconds,e.nanoseconds);return Ge.fromTimestamp(t)}function Bs(e,t){for(var n=(t.baseMutations||[]).map(function(f){return IS(e.Lt,f)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&t.mutations[r+1].transform!==void 0){var s=t.mutations[r+1];o.updateTransforms=s.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var u=t.mutations.map(function(f){return IS(e.Lt,f)}),l=Kn.fromMillis(t.localWriteTimeMs);return new jy(t.batchId,l,n,u)}function Ru(e){var t,n,r=ba(e.readTime),o=e.lastLimboFreeSnapshotVersion!==void 0?ba(e.lastLimboFreeSnapshotVersion):Ge.min();return e.query.documents!==void 0?(Oe((n=e.query).documents.length===1),t=ni(Bl(GA(n.documents[0])))):t=function(s){return ni(YA(s))}(e.query),new Jh(t,e.targetId,0,e.lastListenSequenceNumber,r,o,Wn.fromBase64String(e.resumeToken))}function ix(e,t){var n,r=ya(t.snapshotVersion),o=ya(t.lastLimboFreeSnapshotVersion);n=Yf(t.target)?zA(e.Lt,t.target):XA(e.Lt,t.target);var s=t.resumeToken.toBase64();return new qn(t.targetId,Ul(t.target),r,s,t.sequenceNumber,o,n)}function ox(e){var t=YA({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?CA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xF=function(){function e(){}return e.prototype.getBundleMetadata=function(t,n){return NS(t).get(n).next(function(r){if(r)return{id:(o=r).bundleId,createTime:ba(o.createTime),version:o.version};var o})},e.prototype.saveBundleMetadata=function(t,n){return NS(t).put({bundleId:(r=n).id,createTime:ya(Rn(r.createTime)),version:r.version});var r},e.prototype.getNamedQuery=function(t,n){return RS(t).get(n).next(function(r){if(r)return{name:(o=r).name,query:ox(o.bundledQuery),readTime:ba(o.readTime)};var o})},e.prototype.saveNamedQuery=function(t,n){return RS(t).put(function(r){return{name:r.name,readTime:ya(Rn(r.readTime)),bundledQuery:r.bundledQuery}}(n))},e}();function NS(e){return Xn(e,ga.store)}function RS(e){return Xn(e,ma.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kF=function(){function e(){this.Bt=new By}return e.prototype.addToCollectionParentIndex=function(t,n){return this.Bt.add(n),ee.resolve()},e.prototype.getCollectionParents=function(t,n){return ee.resolve(this.Bt.getEntries(n))},e}(),By=function(){function e(){this.index={}}return e.prototype.add=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Qt(st.comparator),s=!o.has(r);return this.index[n]=o.add(r),s},e.prototype.has=function(t){var n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)},e.prototype.getEntries=function(t){return(this.index[t]||new Qt(st.comparator)).toArray()},e}(),CF=function(){function e(){this.qt=new By}return e.prototype.addToCollectionParentIndex=function(t,n){var r=this;if(!this.qt.has(n)){var o=n.lastSegment(),s=n.popLast();t.addOnCommittedListener(function(){r.qt.add(n)});var u={collectionId:o,parent:Lr(s)};return DS(t).put(u)}return ee.resolve()},e.prototype.getCollectionParents=function(t,n){var r=[],o=IDBKeyRange.bound([n,""],[wA(n),""],!1,!0);return DS(t).Nt(o).next(function(s){for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.collectionId!==n)break;r.push(fi(f.parent))}return r})},e}();function DS(e){return Xn(e,qo.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Gr=function(){function e(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(e,t,n){var r=e.store(_t.store),o=e.store(mn.store),s=[],u=IDBKeyRange.only(n.batchId),l=0,f=r.$t({range:u},function(b,w,E){return l++,E.delete()});s.push(f.next(function(){Oe(l===1)}));for(var d=[],m=0,h=n.mutations;m<h.length;m++){var g=h[m],y=mn.key(t,g.key.path,n.batchId);s.push(o.delete(y)),d.push(g.key)}return ee.waitFor(s).next(function(){return d})}function eh(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _e();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gr.DEFAULT_COLLECTION_PERCENTILE=10,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gr.DEFAULT=new Gr(41943040,Gr.DEFAULT_COLLECTION_PERCENTILE,Gr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gr.DISABLED=new Gr(-1,0,0);var OF=function(){function e(t,n,r,o){this.userId=t,this.R=n,this.Ut=r,this.referenceDelegate=o,this.Kt={}}return e.Qt=function(t,n,r,o){return Oe(t.uid!==""),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(t){var n=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pi(t).$t({index:_t.userMutationsIndex,range:r},function(o,s,u){n=!1,u.done()}).next(function(){return n})},e.prototype.addMutationBatch=function(t,n,r,o){var s=this,u=$s(t),l=Pi(t);return l.add({}).next(function(f){Oe(typeof f=="number");for(var d=new jy(f,n,r,o),m=function(T,k,D){var F=D.baseMutations.map(function(V){return Zf(T.Lt,V)}),J=D.mutations.map(function(V){return Zf(T.Lt,V)});return new _t(k,D.batchId,D.localWriteTime.toMillis(),F,J)}(s.R,s.userId,d),h=[],g=new Qt(function(T,k){return Qe(T.canonicalString(),k.canonicalString())}),y=0,b=o;y<b.length;y++){var w=b[y],E=mn.key(s.userId,w.key.path,f);g=g.add(w.key.path.popLast()),h.push(l.put(m)),h.push(u.put(E,mn.PLACEHOLDER))}return g.forEach(function(T){h.push(s.Ut.addToCollectionParentIndex(t,T))}),t.addOnCommittedListener(function(){s.Kt[f]=d.keys()}),ee.waitFor(h).next(function(){return d})})},e.prototype.lookupMutationBatch=function(t,n){var r=this;return Pi(t).get(n).next(function(o){return o?(Oe(o.userId===r.userId),Bs(r.R,o)):null})},e.prototype.jt=function(t,n){var r=this;return this.Kt[n]?ee.resolve(this.Kt[n]):this.lookupMutationBatch(t,n).next(function(o){if(o){var s=o.keys();return r.Kt[n]=s,s}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=this,o=n+1,s=IDBKeyRange.lowerBound([this.userId,o]),u=null;return Pi(t).$t({index:_t.userMutationsIndex,range:s},function(l,f,d){f.userId===r.userId&&(Oe(f.batchId>=o),u=Bs(r.R,f)),d.done()}).next(function(){return u})},e.prototype.getHighestUnacknowledgedBatchId=function(t){var n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return Pi(t).$t({index:_t.userMutationsIndex,range:n,reverse:!0},function(o,s,u){r=s.batchId,u.done()}).next(function(){return r})},e.prototype.getAllMutationBatches=function(t){var n=this,r=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pi(t).Nt(_t.userMutationsIndex,r).next(function(o){return o.map(function(s){return Bs(n.R,s)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=mn.prefixForPath(this.userId,n.path),s=IDBKeyRange.lowerBound(o),u=[];return $s(t).$t({range:s},function(l,f,d){var m=l[0],h=l[1],g=l[2],y=fi(h);if(m===r.userId&&n.path.isEqual(y))return Pi(t).get(g).next(function(b){if(!b)throw _e();Oe(b.userId===r.userId),u.push(Bs(r.R,b))});d.done()}).next(function(){return u})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Qt(Qe),s=[];return n.forEach(function(u){var l=mn.prefixForPath(r.userId,u.path),f=IDBKeyRange.lowerBound(l),d=$s(t).$t({range:f},function(m,h,g){var y=m[0],b=m[1],w=m[2],E=fi(b);y===r.userId&&u.path.isEqual(E)?o=o.add(w):g.done()});s.push(d)}),ee.waitFor(s).next(function(){return r.Wt(t,o)})},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=this,o=n.path,s=o.length+1,u=mn.prefixForPath(this.userId,o),l=IDBKeyRange.lowerBound(u),f=new Qt(Qe);return $s(t).$t({range:l},function(d,m,h){var g=d[0],y=d[1],b=d[2],w=fi(y);g===r.userId&&o.isPrefixOf(w)?w.length===s&&(f=f.add(b)):h.done()}).next(function(){return r.Wt(t,f)})},e.prototype.Wt=function(t,n){var r=this,o=[],s=[];return n.forEach(function(u){s.push(Pi(t).get(u).next(function(l){if(l===null)throw _e();Oe(l.userId===r.userId),o.push(Bs(r.R,l))}))}),ee.waitFor(s).next(function(){return o})},e.prototype.removeMutationBatch=function(t,n){var r=this;return sx(t.Mt,this.userId,n).next(function(o){return t.addOnCommittedListener(function(){r.Gt(n.batchId)}),ee.forEach(o,function(s){return r.referenceDelegate.markPotentiallyOrphaned(t,s)})})},e.prototype.Gt=function(t){delete this.Kt[t]},e.prototype.performConsistencyCheck=function(t){var n=this;return this.checkEmpty(t).next(function(r){if(!r)return ee.resolve();var o=IDBKeyRange.lowerBound(mn.prefixForUser(n.userId)),s=[];return $s(t).$t({range:o},function(u,l,f){if(u[0]===n.userId){var d=fi(u[1]);s.push(d)}else f.done()}).next(function(){Oe(s.length===0)})})},e.prototype.containsKey=function(t,n){return ax(t,this.userId,n)},e.prototype.zt=function(t){var n=this;return ux(t).get(this.userId).next(function(r){return r||new zi(n.userId,-1,"")})},e}();function ax(e,t,n){var r=mn.prefixForPath(t,n.path),o=r[1],s=IDBKeyRange.lowerBound(r),u=!1;return $s(e).$t({range:s,Ft:!0},function(l,f,d){var m=l[0],h=l[1];l[2],m===t&&h===o&&(u=!0),d.done()}).next(function(){return u})}function Pi(e){return Xn(e,_t.store)}function $s(e){return Xn(e,mn.store)}function ux(e){return Xn(e,zi.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var th=function(){function e(t){this.Ht=t}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),PF=function(){function e(t,n){this.referenceDelegate=t,this.R=n}return e.prototype.allocateTargetId=function(t){var n=this;return this.Xt(t).next(function(r){var o=new th(r.highestTargetId);return r.highestTargetId=o.next(),n.Zt(t,r).next(function(){return r.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(n){return Ge.fromTimestamp(new Kn(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(n){return n.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(t,n,r){var o=this;return this.Xt(t).next(function(s){return s.highestListenSequenceNumber=n,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),n>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=n),o.Zt(t,s)})},e.prototype.addTargetData=function(t,n){var r=this;return this.te(t,n).next(function(){return r.Xt(t).next(function(o){return o.targetCount+=1,r.ee(n,o),r.Zt(t,o)})})},e.prototype.updateTargetData=function(t,n){return this.te(t,n)},e.prototype.removeTargetData=function(t,n){var r=this;return this.removeMatchingKeysForTargetId(t,n.targetId).next(function(){return Vs(t).delete(n.targetId)}).next(function(){return r.Xt(t)}).next(function(o){return Oe(o.targetCount>0),o.targetCount-=1,r.Zt(t,o)})},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return Vs(t).$t(function(l,f){var d=Ru(f);d.sequenceNumber<=n&&r.get(d.targetId)===null&&(s++,u.push(o.removeTargetData(t,d)))}).next(function(){return ee.waitFor(u)}).next(function(){return s})},e.prototype.forEachTarget=function(t,n){return Vs(t).$t(function(r,o){var s=Ru(o);n(s)})},e.prototype.Xt=function(t){return MS(t).get(ir.key).next(function(n){return Oe(n!==null),n})},e.prototype.Zt=function(t,n){return MS(t).put(ir.key,n)},e.prototype.te=function(t,n){return Vs(t).put(ix(this.R,n))},e.prototype.ee=function(t,n){var r=!1;return t.targetId>n.highestTargetId&&(n.highestTargetId=t.targetId,r=!0),t.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=t.sequenceNumber,r=!0),r},e.prototype.getTargetCount=function(t){return this.Xt(t).next(function(n){return n.targetCount})},e.prototype.getTargetData=function(t,n){var r=Ul(n),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return Vs(t).$t({range:o,index:qn.queryTargetsIndexName},function(u,l,f){var d=Ru(l);zh(n,d.target)&&(s=d,f.done())}).next(function(){return s})},e.prototype.addMatchingKeys=function(t,n,r){var o=this,s=[],u=Ui(t);return n.forEach(function(l){var f=Lr(l.path);s.push(u.put(new an(r,f))),s.push(o.referenceDelegate.addReference(t,r,l))}),ee.waitFor(s)},e.prototype.removeMatchingKeys=function(t,n,r){var o=this,s=Ui(t);return ee.forEach(n,function(u){var l=Lr(u.path);return ee.waitFor([s.delete([r,l]),o.referenceDelegate.removeReference(t,r,u)])})},e.prototype.removeMatchingKeysForTargetId=function(t,n){var r=Ui(t),o=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(o)},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=IDBKeyRange.bound([n],[n+1],!1,!0),o=Ui(t),s=vt();return o.$t({range:r,Ft:!0},function(u,l,f){var d=fi(u[1]),m=new Se(d);s=s.add(m)}).next(function(){return s})},e.prototype.containsKey=function(t,n){var r=Lr(n.path),o=IDBKeyRange.bound([r],[wA(r)],!1,!0),s=0;return Ui(t).$t({index:an.documentTargetsIndex,Ft:!0,range:o},function(u,l,f){var d=u[0];u[1],d!==0&&(s++,f.done())}).next(function(){return s>0})},e.prototype.lt=function(t,n){return Vs(t).get(n).next(function(r){return r?Ru(r):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(e){return Xn(e,qn.store)}function MS(e){return Xn(e,ir.store)}function Ui(e){return Xn(e,an.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(e){return H(this,void 0,void 0,function(){return $(this,function(t){if(e.code!==M.FAILED_PRECONDITION||e.message!==ZA)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(e,t){var n=e[0],r=e[1],o=t[0],s=t[1],u=Qe(n,o);return u===0?Qe(r,s):u}var NF=function(){function e(t){this.ne=t,this.buffer=new Qt(FS),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(t){var n=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(n);else{var r=this.buffer.last();FS(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),RF=function(){function e(t,n){this.garbageCollector=t,this.asyncQueue=n,this.oe=!1,this.ce=null}return e.prototype.start=function(t){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.ue(t)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return this.ce!==null},enumerable:!1,configurable:!0}),e.prototype.ue=function(t){var n=this,r=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+r+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,function(){return H(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:this.ce=null,this.oe=!0,s.label=1;case 1:return s.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return s.sent(),[3,7];case 3:return ss(o=s.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o),[3,6]):[3,4];case 4:return[4,as(o)];case 5:s.sent(),s.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return s.sent(),[2]}})})})},e}(),DF=function(){function e(t,n){this.ae=t,this.params=n}return e.prototype.calculateTargetCount=function(t,n){return this.ae.he(t).next(function(r){return Math.floor(n/100*r)})},e.prototype.nthSequenceNumber=function(t,n){var r=this;if(n===0)return ee.resolve(sr.o);var o=new NF(n);return this.ae.forEachTarget(t,function(s){return o.re(s.sequenceNumber)}).next(function(){return r.ae.le(t,function(s){return o.re(s)})}).next(function(){return o.maxValue})},e.prototype.removeTargets=function(t,n,r){return this.ae.removeTargets(t,n,r)},e.prototype.removeOrphanedDocuments=function(t,n){return this.ae.removeOrphanedDocuments(t,n)},e.prototype.collect=function(t,n){var r=this;return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(LS)):this.getCacheSize(t).next(function(o){return o<r.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+o+" is lower than threshold "+r.params.cacheSizeCollectionThreshold),LS):r.fe(t,n)})},e.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},e.prototype.fe=function(t,n){var r,o,s,u,l,f,d,m=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(g){return g>m.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+m.params.maximumSequenceNumbersToCollect+" from "+g),o=m.params.maximumSequenceNumbersToCollect):o=g,u=Date.now(),m.nthSequenceNumber(t,o)}).next(function(g){return r=g,l=Date.now(),m.removeTargets(t,r,n)}).next(function(g){return s=g,f=Date.now(),m.removeOrphanedDocuments(t,r)}).next(function(g){return d=Date.now(),nv()<=ot.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in `+(u-h)+`ms
	Determined least recently used `+o+" in "+(l-u)+`ms
	Removed `+s+" targets in "+(f-l)+`ms
	Removed `+g+" documents in "+(d-f)+`ms
Total Duration: `+(d-h)+"ms"),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:s,documentsRemoved:g})})},e}(),LF=function(){function e(t,n){this.db=t,this.garbageCollector=function(r,o){return new DF(r,o)}(this,n)}return e.prototype.he=function(t){var n=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(r){return n.next(function(o){return r+o})})},e.prototype.de=function(t){var n=0;return this.le(t,function(r){n++}).next(function(){return n})},e.prototype.forEachTarget=function(t,n){return this.db.getTargetCache().forEachTarget(t,n)},e.prototype.le=function(t,n){return this.we(t,function(r,o){return n(o)})},e.prototype.addReference=function(t,n,r){return ff(t,r)},e.prototype.removeReference=function(t,n,r){return ff(t,r)},e.prototype.removeTargets=function(t,n,r){return this.db.getTargetCache().removeTargets(t,n,r)},e.prototype.markPotentiallyOrphaned=function(t,n){return ff(t,n)},e.prototype._e=function(t,n){return function(r,o){var s=!1;return ux(r).Ot(function(u){return ax(r,u,o).next(function(l){return l&&(s=!0),ee.resolve(!l)})}).next(function(){return s})}(t,n)},e.prototype.removeOrphanedDocuments=function(t,n){var r=this,o=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[],u=0;return this.we(t,function(l,f){if(f<=n){var d=r._e(t,l).next(function(m){if(!m)return u++,o.getEntry(t,l).next(function(){return o.removeEntry(l),Ui(t).delete([0,Lr(l.path)])})});s.push(d)}}).next(function(){return ee.waitFor(s)}).next(function(){return o.apply(t)}).next(function(){return u})},e.prototype.removeTarget=function(t,n){var r=n.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)},e.prototype.updateLimboDocument=function(t,n){return ff(t,n)},e.prototype.we=function(t,n){var r,o=Ui(t),s=sr.o;return o.$t({index:an.documentTargetsIndex},function(u,l){var f=u[0];u[1];var d=l.path,m=l.sequenceNumber;f===0?(s!==sr.o&&n(new Se(fi(r)),s),s=m,r=d):s=sr.o}).next(function(){s!==sr.o&&n(new Se(fi(r)),s)})},e.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},e}();function ff(e,t){return Ui(e).put(function(n,r){return new an(0,Lr(n.path),r)}(t,e.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ra=function(){function e(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return e.prototype.get=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0)for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];if(this.equalsFn(l,t))return f}},e.prototype.has=function(t){return this.get(t)!==void 0},e.prototype.set=function(t,n){var r=this.mapKeyFn(t),o=this.inner[r];if(o!==void 0){for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return void(o[s]=[t,n]);o.push([t,n])}else this.inner[r]=[[t,n]]},e.prototype.delete=function(t){var n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),!0;return!1},e.prototype.forEach=function(t){is(this.inner,function(n,r){for(var o=0,s=r;o<s.length;o++){var u=s[o],l=u[0],f=u[1];t(l,f)}})},e.prototype.isEmpty=function(){return SA(this.inner)},e}(),lx=function(){function e(){this.changes=new Ra(function(t){return t.toString()},function(t,n){return t.isEqual(n)}),this.changesApplied=!1}return e.prototype.getReadTime=function(t){var n=this.changes.get(t);return n?n.readTime:Ge.min()},e.prototype.addEntry=function(t,n){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:n})},e.prototype.removeEntry=function(t,n){n===void 0&&(n=null),this.assertNotApplied(),this.changes.set(t,{document:Sn.newInvalidDocument(t),readTime:n})},e.prototype.getEntry=function(t,n){this.assertNotApplied();var r=this.changes.get(n);return r!==void 0?ee.resolve(r.document):this.getFromCache(t,n)},e.prototype.getEntries=function(t,n){return this.getAllFromCache(t,n)},e.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},e.prototype.assertNotApplied=function(){},e}(),MF=function(){function e(t,n){this.R=t,this.Ut=n}return e.prototype.addEntry=function(t,n,r){return Mi(t).put(hf(n),r)},e.prototype.removeEntry=function(t,n){var r=Mi(t),o=hf(n);return r.delete(o)},e.prototype.updateMetadata=function(t,n){var r=this;return this.getMetadata(t).next(function(o){return o.byteSize+=n,r.me(t,o)})},e.prototype.getEntry=function(t,n){var r=this;return Mi(t).get(hf(n)).next(function(o){return r.ye(n,o)})},e.prototype.ge=function(t,n){var r=this;return Mi(t).get(hf(n)).next(function(o){return{document:r.ye(n,o),size:eh(o)}})},e.prototype.getEntries=function(t,n){var r=this,o=Dr();return this.pe(t,n,function(s,u){var l=r.ye(s,u);o=o.insert(s,l)}).next(function(){return o})},e.prototype.Ee=function(t,n){var r=this,o=Dr(),s=new En(Se.comparator);return this.pe(t,n,function(u,l){var f=r.ye(u,l);o=o.insert(u,f),s=s.insert(u,eh(l))}).next(function(){return{documents:o,Te:s}})},e.prototype.pe=function(t,n,r){if(n.isEmpty())return ee.resolve();var o=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),s=n.getIterator(),u=s.getNext();return Mi(t).$t({range:o},function(l,f,d){for(var m=Se.fromSegments(l);u&&Se.comparator(u,m)<0;)r(u,null),u=s.getNext();u&&u.isEqual(m)&&(r(u,f),u=s.hasNext()?s.getNext():null),u?d.Ct(u.path.toArray()):d.done()}).next(function(){for(;u;)r(u,null),u=s.hasNext()?s.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){var o=this,s=Dr(),u=n.path.length+1,l={};if(r.isEqual(Ge.min())){var f=n.path.toArray();l.range=IDBKeyRange.lowerBound(f)}else{var d=n.path.toArray(),m=Uy(r);l.range=IDBKeyRange.lowerBound([d,m],!0),l.index=Rt.collectionReadTimeIndex}return Mi(t).$t(l,function(h,g,y){if(h.length===u){var b=lv(o.R,g);n.path.isPrefixOf(b.key.path)?ql(n,b)&&(s=s.insert(b.key,b)):y.done()}}).next(function(){return s})},e.prototype.newChangeBuffer=function(t){return new FF(this,!!t&&t.trackRemovals)},e.prototype.getSize=function(t){return this.getMetadata(t).next(function(n){return n.byteSize})},e.prototype.getMetadata=function(t){return VS(t).get(Xr.key).next(function(n){return Oe(!!n),n})},e.prototype.me=function(t,n){return VS(t).put(Xr.key,n)},e.prototype.ye=function(t,n){if(n){var r=lv(this.R,n);if(!r.isNoDocument()||!r.version.isEqual(Ge.min()))return r}return Sn.newInvalidDocument(t)},e}(),FF=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).Ie=n,o.trackRemovals=r,o.Ae=new Ra(function(s){return s.toString()},function(s,u){return s.isEqual(u)}),o}return Ie(t,e),t.prototype.applyChanges=function(n){var r=this,o=[],s=0,u=new Qt(function(l,f){return Qe(l.canonicalString(),f.canonicalString())});return this.changes.forEach(function(l,f){var d=r.Ae.get(l);if(f.document.isValidDocument()){var m=PS(r.Ie.R,f.document,r.getReadTime(l));u=u.add(l.path.popLast());var h=eh(m);s+=h-d,o.push(r.Ie.addEntry(n,l,m))}else if(s-=d,r.trackRemovals){var g=PS(r.Ie.R,Sn.newNoDocument(l,Ge.min()),r.getReadTime(l));o.push(r.Ie.addEntry(n,l,g))}else o.push(r.Ie.removeEntry(n,l))}),u.forEach(function(l){o.push(r.Ie.Ut.addToCollectionParentIndex(n,l))}),o.push(this.Ie.updateMetadata(n,s)),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){var o=this;return this.Ie.ge(n,r).next(function(s){return o.Ae.set(r,s.size),s.document})},t.prototype.getAllFromCache=function(n,r){var o=this;return this.Ie.Ee(n,r).next(function(s){var u=s.documents;return s.Te.forEach(function(l,f){o.Ae.set(l,f)}),u})},t}(lx);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(e){return Xn(e,Xr.store)}function Mi(e){return Xn(e,Rt.store)}function hf(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var VF=function(){function e(t){this.R=t}return e.prototype.Rt=function(t,n,r,o){var s=this;Oe(r<o&&r>=0&&o<=11);var u=new tx("createOrUpgrade",n);r<1&&o>=1&&(function(f){f.createObjectStore(rr.store)}(t),function(f){f.createObjectStore(zi.store,{keyPath:zi.keyPath}),f.createObjectStore(_t.store,{keyPath:_t.keyPath,autoIncrement:!0}).createIndex(_t.userMutationsIndex,_t.userMutationsKeyPath,{unique:!0}),f.createObjectStore(mn.store)}(t),jS(t),function(f){f.createObjectStore(Rt.store)}(t));var l=ee.resolve();return r<3&&o>=3&&(r!==0&&(function(f){f.deleteObjectStore(an.store),f.deleteObjectStore(qn.store),f.deleteObjectStore(ir.store)}(t),jS(t)),l=l.next(function(){return function(f){var d=f.store(ir.store),m=new ir(0,0,Ge.min().toTimestamp(),0);return d.put(ir.key,m)}(u)})),r<4&&o>=4&&(r!==0&&(l=l.next(function(){return function(f,d){return d.store(_t.store).Nt().next(function(m){f.deleteObjectStore(_t.store),f.createObjectStore(_t.store,{keyPath:_t.keyPath,autoIncrement:!0}).createIndex(_t.userMutationsIndex,_t.userMutationsKeyPath,{unique:!0});var h=d.store(_t.store),g=m.map(function(y){return h.put(y)});return ee.waitFor(g)})}(t,u)})),l=l.next(function(){(function(f){f.createObjectStore(di.store,{keyPath:di.keyPath})})(t)})),r<5&&o>=5&&(l=l.next(function(){return s.Re(u)})),r<6&&o>=6&&(l=l.next(function(){return function(f){f.createObjectStore(Xr.store)}(t),s.be(u)})),r<7&&o>=7&&(l=l.next(function(){return s.ve(u)})),r<8&&o>=8&&(l=l.next(function(){return s.Pe(t,u)})),r<9&&o>=9&&(l=l.next(function(){(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){var d=f.objectStore(Rt.store);d.createIndex(Rt.readTimeIndex,Rt.readTimeIndexPath,{unique:!1}),d.createIndex(Rt.collectionReadTimeIndex,Rt.collectionReadTimeIndexPath,{unique:!1})}(n)})),r<10&&o>=10&&(l=l.next(function(){return s.Ve(u)})),r<11&&o>=11&&(l=l.next(function(){(function(f){f.createObjectStore(ga.store,{keyPath:ga.keyPath})})(t),function(f){f.createObjectStore(ma.store,{keyPath:ma.keyPath})}(t)})),l},e.prototype.be=function(t){var n=0;return t.store(Rt.store).$t(function(r,o){n+=eh(o)}).next(function(){var r=new Xr(n);return t.store(Xr.store).put(Xr.key,r)})},e.prototype.Re=function(t){var n=this,r=t.store(zi.store),o=t.store(_t.store);return r.Nt().next(function(s){return ee.forEach(s,function(u){var l=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return o.Nt(_t.userMutationsIndex,l).next(function(f){return ee.forEach(f,function(d){Oe(d.userId===u.userId);var m=Bs(n.R,d);return sx(t,u.userId,m).next(function(){})})})})})},e.prototype.ve=function(t){var n=t.store(an.store),r=t.store(Rt.store);return t.store(ir.store).get(ir.key).next(function(o){var s=[];return r.$t(function(u,l){var f=new st(u),d=function(m){return[0,Lr(m)]}(f);s.push(n.get(d).next(function(m){return m?ee.resolve():function(h){return n.put(new an(0,Lr(h),o.highestListenSequenceNumber))}(f)}))}).next(function(){return ee.waitFor(s)})})},e.prototype.Pe=function(t,n){t.createObjectStore(qo.store,{keyPath:qo.keyPath});var r=n.store(qo.store),o=new By,s=function(u){if(o.add(u)){var l=u.lastSegment(),f=u.popLast();return r.put({collectionId:l,parent:Lr(f)})}};return n.store(Rt.store).$t({Ft:!0},function(u,l){var f=new st(u);return s(f.popLast())}).next(function(){return n.store(mn.store).$t({Ft:!0},function(u,l){u[0];var f=u[1];u[2];var d=fi(f);return s(d.popLast())})})},e.prototype.Ve=function(t){var n=this,r=t.store(qn.store);return r.$t(function(o,s){var u=Ru(s),l=ix(n.R,u);return r.put(l)})},e}();function jS(e){e.createObjectStore(an.store,{keyPath:an.keyPath}).createIndex(an.documentTargetsIndex,an.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ir.store)}var cm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",jF=function(){function e(t,n,r,o,s,u,l,f,d,m){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=u,this.document=l,this.De=d,this.Ce=m,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(h){return Promise.resolve()},!e.yt())throw new Y(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new LF(this,o),this.Le=n+"main",this.R=new nx(f),this.Be=new va(this.Le,11,new VF(this.R)),this.qe=new PF(this.referenceDelegate,this.R),this.Ut=new CF,this.Ue=function(h,g){return new MF(h,g)}(this.R,this.Ut),this.Ke=new xF,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,m===!1&&qt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Y(M.FAILED_PRECONDITION,cm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(n){return t.qe.getHighestSequenceNumber(n)})}).then(function(n){t.Ne=new sr(n,t.De)}).then(function(){t.xe=!0}).catch(function(n){return t.Be&&t.Be.close(),Promise.reject(n)})},e.prototype.He=function(t){var n=this;return this.Me=function(r){return H(n,void 0,void 0,function(){return $(this,function(o){return this.started?[2,t(r)]:[2]})})},t(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(t){var n=this;this.Be.vt(function(r){return H(n,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return r.newVersion===null?[4,t()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(t){var n=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return H(n,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(n){return df(n).put(new di(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(n).next(function(r){r||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(n)}).next(function(r){return t.isPrimary&&!r?t.Xe(n).next(function(){return!1}):!!r&&t.Ze(n).next(function(){return!0})})}).catch(function(n){if(ss(n))return re("IndexedDbPersistence","Failed to extend owner lease: ",n),t.isPrimary;if(!t.allowTabSynchronization)throw n;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(function(n){t.isPrimary!==n&&t.Se.enqueueRetryable(function(){return t.Me(n)}),t.isPrimary=n})},e.prototype.Je=function(t){var n=this;return Iu(t).get(rr.key).next(function(r){return ee.resolve(n.tn(r))})},e.prototype.en=function(t){return df(t).delete(this.clientId)},e.prototype.nn=function(){return H(this,void 0,void 0,function(){var t,n,r,o,s=this;return $(this,function(u){switch(u.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(l){var f=Xn(l,di.store);return f.Nt().next(function(d){var m=s.rn(d,18e5),h=d.filter(function(g){return m.indexOf(g)===-1});return ee.forEach(h,function(g){return f.delete(g.clientId)}).next(function(){return h})})}).catch(function(){return[]})]);case 1:if(t=u.sent(),this.Qe)for(n=0,r=t;n<r.length;n++)o=r[n],this.Qe.removeItem(this.on(o.clientId));u.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},e.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},e.prototype.Ye=function(t){var n=this;return this.Ce?ee.resolve(!0):Iu(t).get(rr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)){if(n.tn(r)&&n.networkEnabled)return!0;if(!n.tn(r)){if(!r.allowTabSynchronization)throw new Y(M.FAILED_PRECONDITION,cm);return!1}}return!(!n.networkEnabled||!n.inForeground)||df(t).Nt().next(function(o){return n.rn(o,5e3).find(function(s){if(n.clientId!==s.clientId){var u=!n.networkEnabled&&s.networkEnabled,l=!n.inForeground&&s.inForeground,f=n.networkEnabled===s.networkEnabled;if(u||l&&f)return!0}return!1})===void 0})}).next(function(r){return n.isPrimary!==r&&re("IndexedDbPersistence","Client "+(r?"is":"is not")+" eligible for a primary lease."),r})},e.prototype.shutdown=function(){return H(this,void 0,void 0,function(){var t=this;return $(this,function(n){switch(n.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[rr.store,di.store],function(r){var o=new OS(r,sr.o);return t.Xe(o).next(function(){return t.en(o)})})];case 1:return n.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(t,n){var r=this;return t.filter(function(o){return r.sn(o.updateTimeMs,n)&&!r.cn(o.clientId)})},e.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(n){return df(n).Nt().next(function(r){return t.rn(r,18e5).map(function(o){return o.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(t){return OF.Qt(t,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;re("IndexedDbPersistence","Starting transaction:",t);var s,u=n==="readonly"?"readonly":"readwrite";return this.Be.runTransaction(t,u,EF,function(l){return s=new OS(l,o.Ne?o.Ne.next():sr.o),n==="readwrite-primary"?o.Je(s).next(function(f){return!!f||o.Ye(s)}).next(function(f){if(!f)throw qt("Failed to obtain primary lease for action '"+t+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new Y(M.FAILED_PRECONDITION,ZA);return r(s)}).next(function(f){return o.Ze(s).next(function(){return f})}):o.dn(s).next(function(){return r(s)})}).then(function(l){return s.raiseOnCommittedEvent(),l})},e.prototype.dn=function(t){var n=this;return Iu(t).get(rr.key).next(function(r){if(r!==null&&n.sn(r.leaseTimestampMs,5e3)&&!n.cn(r.ownerId)&&!n.tn(r)&&!(n.Ce||n.allowTabSynchronization&&r.allowTabSynchronization))throw new Y(M.FAILED_PRECONDITION,cm)})},e.prototype.Ze=function(t){var n=new rr(this.clientId,this.allowTabSynchronization,Date.now());return Iu(t).put(rr.key,n)},e.yt=function(){return va.yt()},e.prototype.Xe=function(t){var n=this,r=Iu(t);return r.get(rr.key).next(function(o){return n.tn(o)?(re("IndexedDbPersistence","Releasing primary lease."),r.delete(rr.key)):ee.resolve()})},e.prototype.sn=function(t,n){var r=Date.now();return!(t<r-n||t>r&&(qt("Detected an update time that is in the future: "+t+" > "+r),1))},e.prototype.We=function(){var t=this;this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Fe=function(){t.Se.enqueueAndForget(function(){return t.inForeground=t.document.visibilityState==="visible",t.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground=this.document.visibilityState==="visible")},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var t,n=this;typeof((t=this.window)===null||t===void 0?void 0:t.addEventListener)=="function"&&(this.ke=function(){n.un(),GL()&&navigator.appVersion.match("Version/14")&&n.Se.enterRestrictedMode(!0),n.Se.enqueueAndForget(function(){return n.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(t){var n;try{var r=((n=this.Qe)===null||n===void 0?void 0:n.getItem(this.on(t)))!==null;return re("IndexedDbPersistence","Client '"+t+"' "+(r?"is":"is not")+" zombied in LocalStorage"),r}catch(o){return qt("IndexedDbPersistence","Failed to get zombied client id.",o),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){qt("Failed to set zombie client id.",t)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch{}},e.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},e}();function Iu(e){return Xn(e,rr.store)}function df(e){return Xn(e,di.store)}function $y(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var cx=function(){function e(t,n,r){this.Ue=t,this._n=n,this.Ut=r}return e.prototype.mn=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,n).next(function(o){return r.yn(t,n,o)})},e.prototype.yn=function(t,n,r){return this.Ue.getEntry(t,n).next(function(o){for(var s=0,u=r;s<u.length;s++)u[s].applyToLocalView(o);return o})},e.prototype.gn=function(t,n){t.forEach(function(r,o){for(var s=0,u=n;s<u.length;s++)u[s].applyToLocalView(o)})},e.prototype.pn=function(t,n){var r=this;return this.Ue.getEntries(t,n).next(function(o){return r.En(t,o).next(function(){return o})})},e.prototype.En=function(t,n){var r=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,n).next(function(o){return r.gn(n,o)})},e.prototype.getDocumentsMatchingQuery=function(t,n,r){return function(o){return Se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.Tn(t,n.path):Ry(n)?this.In(t,n,r):this.An(t,n,r)},e.prototype.Tn=function(t,n){return this.mn(t,new Se(n)).next(function(r){var o=av();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})},e.prototype.In=function(t,n,r){var o=this,s=n.collectionGroup,u=av();return this.Ut.getCollectionParents(t,s).next(function(l){return ee.forEach(l,function(f){var d=function(m,h){return new yi(h,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,f.child(s));return o.An(t,d,r).next(function(m){m.forEach(function(h,g){u=u.insert(h,g)})})}).next(function(){return u})})},e.prototype.An=function(t,n,r){var o,s,u=this;return this.Ue.getDocumentsMatchingQuery(t,n,r).next(function(l){return o=l,u._n.getAllMutationBatchesAffectingQuery(t,n)}).next(function(l){return s=l,u.Rn(t,s,o).next(function(f){o=f;for(var d=0,m=s;d<m.length;d++)for(var h=m[d],g=0,y=h.mutations;g<y.length;g++){var b=y[g],w=b.key,E=o.get(w);E==null&&(E=Sn.newInvalidDocument(w),o=o.insert(w,E)),sv(b,E,h.localWriteTime),E.isFoundDocument()||(o=o.remove(w))}})}).next(function(){return o.forEach(function(l,f){ql(n,f)||(o=o.remove(l))}),o})},e.prototype.Rn=function(t,n,r){for(var o=vt(),s=0,u=n;s<u.length;s++)for(var l=0,f=u[s].mutations;l<f.length;l++){var d=f[l];d instanceof ro&&r.get(d.key)===null&&(o=o.add(d.key))}var m=r;return this.Ue.getEntries(t,o).next(function(h){return h.forEach(function(g,y){y.isFoundDocument()&&(m=m.insert(g,y))}),m})},e}(),UF=function(){function e(t,n,r,o){this.targetId=t,this.fromCache=n,this.bn=r,this.vn=o}return e.Pn=function(t,n){for(var r=vt(),o=vt(),s=0,u=n.docChanges;s<u.length;s++){var l=u[s];switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),fx=function(){function e(){}return e.prototype.Vn=function(t){this.Sn=t},e.prototype.getDocumentsMatchingQuery=function(t,n,r,o){var s=this;return function(u){return u.filters.length===0&&u.limit===null&&u.startAt==null&&u.endAt==null&&(u.explicitOrderBy.length===0||u.explicitOrderBy.length===1&&u.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(Ge.min())?this.Dn(t,n):this.Sn.pn(t,o).next(function(u){var l=s.Cn(n,u);return(If(n)||Jf(n))&&s.Nn(n.limitType,l,o,r)?s.Dn(t,n):(nv()<=ot.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ov(n)),s.Sn.getDocumentsMatchingQuery(t,n,r).next(function(f){return l.forEach(function(d){f=f.insert(d.key,d)}),f}))})},e.prototype.Cn=function(t,n){var r=new Qt(PA(t));return n.forEach(function(o,s){ql(t,s)&&(r=r.add(s))}),r},e.prototype.Nn=function(t,n,r,o){if(r.size!==n.size)return!0;var s=t==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)},e.prototype.Dn=function(t,n){return nv()<=ot.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ov(n)),this.Sn.getDocumentsMatchingQuery(t,n,Ge.min())},e}(),BF=function(){function e(t,n,r,o){this.persistence=t,this.xn=n,this.R=o,this.kn=new En(Qe),this.Fn=new Ra(function(s){return Ul(s)},zh),this.$n=Ge.min(),this._n=t.getMutationQueue(r),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new cx(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(t){var n=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(r){return t.collect(r,n.kn)})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(e,t,n,r){return new BF(e,t,n,r)}function dx(e,t){return H(this,void 0,void 0,function(){var n,r,o,s;return $(this,function(u){switch(u.label){case 0:return n=se(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(l){var f;return n._n.getAllMutationBatches(l).next(function(d){return f=d,r=n.persistence.getMutationQueue(t),o=new cx(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(l)}).next(function(d){for(var m=[],h=[],g=vt(),y=0,b=f;y<b.length;y++){var w=b[y];m.push(w.batchId);for(var E=0,T=w.mutations;E<T.length;E++){var k=T[E];g=g.add(k.key)}}for(var D=0,F=d;D<F.length;D++){var J=F[D];h.push(J.batchId);for(var V=0,fe=J.mutations;V<fe.length;V++){var G=fe[V];g=g.add(G.key)}}return o.pn(l,g).next(function(X){return{Ln:X,removedBatchIds:m,addedBatchIds:h}})})})];case 1:return s=u.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}})})}function $F(e,t){var n=se(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(r){var o=t.batch.keys(),s=n.On.newChangeBuffer({trackRemovals:!0});return function(u,l,f,d){var m=f.batch,h=m.keys(),g=ee.resolve();return h.forEach(function(y){g=g.next(function(){return d.getEntry(l,y)}).next(function(b){var w=f.docVersions.get(y);Oe(w!==null),b.version.compareTo(w)<0&&(m.applyToRemoteDocument(b,f),b.isValidDocument()&&d.addEntry(b,f.commitVersion))})}),g.next(function(){return u._n.removeMutationBatch(l,m)})}(n,r,t,s).next(function(){return s.apply(r)}).next(function(){return n._n.performConsistencyCheck(r)}).next(function(){return n.Mn.pn(r,o)})})}function px(e){var t=se(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(n){return t.qe.getLastRemoteSnapshotVersion(n)})}function qF(e,t){var n=se(e),r=t.snapshotVersion,o=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(s){var u=n.On.newChangeBuffer({trackRemovals:!0});o=n.kn;var l=[];t.targetChanges.forEach(function(m,h){var g=o.get(h);if(g){l.push(n.qe.removeMatchingKeys(s,m.removedDocuments,h).next(function(){return n.qe.addMatchingKeys(s,m.addedDocuments,h)}));var y=m.resumeToken;if(y.approximateByteSize()>0){var b=g.withResumeToken(y,r).withSequenceNumber(s.currentSequenceNumber);o=o.insert(h,b),function(w,E,T){return Oe(E.resumeToken.approximateByteSize()>0),w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8||T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(g,b,m)&&l.push(n.qe.updateTargetData(s,b))}}});var f=Dr();if(t.documentUpdates.forEach(function(m,h){t.resolvedLimboDocuments.has(m)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))}),l.push(HF(s,u,t.documentUpdates,r,void 0).next(function(m){f=m})),!r.isEqual(Ge.min())){var d=n.qe.getLastRemoteSnapshotVersion(s).next(function(m){return n.qe.setTargetsMetadata(s,s.currentSequenceNumber,r)});l.push(d)}return ee.waitFor(l).next(function(){return u.apply(s)}).next(function(){return n.Mn.En(s,f)}).next(function(){return f})}).then(function(s){return n.kn=o,s})}function HF(e,t,n,r,o){var s=vt();return n.forEach(function(u){return s=s.add(u)}),t.getEntries(e,s).next(function(u){var l=Dr();return n.forEach(function(f,d){var m=u.get(f),h=(o==null?void 0:o.get(f))||r;d.isNoDocument()&&d.version.isEqual(Ge.min())?(t.removeEntry(f,h),l=l.insert(f,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(d,h),l=l.insert(f,d)):re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",m.version," Watch version:",d.version)}),l})}function KF(e,t){var n=se(e);return n.persistence.runTransaction("Get next mutation batch","readonly",function(r){return t===void 0&&(t=-1),n._n.getNextMutationBatchAfterBatchId(r,t)})}function nh(e,t){var n=se(e);return n.persistence.runTransaction("Allocate target","readwrite",function(r){var o;return n.qe.getTargetData(r,t).next(function(s){return s?(o=s,ee.resolve(o)):n.qe.allocateTargetId(r).next(function(u){return o=new Jh(t,u,0,r.currentSequenceNumber),n.qe.addTargetData(r,o).next(function(){return o})})})}).then(function(r){var o=n.kn.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.kn=n.kn.insert(r.targetId,r),n.Fn.set(t,r.targetId)),r})}function _a(e,t,n){return H(this,void 0,void 0,function(){var r,o,s,u;return $(this,function(l){switch(l.label){case 0:r=se(e),o=r.kn.get(t),s=n?"readwrite":"readwrite-primary",l.label=1;case 1:return l.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(f){return r.persistence.referenceDelegate.removeTarget(f,o)})];case 2:l.sent(),l.label=3;case 3:return[3,5];case 4:if(!ss(u=l.sent()))throw u;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+u),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function rh(e,t,n){var r=se(e),o=Ge.min(),s=vt();return r.persistence.runTransaction("Execute query","readonly",function(u){return function(l,f,d){var m=se(l),h=m.Fn.get(d);return h!==void 0?ee.resolve(m.kn.get(h)):m.qe.getTargetData(f,d)}(r,u,ni(t)).next(function(l){if(l)return o=l.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(u,l.targetId).next(function(f){s=f})}).next(function(){return r.xn.getDocumentsMatchingQuery(u,t,n?o:Ge.min(),n?s:vt())}).next(function(l){return{documents:l,Bn:s}})})}function gx(e,t){var n=se(e),r=se(n.qe),o=n.kn.get(t);return o?Promise.resolve(o.target):n.persistence.runTransaction("Get target data","readonly",function(s){return r.lt(s,t).next(function(u){return u?u.target:null})})}function mx(e){var t=se(e);return t.persistence.runTransaction("Get new document changes","readonly",function(n){return function(r,o,s){var u=se(r),l=Dr(),f=Uy(s),d=Mi(o),m=IDBKeyRange.lowerBound(f,!0);return d.$t({index:Rt.readTimeIndex,range:m},function(h,g){var y=lv(u.R,g);l=l.insert(y.key,y),f=g.readTime}).next(function(){return{wn:l,readTime:rx(f)}})}(t.On,n,t.$n)}).then(function(n){var r=n.wn,o=n.readTime;return t.$n=o,r})}function GF(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,(t=se(e)).persistence.runTransaction("Synchronize last document change read time","readonly",function(r){return function(o){var s=Mi(o),u=Ge.min();return s.$t({index:Rt.readTimeIndex,reverse:!0},function(l,f,d){f.readTime&&(u=rx(f.readTime)),d.done()}).next(function(){return u})}(r)}).then(function(r){t.$n=r})]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WF=function(){function e(t){this.R=t,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(t,n){return ee.resolve(this.Qn.get(n))},e.prototype.saveBundleMetadata=function(t,n){var r;return this.Qn.set(n.id,{id:(r=n).id,version:r.version,createTime:Rn(r.createTime)}),ee.resolve()},e.prototype.getNamedQuery=function(t,n){return ee.resolve(this.jn.get(n))},e.prototype.saveNamedQuery=function(t,n){return this.jn.set(n.name,function(r){return{name:r.name,query:ox(r.bundledQuery),readTime:Rn(r.readTime)}}(n)),ee.resolve()},e}(),qy=function(){function e(){this.Wn=new Qt(Zt.Gn),this.zn=new Qt(Zt.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(t,n){var r=new Zt(t,n);this.Wn=this.Wn.add(r),this.zn=this.zn.add(r)},e.prototype.Jn=function(t,n){var r=this;t.forEach(function(o){return r.addReference(o,n)})},e.prototype.removeReference=function(t,n){this.Yn(new Zt(t,n))},e.prototype.Xn=function(t,n){var r=this;t.forEach(function(o){return r.removeReference(o,n)})},e.prototype.Zn=function(t){var n=this,r=new Se(new st([])),o=new Zt(r,t),s=new Zt(r,t+1),u=[];return this.zn.forEachInRange([o,s],function(l){n.Yn(l),u.push(l.key)}),u},e.prototype.ts=function(){var t=this;this.Wn.forEach(function(n){return t.Yn(n)})},e.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},e.prototype.es=function(t){var n=new Se(new st([])),r=new Zt(n,t),o=new Zt(n,t+1),s=vt();return this.zn.forEachInRange([r,o],function(u){s=s.add(u.key)}),s},e.prototype.containsKey=function(t){var n=new Zt(t,0),r=this.Wn.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)},e}(),Zt=function(){function e(t,n){this.key=t,this.ns=n}return e.Gn=function(t,n){return Se.comparator(t.key,n.key)||Qe(t.ns,n.ns)},e.Hn=function(t,n){return Qe(t.ns,n.ns)||Se.comparator(t.key,n.key)},e}(),zF=function(){function e(t,n){this.Ut=t,this.referenceDelegate=n,this._n=[],this.ss=1,this.rs=new Qt(Zt.Gn)}return e.prototype.checkEmpty=function(t){return ee.resolve(this._n.length===0)},e.prototype.addMutationBatch=function(t,n,r,o){var s=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var u=new jy(s,n,r,o);this._n.push(u);for(var l=0,f=o;l<f.length;l++){var d=f[l];this.rs=this.rs.add(new Zt(d.key,s)),this.Ut.addToCollectionParentIndex(t,d.key.path.popLast())}return ee.resolve(u)},e.prototype.lookupMutationBatch=function(t,n){return ee.resolve(this.os(n))},e.prototype.getNextMutationBatchAfterBatchId=function(t,n){var r=n+1,o=this.cs(r),s=o<0?0:o;return ee.resolve(this._n.length>s?this._n[s]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return ee.resolve(this._n.length===0?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(t){return ee.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,n){var r=this,o=new Zt(n,0),s=new Zt(n,Number.POSITIVE_INFINITY),u=[];return this.rs.forEachInRange([o,s],function(l){var f=r.os(l.ns);u.push(f)}),ee.resolve(u)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,n){var r=this,o=new Qt(Qe);return n.forEach(function(s){var u=new Zt(s,0),l=new Zt(s,Number.POSITIVE_INFINITY);r.rs.forEachInRange([u,l],function(f){o=o.add(f.ns)})}),ee.resolve(this.us(o))},e.prototype.getAllMutationBatchesAffectingQuery=function(t,n){var r=n.path,o=r.length+1,s=r;Se.isDocumentKey(s)||(s=s.child(""));var u=new Zt(new Se(s),0),l=new Qt(Qe);return this.rs.forEachWhile(function(f){var d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===o&&(l=l.add(f.ns)),!0)},u),ee.resolve(this.us(l))},e.prototype.us=function(t){var n=this,r=[];return t.forEach(function(o){var s=n.os(o);s!==null&&r.push(s)}),r},e.prototype.removeMutationBatch=function(t,n){var r=this;Oe(this.hs(n.batchId,"removed")===0),this._n.shift();var o=this.rs;return ee.forEach(n.mutations,function(s){var u=new Zt(s.key,n.batchId);return o=o.delete(u),r.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(function(){r.rs=o})},e.prototype.Gt=function(t){},e.prototype.containsKey=function(t,n){var r=new Zt(n,0),o=this.rs.firstAfterOrEqual(r);return ee.resolve(n.isEqual(o&&o.key))},e.prototype.performConsistencyCheck=function(t){return this._n.length,ee.resolve()},e.prototype.hs=function(t,n){return this.cs(t)},e.prototype.cs=function(t){return this._n.length===0?0:t-this._n[0].batchId},e.prototype.os=function(t){var n=this.cs(t);return n<0||n>=this._n.length?null:this._n[n]},e}(),XF=function(){function e(t,n){this.Ut=t,this.ls=n,this.docs=new En(Se.comparator),this.size=0}return e.prototype.addEntry=function(t,n,r){var o=n.key,s=this.docs.get(o),u=s?s.size:0,l=this.ls(n);return this.docs=this.docs.insert(o,{document:n.clone(),size:l,readTime:r}),this.size+=l-u,this.Ut.addToCollectionParentIndex(t,o.path.popLast())},e.prototype.removeEntry=function(t){var n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)},e.prototype.getEntry=function(t,n){var r=this.docs.get(n);return ee.resolve(r?r.document.clone():Sn.newInvalidDocument(n))},e.prototype.getEntries=function(t,n){var r=this,o=Dr();return n.forEach(function(s){var u=r.docs.get(s);o=o.insert(s,u?u.document.clone():Sn.newInvalidDocument(s))}),ee.resolve(o)},e.prototype.getDocumentsMatchingQuery=function(t,n,r){for(var o=Dr(),s=new Se(n.path.child("")),u=this.docs.getIteratorFrom(s);u.hasNext();){var l=u.getNext(),f=l.key,d=l.value,m=d.document,h=d.readTime;if(!n.path.isPrefixOf(f.path))break;h.compareTo(r)<=0||ql(n,m)&&(o=o.insert(m.key,m.clone()))}return ee.resolve(o)},e.prototype.fs=function(t,n){return ee.forEach(this.docs,function(r){return n(r)})},e.prototype.newChangeBuffer=function(t){return new YF(this)},e.prototype.getSize=function(t){return ee.resolve(this.size)},e}(),YF=function(e){function t(n){var r=this;return(r=e.call(this)||this).Ie=n,r}return Ie(t,e),t.prototype.applyChanges=function(n){var r=this,o=[];return this.changes.forEach(function(s,u){u.document.isValidDocument()?o.push(r.Ie.addEntry(n,u.document,r.getReadTime(s))):r.Ie.removeEntry(s)}),ee.waitFor(o)},t.prototype.getFromCache=function(n,r){return this.Ie.getEntry(n,r)},t.prototype.getAllFromCache=function(n,r){return this.Ie.getEntries(n,r)},t}(lx),QF=function(){function e(t){this.persistence=t,this.ds=new Ra(function(n){return Ul(n)},zh),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.ws=0,this._s=new qy,this.targetCount=0,this.ys=th.Jt()}return e.prototype.forEachTarget=function(t,n){return this.ds.forEach(function(r,o){return n(o)}),ee.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(t){return ee.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(t){return ee.resolve(this.ws)},e.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ee.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ws&&(this.ws=n),ee.resolve()},e.prototype.te=function(t){this.ds.set(t.target,t);var n=t.targetId;n>this.highestTargetId&&(this.ys=new th(n),this.highestTargetId=n),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},e.prototype.addTargetData=function(t,n){return this.te(n),this.targetCount+=1,ee.resolve()},e.prototype.updateTargetData=function(t,n){return this.te(n),ee.resolve()},e.prototype.removeTargetData=function(t,n){return this.ds.delete(n.target),this._s.Zn(n.targetId),this.targetCount-=1,ee.resolve()},e.prototype.removeTargets=function(t,n,r){var o=this,s=0,u=[];return this.ds.forEach(function(l,f){f.sequenceNumber<=n&&r.get(f.targetId)===null&&(o.ds.delete(l),u.push(o.removeMatchingKeysForTargetId(t,f.targetId)),s++)}),ee.waitFor(u).next(function(){return s})},e.prototype.getTargetCount=function(t){return ee.resolve(this.targetCount)},e.prototype.getTargetData=function(t,n){var r=this.ds.get(n)||null;return ee.resolve(r)},e.prototype.addMatchingKeys=function(t,n,r){return this._s.Jn(n,r),ee.resolve()},e.prototype.removeMatchingKeys=function(t,n,r){this._s.Xn(n,r);var o=this.persistence.referenceDelegate,s=[];return o&&n.forEach(function(u){s.push(o.markPotentiallyOrphaned(t,u))}),ee.waitFor(s)},e.prototype.removeMatchingKeysForTargetId=function(t,n){return this._s.Zn(n),ee.resolve()},e.prototype.getMatchingKeysForTargetId=function(t,n){var r=this._s.es(n);return ee.resolve(r)},e.prototype.containsKey=function(t,n){return ee.resolve(this._s.containsKey(n))},e}(),JF=function(){function e(t,n){var r=this;this.gs={},this.Ne=new sr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new QF(this),this.Ut=new kF,this.Ue=function(o,s){return new XF(o,function(u){return r.referenceDelegate.ps(u)})}(this.Ut),this.R=new nx(n),this.Ke=new WF(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(t){var n=this.gs[t.toKey()];return n||(n=new zF(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=n),n},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(t,n,r){var o=this;re("MemoryPersistence","Starting transaction:",t);var s=new ZF(this.Ne.next());return this.referenceDelegate.Es(),r(s).next(function(u){return o.referenceDelegate.Ts(s).next(function(){return u})}).toPromise().then(function(u){return s.raiseOnCommittedEvent(),u})},e.prototype.Is=function(t,n){return ee.or(Object.values(this.gs).map(function(r){return function(){return r.containsKey(t,n)}}))},e}(),ZF=function(e){function t(n){var r=this;return(r=e.call(this)||this).currentSequenceNumber=n,r}return Ie(t,e),t}(ex),eV=function(){function e(t){this.persistence=t,this.As=new qy,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw _e()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(t,n,r){return this.As.addReference(r,n),this.vs.delete(r.toString()),ee.resolve()},e.prototype.removeReference=function(t,n,r){return this.As.removeReference(r,n),this.vs.add(r.toString()),ee.resolve()},e.prototype.markPotentiallyOrphaned=function(t,n){return this.vs.add(n.toString()),ee.resolve()},e.prototype.removeTarget=function(t,n){var r=this;this.As.Zn(n.targetId).forEach(function(s){return r.vs.add(s.toString())});var o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,n.targetId).next(function(s){s.forEach(function(u){return r.vs.add(u.toString())})}).next(function(){return o.removeTargetData(t,n)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(t){var n=this,r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.vs,function(o){var s=Se.fromPath(o);return n.Ps(t,s).next(function(u){u||r.removeEntry(s)})}).next(function(){return n.Rs=null,r.apply(t)})},e.prototype.updateLimboDocument=function(t,n){var r=this;return this.Ps(t,n).next(function(o){o?r.vs.delete(n.toString()):r.vs.add(n.toString())})},e.prototype.ps=function(t){return 0},e.prototype.Ps=function(t,n){var r=this;return ee.or([function(){return ee.resolve(r.As.containsKey(n))},function(){return r.persistence.getTargetCache().containsKey(t,n)},function(){return r.persistence.Is(t,n)}])},e}(),on=function(){function e(t){this.uid=t}return e.prototype.isAuthenticated=function(){return this.uid!=null},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(t){return t.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(e,t){return"firestore_clients_"+e+"_"+t}function BS(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function fm(e,t){return"firestore_targets_"+e+"_"+t}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");var $S=function(){function e(t,n,r,o){this.user=t,this.batchId=n,this.state=r,this.error=o}return e.Vs=function(t,n,r){var o,s=JSON.parse(r),u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string")&&(o=new Y(s.error.code,s.error.message)),u?new e(t,n,s.state,o):(qt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),hm=function(){function e(t,n,r){this.targetId=t,this.state=n,this.error=r}return e.Vs=function(t,n){var r,o=JSON.parse(n),s=typeof o=="object"&&["not-current","current","rejected"].indexOf(o.state)!==-1&&(o.error===void 0||typeof o.error=="object");return s&&o.error&&(s=typeof o.error.message=="string"&&typeof o.error.code=="string")&&(r=new Y(o.error.code,o.error.message)),s?new e(t,o.state,r):(qt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},e}(),qS=function(){function e(t,n){this.clientId=t,this.activeTargetIds=n}return e.Vs=function(t,n){for(var r=JSON.parse(n),o=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Qh(),u=0;o&&u<r.activeTargetIds.length;++u)o=IA(r.activeTargetIds[u]),s=s.add(r.activeTargetIds[u]);return o?new e(t,s):(qt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),tV=function(){function e(t,n){this.clientId=t,this.onlineState=n}return e.Vs=function(t){var n=JSON.parse(t);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new e(n.clientId,n.onlineState):(qt("SharedClientState","Failed to parse online state: "+t),null)},e}(),cv=function(){function e(){this.activeTargetIds=Qh()}return e.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},e.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},e.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},e}(),dm=function(){function e(t,n,r,o,s){this.window=t,this.Se=n,this.persistenceKey=r,this.Ns=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new En(Qe),this.started=!1,this.$s=[];var u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Os=US(this.persistenceKey,this.Ns),this.Ms=function(l){return"firestore_sequence_number_"+l}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new cv),this.Ls=new RegExp("^firestore_clients_"+u+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+u+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+u+"_(\\d+)$"),this.Us=function(l){return"firestore_online_state_"+l}(this.persistenceKey),this.Ks=function(l){return"firestore_bundle_loaded_"+l}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(t){return!(!t||!t.localStorage)},e.prototype.start=function(){return H(this,void 0,void 0,function(){var t,n,r,o,s,u,l,f,d,m,h,g=this;return $(this,function(y){switch(y.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=y.sent(),n=0,r=t;n<r.length;n++)(o=r[n])!==this.Ns&&(s=this.getItem(US(this.persistenceKey,o)))&&(u=qS.Vs(o,s))&&(this.Fs=this.Fs.insert(u.clientId,u));for(this.Qs(),(l=this.storage.getItem(this.Us))&&(f=this.js(l))&&this.Ws(f),d=0,m=this.$s;d<m.length;d++)h=m[d],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",function(){return g.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(t){var n=!1;return this.Fs.forEach(function(r,o){o.activeTargetIds.has(t)&&(n=!0)}),n},e.prototype.addPendingMutation=function(t){this.zs(t,"pending")},e.prototype.updateMutationState=function(t,n,r){this.zs(t,n,r),this.Hs(t)},e.prototype.addLocalQueryTarget=function(t){var n="not-current";if(this.isActiveQueryTarget(t)){var r=this.storage.getItem(fm(this.persistenceKey,t));if(r){var o=hm.Vs(t,r);o&&(n=o.state)}}return this.Js.Ds(t),this.Qs(),n},e.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},e.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){this.removeItem(fm(this.persistenceKey,t))},e.prototype.updateQueryState=function(t,n,r){this.Ys(t,n,r)},e.prototype.handleUserChange=function(t,n,r){var o=this;n.forEach(function(s){o.Hs(s)}),this.currentUser=t,r.forEach(function(s){o.addPendingMutation(s)})},e.prototype.setOnlineState=function(t){this.Xs(t)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(t){var n=this.storage.getItem(t);return re("SharedClientState","READ",t,n),n},e.prototype.setItem=function(t,n){re("SharedClientState","SET",t,n),this.storage.setItem(t,n)},e.prototype.removeItem=function(t){re("SharedClientState","REMOVE",t),this.storage.removeItem(t)},e.prototype.ks=function(t){var n=this,r=t;if(r.storageArea===this.storage){if(re("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Os)return void qt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return H(n,void 0,void 0,function(){var o,s,u,l,f,d;return $(this,function(m){if(this.started){if(r.key!==null){if(this.Ls.test(r.key)){if(r.newValue==null)return o=this.ti(r.key),[2,this.ei(o,null)];if(s=this.ni(r.key,r.newValue))return[2,this.ei(s.clientId,s)]}else if(this.Bs.test(r.key)){if(r.newValue!==null&&(u=this.si(r.key,r.newValue)))return[2,this.ii(u)]}else if(this.qs.test(r.key)){if(r.newValue!==null&&(l=this.ri(r.key,r.newValue)))return[2,this.oi(l)]}else if(r.key===this.Us){if(r.newValue!==null&&(f=this.js(r.newValue)))return[2,this.Ws(f)]}else if(r.key===this.Ms)(d=function(h){var g=sr.o;if(h!=null)try{var y=JSON.parse(h);Oe(typeof y=="number"),g=y}catch(b){qt("SharedClientState","Failed to read sequence number from WebStorage",b)}return g}(r.newValue))!==sr.o&&this.sequenceNumberHandler(d);else if(r.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(r);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(t,n,r){var o=new $S(this.currentUser,t,n,r),s=BS(this.persistenceKey,this.currentUser,t);this.setItem(s,o.Ss())},e.prototype.Hs=function(t){var n=BS(this.persistenceKey,this.currentUser,t);this.removeItem(n)},e.prototype.Xs=function(t){var n={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(n))},e.prototype.Ys=function(t,n,r){var o=fm(this.persistenceKey,t),s=new hm(t,n,r);this.setItem(o,s.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(t){var n=this.Ls.exec(t);return n?n[1]:null},e.prototype.ni=function(t,n){var r=this.ti(t);return qS.Vs(r,n)},e.prototype.si=function(t,n){var r=this.Bs.exec(t),o=Number(r[1]),s=r[2]!==void 0?r[2]:null;return $S.Vs(new on(s),o,n)},e.prototype.ri=function(t,n){var r=this.qs.exec(t),o=Number(r[1]);return hm.Vs(o,n)},e.prototype.js=function(t){return tV.Vs(t)},e.prototype.ii=function(t){return H(this,void 0,void 0,function(){return $(this,function(n){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},e.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},e.prototype.ei=function(t,n){var r=this,o=n?this.Fs.insert(t,n):this.Fs.remove(t),s=this.Gs(this.Fs),u=this.Gs(o),l=[],f=[];return u.forEach(function(d){s.has(d)||l.push(d)}),s.forEach(function(d){u.has(d)||f.push(d)}),this.syncEngine.hi(l,f).then(function(){r.Fs=o})},e.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},e.prototype.Gs=function(t){var n=Qh();return t.forEach(function(r,o){n=n.unionWith(o.activeTargetIds)}),n},e}(),vx=function(){function e(){this.li=new cv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(t){},e.prototype.updateMutationState=function(t,n,r){},e.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},e.prototype.updateQueryState=function(t,n,r){this.fi[t]=n},e.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},e.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.clearQueryState=function(t){delete this.fi[t]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},e.prototype.start=function(){return this.li=new cv,Promise.resolve()},e.prototype.handleUserChange=function(t,n,r){},e.prototype.setOnlineState=function(t){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(t){},e.prototype.notifyBundleLoaded=function(){},e}(),nV=function(){function e(){}return e.prototype.di=function(t){},e.prototype.shutdown=function(){},e}(),HS=function(){function e(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return e.prototype.di=function(t){this.gi.push(t)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,n=this.gi;t<n.length;t++)(0,n[t])(1)},e.yt=function(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0},e}(),rV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iV=function(){function e(t){this.Ei=t.Ei,this.Ti=t.Ti}return e.prototype.Ii=function(t){this.Ai=t},e.prototype.Ri=function(t){this.bi=t},e.prototype.onMessage=function(t){this.vi=t},e.prototype.close=function(){this.Ti()},e.prototype.send=function(t){this.Ei(t)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(t){this.bi(t)},e.prototype.Si=function(t){this.vi(t)},e}(),oV=function(e){function t(n){var r=this;return(r=e.call(this,n)||this).forceLongPolling=n.forceLongPolling,r.autoDetectLongPolling=n.autoDetectLongPolling,r.useFetchStreams=n.useFetchStreams,r}return Ie(t,e),t.prototype.Fi=function(n,r,o,s){return new Promise(function(u,l){var f=new M2;f.listenOnce(R2.COMPLETE,function(){try{switch(f.getLastErrorCode()){case lm.NO_ERROR:var m=f.getResponseJson();re("Connection","XHR received:",JSON.stringify(m)),u(m);break;case lm.TIMEOUT:re("Connection",'RPC "'+n+'" timed out'),l(new Y(M.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:var h=f.getStatus();if(re("Connection",'RPC "'+n+'" failed with status:',h,"response text:",f.getResponseText()),h>0){var g=f.getResponseJson().error;if(g&&g.status&&g.message){var y=function(b){var w=b.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(w)>=0?w:M.UNKNOWN}(g.status);l(new Y(y,g.message))}else l(new Y(M.UNKNOWN,"Server responded with status "+f.getStatus()))}else l(new Y(M.UNAVAILABLE,"Connection failed."));break;default:_e()}}finally{re("Connection",'RPC "'+n+'" completed.')}});var d=JSON.stringify(s);f.send(r,"POST",d,o,15)})},t.prototype.Oi=function(n,r){var o=[this.Di,"/","google.firestore.v1.Firestore","/",n,"/channel"],s=P2(),u=N2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new L2({})),this.ki(l.initMessageHeaders,r),jL()||$L()||qL()||HL()||KL()||BL()||(l.httpHeadersOverwriteParam="$httpHeaders");var f=o.join("");re("Connection","Creating WebChannel: "+f,l);var d=s.createWebChannel(f,l),m=!1,h=!1,g=new iV({Ei:function(b){h?re("Connection","Not sending because WebChannel is closed:",b):(m||(re("Connection","Opening WebChannel transport."),d.open(),m=!0),re("Connection","WebChannel sending:",b),d.send(b))},Ti:function(){return d.close()}}),y=function(b,w,E){b.listen(w,function(T){try{E(T)}catch(k){setTimeout(function(){throw k},0)}})};return y(d,lf.EventType.OPEN,function(){h||re("Connection","WebChannel transport opened.")}),y(d,lf.EventType.CLOSE,function(){h||(h=!0,re("Connection","WebChannel transport closed"),g.Vi())}),y(d,lf.EventType.ERROR,function(b){h||(h=!0,Wf("Connection","WebChannel transport errored:",b),g.Vi(new Y(M.UNAVAILABLE,"The operation could not be completed")))}),y(d,lf.EventType.MESSAGE,function(b){var w;if(!h){var E=b.data[0];Oe(!!E);var T=E,k=T.error||((w=T[0])===null||w===void 0?void 0:w.error);if(k){re("Connection","WebChannel received error:",k);var D=k.status,F=function(V){var fe=Bt[V];if(fe!==void 0)return BA(fe)}(D),J=k.message;F===void 0&&(F=M.INTERNAL,J="Unknown error status: "+D+" with message "+k.message),h=!0,g.Vi(new Y(F,J)),d.close()}else re("Connection","WebChannel received:",E),g.Si(E)}}),y(u,D2.STAT_EVENT,function(b){b.stat===aS.PROXY?re("Connection","Detected buffering proxy"):b.stat===aS.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){g.Pi()},0),g},t}(function(){function e(t){this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Di=n+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(t,n,r,o){var s=this.xi(t,n);re("RestConnection","Sending: ",s,r);var u={};return this.ki(u,o),this.Fi(t,s,u,r).then(function(l){return re("RestConnection","Received: ",l),l},function(l){throw Wf("RestConnection",t+" failed with error: ",l,"url: ",s,"request:",r),l})},e.prototype.$i=function(t,n,r,o){return this.Ni(t,n,r,o)},e.prototype.ki=function(t,n){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(var r in n.authHeaders)n.authHeaders.hasOwnProperty(r)&&(t[r]=n.authHeaders[r])},e.prototype.xi=function(t,n){var r=rV[t];return this.Di+"/v1/"+n+":"+r},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return typeof window<"u"?window:null}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(e){return new fF(e,!0)}var Hy=function(){function e(t,n,r,o,s){r===void 0&&(r=1e3),o===void 0&&(o=1.5),s===void 0&&(s=6e4),this.Se=t,this.timerId=n,this.Mi=r,this.Li=o,this.Bi=s,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(t){var n=this;this.cancel();var r=Math.floor(this.qi+this.Wi()),o=Math.max(0,Date.now()-this.Ki),s=Math.max(0,r-o);s>0&&re("ExponentialBackoff","Backing off for "+s+" ms (base delay: "+this.qi+" ms, delay with jitter: "+r+" ms, last attempt: "+o+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,s,function(){return n.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){this.Ui!==null&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){this.Ui!==null&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),bx=function(){function e(t,n,r,o,s,u){this.Se=t,this.zi=r,this.Hi=o,this.Ji=s,this.listener=u,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Hy(t,n)}return e.prototype.tr=function(){return this.state===1||this.state===2||this.state===4},e.prototype.er=function(){return this.state===2},e.prototype.start=function(){this.state!==3?this.auth():this.nr()},e.prototype.stop=function(){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var t=this;this.er()&&this.Xi===null&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},e.prototype.cr=function(t){this.ur(),this.stream.send(t)},e.prototype.rr=function(){return H(this,void 0,void 0,function(){return $(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(t,n){return H(this,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,t!==3?this.Zi.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(qt(n.toString()),qt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):n&&n.code===M.UNAUTHENTICATED&&this.Ji.invalidateToken(),this.stream!==null&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(n)];case 1:return r.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var t=this;this.state=1;var n=this.hr(this.Yi),r=this.Yi;this.Ji.getToken().then(function(o){t.Yi===r&&t.lr(o)},function(o){n(function(){var s=new Y(M.UNKNOWN,"Fetching auth token failed: "+o.message);return t.dr(s)})})},e.prototype.lr=function(t){var n=this,r=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){r(function(){return n.state=2,n.listener.Ii()})}),this.stream.Ri(function(o){r(function(){return n.dr(o)})}),this.stream.onMessage(function(o){r(function(){return n.onMessage(o)})})},e.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return H(t,void 0,void 0,function(){return $(this,function(n){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(t){return re("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},e.prototype.hr=function(t){var n=this;return function(r){n.Se.enqueueAndForget(function(){return n.Yi===t?r():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),sV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"listen_stream_connection_backoff","listen_stream_idle",r,o,u)||this).R=s,l}return Ie(t,e),t.prototype.wr=function(n){return this.Hi.Oi("Listen",n)},t.prototype.onMessage=function(n){this.Zi.reset();var r=function(s,u){var l;if("targetChange"in u){u.targetChange;var f=function(E){return E==="NO_CHANGE"?0:E==="ADD"?1:E==="REMOVE"?2:E==="CURRENT"?3:E==="RESET"?4:_e()}(u.targetChange.targetChangeType||"NO_CHANGE"),d=u.targetChange.targetIds||[],m=function(E,T){return E.I?(Oe(T===void 0||typeof T=="string"),Wn.fromBase64String(T||"")):(Oe(T===void 0||T instanceof Uint8Array),Wn.fromUint8Array(T||new Uint8Array))}(s,u.targetChange.resumeToken),h=(g=u.targetChange.cause)&&function(E){var T=E.code===void 0?M.UNKNOWN:BA(E.code);return new Y(T,E.message||"")}(g);l=new qA(f,d,m,h||null)}else if("documentChange"in u){u.documentChange,(f=u.documentChange).document,f.document.name,f.document.updateTime,d=hi(s,f.document.name),m=Rn(f.document.updateTime);var g=new or({mapValue:{fields:f.document.fields}}),y=(h=Sn.newFoundDocument(d,m,g),f.targetIds||[]),b=f.removedTargetIds||[];l=new xf(y,b,h.key,h)}else if("documentDelete"in u)u.documentDelete,(f=u.documentDelete).document,d=hi(s,f.document),m=f.readTime?Rn(f.readTime):Ge.min(),g=Sn.newNoDocument(d,m),h=f.removedTargetIds||[],l=new xf([],h,g.key,g);else if("documentRemove"in u)u.documentRemove,(f=u.documentRemove).document,d=hi(s,f.document),m=f.removedTargetIds||[],l=new xf([],m,d,null);else{if(!("filter"in u))return _e();u.filter;var w=u.filter;w.targetId,f=w.count||0,d=new tF(f),m=w.targetId,l=new $A(m,d)}return l}(this.R,n),o=function(s){if(!("targetChange"in s))return Ge.min();var u=s.targetChange;return u.targetIds&&u.targetIds.length?Ge.min():u.readTime?Rn(u.readTime):Ge.min()}(n);return this.listener._r(r,o)},t.prototype.mr=function(n){var r={};r.database=dl(this.R),r.addTarget=function(s,u){var l,f=u.target;return(l=Yf(f)?{documents:zA(s,f)}:{query:XA(s,f)}).targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=HA(s,u.resumeToken):u.snapshotVersion.compareTo(Ge.min())>0&&(l.readTime=fl(s,u.snapshotVersion.toTimestamp())),l}(this.R,n);var o=function(s,u){var l=function(f,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _e()}}(0,u.purpose);return l==null?null:{"goog-listen-tags":l}}(this.R,n);o&&(r.labels=o),this.cr(r)},t.prototype.yr=function(n){var r={};r.database=dl(this.R),r.removeTarget=n,this.cr(r)},t}(bx),aV=function(e){function t(n,r,o,s,u){var l=this;return(l=e.call(this,n,"write_stream_connection_backoff","write_stream_idle",r,o,u)||this).R=s,l.gr=!1,l}return Ie(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(n){return this.Hi.Oi("Write",n)},t.prototype.onMessage=function(n){if(Oe(!!n.streamToken),this.lastStreamToken=n.streamToken,this.gr){this.Zi.reset();var r=function(s,u){return s&&s.length>0?(Oe(u!==void 0),s.map(function(l){return function(f,d){var m=f.updateTime?Rn(f.updateTime):Rn(d);return m.isEqual(Ge.min())&&(m=Rn(d)),new J2(m,f.transformResults||[])}(l,u)})):[]}(n.writeResults,n.commitTime),o=Rn(n.commitTime);return this.listener.Tr(o,r)}return Oe(!n.writeResults||n.writeResults.length===0),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var n={};n.database=dl(this.R),this.cr(n)},t.prototype.Er=function(n){var r=this,o={streamToken:this.lastStreamToken,writes:n.map(function(s){return Zf(r.R,s)})};this.cr(o)},t}(bx),uV=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).credentials=n,s.Hi=r,s.R=o,s.Rr=!1,s}return Ie(t,e),t.prototype.br=function(){if(this.Rr)throw new Y(M.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.Ni(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new Y(M.UNKNOWN,u.toString())})},t.prototype.$i=function(n,r,o){var s=this;return this.br(),this.credentials.getToken().then(function(u){return s.Hi.$i(n,r,o,u)}).catch(function(u){throw u.name==="FirebaseError"?(u.code===M.UNAUTHENTICATED&&s.credentials.invalidateToken(),u):new Y(M.UNKNOWN,u.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),lV=function(){function e(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var t=this;this.vr===0&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(t){this.state==="Online"?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},e.prototype.set=function(t){this.kr(),this.vr=0,t==="Online"&&(this.Vr=!1),this.Dr(t)},e.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},e.prototype.Cr=function(t){var n="Could not reach Cloud Firestore backend. "+t+`
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(qt(n),this.Vr=!1):re("OnlineStateTracker",n)},e.prototype.kr=function(){this.Pr!==null&&(this.Pr.cancel(),this.Pr=null)},e}(),cV=function(e,t,n,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(u){n.enqueueAndForget(function(){return H(s,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return io(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(f){return H(this,void 0,void 0,function(){var d;return $(this,function(m){switch(m.label){case 0:return(d=se(f)).Or.add(4),[4,Da(d)];case 1:return m.sent(),d.Br.set("Unknown"),d.Or.delete(4),[4,Wl(d)];case 2:return m.sent(),[2]}})})}(this)]):[3,2];case 1:l.sent(),l.label=2;case 2:return[2]}})})})}),this.Br=new lV(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:if(!io(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function Da(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function ed(e,t){var n=se(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Wy(n)?Gy(n):Ma(n).er()&&Ky(n,t))}function pl(e,t){var n=se(e),r=Ma(n);n.$r.delete(t),r.er()&&_x(n,t),n.$r.size===0&&(r.er()?r.ir():io(n)&&n.Br.set("Unknown"))}function Ky(e,t){e.qr.U(t.targetId),Ma(e).mr(t)}function _x(e,t){e.qr.U(t),Ma(e).yr(t)}function Gy(e){e.qr=new uF({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),Ma(e).start(),e.Br.Sr()}function Wy(e){return io(e)&&!Ma(e).tr()&&e.$r.size>0}function io(e){return se(e).Or.size===0}function wx(e){e.qr=void 0}function fV(e){return H(this,void 0,void 0,function(){return $(this,function(t){return e.$r.forEach(function(n,r){Ky(e,n)}),[2]})})}function hV(e,t){return H(this,void 0,void 0,function(){return $(this,function(n){return wx(e),Wy(e)?(e.Br.Nr(t),Gy(e)):e.Br.set("Unknown"),[2]})})}function dV(e,t,n){return H(this,void 0,void 0,function(){var r,o,s;return $(this,function(u){switch(u.label){case 0:if(e.Br.set("Online"),!(t instanceof qA&&t.state===2&&t.cause))return[3,6];u.label=1;case 1:return u.trys.push([1,3,,5]),[4,function(l,f){return H(this,void 0,void 0,function(){var d,m,h,g;return $(this,function(y){switch(y.label){case 0:d=f.cause,m=0,h=f.targetIds,y.label=1;case 1:return m<h.length?(g=h[m],l.$r.has(g)?[4,l.remoteSyncer.rejectListen(g,d)]:[3,3]):[3,5];case 2:y.sent(),l.$r.delete(g),l.qr.removeTarget(g),y.label=3;case 3:y.label=4;case 4:return m++,[3,1];case 5:return[2]}})})}(e,t)];case 2:return u.sent(),[3,5];case 3:return r=u.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ih(e,r)];case 4:return u.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof xf?e.qr.X(t):t instanceof $A?e.qr.rt(t):e.qr.et(t),n.isEqual(Ge.min()))return[3,13];u.label=7;case 7:return u.trys.push([7,11,,13]),[4,px(e.localStore)];case 8:return o=u.sent(),n.compareTo(o)>=0?[4,function(l,f){var d=l.qr.ut(f);return d.targetChanges.forEach(function(m,h){if(m.resumeToken.approximateByteSize()>0){var g=l.$r.get(h);g&&l.$r.set(h,g.withResumeToken(m.resumeToken,f))}}),d.targetMismatches.forEach(function(m){var h=l.$r.get(m);if(h){l.$r.set(m,h.withResumeToken(Wn.EMPTY_BYTE_STRING,h.snapshotVersion)),_x(l,m);var g=new Jh(h.target,m,1,h.sequenceNumber);Ky(l,g)}}),l.remoteSyncer.applyRemoteEvent(d)}(e,n)]:[3,10];case 9:u.sent(),u.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",s=u.sent()),[4,ih(e,s)];case 12:return u.sent(),[3,13];case 13:return[2]}})})}function ih(e,t,n){return H(this,void 0,void 0,function(){var r=this;return $(this,function(o){switch(o.label){case 0:if(!ss(t))throw t;return e.Or.add(1),[4,Da(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return px(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return H(r,void 0,void 0,function(){return $(this,function(s){switch(s.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return s.sent(),e.Or.delete(1),[4,Wl(e)];case 2:return s.sent(),[2]}})})}),[2]}})})}function Sx(e,t){return t().catch(function(n){return ih(e,n,t)})}function La(e){return H(this,void 0,void 0,function(){var t,n,r,o,s;return $(this,function(u){switch(u.label){case 0:t=se(e),n=Zi(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,u.label=1;case 1:if(!function(l){return io(l)&&l.Fr.length<10}(t))return[3,7];u.label=2;case 2:return u.trys.push([2,4,,6]),[4,KF(t.localStore,r)];case 3:return(o=u.sent())===null?(t.Fr.length===0&&n.ir(),[3,7]):(r=o.batchId,function(l,f){l.Fr.push(f);var d=Zi(l);d.er()&&d.pr&&d.Er(f.mutations)}(t,o),[3,6]);case 4:return s=u.sent(),[4,ih(t,s)];case 5:return u.sent(),[3,6];case 6:return[3,1];case 7:return Ex(t)&&Tx(t),[2]}})})}function Ex(e){return io(e)&&!Zi(e).tr()&&e.Fr.length>0}function Tx(e){Zi(e).start()}function pV(e){return H(this,void 0,void 0,function(){return $(this,function(t){return Zi(e).Ar(),[2]})})}function gV(e){return H(this,void 0,void 0,function(){var t,n,r,o;return $(this,function(s){for(t=Zi(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function mV(e,t,n){return H(this,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:return r=e.Fr.shift(),o=AF.from(r,t,n),[4,Sx(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return s.sent(),[4,La(e)];case 2:return s.sent(),[2]}})})}function vV(e,t){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return t&&Zi(e).pr?[4,function(r,o){return H(this,void 0,void 0,function(){var s,u;return $(this,function(l){switch(l.label){case 0:return UA(u=o.code)&&u!==M.ABORTED?(s=r.Fr.shift(),Zi(r).sr(),[4,Sx(r,function(){return r.remoteSyncer.rejectFailedWrite(s.batchId,o)})]):[3,3];case 1:return l.sent(),[4,La(r)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ex(e)&&Tx(e),[2]}})})}function fv(e,t){return H(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return n=se(e),t?(n.Or.delete(2),[4,Wl(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Da(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Ma(e){var t=this;return e.Ur||(e.Ur=function(n,r,o){var s=se(n);return s.br(),new sV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:fV.bind(null,e),Ri:hV.bind(null,e),_r:dV.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return n?(e.Ur.sr(),Wy(e)?Gy(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:r.sent(),wx(e),r.label=3;case 3:return[2]}})})})),e.Ur}function Zi(e){var t=this;return e.Kr||(e.Kr=function(n,r,o){var s=se(n);return s.br(),new aV(r,s.Hi,s.credentials,s.R,o)}(e.datastore,e.asyncQueue,{Ii:pV.bind(null,e),Ri:vV.bind(null,e),Ir:gV.bind(null,e),Tr:mV.bind(null,e)}),e.Mr.push(function(n){return H(t,void 0,void 0,function(){return $(this,function(r){switch(r.label){case 0:return n?(e.Kr.sr(),[4,La(e)]):[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:r.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),r.label=4;case 4:return[2]}})})})),e.Kr}var yV=function(){function e(t,n,r,o,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(u){})}return e.createAndSchedule=function(t,n,r,o,s){var u=new e(t,n,Date.now()+r,o,s);return u.start(r),u},e.prototype.start=function(t){var n=this;this.timerHandle=setTimeout(function(){return n.handleDelayElapsed()},t)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},e.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.timerHandle!==null?(t.clearTimeout(),t.op().then(function(n){return t.deferred.resolve(n)})):Promise.resolve()})},e.prototype.clearTimeout=function(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Fa(e,t){if(qt("AsyncQueue",t+": "+e),ss(e))return new Y(M.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ix=function(){function e(t){this.comparator=t?function(n,r){return t(n,r)||Se.comparator(n.key,r.key)}:function(n,r){return Se.comparator(n.key,r.key)},this.keyedMap=av(),this.sortedSet=new En(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(t){return this.keyedMap.get(t)!=null},e.prototype.get=function(t){return this.keyedMap.get(t)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(t){var n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(n,r){return t(n),!1})},e.prototype.add=function(t){var n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))},e.prototype.delete=function(t){var n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0},e.prototype.toString=function(){var t=[];return this.forEach(function(n){t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),KS=function(){function e(){this.Qr=new En(Se.comparator)}return e.prototype.track=function(t){var n=t.doc.key,r=this.Qr.get(n);r?t.type!==0&&r.type===3?this.Qr=this.Qr.insert(n,t):t.type===3&&r.type!==1?this.Qr=this.Qr.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Qr=this.Qr.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Qr=this.Qr.remove(n):t.type===1&&r.type===2?this.Qr=this.Qr.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Qr=this.Qr.insert(n,{type:2,doc:t.doc}):_e():this.Qr=this.Qr.insert(n,t)},e.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(n,r){t.push(r)}),t},e}(),oh=function(){function e(t,n,r,o,s,u,l,f){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=u,this.syncStateChanged=l,this.excludesMetadataChanges=f}return e.fromInitialDocuments=function(t,n,r,o){var s=[];return n.forEach(function(u){s.push({type:0,doc:u})}),new e(t,n,Ix.emptySet(n),s,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$l(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0},e}(),bV=function(){this.Wr=void 0,this.listeners=[]},_V=function(){this.queries=new Ra(function(e){return OA(e)},$l),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(e,t){return H(this,void 0,void 0,function(){var n,r,o,s,u,l,f;return $(this,function(d){switch(d.label){case 0:if(n=se(e),r=t.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new bV),!o)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),u=s,[4,n.onListen(r)];case 2:return u.Wr=d.sent(),[3,4];case 3:return l=d.sent(),f=Fa(l,"Initialization of query '"+ov(t.query)+"' failed"),[2,void t.onError(f)];case 4:return n.queries.set(r,s),s.listeners.push(t),t.zr(n.onlineState),s.Wr&&t.Hr(s.Wr)&&Yy(n),[2]}})})}function Xy(e,t){return H(this,void 0,void 0,function(){var n,r,o,s,u;return $(this,function(l){return n=se(e),r=t.query,o=!1,(s=n.queries.get(r))&&(u=s.listeners.indexOf(t))>=0&&(s.listeners.splice(u,1),o=s.listeners.length===0),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function wV(e,t){for(var n=se(e),r=!1,o=0,s=t;o<s.length;o++){var u=s[o],l=u.query,f=n.queries.get(l);if(f){for(var d=0,m=f.listeners;d<m.length;d++)m[d].Hr(u)&&(r=!0);f.Wr=u}}r&&Yy(n)}function SV(e,t,n){var r=se(e),o=r.queries.get(t);if(o)for(var s=0,u=o.listeners;s<u.length;s++)u[s].onError(n);r.queries.delete(t)}function Yy(e){e.Gr.forEach(function(t){t.next()})}var Qy=function(){function e(t,n,r){this.query=t,this.Jr=n,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=r||{}}return e.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var n=[],r=0,o=t.docChanges;r<o.length;r++){var s=o[r];s.type!==3&&n.push(s)}t=new oh(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var u=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),u=!0):this.eo(t,this.onlineState)&&(this.no(t),u=!0),this.Xr=t,u},e.prototype.onError=function(t){this.Jr.error(t)},e.prototype.zr=function(t){this.onlineState=t;var n=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),n=!0),n},e.prototype.eo=function(t,n){if(!t.fromCache)return!0;var r=n!=="Offline";return!(this.options.so&&r||t.docs.isEmpty()&&n!=="Offline")},e.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var n=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0},e.prototype.no=function(t){t=oh.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ax=function(e){this.key=e},xx=function(e){this.key=e},kx=function(){function e(t,n){this.query=t,this.uo=n,this.ao=null,this.current=!1,this.ho=vt(),this.mutatedKeys=vt(),this.lo=PA(t),this.fo=new Ix(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(t,n){var r=this,o=n?n.mo:new KS,s=n?n.fo:this.fo,u=n?n.mutatedKeys:this.mutatedKeys,l=s,f=!1,d=If(this.query)&&s.size===this.query.limit?s.last():null,m=Jf(this.query)&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal(function(g,y){var b=s.get(g),w=ql(r.query,y)?y:null,E=!!b&&r.mutatedKeys.has(b.key),T=!!w&&(w.hasLocalMutations||r.mutatedKeys.has(w.key)&&w.hasCommittedMutations),k=!1;b&&w?b.data.isEqual(w.data)?E!==T&&(o.track({type:3,doc:w}),k=!0):r.yo(b,w)||(o.track({type:2,doc:w}),k=!0,(d&&r.lo(w,d)>0||m&&r.lo(w,m)<0)&&(f=!0)):!b&&w?(o.track({type:0,doc:w}),k=!0):b&&!w&&(o.track({type:1,doc:b}),k=!0,(d||m)&&(f=!0)),k&&(w?(l=l.add(w),u=T?u.add(g):u.delete(g)):(l=l.delete(g),u=u.delete(g)))}),If(this.query)||Jf(this.query))for(;l.size>this.query.limit;){var h=If(this.query)?l.last():l.first();l=l.delete(h.key),u=u.delete(h.key),o.track({type:1,doc:h})}return{fo:l,mo:o,Nn:f,mutatedKeys:u}},e.prototype.yo=function(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations},e.prototype.applyChanges=function(t,n,r){var o=this,s=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var u=t.mo.jr();u.sort(function(m,h){return function(g,y){var b=function(w){switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e()}};return b(g)-b(y)}(m.type,h.type)||o.lo(m.doc,h.doc)}),this.po(r);var l=n?this.Eo():[],f=this.ho.size===0&&this.current?1:0,d=f!==this.ao;return this.ao=f,u.length!==0||d?{snapshot:new oh(this.query,t.fo,s,u,t.mutatedKeys,f===0,d,!1),To:l}:{To:l}},e.prototype.zr=function(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({fo:this.fo,mo:new KS,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},e.prototype.po=function(t){var n=this;t&&(t.addedDocuments.forEach(function(r){return n.uo=n.uo.add(r)}),t.modifiedDocuments.forEach(function(r){}),t.removedDocuments.forEach(function(r){return n.uo=n.uo.delete(r)}),this.current=t.current)},e.prototype.Eo=function(){var t=this;if(!this.current)return[];var n=this.ho;this.ho=vt(),this.fo.forEach(function(o){t.Io(o.key)&&(t.ho=t.ho.add(o.key))});var r=[];return n.forEach(function(o){t.ho.has(o)||r.push(new xx(o))}),this.ho.forEach(function(o){n.has(o)||r.push(new Ax(o))}),r},e.prototype.Ao=function(t){this.uo=t.Bn,this.ho=vt();var n=this._o(t.documents);return this.applyChanges(n,!0)},e.prototype.Ro=function(){return oh.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,this.ao===0)},e}(),EV=function(e,t,n){this.query=e,this.targetId=t,this.view=n},TV=function(e){this.key=e,this.bo=!1},IV=function(){function e(t,n,r,o,s,u){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.vo={},this.Po=new Ra(function(l){return OA(l)},$l),this.Vo=new Map,this.So=new Set,this.Do=new En(Se.comparator),this.Co=new Map,this.No=new qy,this.xo={},this.ko=new Map,this.Fo=th.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return this.$o===!0},enumerable:!1,configurable:!0}),e}();function AV(e,t){return H(this,void 0,void 0,function(){var n,r,o,s,u,l;return $(this,function(f){switch(f.label){case 0:return n=n0(e),(s=n.Po.get(t))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,nh(n.localStore,ni(t))];case 2:return u=f.sent(),l=n.sharedClientState.addLocalQueryTarget(u.targetId),r=u.targetId,[4,Jy(n,t,r,l==="current")];case 3:o=f.sent(),n.isPrimaryClient&&ed(n.remoteStore,u),f.label=4;case 4:return[2,o]}})})}function Jy(e,t,n,r){return H(this,void 0,void 0,function(){var o,s,u,l,f,d;return $(this,function(m){switch(m.label){case 0:return e.Oo=function(h,g,y){return function(b,w,E,T){return H(this,void 0,void 0,function(){var k,D,F;return $(this,function(J){switch(J.label){case 0:return k=w.view._o(E),k.Nn?[4,rh(b.localStore,w.query,!1).then(function(V){var fe=V.documents;return w.view._o(fe,k)})]:[3,2];case 1:k=J.sent(),J.label=2;case 2:return D=T&&T.targetChanges.get(w.targetId),F=w.view.applyChanges(k,b.isPrimaryClient,D),[2,(hv(b,w.targetId,F.To),F.snapshot)]}})})}(e,h,g,y)},[4,rh(e.localStore,t,!0)];case 1:return o=m.sent(),s=new kx(t,o.Bn),u=s._o(o.documents),l=My.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline"),f=s.applyChanges(u,e.isPrimaryClient,l),hv(e,n,f.To),d=new EV(t,n,s),[2,(e.Po.set(t,d),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),f.snapshot)]}})})}function xV(e,t){return H(this,void 0,void 0,function(){var n,r,o;return $(this,function(s){switch(s.label){case 0:return n=se(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(u){return!$l(u,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,_a(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),pl(n.remoteStore,r.targetId),wa(n,r.targetId)}).catch(as)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return wa(n,r.targetId),[4,_a(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function kV(e,t,n){return H(this,void 0,void 0,function(){var r,o,s,u;return $(this,function(l){switch(l.label){case 0:r=r0(e),l.label=1;case 1:return l.trys.push([1,5,,6]),[4,function(f,d){var m,h=se(f),g=Kn.now(),y=d.reduce(function(b,w){return b.add(w.key)},vt());return h.persistence.runTransaction("Locally write mutations","readwrite",function(b){return h.Mn.pn(b,y).next(function(w){m=w;for(var E=[],T=0,k=d;T<k.length;T++){var D=k[T],F=eF(D,m.get(D.key));F!=null&&E.push(new ro(D.key,F,AA(F.value.mapValue),_n.exists(!0)))}return h._n.addMutationBatch(b,g,E,d)})}).then(function(b){return b.applyToLocalDocumentSet(m),{batchId:b.batchId,changes:m}})}(r.localStore,t)];case 2:return o=l.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(f,d,m){var h=f.xo[f.currentUser.toKey()];h||(h=new En(Qe)),h=h.insert(d,m),f.xo[f.currentUser.toKey()]=h}(r,o.batchId,n),[4,oo(r,o.changes)];case 3:return l.sent(),[4,La(r.remoteStore)];case 4:return l.sent(),[3,6];case 5:return s=l.sent(),u=Fa(s,"Failed to persist write"),n.reject(u),[3,6];case 6:return[2]}})})}function Cx(e,t){return H(this,void 0,void 0,function(){var n,r;return $(this,function(o){switch(o.label){case 0:n=se(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,qF(n.localStore,t)];case 2:return r=o.sent(),t.targetChanges.forEach(function(s,u){var l=n.Co.get(u);l&&(Oe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.bo=!0:s.modifiedDocuments.size>0?Oe(l.bo):s.removedDocuments.size>0&&(Oe(l.bo),l.bo=!1))}),[4,oo(n,r,t)];case 3:return o.sent(),[3,6];case 4:return[4,as(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function GS(e,t,n){var r=se(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){var o=[];r.Po.forEach(function(s,u){var l=u.view.zr(t);l.snapshot&&o.push(l.snapshot)}),function(s,u){var l=se(s);l.onlineState=u;var f=!1;l.queries.forEach(function(d,m){for(var h=0,g=m.listeners;h<g.length;h++)g[h].zr(u)&&(f=!0)}),f&&Yy(l)}(r.eventManager,t),o.length&&r.vo._r(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function CV(e,t,n){return H(this,void 0,void 0,function(){var r,o,s,u,l,f;return $(this,function(d){switch(d.label){case 0:return(r=se(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(s=o&&o.key)?(u=(u=new En(Se.comparator)).insert(s,Sn.newNoDocument(s,Ge.min())),l=vt().add(s),f=new Ly(Ge.min(),new Map,new Qt(Qe),u,l),[4,Cx(r,f)]):[3,2];case 1:return d.sent(),r.Do=r.Do.remove(s),r.Co.delete(t),t0(r),[3,4];case 2:return[4,_a(r.localStore,t,!1).then(function(){return wa(r,t,n)}).catch(as)];case 3:d.sent(),d.label=4;case 4:return[2]}})})}function OV(e,t){return H(this,void 0,void 0,function(){var n,r,o;return $(this,function(s){switch(s.label){case 0:n=se(e),r=t.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,$F(n.localStore,t)];case 2:return o=s.sent(),e0(n,r,null),Zy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,oo(n,o)];case 3:return s.sent(),[3,6];case 4:return[4,as(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function PV(e,t,n){return H(this,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:r=se(e),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(u,l){var f=se(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",function(d){var m;return f._n.lookupMutationBatch(d,l).next(function(h){return Oe(h!==null),m=h.keys(),f._n.removeMutationBatch(d,h)}).next(function(){return f._n.performConsistencyCheck(d)}).next(function(){return f.Mn.pn(d,m)})})}(r.localStore,t)];case 2:return o=s.sent(),e0(r,t,n),Zy(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,oo(r,o)];case 3:return s.sent(),[3,6];case 4:return[4,as(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function NV(e,t){return H(this,void 0,void 0,function(){var n,r,o,s,u;return $(this,function(l){switch(l.label){case 0:io((n=se(e)).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,function(f){var d=se(f);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(m){return d._n.getHighestUnacknowledgedBatchId(m)})}(n.localStore)];case 2:return(r=l.sent())===-1?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return s=l.sent(),u=Fa(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(u),[3,4];case 4:return[2]}})})}function Zy(e,t){(e.ko.get(t)||[]).forEach(function(n){n.resolve()}),e.ko.delete(t)}function e0(e,t,n){var r=se(e),o=r.xo[r.currentUser.toKey()];if(o){var s=o.get(t);s&&(n?s.reject(n):s.resolve(),o=o.remove(t)),r.xo[r.currentUser.toKey()]=o}}function wa(e,t,n){n===void 0&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var s=o[r];e.Po.delete(s),n&&e.vo.Mo(s,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(u){e.No.containsKey(u)||Ox(e,u)})}function Ox(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);n!==null&&(pl(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),t0(e))}function hv(e,t,n){for(var r=0,o=n;r<o.length;r++){var s=o[r];s instanceof Ax?(e.No.addReference(s.key,t),RV(e,s)):s instanceof xx?(re("SyncEngine","Document no longer in limbo: "+s.key),e.No.removeReference(s.key,t),e.No.containsKey(s.key)||Ox(e,s.key)):_e()}}function RV(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(re("SyncEngine","New document in limbo: "+n),e.So.add(r),t0(e))}function t0(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new Se(st.fromString(t)),r=e.Fo.next();e.Co.set(r,new TV(n)),e.Do=e.Do.insert(n,r),ed(e.remoteStore,new Jh(ni(Bl(n.path)),r,2,sr.o))}}function oo(e,t,n){return H(this,void 0,void 0,function(){var r,o,s,u;return $(this,function(l){switch(l.label){case 0:return r=se(e),o=[],s=[],u=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(f,d){u.push(r.Oo(d,t,n).then(function(m){if(m){r.isPrimaryClient&&r.sharedClientState.updateQueryState(d.targetId,m.fromCache?"not-current":"current"),o.push(m);var h=UF.Pn(d.targetId,m);s.push(h)}}))}),[4,Promise.all(u)]);case 1:return l.sent(),r.vo._r(o),[4,function(f,d){return H(this,void 0,void 0,function(){var m,h,g,y,b,w,E,T,k;return $(this,function(D){switch(D.label){case 0:m=se(f),D.label=1;case 1:return D.trys.push([1,3,,4]),[4,m.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(F){return ee.forEach(d,function(J){return ee.forEach(J.bn,function(V){return m.persistence.referenceDelegate.addReference(F,J.targetId,V)}).next(function(){return ee.forEach(J.vn,function(V){return m.persistence.referenceDelegate.removeReference(F,J.targetId,V)})})})})];case 2:return D.sent(),[3,4];case 3:if(!ss(h=D.sent()))throw h;return re("LocalStore","Failed to update sequence numbers: "+h),[3,4];case 4:for(g=0,y=d;g<y.length;g++)b=y[g],w=b.targetId,b.fromCache||(E=m.kn.get(w),T=E.snapshotVersion,k=E.withLastLimboFreeSnapshotVersion(T),m.kn=m.kn.insert(w,k));return[2]}})})}(r.localStore,s)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function DV(e,t){return H(this,void 0,void 0,function(){var n,r;return $(this,function(o){switch(o.label){case 0:return(n=se(e)).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,dx(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,function(s,u){s.ko.forEach(function(l){l.forEach(function(f){f.reject(new Y(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,oo(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function LV(e,t){var n=se(e),r=n.Co.get(t);if(r&&r.bo)return vt().add(r.key);var o=vt(),s=n.Vo.get(t);if(!s)return o;for(var u=0,l=s;u<l.length;u++){var f=l[u],d=n.Po.get(f);o=o.unionWith(d.view.wo)}return o}function MV(e,t){return H(this,void 0,void 0,function(){var n,r,o;return $(this,function(s){switch(s.label){case 0:return[4,rh((n=se(e)).localStore,t.query,!0)];case 1:return r=s.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&hv(n,t.targetId,o.To),o)]}})})}function FV(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){return[2,mx((t=se(e)).localStore).then(function(r){return oo(t,r)})]})})}function VV(e,t,n,r){return H(this,void 0,void 0,function(){var o,s;return $(this,function(u){switch(u.label){case 0:return[4,function(l,f){var d=se(l),m=se(d._n);return d.persistence.runTransaction("Lookup mutation documents","readonly",function(h){return m.jt(h,f).next(function(g){return g?d.Mn.pn(h,g):ee.resolve(null)})})}((o=se(e)).localStore,t)];case 1:return(s=u.sent())===null?[3,6]:n!=="pending"?[3,3]:[4,La(o.remoteStore)];case 2:return u.sent(),[3,4];case 3:n==="acknowledged"||n==="rejected"?(e0(o,t,r||null),Zy(o,t),function(l,f){se(se(l)._n).Gt(f)}(o.localStore,t)):_e(),u.label=4;case 4:return[4,oo(o,s)];case 5:return u.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),u.label=7;case 7:return[2]}})})}function jV(e,t){return H(this,void 0,void 0,function(){var n,r,o,s,u,l,f,d;return $(this,function(m){switch(m.label){case 0:return n0(n=se(e)),r0(n),t!==!0||n.$o===!0?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,WS(n,r.toArray())]);case 1:return o=m.sent(),n.$o=!0,[4,fv(n.remoteStore,!0)];case 2:for(m.sent(),s=0,u=o;s<u.length;s++)l=u[s],ed(n.remoteStore,l);return[3,7];case 3:return t!==!1||n.$o===!1?[3,7]:(f=[],d=Promise.resolve(),n.Vo.forEach(function(h,g){n.sharedClientState.isLocalQueryTarget(g)?f.push(g):d=d.then(function(){return wa(n,g),_a(n.localStore,g,!0)}),pl(n.remoteStore,g)}),[4,d]);case 4:return m.sent(),[4,WS(n,f)];case 5:return m.sent(),function(h){var g=se(h);g.Co.forEach(function(y,b){pl(g.remoteStore,b)}),g.No.ts(),g.Co=new Map,g.Do=new En(Se.comparator)}(n),n.$o=!1,[4,fv(n.remoteStore,!1)];case 6:m.sent(),m.label=7;case 7:return[2]}})})}function WS(e,t,n){return H(this,void 0,void 0,function(){var r,o,s,u,l,f,d,m,h,g,y,b,w,E;return $(this,function(T){switch(T.label){case 0:r=se(e),o=[],s=[],u=0,l=t,T.label=1;case 1:return u<l.length?(f=l[u],d=void 0,(m=r.Vo.get(f))&&m.length!==0?[4,nh(r.localStore,ni(m[0]))]:[3,7]):[3,13];case 2:d=T.sent(),h=0,g=m,T.label=3;case 3:return h<g.length?(y=g[h],b=r.Po.get(y),[4,MV(r,b)]):[3,6];case 4:(w=T.sent()).snapshot&&s.push(w.snapshot),T.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,gx(r.localStore,f)];case 8:return E=T.sent(),[4,nh(r.localStore,E)];case 9:return d=T.sent(),[4,Jy(r,Px(E),f,!1)];case 10:T.sent(),T.label=11;case 11:o.push(d),T.label=12;case 12:return u++,[3,1];case 13:return[2,(r.vo._r(s),o)]}})})}function Px(e){return kA(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function UV(e){var t=se(e);return se(se(t.localStore).persistence).fn()}function BV(e,t,n,r){return H(this,void 0,void 0,function(){var o,s,u;return $(this,function(l){switch(l.label){case 0:return(o=se(e)).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mx(o.localStore)];case 3:return s=l.sent(),u=Ly.createSynthesizedRemoteEventForCurrentChange(t,n==="current"),[4,oo(o,s,u)];case 4:return l.sent(),[3,8];case 5:return[4,_a(o.localStore,t,!0)];case 6:return l.sent(),wa(o,t,r),[3,8];case 7:_e(),l.label=8;case 8:return[2]}})})}function $V(e,t,n){return H(this,void 0,void 0,function(){var r,o,s,u,l,f,d,m,h,g;return $(this,function(y){switch(y.label){case 0:if(!(r=n0(e)).$o)return[3,10];o=0,s=t,y.label=1;case 1:return o<s.length?(u=s[o],r.Vo.has(u)?(re("SyncEngine","Adding an already active target "+u),[3,5]):[4,gx(r.localStore,u)]):[3,6];case 2:return l=y.sent(),[4,nh(r.localStore,l)];case 3:return f=y.sent(),[4,Jy(r,Px(l),f.targetId,!1)];case 4:y.sent(),ed(r.remoteStore,f),y.label=5;case 5:return o++,[3,1];case 6:d=function(b){return $(this,function(w){switch(w.label){case 0:return r.Vo.has(b)?[4,_a(r.localStore,b,!1).then(function(){pl(r.remoteStore,b),wa(r,b)}).catch(as)]:[3,2];case 1:w.sent(),w.label=2;case 2:return[2]}})},m=0,h=n,y.label=7;case 7:return m<h.length?(g=h[m],[5,d(g)]):[3,10];case 8:y.sent(),y.label=9;case 9:return m++,[3,7];case 10:return[2]}})})}function n0(e){var t=se(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Cx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CV.bind(null,t),t.vo._r=wV.bind(null,t.eventManager),t.vo.Mo=SV.bind(null,t.eventManager),t}function r0(e){var t=se(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=PV.bind(null,t),t}var Nx=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(t){return H(this,void 0,void 0,function(){return $(this,function(n){switch(n.label){case 0:return this.R=Zh(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return n.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},e.prototype.Uo=function(t){return null},e.prototype.Ko=function(t){return hx(this.persistence,new fx,t.initialUser,this.R)},e.prototype.qo=function(t){return new JF(eV.bs,this.R)},e.prototype.Bo=function(t){return new vx},e.prototype.terminate=function(){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},e}(),Rx=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).Qo=n,s.cacheSizeBytes=r,s.forceOwnership=o,s.synchronizeTabs=!1,s}return Ie(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var r=this;return $(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return o.sent(),[4,GF(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,n)];case 3:return o.sent(),[4,r0(this.Qo.syncEngine)];case 4:return o.sent(),[4,La(this.Qo.remoteStore)];case 5:return o.sent(),[4,this.persistence.He(function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()})];case 6:return o.sent(),[2]}})})},t.prototype.Ko=function(n){return hx(this.persistence,new fx,n.initialUser,this.R)},t.prototype.Uo=function(n){var r=this.persistence.referenceDelegate.garbageCollector;return new RF(r,n.asyncQueue)},t.prototype.qo=function(n){var r=$y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),o=this.cacheSizeBytes!==void 0?Gr.withCacheSize(this.cacheSizeBytes):Gr.DEFAULT;return new jF(this.synchronizeTabs,r,n.clientId,o,n.asyncQueue,yx(),kf(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(n){return new vx},t}(Nx),qV=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r,!1)||this).Qo=n,o.cacheSizeBytes=r,o.synchronizeTabs=!0,o}return Ie(t,e),t.prototype.initialize=function(n){return H(this,void 0,void 0,function(){var r,o=this;return $(this,function(s){switch(s.label){case 0:return[4,e.prototype.initialize.call(this,n)];case 1:return s.sent(),r=this.Qo.syncEngine,this.sharedClientState instanceof dm?(this.sharedClientState.syncEngine={ui:VV.bind(null,r),ai:BV.bind(null,r),hi:$V.bind(null,r),fn:UV.bind(null,r),ci:FV.bind(null,r)},[4,this.sharedClientState.start()]):[3,3];case 2:s.sent(),s.label=3;case 3:return[4,this.persistence.He(function(u){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return[4,jV(this.Qo.syncEngine,u)];case 1:return l.sent(),this.gcScheduler&&(u&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):u||this.gcScheduler.stop()),[2]}})})})];case 4:return s.sent(),[2]}})})},t.prototype.Bo=function(n){var r=yx();if(!dm.yt(r))throw new Y(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var o=$y(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new dm(r,n.asyncQueue,o,n.clientId,n.initialUser)},t}(Rx),dv=function(){function e(){}return e.prototype.initialize=function(t,n){return H(this,void 0,void 0,function(){var r=this;return $(this,function(o){switch(o.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(s){return GS(r.syncEngine,s,1)},this.remoteStore.remoteSyncer.handleCredentialChange=DV.bind(null,this.syncEngine),[4,fv(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:o.sent(),o.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(t){return new _V},e.prototype.createDatastore=function(t){var n,r=Zh(t.databaseInfo.databaseId),o=(n=t.databaseInfo,new oV(n));return function(s,u,l){return new uV(s,u,l)}(t.credentials,o,r)},e.prototype.createRemoteStore=function(t){var n,r,o,s,u,l=this;return n=this.localStore,r=this.datastore,o=t.asyncQueue,s=function(f){return GS(l.syncEngine,f,0)},u=HS.yt()?new HS:new nV,new cV(n,r,o,s,u)},e.prototype.createSyncEngine=function(t,n){return function(r,o,s,u,l,f,d){var m=new IV(r,o,s,u,l,f);return d&&(m.$o=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)},e.prototype.terminate=function(){return function(t){return H(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return n=se(t),re("RemoteStore","RemoteStore shutting down."),n.Or.add(5),[4,Da(n)];case 1:return r.sent(),n.Lr.shutdown(),n.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var td=function(){function e(t){this.observer=t,this.muted=!1}return e.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},e.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(t,n){var r=this;this.muted||setTimeout(function(){r.muted||t(n)},0)},e}(),HV=function(){function e(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(t){return H(this,void 0,void 0,function(){var n,r=this;return $(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Y(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(s,u){return H(this,void 0,void 0,function(){var l,f,d,m,h,g;return $(this,function(y){switch(y.label){case 0:return l=se(s),f=dl(l.R)+"/documents",d={documents:u.map(function(b){return hl(l.R,b)})},[4,l.$i("BatchGetDocuments",f,d)];case 1:return m=y.sent(),h=new Map,m.forEach(function(b){var w=function(E,T){return"found"in T?function(k,D){Oe(!!D.found),D.found.name,D.found.updateTime;var F=hi(k,D.found.name),J=Rn(D.found.updateTime),V=new or({mapValue:{fields:D.found.fields}});return Sn.newFoundDocument(F,J,V)}(E,T):"missing"in T?function(k,D){Oe(!!D.missing),Oe(!!D.readTime);var F=hi(k,D.missing),J=Rn(D.readTime);return Sn.newNoDocument(F,J)}(E,T):_e()}(l.R,b);h.set(w.key.toString(),w)}),g=[],[2,(u.forEach(function(b){var w=h.get(b.toString());Oe(!!w),g.push(w)}),g)]}})})}(this.datastore,t)];case 1:return[2,((n=o.sent()).forEach(function(s){return r.recordVersion(s)}),n)]}})})},e.prototype.set=function(t,n){this.write(n.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.update=function(t,n){try{this.write(n.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())},e.prototype.delete=function(t){this.write(new Gl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},e.prototype.commit=function(){return H(this,void 0,void 0,function(){var t,n=this;return $(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(o){t.delete(o.key.toString())}),t.forEach(function(o,s){var u=Se.fromPath(s);n.mutations.push(new Dy(u,n.precondition(u)))}),[4,function(o,s){return H(this,void 0,void 0,function(){var u,l,f;return $(this,function(d){switch(d.label){case 0:return u=se(o),l=dl(u.R)+"/documents",f={writes:s.map(function(m){return Zf(u.R,m)})},[4,u.Ni("Commit",l,f)];case 1:return d.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return r.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(t){var n;if(t.isFoundDocument())n=t.version;else{if(!t.isNoDocument())throw _e();n=Ge.min()}var r=this.readVersions.get(t.key.toString());if(r){if(!n.isEqual(r))throw new Y(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),n)},e.prototype.precondition=function(t){var n=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&n?_n.updateTime(n):_n.none()},e.prototype.preconditionForUpdate=function(t){var n=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&n){if(n.isEqual(Ge.min()))throw new Y(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _n.updateTime(n)}return _n.exists(!0)},e.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},e.prototype.ensureCommitNotCalled=function(){},e}(),KV=function(){function e(t,n,r,o){this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=o,this.ec=5,this.Zi=new Hy(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var t=this;this.Zi.ji(function(){return H(t,void 0,void 0,function(){var n,r,o=this;return $(this,function(s){return n=new HV(this.datastore),(r=this.sc(n))&&r.then(function(u){o.asyncQueue.enqueueAndForget(function(){return n.commit().then(function(){o.deferred.resolve(u)}).catch(function(l){o.ic(l)})})}).catch(function(u){o.ic(u)}),[2]})})})},e.prototype.sc=function(t){try{var n=this.updateFunction(t);return!os(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(r){return this.deferred.reject(r),null}},e.prototype.ic=function(t){var n=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return n.nc(),Promise.resolve()})):this.deferred.reject(t)},e.prototype.rc=function(t){if(t.name==="FirebaseError"){var n=t.code;return n==="aborted"||n==="failed-precondition"||!UA(n)}return!1},e}(),GV=function(){function e(t,n,r){var o=this;this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=on.UNAUTHENTICATED,this.clientId=_A.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(n,function(s){return H(o,void 0,void 0,function(){return $(this,function(u){switch(u.label){case 0:return re("FirestoreClient","Received user=",s.uid),[4,this.credentialListener(s)];case 1:return u.sent(),this.user=s,[2]}})})})}return e.prototype.getConfiguration=function(){return H(this,void 0,void 0,function(){return $(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Y(M.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var n=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return H(t,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:s.sent(),s.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:s.sent(),s.label=4;case 4:return this.credentials.removeChangeListener(),n.resolve(),[3,6];case 5:return r=s.sent(),o=Fa(r,"Failed to shutdown persistence"),n.reject(o),[3,6];case 6:return[2]}})})}),n.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(e,t){return H(this,void 0,void 0,function(){var n,r,o=this;return $(this,function(s){switch(s.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=s.sent(),[4,t.initialize(n)];case 2:return s.sent(),r=n.initialUser,e.setCredentialChangeListener(function(u){return H(o,void 0,void 0,function(){return $(this,function(l){switch(l.label){case 0:return r.isEqual(u)?[3,2]:[4,dx(t.localStore,u)];case 1:l.sent(),r=u,l.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function Lx(e,t){return H(this,void 0,void 0,function(){var n,r;return $(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,i0(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(s){return function(u,l){return H(this,void 0,void 0,function(){var f,d;return $(this,function(m){switch(m.label){case 0:return(f=se(u)).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),d=io(f),f.Or.add(3),[4,Da(f)];case 1:return m.sent(),d&&f.Br.set("Unknown"),[4,f.remoteSyncer.handleCredentialChange(l)];case 2:return m.sent(),f.Or.delete(3),[4,Wl(f)];case 3:return m.sent(),[2]}})})}(t.remoteStore,s)}),e.onlineComponents=t,[2]}})})}function i0(e){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,Dx(e,new Nx)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function nd(e){return H(this,void 0,void 0,function(){return $(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,Lx(e,new dv)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function zS(e){return i0(e).then(function(t){return t.persistence})}function Mx(e){return i0(e).then(function(t){return t.localStore})}function XS(e){return nd(e).then(function(t){return t.remoteStore})}function Fx(e){return nd(e).then(function(t){return t.syncEngine})}function Sa(e){return H(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return[4,nd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=AV.bind(null,t.syncEngine),n.onUnlisten=xV.bind(null,t.syncEngine),n)]}})})}function YS(e,t,n){var r=this;n===void 0&&(n={});var o=new zn;return e.asyncQueue.enqueueAndForget(function(){return H(r,void 0,void 0,function(){var s;return $(this,function(u){switch(u.label){case 0:return s=function(l,f,d,m,h){var g=new td({next:function(b){f.enqueueAndForget(function(){return Xy(l,y)});var w=b.docs.has(d);!w&&b.fromCache?h.reject(new Y(M.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&b.fromCache&&m&&m.source==="server"?h.reject(new Y(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:function(b){return h.reject(b)}}),y=new Qy(Bl(d.path),g,{includeMetadataChanges:!0,so:!0});return zy(l,y)},[4,Sa(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function QS(e,t,n){var r=this;n===void 0&&(n={});var o=new zn;return e.asyncQueue.enqueueAndForget(function(){return H(r,void 0,void 0,function(){var s;return $(this,function(u){switch(u.label){case 0:return s=function(l,f,d,m,h){var g=new td({next:function(b){f.enqueueAndForget(function(){return Xy(l,y)}),b.fromCache&&m.source==="server"?h.reject(new Y(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:function(b){return h.reject(b)}}),y=new Qy(d,g,{includeMetadataChanges:!0,so:!0});return zy(l,y)},[4,Sa(e)];case 1:return[2,s.apply(void 0,[u.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var WV=function(e,t,n,r,o,s,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.useFetchStreams=l},sh=function(){function e(t,n){this.projectId=t,this.database=n||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database==="(default)"},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),JS=new Map,Vx=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},ZS=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){this.changeListener=n,t.enqueueRetryable(function(){return n(on.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),zV=function(){function e(t){this.token=t,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(t,n){var r=this;this.changeListener=n,t.enqueueRetryable(function(){return n(r.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),XV=function(){function e(t){var n=this;this.currentUser=on.UNAUTHENTICATED,this.oc=new zn,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){n.cc++,n.currentUser=n.ac(),n.oc.resolve(),n.changeListener&&n.asyncQueue.enqueueRetryable(function(){return n.changeListener(n.currentUser)})};var r=function(o){re("FirebaseCredentialsProvider","Auth detected"),n.auth=o,n.auth.addAuthTokenListener(n.uc)};t.onInit(function(o){return r(o)}),setTimeout(function(){if(!n.auth){var o=t.getImmediate({optional:!0});o?r(o):(re("FirebaseCredentialsProvider","Auth not yet detected"),n.oc.resolve())}},0)}return e.prototype.getToken=function(){var t=this,n=this.cc,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(function(o){return t.cc!==n?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):o?(Oe(typeof o.accessToken=="string"),new Vx(o.accessToken,t.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(t,n){var r=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return H(r,void 0,void 0,function(){return $(this,function(o){switch(o.label){case 0:return[4,this.oc.promise];case 1:return o.sent(),[4,n(this.currentUser)];case 2:return o.sent(),this.changeListener=n,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Oe(t===null||typeof t=="string"),new on(t)},e}(),YV=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r,this.type="FirstParty",this.user=on.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},n=this.hc.auth.getAuthHeaderValueForFirstParty([]);return n&&(t.Authorization=n),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),e}(),QV=function(){function e(t,n,r){this.hc=t,this.lc=n,this.fc=r}return e.prototype.getToken=function(){return Promise.resolve(new YV(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(t,n){t.enqueueRetryable(function(){return n(on.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(e,t,n){if(!n)throw new Y(M.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function s0(e,t){if(t===void 0)return{merge:!1};if(t.mergeFields!==void 0&&t.merge!==void 0)throw new Y(M.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function jx(e,t,n,r){if(t===!0&&r===!0)throw new Y(M.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function eE(e){if(!Se.isDocumentKey(e))throw new Y(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function tE(e){if(Se.isDocumentKey(e))throw new Y(M.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function rd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";var t=function(n){if(n.constructor){var r=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(r&&r.length>1)return r[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return typeof e=="function"?"a function":_e()}function at(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rd(e);throw new Y(M.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function nE(e,t){if(t<=0)throw new Y(M.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rE=function(){function e(t){var n;if(t.host===void 0){if(t.ssl!==void 0)throw new Y(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Y(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,jx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},e}(),gl=function(){function e(t,n){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rE({}),this._settingsFrozen=!1,t instanceof sh?(this._databaseId=t,this._credentials=new ZS):(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Y(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sh(r.options.projectId)}(t),this._credentials=new XV(n))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Y(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return this._terminateTask!==void 0},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Y(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rE(t),t.credentials!==void 0&&(this._credentials=function(n){if(!n)return new ZS;switch(n.type){case"gapi":var r=n.client;return Oe(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new QV(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Y(M.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return t=this,(n=JS.get(t))&&(re("ComponentProvider","Removing Datastore"),JS.delete(t),n.terminate()),Promise.resolve();var t,n},e}(),Ot=function(){function e(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Xi(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),ur=function(){function e(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Xi=function(e){function t(n,r,o){var s=this;return(s=e.call(this,n,r,Bl(o))||this)._path=o,s.type="collection",s}return Ie(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._path.popLast();return n.isEmpty()?null:new Ot(this.firestore,null,new Se(n))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(n){return new t(this.firestore,n,this._path)},t}(ur);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ft(e),o0("collection","path",t),e instanceof gl)return tE(n=st.fromString.apply(st,It([t],r))),new Xi(e,null,n);if(!(e instanceof Ot||e instanceof Xi))throw new Y(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return tE(n=st.fromString.apply(st,It([e.path],r)).child(st.fromString(t))),new Xi(e.firestore,null,n)}function Cf(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=ft(e),arguments.length===1&&(t=_A.u()),o0("doc","path",t),e instanceof gl)return eE(n=st.fromString.apply(st,It([t],r))),new Ot(e,null,new Se(n));if(!(e instanceof Ot||e instanceof Xi))throw new Y(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return eE(n=e._path.child(st.fromString.apply(st,It([t],r)))),new Ot(e.firestore,e instanceof Xi?e.converter:null,new Se(n))}function Bx(e,t){return e=ft(e),t=ft(t),(e instanceof Ot||e instanceof Xi)&&(t instanceof Ot||t instanceof Xi)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function $x(e,t){return e=ft(e),t=ft(t),e instanceof ur&&t instanceof ur&&e.firestore===t.firestore&&$l(e._query,t._query)&&e.converter===t.converter}var JV=function(){function e(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Hy(this,"async_queue_retry"),this.Ic=function(){var r=kf();r&&re("AsyncQueue","Visibility state changed to "+r.visibilityState),t.Zi.Gi()};var n=kf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(t){this.enqueue(t)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},e.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var n=kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(t){var n=this;if(this.Ac(),this._c)return new Promise(function(){});var r=new zn;return this.Rc(function(){return n._c&&n.Ec?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)}).then(function(){return r.promise})},e.prototype.enqueueRetryable=function(t){var n=this;this.enqueueAndForget(function(){return n.wc.push(t),n.bc()})},e.prototype.bc=function(){return H(this,void 0,void 0,function(){var t,n=this;return $(this,function(r){switch(r.label){case 0:if(this.wc.length===0)return[3,5];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return r.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ss(t=r.sent()))throw t;return re("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return n.bc()}),r.label=5;case 5:return[2]}})})},e.prototype.Rc=function(t){var n=this,r=this.dc.then(function(){return n.gc=!0,t().catch(function(o){throw n.yc=o,n.gc=!1,qt("INTERNAL UNHANDLED ERROR: ",function(s){var u=s.message||"";return s.stack&&(u=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),u}(o)),o}).then(function(o){return n.gc=!1,o})});return this.dc=r,r},e.prototype.enqueueAfterDelay=function(t,n,r){var o=this;this.Ac(),this.Tc.indexOf(t)>-1&&(n=0);var s=yV.createAndSchedule(this,t,n,r,function(u){return o.vc(u)});return this.mc.push(s),s},e.prototype.Ac=function(){this.yc&&_e()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return[4,t=this.dc];case 1:n.sent(),n.label=2;case 2:if(t!==this.dc)return[3,0];n.label=3;case 3:return[2]}})})},e.prototype.Vc=function(t){for(var n=0,r=this.mc;n<r.length;n++)if(r[n].timerId===t)return!0;return!1},e.prototype.Sc=function(t){var n=this;return this.Pc().then(function(){n.mc.sort(function(u,l){return u.targetTimeMs-l.targetTimeMs});for(var r=0,o=n.mc;r<o.length;r++){var s=o[r];if(s.skipDelay(),t!=="all"&&s.timerId===t)break}return n.Pc()})},e.prototype.Dc=function(t){this.Tc.push(t)},e.prototype.vc=function(t){var n=this.mc.indexOf(t);this.mc.splice(n,1)},e}();function Ea(e){return function(t,n){if(typeof t!="object"||t===null)return!1;for(var r=t,o=0,s=["next","error","complete"];o<s.length;o++){var u=s[o];if(u in r&&typeof r[u]=="function")return!0}return!1}(e)}var ZV=-1,Yt=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).type="firestore",o._queue=new JV,o._persistenceKey="name"in n?n.name:"[DEFAULT]",o}return Ie(t,e),t.prototype._terminate=function(){return this._firestoreClient||qx(this),this._firestoreClient.terminate()},t}(gl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(e){return e._firestoreClient||qx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qx(e){var t,n=e._freezeSettings(),r=function(o,s,u,l){return new WV(o,s,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new GV(e._credentials,e._queue,r)}function iE(e,t,n){var r=this,o=new zn;return e.asyncQueue.enqueue(function(){return H(r,void 0,void 0,function(){var s;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),[4,Dx(e,n)];case 1:return u.sent(),[4,Lx(e,t)];case 2:return u.sent(),o.resolve(),[3,4];case 3:if(!function(l){return l.name==="FirebaseError"?l.code===M.FAILED_PRECONDITION||l.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(s=u.sent()))throw s;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),o.reject(s),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function oE(e){if(e._initialized||e._terminated)throw new Y(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yr=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0;r<t.length;++r)if(t[r].length===0)throw new Y(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(t)}return e.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},e}(),ts=function(){function e(t){this._byteString=t}return e.fromBase64String=function(t){try{return new e(Wn.fromBase64String(t))}catch(n){throw new Y(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}},e.fromUint8Array=function(t){return new e(Wn.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},e}(),us=function(e){this._methodName=e},id=function(){function e(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(t){return Qe(this._lat,t._lat)||Qe(this._long,t._long)},e}(),ej=/^__.*__$/,tj=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return this.fieldMask!==null?new ro(t,this.data,this.fieldMask,n,this.fieldTransforms):new Kl(t,this.data,n,this.fieldTransforms)},e}(),Hx=function(){function e(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}return e.prototype.toMutation=function(t,n){return new ro(t,this.data,this.fieldMask,n,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e()}}var Gx=function(){function e(t,n,r,o,s,u){this.settings=t,this.databaseId=n,this.R=r,this.ignoreUndefinedProperties=o,s===void 0&&this.Cc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.$c(t),o},e.prototype.Oc=function(t){var n,r=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.xc({path:r,Fc:!1});return o.Cc(),o},e.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(t){return ah(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(t){return this.fieldMask.find(function(n){return t.isPrefixOf(n)})!==void 0||this.fieldTransforms.find(function(n){return t.isPrefixOf(n.field)})!==void 0},e.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},e.prototype.$c=function(t){if(t.length===0)throw this.Lc("Document fields must not be empty");if(Kx(this.Nc)&&ej.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),nj=function(){function e(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.R=r||Zh(t)}return e.prototype.Uc=function(t,n,r,o){return o===void 0&&(o=!1),new Gx({Nc:t,methodName:n,qc:r,path:Mr.emptyPath(),Fc:!1,Bc:o},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ls(e){var t=e._freezeSettings(),n=Zh(e._databaseId);return new nj(e._databaseId,!!t.ignoreUndefinedProperties,n)}function od(e,t,n,r,o,s){s===void 0&&(s={});var u=e.Uc(s.merge||s.mergeFields?2:0,t,n,o);c0("Data must be an object, but it was:",u,r);var l,f,d=Xx(r,u);if(s.merge)l=new la(u.fieldMask),f=u.fieldTransforms;else if(s.mergeFields){for(var m=[],h=0,g=s.mergeFields;h<g.length;h++){var y=pv(t,g[h],n);if(!u.contains(y))throw new Y(M.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Qx(m,y)||m.push(y)}l=new la(m),f=u.fieldTransforms.filter(function(b){return l.covers(b.field)})}else l=null,f=u.fieldTransforms;return new tj(new or(d),l,f)}var a0=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype._toFieldTransform=function(n){if(n.Nc!==2)throw n.Nc===1?n.Lc(this._methodName+"() can only appear at the top level of your update data"):n.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return n.fieldMask.push(n.path),null},t.prototype.isEqual=function(n){return n instanceof t},t}(us);function Wx(e,t,n){return new Gx({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var rj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype._toFieldTransform=function(n){return new Hl(n.path,new da)},t.prototype.isEqual=function(n){return n instanceof t},t}(us),ij=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var r=Wx(this,n,!0),o=this.Kc.map(function(u){return cs(u,r)}),s=new Zo(o);return new Hl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(us),oj=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Kc=r,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var r=Wx(this,n,!0),o=this.Kc.map(function(u){return cs(u,r)}),s=new es(o);return new Hl(n.path,s)},t.prototype.isEqual=function(n){return this===n},t}(us),sj=function(e){function t(n,r){var o=this;return(o=e.call(this,n)||this).Qc=r,o}return Ie(t,e),t.prototype._toFieldTransform=function(n){var r=new pa(n.R,DA(n.R,this.Qc));return new Hl(n.path,r)},t.prototype.isEqual=function(n){return this===n},t}(us);function u0(e,t,n,r){var o=e.Uc(1,t,n);c0("Data must be an object, but it was:",o,r);var s=[],u=or.empty();is(r,function(f,d){var m=f0(t,f,n);d=ft(d);var h=o.Oc(m);if(d instanceof a0)s.push(m);else{var g=cs(d,h);g!=null&&(s.push(m),u.set(m,g))}});var l=new la(s);return new Hx(u,l,o.fieldTransforms)}function l0(e,t,n,r,o,s){var u=e.Uc(1,t,n),l=[pv(t,r,n)],f=[o];if(s.length%2!=0)throw new Y(M.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var d=0;d<s.length;d+=2)l.push(pv(t,s[d])),f.push(s[d+1]);for(var m=[],h=or.empty(),g=l.length-1;g>=0;--g)if(!Qx(m,l[g])){var y=l[g],b=f[g];b=ft(b);var w=u.Oc(y);if(b instanceof a0)m.push(y);else{var E=cs(b,w);E!=null&&(m.push(y),h.set(y,E))}}var T=new la(m);return new Hx(h,T,u.fieldTransforms)}function zx(e,t,n,r){return r===void 0&&(r=!1),cs(n,e.Uc(r?4:3,t))}function cs(e,t){if(Yx(e=ft(e)))return c0("Unsupported field value:",t,e),Xx(e,t);if(e instanceof us)return function(n,r){if(!Kx(r.Nc))throw r.Lc(n._methodName+"() can only be used with update() and set()");if(!r.path)throw r.Lc(n._methodName+"() is not currently supported inside arrays");var o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&t.Nc!==4)throw t.Lc("Nested arrays are not supported");return function(n,r){for(var o=[],s=0,u=0,l=n;u<l.length;u++){var f=cs(l[u],r.Mc(s));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=ft(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return DA(r.R,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){var o=Kn.fromDate(n);return{timestampValue:fl(r.R,o)}}if(n instanceof Kn)return o=new Kn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3)),{timestampValue:fl(r.R,o)};if(n instanceof id)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ts)return{bytesValue:HA(r.R,n._byteString)};if(n instanceof Ot){o=r.databaseId;var s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Lc("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+o.projectId+"/"+o.database);return{referenceValue:Fy(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Lc("Unsupported field value: "+rd(n))}(e,t)}function Xx(e,t){var n={};return SA(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):is(e,function(r,o){var s=cs(o,t.kc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Yx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Kn||e instanceof id||e instanceof ts||e instanceof Ot||e instanceof us)}function c0(e,t,n){if(!Yx(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){var r=rd(n);throw r==="an object"?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function pv(e,t,n){if((t=ft(t))instanceof Yr)return t._internalPath;if(typeof t=="string")return f0(e,t);throw ah("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var aj=new RegExp("[~\\*/\\[\\]]");function f0(e,t,n){if(t.search(aj)>=0)throw ah("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return new(Yr.bind.apply(Yr,It([void 0],t.split("."))))()._internalPath}catch{throw ah("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function ah(e,t,n,r,o){var s=r&&!r.isEmpty(),u=o!==void 0,l="Function "+t+"() called with invalid data";n&&(l+=" (via `toFirestore()`)");var f="";return(s||u)&&(f+=" (found",s&&(f+=" in field "+r),u&&(f+=" in document "+o),f+=")"),new Y(M.INVALID_ARGUMENT,(l+=". ")+e+f)}function Qx(e,t){return e.some(function(n){return n.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ml=function(){function e(t,n,r,o,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=s}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Ot(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return this._document!==null},e.prototype.data=function(){if(this._document){if(this._converter){var t=new uj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(t){if(this._document){var n=this._document.data.field(uh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}},e}(),uj=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(ml);function uh(e,t){return typeof t=="string"?f0(e,t):t instanceof Yr?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jo=function(){function e(t,n){this.hasPendingWrites=t,this.fromCache=n}return e.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},e}(),pi=function(e){function t(n,r,o,s,u,l){var f=this;return(f=e.call(this,n,r,o,s,l)||this)._firestore=n,f._firestoreImpl=n,f.metadata=u,f}return Ie(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(n){if(n===void 0&&(n={}),this._document){if(this._converter){var r=new $u(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}},t.prototype.get=function(n,r){if(r===void 0&&(r={}),this._document){var o=this._document.data.field(uh("DocumentSnapshot.get",n));if(o!==null)return this._userDataWriter.convertValue(o,r.serverTimestamps)}},t}(ml),$u=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(n){return n===void 0&&(n={}),e.prototype.data.call(this,n)},t}(pi),Bi=function(){function e(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new jo(o.hasPendingWrites,o.fromCache),this.query=r}return Object.defineProperty(e.prototype,"docs",{get:function(){var t=[];return this.forEach(function(n){return t.push(n)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.size===0},enumerable:!1,configurable:!0}),e.prototype.forEach=function(t,n){var r=this;this._snapshot.docs.forEach(function(o){t.call(n,new $u(r._firestore,r._userDataWriter,o.key,o,new jo(r._snapshot.mutatedKeys.has(o.key),r._snapshot.fromCache),r.query.converter))})},e.prototype.docChanges=function(t){t===void 0&&(t={});var n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){var s=0;return r._snapshot.docChanges.map(function(l){return{type:"added",doc:new $u(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}})}var u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(function(l){return o||l.type!==3}).map(function(l){var f=new $u(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,m=-1;return l.type!==0&&(d=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),l.type!==1&&(m=(u=u.add(l.doc)).indexOf(l.doc.key)),{type:lj(l.type),doc:f,oldIndex:d,newIndex:m}})}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges},e}();function lj(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e()}}function Jx(e,t){return e instanceof pi&&t instanceof pi?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(e._document===null?t._document===null:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bi&&t instanceof Bi&&e._firestore===t._firestore&&$x(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(e){if(Jf(e)&&e.explicitOrderBy.length===0)throw new Y(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zl=function(){};function Ni(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,o=t;r<o.length;r++){var s=o[r];e=s._apply(e)}return e}var cj=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).jc=n,s.Wc=r,s.Gc=o,s.type="where",s}return Ie(t,e),t.prototype._apply=function(n){var r=ls(n.firestore),o=function(s,u,l,f,d,m,h){var g;if(d.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Y(M.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+m+"' queries on FieldPath.documentId().");if(m==="in"||m==="not-in"){cE(h,m);for(var y=[],b=0,w=h;b<w.length;b++){var E=w[b];y.push(lE(f,s,E))}g={arrayValue:{values:y}}}else g=lE(f,s,h)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||cE(h,m),g=zx(l,"where",h,m==="in"||m==="not-in");var T=ar.create(d,m,g);return function(k,D){if(D.g()){var F=Ny(k);if(F!==null&&!F.isEqual(D.field))throw new Y(M.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+F.toString()+"' and '"+D.field.toString()+"'");var J=Py(k);J!==null&&tk(k,D.field,J)}var V=function(fe,G){for(var X=0,C=fe.filters;X<C.length;X++){var He=C[X];if(G.indexOf(He.op)>=0)return He.op}return null}(k,function(fe){switch(fe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(D.op));if(V!==null)throw V===D.op?new Y(M.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+D.op.toString()+"' filter."):new Y(M.INVALID_ARGUMENT,"Invalid query. You cannot use '"+D.op.toString()+"' filters with '"+V.toString()+"' filters.")}(s,T),T}(n._query,0,r,n.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ur(n.firestore,n.converter,function(s,u){var l=s.filters.concat([u]);return new yi(s.path,s.collectionGroup,s.explicitOrderBy.slice(),l,s.limit,s.limitType,s.startAt,s.endAt)}(n._query,o))},t}(zl),fj=function(e){function t(n,r){var o=this;return(o=e.call(this)||this).jc=n,o.zc=r,o.type="orderBy",o}return Ie(t,e),t.prototype._apply=function(n){var r=function(o,s,u){if(o.startAt!==null)throw new Y(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Y(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var l=new Ys(s,u);return function(f,d){if(Py(f)===null){var m=Ny(f);m!==null&&tk(f,m,d.field)}}(o,l),l}(n._query,this.jc,this.zc);return new ur(n.firestore,n.converter,function(o,s){var u=o.explicitOrderBy.concat([s]);return new yi(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(n._query,r))},t}(zl),sE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Hc=r,s.Jc=o,s}return Ie(t,e),t.prototype._apply=function(n){return new ur(n.firestore,n.converter,CA(n._query,this.Hc,this.Jc))},t}(zl),aE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ie(t,e),t.prototype._apply=function(n){var r=ek(n,this.type,this.Yc,this.Xc);return new ur(n.firestore,n.converter,function(o,s){return new yi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,s,o.endAt)}(n._query,r))},t}(zl),uE=function(e){function t(n,r,o){var s=this;return(s=e.call(this)||this).type=n,s.Yc=r,s.Xc=o,s}return Ie(t,e),t.prototype._apply=function(n){var r=ek(n,this.type,this.Yc,this.Xc);return new ur(n.firestore,n.converter,function(o,s){return new yi(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,s)}(n._query,r))},t}(zl);function ek(e,t,n,r){if(n[0]=ft(n[0]),n[0]instanceof ml)return function(s,u,l,f,d){if(!f)throw new Y(M.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+l+"().");for(var m=[],h=0,g=ha(s);h<g.length;h++){var y=g[h];if(y.field.isKeyField())m.push(Xf(u,f.key));else{var b=f.data.field(y.field);if(ky(b))throw new Y(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(b===null){var w=y.field.canonicalString();throw new Y(M.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+w+"' (used as the orderBy) does not exist.")}m.push(b)}}return new cl(m,d)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=ls(e.firestore);return function(s,u,l,f,d,m){var h=s.explicitOrderBy;if(d.length>h.length)throw new Y(M.INVALID_ARGUMENT,"Too many arguments provided to "+f+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var g=[],y=0;y<d.length;y++){var b=d[y];if(h[y].field.isKeyField()){if(typeof b!="string")throw new Y(M.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+f+"(), but got a "+typeof b);if(!Ry(s)&&b.indexOf("/")!==-1)throw new Y(M.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+f+"() must be a plain document ID, but '"+b+"' contains a slash.");var w=s.path.child(st.fromString(b));if(!Se.isDocumentKey(w))throw new Y(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+f+"() must result in a valid document path, but '"+w+"' is not because it contains an odd number of segments.");var E=new Se(w);g.push(Xf(u,E))}else{var T=zx(l,f,b);g.push(T)}}return new cl(g,m)}(e._query,e.firestore._databaseId,o,t,n,r)}function lE(e,t,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new Y(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ry(t)&&n.indexOf("/")!==-1)throw new Y(M.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(st.fromString(n));if(!Se.isDocumentKey(r))throw new Y(M.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Xf(e,new Se(r))}if(n instanceof Ot)return Xf(e,n._key);throw new Y(M.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rd(n)+".")}function cE(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(M.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Y(M.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function tk(e,t,n){if(!n.isEqual(t))throw new Y(M.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h0=function(){function e(){}return e.prototype.convertValue=function(t,n){switch(n===void 0&&(n="none"),Jo(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $t(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ca(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw _e()}},e.prototype.convertObject=function(t,n){var r=this,o={};return is(t.fields,function(s,u){o[s]=r.convertValue(u,n)}),o},e.prototype.convertGeoPoint=function(t){return new id($t(t.latitude),$t(t.longitude))},e.prototype.convertArray=function(t,n){var r=this;return(t.values||[]).map(function(o){return r.convertValue(o,n)})},e.prototype.convertServerTimestamp=function(t,n){switch(n){case"previous":var r=TA(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ul(t));default:return null}},e.prototype.convertTimestamp=function(t){var n=Ji(t);return new Kn(n.seconds,n.nanos)},e.prototype.convertDocumentKey=function(t,n){var r=st.fromString(t);Oe(JA(r));var o=new sh(r.get(1),r.get(3)),s=new Se(r.popFirst(5));return o.isEqual(n)||qt("Document "+s+" contains a document reference within a different database ("+o.projectId+"/"+o.database+") which is not supported. It will be treated as a reference in the current database ("+n.projectId+"/"+n.database+") instead."),s},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var hj=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ie(t,e),t.prototype.convertBytes=function(n){return new ts(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ot(this.firestore,null,r)},t}(h0),dj=function(){function e(t,n){this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ls(t)}return e.prototype.set=function(t,n,r){this._verifyNotCommitted();var o=$i(t,this._firestore),s=sd(o.converter,n,r),u=od(this._dataReader,"WriteBatch.set",o._key,s,o.converter!==null,r);return this._mutations.push(u.toMutation(o._key,_n.none())),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this._verifyNotCommitted();var u,l=$i(t,this._firestore);return u=typeof(n=ft(n))=="string"||n instanceof Yr?l0(this._dataReader,"WriteBatch.update",l._key,n,r,o):u0(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(u.toMutation(l._key,_n.exists(!0))),this},e.prototype.delete=function(t){this._verifyNotCommitted();var n=$i(t,this._firestore);return this._mutations=this._mutations.concat(new Gl(n._key,_n.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Y(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(e,t){if((e=ft(e)).firestore!==t)throw new Y(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ho=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ie(t,e),t.prototype.convertBytes=function(n){return new ts(n)},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return new Ot(this.firestore,null,r)},t}(h0);function fE(e,t,n){e=at(e,Ot);var r=at(e.firestore,Yt),o=sd(e.converter,t,n);return Xl(r,[od(ls(r),"setDoc",e._key,o,e.converter!==null,n).toMutation(e._key,_n.none())])}function hE(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=at(e,Ot);var s=at(e.firestore,Yt),u=ls(s);return Xl(s,[(typeof(t=ft(t))=="string"||t instanceof Yr?l0(u,"updateDoc",e._key,t,n,r):u0(u,"updateDoc",e._key,t)).toMutation(e._key,_n.exists(!0))])}function nk(e){for(var t,n,r,o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];e=ft(e);var u={includeMetadataChanges:!1},l=0;typeof o[l]!="object"||Ea(o[l])||(u=o[l],l++);var f,d,m,h={includeMetadataChanges:u.includeMetadataChanges};if(Ea(o[l])){var g=o[l];o[l]=(t=g.next)===null||t===void 0?void 0:t.bind(g),o[l+1]=(n=g.error)===null||n===void 0?void 0:n.bind(g),o[l+2]=(r=g.complete)===null||r===void 0?void 0:r.bind(g)}if(e instanceof Ot)d=at(e.firestore,Yt),m=Bl(e._key.path),f={next:function(w){o[l]&&o[l](gv(d,e,w))},error:o[l+1],complete:o[l+2]};else{var y=at(e,ur);d=at(y.firestore,Yt),m=y._query;var b=new Ho(d);f={next:function(w){o[l]&&o[l](new Bi(d,b,y,w))},error:o[l+1],complete:o[l+2]},Zx(e._query)}return function(w,E,T,k){var D=this,F=new td(k),J=new Qy(E,F,T);return w.asyncQueue.enqueueAndForget(function(){return H(D,void 0,void 0,function(){var V;return $(this,function(fe){switch(fe.label){case 0:return V=zy,[4,Sa(w)];case 1:return[2,V.apply(void 0,[fe.sent(),J])]}})})}),function(){F.Wo(),w.asyncQueue.enqueueAndForget(function(){return H(D,void 0,void 0,function(){var V;return $(this,function(fe){switch(fe.label){case 0:return V=Xy,[4,Sa(w)];case 1:return[2,V.apply(void 0,[fe.sent(),J])]}})})})}}(vn(d),m,h,f)}function Xl(e,t){return function(n,r){var o=this,s=new zn;return n.asyncQueue.enqueueAndForget(function(){return H(o,void 0,void 0,function(){var u;return $(this,function(l){switch(l.label){case 0:return u=kV,[4,Fx(n)];case 1:return[2,u.apply(void 0,[l.sent(),r,s])]}})})}),s.promise}(vn(e),t)}function gv(e,t,n){var r=n.docs.get(t._key),o=new Ho(e);return new pi(e,o,t._key,r,new jo(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pj=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this)._firestore=n,o}return Ie(t,e),t.prototype.get=function(n){var r=this,o=$i(n,this._firestore),s=new Ho(this._firestore);return e.prototype.get.call(this,n).then(function(u){return new pi(r._firestore,s,o._key,u._document,new jo(!1,!1),o.converter)})},t}(function(){function e(t,n){this._firestore=t,this._transaction=n,this._dataReader=ls(t)}return e.prototype.get=function(t){var n=this,r=$i(t,this._firestore),o=new hj(this._firestore);return this._transaction.lookup([r._key]).then(function(s){if(!s||s.length!==1)return _e();var u=s[0];if(u.isFoundDocument())return new ml(n._firestore,o,u.key,u,r.converter);if(u.isNoDocument())return new ml(n._firestore,o,r._key,null,r.converter);throw _e()})},e.prototype.set=function(t,n,r){var o=$i(t,this._firestore),s=sd(o.converter,n,r),u=od(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,u),this},e.prototype.update=function(t,n,r){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var u,l=$i(t,this._firestore);return u=typeof(n=ft(n))=="string"||n instanceof Yr?l0(this._dataReader,"Transaction.update",l._key,n,r,o):u0(this._dataReader,"Transaction.update",l._key,n),this._transaction.update(l._key,u),this},e.prototype.delete=function(t){var n=$i(t,this._firestore);return this._transaction.delete(n._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){if(typeof Uint8Array>"u")throw new Y(M.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function pE(){if(typeof atob>"u")throw new Y(M.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var rk=function(){function e(t){this._delegate=t}return e.fromBase64String=function(t){return pE(),new e(ts.fromBase64String(t))},e.fromUint8Array=function(t){return dE(),new e(ts.fromUint8Array(t))},e.prototype.toBase64=function(){return pE(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return dE(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),gj=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(t,n){return function(r,o){oE(r=at(r,Yt));var s=vn(r),u=r._freezeSettings(),l=new dv;return iE(s,l,new Rx(l,u.cacheSizeBytes,o==null?void 0:o.forceOwnership))}(t._delegate,{forceOwnership:n})},e.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(n){oE(n=at(n,Yt));var r=vn(n),o=n._freezeSettings(),s=new dv;return iE(r,s,new qV(s,o.cacheSizeBytes))}(t._delegate)},e.prototype.clearIndexedDbPersistence=function(t){return function(n){var r=this;if(n._initialized&&!n._terminated)throw new Y(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var o=new zn;return n._queue.enqueueAndForgetEvenWhileRestricted(function(){return H(r,void 0,void 0,function(){var s;return $(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,function(l){return H(this,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return va.yt()?(f=l+"main",[4,va.delete(f)]):[2,Promise.resolve()];case 1:return d.sent(),[2]}})})}($y(n._databaseId,n._persistenceKey))];case 1:return u.sent(),o.resolve(),[3,3];case 2:return s=u.sent(),o.reject(s),[3,3];case 3:return[2]}})})}),o.promise}(t._delegate)},e}(),ik=function(){function e(t,n,r){var o=this;this._delegate=n,this.Zc=r,this.INTERNAL={delete:function(){return o.terminate()}},t instanceof sh||(this.tu=t)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){var n=this._delegate._getSettings();t.merge||n.host===t.host||Wf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},n),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),function(o,s,u,l){var f;l===void 0&&(l={});var d=(o=at(o,gl))._getSettings();if(d.host!=="firestore.googleapis.com"&&d.host!==s&&Wf("Host has been set in both settings() and useEmulator(), emulator host will be used"),o._setSettings(Object.assign(Object.assign({},d),{host:s+":"+u,ssl:!1})),l.mockUserToken){var m,h;if(typeof l.mockUserToken=="string")m=l.mockUserToken,h=on.MOCK_USER;else{m=fI(l.mockUserToken,(f=o._app)===null||f===void 0?void 0:f.options.projectId);var g=l.mockUserToken.sub||l.mockUserToken.user_id;if(!g)throw new Y(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new on(g)}o._credentials=new zV(new Vx(m,h))}}(this._delegate,t,n,r)},e.prototype.enableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:return[4,zS(t)];case 1:return r=s.sent(),[4,XS(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!0),function(u){var l=se(u);return l.Or.delete(0),Wl(l)}(o))]}})})})}(vn(at(this._delegate,Yt)))},e.prototype.disableNetwork=function(){return function(t){var n=this;return t.asyncQueue.enqueue(function(){return H(n,void 0,void 0,function(){var r,o;return $(this,function(s){switch(s.label){case 0:return[4,zS(t)];case 1:return r=s.sent(),[4,XS(t)];case 2:return o=s.sent(),[2,(r.setNetworkEnabled(!1),function(u){return H(this,void 0,void 0,function(){var l;return $(this,function(f){switch(f.label){case 0:return(l=se(u)).Or.add(0),[4,Da(l)];case 1:return f.sent(),l.Br.set("Offline"),[2]}})})}(o))]}})})})}(vn(at(this._delegate,Yt)))},e.prototype.enablePersistence=function(t){var n=!1,r=!1;return t&&jx("synchronizeTabs",n=!!t.synchronizeTabs,"experimentalForceOwningTab",r=!!t.experimentalForceOwningTab),n?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,r)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var n=this,r=new zn;return t.asyncQueue.enqueueAndForget(function(){return H(n,void 0,void 0,function(){var o;return $(this,function(s){switch(s.label){case 0:return o=NV,[4,Fx(t)];case 1:return[2,o.apply(void 0,[s.sent(),r])]}})})}),r.promise}(vn(at(this._delegate,Yt)))},e.prototype.onSnapshotsInSync=function(t){return function(n,r){return function(o,s){var u=this,l=new td(s);return o.asyncQueue.enqueueAndForget(function(){return H(u,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(m,h){se(m).Gr.add(h),h.next()},[4,Sa(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})}),function(){l.Wo(),o.asyncQueue.enqueueAndForget(function(){return H(u,void 0,void 0,function(){var f;return $(this,function(d){switch(d.label){case 0:return f=function(m,h){se(m).Gr.delete(h)},[4,Sa(o)];case 1:return[2,f.apply(void 0,[d.sent(),l])]}})})})}}(vn(n=at(n,Yt)),Ea(r)?r:{next:r})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Y(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lh(this,Ux(this._delegate,t))}catch(n){throw kn(n,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Ko(this,Cf(this._delegate,t))}catch(n){throw kn(n,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new ld(this,function(n,r){if(n=at(n,gl),o0("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Y(M.INVALID_ARGUMENT,"Invalid collection ID '"+r+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ur(n,null,function(o){return new yi(st.emptyPath(),o)}(r))}(this._delegate,t))}catch(n){throw kn(n,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var n=this;return function(r,o){return function(s,u){var l=this,f=new zn;return s.asyncQueue.enqueueAndForget(function(){return H(l,void 0,void 0,function(){var d;return $(this,function(m){switch(m.label){case 0:return[4,function(h){return nd(h).then(function(g){return g.datastore})}(s)];case 1:return d=m.sent(),new KV(s.asyncQueue,d,u,f).run(),[2]}})})}),f.promise}(vn(r),function(s){return o(new pj(r,s))})}(this._delegate,function(r){return t(new ok(n,r))})},e.prototype.batch=function(){var t=this;return vn(this._delegate),new sk(new dj(this._delegate,function(n){return Xl(t._delegate,n)}))},e.prototype.loadBundle=function(t){throw new Y(M.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Y(M.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),ad=function(e){function t(n){var r=this;return(r=e.call(this)||this).firestore=n,r}return Ie(t,e),t.prototype.convertBytes=function(n){return new rk(new ts(n))},t.prototype.convertReference=function(n){var r=this.convertDocumentKey(n,this.firestore._databaseId);return Ko.eu(r,this.firestore,null)},t}(h0);function mj(e){var t;t=e,Rr.setLogLevel(t)}var ok=function(){function e(t,n){this._firestore=t,this._delegate=n,this._userDataWriter=new ad(t)}return e.prototype.get=function(t){var n=this,r=Uo(t);return this._delegate.get(r).then(function(o){return new vl(n._firestore,new pi(n._firestore._delegate,n._userDataWriter,o._key,o._document,o.metadata,r.converter))})},e.prototype.set=function(t,n,r){var o=Uo(t);return r?(s0("Transaction.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Uo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,It([l,n,r],s)),this},e.prototype.delete=function(t){var n=Uo(t);return this._delegate.delete(n),this},e}(),sk=function(){function e(t){this._delegate=t}return e.prototype.set=function(t,n,r){var o=Uo(t);return r?(s0("WriteBatch.set",r),this._delegate.set(o,n,r)):this._delegate.set(o,n),this},e.prototype.update=function(t,n,r){for(var o,s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var l=Uo(t);return arguments.length===2?this._delegate.update(l,n):(o=this._delegate).update.apply(o,It([l,n,r],s)),this},e.prototype.delete=function(t){var n=Uo(t);return this._delegate.delete(n),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),ud=function(){function e(t,n,r){this._firestore=t,this._userDataWriter=n,this._delegate=r}return e.prototype.fromFirestore=function(t,n){var r=new $u(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yl(this._firestore,r),n??{})},e.prototype.toFirestore=function(t,n){return n?this._delegate.toFirestore(t,n):this._delegate.toFirestore(t)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var s=o.get(n);return s||(s=new e(t,new ad(t),n),o.set(n,s)),s},e}();ud.su=new WeakMap;var Ko=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new ad(t)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Y(M.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Ot(n._delegate,r,new Se(t)))},e.eu=function(t,n,r){return new e(n,new Ot(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new lh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new lh(this.firestore,Ux(this._delegate,t))}catch(n){throw kn(n,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return(t=ft(t))instanceof Ot&&Bx(this._delegate,t)},e.prototype.set=function(t,n){n=s0("DocumentReference.set",n);try{return n?fE(this._delegate,t,n):fE(this._delegate,t)}catch(r){throw kn(r,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];try{return arguments.length===1?hE(this._delegate,t):hE.apply(void 0,It([this._delegate,t,n],r))}catch(s){throw kn(s,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Xl(at((t=this._delegate).firestore,Yt),[new Gl(t._key,_n.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=ak(n),s=uk(n,function(u){return new vl(t.firestore,new pi(t.firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,t._delegate.converter))});return nk(this._delegate,o,s)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=at(r,Ot);var o=at(r.firestore,Yt),s=vn(o),u=new Ho(o);return function(l,f){var d=this,m=new zn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var h;return $(this,function(g){switch(g.label){case 0:return h=function(y,b,w){return H(this,void 0,void 0,function(){var E,T;return $(this,function(k){switch(k.label){case 0:return k.trys.push([0,2,,3]),[4,function(D,F){var J=se(D);return J.persistence.runTransaction("read document","readonly",function(V){return J.Mn.mn(V,F)})}(y,b)];case 1:return(T=k.sent()).isFoundDocument()?w.resolve(T):T.isNoDocument()?w.resolve(null):w.reject(new Y(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return E=k.sent(),T=Fa(E,"Failed to get document '"+b+" from cache"),w.reject(T),[3,3];case 3:return[2]}})})},[4,Mx(l)];case 1:return[2,h.apply(void 0,[g.sent(),f,m])]}})})}),m.promise}(s,r._key).then(function(l){return new pi(o,u,r._key,l,new jo(l!==null&&l.hasLocalMutations,!0),r.converter)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=at(r,Ot);var o=at(r.firestore,Yt);return YS(vn(o),r._key,{source:"server"}).then(function(s){return gv(o,r,s)})}(this._delegate):function(r){r=at(r,Ot);var o=at(r.firestore,Yt);return YS(vn(o),r._key).then(function(s){return gv(o,r,s)})}(this._delegate)).then(function(r){return new vl(n.firestore,new pi(n.firestore._delegate,n._userDataWriter,r._key,r._document,r.metadata,n._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ud.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function kn(e,t,n){return e.message=e.message.replace(t,n),e}function ak(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if(typeof r=="object"&&!Ea(r))return r}return{}}function uk(e,t){var n,r,o;return{next:function(s){o.next&&o.next(t(s))},error:(n=(o=Ea(e[0])?e[0]:Ea(e[1])?e[1]:typeof e[0]=="function"?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)===null||n===void 0?void 0:n.bind(o),complete:(r=o.complete)===null||r===void 0?void 0:r.bind(o)}}var vl=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Ko(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,n){return this._delegate.get(t,n)},e.prototype.isEqual=function(t){return Jx(this._delegate,t._delegate)},e}(),yl=function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return Ie(t,e),t.prototype.data=function(n){return this._delegate.data(n)},t}(vl),ld=function(){function e(t,n){this.firestore=t,this._delegate=n,this._userDataWriter=new ad(t)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ni(this._delegate,function(o,s,u){var l=s,f=uh("where",o);return new cj(f,l,u)}(t,n,r)))}catch(o){throw kn(o,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ni(this._delegate,function(r,o){o===void 0&&(o="asc");var s=o,u=uh("orderBy",r);return new fj(u,s)}(t,n)))}catch(r){throw kn(r,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ni(this._delegate,function(n){return nE("limit",n),new sE("limit",n,"F")}(t)))}catch(n){throw kn(n,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ni(this._delegate,function(n){return nE("limitToLast",n),new sE("limitToLast",n,"L")}(t)))}catch(n){throw kn(n,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ni(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new aE("startAt",r,!0)}).apply(void 0,t)))}catch(r){throw kn(r,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ni(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new aE("startAfter",r,!1)}).apply(void 0,t)))}catch(r){throw kn(r,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ni(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new uE("endBefore",r,!0)}).apply(void 0,t)))}catch(r){throw kn(r,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ni(this._delegate,(function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return new uE("endAt",r,!1)}).apply(void 0,t)))}catch(r){throw kn(r,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return $x(this._delegate,t._delegate)},e.prototype.get=function(t){var n=this;return((t==null?void 0:t.source)==="cache"?function(r){r=at(r,ur);var o=at(r.firestore,Yt),s=vn(o),u=new Ho(o);return function(l,f){var d=this,m=new zn;return l.asyncQueue.enqueueAndForget(function(){return H(d,void 0,void 0,function(){var h;return $(this,function(g){switch(g.label){case 0:return h=function(y,b,w){return H(this,void 0,void 0,function(){var E,T,k,D,F;return $(this,function(J){switch(J.label){case 0:return J.trys.push([0,2,,3]),[4,rh(y,b,!0)];case 1:return F=J.sent(),E=new kx(b,F.Bn),T=E._o(F.documents),k=E.applyChanges(T,!1),w.resolve(k.snapshot),[3,3];case 2:return D=J.sent(),F=Fa(D,"Failed to execute query '"+b+" against cache"),w.reject(F),[3,3];case 3:return[2]}})})},[4,Mx(l)];case 1:return[2,h.apply(void 0,[g.sent(),f,m])]}})})}),m.promise}(s,r._query).then(function(l){return new Bi(o,u,r,l)})}(this._delegate):(t==null?void 0:t.source)==="server"?function(r){r=at(r,ur);var o=at(r.firestore,Yt),s=vn(o),u=new Ho(o);return QS(s,r._query,{source:"server"}).then(function(l){return new Bi(o,u,r,l)})}(this._delegate):function(r){r=at(r,ur);var o=at(r.firestore,Yt),s=vn(o),u=new Ho(o);return Zx(r._query),QS(s,r._query).then(function(l){return new Bi(o,u,r,l)})}(this._delegate)).then(function(r){return new mv(n.firestore,new Bi(n.firestore._delegate,n._userDataWriter,n._delegate,r._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=ak(n),s=uk(n,function(u){return new mv(t.firestore,new Bi(t.firestore._delegate,t._userDataWriter,t._delegate,u._snapshot))});return nk(this._delegate,o,s)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(ud.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),vj=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new yl(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),mv=function(){function e(t,n){this._firestore=t,this._delegate=n}return Object.defineProperty(e.prototype,"query",{get:function(){return new ld(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(n){return new yl(t._firestore,n)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var n=this;return this._delegate.docChanges(t).map(function(r){return new vj(n._firestore,r)})},e.prototype.forEach=function(t,n){var r=this;this._delegate.forEach(function(o){t.call(n,new yl(r._firestore,o))})},e.prototype.isEqual=function(t){return Jx(this._delegate,t._delegate)},e}(),lh=function(e){function t(n,r){var o=this;return(o=e.call(this,n,r)||this).firestore=n,o._delegate=r,o}return Ie(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var n=this._delegate.parent;return n?new Ko(this.firestore,n):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(n){try{return new Ko(this.firestore,n===void 0?Cf(this._delegate):Cf(this._delegate,n))}catch(r){throw kn(r,"doc()","CollectionReference.doc()")}},t.prototype.add=function(n){var r=this;return function(o,s){var u=at(o.firestore,Yt),l=Cf(o),f=sd(o.converter,s);return Xl(u,[od(ls(o.firestore),"addDoc",l._key,f,o.converter!==null,{}).toMutation(l._key,_n.exists(!1))]).then(function(){return l})}(this._delegate,n).then(function(o){return new Ko(r.firestore,o)})},t.prototype.isEqual=function(n){return Bx(this._delegate,n._delegate)},t.prototype.withConverter=function(n){return new t(this.firestore,n?this._delegate.withConverter(ud.nu(this.firestore,n)):this._delegate.withConverter(null))},t}(ld);function Uo(e){return at(e,Ot)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yj=function(){function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._delegate=new(Yr.bind.apply(Yr,It([void 0],t)))}return e.documentId=function(){return new e(Mr.keyField().canonicalString())},e.prototype.isEqual=function(t){return(t=ft(t))instanceof Yr&&this._delegate._internalPath.isEqual(t._internalPath)},e}(),bj=function(){function e(t){this._delegate=t}return e.serverTimestamp=function(){var t=new rj("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new a0("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new ij("arrayUnion",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new oj("arrayRemove",o)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(r){return new sj("increment",r)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(),_j={Firestore:ik,GeoPoint:id,Timestamp:Kn,Blob:rk,Transaction:ok,WriteBatch:sk,DocumentReference:Ko,DocumentSnapshot:vl,Query:ld,QueryDocumentSnapshot:yl,QuerySnapshot:mv,CollectionReference:lh,FieldPath:yj,FieldValue:bj,setLogLevel:mj,CACHE_SIZE_UNLIMITED:ZV};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(e){(function(t,n){t.INTERNAL.registerComponent(new Ol("firestore",function(r){var o=r.getProvider("app").getImmediate();return n(o,r.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},_j)))})(e,function(t,n){return new ik(t,new Yt(t,n),new gj)}),e.registerVersion("@firebase/firestore","2.4.1")}wj(xe);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lk="firebasestorage.googleapis.com",ck="storageBucket",Sj=2*60*1e3,Ej=10*60*1e3,Gt=function(e){Ie(t,e);function t(n,r){var o=e.call(this,pm(n),"Firebase Storage: "+r+" ("+pm(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return t.prototype._codeEquals=function(n){return pm(n)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(n){this.customData.serverResponse=n,this.customData.serverResponse?this.message=this._baseMessage+`
`+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(dI);function pm(e){return"storage/"+e}function d0(){var e="An unknown error occurred, please check the error payload for server response.";return new Gt("unknown",e)}function Tj(e){return new Gt("object-not-found","Object '"+e+"' does not exist.")}function Ij(e){return new Gt("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Aj(){var e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gt("unauthenticated",e)}function xj(){return new Gt("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function kj(e){return new Gt("unauthorized","User does not have permission to access '"+e+"'.")}function Cj(){return new Gt("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function fk(){return new Gt("canceled","User canceled the upload/download.")}function Oj(e){return new Gt("invalid-url","Invalid URL '"+e+"'.")}function Pj(e){return new Gt("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function Nj(){return new Gt("no-default-bucket","No default bucket found. Did you set the '"+ck+"' property when initializing the app?")}function hk(){return new Gt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Rj(){return new Gt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function Dj(){return new Gt("no-download-url","The given file does not have any download URLs.")}function Qs(e){return new Gt("invalid-argument",e)}function dk(){return new Gt("app-deleted","The Firebase app was deleted.")}function pk(e){return new Gt("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qu(e,t){return new Gt("invalid-format","String does not match format '"+e+"': "+t)}function pf(e){throw new Gt("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(e){return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},gm=function(){function e(t,n){this.data=t,this.contentType=n||null}return e}();function gk(e,t){switch(e){case vr.RAW:return new gm(mk(t));case vr.BASE64:case vr.BASE64URL:return new gm(vk(e,t));case vr.DATA_URL:return new gm(Fj(t),Vj(t))}throw d0()}function mk(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296){var o=n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320;if(!o)t.push(239,191,189);else{var s=r,u=e.charCodeAt(++n);r=65536|(s&1023)<<10|u&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function Mj(e){var t;try{t=decodeURIComponent(e)}catch{throw qu(vr.DATA_URL,"Malformed data URL.")}return mk(t)}function vk(e,t){switch(e){case vr.BASE64:{var n=t.indexOf("-")!==-1,r=t.indexOf("_")!==-1;if(n||r){var o=n?"-":"_";throw qu(e,"Invalid character '"+o+"' found: is it base64url encoded?")}break}case vr.BASE64URL:{var s=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(s||u){var o=s?"+":"/";throw qu(e,"Invalid character '"+o+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}var l;try{l=Lj(t)}catch{throw qu(e,"Invalid character found")}for(var f=new Uint8Array(l.length),d=0;d<l.length;d++)f[d]=l.charCodeAt(d);return f}var yk=function(){function e(t){this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(n===null)throw qu(vr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;r!=null&&(this.base64=jj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}return e}();function Fj(e){var t=new yk(e);return t.base64?vk(vr.BASE64,t.rest):Mj(t.rest)}function Vj(e){var t=new yk(e);return t.contentType}function jj(e,t){var n=e.length>=t.length;return n?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uj={STATE_CHANGED:"state_changed"},Cn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mm(e){switch(e){case"running":case"pausing":case"canceling":return Cn.RUNNING;case"paused":return Cn.PAUSED;case"success":return Cn.SUCCESS;case"canceled":return Cn.CANCELED;case"error":return Cn.ERROR;default:return Cn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Go||(Go={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bj=function(){function e(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Go.NO_ERROR,this.sendPromise_=new Promise(function(n){t.xhr_.addEventListener("abort",function(){t.errorCode_=Go.ABORT,n()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Go.NETWORK_ERROR,n()}),t.xhr_.addEventListener("load",function(){n()})})}return e.prototype.send=function(t,n,r,o){if(this.sent_)throw pf("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,t,!0),o!==void 0)for(var s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw pf("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw pf("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw pf("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},e.prototype.addUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)},e.prototype.removeUploadProgressListener=function(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)},e}();function $j(){return new Bj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qj=function(){function e(){}return e.prototype.createConnection=function(){return $j()},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr=function(){function e(t,n){this.bucket=t,this.path_=n}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return this.path.length===0},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},e.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch{return new e(t,"")}if(r.path==="")return r;throw Pj(t)},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)";function s(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}var u="(/(.*))?$",l=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function d(X){X.path_=decodeURIComponent(X.path)}for(var m="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",y=new RegExp("^https?://"+h+"/"+m+"/b/"+o+"/o"+g,"i"),b={bucket:1,path:3},w=n===lk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",T=new RegExp("^https?://"+w+"/"+o+"/"+E,"i"),k={bucket:1,path:2},D=[{regex:l,indices:f,postModify:s},{regex:y,indices:b,postModify:d},{regex:T,indices:k,postModify:d}],F=0;F<D.length;F++){var J=D[F],V=J.regex.exec(t);if(V){var fe=V[J.indices.bucket],G=V[J.indices.path];G||(G=""),r=new e(fe,G),J.postModify(r);break}}if(r==null)throw Oj(t);return r},e}(),Hj=function(){function e(t){this.promise_=Promise.reject(t)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(e,t,n){var r=1,o=null,s=!1,u=0;function l(){return u===2}var f=!1;function d(){for(var b=[],w=0;w<arguments.length;w++)b[w]=arguments[w];f||(f=!0,t.apply(null,b))}function m(b){o=setTimeout(function(){o=null,e(h,l())},b)}function h(b){for(var w=[],E=1;E<arguments.length;E++)w[E-1]=arguments[E];if(!f){if(b){d.call.apply(d,It([null,b],w));return}var T=l()||s;if(T){d.call.apply(d,It([null,b],w));return}r<64&&(r*=2);var k;u===1?(u=2,k=0):k=(r+Math.random())*1e3,m(k)}}var g=!1;function y(b){g||(g=!0,!f&&(o!==null?(b||(u=2),clearTimeout(o),m(0)):b||(u=1)))}return m(0),setTimeout(function(){s=!0,y(!0)},n),y}function Gj(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wj(e){return e!==void 0}function zj(e){return typeof e=="function"}function Xj(e){return typeof e=="object"&&!Array.isArray(e)}function cd(e){return typeof e=="string"||e instanceof String}function gE(e){return p0()&&e instanceof Blob}function p0(){return typeof Blob<"u"}function vv(e,t,n,r){if(r<t)throw Qs("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Qs("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(e,t){var n=t.match(/^(\w+):\/\/.+/),r=n==null?void 0:n[1],o=t;return r==null&&(o="https://"+t),o+"/v0"+e}function bk(e){var t=encodeURIComponent,n="?";for(var r in e)if(e.hasOwnProperty(r)){var o=t(r)+"="+t(e[r]);n=n+o+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yj=function(){function e(t,n,r,o,s,u,l,f,d,m,h){var g=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=s.slice(),this.additionalRetryCodes_=u.slice(),this.callback_=l,this.errorCallback_=f,this.progressCallback_=m,this.timeout_=d,this.pool_=h,this.promise_=new Promise(function(y,b){g.resolve_=y,g.reject_=b,g.start_()})}return e.prototype.start_=function(){var t=this;function n(o,s){if(s){o(!1,new gf(!1,null,!0));return}var u=t.pool_.createConnection();t.pendingConnection_=u;function l(f){var d=f.loaded,m=f.lengthComputable?f.total:-1;t.progressCallback_!==null&&t.progressCallback_(d,m)}t.progressCallback_!==null&&u.addUploadProgressListener(l),u.send(t.url_,t.method_,t.body_,t.headers_).then(function(){t.progressCallback_!==null&&u.removeUploadProgressListener(l),t.pendingConnection_=null;var f=u.getErrorCode()===Go.NO_ERROR,d=u.getStatus();if(!f||t.isRetryStatusCode_(d)){var m=u.getErrorCode()===Go.ABORT;o(!1,new gf(!1,null,m));return}var h=t.successCodes_.indexOf(d)!==-1;o(!0,new gf(h,u))})}function r(o,s){var u=t.resolve_,l=t.reject_,f=s.connection;if(s.wasSuccessCode)try{var d=t.callback_(f,f.getResponseText());Wj(d)?u(d):u()}catch(h){l(h)}else if(f!==null){var m=d0();m.serverResponse=f.getResponseText(),t.errorCallback_?l(t.errorCallback_(f,m)):l(m)}else if(s.canceled){var m=t.appDelete_?dk():fk();l(m)}else{var m=Cj();l(m)}}this.canceled_?r(!1,new gf(!1,null,!0)):this.backoffId_=Kj(n,r,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Gj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(t){var n=t>=500&&t<600,r=[408,429],o=r.indexOf(t)!==-1,s=this.additionalRetryCodes_.indexOf(t)!==-1;return n||o||s},e}(),gf=function(){function e(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}return e}();function Qj(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Jj(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Zj(e,t){t&&(e["X-Firebase-GMPID"]=t)}function eU(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function tU(e,t,n,r,o,s){var u=bk(e.urlParams),l=e.url+u,f=Object.assign({},e.headers);return Zj(f,t),Qj(f,n),Jj(f,s),eU(f,r),new Yj(l,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function rU(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=nU();if(n!==void 0){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}else{if(p0())return new Blob(e);throw new Gt("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function iU(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g0=function(){function e(t,n){var r=0,o="";gE(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(gE(this.data_)){var r=this.data_,o=iU(r,t,n);return o===null?null:new e(o)}else{var s=new Uint8Array(this.data_.buffer,t,n-t);return new e(s,!0)}},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(p0()){var r=t.map(function(f){return f instanceof e?f.data_:f});return new e(rU.apply(null,r))}else{var o=t.map(function(f){return cd(f)?gk(vr.RAW,f).data:f.data_}),s=0;o.forEach(function(f){s+=f.byteLength});var u=new Uint8Array(s),l=0;return o.forEach(function(f){for(var d=0;d<f.length;d++)u[l++]=f[d]}),new e(u,!0)}},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(e){var t;try{t=JSON.parse(e)}catch{return null}return Xj(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(e){if(e.length===0)return null;var t=e.lastIndexOf("/");if(t===-1)return"";var n=e.slice(0,t);return n}function sU(e,t){var n=t.split("/").filter(function(r){return r.length>0}).join("/");return e.length===0?n:e+"/"+n}function _k(e){var t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(e,t){return t}var An=function(){function e(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||aU}return e}(),mf=null;function uU(e){return!cd(e)||e.length<2?e:_k(e)}function fd(){if(mf)return mf;var e=[];e.push(new An("bucket")),e.push(new An("generation")),e.push(new An("metageneration")),e.push(new An("name","fullPath",!0));function t(s,u){return uU(u)}var n=new An("name");n.xform=t,e.push(n);function r(s,u){return u!==void 0?Number(u):u}var o=new An("size");return o.xform=r,e.push(o),e.push(new An("timeCreated")),e.push(new An("updated")),e.push(new An("md5Hash",null,!0)),e.push(new An("cacheControl",null,!0)),e.push(new An("contentDisposition",null,!0)),e.push(new An("contentEncoding",null,!0)),e.push(new An("contentLanguage",null,!0)),e.push(new An("contentType",null,!0)),e.push(new An("metadata","customMetadata",!0)),mf=e,mf}function lU(e,t){function n(){var r=e.bucket,o=e.fullPath,s=new yr(r,o);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function cU(e,t,n){var r={};r.type="file";for(var o=n.length,s=0;s<o;s++){var u=n[s];r[u.local]=u.xform(r,t[u.server])}return lU(r,e),r}function wk(e,t,n){var r=m0(t);if(r===null)return null;var o=r;return cU(e,o,n)}function fU(e,t,n){var r=m0(t);if(r===null||!cd(r.downloadTokens))return null;var o=r.downloadTokens;if(o.length===0)return null;var s=encodeURIComponent,u=o.split(","),l=u.map(function(f){var d=e.bucket,m=e.fullPath,h="/b/"+s(d)+"/o/"+s(m),g=so(h,n),y=bk({alt:"media",token:f});return g+y});return l[0]}function v0(e,t){for(var n={},r=t.length,o=0;o<r;o++){var s=t[o];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mE="prefixes",vE="items";function hU(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[mE])for(var o=0,s=n[mE];o<s.length;o++){var u=s[o],l=u.replace(/\/$/,""),f=e._makeStorageReference(new yr(t,l));r.prefixes.push(f)}if(n[vE])for(var d=0,m=n[vE];d<m.length;d++){var h=m[d],f=e._makeStorageReference(new yr(t,h.name));r.items.push(f)}return r}function dU(e,t,n){var r=m0(n);if(r===null)return null;var o=r;return hU(e,t,o)}var bi=function(){function e(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e){if(!e)throw d0()}function hd(e,t){function n(r,o){var s=wk(e,o,t);return Qr(s!==null),s}return n}function pU(e,t){function n(r,o){var s=dU(e,t,o);return Qr(s!==null),s}return n}function gU(e,t){function n(r,o){var s=wk(e,o,t);return Qr(s!==null),fU(s,o,e.host)}return n}function Va(e){function t(n,r){var o;return n.getStatus()===401?n.getResponseText().includes("Firebase App Check token is invalid")?o=xj():o=Aj():n.getStatus()===402?o=Ij(e.bucket):n.getStatus()===403?o=kj(e.path):o=r,o.serverResponse=r.serverResponse,o}return t}function dd(e){var t=Va(e);function n(r,o){var s=t(r,o);return r.getStatus()===404&&(s=Tj(e.path)),s.serverResponse=o.serverResponse,s}return n}function Sk(e,t,n){var r=t.fullServerUrl(),o=so(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new bi(o,s,hd(e,n),u);return l.errorHandler=dd(t),l}function mU(e,t,n,r,o){var s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),o&&(s.maxResults=o);var u=t.bucketOnlyServerUrl(),l=so(u,e.host),f="GET",d=e.maxOperationRetryTime,m=new bi(l,f,pU(e,t.bucket),d);return m.urlParams=s,m.errorHandler=Va(t),m}function vU(e,t,n){var r=t.fullServerUrl(),o=so(r,e.host),s="GET",u=e.maxOperationRetryTime,l=new bi(o,s,gU(e,n),u);return l.errorHandler=dd(t),l}function yU(e,t,n,r){var o=t.fullServerUrl(),s=so(o,e.host),u="PATCH",l=v0(n,r),f={"Content-Type":"application/json; charset=utf-8"},d=e.maxOperationRetryTime,m=new bi(s,u,hd(e,r),d);return m.headers=f,m.body=l,m.errorHandler=dd(t),m}function bU(e,t){var n=t.fullServerUrl(),r=so(n,e.host),o="DELETE",s=e.maxOperationRetryTime;function u(f,d){}var l=new bi(r,o,u,s);return l.successCodes=[200,204],l.errorHandler=dd(t),l}function _U(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Ek(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=_U(null,t)),r}function wU(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function l(){for(var D="",F=0;F<2;F++)D=D+Math.random().toString().slice(2);return D}var f=l();u["Content-Type"]="multipart/related; boundary="+f;var d=Ek(t,r,o),m=v0(d,n),h="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+f+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+f+"--",y=g0.getBlob(h,r,g);if(y===null)throw hk();var b={name:d.fullPath},w=so(s,e.host),E="POST",T=e.maxUploadRetryTime,k=new bi(w,E,hd(e,n),T);return k.urlParams=b,k.headers=u,k.body=y.uploadData(),k.errorHandler=Va(t),k}var ch=function(){function e(t,n,r,o){this.current=t,this.total=n,this.finalized=!!r,this.metadata=o||null}return e}();function y0(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch{Qr(!1)}var r=t||["active"];return Qr(!!n&&r.indexOf(n)!==-1),n}function SU(e,t,n,r,o){var s=t.bucketOnlyServerUrl(),u=Ek(t,r,o),l={name:u.fullPath},f=so(s,e.host),d="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},h=v0(u,n),g=e.maxUploadRetryTime;function y(w){y0(w);var E;try{E=w.getResponseHeader("X-Goog-Upload-URL")}catch{Qr(!1)}return Qr(cd(E)),E}var b=new bi(f,d,y,g);return b.urlParams=l,b.headers=m,b.body=h,b.errorHandler=Va(t),b}function EU(e,t,n,r){var o={"X-Goog-Upload-Command":"query"};function s(d){var m=y0(d,["active","final"]),h=null;try{h=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Qr(!1)}h||Qr(!1);var g=Number(h);return Qr(!isNaN(g)),new ch(g,r.size(),m==="final")}var u="POST",l=e.maxUploadRetryTime,f=new bi(n,u,s,l);return f.headers=o,f.errorHandler=Va(t),f}var yE=256*1024;function TU(e,t,n,r,o,s,u,l){var f=new ch(0,0);if(u?(f.current=u.current,f.total=u.total):(f.current=0,f.total=r.size()),r.size()!==f.total)throw Rj();var d=f.total-f.current,m=d;o>0&&(m=Math.min(m,o));var h=f.current,g=h+m,y=m===d?"upload, finalize":"upload",b={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":""+f.current},w=r.slice(h,g);if(w===null)throw hk();function E(F,J){var V=y0(F,["active","final"]),fe=f.current+m,G=r.size(),X;return V==="final"?X=hd(t,s)(F,J):X=null,new ch(fe,G,V==="final",X)}var T="POST",k=t.maxUploadRetryTime,D=new bi(n,T,E,k);return D.headers=b,D.body=w.uploadData(),D.progressCallback=l||null,D.errorHandler=Va(e),D}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var IU=function(){function e(t,n,r){var o=zj(t)||n!=null||r!=null;if(o)this.next=t,this.error=n,this.complete=r;else{var s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}return e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tk=function(){function e(t,n,r){var o=this;r===void 0&&(r=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=r,this._mappings=fd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(s){o._request=void 0,o._chunkMultiplier=1,s._codeEquals("canceled")?(o._needToFetchStatus=!0,o.completeTransitions_()):(o._error=s,o._transition("error"))},this._metadataErrorHandler=function(s){o._request=void 0,s._codeEquals("canceled")?o.completeTransitions_():(o._error=s,o._transition("error"))},this._promise=new Promise(function(s,u){o._resolve=s,o._reject=u,o._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var t=this,n=this._transferred;return function(r){return t._updateProgress(n+r)}},e.prototype._shouldDoResumable=function(t){return t.size()>256*1024},e.prototype._start=function(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(t){var n=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(r){var o=r[0],s=r[1];switch(n._state){case"running":t(o,s);break;case"canceling":n._transition("canceled");break;case"pausing":n._transition("paused");break}})},e.prototype._createResumable=function(){var t=this;this._resolveToken(function(n,r){var o=SU(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._uploadUrl=u,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},e.prototype._fetchStatus=function(){var t=this,n=this._uploadUrl;this._resolveToken(function(r,o){var s=EU(t._ref.storage,t._ref._location,n,t._blob),u=t._ref.storage._makeRequest(s,r,o);t._request=u,u.getPromise().then(function(l){l=l,t._request=void 0,t._updateProgress(l.current),t._needToFetchStatus=!1,l.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},e.prototype._continueUpload=function(){var t=this,n=yE*this._chunkMultiplier,r=new ch(this._transferred,this._blob.size()),o=this._uploadUrl;this._resolveToken(function(s,u){var l;try{l=TU(t._ref._location,t._ref.storage,o,t._blob,n,t._mappings,r,t._makeProgressCallback())}catch(d){t._error=d,t._transition("error");return}var f=t._ref.storage._makeRequest(l,s,u);t._request=f,f.getPromise().then(function(d){t._increaseMultiplier(),t._request=void 0,t._updateProgress(d.current),d.finalized?(t._metadata=d.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},e.prototype._increaseMultiplier=function(){var t=yE*this._chunkMultiplier;t<32*1024*1024&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(n,r){var o=Sk(t._ref.storage,t._ref._location,t._mappings),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._transition("success")},t._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(n,r){var o=wU(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),s=t._ref.storage._makeRequest(o,n,r);t._request=s,s.getPromise().then(function(u){t._request=void 0,t._metadata=u,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},e.prototype._updateProgress=function(t){var n=this._transferred;this._transferred=t,this._transferred!==n&&this._notifyObservers()},e.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,this._request!==void 0&&this._request.cancel();break;case"pausing":this._state=t,this._request!==void 0&&this._request.cancel();break;case"running":var n=this._state==="paused";this._state=t,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=fk(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var t=mm(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(t,n,r,o){var s=this,u=new IU(n,r,o);return this._addObserver(u),function(){s._removeObserver(u)}},e.prototype.then=function(t,n){return this._promise.then(t,n)},e.prototype.catch=function(t){return this.then(null,t)},e.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},e.prototype._removeObserver=function(t){var n=this._observers.indexOf(t);n!==-1&&this._observers.splice(n,1)},e.prototype._notifyObservers=function(){var t=this;this._finishPromise();var n=this._observers.slice();n.forEach(function(r){t._notifyObserver(r)})},e.prototype._finishPromise=function(){if(this._resolve!==void 0){var t=!0;switch(mm(this._state)){case Cn.SUCCESS:js(this._resolve.bind(null,this.snapshot))();break;case Cn.CANCELED:case Cn.ERROR:var n=this._reject;js(n.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(t){var n=mm(this._state);switch(n){case Cn.RUNNING:case Cn.PAUSED:t.next&&js(t.next.bind(t,this.snapshot))();break;case Cn.SUCCESS:t.complete&&js(t.complete.bind(t))();break;case Cn.CANCELED:case Cn.ERROR:t.error&&js(t.error.bind(t,this._error))();break;default:t.error&&js(t.error.bind(t,this._error))()}},e.prototype.resume=function(){var t=this._state==="paused"||this._state==="pausing";return t&&this._transition("running"),t},e.prototype.pause=function(){var t=this._state==="running";return t&&this._transition("pausing"),t},e.prototype.cancel=function(){var t=this._state==="running"||this._state==="pausing";return t&&this._transition("canceling"),t},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pd=function(){function e(t,n){this._service=t,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,t.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var t=new yr(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return _k(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=oU(this._location.path);if(t===null)return null;var n=new yr(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(t){if(this._location.path==="")throw pk(t)},e}();function AU(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new Tk(e,new g0(t),n)}function xU(e){var t={prefixes:[],items:[]};return Ik(e,t).then(function(){return t})}function Ik(e,t,n){return H(this,void 0,void 0,function(){var r,o,s,u;return $(this,function(l){switch(l.label){case 0:return r={pageToken:n},[4,Ak(e,r)];case 1:return o=l.sent(),(s=t.prefixes).push.apply(s,o.prefixes),(u=t.items).push.apply(u,o.items),o.nextPageToken==null?[3,3]:[4,Ik(e,t,o.nextPageToken)];case 2:l.sent(),l.label=3;case 3:return[2]}})})}function Ak(e,t){return H(this,void 0,void 0,function(){var n,r;return $(this,function(o){switch(o.label){case 0:return t!=null&&typeof t.maxResults=="number"&&vv("options.maxResults",1,1e3,t.maxResults),n=t||{},r=mU(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function kU(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Sk(e.storage,e._location,fd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function CU(e,t){return H(this,void 0,void 0,function(){var n;return $(this,function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=yU(e.storage,e._location,t,fd()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}function OU(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=vU(e.storage,e._location,fd()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(r){if(r===null)throw Dj();return r})]}})})}function PU(e){return H(this,void 0,void 0,function(){var t;return $(this,function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=bU(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}function xk(e,t){var n=sU(e._location.path,t),r=new yr(e._location.bucket,n);return new pd(e.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(e){return/^[A-Za-z]+:\/\//.test(e)}function NU(e,t){return new pd(e,t)}function kk(e,t){if(e instanceof gd){var n=e;if(n._bucket==null)throw Nj();var r=new pd(n,n._bucket);return t!=null?kk(r,t):r}else return t!==void 0?xk(e,t):e}function RU(e,t){if(t&&yv(t)){if(e instanceof gd)return NU(e,t);throw Qs("To use ref(service, url), the first argument must be a Storage instance.")}else return kk(e,t)}function bE(e,t){var n=t==null?void 0:t[ck];return n==null?null:yr.makeFromBucketSpec(n,e)}function DU(e,t,n,r){r===void 0&&(r={}),e.host="http://"+t+":"+n;var o=r.mockUserToken;o&&(e._overrideAuthToken=typeof o=="string"?o:fI(o,e.app.options.projectId))}var gd=function(){function e(t,n,r,o,s,u){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._pool=o,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=lk,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sj,this._maxUploadRetryTime=Ej,this._requests=new Set,s!=null?this._bucket=yr.makeFromBucketSpec(s,this._host):this._bucket=bE(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,t):this._bucket=bE(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){vv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){vv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return H(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(n=r.sent(),n!==null)return[2,n.accessToken];r.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return H(this,void 0,void 0,function(){var t,n;return $(this,function(r){switch(r.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return n=r.sent(),[2,n.token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(t){return new pd(this,t)},e.prototype._makeRequest=function(t,n,r){var o=this;if(this._deleted)return new Hj(dk());var s=tU(t,this._appId,n,r,this._pool,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(function(){return o._requests.delete(s)},function(){return o._requests.delete(s)}),s},e.prototype.makeRequestWithTokens=function(t){return H(this,void 0,void 0,function(){var n,r,o;return $(this,function(s){switch(s.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=s.sent(),r=n[0],o=n[1],[2,this._makeRequest(t,r,o)]}})})},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(e,t,n){return e=ft(e),AU(e,t,n)}function MU(e){return e=ft(e),kU(e)}function FU(e,t){return e=ft(e),CU(e,t)}function VU(e,t){return e=ft(e),Ak(e,t)}function jU(e){return e=ft(e),xU(e)}function UU(e){return e=ft(e),OU(e)}function BU(e){return e=ft(e),PU(e)}function _E(e,t){return e=ft(e),RU(e,t)}function $U(e,t){return xk(e,t)}function qU(e,t,n,r){r===void 0&&(r={}),DU(e,t,n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vf=function(){function e(t,n,r){this._delegate=t,this.task=n,this.ref=r}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wE=function(){function e(t,n){this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new vf(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(t,n){var r=this;return this._delegate.then(function(o){if(t)return t(new vf(o,r,r._ref))},n)},e.prototype.on=function(t,n,r,o){var s=this,u=void 0;return n&&(typeof n=="function"?u=function(l){return n(new vf(l,s,s._ref))}:u={next:n.next?function(l){return n.next(new vf(l,s,s._ref))}:void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(t,u,r||void 0,o||void 0)},e}(),SE=function(){function e(t,n){this._delegate=t,this._service=n}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(n){return new bl(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(n){return new bl(n,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bl=function(){function e(t,n){this._delegate=t,this.storage=n}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=$U(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t==null?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(t,n){return this._throwIfRoot("put"),new wE(LU(this._delegate,t,n),this)},e.prototype.putString=function(t,n,r){n===void 0&&(n=vr.RAW),this._throwIfRoot("putString");var o=gk(n,t),s=oa({},r);return s.contentType==null&&o.contentType!=null&&(s.contentType=o.contentType),new wE(new Tk(this._delegate,new g0(o.data,!0),s),this)},e.prototype.listAll=function(){var t=this;return jU(this._delegate).then(function(n){return new SE(n,t.storage)})},e.prototype.list=function(t){var n=this;return VU(this._delegate,t||void 0).then(function(r){return new SE(r,n.storage)})},e.prototype.getMetadata=function(){return MU(this._delegate)},e.prototype.updateMetadata=function(t){return FU(this._delegate,t)},e.prototype.getDownloadURL=function(){return UU(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),BU(this._delegate)},e.prototype._throwIfRoot=function(t){if(this._delegate._location.path==="")throw pk(t)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HU=function(){function e(t,n){this.app=t,this._delegate=n}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(t){if(yv(t))throw Qs("ref() expected a child path but got a URL, use refFromURL instead.");return new bl(_E(this._delegate,t),this)},e.prototype.refFromURL=function(t){if(!yv(t))throw Qs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{yr.makeFromUrl(t,this._delegate.host)}catch{throw Qs("refFromUrl() expected a valid full URL but got an invalid one.")}return new bl(_E(this._delegate,t),this)},e.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},e.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},e.prototype.useEmulator=function(t,n,r){r===void 0&&(r={}),qU(this._delegate,t,n,r)},e}(),KU="@firebase/storage",GU="0.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WU="storage";function zU(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal"),u=new HU(r,new gd(r,o,s,new qj,n,xe.SDK_VERSION));return u}function XU(e){var t={TaskState:Cn,TaskEvent:Uj,StringFormat:vr,Storage:gd,Reference:bl};e.INTERNAL.registerComponent(new Ol(WU,zU,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(KU,GU)}XU(xe);const YU={apiKey:"AIzaSyARoJhMNEPSXdWy5m1-CNhA6lvkRApVg0o",authDomain:"musicfy-53b66.firebaseapp.com",projectId:"musicfy-53b66",storageBucket:"musicfy-53b66.appspot.com",appId:"1:349325047458:web:98dca1dbd405cc352bc9fb"};xe.initializeApp(YU);const mr=xe.auth(),b0=xe.firestore(),Ck=xe.storage(),QU=b0.collection("users"),Jr=b0.collection("songs"),EE=b0.collection("comments"),fs=Zv("user",{state:()=>({userLoggedIn:!1,username:"Stranger"}),actions:{async register(e){const t=await mr.createUserWithEmailAndPassword(e.email,e.password),n={name:e.name,email:e.email,birthdate:e.birthdate,country:e.country,phone:e.phone};Object.keys(n).forEach(r=>{n[r]??delete n[r]}),await QU.doc(t.user.uid).set({userData:n}),await t.user.updateProfile({displayName:e.name}),this.userLoggedIn=!0,this.username=mr.currentUser.displayName},async authenticate(e){await mr.signInWithEmailAndPassword(e.email,e.password),this.userLoggedIn=!0,this.username=mr.currentUser.displayName},async signOut(){await mr.signOut(),this.userLoggedIn=!1,this.username="Stranger"}}}),Yn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},JU={name:"AppHeader",computed:{...NL(Mf,fs),...Dh(Mf,["isOpen"])},methods:{toggleAuthModal(){this.isOpen=!this.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})}}},ZU={id:"header",class:"fixed top-0 z-50 w-full font-circular-black bg-neutral-900"},e3={class:"flex items-center justify-between py-5 px-10"},t3={class:"flex flex-row gap-2 items-center text-white text-sm"},n3={class:"md:hover:scale-105"},r3=O("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[O("path",{fill:"#1ED760","fill-rule":"evenodd",d:"M19.0983701,10.6382791 C15.230178,8.34118115 8.85003755,8.12986439 5.15729493,9.25058527 C4.56433588,9.43062856 3.93727638,9.09580812 3.75758647,8.50284907 C3.57789655,7.90953664 3.91236362,7.28283051 4.50585273,7.10261054 C8.74455585,5.81598127 15.7909802,6.06440214 20.2440037,8.70780512 C20.7774195,9.02442687 20.9525156,9.71332656 20.6362472,10.2456822 C20.3198021,10.779098 19.6305491,10.9549008 19.0983701,10.6382791 M18.971686,14.0407262 C18.7004726,14.4810283 18.1246521,14.6190203 17.6848801,14.3486903 C14.4600027,12.3664473 9.54264764,11.792217 5.72728477,12.9503953 C5.23256328,13.0998719 4.70992535,12.8208843 4.55974204,12.3270462 C4.41061884,11.8323247 4.68978312,11.3107469 5.18362118,11.1602103 C9.5419409,9.83771368 14.9600247,10.4782013 18.6638986,12.7544503 C19.1036707,13.0253103 19.242016,13.6013075 18.971686,14.0407262 M17.5034233,17.308185 C17.2876894,17.6617342 16.827245,17.7725165 16.4749326,17.5571359 C13.6571403,15.8347984 10.1101639,15.4459119 5.93312425,16.4000177 C5.53063298,16.4922479 5.12937851,16.2399399 5.03767834,15.8376253 C4.94544812,15.4351341 5.19669597,15.0338796 5.60024736,14.9420027 C10.1712973,13.8970803 14.0923186,14.3467468 17.2551791,16.2796943 C17.6078449,16.4948982 17.7189805,16.9556959 17.5034233,17.308185 M12,0 C5.37267547,0 0,5.37249879 0,11.9998233 C0,18.6278546 5.37267547,24 12,24 C18.6275012,24 24,18.6278546 24,11.9998233 C24,5.37249879 18.6275012,0 12,0"})],-1),i3=O("span",{class:"hidden md:block"},"About",-1),o3={class:"md:hover:scale-105"},s3=O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.431.992a6.759 6.759 0 010 .255c-.007.378.138.75.43.99l1.005.828c.424.35.534.954.26 1.43l-1.298 2.247a1.125 1.125 0 01-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 01-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 01-1.369-.49l-1.297-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.43-.992a6.932 6.932 0 010-.255c.007-.378-.138-.75-.43-.99l-1.004-.828a1.125 1.125 0 01-.26-1.43l1.297-2.247a1.125 1.125 0 011.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"}),O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1),a3={class:"md:hover:scale-105"},u3=O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),l3=O("span",{class:"hidden md:block"},"Login/Register",-1),c3=[u3,l3],f3=O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})],-1),h3=O("span",{class:"hidden md:block"},"Logout",-1),d3=[f3,h3],p3=O("div",null,null,-1),g3=O("li",{class:"md:hover:scale-105"},[O("a",{class:"",href:"https://www.spotify.com/es/download/",target:"_blank"},[O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1);function m3(e,t,n,r,o,s){const u=dt("RouterLink");return Ve(),ze("header",ZU,[O("nav",e3,[be(u,{class:"text-[#1ed760] font-circular-thin text-2xl justify-center hover:scale-105",to:{name:"home"},"exact-active-class":"no-active"},{default:$n(()=>[bn(" Musicfy ")]),_:1}),O("ul",t3,[O("li",n3,[be(u,{class:"flex items-center gap-1",to:{name:"about"}},{default:$n(()=>[r3,i3]),_:1})]),Wo(O("li",o3,[be(u,{class:"",to:{name:"manage"}},{default:$n(()=>[s3]),_:1})],512),[[ra,e.userStore.userLoggedIn]]),O("li",a3,[e.userStore.userLoggedIn?(Ve(),ze("a",{key:1,class:"flex gap-1 items-center",href:"#",onClick:t[1]||(t[1]=Ft(l=>s.signOut(),["prevent"]))},d3)):(Ve(),ze("a",{key:0,class:"flex items-center",href:"#",onClick:t[0]||(t[0]=Ft((...l)=>s.toggleAuthModal&&s.toggleAuthModal(...l),["prevent"]))},c3)),p3]),g3])])])}const v3=Yn(JU,[["render",m3]]),y3={name:"LoginForm",emits:["login-success"],data(){return{tab:"login",loginSchema:{email:"required|email",password:"required"},togglePassword:!1,login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",login_alert_msg:"Please wait! Your account is being created. "}},methods:{...Ca(fs,["authenticate"]),async login(e){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",this.login.login_alert_msg="Please wait! Logging in.";try{await this.authenticate(e)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="User doesn't exist or password is incorrect.";return}this.$refs.loginForm.resetForm(),this.login_show_alert=!1,this.login_in_submission=!1,this.$emit("login-success")}}},b3={class:"mb-3"},_3=O("label",{class:"inline-block mb-2"},"Email",-1),w3={class:"mb-3"},S3=O("label",{class:"inline-block mb-2"},"Password",-1),E3={class:"flex items-center"},T3=["type"],I3=["disabled"];function A3(e,t,n,r,o,s){const u=dt("VeeField"),l=dt("ErrorMessage"),f=dt("VeeForm");return Ve(),ze(Vt,null,[o.login_show_alert?(Ve(),ze("div",{key:0,class:xt(["text-black text-center font-bold p-4 rounded mb-4",o.login_alert_variant])},gt(o.login_alert_msg),3)):Or("",!0),be(f,{class:"flex flex-col gap-2","validation-schema":o.loginSchema,onSubmit:s.login,ref:"loginForm"},{default:$n(()=>[O("div",b3,[_3,be(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"your@email.com",autocomplete:"email"}),be(l,{class:"text-red-600 block",name:"email"})]),O("div",w3,[S3,be(u,{name:"password",bails:!1},{default:$n(({field:d,errors:m})=>[O("div",E3,[O("input",gr(d,{type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white bg-neutral-800 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded-lg",placeholder:"Password",autocomplete:"current-password"}),null,16,T3),O("i",{onClick:t[0]||(t[0]=h=>o.togglePassword=!o.togglePassword),class:xt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":o.togglePassword,"fa-regular fa-eye":!o.togglePassword}])},null,2)]),be(l,gr(m,{class:"text-red-600 block",name:"password"}),null,16)]),_:1})]),O("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105",disabled:o.login_in_submission}," Login ",8,I3)]),_:1},8,["validation-schema","onSubmit"])],64)}const x3=Yn(y3,[["render",A3]]),k3={name:"RegisterForm",emits:["register-success"],data(){return{tab:"login",registrationSchema:{name:"required|min:3|max:60|alpha_spaces",email:"required|email|min:3|max:100",phone:"digits:9",birthdate:"required|minAge:14",password:"required|min:8|max:12|excluded:password",confirmPassword:"passwords_missmatch:@password",country:"required|country_excluded:Antarctica",tos:"tos"},togglePassword:!1,toggleConfirmPassword:!1,userData:{country:"Spain"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"",reg_alert_msg:"",reg_initial_msg:"Please wait! Your account is being created.",reg_error_msg:"Something went wrong. Please try again later.",reg_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",reg_error_variant:"bg-red-500"}},computed:{maxBirthdate(){return new Date().toISOString().slice(0,10)}},methods:{async register(e){this.initRegisterAlert();try{await this.createUser(e)}catch{this.reg_in_submission=!1,this.reg_alert_variant=this.reg_error_variant,this.reg_alert_msg=this.reg_error_msg;return}this.$refs.registerForm.resetForm(),this.reg_show_alert=!1,this.reg_in_submission=!1,this.$emit("register-success")},...Ca(fs,{createUser:"register"}),initRegisterAlert(){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant=this.reg_progress_variant,this.reg_alert_msg=this.reg_initial_msg}}},C3={class:""},O3=O("label",{class:"select-none group"},[bn("Name "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),P3={class:""},N3=O("label",{class:"select-none group"},[bn("Email "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),R3={class:""},D3=O("label",{class:"select-none"},"Phone",-1),L3={class:""},M3=O("label",{class:"select-none group"},[bn("Birthdate "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),F3={class:""},V3=O("label",{class:"select-none group"},[bn("Password "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),j3={class:"flex items-center"},U3=["type"],B3={class:""},$3=O("label",{class:"select-none group"},[bn("Confirm Password "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),q3={class:"flex items-center"},H3=["type"],K3={class:""},G3=O("label",{class:"select-none group"},[bn("Country "),O("sup",{class:""},"*"),O("sup",{class:"invisible group-hover:visible"}," Mandatory field")],-1),W3=O("option",{value:"Argentina"},"Argentina",-1),z3=O("option",{value:"United States"},"United States",-1),X3=O("option",{value:"Spain"},"Spain",-1),Y3=O("option",{value:"Germany"},"Germany",-1),Q3=O("option",{value:"Antarctica"},"Antarctica",-1),J3=O("option",{value:"Other"},"Other",-1),Z3={class:"mb-3 pl-6"},e4={class:"inline-block hover:cursor-pointer"},t4=O("button",{type:"submit",class:"block w-2/5 self-center bg-[#1ed760] text-black font-bold py-2 px-3 rounded-full transition hover:scale-105"}," Register ",-1);function n4(e,t,n,r,o,s){const u=dt("VeeField"),l=dt("ErrorMessage"),f=dt("VeeForm");return Ve(),ze(Vt,null,[o.reg_show_alert?(Ve(),ze("div",{key:0,class:xt(["text-black text-center font-bold p-4 rounded mb-4",o.reg_alert_variant])},gt(o.reg_alert_msg),3)):Or("",!0),be(f,{class:"flex flex-col gap-4","validation-schema":o.registrationSchema,onSubmit:s.register,"initial-values":o.userData,ref:"registerForm"},{default:$n(()=>[O("div",C3,[O3,be(u,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your Name"}),be(l,{class:"text-red-600",name:"name"})]),O("div",P3,[N3,be(u,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"your@email.com"}),be(l,{class:"text-red-600",name:"email"})]),O("div",R3,[D3,be(u,{name:"phone",type:"number",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter your phone"}),be(l,{class:"text-red-600",name:"phone"})]),O("div",L3,[M3,be(u,{name:"birthdate",type:"date",min:"1900-01-01",max:s.maxBirthdate,class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},null,8,["max"]),be(l,{class:"text-red-600",name:"birthdate"})]),O("div",F3,[V3,be(u,{name:"password",bails:!1},{default:$n(({field:d,errors:m})=>[O("div",j3,[O("input",gr(d,{placeholder:"Enter new Password",type:o.togglePassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"}),null,16,U3),O("i",{onClick:t[0]||(t[0]=h=>o.togglePassword=!o.togglePassword),class:xt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":!o.togglePassword,"fa-regular fa-eye":o.togglePassword}])},null,2)]),(Ve(!0),ze(Vt,null,kl(m,h=>(Ve(),ze("div",{class:"text-red-600",key:h},gt(h),1))),128))]),_:1})]),O("div",B3,[$3,be(u,{name:"confirmPassword",bails:!1},{default:$n(({field:d})=>[O("div",q3,[O("input",gr(d,{type:o.toggleConfirmPassword?"text":"password",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Confirm Password"}),null,16,H3),O("i",{onClick:t[1]||(t[1]=m=>o.toggleConfirmPassword=!o.toggleConfirmPassword),class:xt(["absolute -right-0 mr-6 p-3 hover:cursor-pointer hover:scale-110",{"fa-regular fa-eye-slash":!o.toggleConfirmPassword,"fa-regular fa-eye":o.toggleConfirmPassword}])},null,2)])]),_:1}),be(l,{class:"text-red-600",name:"confirmPassword"})]),O("div",K3,[G3,be(u,{label:"hola",as:"select",name:"country",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded"},{default:$n(()=>[W3,z3,X3,Y3,Q3,J3]),_:1}),be(l,{class:"text-red-600",name:"country"})]),O("div",Z3,[O("label",e4,[be(u,{name:"tos",value:"0",type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded"}),bn(" Accept terms of service")]),be(l,{class:"text-red-600 block",name:"tos"})]),t4]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const r4=Yn(k3,[["render",n4]]),i4={name:"AppAuth",components:{AppLoginForm:x3,AppRegisterForm:r4},data(){return{tab:"login"}},computed:{...ia(Mf,["hiddenClass"]),...Dh(Mf,{modalVisibility:"isOpen"})},methods:{closeAuthModal(){this.modalVisibility=!1}}},o4={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},s4=O("div",{class:"fixed inset-0 transition-opacity"},[O("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),a4=O("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"",-1),u4={class:"inline-block align-bottom bg-neutral-950 rounded-lg text-left text-white overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},l4={class:"py-4 text-left px-6"},c4={class:"flex justify-between items-center pb-4"},f4=O("p",{class:"text-2xl font-bold"},"Your Account",-1),h4=O("i",{class:"fas fa-times"},null,-1),d4=[h4],p4={class:"flex flex-wrap mb-4 gap-2"},g4={class:"flex-auto text-center"},m4={class:"flex-auto text-center"};function v4(e,t,n,r,o,s){const u=dt("AppLoginForm"),l=dt("AppRegisterForm");return Ve(),ze("div",{class:xt(["fixed z-10 inset-0 overflow-y-auto",e.hiddenClass]),id:"modal"},[O("div",o4,[s4,a4,O("div",u4,[O("div",l4,[O("div",c4,[f4,O("div",{class:"modal-close cursor-pointer z-50",onClick:t[0]||(t[0]=f=>e.modalVisibility=!1)},d4)]),O("ul",p4,[O("li",g4,[O("a",{class:xt(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="login","hover:scale-105 hover:text-[#1ed760]":o.tab==="register"}]),href:"#",onClick:t[1]||(t[1]=Ft(f=>o.tab="login",["prevent"]))},"Login",2)]),O("li",m4,[O("a",{class:xt(["block rounded-full border border-gray-300 p-2 transition font-bold",{"text-black bg-[#1ed760]":o.tab==="register","hover:scale-105 hover:text-[#1ed760]":o.tab==="login"}]),href:"#",onClick:t[2]||(t[2]=Ft(f=>o.tab="register",["prevent"]))},"Register",2)])]),o.tab==="login"?(Ve(),Zs(u,{key:0,onLoginSuccess:t[3]||(t[3]=f=>s.closeAuthModal())})):(Ve(),Zs(l,{key:1,onRegisterSuccess:t[4]||(t[4]=f=>s.closeAuthModal())}))])])])],2)}const y4=Yn(i4,[["render",v4]]);/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const qs=typeof window<"u";function b4(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const lt=Object.assign;function vm(e,t){const n={};for(const r in t){const o=t[r];n[r]=Fr(o)?o.map(e):e(o)}return n}const Hu=()=>{},Fr=Array.isArray,_4=/\/$/,w4=e=>e.replace(_4,"");function ym(e,t,n="/"){let r,o={},s="",u="";const l=t.indexOf("#");let f=t.indexOf("?");return l<f&&l>=0&&(f=-1),f>-1&&(r=t.slice(0,f),s=t.slice(f+1,l>-1?l:t.length),o=e(s)),l>-1&&(r=r||t.slice(0,l),u=t.slice(l,t.length)),r=I4(r??t,n),{fullPath:r+(s&&"?")+s+u,path:r,query:o,hash:u}}function S4(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function TE(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function E4(e,t,n){const r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Ta(t.matched[r],n.matched[o])&&Ok(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Ta(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ok(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!T4(e[n],t[n]))return!1;return!0}function T4(e,t){return Fr(e)?IE(e,t):Fr(t)?IE(t,e):e===t}function IE(e,t){return Fr(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function I4(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),o=r[r.length-1];(o===".."||o===".")&&r.push("");let s=n.length-1,u,l;for(u=0;u<r.length;u++)if(l=r[u],l!==".")if(l==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(u-(u===r.length?1:0)).join("/")}var _l;(function(e){e.pop="pop",e.push="push"})(_l||(_l={}));var Ku;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ku||(Ku={}));function A4(e){if(!e)if(qs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),w4(e)}const x4=/^[^#]+#/;function k4(e,t){return e.replace(x4,"#")+t}function C4(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const md=()=>({left:window.pageXOffset,top:window.pageYOffset});function O4(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),o=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=C4(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function AE(e,t){return(history.state?history.state.position-t:-1)+e}const bv=new Map;function P4(e,t){bv.set(e,t)}function N4(e){const t=bv.get(e);return bv.delete(e),t}let R4=()=>location.protocol+"//"+location.host;function Pk(e,t){const{pathname:n,search:r,hash:o}=t,s=e.indexOf("#");if(s>-1){let l=o.includes(e.slice(s))?e.slice(s).length:1,f=o.slice(l);return f[0]!=="/"&&(f="/"+f),TE(f,"")}return TE(n,e)+r+o}function D4(e,t,n,r){let o=[],s=[],u=null;const l=({state:g})=>{const y=Pk(e,location),b=n.value,w=t.value;let E=0;if(g){if(n.value=y,t.value=g,u&&u===b){u=null;return}E=w?g.position-w.position:0}else r(y);o.forEach(T=>{T(n.value,b,{delta:E,type:_l.pop,direction:E?E>0?Ku.forward:Ku.back:Ku.unknown})})};function f(){u=n.value}function d(g){o.push(g);const y=()=>{const b=o.indexOf(g);b>-1&&o.splice(b,1)};return s.push(y),y}function m(){const{history:g}=window;g.state&&g.replaceState(lt({},g.state,{scroll:md()}),"")}function h(){for(const g of s)g();s=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",m)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",m,{passive:!0}),{pauseListeners:f,listen:d,destroy:h}}function xE(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?md():null}}function L4(e){const{history:t,location:n}=window,r={value:Pk(e,n)},o={value:t.state};o.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(f,d,m){const h=e.indexOf("#"),g=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+f:R4()+e+f;try{t[m?"replaceState":"pushState"](d,"",g),o.value=d}catch(y){console.error(y),n[m?"replace":"assign"](g)}}function u(f,d){const m=lt({},t.state,xE(o.value.back,f,o.value.forward,!0),d,{position:o.value.position});s(f,m,!0),r.value=f}function l(f,d){const m=lt({},o.value,t.state,{forward:f,scroll:md()});s(m.current,m,!0);const h=lt({},xE(r.value,f,null),{position:m.position+1},d);s(f,h,!1),r.value=f}return{location:r,state:o,push:l,replace:u}}function M4(e){e=A4(e);const t=L4(e),n=D4(e,t.state,t.location,t.replace);function r(s,u=!0){u||n.pauseListeners(),history.go(s)}const o=lt({location:"",base:e,go:r,createHref:k4.bind(null,e)},t,n);return Object.defineProperty(o,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(o,"state",{enumerable:!0,get:()=>t.state.value}),o}function F4(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),M4(e)}function V4(e){return typeof e=="string"||e&&typeof e=="object"}function Nk(e){return typeof e=="string"||typeof e=="symbol"}const Ri={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Rk=Symbol("");var kE;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(kE||(kE={}));function Ia(e,t){return lt(new Error,{type:e,[Rk]:!0},t)}function ui(e,t){return e instanceof Error&&Rk in e&&(t==null||!!(e.type&t))}const CE="[^/]+?",j4={sensitive:!1,strict:!1,start:!0,end:!0},U4=/[.+*?^${}()[\]/\\]/g;function B4(e,t){const n=lt({},j4,t),r=[];let o=n.start?"^":"";const s=[];for(const d of e){const m=d.length?[]:[90];n.strict&&!d.length&&(o+="/");for(let h=0;h<d.length;h++){const g=d[h];let y=40+(n.sensitive?.25:0);if(g.type===0)h||(o+="/"),o+=g.value.replace(U4,"\\$&"),y+=40;else if(g.type===1){const{value:b,repeatable:w,optional:E,regexp:T}=g;s.push({name:b,repeatable:w,optional:E});const k=T||CE;if(k!==CE){y+=10;try{new RegExp(`(${k})`)}catch(F){throw new Error(`Invalid custom RegExp for param "${b}" (${k}): `+F.message)}}let D=w?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;h||(D=E&&d.length<2?`(?:/${D})`:"/"+D),E&&(D+="?"),o+=D,y+=20,E&&(y+=-8),w&&(y+=-20),k===".*"&&(y+=-50)}m.push(y)}r.push(m)}if(n.strict&&n.end){const d=r.length-1;r[d][r[d].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const u=new RegExp(o,n.sensitive?"":"i");function l(d){const m=d.match(u),h={};if(!m)return null;for(let g=1;g<m.length;g++){const y=m[g]||"",b=s[g-1];h[b.name]=y&&b.repeatable?y.split("/"):y}return h}function f(d){let m="",h=!1;for(const g of e){(!h||!m.endsWith("/"))&&(m+="/"),h=!1;for(const y of g)if(y.type===0)m+=y.value;else if(y.type===1){const{value:b,repeatable:w,optional:E}=y,T=b in d?d[b]:"";if(Fr(T)&&!w)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const k=Fr(T)?T.join("/"):T;if(!k)if(E)g.length<2&&(m.endsWith("/")?m=m.slice(0,-1):h=!0);else throw new Error(`Missing required param "${b}"`);m+=k}}return m||"/"}return{re:u,score:r,keys:s,parse:l,stringify:f}}function $4(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function q4(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const s=$4(r[n],o[n]);if(s)return s;n++}if(Math.abs(o.length-r.length)===1){if(OE(r))return 1;if(OE(o))return-1}return o.length-r.length}function OE(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const H4={type:0,value:""},K4=/[a-zA-Z0-9_]/;function G4(e){if(!e)return[[]];if(e==="/")return[[H4]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(y){throw new Error(`ERR (${n})/"${d}": ${y}`)}let n=0,r=n;const o=[];let s;function u(){s&&o.push(s),s=[]}let l=0,f,d="",m="";function h(){d&&(n===0?s.push({type:0,value:d}):n===1||n===2||n===3?(s.length>1&&(f==="*"||f==="+")&&t(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:d,regexp:m,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):t("Invalid state to consume buffer"),d="")}function g(){d+=f}for(;l<e.length;){if(f=e[l++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(d&&h(),u()):f===":"?(h(),n=1):g();break;case 4:g(),n=r;break;case 1:f==="("?n=2:K4.test(f)?g():(h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--);break;case 2:f===")"?m[m.length-1]=="\\"?m=m.slice(0,-1)+f:n=3:m+=f;break;case 3:h(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&l--,m="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${d}"`),h(),u(),o}function W4(e,t,n){const r=B4(G4(e.path),n),o=lt(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function z4(e,t){const n=[],r=new Map;t=RE({strict:!1,end:!0,sensitive:!1},t);function o(m){return r.get(m)}function s(m,h,g){const y=!g,b=X4(m);b.aliasOf=g&&g.record;const w=RE(t,m),E=[b];if("alias"in m){const D=typeof m.alias=="string"?[m.alias]:m.alias;for(const F of D)E.push(lt({},b,{components:g?g.record.components:b.components,path:F,aliasOf:g?g.record:b}))}let T,k;for(const D of E){const{path:F}=D;if(h&&F[0]!=="/"){const J=h.record.path,V=J[J.length-1]==="/"?"":"/";D.path=h.record.path+(F&&V+F)}if(T=W4(D,h,w),g?g.alias.push(T):(k=k||T,k!==T&&k.alias.push(T),y&&m.name&&!NE(T)&&u(m.name)),b.children){const J=b.children;for(let V=0;V<J.length;V++)s(J[V],T,g&&g.children[V])}g=g||T,(T.record.components&&Object.keys(T.record.components).length||T.record.name||T.record.redirect)&&f(T)}return k?()=>{u(k)}:Hu}function u(m){if(Nk(m)){const h=r.get(m);h&&(r.delete(m),n.splice(n.indexOf(h),1),h.children.forEach(u),h.alias.forEach(u))}else{const h=n.indexOf(m);h>-1&&(n.splice(h,1),m.record.name&&r.delete(m.record.name),m.children.forEach(u),m.alias.forEach(u))}}function l(){return n}function f(m){let h=0;for(;h<n.length&&q4(m,n[h])>=0&&(m.record.path!==n[h].record.path||!Dk(m,n[h]));)h++;n.splice(h,0,m),m.record.name&&!NE(m)&&r.set(m.record.name,m)}function d(m,h){let g,y={},b,w;if("name"in m&&m.name){if(g=r.get(m.name),!g)throw Ia(1,{location:m});w=g.record.name,y=lt(PE(h.params,g.keys.filter(k=>!k.optional).map(k=>k.name)),m.params&&PE(m.params,g.keys.map(k=>k.name))),b=g.stringify(y)}else if("path"in m)b=m.path,g=n.find(k=>k.re.test(b)),g&&(y=g.parse(b),w=g.record.name);else{if(g=h.name?r.get(h.name):n.find(k=>k.re.test(h.path)),!g)throw Ia(1,{location:m,currentLocation:h});w=g.record.name,y=lt({},h.params,m.params),b=g.stringify(y)}const E=[];let T=g;for(;T;)E.unshift(T.record),T=T.parent;return{name:w,path:b,params:y,matched:E,meta:Q4(E)}}return e.forEach(m=>s(m)),{addRoute:s,resolve:d,removeRoute:u,getRoutes:l,getRecordMatcher:o}}function PE(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function X4(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Y4(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Y4(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function NE(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Q4(e){return e.reduce((t,n)=>lt(t,n.meta),{})}function RE(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Dk(e,t){return t.children.some(n=>n===e||Dk(e,n))}const Lk=/#/g,J4=/&/g,Z4=/\//g,eB=/=/g,tB=/\?/g,Mk=/\+/g,nB=/%5B/g,rB=/%5D/g,Fk=/%5E/g,iB=/%60/g,Vk=/%7B/g,oB=/%7C/g,jk=/%7D/g,sB=/%20/g;function _0(e){return encodeURI(""+e).replace(oB,"|").replace(nB,"[").replace(rB,"]")}function aB(e){return _0(e).replace(Vk,"{").replace(jk,"}").replace(Fk,"^")}function _v(e){return _0(e).replace(Mk,"%2B").replace(sB,"+").replace(Lk,"%23").replace(J4,"%26").replace(iB,"`").replace(Vk,"{").replace(jk,"}").replace(Fk,"^")}function uB(e){return _v(e).replace(eB,"%3D")}function lB(e){return _0(e).replace(Lk,"%23").replace(tB,"%3F")}function cB(e){return e==null?"":lB(e).replace(Z4,"%2F")}function fh(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function fB(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<r.length;++o){const s=r[o].replace(Mk," "),u=s.indexOf("="),l=fh(u<0?s:s.slice(0,u)),f=u<0?null:fh(s.slice(u+1));if(l in t){let d=t[l];Fr(d)||(d=t[l]=[d]),d.push(f)}else t[l]=f}return t}function DE(e){let t="";for(let n in e){const r=e[n];if(n=uB(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Fr(r)?r.map(s=>s&&_v(s)):[r&&_v(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function hB(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Fr(r)?r.map(o=>o==null?null:""+o):r==null?r:""+r)}return t}const dB=Symbol(""),LE=Symbol(""),w0=Symbol(""),Uk=Symbol(""),wv=Symbol("");function Au(){let e=[];function t(r){return e.push(r),()=>{const o=e.indexOf(r);o>-1&&e.splice(o,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Fi(e,t,n,r,o){const s=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise((u,l)=>{const f=h=>{h===!1?l(Ia(4,{from:n,to:t})):h instanceof Error?l(h):V4(h)?l(Ia(2,{from:t,to:h})):(s&&r.enterCallbacks[o]===s&&typeof h=="function"&&s.push(h),u())},d=e.call(r&&r.instances[o],t,n,f);let m=Promise.resolve(d);e.length<3&&(m=m.then(f)),m.catch(h=>l(h))})}function bm(e,t,n,r){const o=[];for(const s of e)for(const u in s.components){let l=s.components[u];if(!(t!=="beforeRouteEnter"&&!s.instances[u]))if(pB(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Fi(d,n,r,s,u))}else{let f=l();o.push(()=>f.then(d=>{if(!d)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${s.path}"`));const m=b4(d)?d.default:d;s.components[u]=m;const g=(m.__vccOpts||m)[t];return g&&Fi(g,n,r,s,u)()}))}}return o}function pB(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function ME(e){const t=br(w0),n=br(Uk),r=qe(()=>t.resolve(Je(e.to))),o=qe(()=>{const{matched:f}=r.value,{length:d}=f,m=f[d-1],h=n.matched;if(!m||!h.length)return-1;const g=h.findIndex(Ta.bind(null,m));if(g>-1)return g;const y=FE(f[d-2]);return d>1&&FE(m)===y&&h[h.length-1].path!==y?h.findIndex(Ta.bind(null,f[d-2])):g}),s=qe(()=>o.value>-1&&yB(n.params,r.value.params)),u=qe(()=>o.value>-1&&o.value===n.matched.length-1&&Ok(n.params,r.value.params));function l(f={}){return vB(f)?t[Je(e.replace)?"replace":"push"](Je(e.to)).catch(Hu):Promise.resolve()}return{route:r,href:qe(()=>r.value.href),isActive:s,isExactActive:u,navigate:l}}const gB=xl({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ME,setup(e,{slots:t}){const n=ei(ME(e)),{options:r}=br(w0),o=qe(()=>({[VE(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[VE(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:na("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},s)}}}),mB=gB;function vB(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function yB(e,t){for(const n in t){const r=t[n],o=e[n];if(typeof r=="string"){if(r!==o)return!1}else if(!Fr(o)||o.length!==r.length||r.some((s,u)=>s!==o[u]))return!1}return!0}function FE(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const VE=(e,t,n)=>e??t??n,bB=xl({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=br(wv),o=qe(()=>e.route||r.value),s=br(LE,0),u=qe(()=>{let d=Je(s);const{matched:m}=o.value;let h;for(;(h=m[d])&&!h.components;)d++;return d}),l=qe(()=>o.value.matched[u.value]);Xs(LE,qe(()=>u.value+1)),Xs(dB,l),Xs(wv,o);const f=en();return Hn(()=>[f.value,l.value,e.name],([d,m,h],[g,y,b])=>{m&&(m.instances[h]=d,y&&y!==m&&d&&d===g&&(m.leaveGuards.size||(m.leaveGuards=y.leaveGuards),m.updateGuards.size||(m.updateGuards=y.updateGuards))),d&&m&&(!y||!Ta(m,y)||!g)&&(m.enterCallbacks[h]||[]).forEach(w=>w(d))},{flush:"post"}),()=>{const d=o.value,m=e.name,h=l.value,g=h&&h.components[m];if(!g)return jE(n.default,{Component:g,route:d});const y=h.props[m],b=y?y===!0?d.params:typeof y=="function"?y(d):y:null,E=na(g,lt({},b,t,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(h.instances[m]=null)},ref:f}));return jE(n.default,{Component:E,route:d})||E}}});function jE(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Bk=bB;function _B(e){const t=z4(e.routes,e),n=e.parseQuery||fB,r=e.stringifyQuery||DE,o=e.history,s=Au(),u=Au(),l=Au(),f=OT(Ri);let d=Ri;qs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const m=vm.bind(null,L=>""+L),h=vm.bind(null,cB),g=vm.bind(null,fh);function y(L,q){let te,ue;return Nk(L)?(te=t.getRecordMatcher(L),ue=q):ue=L,t.addRoute(ue,te)}function b(L){const q=t.getRecordMatcher(L);q&&t.removeRoute(q)}function w(){return t.getRoutes().map(L=>L.record)}function E(L){return!!t.getRecordMatcher(L)}function T(L,q){if(q=lt({},q||f.value),typeof L=="string"){const R=ym(n,L,q.path),U=t.resolve({path:R.path},q),B=o.createHref(R.fullPath);return lt(R,U,{params:g(U.params),hash:fh(R.hash),redirectedFrom:void 0,href:B})}let te;if("path"in L)te=lt({},L,{path:ym(n,L.path,q.path).path});else{const R=lt({},L.params);for(const U in R)R[U]==null&&delete R[U];te=lt({},L,{params:h(R)}),q.params=h(q.params)}const ue=t.resolve(te,q),Re=L.hash||"";ue.params=m(g(ue.params));const A=S4(r,lt({},L,{hash:aB(Re),path:ue.path})),x=o.createHref(A);return lt({fullPath:A,hash:Re,query:r===DE?hB(L.query):L.query||{}},ue,{redirectedFrom:void 0,href:x})}function k(L){return typeof L=="string"?ym(n,L,f.value.path):lt({},L)}function D(L,q){if(d!==L)return Ia(8,{from:q,to:L})}function F(L){return fe(L)}function J(L){return F(lt(k(L),{replace:!0}))}function V(L){const q=L.matched[L.matched.length-1];if(q&&q.redirect){const{redirect:te}=q;let ue=typeof te=="function"?te(L):te;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=k(ue):{path:ue},ue.params={}),lt({query:L.query,hash:L.hash,params:"path"in ue?{}:L.params},ue)}}function fe(L,q){const te=d=T(L),ue=f.value,Re=L.state,A=L.force,x=L.replace===!0,R=V(te);if(R)return fe(lt(k(R),{state:typeof R=="object"?lt({},Re,R.state):Re,force:A,replace:x}),q||te);const U=te;U.redirectedFrom=q;let B;return!A&&E4(r,ue,te)&&(B=Ia(16,{to:U,from:ue}),Wt(ue,ue,!0,!1)),(B?Promise.resolve(B):C(U,ue)).catch(z=>ui(z)?ui(z,2)?z:Pt(z):me(z,U,ue)).then(z=>{if(z){if(ui(z,2))return fe(lt({replace:x},k(z.to),{state:typeof z.to=="object"?lt({},Re,z.to.state):Re,force:A}),q||U)}else z=Ze(U,ue,!0,x,Re);return He(U,ue,z),z})}function G(L,q){const te=D(L,q);return te?Promise.reject(te):Promise.resolve()}function X(L){const q=Qn.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(L):L()}function C(L,q){let te;const[ue,Re,A]=wB(L,q);te=bm(ue.reverse(),"beforeRouteLeave",L,q);for(const R of ue)R.leaveGuards.forEach(U=>{te.push(Fi(U,L,q))});const x=G.bind(null,L,q);return te.push(x),ve(te).then(()=>{te=[];for(const R of s.list())te.push(Fi(R,L,q));return te.push(x),ve(te)}).then(()=>{te=bm(Re,"beforeRouteUpdate",L,q);for(const R of Re)R.updateGuards.forEach(U=>{te.push(Fi(U,L,q))});return te.push(x),ve(te)}).then(()=>{te=[];for(const R of A)if(R.beforeEnter)if(Fr(R.beforeEnter))for(const U of R.beforeEnter)te.push(Fi(U,L,q));else te.push(Fi(R.beforeEnter,L,q));return te.push(x),ve(te)}).then(()=>(L.matched.forEach(R=>R.enterCallbacks={}),te=bm(A,"beforeRouteEnter",L,q),te.push(x),ve(te))).then(()=>{te=[];for(const R of u.list())te.push(Fi(R,L,q));return te.push(x),ve(te)}).catch(R=>ui(R,8)?R:Promise.reject(R))}function He(L,q,te){l.list().forEach(ue=>X(()=>ue(L,q,te)))}function Ze(L,q,te,ue,Re){const A=D(L,q);if(A)return A;const x=q===Ri,R=qs?history.state:{};te&&(ue||x?o.replace(L.fullPath,lt({scroll:x&&R&&R.scroll},Re)):o.push(L.fullPath,Re)),f.value=L,Wt(L,q,te,x),Pt()}let tt;function Xe(){tt||(tt=o.listen((L,q,te)=>{if(!pe.listening)return;const ue=T(L),Re=V(ue);if(Re){fe(lt(Re,{replace:!0}),ue).catch(Hu);return}d=ue;const A=f.value;qs&&P4(AE(A.fullPath,te.delta),md()),C(ue,A).catch(x=>ui(x,12)?x:ui(x,2)?(fe(x.to,ue).then(R=>{ui(R,20)&&!te.delta&&te.type===_l.pop&&o.go(-1,!1)}).catch(Hu),Promise.reject()):(te.delta&&o.go(-te.delta,!1),me(x,ue,A))).then(x=>{x=x||Ze(ue,A,!1),x&&(te.delta&&!ui(x,8)?o.go(-te.delta,!1):te.type===_l.pop&&ui(x,20)&&o.go(-1,!1)),He(ue,A,x)}).catch(Hu)}))}let Ke=Au(),ae=Au(),Me;function me(L,q,te){Pt(L);const ue=ae.list();return ue.length?ue.forEach(Re=>Re(L,q,te)):console.error(L),Promise.reject(L)}function yt(){return Me&&f.value!==Ri?Promise.resolve():new Promise((L,q)=>{Ke.add([L,q])})}function Pt(L){return Me||(Me=!L,Xe(),Ke.list().forEach(([q,te])=>L?te(L):q()),Ke.reset()),L}function Wt(L,q,te,ue){const{scrollBehavior:Re}=e;if(!qs||!Re)return Promise.resolve();const A=!te&&N4(AE(L.fullPath,0))||(ue||!te)&&history.state&&history.state.scroll||null;return xr().then(()=>Re(L,q,A)).then(x=>x&&O4(x)).catch(x=>me(x,L,q))}const jt=L=>o.go(L);let bt;const Qn=new Set,pe={currentRoute:f,listening:!0,addRoute:y,removeRoute:b,hasRoute:E,getRoutes:w,resolve:T,options:e,push:F,replace:J,go:jt,back:()=>jt(-1),forward:()=>jt(1),beforeEach:s.add,beforeResolve:u.add,afterEach:l.add,onError:ae.add,isReady:yt,install(L){const q=this;L.component("RouterLink",mB),L.component("RouterView",Bk),L.config.globalProperties.$router=q,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>Je(f)}),qs&&!bt&&f.value===Ri&&(bt=!0,F(o.location).catch(Re=>{}));const te={};for(const Re in Ri)Object.defineProperty(te,Re,{get:()=>f.value[Re],enumerable:!0});L.provide(w0,q),L.provide(Uk,AT(te)),L.provide(wv,f);const ue=L.unmount;Qn.add(L),L.unmount=function(){Qn.delete(L),Qn.size<1&&(d=Ri,tt&&tt(),tt=null,f.value=Ri,bt=!1,Me=!1),ue()}}};function ve(L){return L.reduce((q,te)=>q.then(()=>X(te)),Promise.resolve())}return pe}function wB(e,t){const n=[],r=[],o=[],s=Math.max(t.matched.length,e.matched.length);for(let u=0;u<s;u++){const l=t.matched[u];l&&(e.matched.find(d=>Ta(d,l))?r.push(l):n.push(l));const f=e.matched[u];f&&(t.matched.find(d=>Ta(d,f))||o.push(f))}return[n,r,o]}const SB={name:"App",components:{AppHeader:v3,AppAuth:y4,RouterView:Bk},computed:{...Dh(fs,["userLoggedIn"])},created(){mr.currentUser&&(this.userLoggedIn=!0)}},EB={class:"relative min-h-screen"},TB=O("section",{class:"absolute inset-0 min-h-screen bg-gradient-to-t from-zinc-900 from-50% to-[#4a368e] to-90% w-full"},null,-1);function IB(e,t,n,r,o,s){const u=dt("AppHeader"),l=dt("RouterView"),f=dt("AppAuth");return Ve(),ze(Vt,null,[be(u),O("div",EB,[TB,be(l)]),be(f)],64)}const AB=Yn(SB,[["render",IB]]);var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Sv={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var h=this||n;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var g=this||n;if(h=parseFloat(h),g.ctx||m(),typeof h<"u"&&h>=0&&h<=1){if(g._volume=h,g._muted)return g;g.usingWebAudio&&g.masterGain.gain.setValueAtTime(h,n.ctx.currentTime);for(var y=0;y<g._howls.length;y++)if(!g._howls[y]._webAudio)for(var b=g._howls[y]._getSoundIds(),w=0;w<b.length;w++){var E=g._howls[y]._soundById(b[w]);E&&E._node&&(E._node.volume=E._volume*h)}return g}return g._volume},mute:function(h){var g=this||n;g.ctx||m(),g._muted=h,g.usingWebAudio&&g.masterGain.gain.setValueAtTime(h?0:g._volume,n.ctx.currentTime);for(var y=0;y<g._howls.length;y++)if(!g._howls[y]._webAudio)for(var b=g._howls[y]._getSoundIds(),w=0;w<b.length;w++){var E=g._howls[y]._soundById(b[w]);E&&E._node&&(E._node.muted=h?!0:E._muted)}return g},stop:function(){for(var h=this||n,g=0;g<h._howls.length;g++)h._howls[g].stop();return h},unload:function(){for(var h=this||n,g=h._howls.length-1;g>=0;g--)h._howls[g].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,m()),h},codecs:function(h){return(this||n)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||n;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var g=new Audio;typeof g.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var g=new Audio;g.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||n,g=null;try{g=typeof Audio<"u"?new Audio:null}catch{return h}if(!g||typeof g.canPlayType!="function")return h;var y=g.canPlayType("audio/mpeg;").replace(/^no$/,""),b=h._navigator?h._navigator.userAgent:"",w=b.match(/OPR\/(\d+)/g),E=w&&parseInt(w[0].split("/")[1],10)<33,T=b.indexOf("Safari")!==-1&&b.indexOf("Chrome")===-1,k=b.match(/Version\/(.*?) /),D=T&&k&&parseInt(k[1],10)<15;return h._codecs={mp3:!!(!E&&(y||g.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!y,opus:!!g.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!g.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(g.canPlayType('audio/wav; codecs="1"')||g.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!g.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!g.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(g.canPlayType("audio/x-m4a;")||g.canPlayType("audio/m4a;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(g.canPlayType("audio/x-m4b;")||g.canPlayType("audio/m4b;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(g.canPlayType("audio/x-mp4;")||g.canPlayType("audio/mp4;")||g.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!D&&g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!D&&g.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!g.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(g.canPlayType("audio/x-flac;")||g.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||n;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var g=function(y){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var b=new Audio;b._unlocked=!0,h._releaseHtml5Audio(b)}catch{h.noAudio=!0;break}for(var w=0;w<h._howls.length;w++)if(!h._howls[w]._webAudio)for(var E=h._howls[w]._getSoundIds(),T=0;T<E.length;T++){var k=h._howls[w]._soundById(E[T]);k&&k._node&&!k._node._unlocked&&(k._node._unlocked=!0,k._node.load())}h._autoResume();var D=h.ctx.createBufferSource();D.buffer=h._scratchBuffer,D.connect(h.ctx.destination),typeof D.start>"u"?D.noteOn(0):D.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),D.onended=function(){D.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",g,!0),document.removeEventListener("touchend",g,!0),document.removeEventListener("click",g,!0),document.removeEventListener("keydown",g,!0);for(var F=0;F<h._howls.length;F++)h._howls[F]._emit("unlock")}};return document.addEventListener("touchstart",g,!0),document.addEventListener("touchend",g,!0),document.addEventListener("click",g,!0),document.addEventListener("keydown",g,!0),h}},_obtainHtml5Audio:function(){var h=this||n;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var g=new Audio().play();return g&&typeof Promise<"u"&&(g instanceof Promise||typeof g.then=="function")&&g.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var g=this||n;return h._unlocked&&g._html5AudioPool.push(h),g},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!n.usingWebAudio)){for(var g=0;g<h._howls.length;g++)if(h._howls[g]._webAudio){for(var y=0;y<h._howls[g]._sounds.length;y++)if(!h._howls[g]._sounds[y]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var b=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(b,b)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!n.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var g=0;g<h._howls.length;g++)h._howls[g]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var n=new t,r=function(h){var g=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}g.init(h)};r.prototype={init:function(h){var g=this;return n.ctx||m(),g._autoplay=h.autoplay||!1,g._format=typeof h.format!="string"?h.format:[h.format],g._html5=h.html5||!1,g._muted=h.mute||!1,g._loop=h.loop||!1,g._pool=h.pool||5,g._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,g._rate=h.rate||1,g._sprite=h.sprite||{},g._src=typeof h.src!="string"?h.src:[h.src],g._volume=h.volume!==void 0?h.volume:1,g._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},g._duration=0,g._state="unloaded",g._sounds=[],g._endTimers={},g._queue=[],g._playLock=!1,g._onend=h.onend?[{fn:h.onend}]:[],g._onfade=h.onfade?[{fn:h.onfade}]:[],g._onload=h.onload?[{fn:h.onload}]:[],g._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],g._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],g._onpause=h.onpause?[{fn:h.onpause}]:[],g._onplay=h.onplay?[{fn:h.onplay}]:[],g._onstop=h.onstop?[{fn:h.onstop}]:[],g._onmute=h.onmute?[{fn:h.onmute}]:[],g._onvolume=h.onvolume?[{fn:h.onvolume}]:[],g._onrate=h.onrate?[{fn:h.onrate}]:[],g._onseek=h.onseek?[{fn:h.onseek}]:[],g._onunlock=h.onunlock?[{fn:h.onunlock}]:[],g._onresume=[],g._webAudio=n.usingWebAudio&&!g._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(g),g._autoplay&&g._queue.push({event:"play",action:function(){g.play()}}),g._preload&&g._preload!=="none"&&g.load(),g},load:function(){var h=this,g=null;if(n.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var y=0;y<h._src.length;y++){var b,w;if(h._format&&h._format[y])b=h._format[y];else{if(w=h._src[y],typeof w!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}b=/^data:audio\/([^;,]+);/i.exec(w),b||(b=/\.([^.]+)$/.exec(w.split("?",1)[0])),b&&(b=b[1].toLowerCase())}if(b||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),b&&n.codecs(b)){g=h._src[y];break}}if(!g){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=g,h._state="loading",window.location.protocol==="https:"&&g.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new o(h),h._webAudio&&u(h),h},play:function(h,g){var y=this,b=null;if(typeof h=="number")b=h,h=null;else{if(typeof h=="string"&&y._state==="loaded"&&!y._sprite[h])return null;if(typeof h>"u"&&(h="__default",!y._playLock)){for(var w=0,E=0;E<y._sounds.length;E++)y._sounds[E]._paused&&!y._sounds[E]._ended&&(w++,b=y._sounds[E]._id);w===1?h=null:b=null}}var T=b?y._soundById(b):y._inactiveSound();if(!T)return null;if(b&&!h&&(h=T._sprite||"__default"),y._state!=="loaded"){T._sprite=h,T._ended=!1;var k=T._id;return y._queue.push({event:"play",action:function(){y.play(k)}}),k}if(b&&!T._paused)return g||y._loadQueue("play"),T._id;y._webAudio&&n._autoResume();var D=Math.max(0,T._seek>0?T._seek:y._sprite[h][0]/1e3),F=Math.max(0,(y._sprite[h][0]+y._sprite[h][1])/1e3-D),J=F*1e3/Math.abs(T._rate),V=y._sprite[h][0]/1e3,fe=(y._sprite[h][0]+y._sprite[h][1])/1e3;T._sprite=h,T._ended=!1;var G=function(){T._paused=!1,T._seek=D,T._start=V,T._stop=fe,T._loop=!!(T._loop||y._sprite[h][2])};if(D>=fe){y._ended(T);return}var X=T._node;if(y._webAudio){var C=function(){y._playLock=!1,G(),y._refreshBuffer(T);var Xe=T._muted||y._muted?0:T._volume;X.gain.setValueAtTime(Xe,n.ctx.currentTime),T._playStart=n.ctx.currentTime,typeof X.bufferSource.start>"u"?T._loop?X.bufferSource.noteGrainOn(0,D,86400):X.bufferSource.noteGrainOn(0,D,F):T._loop?X.bufferSource.start(0,D,86400):X.bufferSource.start(0,D,F),J!==1/0&&(y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),J)),g||setTimeout(function(){y._emit("play",T._id),y._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?C():(y._playLock=!0,y.once("resume",C),y._clearTimer(T._id))}else{var He=function(){X.currentTime=D,X.muted=T._muted||y._muted||n._muted||X.muted,X.volume=T._volume*n.volume(),X.playbackRate=T._rate;try{var Xe=X.play();if(Xe&&typeof Promise<"u"&&(Xe instanceof Promise||typeof Xe.then=="function")?(y._playLock=!0,G(),Xe.then(function(){y._playLock=!1,X._unlocked=!0,g?y._loadQueue():y._emit("play",T._id)}).catch(function(){y._playLock=!1,y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),T._ended=!0,T._paused=!0})):g||(y._playLock=!1,G(),y._emit("play",T._id)),X.playbackRate=T._rate,X.paused){y._emit("playerror",T._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||T._loop?y._endTimers[T._id]=setTimeout(y._ended.bind(y,T),J):(y._endTimers[T._id]=function(){y._ended(T),X.removeEventListener("ended",y._endTimers[T._id],!1)},X.addEventListener("ended",y._endTimers[T._id],!1))}catch(Ke){y._emit("playerror",T._id,Ke)}};X.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(X.src=y._src,X.load());var Ze=window&&window.ejecta||!X.readyState&&n._navigator.isCocoonJS;if(X.readyState>=3||Ze)He();else{y._playLock=!0,y._state="loading";var tt=function(){y._state="loaded",He(),X.removeEventListener(n._canPlayEvent,tt,!1)};X.addEventListener(n._canPlayEvent,tt,!1),y._clearTimer(T._id)}}return T._id},pause:function(h){var g=this;if(g._state!=="loaded"||g._playLock)return g._queue.push({event:"pause",action:function(){g.pause(h)}}),g;for(var y=g._getSoundIds(h),b=0;b<y.length;b++){g._clearTimer(y[b]);var w=g._soundById(y[b]);if(w&&!w._paused&&(w._seek=g.seek(y[b]),w._rateSeek=0,w._paused=!0,g._stopFade(y[b]),w._node))if(g._webAudio){if(!w._node.bufferSource)continue;typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),g._cleanBuffer(w._node)}else(!isNaN(w._node.duration)||w._node.duration===1/0)&&w._node.pause();arguments[1]||g._emit("pause",w?w._id:null)}return g},stop:function(h,g){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"stop",action:function(){y.stop(h)}}),y;for(var b=y._getSoundIds(h),w=0;w<b.length;w++){y._clearTimer(b[w]);var E=y._soundById(b[w]);E&&(E._seek=E._start||0,E._rateSeek=0,E._paused=!0,E._ended=!0,y._stopFade(b[w]),E._node&&(y._webAudio?E._node.bufferSource&&(typeof E._node.bufferSource.stop>"u"?E._node.bufferSource.noteOff(0):E._node.bufferSource.stop(0),y._cleanBuffer(E._node)):(!isNaN(E._node.duration)||E._node.duration===1/0)&&(E._node.currentTime=E._start||0,E._node.pause(),E._node.duration===1/0&&y._clearSound(E._node))),g||y._emit("stop",E._id))}return y},mute:function(h,g){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"mute",action:function(){y.mute(h,g)}}),y;if(typeof g>"u")if(typeof h=="boolean")y._muted=h;else return y._muted;for(var b=y._getSoundIds(g),w=0;w<b.length;w++){var E=y._soundById(b[w]);E&&(E._muted=h,E._interval&&y._stopFade(E._id),y._webAudio&&E._node?E._node.gain.setValueAtTime(h?0:E._volume,n.ctx.currentTime):E._node&&(E._node.muted=n._muted?!0:h),y._emit("mute",E._id))}return y},volume:function(){var h=this,g=arguments,y,b;if(g.length===0)return h._volume;if(g.length===1||g.length===2&&typeof g[1]>"u"){var w=h._getSoundIds(),E=w.indexOf(g[0]);E>=0?b=parseInt(g[0],10):y=parseFloat(g[0])}else g.length>=2&&(y=parseFloat(g[0]),b=parseInt(g[1],10));var T;if(typeof y<"u"&&y>=0&&y<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,g)}}),h;typeof b>"u"&&(h._volume=y),b=h._getSoundIds(b);for(var k=0;k<b.length;k++)T=h._soundById(b[k]),T&&(T._volume=y,g[2]||h._stopFade(b[k]),h._webAudio&&T._node&&!T._muted?T._node.gain.setValueAtTime(y,n.ctx.currentTime):T._node&&!T._muted&&(T._node.volume=y*n.volume()),h._emit("volume",T._id))}else return T=b?h._soundById(b):h._sounds[0],T?T._volume:0;return h},fade:function(h,g,y,b){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(h,g,y,b)}}),w;h=Math.min(Math.max(0,parseFloat(h)),1),g=Math.min(Math.max(0,parseFloat(g)),1),y=parseFloat(y),w.volume(h,b);for(var E=w._getSoundIds(b),T=0;T<E.length;T++){var k=w._soundById(E[T]);if(k){if(b||w._stopFade(E[T]),w._webAudio&&!k._muted){var D=n.ctx.currentTime,F=D+y/1e3;k._volume=h,k._node.gain.setValueAtTime(h,D),k._node.gain.linearRampToValueAtTime(g,F)}w._startFadeInterval(k,h,g,y,E[T],typeof b>"u")}}return w},_startFadeInterval:function(h,g,y,b,w,E){var T=this,k=g,D=y-g,F=Math.abs(D/.01),J=Math.max(4,F>0?b/F:b),V=Date.now();h._fadeTo=y,h._interval=setInterval(function(){var fe=(Date.now()-V)/b;V=Date.now(),k+=D*fe,k=Math.round(k*100)/100,D<0?k=Math.max(y,k):k=Math.min(y,k),T._webAudio?h._volume=k:T.volume(k,h._id,!0),E&&(T._volume=k),(y<g&&k<=y||y>g&&k>=y)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,T.volume(y,h._id),T._emit("fade",h._id))},J)},_stopFade:function(h){var g=this,y=g._soundById(h);return y&&y._interval&&(g._webAudio&&y._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(y._interval),y._interval=null,g.volume(y._fadeTo,h),y._fadeTo=null,g._emit("fade",h)),g},loop:function(){var h=this,g=arguments,y,b,w;if(g.length===0)return h._loop;if(g.length===1)if(typeof g[0]=="boolean")y=g[0],h._loop=y;else return w=h._soundById(parseInt(g[0],10)),w?w._loop:!1;else g.length===2&&(y=g[0],b=parseInt(g[1],10));for(var E=h._getSoundIds(b),T=0;T<E.length;T++)w=h._soundById(E[T]),w&&(w._loop=y,h._webAudio&&w._node&&w._node.bufferSource&&(w._node.bufferSource.loop=y,y&&(w._node.bufferSource.loopStart=w._start||0,w._node.bufferSource.loopEnd=w._stop,h.playing(E[T])&&(h.pause(E[T],!0),h.play(E[T],!0)))));return h},rate:function(){var h=this,g=arguments,y,b;if(g.length===0)b=h._sounds[0]._id;else if(g.length===1){var w=h._getSoundIds(),E=w.indexOf(g[0]);E>=0?b=parseInt(g[0],10):y=parseFloat(g[0])}else g.length===2&&(y=parseFloat(g[0]),b=parseInt(g[1],10));var T;if(typeof y=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,g)}}),h;typeof b>"u"&&(h._rate=y),b=h._getSoundIds(b);for(var k=0;k<b.length;k++)if(T=h._soundById(b[k]),T){h.playing(b[k])&&(T._rateSeek=h.seek(b[k]),T._playStart=h._webAudio?n.ctx.currentTime:T._playStart),T._rate=y,h._webAudio&&T._node&&T._node.bufferSource?T._node.bufferSource.playbackRate.setValueAtTime(y,n.ctx.currentTime):T._node&&(T._node.playbackRate=y);var D=h.seek(b[k]),F=(h._sprite[T._sprite][0]+h._sprite[T._sprite][1])/1e3-D,J=F*1e3/Math.abs(T._rate);(h._endTimers[b[k]]||!T._paused)&&(h._clearTimer(b[k]),h._endTimers[b[k]]=setTimeout(h._ended.bind(h,T),J)),h._emit("rate",T._id)}}else return T=h._soundById(b),T?T._rate:h._rate;return h},seek:function(){var h=this,g=arguments,y,b;if(g.length===0)h._sounds.length&&(b=h._sounds[0]._id);else if(g.length===1){var w=h._getSoundIds(),E=w.indexOf(g[0]);E>=0?b=parseInt(g[0],10):h._sounds.length&&(b=h._sounds[0]._id,y=parseFloat(g[0]))}else g.length===2&&(y=parseFloat(g[0]),b=parseInt(g[1],10));if(typeof b>"u")return 0;if(typeof y=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,g)}}),h;var T=h._soundById(b);if(T)if(typeof y=="number"&&y>=0){var k=h.playing(b);k&&h.pause(b,!0),T._seek=y,T._ended=!1,h._clearTimer(b),!h._webAudio&&T._node&&!isNaN(T._node.duration)&&(T._node.currentTime=y);var D=function(){k&&h.play(b,!0),h._emit("seek",b)};if(k&&!h._webAudio){var F=function(){h._playLock?setTimeout(F,0):D()};setTimeout(F,0)}else D()}else if(h._webAudio){var J=h.playing(b)?n.ctx.currentTime-T._playStart:0,V=T._rateSeek?T._rateSeek-T._seek:0;return T._seek+(V+J*Math.abs(T._rate))}else return T._node.currentTime;return h},playing:function(h){var g=this;if(typeof h=="number"){var y=g._soundById(h);return y?!y._paused:!1}for(var b=0;b<g._sounds.length;b++)if(!g._sounds[b]._paused)return!0;return!1},duration:function(h){var g=this,y=g._duration,b=g._soundById(h);return b&&(y=g._sprite[b._sprite][1]/1e3),y},state:function(){return this._state},unload:function(){for(var h=this,g=h._sounds,y=0;y<g.length;y++)g[y]._paused||h.stop(g[y]._id),h._webAudio||(h._clearSound(g[y]._node),g[y]._node.removeEventListener("error",g[y]._errorFn,!1),g[y]._node.removeEventListener(n._canPlayEvent,g[y]._loadFn,!1),g[y]._node.removeEventListener("ended",g[y]._endFn,!1),n._releaseHtml5Audio(g[y]._node)),delete g[y]._node,h._clearTimer(g[y]._id);var b=n._howls.indexOf(h);b>=0&&n._howls.splice(b,1);var w=!0;for(y=0;y<n._howls.length;y++)if(n._howls[y]._src===h._src||h._src.indexOf(n._howls[y]._src)>=0){w=!1;break}return s&&w&&delete s[h._src],n.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,g,y,b){var w=this,E=w["_on"+h];return typeof g=="function"&&E.push(b?{id:y,fn:g,once:b}:{id:y,fn:g}),w},off:function(h,g,y){var b=this,w=b["_on"+h],E=0;if(typeof g=="number"&&(y=g,g=null),g||y)for(E=0;E<w.length;E++){var T=y===w[E].id;if(g===w[E].fn&&T||!g&&T){w.splice(E,1);break}}else if(h)b["_on"+h]=[];else{var k=Object.keys(b);for(E=0;E<k.length;E++)k[E].indexOf("_on")===0&&Array.isArray(b[k[E]])&&(b[k[E]]=[])}return b},once:function(h,g,y){var b=this;return b.on(h,g,y,1),b},_emit:function(h,g,y){for(var b=this,w=b["_on"+h],E=w.length-1;E>=0;E--)(!w[E].id||w[E].id===g||h==="load")&&(setTimeout((function(T){T.call(this,g,y)}).bind(b,w[E].fn),0),w[E].once&&b.off(h,w[E].fn,w[E].id));return b._loadQueue(h),b},_loadQueue:function(h){var g=this;if(g._queue.length>0){var y=g._queue[0];y.event===h&&(g._queue.shift(),g._loadQueue()),h||y.action()}return g},_ended:function(h){var g=this,y=h._sprite;if(!g._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(g._ended.bind(g,h),100),g;var b=!!(h._loop||g._sprite[y][2]);if(g._emit("end",h._id),!g._webAudio&&b&&g.stop(h._id,!0).play(h._id),g._webAudio&&b){g._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=n.ctx.currentTime;var w=(h._stop-h._start)*1e3/Math.abs(h._rate);g._endTimers[h._id]=setTimeout(g._ended.bind(g,h),w)}return g._webAudio&&!b&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,g._clearTimer(h._id),g._cleanBuffer(h._node),n._autoSuspend()),!g._webAudio&&!b&&g.stop(h._id,!0),g},_clearTimer:function(h){var g=this;if(g._endTimers[h]){if(typeof g._endTimers[h]!="function")clearTimeout(g._endTimers[h]);else{var y=g._soundById(h);y&&y._node&&y._node.removeEventListener("ended",g._endTimers[h],!1)}delete g._endTimers[h]}return g},_soundById:function(h){for(var g=this,y=0;y<g._sounds.length;y++)if(h===g._sounds[y]._id)return g._sounds[y];return null},_inactiveSound:function(){var h=this;h._drain();for(var g=0;g<h._sounds.length;g++)if(h._sounds[g]._ended)return h._sounds[g].reset();return new o(h)},_drain:function(){var h=this,g=h._pool,y=0,b=0;if(!(h._sounds.length<g)){for(b=0;b<h._sounds.length;b++)h._sounds[b]._ended&&y++;for(b=h._sounds.length-1;b>=0;b--){if(y<=g)return;h._sounds[b]._ended&&(h._webAudio&&h._sounds[b]._node&&h._sounds[b]._node.disconnect(0),h._sounds.splice(b,1),y--)}}},_getSoundIds:function(h){var g=this;if(typeof h>"u"){for(var y=[],b=0;b<g._sounds.length;b++)y.push(g._sounds[b]._id);return y}else return[h]},_refreshBuffer:function(h){var g=this;return h._node.bufferSource=n.ctx.createBufferSource(),h._node.bufferSource.buffer=s[g._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,n.ctx.currentTime),g},_cleanBuffer:function(h){var g=this,y=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return g;if(n._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),y))try{h.bufferSource.buffer=n._scratchBuffer}catch{}return h.bufferSource=null,g},_clearSound:function(h){var g=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);g||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var o=function(h){this._parent=h,this.init()};o.prototype={init:function(){var h=this,g=h._parent;return h._muted=g._muted,h._loop=g._loop,h._volume=g._volume,h._rate=g._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,g._sounds.push(h),h.create(),h},create:function(){var h=this,g=h._parent,y=n._muted||h._muted||h._parent._muted?0:h._volume;return g._webAudio?(h._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),h._node.gain.setValueAtTime(y,n.ctx.currentTime),h._node.paused=!0,h._node.connect(n.masterGain)):n.noAudio||(h._node=n._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(n._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=g._src,h._node.preload=g._preload===!0?"auto":g._preload,h._node.volume=y*n.volume(),h._node.load()),h},reset:function(){var h=this,g=h._parent;return h._muted=g._muted,h._loop=g._loop,h._volume=g._volume,h._rate=g._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++n._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,g=h._parent;g._duration=Math.ceil(h._node.duration*10)/10,Object.keys(g._sprite).length===0&&(g._sprite={__default:[0,g._duration*1e3]}),g._state!=="loaded"&&(g._state="loaded",g._emit("load"),g._loadQueue()),h._node.removeEventListener(n._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,g=h._parent;g._duration===1/0&&(g._duration=Math.ceil(h._node.duration*10)/10,g._sprite.__default[1]===1/0&&(g._sprite.__default[1]=g._duration*1e3),g._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},u=function(h){var g=h._src;if(s[g]){h._duration=s[g].duration,d(h);return}if(/^data:[^;]+;base64,/.test(g)){for(var y=atob(g.split(",")[1]),b=new Uint8Array(y.length),w=0;w<y.length;++w)b[w]=y.charCodeAt(w);f(b.buffer,h)}else{var E=new XMLHttpRequest;E.open(h._xhr.method,g,!0),E.withCredentials=h._xhr.withCredentials,E.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(T){E.setRequestHeader(T,h._xhr.headers[T])}),E.onload=function(){var T=(E.status+"")[0];if(T!=="0"&&T!=="2"&&T!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+E.status+".");return}f(E.response,h)},E.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[g],h.load())},l(E)}},l=function(h){try{h.send()}catch{h.onerror()}},f=function(h,g){var y=function(){g._emit("loaderror",null,"Decoding audio data failed.")},b=function(w){w&&g._sounds.length>0?(s[g._src]=w,d(g,w)):y()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(h).then(b).catch(y):n.ctx.decodeAudioData(h,b,y)},d=function(h,g){g&&!h._duration&&(h._duration=g.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},m=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),g=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),y=g?parseInt(g[1],10):null;if(h&&y&&y<9){var b=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!b&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};e.Howler=n,e.Howl=r,typeof xu<"u"?(xu.HowlerGlobal=t,xu.Howler=n,xu.Howl=r,xu.Sound=o):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=n,window.Howl=r,window.Sound=o)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var o=r._howls.length-1;o>=0;o--)r._howls[o].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,o){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(r=typeof r!="number"?s._pos[1]:r,o=typeof o!="number"?s._pos[2]:o,typeof n=="number")s._pos=[n,r,o],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(n,r,o,s,u,l){var f=this;if(!f.ctx||!f.ctx.listener)return f;var d=f._orientation;if(r=typeof r!="number"?d[1]:r,o=typeof o!="number"?d[2]:o,s=typeof s!="number"?d[3]:s,u=typeof u!="number"?d[4]:u,l=typeof l!="number"?d[5]:l,typeof n=="number")f._orientation=[n,r,o,s,u,l],typeof f.ctx.listener.forwardX<"u"?(f.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),f.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),f.ctx.listener.forwardZ.setTargetAtTime(o,Howler.ctx.currentTime,.1),f.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),f.ctx.listener.upY.setTargetAtTime(u,Howler.ctx.currentTime,.1),f.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):f.ctx.listener.setOrientation(n,r,o,s,u,l);else return d;return f},Howl.prototype.init=function(n){return function(r){var o=this;return o._orientation=r.orientation||[1,0,0],o._stereo=r.stereo||null,o._pos=r.pos||null,o._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},o._onstereo=r.onstereo?[{fn:r.onstereo}]:[],o._onpos=r.onpos?[{fn:r.onpos}]:[],o._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"stereo",action:function(){o.stereo(n,r)}}),o;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")o._stereo=n,o._pos=[n,0,0];else return o._stereo;for(var u=o._getSoundIds(r),l=0;l<u.length;l++){var f=o._soundById(u[l]);if(f)if(typeof n=="number")f._stereo=n,f._pos=[n,0,0],f._node&&(f._pannerAttr.panningModel="equalpower",(!f._panner||!f._panner.pan)&&t(f,s),s==="spatial"?typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):f._panner.setPosition(n,0,0):f._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),o._emit("stereo",f._id);else return f._stereo}return o},Howl.prototype.pos=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"pos",action:function(){u.pos(n,r,o,s)}}),u;if(r=typeof r!="number"?0:r,o=typeof o!="number"?-.5:o,typeof s>"u")if(typeof n=="number")u._pos=[n,r,o];else return u._pos;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var d=u._soundById(l[f]);if(d)if(typeof n=="number")d._pos=[n,r,o],d._node&&((!d._panner||d._panner.pan)&&t(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setPosition(n,r,o)),u._emit("pos",d._id);else return d._pos}return u},Howl.prototype.orientation=function(n,r,o,s){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"orientation",action:function(){u.orientation(n,r,o,s)}}),u;if(r=typeof r!="number"?u._orientation[1]:r,o=typeof o!="number"?u._orientation[2]:o,typeof s>"u")if(typeof n=="number")u._orientation=[n,r,o];else return u._orientation;for(var l=u._getSoundIds(s),f=0;f<l.length;f++){var d=u._soundById(l[f]);if(d)if(typeof n=="number")d._orientation=[n,r,o],d._node&&(d._panner||(d._pos||(d._pos=u._pos||[0,0,-.5]),t(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(o,Howler.ctx.currentTime)):d._panner.setOrientation(n,r,o)),u._emit("orientation",d._id);else return d._orientation}return u},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,o,s,u;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")o=r[0],typeof s>"u"&&(o.pannerAttr||(o.pannerAttr={coneInnerAngle:o.coneInnerAngle,coneOuterAngle:o.coneOuterAngle,coneOuterGain:o.coneOuterGain,distanceModel:o.distanceModel,maxDistance:o.maxDistance,refDistance:o.refDistance,rolloffFactor:o.rolloffFactor,panningModel:o.panningModel}),n._pannerAttr={coneInnerAngle:typeof o.pannerAttr.coneInnerAngle<"u"?o.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof o.pannerAttr.coneOuterAngle<"u"?o.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof o.pannerAttr.coneOuterGain<"u"?o.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof o.pannerAttr.distanceModel<"u"?o.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof o.pannerAttr.maxDistance<"u"?o.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof o.pannerAttr.refDistance<"u"?o.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof o.pannerAttr.rolloffFactor<"u"?o.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof o.pannerAttr.panningModel<"u"?o.pannerAttr.panningModel:n._panningModel});else return u=n._soundById(parseInt(r[0],10)),u?u._pannerAttr:n._pannerAttr;else r.length===2&&(o=r[0],s=parseInt(r[1],10));for(var l=n._getSoundIds(s),f=0;f<l.length;f++)if(u=n._soundById(l[f]),u){var d=u._pannerAttr;d={coneInnerAngle:typeof o.coneInnerAngle<"u"?o.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof o.coneOuterAngle<"u"?o.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof o.coneOuterGain<"u"?o.coneOuterGain:d.coneOuterGain,distanceModel:typeof o.distanceModel<"u"?o.distanceModel:d.distanceModel,maxDistance:typeof o.maxDistance<"u"?o.maxDistance:d.maxDistance,refDistance:typeof o.refDistance<"u"?o.refDistance:d.refDistance,rolloffFactor:typeof o.rolloffFactor<"u"?o.rolloffFactor:d.rolloffFactor,panningModel:typeof o.panningModel<"u"?o.panningModel:d.panningModel};var m=u._panner;m||(u._pos||(u._pos=n._pos||[0,0,-.5]),t(u,"spatial"),m=u._panner),m.coneInnerAngle=d.coneInnerAngle,m.coneOuterAngle=d.coneOuterAngle,m.coneOuterGain=d.coneOuterGain,m.distanceModel=d.distanceModel,m.maxDistance=d.maxDistance,m.refDistance=d.refDistance,m.rolloffFactor=d.rolloffFactor,m.panningModel=d.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,o=r._parent;r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,n.call(this),r._stereo?o.stereo(r._stereo):r._pos&&o.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,o=r._parent;return r._orientation=o._orientation,r._stereo=o._stereo,r._pos=o._pos,r._pannerAttr=o._pannerAttr,r._stereo?o.stereo(r._stereo):r._pos?o.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,o._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var t=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Sv);const hh={formatTime(e){const t=Math.floor(e),n=Math.floor(t/60)||0,r=t%60;return`${n}:${r.toString().padStart(2,"0")}`}},Yi=Zv("player",{state:()=>({currentSong:{},sound:{},seek:"0:00",displayDuration:"0:00",duration:0,playerProgress:0,volume:50,isDragging:!1}),actions:{async play(e){this.sound instanceof Sv.Howl&&this.sound.unload(),this.currentSong=e,this.isDragging=!1,this.sound=new Sv.Howl({src:[e.url],html5:!0,volume:this.volume/100}),this.sound.play(),this.sound.on("play",()=>{this.duration=this.sound.duration(),this.displayDuration=hh.formatTime(this.duration),requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.isDragging||(this.seek=hh.formatTime(this.sound.seek()),this.playerProgress=this.sound.seek()/this.sound.duration()*100),this.sound.playing()&&requestAnimationFrame(this.progress)},updateVolume(e){this.sound.playing&&this.sound.volume(e/100)},updateSeek(e){if(!this.sound.playing)return;const t=e/100,n=this.sound.duration()*t;this.sound.seek(n),this.sound.once("seek",()=>{requestAnimationFrame(this.progress)})},setIsDragging(e){this.isDragging=e}},getters:{playing:e=>e.sound.playing?e.sound.playing():!1,isSongInPlayer:e=>t=>e.currentSong&&e.currentSong===t,isSongPlaying:e=>t=>e.isSongInPlayer(t)?e.playing:!1,playerHasSong:e=>e.sound.playing}}),xB={name:"SongItem",props:{song:{type:Object,required:!0},index:{type:Number,required:!0},inPlayer:{type:Boolean,required:!0},playing:{type:Boolean,required:!0},isSelected:{type:Boolean,required:!0}},emits:["double-click"],methods:{...Ca(Yi,["play","toggleAudio"]),getDuration(){return hh.formatTime(this.song.duration??0)},handleDblClick(e){this.$emit("double-click"),this.play(e)}}},kB={class:"hidden group-hover:block text-white"},CB={class:"group-hover:hidden"},OB={class:"overflow-x-clip text-ellipsis"},PB={class:"flex justify-end items-center gap-4"},NB=O("i",{class:"fa-solid fa-heart text-green-500"},null,-1),RB={class:"hidden sm:contents"};function DB(e,t,n,r,o,s){const u=dt("RouterLink");return Ve(),ze("tr",{class:xt(["group hover:cursor-pointer",{"bg-white bg-opacity-30 ":n.isSelected,"sm:hover:bg-white sm:hover:bg-opacity-10 sm:hover:text-white secondary-text":!n.isSelected}])},[O("td",{class:xt(["hidden sm:table-cell p-4 rounded-l-md",{"text-green-500":n.inPlayer,"text-white":!n.inPlayer}])},[O("div",kB,[Wo(O("i",{class:"fa-solid fa-pause text-sm",onClick:t[0]||(t[0]=Ft(l=>e.toggleAudio(),["prevent"]))},null,512),[[ra,n.playing]]),Wo(O("i",{class:"fa-solid fa-play text-xs",onClick:t[1]||(t[1]=Ft(l=>n.inPlayer?e.toggleAudio():e.play(n.song),["prevent"]))},null,512),[[ra,!n.playing]])]),O("p",CB,gt(n.index+1),1)],2),O("td",{onDblclick:t[2]||(t[2]=l=>s.handleDblClick(n.song))},[be(u,{to:{name:"song",params:{id:n.song.docID}},class:"text-white w-max border-b border-b-transparent hover:border-b-white"},{default:$n(()=>[O("span",{class:xt(["overflow-x-clip text-ellipsis",{"text-white":!n.inPlayer,"text-green-500":n.inPlayer}])},gt(n.song.modified_name),3)]),_:1},8,["to"]),be(u,{to:{name:"song",params:{id:n.song.docID}},class:"block w-max border-b border-b-transparent hover:border-b-white text-sm"},{default:$n(()=>[O("span",OB,gt(n.song.artist?n.song.artist:"Unknown artist"),1)]),_:1},8,["to"])],32),O("td",{onDblclick:t[3]||(t[3]=l=>s.handleDblClick(n.song)),class:"hidden sm:table-cell"},gt(n.song.genre?n.song.genre:"Unknown genre"),33),O("td",{onDblclick:t[4]||(t[4]=l=>s.handleDblClick(n.song)),class:"hidden sm:table-cell"},gt(n.song.comment_count),33),O("td",{onDblclick:t[5]||(t[5]=l=>s.handleDblClick(n.song)),class:"rounded-r-md px-4"},[O("div",PB,[NB,O("p",RB,gt(s.getDuration()),1)])],32)],2)}const LB=Yn(xB,[["render",DB]]),Ev="/musicfy/assets/img/liked-songs-300.webp",UE="/musicfy/assets/img/liked-songs-640.webp",MB={name:"AppPlaylist",components:{SongItem:LB},props:{songs:{type:Array,required:!0}},data(){return{selectedSong:""}},computed:{...ia(Yi,["playing","songInPlayer","isSongInPlayer","isSongPlaying","playerHasSong"]),...ia(fs,["username"])},methods:{...Ca(Yi,["play","toggleAudio"]),isSongSelected(e){return this.selectedSong===e},selectSong(e){this.selectedSong=this.selectedSong===e?null:e},handleDblClick(e){this.selectSong(e.docID),this.play(e)}}},FB=Ev+" 150w, "+Ev+" 300w, "+UE+" 320w, "+UE+" 640w",VB={class:"relative z-10 mx-4 pt-32 sm:pt-40 pb-6 text-white text-center font-circular-thin"},jB={class:"container flex justify-between sm:justify-start sm:gap-6"},UB=O("img",{"aria-hidden":"false",draggable:"false",loading:"eager",src:Ev,alt:"Liked songs",class:"shadow-3xl order-2 sm:order-1 w-28 h-28 sm:w-auto sm:h-auto",srcset:FB,sizes:"(min-width: 1280px) 232px, 192px"},null,-1),BB={class:"text-white main-header-content flex flex-col sm:grow gap-1 sm:gap-4 justify-center items-start order-1"},$B=O("h4",{class:"text-xs sm:text-base"},"Playlist",-1),qB=O("h1",{class:"text-xl sm:text-8xl lg:text-8xl font-circular-black"},"Liked Songs",-1),HB={class:"text-xs sm:text-base"},KB={class:"font-circular-regular"},GB={class:"relative z-10 py-5 bg-zinc-900 bg-opacity-30 font-circular-thin min-h-[50vh]"},WB={type:"button",class:"mx-4 sm:mx-8"},zB={class:"mx-4 sm:mx-8 mt-4"},XB={id:"playlist",class:"w-full text-left mb-40"},YB=O("thead",{class:"border-b border-zinc-400 border-opacity-10 secondary-text"},[O("tr",null,[O("th",{class:"hidden sm:table-cell px-4 sm:w-8"},"#"),O("th",{class:"sm:w-2/5 p-1"},"Title"),O("th",{class:"hidden sm:table-cell w-1/3"},"Genre"),O("th",{class:"hidden sm:table-cell w-1/5"},"Comments"),O("th",{class:"hidden sm:table-cell w-2/12"},[O("div",{class:"flex justify-end mr-2"},[O("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 secondary-text","aria-label":"duration"},[O("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"})])])])])],-1),QB={class:"text-white"},JB=O("tr",{class:"h-2"},null,-1),ZB={key:0};function e$(e,t,n,r,o,s){const u=dt("SongItem");return Ve(),ze(Vt,null,[O("section",VB,[O("div",jB,[UB,O("div",BB,[$B,qB,O("p",HB,[O("span",KB,gt(e.username)+"  "+gt(n.songs.length)+" songs ",1)])])])]),O("section",GB,[O("button",WB,[O("i",{class:xt(["text-[#1ed760] text-5xl hover:scale-110 bg-black rounded-full",{"fa fa-play-circle":!e.playing,"fa fa-pause-circle":e.playing}]),onClick:t[0]||(t[0]=Ft(l=>e.playerHasSong?e.toggleAudio():e.play(this.songs[0]),["prevent"]))},null,2)]),O("div",zB,[O("table",XB,[YB,O("tbody",QB,[JB,n.songs.length===0?(Ve(),ze("div",ZB,"Empty playlist.")):(Ve(!0),ze(Vt,{key:1},kl(n.songs,(l,f)=>(Ve(),Zs(u,{key:l.docID,song:l,index:f,"in-player":e.isSongInPlayer(l),playing:e.isSongPlaying(l),"is-selected":s.isSongSelected(l.docID),onClick:d=>s.selectSong(l.docID),onDoubleClick:d=>s.handleDblClick(l)},null,8,["song","index","in-player","playing","is-selected","onClick","onDoubleClick"]))),128))])])])])],64)}const t$=Yn(MB,[["render",e$]]);function _m(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=S0(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,l;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,l=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(u)throw l}}}}function n$(e){return o$(e)||i$(e)||S0(e)||r$()}function r$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o$(e){if(Array.isArray(e))return Tv(e)}function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function wm(e,t){return u$(e)||a$(e,t)||S0(e,t)||s$()}function s$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S0(e,t){if(e){if(typeof e=="string")return Tv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tv(e,t)}}function Tv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);f=!0);}catch(m){d=!0,o=m}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function u$(e){if(Array.isArray(e))return e}var qi={innerWidth:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},width:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),n}return 0},getWindowScrollTop:function(){var t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)},getWindowScrollLeft:function(){var t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)},getOuterWidth:function(t,n){if(t){var r=t.offsetWidth;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return r}return 0},getOuterHeight:function(t,n){if(t){var r=t.offsetHeight;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}return 0},getClientHeight:function(t,n){if(t){var r=t.clientHeight;if(n){var o=getComputedStyle(t);r+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return r}return 0},getViewport:function(){var t=window,n=document,r=n.documentElement,o=n.getElementsByTagName("body")[0],s=t.innerWidth||r.clientWidth||o.clientWidth,u=t.innerHeight||r.clientHeight||o.clientHeight;return{width:s,height:u}},getOffset:function(t){if(t){var n=t.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}},index:function(t){if(t)for(var n=t.parentNode.childNodes,r=0,o=0;o<n.length;o++){if(n[o]===t)return r;n[o].nodeType===1&&r++}return-1},addMultipleClasses:function(t,n){var r=this;t&&n&&[n].flat().filter(Boolean).forEach(function(o){return o.split(" ").forEach(function(s){return r.addClass(t,s)})})},removeMultipleClasses:function(t,n){var r=this;t&&n&&[n].flat().filter(Boolean).forEach(function(o){return o.split(" ").forEach(function(s){return r.removeClass(t,s)})})},addClass:function(t,n){t&&n&&!this.hasClass(t,n)&&(t.classList?t.classList.add(n):t.className+=" "+n)},removeClass:function(t,n){t&&n&&(t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))},hasClass:function(t,n){return t?t.classList?t.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(t.className):!1},addStyles:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t&&Object.entries(n).forEach(function(r){var o=wm(r,2),s=o[0],u=o[1];return t.style[s]=u})},find:function(t,n){return this.isElement(t)?t.querySelectorAll(n):[]},findSingle:function(t,n){return this.isElement(t)?t.querySelector(n):null},createElement:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var r=document.createElement(t);this.setAttributes(r,n);for(var o=arguments.length,s=new Array(o>2?o-2:0),u=2;u<o;u++)s[u-2]=arguments[u];return r.append.apply(r,s),r}},setAttribute:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(n,r)},setAttributes:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isElement(t)){var o=function s(u,l){var f,d,m=t!=null&&(f=t.$attrs)!==null&&f!==void 0&&f[u]?[t==null||(d=t.$attrs)===null||d===void 0?void 0:d[u]]:[];return[l].flat().reduce(function(h,g){if(g!=null){var y=Gu(g);if(y==="string"||y==="number")h.push(g);else if(y==="object"){var b=Array.isArray(g)?s(u,g):Object.entries(g).map(function(w){var E=wm(w,2),T=E[0],k=E[1];return u==="style"&&(k||k===0)?"".concat(T.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(k):k?T:void 0});h=b.length?h.concat(b.filter(function(w){return!!w})):h}}return h},m)};Object.entries(r).forEach(function(s){var u=wm(s,2),l=u[0],f=u[1];if(f!=null){var d=l.match(/^on(.+)/);d?t.addEventListener(d[1].toLowerCase(),f):l==="p-bind"?n.setAttributes(t,f):(f=l==="class"?n$(new Set(o("class",f))).join(" ").trim():l==="style"?o("style",f).join(";").trim():f,(t.$attrs=t.$attrs||{})&&(t.$attrs[l]=f),t.setAttribute(l,f))}})}},getAttribute:function(t,n){if(this.isElement(t)){var r=t.getAttribute(n);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}},isAttributeEquals:function(t,n,r){return this.isElement(t)?this.getAttribute(t,n)===r:!1},isAttributeNotEquals:function(t,n,r){return!this.isAttributeEquals(t,n,r)},getHeight:function(t){if(t){var n=t.offsetHeight,r=getComputedStyle(t);return n-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),n}return 0},getWidth:function(t){if(t){var n=t.offsetWidth,r=getComputedStyle(t);return n-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),n}return 0},absolutePosition:function(t,n){if(t){var r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.height,s=r.width,u=n.offsetHeight,l=n.offsetWidth,f=n.getBoundingClientRect(),d=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),h=this.getViewport(),g,y;f.top+u+o>h.height?(g=f.top+d-o,t.style.transformOrigin="bottom",g<0&&(g=d)):(g=u+f.top+d,t.style.transformOrigin="top"),f.left+s>h.width?y=Math.max(0,f.left+m+l-s):y=f.left+m,t.style.top=g+"px",t.style.left=y+"px"}},relativePosition:function(t,n){if(t){var r=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=n.offsetHeight,s=n.getBoundingClientRect(),u=this.getViewport(),l,f;s.top+o+r.height>u.height?(l=-1*r.height,t.style.transformOrigin="bottom",s.top+l<0&&(l=-1*s.top)):(l=o,t.style.transformOrigin="top"),r.width>u.width?f=s.left*-1:s.left+r.width>u.width?f=(s.left+r.width-u.width)*-1:f=0,t.style.top=l+"px",t.style.left=f+"px"}},getParents:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.parentNode===null?n:this.getParents(t.parentNode,n.concat([t.parentNode]))},getScrollableParents:function(t){var n=[];if(t){var r=this.getParents(t),o=/(auto|scroll)/,s=function(E){try{var T=window.getComputedStyle(E,null);return o.test(T.getPropertyValue("overflow"))||o.test(T.getPropertyValue("overflowX"))||o.test(T.getPropertyValue("overflowY"))}catch{return!1}},u=_m(r),l;try{for(u.s();!(l=u.n()).done;){var f=l.value,d=f.nodeType===1&&f.dataset.scrollselectors;if(d){var m=d.split(","),h=_m(m),g;try{for(h.s();!(g=h.n()).done;){var y=g.value,b=this.findSingle(f,y);b&&s(b)&&n.push(b)}}catch(w){h.e(w)}finally{h.f()}}f.nodeType!==9&&s(f)&&n.push(f)}}catch(w){u.e(w)}finally{u.f()}}return n},getHiddenElementOuterHeight:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var n=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementOuterWidth:function(t){if(t){t.style.visibility="hidden",t.style.display="block";var n=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",n}return 0},getHiddenElementDimensions:function(t){if(t){var n={};return t.style.visibility="hidden",t.style.display="block",n.width=t.offsetWidth,n.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",n}return 0},fadeIn:function(t,n){if(t){t.style.opacity=0;var r=+new Date,o=0,s=function u(){o=+t.style.opacity+(new Date().getTime()-r)/n,t.style.opacity=o,r=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(u)||setTimeout(u,16))};s()}},fadeOut:function(t,n){if(t)var r=1,o=50,s=n,u=o/s,l=setInterval(function(){r-=u,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},o)},getUserAgent:function(){return navigator.userAgent},appendChild:function(t,n){if(this.isElement(n))n.appendChild(t);else if(n.el&&n.elElement)n.elElement.appendChild(t);else throw new Error("Cannot append "+n+" to "+t)},isElement:function(t){return(typeof HTMLElement>"u"?"undefined":Gu(HTMLElement))==="object"?t instanceof HTMLElement:t&&Gu(t)==="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},scrollInView:function(t,n){var r=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=r?parseFloat(r):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),u=s?parseFloat(s):0,l=t.getBoundingClientRect(),f=n.getBoundingClientRect(),d=f.top+document.body.scrollTop-(l.top+document.body.scrollTop)-o-u,m=t.scrollTop,h=t.clientHeight,g=this.getOuterHeight(n);d<0?t.scrollTop=m+d:d+g>h&&(t.scrollTop=m+d-h+g)},clearSelection:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}},getSelection:function(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null},calculateScrollbarWidth:function(){if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var t=document.createElement("div");this.addStyles(t,{width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"}),document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),this.calculatedScrollbarWidth=n,n},calculateBodyScrollbarWidth:function(){return window.innerWidth-document.documentElement.offsetWidth},getBrowser:function(){if(!this.browser){var t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser},resolveUserAgent:function(){var t=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(t)||/(webkit)[ ]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:n[1]||"",version:n[2]||"0"}},isVisible:function(t){return t&&t.offsetParent!=null},invokeElementMethod:function(t,n,r){t[n].apply(t,r)},isExist:function(t){return!!(t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode)},isClient:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},focus:function(t,n){t&&document.activeElement!==t&&t.focus(n)},isFocusableElement:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return this.isElement(t)?t.matches('button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)):!1},getFocusableElements:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=this.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),o=[],s=_m(r),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;getComputedStyle(l).display!="none"&&getComputedStyle(l).visibility!="hidden"&&o.push(l)}}catch(f){s.e(f)}finally{s.f()}return o},getFirstFocusableElement:function(t,n){var r=this.getFocusableElements(t,n);return r.length>0?r[0]:null},getLastFocusableElement:function(t,n){var r=this.getFocusableElements(t,n);return r.length>0?r[r.length-1]:null},getNextFocusableElement:function(t,n,r){var o=this.getFocusableElements(t,r),s=o.length>0?o.findIndex(function(l){return l===n}):-1,u=s>-1&&o.length>=s+1?s+1:-1;return u>-1?o[u]:null},isClickable:function(t){if(t){var n=t.nodeName,r=t.parentElement&&t.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||r==="INPUT"||r==="TEXTAREA"||r==="BUTTON"||r==="A"||!!t.closest(".p-button, .p-checkbox, .p-radiobutton")}return!1},applyStyle:function(t,n){if(typeof n=="string")t.style.cssText=n;else for(var r in n)t.style[r]=n[r]},isIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},isAndroid:function(){return/(android)/i.test(navigator.userAgent)},isTouchDevice:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0},hasCSSAnimation:function(t){if(t){var n=getComputedStyle(t),r=parseFloat(n.getPropertyValue("animation-duration")||"0");return r>0}return!1},hasCSSTransition:function(t){if(t){var n=getComputedStyle(t),r=parseFloat(n.getPropertyValue("transition-duration")||"0");return r>0}return!1},exportCSV:function(t,n){var r=new Blob([t],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,n+".csv");else{var o=document.createElement("a");o.download!==void 0?(o.setAttribute("href",URL.createObjectURL(r)),o.setAttribute("download",n+".csv"),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)):(t="data:text/csv;charset=utf-8,"+t,window.open(encodeURI(t)))}},blockBodyScroll:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)},unblockBodyScroll:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}};function l$(e,t){return h$(e)||f$(e,t)||E0(e,t)||c$()}function c$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);f=!0);}catch(m){d=!0,o=m}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function h$(e){if(Array.isArray(e))return e}function BE(e){return g$(e)||p$(e)||E0(e)||d$()}function d$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function g$(e){if(Array.isArray(e))return Iv(e)}function Sm(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E0(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,u=!1,l;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return s=d.done,d},e:function(d){u=!0,l=d},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(u)throw l}}}}function E0(e,t){if(e){if(typeof e=="string")return Iv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Iv(e,t)}}function Iv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}var pn={equals:function(t,n,r){return r?this.resolveFieldData(t,r)===this.resolveFieldData(n,r):this.deepEquals(t,n)},deepEquals:function(t,n){if(t===n)return!0;if(t&&n&&Wu(t)=="object"&&Wu(n)=="object"){var r=Array.isArray(t),o=Array.isArray(n),s,u,l;if(r&&o){if(u=t.length,u!=n.length)return!1;for(s=u;s--!==0;)if(!this.deepEquals(t[s],n[s]))return!1;return!0}if(r!=o)return!1;var f=t instanceof Date,d=n instanceof Date;if(f!=d)return!1;if(f&&d)return t.getTime()==n.getTime();var m=t instanceof RegExp,h=n instanceof RegExp;if(m!=h)return!1;if(m&&h)return t.toString()==n.toString();var g=Object.keys(t);if(u=g.length,u!==Object.keys(n).length)return!1;for(s=u;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,g[s]))return!1;for(s=u;s--!==0;)if(l=g[s],!this.deepEquals(t[l],n[l]))return!1;return!0}return t!==t&&n!==n},resolveFieldData:function(t,n){if(!t||!n)return null;try{var r=t[n];if(this.isNotEmpty(r))return r}catch{}if(Object.keys(t).length){if(this.isFunction(n))return n(t);if(n.indexOf(".")===-1)return t[n];for(var o=n.split("."),s=t,u=0,l=o.length;u<l;++u){if(s==null)return null;s=s[o[u]]}return s}return null},getItemValue:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return this.isFunction(t)?t.apply(void 0,r):t},filter:function(t,n,r){var o=[];if(t){var s=Sm(t),u;try{for(s.s();!(u=s.n()).done;){var l=u.value,f=Sm(n),d;try{for(f.s();!(d=f.n()).done;){var m=d.value;if(String(this.resolveFieldData(l,m)).toLowerCase().indexOf(r.toLowerCase())>-1){o.push(l);break}}}catch(h){f.e(h)}finally{f.f()}}}catch(h){s.e(h)}finally{s.f()}}return o},reorderArray:function(t,n,r){t&&n!==r&&(r>=t.length&&(r%=t.length,n%=t.length),t.splice(r,0,t.splice(n,1)[0]))},findIndexInList:function(t,n){var r=-1;if(n){for(var o=0;o<n.length;o++)if(n[o]===t){r=o;break}}return r},contains:function(t,n){if(t!=null&&n&&n.length){var r=Sm(n),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;if(this.equals(t,s))return!0}}catch(u){r.e(u)}finally{r.f()}}return!1},insertIntoOrderedArray:function(t,n,r,o){if(r.length>0){for(var s=!1,u=0;u<r.length;u++){var l=this.findIndexInList(r[u],o);if(l>n){r.splice(u,0,t),s=!0;break}}s||r.push(t)}else r.push(t)},removeAccents:function(t){return t&&t.search(/[\xC0-\xFF]/g)>-1&&(t=t.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),t},getVNodeProp:function(t,n){var r=t.props;if(r){var o=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Object.prototype.hasOwnProperty.call(r,o)?o:n;return t.type.extends.props[n].type===Boolean&&r[s]===""?!0:r[s]}return null},toFlatCase:function(t){return this.isString(t)?t.replace(/(-|_)/g,"").toLowerCase():t},toKebabCase:function(t){return this.isString(t)?t.replace(/(_)/g,"-").replace(/[A-Z]/g,function(n,r){return r===0?n:"-"+n.toLowerCase()}).toLowerCase():t},toCapitalCase:function(t){return this.isString(t,{empty:!1})?t[0].toUpperCase()+t.slice(1):t},isEmpty:function(t){return t==null||t===""||Array.isArray(t)&&t.length===0||!(t instanceof Date)&&Wu(t)==="object"&&Object.keys(t).length===0},isNotEmpty:function(t){return!this.isEmpty(t)},isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},isObject:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t instanceof Object&&t.constructor===Object&&(n||Object.keys(t).length!==0)},isDate:function(t){return t instanceof Date&&t.constructor===Date},isArray:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return Array.isArray(t)&&(n||t.length!==0)},isString:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return typeof t=="string"&&(n||t!=="")},isPrintableCharacter:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(t)&&t.length===1&&t.match(/\S| /)},findLast:function(t,n){var r;if(this.isNotEmpty(t))try{r=t.findLast(n)}catch{r=BE(t).reverse().find(n)}return r},findLastIndex:function(t,n){var r=-1;if(this.isNotEmpty(t))try{r=t.findLastIndex(n)}catch{r=t.lastIndexOf(BE(t).reverse().find(n))}return r},sort:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,u=this.compare(t,n,o,r),l=r;return(this.isEmpty(t)||this.isEmpty(n))&&(l=s===1?r:s),l*u},compare:function(t,n,r){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,u=this.isEmpty(t),l=this.isEmpty(n);return u&&l?s=0:u?s=o:l?s=-o:typeof t=="string"&&typeof n=="string"?s=r(t,n):s=t<n?-1:t>n?1:0,s},localeComparator:function(){return new Intl.Collator(void 0,{numeric:!0}).compare},nestedKeys:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return Object.entries(n).reduce(function(o,s){var u=l$(s,2),l=u[0],f=u[1],d=r?"".concat(r,".").concat(l):l;return t.isObject(f)?o=o.concat(t.nestedKeys(f,d)):o.push(d),o},[])}};function wl(e){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wl(e)}function $E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function qE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(n),!0).forEach(function(r){m$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$E(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m$(e,t,n){return t=v$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v$(e){var t=y$(e,"string");return wl(t)==="symbol"?t:String(t)}function y$(e,t){if(wl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b$(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Cl()?Ch(e):t?e():xr(e)}var _$=0;function $k(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=en(!1),r=en(e),o=en(null),s=qi.isClient()?window.document:void 0,u=t.document,l=u===void 0?s:u,f=t.immediate,d=f===void 0?!0:f,m=t.manual,h=m===void 0?!1:m,g=t.name,y=g===void 0?"style_".concat(++_$):g,b=t.id,w=b===void 0?void 0:b,E=t.media,T=E===void 0?void 0:E,k=t.nonce,D=k===void 0?void 0:k,F=t.props,J=F===void 0?{}:F,V=function(){},fe=function(C){var He=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(l){var Ze=qE(qE({},J),He),tt=Ze.name||y,Xe=Ze.id||w,Ke=Ze.nonce||D;o.value=l.querySelector('style[data-primevue-style-id="'.concat(tt,'"]'))||l.getElementById(Xe)||l.createElement("style"),o.value.isConnected||(r.value=C||e,qi.setAttributes(o.value,{type:"text/css",id:Xe,media:T,nonce:Ke}),l.head.appendChild(o.value),qi.setAttribute(o.value,"data-primevue-style-id",y),qi.setAttributes(o.value,Ze)),!n.value&&(V=Hn(r,function(ae){o.value.textContent=ae},{immediate:!0}),n.value=!0)}},G=function(){!l||!n.value||(V(),qi.isExist(o.value)&&l.head.removeChild(o.value),n.value=!1)};return d&&!h&&b$(fe),{id:w,name:y,css:r,unload:G,load:fe,isLoaded:Th(n)}}function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function w$(e,t){return I$(e)||T$(e,t)||E$(e,t)||S$()}function S$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E$(e,t){if(e){if(typeof e=="string")return HE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HE(e,t)}}function HE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,s,u,l=[],f=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);f=!0);}catch(m){d=!0,o=m}finally{try{if(!f&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(d)throw o}}return l}}function I$(e){if(Array.isArray(e))return e}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Em(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KE(Object(n),!0).forEach(function(r){A$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A$(e,t,n){return t=x$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x$(e){var t=k$(e,"string");return Sl(t)==="symbol"?t:String(t)}function k$(e,t){if(Sl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C$=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}

.p-hidden-accessible input,
.p-hidden-accessible select {
    transform: scale(0);
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,O$={},P$={},T0={name:"base",css:C$,classes:O$,inlineStyles:P$,loadStyle:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.css?$k(this.css,Em({name:this.name},t)):{}},getStyleSheet:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.css){var r=Object.entries(n).reduce(function(o,s){var u=w$(s,2),l=u[0],f=u[1];return o.push("".concat(l,'="').concat(f,'"'))&&o},[]).join(" ");return'<style type="text/css" data-primevue-style-id="'.concat(this.name,'" ').concat(r,">").concat(this.css).concat(t,"</style>")}return""},extend:function(t){return Em(Em({},this),{},{css:void 0},t)}};function El(e){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},El(e)}function GE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function N$(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GE(Object(n),!0).forEach(function(r){R$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R$(e,t,n){return t=D$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D$(e){var t=L$(e,"string");return El(t)==="symbol"?t:String(t)}function L$(e,t){if(El(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(El(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M$=`
.p-button {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-buttonset .p-button {
    margin: 0;
}

.p-buttonset .p-button:not(:last-child), .p-buttonset .p-button:not(:last-child):hover {
    border-right: 0 none;
}

.p-buttonset .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-buttonset .p-button:first-of-type:not(:only-of-type) {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-buttonset .p-button:last-of-type:not(:only-of-type) {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-buttonset .p-button:focus {
    position: relative;
    z-index: 1;
}
`,F$=`
.p-checkbox {
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    vertical-align: bottom;
    position: relative;
}

.p-checkbox.p-checkbox-disabled {
    cursor: default;
}

.p-checkbox-box {
    display: flex;
    justify-content: center;
    align-items: center;
}
`,V$=`
.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label {
    top: -.75rem;
    font-size: 12px;
}


.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-left > svg,
.p-input-icon-right > i,
.p-input-icon-right > svg {
    position: absolute;
    top: 50%;
    margin-top: -.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,j$=`
.p-radiobutton {
    position: relative;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    vertical-align: bottom;
}

.p-radiobutton.p-radiobutton-disabled {
    cursor: default;
}

.p-radiobutton-box {
    display: flex;
    justify-content: center;
    align-items: center;
}

.p-radiobutton-icon {
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    transform: translateZ(0) scale(.1);
    border-radius: 50%;
    visibility: hidden;
}

.p-radiobutton-box.p-highlight .p-radiobutton-icon {
    transform: translateZ(0) scale(1.0, 1.0);
    visibility: visible;
}
`,U$=`
@layer primevue {
.p-component, .p-component * {
    box-sizing: border-box;
}

.p-hidden-space {
    visibility: hidden;
}

.p-reset {
    margin: 0;
    padding: 0;
    border: 0;
    outline: 0;
    text-decoration: none;
    font-size: 100%;
    list-style: none;
}

.p-disabled, .p-disabled * {
    cursor: default !important;
    pointer-events: none;
    user-select: none;
}

.p-component-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-unselectable-text {
    user-select: none;
}

.p-sr-only {
    border: 0;
    clip: rect(1px, 1px, 1px, 1px);
    clip-path: inset(50%);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
    word-wrap: normal !important;
}

.p-link {
	text-align: left;
	background-color: transparent;
	margin: 0;
	padding: 0;
	border: none;
    cursor: pointer;
    user-select: none;
}

.p-link:disabled {
	cursor: default;
}

/* Non vue overlay animations */
.p-connected-overlay {
    opacity: 0;
    transform: scaleY(0.8);
    transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-visible {
    opacity: 1;
    transform: scaleY(1);
}

.p-connected-overlay-hidden {
    opacity: 0;
    transform: scaleY(1);
    transition: opacity .1s linear;
}

/* Vue based overlay animations */
.p-connected-overlay-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-connected-overlay-leave-to {
    opacity: 0;
}

.p-connected-overlay-enter-active {
    transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
}

.p-connected-overlay-leave-active {
    transition: opacity .1s linear;
}

/* Toggleable Content */
.p-toggleable-content-enter-from,
.p-toggleable-content-leave-to {
    max-height: 0;
}

.p-toggleable-content-enter-to,
.p-toggleable-content-leave-from {
    max-height: 1000px;
}

.p-toggleable-content-leave-active {
    overflow: hidden;
    transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
}

.p-toggleable-content-enter-active {
    overflow: hidden;
    transition: max-height 1s ease-in-out;
}
`.concat(M$,`
`).concat(F$,`
`).concat(V$,`
`).concat(j$,`
}
`),Tm=T0.extend({name:"common",css:U$,loadGlobalStyle:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $k(t,N$({name:"global"},n))}});function Tl(e){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(e)}function WE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WE(Object(n),!0).forEach(function(r){Av(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WE(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Av(e,t,n){return t=B$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B$(e){var t=$$(e,"string");return Tl(t)==="symbol"?t:String(t)}function $$(e,t){if(Tl(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q$={name:"BaseComponent",props:{pt:{type:Object,default:void 0},ptOptions:{type:Object,default:void 0},unstyled:{type:Boolean,default:void 0}},inject:{$parentInstance:{default:void 0}},watch:{isUnstyled:{immediate:!0,handler:function(t){if(!t){var n,r;Tm.loadStyle({nonce:(n=this.$config)===null||n===void 0||(n=n.csp)===null||n===void 0?void 0:n.nonce}),this.$options.style&&this.$style.loadStyle({nonce:(r=this.$config)===null||r===void 0||(r=r.csp)===null||r===void 0?void 0:r.nonce})}}}},beforeCreate:function(){var t,n,r,o,s,u,l,f,d,m,h,g=(t=this.pt)===null||t===void 0?void 0:t._usept,y=g?(n=this.pt)===null||n===void 0||(n=n.originalValue)===null||n===void 0?void 0:n[this.$.type.name]:void 0,b=g?(r=this.pt)===null||r===void 0||(r=r.value)===null||r===void 0?void 0:r[this.$.type.name]:this.pt;(o=b||y)===null||o===void 0||(o=o.hooks)===null||o===void 0||(s=o.onBeforeCreate)===null||s===void 0||s.call(o);var w=(u=this.$config)===null||u===void 0||(u=u.pt)===null||u===void 0?void 0:u._usept,E=w?(l=this.$primevue)===null||l===void 0||(l=l.config)===null||l===void 0||(l=l.pt)===null||l===void 0?void 0:l.originalValue:void 0,T=w?(f=this.$primevue)===null||f===void 0||(f=f.config)===null||f===void 0||(f=f.pt)===null||f===void 0?void 0:f.value:(d=this.$primevue)===null||d===void 0||(d=d.config)===null||d===void 0?void 0:d.pt;(m=T||E)===null||m===void 0||(m=m[this.$.type.name])===null||m===void 0||(m=m.hooks)===null||m===void 0||(h=m.onBeforeCreate)===null||h===void 0||h.call(m)},created:function(){this._hook("onCreated")},beforeMount:function(){var t;T0.loadStyle({nonce:(t=this.$config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce}),this._loadGlobalStyles(),this._hook("onBeforeMount")},mounted:function(){this._hook("onMounted")},beforeUpdate:function(){this._hook("onBeforeUpdate")},updated:function(){this._hook("onUpdated")},beforeUnmount:function(){this._hook("onBeforeUnmount")},unmounted:function(){this._hook("onUnmounted")},methods:{_hook:function(t){if(!this.$options.hostName){var n=this._usePT(this._getPT(this.pt,this.$.type.name),this._getOptionValue,"hooks.".concat(t)),r=this._useDefaultPT(this._getOptionValue,"hooks.".concat(t));n==null||n(),r==null||r()}},_loadGlobalStyles:function(){var t,n=this._useGlobalPT(this._getOptionValue,"global.css",this.$params);pn.isNotEmpty(n)&&Tm.loadGlobalStyle(n,{nonce:(t=this.$config)===null||t===void 0||(t=t.csp)===null||t===void 0?void 0:t.nonce})},_getHostInstance:function(t){return t?this.$options.hostName?t.$.type.name===this.$options.hostName?t:this._getHostInstance(t.$parentInstance):t.$parentInstance:void 0},_getPropValue:function(t){var n;return this[t]||((n=this._getHostInstance(this))===null||n===void 0?void 0:n[t])},_getOptionValue:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=pn.toFlatCase(n).split("."),s=o.shift();return s?pn.isObject(t)?this._getOptionValue(pn.getItemValue(t[Object.keys(t).find(function(u){return pn.toFlatCase(u)===s})||""],r),o.join("."),r):void 0:pn.getItemValue(t,r)},_getPTValue:function(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u="data-pc-",l=/./g.test(r)&&!!o[r.split(".")[0]],f=this._getPropValue("ptOptions")||((t=this.$config)===null||t===void 0?void 0:t.ptOptions)||{},d=f.mergeSections,m=d===void 0?!0:d,h=f.mergeProps,g=h===void 0?!1:h,y=s?l?this._useGlobalPT(this._getPTClassValue,r,o):this._useDefaultPT(this._getPTClassValue,r,o):void 0,b=l?void 0:this._usePT(this._getPT(n,this.$name),this._getPTClassValue,r,Tt(Tt({},o),{},{global:y||{}})),w=r!=="transition"&&Tt(Tt({},r==="root"&&Av({},"".concat(u,"name"),pn.toFlatCase(this.$.type.name))),{},Av({},"".concat(u,"section"),pn.toFlatCase(r)));return m||!m&&b?g?gr(y,b,w):Tt(Tt(Tt({},y),b),w):Tt(Tt({},b),w)},_getPTClassValue:function(){var t=this._getOptionValue.apply(this,arguments);return pn.isString(t)||pn.isArray(t)?{class:t}:t},_getPT:function(t){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0,s=function(l){var f,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=o?o(l):l,h=pn.toFlatCase(r),g=pn.toFlatCase(n.$name);return(f=d?h!==g?m==null?void 0:m[h]:void 0:m==null?void 0:m[h])!==null&&f!==void 0?f:m};return t!=null&&t.hasOwnProperty("_usept")?{_usept:t._usept,originalValue:s(t.originalValue),value:s(t.value)}:s(t,!0)},_usePT:function(t,n,r,o){var s=function(w){return n(w,r,o)};if(t!=null&&t.hasOwnProperty("_usept")){var u,l=t._usept||((u=this.$config)===null||u===void 0?void 0:u.ptOptions)||{},f=l.mergeSections,d=f===void 0?!0:f,m=l.mergeProps,h=m===void 0?!1:m,g=s(t.originalValue),y=s(t.value);return g===void 0&&y===void 0?void 0:pn.isString(y)?y:pn.isString(g)?g:d||!d&&y?h?gr(g,y):Tt(Tt({},g),y):y}return s(t)},_useGlobalPT:function(t,n,r){return this._usePT(this.globalPT,t,n,r)},_useDefaultPT:function(t,n,r){return this._usePT(this.defaultPT,t,n,r)},ptm:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._getPTValue(this.pt,t,Tt(Tt({},this.$params),n))},ptmo:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._getPTValue(t,n,Tt({instance:this},r),!1)},cx:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.isUnstyled?void 0:this._getOptionValue(this.$style.classes,t,Tt(Tt({},this.$params),n))},sx:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n){var o=this._getOptionValue(this.$style.inlineStyles,t,Tt(Tt({},this.$params),r)),s=this._getOptionValue(Tm.inlineStyles,t,Tt(Tt({},this.$params),r));return[s,o]}}},computed:{globalPT:function(){var t,n=this;return this._getPT((t=this.$config)===null||t===void 0?void 0:t.pt,void 0,function(r){return pn.getItemValue(r,{instance:n})})},defaultPT:function(){var t,n=this;return this._getPT((t=this.$config)===null||t===void 0?void 0:t.pt,void 0,function(r){return n._getOptionValue(r,n.$name,Tt({},n.$params))||pn.getItemValue(r,Tt({},n.$params))})},isUnstyled:function(){var t;return this.unstyled!==void 0?this.unstyled:(t=this.$config)===null||t===void 0?void 0:t.unstyled},$params:function(){return{instance:this,props:this.$props,state:this.$data,parentInstance:this.$parentInstance}},$style:function(){return Tt(Tt({classes:void 0,inlineStyles:void 0,loadStyle:function(){},loadCustomStyle:function(){}},(this._getHostInstance(this)||{}).$style),this.$options.style)},$config:function(){var t;return(t=this.$primevue)===null||t===void 0?void 0:t.config},$name:function(){return this.$options.hostName||this.$.type.name}}},H$=`
@layer primevue {
    .p-slider {
        position: relative;
    }

    .p-slider .p-slider-handle {
        cursor: grab;
        touch-action: none;
        display: block;
    }

    .p-slider-range {
        display: block;
    }

    .p-slider-horizontal .p-slider-range {
        top: 0;
        left: 0;
        height: 100%;
    }

    .p-slider-horizontal .p-slider-handle {
        top: 50%;
    }

    .p-slider-vertical {
        height: 100px;
    }

    .p-slider-vertical .p-slider-handle {
        left: 50%;
    }

    .p-slider-vertical .p-slider-range {
        bottom: 0;
        left: 0;
        width: 100%;
    }
}
`,K$={handle:{position:"absolute"},range:{position:"absolute"}},G$={root:function(t){var n=t.props;return["p-slider p-component",{"p-disabled":n.disabled,"p-slider-horizontal":n.orientation==="horizontal","p-slider-vertical":n.orientation==="vertical"}]},range:"p-slider-range",handle:"p-slider-handle"},W$=T0.extend({name:"slider",css:H$,classes:G$,inlineStyles:K$}),z$={name:"BaseSlider",extends:q$,props:{modelValue:[Number,Array],min:{type:Number,default:0},max:{type:Number,default:100},orientation:{type:String,default:"horizontal"},step:{type:Number,default:null},range:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tabindex:{type:Number,default:0},"aria-labelledby":{type:String,default:null},"aria-label":{type:String,default:null}},style:W$,provide:function(){return{$parentInstance:this}}};function X$(e){return Z$(e)||J$(e)||Q$(e)||Y$()}function Y$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q$(e,t){if(e){if(typeof e=="string")return xv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xv(e,t)}}function J$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z$(e){if(Array.isArray(e))return xv(e)}function xv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qk={name:"Slider",extends:z$,emits:["update:modelValue","change","slideend"],dragging:!1,handleIndex:null,initX:null,initY:null,barWidth:null,barHeight:null,dragListener:null,dragEndListener:null,beforeUnmount:function(){this.unbindDragListeners()},methods:{updateDomData:function(){var t=this.$el.getBoundingClientRect();this.initX=t.left+qi.getWindowScrollLeft(),this.initY=t.top+qi.getWindowScrollTop(),this.barWidth=this.$el.offsetWidth,this.barHeight=this.$el.offsetHeight},setValue:function(t){var n,r=t.touches?t.touches[0].pageX:t.pageX,o=t.touches?t.touches[0].pageY:t.pageY;this.orientation==="horizontal"?n=(r-this.initX)*100/this.barWidth:n=(this.initY+this.barHeight-o)*100/this.barHeight;var s=(this.max-this.min)*(n/100)+this.min;if(this.step){var u=this.range?this.modelValue[this.handleIndex]:this.modelValue,l=s-u;l<0?s=u+Math.ceil(s/this.step-u/this.step)*this.step:l>0&&(s=u+Math.floor(s/this.step-u/this.step)*this.step)}else s=Math.floor(s);this.updateModel(t,s)},updateModel:function(t,n){var r=parseFloat(n.toFixed(10)),o;this.range?(o=this.modelValue?X$(this.modelValue):[],this.handleIndex==0?(r<this.min?r=this.min:r>=this.max&&(r=this.max),o[0]=r):(r>this.max?r=this.max:r<=this.min&&(r=this.min),o[1]=r)):(r<this.min?r=this.min:r>this.max&&(r=this.max),o=r),this.$emit("update:modelValue",o),this.$emit("change",o)},onDragStart:function(t,n){this.disabled||(this.$el.setAttribute("data-p-sliding",!0),this.dragging=!0,this.updateDomData(),this.range&&this.modelValue[0]===this.max?this.handleIndex=0:this.handleIndex=n,t.currentTarget.focus(),t.preventDefault())},onDrag:function(t){this.dragging&&(this.setValue(t),t.preventDefault())},onDragEnd:function(t){this.dragging&&(this.dragging=!1,this.$el.setAttribute("data-p-sliding",!1),this.$emit("slideend",{originalEvent:t,value:this.modelValue}))},onBarClick:function(t){this.disabled||qi.getAttribute(t.target,"data-pc-section")!=="handle"&&(this.updateDomData(),this.setValue(t))},onMouseDown:function(t,n){this.bindDragListeners(),this.onDragStart(t,n)},onKeyDown:function(t,n){switch(this.handleIndex=n,t.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(t,n),t.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(t,n),t.preventDefault();break;case"PageDown":this.decrementValue(t,n,!0),t.preventDefault();break;case"PageUp":this.incrementValue(t,n,!0),t.preventDefault();break;case"Home":this.updateModel(t,this.min),t.preventDefault();break;case"End":this.updateModel(t,this.max),t.preventDefault();break}},decrementValue:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;this.range?this.step?o=this.modelValue[n]-this.step:o=this.modelValue[n]-1:this.step?o=this.modelValue-this.step:!this.step&&r?o=this.modelValue-10:o=this.modelValue-1,this.updateModel(t,o),t.preventDefault()},incrementValue:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,o;this.range?this.step?o=this.modelValue[n]+this.step:o=this.modelValue[n]+1:this.step?o=this.modelValue+this.step:!this.step&&r?o=this.modelValue+10:o=this.modelValue+1,this.updateModel(t,o),t.preventDefault()},bindDragListeners:function(){this.dragListener||(this.dragListener=this.onDrag.bind(this),document.addEventListener("mousemove",this.dragListener)),this.dragEndListener||(this.dragEndListener=this.onDragEnd.bind(this),document.addEventListener("mouseup",this.dragEndListener))},unbindDragListeners:function(){this.dragListener&&(document.removeEventListener("mousemove",this.dragListener),this.dragListener=null),this.dragEndListener&&(document.removeEventListener("mouseup",this.dragEndListener),this.dragEndListener=null)}},computed:{horizontal:function(){return this.orientation==="horizontal"},vertical:function(){return this.orientation==="vertical"},rangeStyle:function(){if(this.range){var t=this.rangeEndPosition>this.rangeStartPosition?this.rangeEndPosition-this.rangeStartPosition:this.rangeStartPosition-this.rangeEndPosition,n=this.rangeEndPosition>this.rangeStartPosition?this.rangeStartPosition:this.rangeEndPosition;return this.horizontal?{left:n+"%",width:t+"%"}:{bottom:n+"%",height:t+"%"}}else return this.horizontal?{width:this.handlePosition+"%"}:{height:this.handlePosition+"%"}},handleStyle:function(){return this.horizontal?{left:this.handlePosition+"%"}:{bottom:this.handlePosition+"%"}},handlePosition:function(){return this.modelValue<this.min?0:this.modelValue>this.max?100:(this.modelValue-this.min)*100/(this.max-this.min)},rangeStartPosition:function(){return this.modelValue&&this.modelValue[0]?(this.modelValue[0]<this.min?0:this.modelValue[0]-this.min)*100/(this.max-this.min):0},rangeEndPosition:function(){return this.modelValue&&this.modelValue.length===2?(this.modelValue[1]>this.max?100:this.modelValue[1]-this.min)*100/(this.max-this.min):100},rangeStartHandleStyle:function(){return this.horizontal?{left:this.rangeStartPosition+"%"}:{bottom:this.rangeStartPosition+"%"}},rangeEndHandleStyle:function(){return this.horizontal?{left:this.rangeEndPosition+"%"}:{bottom:this.rangeEndPosition+"%"}}}},eq=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],tq=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"],nq=["tabindex","aria-valuemin","aria-valuenow","aria-valuemax","aria-labelledby","aria-label","aria-orientation"];function rq(e,t,n,r,o,s){return Ve(),ze("div",gr({class:e.cx("root"),onClick:t[15]||(t[15]=function(){return s.onBarClick&&s.onBarClick.apply(s,arguments)})},e.ptm("root"),{"data-p-sliding":!1,"data-pc-name":"slider"}),[O("span",gr({class:e.cx("range"),style:[e.sx("range"),s.rangeStyle]},e.ptm("range")),null,16),e.range?Or("",!0):(Ve(),ze("span",gr({key:0,class:e.cx("handle"),style:[e.sx("handle"),s.handleStyle],onTouchstart:t[0]||(t[0]=function(u){return s.onDragStart(u)}),onTouchmove:t[1]||(t[1]=function(u){return s.onDrag(u)}),onTouchend:t[2]||(t[2]=function(u){return s.onDragEnd(u)}),onMousedown:t[3]||(t[3]=function(u){return s.onMouseDown(u)}),onKeydown:t[4]||(t[4]=function(u){return s.onKeyDown(u)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("handle")),null,16,eq)),e.range?(Ve(),ze("span",gr({key:1,class:e.cx("handle"),style:[e.sx("handle"),s.rangeStartHandleStyle],onTouchstart:t[5]||(t[5]=function(u){return s.onDragStart(u,0)}),onTouchmove:t[6]||(t[6]=function(u){return s.onDrag(u)}),onTouchend:t[7]||(t[7]=function(u){return s.onDragEnd(u)}),onMousedown:t[8]||(t[8]=function(u){return s.onMouseDown(u,0)}),onKeydown:t[9]||(t[9]=function(u){return s.onKeyDown(u,0)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[0]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("startHandler")),null,16,tq)):Or("",!0),e.range?(Ve(),ze("span",gr({key:2,class:e.cx("handle"),style:[e.sx("handle"),s.rangeEndHandleStyle],onTouchstart:t[10]||(t[10]=function(u){return s.onDragStart(u,1)}),onTouchmove:t[11]||(t[11]=function(u){return s.onDrag(u)}),onTouchend:t[12]||(t[12]=function(u){return s.onDragEnd(u)}),onMousedown:t[13]||(t[13]=function(u){return s.onMouseDown(u,1)}),onKeydown:t[14]||(t[14]=function(u){return s.onKeyDown(u,1)}),tabindex:e.tabindex,role:"slider","aria-valuemin":e.min,"aria-valuenow":e.modelValue?e.modelValue[1]:null,"aria-valuemax":e.max,"aria-labelledby":e.ariaLabelledby,"aria-label":e.ariaLabel,"aria-orientation":e.orientation},e.ptm("endHandler")),null,16,nq)):Or("",!0)],16)}qk.render=rq;const iq={name:"AppPlayer",components:{Slider:qk},data(){return{volumeOld:0,isDragging:!1,slideEndValue:0}},computed:{...ia(Yi,["playing","currentSong","displayDuration","duration","playerHasSong"]),...Dh(Yi,["playerProgress","volume","seek"])},methods:{...Ca(Yi,["toggleAudio","updateSeek","updateVolume","setIsDragging"]),toggleVolume(){this.volume>=1?this.volume=0:this.volume=this.volumeOld},updateDisplaySeek(e){const t=e/100,n=this.duration*t;this.seek=hh.formatTime(n)},handleSliderChange(e){this.isDragging=!0,this.updateDisplaySeek(e),this.slideEndValue=e},handleSlideEnd(){this.isDragging=!1,this.updateSeek(this.slideEndValue)},handleSliderClick(){this.isDragging=!1,this.updateSeek(this.slideEndValue)}},watch:{volume(e,t){this.volumeOld=t,this.updateVolume(e)},isDragging(e){this.setIsDragging(e)}}},oq={class:"fixed bottom-0 left-0 w-full bg-black h-24 z-10 px-8 py-2 flex flex-col lg:flex-row lg:justify-between justify-center items-center select-none"},sq={class:"text-white flex flex-col items-center flex-1 font-circular-thin lg:order-2"},aq={type:"button",class:""},uq={class:"flex flex-nowrap gap-3 justify-center items-center"},lq={class:"player-currenttime text-xs secondary-text font-sans"},cq={class:"player-duration text-xs secondary-text font-sans"},fq={class:"hidden sm:flex items-center flex-1 gap-3 font-circular-thin h-6 lg:h-16 whitespace-nowrap lg:order-1"},hq={class:"text-white sm:flex lg:flex-col gap-2 lg:gap-0 justify-center sm:items-center lg:items-start font-circular-thin h-16 whitespace-nowrap"},dq={class:"song-title"},pq={class:"song-artist secondary-text"},gq={key:0,class:"hidden fa-solid fa-heart text-green-500"},mq={class:"hidden text-white lg:flex items-center justify-end flex-1 order-3"};function vq(e,t,n,r,o,s){const u=dt("Slider");return Ve(),ze("section",oq,[O("div",sq,[O("button",aq,[O("i",{class:xt(["text-white text-3xl hover:scale-105",{"fa fa-play-circle":!e.playing,"fa fa-pause-circle":e.playing}]),onClick:t[0]||(t[0]=Ft(l=>e.toggleAudio(),["prevent"]))},null,2)]),O("div",uq,[O("div",lq,gt(e.seek),1),be(u,{modelValue:e.playerProgress,"onUpdate:modelValue":t[1]||(t[1]=l=>e.playerProgress=l),onChange:t[2]||(t[2]=l=>s.handleSliderChange(e.playerProgress)),onSlideend:t[3]||(t[3]=l=>s.handleSlideEnd()),onClick:t[4]||(t[4]=Ft(l=>s.handleSliderClick(),["prevent"])),pt:{root:{class:"w-60 sm:w-96 h-1 bg-neutral-700 group hover:cursor-pointer"},handle:{class:"bg-white opacity-0 group-hover:opacity-100 hover:cursor-grab group-active:opacity-100"},range:{class:"bg-white group-hover:bg-green-500 group-active:bg-green-500"}}},null,8,["modelValue"]),O("div",cq,gt(e.displayDuration),1)])]),O("div",fq,[Wo(O("div",hq,[O("p",dq,gt(e.currentSong.modified_name),1),O("p",pq,gt(e.currentSong.artist?e.currentSong.artist:"Unknown artist"),1)],512),[[ra,e.playerHasSong]]),e.playerHasSong?(Ve(),ze("i",gq)):Or("",!0)]),O("div",mq,[O("i",{onClick:t[5]||(t[5]=Ft((...l)=>s.toggleVolume&&s.toggleVolume(...l),["prevent"])),class:xt(["fa-solid hover:cursor-pointer p-3",{"fa-volume-high":e.volume>50,"fa-volume-low":e.volume>=1,"fa-volume-xmark":e.volume<1}])},null,2),be(u,{modelValue:e.volume,"onUpdate:modelValue":t[6]||(t[6]=l=>e.volume=l),pt:{root:{class:"w-40 h-1 bg-neutral-700 group hover:cursor-grab"},handle:{class:"bg-white opacity-0 group-hover:opacity-100 group-active:opacity-100"},range:{class:"bg-white group-hover:bg-green-500 group-active:bg-green-500"}}},null,8,["modelValue"])])])}const I0=Yn(iq,[["render",vq]]),yq={name:"Home",components:{AppPlaylist:t$,AppPlayer:I0},data(){return{songs:[],maxPerPage:10,pendingReq:!1}},async created(){await this.getSongs(),window.addEventListener("scroll",this.handleScroll)},methods:{async getSongs(){if(this.pendingReq)return;this.pendingReq=!0;let e;if(this.songs.length){const t=await Jr.doc(this.songs[this.songs.length-1].docID).get();e=await Jr.orderBy("modified_name").startAfter(t).limit(this.maxPerPage).get(),e.forEach(n=>{this.songs.push({docID:n.id,...n.data()})})}else e=await Jr.orderBy("modified_name").limit(this.maxPerPage).get(),e.forEach(t=>{this.songs.push({docID:t.id,...t.data()})});this.pendingReq=!1},handleScroll(){const{scrollTop:e,offsetHeight:t}=document.documentElement,{innerHeight:n}=window;Math.ceil(e)+n>=t&&this.getSongs()}},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)}};function bq(e,t,n,r,o,s){const u=dt("AppPlaylist"),l=dt("AppPlayer");return Ve(),ze("section",null,[be(u,{songs:o.songs},null,8,["songs"]),be(l)])}const _q=Yn(yq,[["render",bq]]),wq={name:"AboutView",components:{AppPlayer:I0}},Sq=O("main",{class:"relative z-10 pt-40 text-white text-center font-circular-thin"},[O("h1",{class:""},"About musicfy"),O("h4",null,"This application is for educational purposes only"),O("h6",null,[bn(" To see the real Spotify visit "),O("a",{class:"underline",href:"https://www.spotify.com"},"www.spotify.com")])],-1);function Eq(e,t,n,r,o,s){const u=dt("AppPlayer");return Ve(),ze(Vt,null,[Sq,be(u)],64)}const Tq=Yn(wq,[["render",Eq]]),Iq={name:"Upload",props:{addSong:{type:Function,required:!0}},data(){return{is_dragover:!1,uploads:[]}},methods:{upload(e){this.is_dragover=!1,(e.dataTransfer?[...e.dataTransfer.files]:[...e.target.files]).forEach(async n=>{if(n.type!="audio/mpeg"){alert("file type invalid");return}const s=Ck.ref().child("songs").child(`${n.name}`);if(await this.fileExists(n)){alert("Song already existing:",n.name);return}const l=s.put(n),f=this.uploads.push({task:l,current_progress:0,name:n.name,variant:"progress-bar bg-blue-400",icon:"fa-solid fa-spinner fa-spin",text_class:"",hide_class:""})-1;l.on("state_changed",d=>{const m=d.bytesTransferred/d.totalBytes*100;this.uploads[f].current_progress=m},d=>{this.uploads[f].variant="bg-red-400",this.uploads[f].icon="fas fa-times",this.uploads[f].text_class="text-red-400",console.error("Error uploading the song",d)},async()=>{const d={uid:mr.currentUser.uid,displayName:mr.currentUser.displayName,original_name:l.snapshot.ref.name,modified_name:this.getFileNameWithoutExtension(l.snapshot.ref.name),genre:"",artist:"",comment_count:0,duration:Math.floor(Math.random()*151+90)};d.url=await l.snapshot.ref.getDownloadURL();let m="";await Jr.add(d).then(g=>{m=g}).catch(async g=>{this.uploads[f].variant="bg-red-400",this.uploads[f].icon="fas fa-times",this.uploads[f].text_class="text-red-400",console.error("Error uploading the song",g),await s.delete()});const h=await m.get();this.addSong(h),this.uploads[f].variant="bg-green-400",this.uploads[f].icon="fas fa-check",this.uploads[f].text_class="text-green-400",setTimeout(()=>{this.uploads[f].hide_class="hidden"},1e3)})})},getFileNameWithoutExtension(e){return e.replace(/\.[^.]+$/,"")},async fileExists(e){return(await Jr.where("original_name","==",e.name).get()).size!==0},cancelUploads(){this.uploads.forEach(e=>{e.task.cancel()})},openInputFile(){this.$refs.inputFile.click()}},beforeUnmount(){this.cancelUploads()}},Aq={class:"col-span-1"},xq={class:"bg-zinc-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},kq=O("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},[O("span",{class:"card-title"},"Upload"),O("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),Cq={class:"p-6"},Oq=O("h5",null,[bn("Drop your mp3 files here "),O("span",{class:"block text-sm"},"Or, click to browse")],-1),Pq=[Oq],Nq=O("hr",{class:"my-6 border-slate-400"},null,-1),Rq={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function Dq(e,t,n,r,o,s){return Ve(),ze("div",Aq,[O("div",xq,[kq,O("div",Cq,[O("div",{class:xt(["hidden sm:block w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-zinc-700 hover:border-solid",{"bg-zinc-700 text-white border border-solid":o.is_dragover}]),onDrag:t[0]||(t[0]=Ft(()=>{},["prevent","stop"])),onDragstart:t[1]||(t[1]=Ft(()=>{},["prevent","stop"])),onDragend:t[2]||(t[2]=Ft(u=>o.is_dragover=!1,["prevent","stop"])),onDragover:t[3]||(t[3]=Ft(u=>o.is_dragover=!0,["prevent","stop"])),onDragenter:t[4]||(t[4]=Ft(u=>o.is_dragover=!0,["prevent","stop"])),onDragleave:t[5]||(t[5]=Ft(u=>o.is_dragover=!1,["prevent","stop"])),onDrop:t[6]||(t[6]=Ft(u=>s.upload(u),["prevent","stop"])),onClick:t[7]||(t[7]=Ft((...u)=>s.openInputFile&&s.openInputFile(...u),["prevent"]))},Pq,34),O("input",{type:"file",multiple:"",ref:"inputFile",onChange:t[8]||(t[8]=u=>s.upload(u)),class:"md:hidden w-full text-sm file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:font-semibold file:bg-green-500 hover:file:bg-green-400 bg-gray-800 hover:cursor-pointer"},null,544),Nq,(Ve(!0),ze(Vt,null,kl(o.uploads,u=>(Ve(),ze("div",{class:xt(["mb-4",u.hide_class]),key:u.name},[O("div",{class:xt(["font-bold text-sm",u.text_class])},[O("i",{class:xt(u.icon)},null,2),bn(gt(u.name),1)],2),O("div",Rq,[O("div",{class:xt(["transition-all",u.variant]),style:wh({width:u.current_progress+"%"})},null,6)])],2))),128))])])])}const Lq=Yn(Iq,[["render",Dq]]),Mq={name:"CompositionItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},removeSong:{type:Function,required:!0},index:{type:Number,required:!0},updateHasChanges:{type:Function}},data(){return{showForm:!1,songSchema:{modified_name:"required",genre:"alpha_spaces",artist:""},initialValues:{modified_name:this.song.modified_name,artist:this.song.artist,genre:this.song.genre},in_submission:!1,show_alert:!1,alert_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",error_variant:"bg-red-500",success_variant:"bg-[#1ed760]",alert_msg:"",initial_msg:"Please wait! Updating song. ",success_msg:"Success! Your song info was updated."}},methods:{async deleteSong(){this.in_submission=!0,await Ck.ref().child(`songs/${this.song.original_name}`).delete().then(()=>{}).catch(n=>{console.error(n),this.in_submission=!1}),await Jr.doc(this.song.docID).delete().then(()=>{}).catch(n=>{console.error(n),this.in_submission=!1}),this.removeSong(this.index),this.in_submission=!1},async editSong(e){this.initAlert();try{if(!this.hasChanges(e))return;await Jr.doc(this.song.docID).update({modified_name:e.modified_name,artist:e.artist?e.artist:"",genre:e.genre?e.genre:""})}catch{this.alert_variant=this.error_variant,this.alert_msg="Something went wrong! Try again later.";return}finally{this.in_submission=!1}this.updateSong(this.index,e),this.updateHasChanges(!1),this.alert_variant=this.success_variant,this.alert_msg=this.success_msg,setTimeout(()=>{this.show_alert=!1,this.showForm=!1},1e3)},initAlert(){this.show_alert=!0,this.in_submission=!0,this.alert_variant=this.progress_variant,this.alert_msg=this.initial_msg},hasChanges(e){for(const t in e)if(e[t]!==this.song[t])return this.updateHasChanges(!0),!0;return this.updateHasChanges(!1),!1}}},Fq={class:"border border-slate-500 p-3 mb-4 rounded flex justify-between items-center gap-5"},Vq={class:"inline-block text-base md:text-2xl lg:text-3xl font-semibold overflow-hidden text-ellipsis whitespace-nowrap"},jq={class:""},Uq=["disabled"],Bq=O("i",{class:"fa fa-times"},null,-1),$q=[Bq],qq=O("i",{class:"fa-solid fa-pen-to-square"},null,-1),Hq=[qq],Kq={class:"mb-4"},Gq={id:"form-field",class:"mb-3"},Wq=O("label",{class:"inline-block mb-2"},"Song Title",-1),zq={id:"form-field",class:"mb-3"},Xq=O("label",{class:"inline-block mb-2"},"Artist",-1),Yq={id:"form-field",class:"mb-3"},Qq=O("label",{class:"inline-block mb-2"},"Genre",-1),Jq={id:"form-buttons"},Zq=["disabled"],e6=["disabled"];function t6(e,t,n,r,o,s){const u=dt("VeeField"),l=dt("ErrorMessage"),f=dt("VeeForm");return Ve(),ze(Vt,null,[Wo(O("div",Fq,[O("h4",Vq,gt(n.song.modified_name),1),O("div",jq,[O("button",{class:"ml-1 py-1 px-2 text-sm rounded text-red-600 float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[0]||(t[0]=Ft((...d)=>s.deleteSong&&s.deleteSong(...d),["prevent"])),disabled:o.in_submission},$q,8,Uq),O("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white float-right md:hover:scale-105 md:hover:bg-gray-800",onClick:t[1]||(t[1]=d=>o.showForm=!0)},Hq)])],512),[[ra,!o.showForm]]),Wo(O("div",Kq,[o.show_alert?(Ve(),ze("p",{key:0,class:xt(["text-black text-center font-bold rounded",o.alert_variant])},gt(o.alert_msg),3)):Or("",!0),be(f,{"validation-schema":o.songSchema,initialValues:o.initialValues,onSubmit:s.editSong},{default:$n(()=>[O("div",Gq,[Wq,be(u,{name:"modified_name",label:"Song",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Song Title",onInput:t[2]||(t[2]=d=>n.updateHasChanges(!0))}),be(l,{class:"text-red-600",name:"modified_name"})]),O("div",zq,[Xq,be(u,{name:"artist",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[3]||(t[3]=d=>n.updateHasChanges(!0))}),be(l,{class:"text-red-600",name:"artist"})]),O("div",Yq,[Qq,be(u,{name:"genre",type:"text",class:"block w-full py-1.5 px-3 border border-transparent transition duration-500 focus:outline-none focus:border-white rounded",placeholder:"Enter Genre",onInput:t[4]||(t[4]=d=>n.updateHasChanges(!0))}),be(l,{class:"text-red-600",name:"genre"})]),O("div",Jq,[O("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",disabled:o.in_submission}," Save ",8,Zq),O("button",{type:"button",class:"ml-2 py-1.5 px-3 rounded text-white bg-gray-600 md:hover:scale-105 disabled:opacity-50 disabled:cursor-pointer",onClick:t[5]||(t[5]=Ft(d=>o.showForm=!1,["prevent"])),disabled:o.in_submission}," Go Back ",8,e6)])]),_:1},8,["validation-schema","initialValues","onSubmit"])],512),[[ra,o.showForm]])],64)}const n6=Yn(Mq,[["render",t6]]),r6={name:"managePlaylist",components:{AppUpload:Lq,CompositionItem:n6},data(){return{songs:[],hasChanges:!1}},async created(){(await Jr.where("uid","==",mr.currentUser.uid).get()).forEach(this.addSong)},methods:{updateSong(e,t){this.songs[e].modified_name=t.modified_name,this.songs[e].genre=t.genre,this.songs[e].artist=t.artist},removeSong(e){this.songs.splice(e,1)},addSong(e){const t={...e.data(),docID:e.id};this.songs.push(t)},updateHasChanges(e){this.hasChanges=e}},beforeRouteLeave(e,t,n){if(!this.hasChanges)n();else{const r=confirm("You have unsaved changes. Are you sure you want to leave?");n(r)}}},i6={id:"manage",class:"pt-28 container mx-auto"},o6={class:"md:grid md:grid-cols-3 md:gap-4"},s6={class:"col-span-2 bg-neutral-900 rounded-lg shadow-inner shadow-slate-500 relative flex flex-col text-white"},a6=O("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-slate-400"},[O("span",{class:"card-title"},"My Songs"),O("i",{class:"fa-solid fa-music float-right text-green-400 text-2xl"})],-1),u6={class:"p-6"},l6={key:0},c6=O("p",{class:"text-center"},"Playlist empty.",-1),f6=[c6];function h6(e,t,n,r,o,s){const u=dt("AppUpload"),l=dt("CompositionItem");return Ve(),ze("main",i6,[O("div",o6,[be(u,{ref:"upload",addSong:s.addSong},null,8,["addSong"]),O("section",s6,[a6,O("div",u6,[o.songs.length===0?(Ve(),ze("div",l6,f6)):(Ve(!0),ze(Vt,{key:1},kl(o.songs,(f,d)=>(Ve(),Zs(l,{class:"flex justify-between items-center gap-5",key:f.docID,song:f,updateSong:s.updateSong,index:d,removeSong:s.removeSong,updateHasChanges:s.updateHasChanges},null,8,["song","updateSong","index","removeSong","updateHasChanges"]))),128))])])])])}const d6=Yn(r6,[["render",h6]]),p6={name:"Song",components:{AppPlayer:I0},data(){return{song:{},comments:[],sort:"1",schema:{comment:"required|min:3"},comment_in_submission:!1,comment_show_alert:!1,comment_alert_variant:"",comment_progress_variant:"bg-gradient-to-r from-zinc-900 from-0% to-[#5038a0] to-30%",comment_error_variant:"bg-red-500",comment_success_variant:"bg-[#1ed760]",comment_alert_msg:"",initial_msg:"Publishing your comment... ",success_msg:"Your comment has been published."}},computed:{...ia(fs,["userLoggedIn"]),...ia(Yi,["playing"]),sortedComments(){return this.comments.slice().sort((e,t)=>this.sort==="1"?new Date(t.date)-new Date(e.date):new Date(e.date)-new Date(t.date))}},async created(){const e=await Jr.doc(this.$route.params.id).get();e.exists||this.$router.push({name:"home"});const{sort:t}=this.$route.query;this.sort=t==="1"||t==="2"?t:"1",this.song=e.data(),this.getComments()},methods:{...Ca(Yi,["play","toggleAudio"]),async publishComment(e,{resetForm:t}){this.initCommentAlert();const n={content:e.comment,date:new Date().toString(),songID:this.$route.params.id,name:mr.currentUser.displayName,uid:mr.currentUser.uid};await EE.add(n),this.song.comment_count+=1,await Jr.doc(this.$route.params.id).update({comment_count:this.song.comment_count}),this.getComments(),this.comment_in_submission=!1,this.comment_alert_variant=this.comment_success_variant,this.comment_alert_msg=this.success_msg,t(),setTimeout(()=>{this.comment_show_alert=!1},1e3)},initCommentAlert(){this.comment_show_alert=!0,this.comment_in_submission=!0,this.comment_alert_variant=this.comment_progress_variant,this.comment_alert_msg=this.initial_msg},async getComments(){const e=await EE.where("songID","==",this.$route.params.id).get();this.comments=[],e.forEach(t=>{this.comments.push({docID:t.id,...t.data()})})},getCommentPublishDate(e){const n=new Date-new Date(e.date),r=Math.floor(n/1e3);if(r<60)return`${r} second${r===1?"":"s"} ago`;const o=Math.floor(r/60);if(o<60)return`${o} minute${o===1?"":"s"} ago`;const s=Math.floor(o/60);if(s<24)return`${s} hour${s===1?"":"s"} ago`;const u=Math.floor(s/24);if(u<30)return`${u} day${u===1?"":"s"} ago`;const l=Math.floor(u/30);if(l<12)return`${l} month${l===1?"":"s"} ago`;const f=Math.floor(l/12);return`${f} year${f===1?"":"s"} ago`}},watch:{sort(e){e!==this.$route.query.sort&&this.$router.push({query:{sort:e}})}}},g6={class:"relative z-10 w-full px-6 pt-40 pb-6 text-white text-center"},m6={class:"container mx-auto flex items-center"},v6=O("i",{class:"text-[#1ed760] text-8xl hover:scale-110 bg-black rounded-full fa fa-play-circle"},null,-1),y6=[v6],b6={class:"z-50 text-left px-4"},_6=O("div",{class:"text-sm font-circular-black"},"Song",-1),w6={class:"text-2xl md:text-4xl lg:text-6xl font-circular-black"},S6={class:"text-sm font-circular-black"},E6={class:"font-circular-thin"},T6={class:"relative z-10 py-5 mb-20 bg-zinc-900 bg-opacity-30 font-circular-thin min-h-[50vh] text-white"},I6={class:"flex flex-col"},A6={class:"px-6 pt-6 pb-5 font-bold border-b border-slate-500"},x6={class:"card-title"},k6=O("span",{class:"font-sans"},"(",-1),C6=O("span",{class:"font-sans"},")",-1),O6=O("i",{class:"fa-regular fa-comment float-right text-2xl"},null,-1),P6={class:"p-6"},N6=["disabled"],R6=O("option",{value:"1"},"Latest",-1),D6=O("option",{value:"2"},"Oldest",-1),L6=[R6,D6],M6={class:"z-10 px-6 font-circular-thin min-h-[50vh] text-white"},F6={key:0,class:"p-6 border border-slate-500"},V6={key:0},j6={class:"mb-5"},U6={class:"font-bold"},B6={class:"text-sm"};function $6(e,t,n,r,o,s){const u=dt("VeeField"),l=dt("ErrorMessage"),f=dt("VeeForm"),d=dt("AppPlayer");return Ve(),ze(Vt,null,[O("section",g6,[O("div",m6,[O("button",{onClick:t[0]||(t[0]=Ft(m=>e.play(o.song),["prevent"])),type:"button"},y6),O("div",b6,[_6,O("div",w6,gt(o.song.modified_name),1),O("div",S6,[bn(gt(o.song.artist?o.song.artist:"Unknown artist")+" ",1),O("span",E6,gt(o.song.genre?o.song.genre:"Unknown Genre"),1)])])])]),O("main",T6,[O("section",null,[O("div",I6,[O("div",A6,[O("span",x6,[bn("Comments "),k6,bn(gt(o.song.comment_count),1),C6]),O6]),O("div",P6,[o.comment_show_alert?(Ve(),ze("div",{key:0,class:xt(["text-white text-center p-4 mb-4",o.comment_alert_variant])},gt(o.comment_alert_msg),3)):Or("",!0),e.userLoggedIn?(Ve(),Zs(f,{key:1,"validation-schema":o.schema,onSubmit:s.publishComment},{default:$n(()=>[be(u,{as:"textarea",name:"comment",class:"block w-full py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded mb-4",placeholder:"Your comment here..."}),be(l,{class:"text-red-600",name:"comment"}),O("button",{type:"submit",class:"py-1.5 px-3 rounded text-white bg-green-600 block",disabled:o.comment_in_submission}," Publish ",8,N6)]),_:1},8,["validation-schema","onSubmit"])):Or("",!0),Wo(O("select",{class:"block mt-4 py-1.5 px-3 text-white border border-transparent transition duration-500 focus:outline-none focus:border-white rounded","onUpdate:modelValue":t[1]||(t[1]=m=>o.sort=m)},L6,512),[[vL,o.sort]])])])]),O("section",null,[O("ul",M6,[o.comments.length===0?(Ve(),ze("li",F6,[bn(" No comments yet. "),e.userLoggedIn?Or("",!0):(Ve(),ze("span",V6," Login or Register to leave a comment."))])):Or("",!0),(Ve(!0),ze(Vt,null,kl(s.sortedComments,m=>(Ve(),ze("li",{class:"p-6 border border-slate-500",key:m.docID},[O("div",j6,[O("div",U6,gt(m.name),1),O("time",B6,gt(this.getCommentPublishDate(m)),1)]),O("p",null,gt(m.content),1)]))),128))])])]),be(d)],64)}const q6=Yn(p6,[["render",$6]]),H6=[{name:"home",path:"/",component:_q},{name:"about",path:"/about",component:Tq},{name:"manage",path:"/manage/music",component:d6,beforeEnter:(e,t,n)=>{n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:q6},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],Hk=_B({history:F4("/musicfy/"),routes:H6,linkExactActiveClass:"text-green-600"});Hk.beforeEach((e,t,n)=>{if(!e.meta.requiresAuth){n();return}fs().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function sn(e){return typeof e=="function"}function Kk(e){return e==null}const ns=e=>e!==null&&!!e&&typeof e=="object"&&!Array.isArray(e);function A0(e){return Number(e)>=0}function K6(e){const t=parseFloat(e);return isNaN(t)?e:t}function G6(e){return typeof e=="object"&&e!==null}function W6(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function z6(e){if(!G6(e)||W6(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function dh(e,t){return Object.keys(t).forEach(n=>{if(z6(t[n])){e[n]||(e[n]={}),dh(e[n],t[n]);return}e[n]=t[n]}),e}function Du(e){const t=e.split(".");if(!t.length)return"";let n=String(t[0]);for(let r=1;r<t.length;r++){if(A0(t[r])){n+=`[${t[r]}]`;continue}n+=`.${t[r]}`}return n}const Gk={};function tr(e,t){Y6(e,t),Gk[e]=t}function X6(e){return Gk[e]}function Y6(e,t){if(!sn(t))throw new Error(`Extension Error: The validator '${e}' must be a function.`)}function zE(e,t,n){typeof n.value=="object"&&(n.value=mt(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||t==="__proto__"?Object.defineProperty(e,t,n):e[t]=n.value}function mt(e){if(typeof e!="object")return e;var t=0,n,r,o,s=Object.prototype.toString.call(e);if(s==="[object Object]"?o=Object.create(e.__proto__||null):s==="[object Array]"?o=Array(e.length):s==="[object Set]"?(o=new Set,e.forEach(function(u){o.add(mt(u))})):s==="[object Map]"?(o=new Map,e.forEach(function(u,l){o.set(mt(l),mt(u))})):s==="[object Date]"?o=new Date(+e):s==="[object RegExp]"?o=new RegExp(e.source,e.flags):s==="[object DataView]"?o=new e.constructor(mt(e.buffer)):s==="[object ArrayBuffer]"?o=e.slice(0):s.slice(-6)==="Array]"&&(o=new e.constructor(e)),o){for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)zE(o,r[t],Object.getOwnPropertyDescriptor(e,r[t]));for(t=0,r=Object.getOwnPropertyNames(e);t<r.length;t++)Object.hasOwnProperty.call(o,n=r[t])&&o[n]===e[n]||zE(o,n,Object.getOwnPropertyDescriptor(e,n))}return o||e}const vd=Symbol("vee-validate-form"),Q6=Symbol("vee-validate-field-instance"),ph=Symbol("Default empty value"),J6=typeof window<"u";function kv(e){return sn(e)&&!!e.__locatorRef}function eo(e){return!!e&&sn(e.parse)&&e.__type==="VVTypedSchema"}function gh(e){return!!e&&sn(e.validate)}function Yl(e){return e==="checkbox"||e==="radio"}function Z6(e){return ns(e)||Array.isArray(e)}function e5(e){return Array.isArray(e)?e.length===0:ns(e)&&Object.keys(e).length===0}function yd(e){return/^\[.+\]$/i.test(e)}function t5(e){return Wk(e)&&e.multiple}function Wk(e){return e.tagName==="SELECT"}function n5(e,t){const n=![!1,null,void 0,0].includes(t.multiple)&&!Number.isNaN(t.multiple);return e==="select"&&"multiple"in t&&n}function r5(e,t){return!n5(e,t)&&t.type!=="file"&&!Yl(t.type)}function zk(e){return x0(e)&&e.target&&"submit"in e.target}function x0(e){return e?!!(typeof Event<"u"&&sn(Event)&&e instanceof Event||e&&e.srcElement):!1}function XE(e,t){return t in e&&e[t]!==ph}function Dn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Dn(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!Dn(r[1],t.get(r[0])))return!1;return!0}if(YE(e)&&YE(t))return!(e.size!==t.size||e.name!==t.name||e.lastModified!==t.lastModified||e.type!==t.type);if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();for(o=Object.keys(e),n=o.length,r=n;r--!==0;){var s=o[r];if(!Dn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function YE(e){return J6?e instanceof File:!1}function k0(e){return yd(e)?e.replace(/\[|\]/gi,""):e}function Un(e,t,n){return e?yd(t)?e[k0(t)]:(t||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((o,s)=>Z6(o)&&s in o?o[s]:n,e):n}function No(e,t,n){if(yd(t)){e[k0(t)]=n;return}const r=t.split(/\.|\[(\d+)\]/).filter(Boolean);let o=e;for(let s=0;s<r.length;s++){if(s===r.length-1){o[r[s]]=n;return}(!(r[s]in o)||Kk(o[r[s]]))&&(o[r[s]]=A0(r[s+1])?[]:{}),o=o[r[s]]}}function Im(e,t){if(Array.isArray(e)&&A0(t)){e.splice(Number(t),1);return}ns(e)&&delete e[t]}function QE(e,t){if(yd(t)){delete e[k0(t)];return}const n=t.split(/\.|\[(\d+)\]/).filter(Boolean);let r=e;for(let s=0;s<n.length;s++){if(s===n.length-1){Im(r,n[s]);break}if(!(n[s]in r)||Kk(r[n[s]]))break;r=r[n[s]]}const o=n.map((s,u)=>Un(e,n.slice(0,u).join(".")));for(let s=o.length-1;s>=0;s--)if(e5(o[s])){if(s===0){Im(e,n[0]);continue}Im(o[s-1],n[s-1])}}function pr(e){return Object.keys(e)}function Xk(e,t=void 0){const n=Cl();return(n==null?void 0:n.provides[e])||br(e,t)}function JE(e,t,n){if(Array.isArray(e)){const r=[...e],o=r.findIndex(s=>Dn(s,t));return o>=0?r.splice(o,1):r.push(t),r}return Dn(e,t)?n:t}function ZE(e,t=0){let n=null,r=[];return function(...o){return n&&clearTimeout(n),n=setTimeout(()=>{const s=e(...o);r.forEach(u=>u(s)),r=[]},t),new Promise(s=>r.push(s))}}function i5(e,t){return ns(t)&&t.number?K6(e):e}function Cv(e,t){let n;return async function(...o){const s=e(...o);n=s;const u=await s;return s!==n||(n=void 0,t(u,o)),u}}function Ov(e){return Array.isArray(e)?e:e?[e]:[]}function ku(e,t){const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function o5(e){let t=null,n=[];return function(...r){const o=xr(()=>{if(t!==o)return;const s=e(...r);n.forEach(u=>u(s)),n=[],t=null});return t=o,new Promise(s=>n.push(s))}}function C0(e,t,n){return t.slots.default?typeof e=="string"||!e?t.slots.default(n()):{default:()=>{var r,o;return(o=(r=t.slots).default)===null||o===void 0?void 0:o.call(r,n())}}:t.slots.default}function Am(e){if(Yk(e))return e._value}function Yk(e){return"_value"in e}function s5(e){return e.type==="number"||e.type==="range"?Number.isNaN(e.valueAsNumber)?e.value:e.valueAsNumber:e.value}function mh(e){if(!x0(e))return e;const t=e.target;if(Yl(t.type)&&Yk(t))return Am(t);if(t.type==="file"&&t.files){const n=Array.from(t.files);return t.multiple?n:n[0]}if(t5(t))return Array.from(t.options).filter(n=>n.selected&&!n.disabled).map(Am);if(Wk(t)){const n=Array.from(t.options).find(r=>r.selected);return n?Am(n):t.value}return s5(t)}function Qk(e){const t={};return Object.defineProperty(t,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),e?ns(e)&&e._$$isNormalized?e:ns(e)?Object.keys(e).reduce((n,r)=>{const o=a5(e[r]);return e[r]!==!1&&(n[r]=eT(o)),n},t):typeof e!="string"?t:e.split("|").reduce((n,r)=>{const o=u5(r);return o.name&&(n[o.name]=eT(o.params)),n},t):t}function a5(e){return e===!0?[]:Array.isArray(e)||ns(e)?e:[e]}function eT(e){const t=n=>typeof n=="string"&&n[0]==="@"?l5(n.slice(1)):n;return Array.isArray(e)?e.map(t):e instanceof RegExp?[e]:Object.keys(e).reduce((n,r)=>(n[r]=t(e[r]),n),{})}const u5=e=>{let t=[];const n=e.split(":")[0];return e.includes(":")&&(t=e.split(":").slice(1).join(":").split(",")),{name:n,params:t}};function l5(e){const t=n=>Un(n,e)||n[e];return t.__locatorRef=e,t}function c5(e){return Array.isArray(e)?e.filter(kv):pr(e).filter(t=>kv(e[t])).map(t=>e[t])}const f5={generateMessage:({field:e})=>`${e} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Pv=Object.assign({},f5);const Hi=()=>Pv,h5=e=>{Pv=Object.assign(Object.assign({},Pv),e)},d5=h5;async function Jk(e,t,n={}){const r=n==null?void 0:n.bails,o={name:(n==null?void 0:n.name)||"{field}",rules:t,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},u=(await p5(o,e)).errors;return{errors:u,valid:!u.length}}async function p5(e,t){if(eo(e.rules)||gh(e.rules))return m5(t,e.rules);if(sn(e.rules)||Array.isArray(e.rules)){const u={field:e.label||e.name,name:e.name,label:e.label,form:e.formData,value:t},l=Array.isArray(e.rules)?e.rules:[e.rules],f=l.length,d=[];for(let m=0;m<f;m++){const h=l[m],g=await h(t,u);if(!(typeof g!="string"&&!Array.isArray(g)&&g)){if(Array.isArray(g))d.push(...g);else{const b=typeof g=="string"?g:eC(u);d.push(b)}if(e.bails)return{errors:d}}}return{errors:d}}const n=Object.assign(Object.assign({},e),{rules:Qk(e.rules)}),r=[],o=Object.keys(n.rules),s=o.length;for(let u=0;u<s;u++){const l=o[u],f=await v5(n,t,{name:l,params:n.rules[l]});if(f.error&&(r.push(f.error),e.bails))return{errors:r}}return{errors:r}}function g5(e){return!!e&&e.name==="ValidationError"}function Zk(e){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await e.validate(n,{abortEarly:!1}),errors:[]}}catch(o){if(!g5(o))throw o;if(!(!((r=o.inner)===null||r===void 0)&&r.length)&&o.errors.length)return{errors:[{path:o.path,errors:o.errors}]};const s=o.inner.reduce((u,l)=>{const f=l.path||"";return u[f]||(u[f]={errors:[],path:f}),u[f].errors.push(...l.errors),u},{});return{errors:Object.values(s)}}}}}async function m5(e,t){const r=await(eo(t)?t:Zk(t)).parse(e),o=[];for(const s of r.errors)s.errors.length&&o.push(...s.errors);return{errors:o}}async function v5(e,t,n){const r=X6(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const o=y5(n.params,e.formData),s={field:e.label||e.name,name:e.name,label:e.label,value:t,form:e.formData,rule:Object.assign(Object.assign({},n),{params:o})},u=await r(t,o,s);return typeof u=="string"?{error:u}:{error:u?void 0:eC(s)}}function eC(e){const t=Hi().generateMessage;return t?t(e):"Field is invalid"}function y5(e,t){const n=r=>kv(r)?r(t):r;return Array.isArray(e)?e.map(n):Object.keys(e).reduce((r,o)=>(r[o]=n(e[o]),r),{})}async function b5(e,t){const r=await(eo(e)?e:Zk(e)).parse(mt(t)),o={},s={};for(const u of r.errors){const l=u.errors,f=(u.path||"").replace(/\["(\d+)"\]/g,(d,m)=>`[${m}]`);o[f]={valid:!l.length,errors:l},l.length&&(s[f]=l[0])}return{valid:!r.errors.length,results:o,errors:s,values:r.value}}async function _5(e,t,n){const o=pr(e).map(async d=>{var m,h,g;const y=(m=n==null?void 0:n.names)===null||m===void 0?void 0:m[d],b=await Jk(Un(t,d),e[d],{name:(y==null?void 0:y.name)||d,label:y==null?void 0:y.label,values:t,bails:(g=(h=n==null?void 0:n.bailsMap)===null||h===void 0?void 0:h[d])!==null&&g!==void 0?g:!0});return Object.assign(Object.assign({},b),{path:d})});let s=!0;const u=await Promise.all(o),l={},f={};for(const d of u)l[d.path]={valid:d.valid,errors:d.errors},d.valid||(s=!1,f[d.path]=d.errors[0]);return{valid:s,results:l,errors:f}}let tT=0;function w5(e,t){const{value:n,initialValue:r,setInitialValue:o}=S5(e,t.modelValue,t.form);if(!t.form){let g=function(b){var w;"value"in b&&(n.value=b.value),"errors"in b&&d(b.errors),"touched"in b&&(h.touched=(w=b.touched)!==null&&w!==void 0?w:h.touched),"initialValue"in b&&o(b.initialValue)};var l=g;const{errors:f,setErrors:d}=I5(),m=tT>=Number.MAX_SAFE_INTEGER?0:++tT,h=T5(n,r,f);return{id:m,path:e,value:n,initialValue:r,meta:h,flags:{pendingUnmount:{[m]:!1},pendingReset:!1},errors:f,setState:g}}const s=t.form.createPathState(e,{bails:t.bails,label:t.label,type:t.type,validate:t.validate}),u=qe(()=>s.errors);function l(f){var d,m,h;"value"in f&&(n.value=f.value),"errors"in f&&((d=t.form)===null||d===void 0||d.setFieldError(Je(e),f.errors)),"touched"in f&&((m=t.form)===null||m===void 0||m.setFieldTouched(Je(e),(h=f.touched)!==null&&h!==void 0?h:!1)),"initialValue"in f&&o(f.initialValue)}return{id:Array.isArray(s.id)?s.id[s.id.length-1]:s.id,path:e,value:n,errors:u,meta:s,initialValue:r,flags:s.__flags,setState:l}}function S5(e,t,n){const r=en(Je(t));function o(){return n?Un(n.initialValues.value,Je(e),Je(r)):Je(r)}function s(d){if(!n){r.value=d;return}n.stageInitialValue(Je(e),d,!0)}const u=qe(o);if(!n)return{value:en(o()),initialValue:u,setInitialValue:s};const l=E5(t,n,u,e);return n.stageInitialValue(Je(e),l,!0),{value:qe({get(){return Un(n.values,Je(e))},set(d){n.setFieldValue(Je(e),d,!1)}}),initialValue:u,setInitialValue:s}}function E5(e,t,n,r){return ht(e)?Je(e):e!==void 0?e:Un(t.values,Je(r),Je(n))}function T5(e,t,n){const r=ei({touched:!1,pending:!1,valid:!0,validated:!!Je(n).length,initialValue:qe(()=>Je(t)),dirty:qe(()=>!Dn(Je(e),Je(t)))});return Hn(n,o=>{r.valid=!o.length},{immediate:!0,flush:"sync"}),r}function I5(){const e=en([]);return{errors:e,setErrors:t=>{e.value=Ov(t)}}}function A5(e,t,n){return Yl(n==null?void 0:n.type)?k5(e,t,n):tC(e,t,n)}function tC(e,t,n){const{initialValue:r,validateOnMount:o,bails:s,type:u,checkedValue:l,label:f,validateOnValueUpdate:d,uncheckedValue:m,controlled:h,keepValueOnUnmount:g,syncVModel:y,form:b}=x5(n),w=h?Xk(vd):void 0,E=b||w,T=qe(()=>Du(Ct(e))),k=qe(()=>{if(Ct(E==null?void 0:E.schema))return;const ve=Je(t);return gh(ve)||eo(ve)||sn(ve)||Array.isArray(ve)?ve:Qk(ve)}),{id:D,value:F,initialValue:J,meta:V,setState:fe,errors:G,flags:X}=w5(T,{modelValue:r,form:E,bails:s,label:f,type:u,validate:k.value?Ke:void 0}),C=qe(()=>G.value[0]);y&&C5({value:F,prop:y,handleChange:ae,shouldValidate:()=>d&&!X.pendingReset});const He=(pe,ve=!1)=>{V.touched=!0,ve&&tt()};async function Ze(pe){var ve,L;return E!=null&&E.validateSchema?(ve=(await E.validateSchema(pe)).results[Ct(T)])!==null&&ve!==void 0?ve:{valid:!0,errors:[]}:k.value?Jk(F.value,k.value,{name:Ct(T),label:Ct(f),values:(L=E==null?void 0:E.values)!==null&&L!==void 0?L:{},bails:s}):{valid:!0,errors:[]}}const tt=Cv(async()=>(V.pending=!0,V.validated=!0,Ze("validated-only")),pe=>{if(!X.pendingUnmount[bt.id])return fe({errors:pe.errors}),V.pending=!1,V.valid=pe.valid,pe}),Xe=Cv(async()=>Ze("silent"),pe=>(V.valid=pe.valid,pe));function Ke(pe){return(pe==null?void 0:pe.mode)==="silent"?Xe():tt()}function ae(pe,ve=!0){const L=mh(pe);Pt(L,ve)}Ch(()=>{if(o)return tt();(!E||!E.validateSchema)&&Xe()});function Me(pe){V.touched=pe}function me(pe){var ve;const L=pe&&"value"in pe?pe.value:J.value;fe({value:mt(L),initialValue:mt(L),touched:(ve=pe==null?void 0:pe.touched)!==null&&ve!==void 0?ve:!1,errors:(pe==null?void 0:pe.errors)||[]}),V.pending=!1,V.validated=!1,Xe()}const yt=Cl();function Pt(pe,ve=!0){F.value=yt&&y?i5(pe,yt.props.modelModifiers):pe,(ve?tt:Xe)()}function Wt(pe){fe({errors:Array.isArray(pe)?pe:[pe]})}const jt=qe({get(){return F.value},set(pe){Pt(pe,d)}}),bt={id:D,name:T,label:f,value:jt,meta:V,errors:G,errorMessage:C,type:u,checkedValue:l,uncheckedValue:m,bails:s,keepValueOnUnmount:g,resetField:me,handleReset:()=>me(),validate:Ke,handleChange:ae,handleBlur:He,setState:fe,setTouched:Me,setErrors:Wt,setValue:Pt};if(Xs(Q6,bt),ht(t)&&typeof Je(t)!="function"&&Hn(t,(pe,ve)=>{Dn(pe,ve)||(V.validated?tt():Xe())},{deep:!0}),!E)return bt;const Qn=qe(()=>{const pe=k.value;return!pe||sn(pe)||gh(pe)||eo(pe)||Array.isArray(pe)?{}:Object.keys(pe).reduce((ve,L)=>{const q=c5(pe[L]).map(te=>te.__locatorRef).reduce((te,ue)=>{const Re=Un(E.values,ue)||E.values[ue];return Re!==void 0&&(te[ue]=Re),te},{});return Object.assign(ve,q),ve},{})});return Hn(Qn,(pe,ve)=>{if(!Object.keys(pe).length)return;!Dn(pe,ve)&&(V.validated?tt():Xe())}),qT(()=>{var pe;const ve=(pe=Ct(bt.keepValueOnUnmount))!==null&&pe!==void 0?pe:Ct(E.keepValuesOnUnmount),L=Ct(T);if(ve||!E||X.pendingUnmount[bt.id]){E==null||E.removePathState(L,D);return}X.pendingUnmount[bt.id]=!0;const q=E.getPathState(L);if(Array.isArray(q==null?void 0:q.id)&&(q!=null&&q.multiple)?q!=null&&q.id.includes(bt.id):(q==null?void 0:q.id)===bt.id){if(q!=null&&q.multiple&&Array.isArray(q.value)){const ue=q.value.findIndex(Re=>Dn(Re,Ct(bt.checkedValue)));if(ue>-1){const Re=[...q.value];Re.splice(ue,1),E.setFieldValue(L,Re)}Array.isArray(q.id)&&q.id.splice(q.id.indexOf(bt.id),1)}else E.unsetPathValue(Ct(T));E.removePathState(L,D)}}),bt}function x5(e){const t=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,syncVModel:!1,controlled:!0}),n=!!(e!=null&&e.syncVModel),r=typeof(e==null?void 0:e.syncVModel)=="string"?e.syncVModel:(e==null?void 0:e.modelPropName)||"modelValue",o=n&&!("initialValue"in(e||{}))?Nv(Cl(),r):e==null?void 0:e.initialValue;if(!e)return Object.assign(Object.assign({},t()),{initialValue:o});const s="valueProp"in e?e.valueProp:e.checkedValue,u="standalone"in e?!e.standalone:e.controlled,l=(e==null?void 0:e.modelPropName)||(e==null?void 0:e.syncVModel)||!1;return Object.assign(Object.assign(Object.assign({},t()),e||{}),{initialValue:o,controlled:u??!0,checkedValue:s,syncVModel:l})}function k5(e,t,n){const r=n!=null&&n.standalone?void 0:Xk(vd),o=n==null?void 0:n.checkedValue,s=n==null?void 0:n.uncheckedValue;function u(l){const f=l.handleChange,d=qe(()=>{const h=Ct(l.value),g=Ct(o);return Array.isArray(h)?h.findIndex(y=>Dn(y,g))>=0:Dn(g,h)});function m(h,g=!0){var y,b;if(d.value===((y=h==null?void 0:h.target)===null||y===void 0?void 0:y.checked)){g&&l.validate();return}const w=Ct(e),E=r==null?void 0:r.getPathState(w),T=mh(h);let k=(b=Ct(o))!==null&&b!==void 0?b:T;r&&(E!=null&&E.multiple)&&E.type==="checkbox"?k=JE(Un(r.values,w)||[],k,void 0):(n==null?void 0:n.type)==="checkbox"&&(k=JE(Ct(l.value),k,Ct(s))),f(k,g)}return Object.assign(Object.assign({},l),{checked:d,checkedValue:o,uncheckedValue:s,handleChange:m})}return u(tC(e,t,n))}function C5({prop:e,value:t,handleChange:n,shouldValidate:r}){const o=Cl();if(!o||!e)return;const s=typeof e=="string"?e:"modelValue",u=`update:${s}`;s in o.props&&(Hn(t,l=>{Dn(l,Nv(o,s))||o.emit(u,l)}),Hn(()=>Nv(o,s),l=>{if(l===ph&&t.value===void 0)return;const f=l===ph?void 0:l;Dn(f,t.value)||n(f,r())}))}function Nv(e,t){if(e)return e.props[t]}const O5=xl({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Hi().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:ph},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(e,t){const n=Vi(e,"rules"),r=Vi(e,"name"),o=Vi(e,"label"),s=Vi(e,"uncheckedValue"),u=Vi(e,"keepValue"),{errors:l,value:f,errorMessage:d,validate:m,handleChange:h,handleBlur:g,setTouched:y,resetField:b,handleReset:w,meta:E,checked:T,setErrors:k}=A5(r,n,{validateOnMount:e.validateOnMount,bails:e.bails,standalone:e.standalone,type:t.attrs.type,initialValue:N5(e,t),checkedValue:t.attrs.value,uncheckedValue:s,label:o,validateOnValueUpdate:e.validateOnModelUpdate,keepValueOnUnmount:u,syncVModel:!0}),D=function(X,C=!0){h(X,C)},F=qe(()=>{const{validateOnInput:G,validateOnChange:X,validateOnBlur:C,validateOnModelUpdate:He}=P5(e);function Ze(ae){g(ae,C),sn(t.attrs.onBlur)&&t.attrs.onBlur(ae)}function tt(ae){D(ae,G),sn(t.attrs.onInput)&&t.attrs.onInput(ae)}function Xe(ae){D(ae,X),sn(t.attrs.onChange)&&t.attrs.onChange(ae)}const Ke={name:e.name,onBlur:Ze,onInput:tt,onChange:Xe};return Ke["onUpdate:modelValue"]=ae=>D(ae,He),Ke}),J=qe(()=>{const G=Object.assign({},F.value);Yl(t.attrs.type)&&T&&(G.checked=T.value);const X=nT(e,t);return r5(X,t.attrs)&&(G.value=f.value),G}),V=qe(()=>Object.assign(Object.assign({},F.value),{modelValue:f.value}));function fe(){return{field:J.value,componentField:V.value,value:f.value,meta:E,errors:l.value,errorMessage:d.value,validate:m,resetField:b,handleChange:D,handleInput:G=>D(G,!1),handleReset:w,handleBlur:F.value.onBlur,setTouched:y,setErrors:k}}return t.expose({setErrors:k,setTouched:y,reset:b,validate:m,handleChange:h}),()=>{const G=zv(nT(e,t)),X=C0(G,t,fe);return G?na(G,Object.assign(Object.assign({},t.attrs),J.value),X):X}}});function nT(e,t){let n=e.as||"";return!e.as&&!t.slots.default&&(n="input"),n}function P5(e){var t,n,r,o;const{validateOnInput:s,validateOnChange:u,validateOnBlur:l,validateOnModelUpdate:f}=Hi();return{validateOnInput:(t=e.validateOnInput)!==null&&t!==void 0?t:s,validateOnChange:(n=e.validateOnChange)!==null&&n!==void 0?n:u,validateOnBlur:(r=e.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(o=e.validateOnModelUpdate)!==null&&o!==void 0?o:f}}function N5(e,t){return Yl(t.attrs.type)?XE(e,"modelValue")?e.modelValue:void 0:XE(e,"modelValue")?e.modelValue:t.attrs.value}const R5=O5;let D5=0;const Cu=["bails","fieldsCount","id","multiple","type","validate"];function nC(e){const t=Je(e==null?void 0:e.initialValues)||{},n=Je(e==null?void 0:e.validationSchema);return n&&eo(n)&&sn(n.cast)?mt(n.cast(t)||{}):mt(t)}function L5(e){var t;const n=D5++;let r=0;const o=en(!1),s=en(!1),u=en(0),l=[],f=ei(nC(e)),d=en([]),m=en({}),h=en({}),g=o5(()=>{h.value=d.value.reduce((N,P)=>(N[Du(Ct(P.path))]=P,N),{})});function y(N,P){const K=ae(N);if(!K){typeof N=="string"&&(m.value[Du(N)]=Ov(P));return}if(typeof N=="string"){const oe=Du(N);m.value[oe]&&delete m.value[oe]}K.errors=Ov(P),K.valid=!K.errors.length}function b(N){pr(N).forEach(P=>{y(P,N[P])})}e!=null&&e.initialErrors&&b(e.initialErrors);const w=qe(()=>{const N=d.value.reduce((P,K)=>(K.errors.length&&(P[K.path]=K.errors),P),{});return Object.assign(Object.assign({},m.value),N)}),E=qe(()=>pr(w.value).reduce((N,P)=>{const K=w.value[P];return K!=null&&K.length&&(N[P]=K[0]),N},{})),T=qe(()=>d.value.reduce((N,P)=>(N[P.path]={name:P.path||"",label:P.label||""},N),{})),k=qe(()=>d.value.reduce((N,P)=>{var K;return N[P.path]=(K=P.bails)!==null&&K!==void 0?K:!0,N},{})),D=Object.assign({},(e==null?void 0:e.initialErrors)||{}),F=(t=e==null?void 0:e.keepValuesOnUnmount)!==null&&t!==void 0?t:!1,{initialValues:J,originalInitialValues:V,setInitialValues:fe}=F5(d,f,e),G=M5(d,f,V,E),X=qe(()=>d.value.reduce((N,P)=>{const K=Un(f,P.path);return No(N,P.path,K),N},{})),C=e==null?void 0:e.validationSchema;function He(N,P){var K,oe;const he=qe(()=>Un(J.value,Ct(N))),Ce=h.value[Ct(N)];if(Ce){((P==null?void 0:P.type)==="checkbox"||(P==null?void 0:P.type)==="radio")&&(Ce.multiple=!0);const fn=r++;return Array.isArray(Ce.id)?Ce.id.push(fn):Ce.id=[Ce.id,fn],Ce.fieldsCount++,Ce.__flags.pendingUnmount[fn]=!1,Ce}const Ue=qe(()=>Un(f,Ct(N))),Pe=Ct(N),Fe=r++,De=ei({id:Fe,path:N,touched:!1,pending:!1,valid:!0,validated:!!(!((K=D[Pe])===null||K===void 0)&&K.length),initialValue:he,errors:OT([]),bails:(oe=P==null?void 0:P.bails)!==null&&oe!==void 0?oe:!1,label:P==null?void 0:P.label,type:(P==null?void 0:P.type)||"default",value:Ue,multiple:!1,__flags:{pendingUnmount:{[Fe]:!1},pendingReset:!1},fieldsCount:1,validate:P==null?void 0:P.validate,dirty:qe(()=>!Dn(Je(Ue),Je(he)))});return d.value.push(De),h.value[Pe]=De,g(),E.value[Pe]&&!D[Pe]&&xr(()=>{ne(Pe,{mode:"silent"})}),ht(N)&&Hn(N,fn=>{g();const hn=mt(Ue.value);h.value[fn]=De,xr(()=>{No(f,fn,hn)})}),De}const Ze=ZE(ye,5),tt=ZE(ye,5),Xe=Cv(async N=>await N==="silent"?Ze():tt(),(N,[P])=>{const K=pr(ve.errorBag.value);return[...new Set([...pr(N.results),...d.value.map(he=>he.path),...K])].sort().reduce((he,Ce)=>{const Ue=Ce,Pe=ae(Ue)||Me(Ue),Fe=(N.results[Ue]||{errors:[]}).errors,De={errors:Fe,valid:!Fe.length};return he.results[Ue]=De,De.valid||(he.errors[Ue]=De.errors[0]),Pe&&m.value[Ue]&&delete m.value[Ue],Pe?(Pe.valid=De.valid,P==="silent"||P==="validated-only"&&!Pe.validated||y(Pe,De.errors),he):(y(Ue,Fe),he)},{valid:N.valid,results:{},errors:{}})});function Ke(N){d.value.forEach(N)}function ae(N){const P=typeof N=="string"?Du(N):N;return typeof P=="string"?h.value[P]:P}function Me(N){return d.value.filter(K=>N.startsWith(K.path)).reduce((K,oe)=>K?oe.path.length>K.path.length?oe:K:oe,void 0)}let me=[],yt;function Pt(N){return me.push(N),yt||(yt=xr(()=>{[...me].sort().reverse().forEach(K=>{QE(f,K)}),me=[],yt=null})),yt}function Wt(N){return function(K,oe){return function(Ce){return Ce instanceof Event&&(Ce.preventDefault(),Ce.stopPropagation()),Ke(Ue=>Ue.touched=!0),o.value=!0,u.value++,Z().then(Ue=>{const Pe=mt(f);if(Ue.valid&&typeof K=="function"){const Fe=mt(X.value);let De=N?Fe:Pe;return Ue.values&&(De=Ue.values),K(De,{evt:Ce,controlledValues:Fe,setErrors:b,setFieldError:y,setTouched:B,setFieldTouched:A,setValues:te,setFieldValue:L,resetForm:ie,resetField:z})}!Ue.valid&&typeof oe=="function"&&oe({values:Pe,evt:Ce,errors:Ue.errors,results:Ue.results})}).then(Ue=>(o.value=!1,Ue),Ue=>{throw o.value=!1,Ue})}}}const bt=Wt(!1);bt.withControlled=Wt(!0);function Qn(N,P){const K=d.value.findIndex(he=>he.path===N),oe=d.value[K];if(!(K===-1||!oe)){if(xr(()=>{ne(N,{mode:"silent",warn:!1})}),oe.multiple&&oe.fieldsCount&&oe.fieldsCount--,Array.isArray(oe.id)){const he=oe.id.indexOf(P);he>=0&&oe.id.splice(he,1),delete oe.__flags.pendingUnmount[P]}(!oe.multiple||oe.fieldsCount<=0)&&(d.value.splice(K,1),Q(N),g(),delete h.value[N])}}function pe(N){return Ke(P=>{P.path.startsWith(N)&&pr(P.__flags.pendingUnmount).forEach(K=>{P.__flags.pendingUnmount[K]=!0})})}const ve={formId:n,values:f,controlledValues:X,errorBag:w,errors:E,schema:C,submitCount:u,meta:G,isSubmitting:o,isValidating:s,fieldArrays:l,keepValuesOnUnmount:F,validateSchema:Je(C)?Xe:void 0,validate:Z,setFieldError:y,validateField:ne,setFieldValue:L,setValues:te,setErrors:b,setFieldTouched:A,setTouched:B,resetForm:ie,resetField:z,handleSubmit:bt,stageInitialValue:we,unsetInitialValue:Q,setFieldInitialValue:le,useFieldModel:Re,createPathState:He,getPathState:ae,unsetPathValue:Pt,removePathState:Qn,initialValues:J,getAllPathStates:()=>d.value,markForUnmount:pe,isFieldTouched:x,isFieldDirty:R,isFieldValid:U};function L(N,P,K=!0){const oe=mt(P),he=typeof N=="string"?N:N.path;ae(he)||He(he),No(f,he,oe),K&&ne(he)}function q(N,P=!0){pr(f).forEach(K=>{delete f[K]}),pr(N).forEach(K=>{L(K,N[K],!1)}),P&&Z()}function te(N,P=!0){dh(f,N),l.forEach(K=>K&&K.reset()),P&&Z()}function ue(N){const P=ae(Je(N))||He(N);return qe({get(){return P.value},set(K){const oe=Je(N);L(oe,K,!1),P.validated=!0,P.pending=!0,ne(oe).then(()=>{P.pending=!1})}})}function Re(N){return Array.isArray(N)?N.map(ue):ue(N)}function A(N,P){const K=ae(N);K&&(K.touched=P)}function x(N){var P;return!!(!((P=ae(N))===null||P===void 0)&&P.touched)}function R(N){var P;return!!(!((P=ae(N))===null||P===void 0)&&P.dirty)}function U(N){var P;return!!(!((P=ae(N))===null||P===void 0)&&P.valid)}function B(N){if(typeof N=="boolean"){Ke(P=>{P.touched=N});return}pr(N).forEach(P=>{A(P,!!N[P])})}function z(N,P){var K;const oe=P&&"value"in P?P.value:Un(J.value,N),he=ae(N);he&&(he.__flags.pendingReset=!0),le(N,mt(oe)),L(N,oe,!1),A(N,(K=P==null?void 0:P.touched)!==null&&K!==void 0?K:!1),y(N,(P==null?void 0:P.errors)||[]),xr(()=>{he&&(he.__flags.pendingReset=!1)})}function ie(N,P){let K=N!=null&&N.values?N.values:V.value;K=eo(C)&&sn(C.cast)?C.cast(K):K,fe(K),Ke(oe=>{var he;oe.__flags.pendingReset=!0,oe.validated=!1,oe.touched=((he=N==null?void 0:N.touched)===null||he===void 0?void 0:he[oe.path])||!1,L(oe.path,Un(K,oe.path),!1),y(oe.path,void 0)}),P!=null&&P.force?q(K,!1):te(K,!1),b((N==null?void 0:N.errors)||{}),u.value=(N==null?void 0:N.submitCount)||0,xr(()=>{Z({mode:"silent"}),Ke(oe=>{oe.__flags.pendingReset=!1})})}async function Z(N){const P=(N==null?void 0:N.mode)||"force";if(P==="force"&&Ke(Ce=>Ce.validated=!0),ve.validateSchema)return ve.validateSchema(P);s.value=!0;const K=await Promise.all(d.value.map(Ce=>Ce.validate?Ce.validate(N).then(Ue=>({key:Ce.path,valid:Ue.valid,errors:Ue.errors})):Promise.resolve({key:Ce.path,valid:!0,errors:[]})));s.value=!1;const oe={},he={};for(const Ce of K)oe[Ce.key]={valid:Ce.valid,errors:Ce.errors},Ce.errors.length&&(he[Ce.key]=Ce.errors[0]);return{valid:K.every(Ce=>Ce.valid),results:oe,errors:he}}async function ne(N,P){var K;const oe=ae(N);if(oe&&(P==null?void 0:P.mode)!=="silent"&&(oe.validated=!0),C){const{results:he}=await Xe((P==null?void 0:P.mode)||"validated-only");return he[N]||{errors:[],valid:!0}}return oe!=null&&oe.validate?oe.validate(P):(!oe&&(K=P==null?void 0:P.warn),Promise.resolve({errors:[],valid:!0}))}function Q(N){QE(J.value,N)}function we(N,P,K=!1){le(N,P),No(f,N,P),K&&!(e!=null&&e.initialValues)&&No(V.value,N,mt(P))}function le(N,P){No(J.value,N,mt(P))}async function ye(){const N=Je(C);if(!N)return{valid:!0,results:{},errors:{}};s.value=!0;const P=gh(N)||eo(N)?await b5(N,f):await _5(N,f,{names:T.value,bailsMap:k.value});return s.value=!1,P}const ke=bt((N,{evt:P})=>{zk(P)&&P.target.submit()});Ch(()=>{if(e!=null&&e.initialErrors&&b(e.initialErrors),e!=null&&e.initialTouched&&B(e.initialTouched),e!=null&&e.validateOnMount){Z();return}ve.validateSchema&&ve.validateSchema("silent")}),ht(C)&&Hn(C,()=>{var N;(N=ve.validateSchema)===null||N===void 0||N.call(ve,"validated-only")}),Xs(vd,ve);function $e(N,P){const K=ae(Ct(N))||He(N),oe=()=>sn(P)?P(ku(K,Cu)):P||{};function he(){var Pe;K.touched=!0,((Pe=oe().validateOnBlur)!==null&&Pe!==void 0?Pe:Hi().validateOnBlur)&&ne(K.path)}function Ce(Pe){var Fe;const De=(Fe=oe().validateOnModelUpdate)!==null&&Fe!==void 0?Fe:Hi().validateOnModelUpdate;L(K.path,Pe,De)}return qe(()=>{if(sn(P)){const De=P(K),fn=De.model||"modelValue";return Object.assign({onBlur:he,[fn]:K.value,[`onUpdate:${fn}`]:Ce},De.props||{})}const Pe=(P==null?void 0:P.model)||"modelValue",Fe={onBlur:he,[Pe]:K.value,[`onUpdate:${Pe}`]:Ce};return P!=null&&P.mapProps?Object.assign(Object.assign({},Fe),P.mapProps(ku(K,Cu))):Fe})}function Ee(N,P){const K=ae(Ct(N))||He(N),oe=()=>sn(P)?P(ku(K,Cu)):P||{};function he(){var Fe;K.touched=!0,((Fe=oe().validateOnBlur)!==null&&Fe!==void 0?Fe:Hi().validateOnBlur)&&ne(K.path)}function Ce(Fe){var De;const fn=mh(Fe),hn=(De=oe().validateOnInput)!==null&&De!==void 0?De:Hi().validateOnInput;L(K.path,fn,hn)}function Ue(Fe){var De;const fn=mh(Fe),hn=(De=oe().validateOnChange)!==null&&De!==void 0?De:Hi().validateOnChange;L(K.path,fn,hn)}return qe(()=>{const Fe={value:K.value,onChange:Ue,onInput:Ce,onBlur:he};return sn(P)?Object.assign(Object.assign({},Fe),P(ku(K,Cu)).attrs||{}):P!=null&&P.mapAttrs?Object.assign(Object.assign({},Fe),P.mapAttrs(ku(K,Cu))):Fe})}return Object.assign(Object.assign({},ve),{values:Th(f),handleReset:()=>ie(),submitForm:ke,defineComponentBinds:$e,defineInputBinds:Ee})}function M5(e,t,n,r){const o={touched:"some",pending:"some",valid:"every"},s=qe(()=>!Dn(t,Je(n)));function u(){const f=e.value;return pr(o).reduce((d,m)=>{const h=o[m];return d[m]=f[h](g=>g[m]),d},{})}const l=ei(u());return cD(()=>{const f=u();l.touched=f.touched,l.valid=f.valid,l.pending=f.pending}),qe(()=>Object.assign(Object.assign({initialValues:Je(n)},l),{valid:l.valid&&!pr(r.value).length,dirty:s.value}))}function F5(e,t,n){const r=nC(n),o=n==null?void 0:n.initialValues,s=en(r),u=en(mt(r));function l(f,d=!1){s.value=dh(mt(s.value)||{},mt(f)),u.value=dh(mt(u.value)||{},mt(f)),d&&e.value.forEach(m=>{if(m.touched)return;const g=Un(s.value,m.path);No(t,m.path,mt(g))})}return ht(o)&&Hn(o,f=>{f&&l(f,!0)},{deep:!0}),{initialValues:s,originalInitialValues:u,setInitialValues:l}}const V5=xl({name:"Form",inheritAttrs:!1,props:{as:{type:null,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(e,t){const n=Vi(e,"initialValues"),r=Vi(e,"validationSchema"),o=Vi(e,"keepValues"),{errors:s,errorBag:u,values:l,meta:f,isSubmitting:d,isValidating:m,submitCount:h,controlledValues:g,validate:y,validateField:b,handleReset:w,resetForm:E,handleSubmit:T,setErrors:k,setFieldError:D,setFieldValue:F,setValues:J,setFieldTouched:V,setTouched:fe,resetField:G}=L5({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:e.initialErrors,initialTouched:e.initialTouched,validateOnMount:e.validateOnMount,keepValuesOnUnmount:o}),X=T((Me,{evt:me})=>{zk(me)&&me.target.submit()},e.onInvalidSubmit),C=e.onSubmit?T(e.onSubmit,e.onInvalidSubmit):X;function He(Me){x0(Me)&&Me.preventDefault(),w(),typeof t.attrs.onReset=="function"&&t.attrs.onReset()}function Ze(Me,me){return T(typeof Me=="function"&&!me?Me:me,e.onInvalidSubmit)(Me)}function tt(){return mt(l)}function Xe(){return mt(f.value)}function Ke(){return mt(s.value)}function ae(){return{meta:f.value,errors:s.value,errorBag:u.value,values:l,isSubmitting:d.value,isValidating:m.value,submitCount:h.value,controlledValues:g.value,validate:y,validateField:b,handleSubmit:Ze,handleReset:w,submitForm:X,setErrors:k,setFieldError:D,setFieldValue:F,setValues:J,setFieldTouched:V,setTouched:fe,resetForm:E,resetField:G,getValues:tt,getMeta:Xe,getErrors:Ke}}return t.expose({setFieldError:D,setErrors:k,setFieldValue:F,setValues:J,setFieldTouched:V,setTouched:fe,resetForm:E,validate:y,validateField:b,resetField:G,getValues:tt,getMeta:Xe,getErrors:Ke}),function(){const me=e.as==="form"?e.as:e.as?zv(e.as):null,yt=C0(me,t,ae);return me?na(me,Object.assign(Object.assign(Object.assign({},me==="form"?{novalidate:!0}:{}),t.attrs),{onSubmit:C,onReset:He}),yt):yt}}}),j5=V5,U5=xl({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(e,t){const n=br(vd,void 0),r=qe(()=>n==null?void 0:n.errors.value[e.name]);function o(){return{message:r.value}}return()=>{if(!r.value)return;const s=e.as?zv(e.as):e.as,u=C0(s,t,o),l=Object.assign({role:"alert"},t.attrs);return!s&&(Array.isArray(u)||!u)&&(u!=null&&u.length)?u:(Array.isArray(u)||!u)&&!(u!=null&&u.length)?na(s||"span",l,r.value):na(s,l,u)}}}),B5=U5;/**
  * vee-validate v4.11.8
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const yf={en:/^[A-Z\s]*$/i,cs:/^[A-Z\s]*$/i,da:/^[A-Z\s]*$/i,de:/^[A-Z\s]*$/i,es:/^[A-Z\s]*$/i,fr:/^[A-Z\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-Z\s]*$/i,nl:/^[A-Z\s]*$/i,hu:/^[A-Z\s]*$/i,pl:/^[A-Z\s]*$/i,pt:/^[A-Z\s]*$/i,ru:/^[-\s]*$/i,kz:/^[-\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA\s]*$/i,sk:/^[A-Z\s]*$/i,sr:/^[A-Z\s]*$/i,sv:/^[A-Z\s]*$/i,tr:/^[A-Z\s]*$/i,uk:/^[-\s]*$/i,ar:/^[\s]*$/,az:/^[A-Z\s]*$/i,ug:/^[A-Z\s]*$/i},$5=e=>{if(e)return Array.isArray(e)?e[0]:e.locale};function ja(e,t){return Array.isArray(e)?e[0]:e[t]}function _i(e){return!!(e==null||e===""||Array.isArray(e)&&e.length===0)}const rC=(e,t)=>{if(_i(e))return!0;const n=$5(t);if(Array.isArray(e))return e.every(o=>rC(o,{locale:n}));const r=String(e);return n?(yf[n]||yf.en).test(r):Object.keys(yf).some(o=>yf[o].test(r))},q5=(e,t)=>{const n=ja(t,"target");return String(e)===String(n)},iC=(e,t)=>{if(_i(e))return!0;const n=ja(t,"length");if(Array.isArray(e))return e.every(o=>iC(o,{length:n}));const r=String(e);return/^[0-9]*$/.test(r)&&r.length===Number(n)},H5=e=>{if(_i(e))return!0;const t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(e)?e.every(n=>t.test(String(n))):t.test(String(e))};function K5(e){return e==null}function G5(e){return Array.isArray(e)&&e.length===0}const oC=(e,t)=>{if(_i(e))return!0;const n=ja(t,"length");return Array.isArray(e)?e.every(r=>oC(r,{length:n})):[...String(e)].length<=Number(n)},sC=(e,t)=>{if(_i(e))return!0;const n=ja(t,"max");return Array.isArray(e)?e.length>0&&e.every(r=>sC(r,{max:n})):Number(e)<=Number(n)},aC=(e,t)=>{if(_i(e))return!0;const n=ja(t,"length");return Array.isArray(e)?e.every(r=>aC(r,{length:n})):[...String(e)].length>=Number(n)},uC=(e,t)=>{if(_i(e))return!0;const n=ja(t,"min");return Array.isArray(e)?e.length>0&&e.every(r=>uC(r,{min:n})):Number(e)>=Number(n)},lC=(e,t)=>_i(e)?!0:Array.isArray(e)?e.every(n=>lC(n,t)):Array.from(t).some(n=>n==e),rT=(e,t)=>_i(e)?!0:!lC(e,t),iT=e=>K5(e)||G5(e)||e===!1?!1:!!String(e).trim().length;function W5(e,t){const n=t[0],r=new Date(e),o=new Date;return o.setFullYear(o.getFullYear()-n),r.getTime()<=o.getTime()}const z5={install(e){e.component("VeeForm",j5),e.component("VeeField",R5),e.component("ErrorMessage",B5),tr("required",iT),tr("tos",iT),tr("min",aC),tr("max",oC),tr("alpha_spaces",rC),tr("email",H5),tr("min_value",uC),tr("max_value",sC),tr("passwords_missmatch",q5),tr("excluded",rT),tr("country_excluded",rT),tr("digits",iC),tr("minAge",W5),d5({generateMessage:t=>{const n={required:`The field ${t.field} is required.`,min:`The field ${t.field} must have at least ${t.rule.params} characters.`,max:`The field ${t.field} maximun length is ${t.rule.params}.`,alpha_spaces:`The field ${t.field} may only contain alphabetical characters and spaces.`,email:`The field ${t.field} must be a valid email.`,min_value:`The field ${t.field} can't be under ${t.rule.params}.`,max_value:`The field ${t.field} can't be above ${t.rule.params}.`,excluded:`You are not allowed to use this value for the field ${t.field}.`,country_excluded:`Due to restrictions, we do not accept users from this location: ${t.value}.`,passwords_missmatch:"The passwords don't match",tos:"You must accept the Terms of Service.",digits:`The field ${t.field} must be a valid phone number (012345678)`,minAge:`You must be at least ${t.rule.params} years old`};return n[t.rule.name]?n[t.rule.name]:`The field ${t.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}};var gn={STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter"};function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(r){X5(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X5(e,t,n){return t=Y5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y5(e){var t=Q5(e,"string");return Il(t)==="symbol"?t:String(t)}function Q5(e,t){if(Il(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Il(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sT={ripple:!1,inputStyle:"outlined",locale:{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",completed:"Completed",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",today:"Today",weekHeader:"Wk",firstDayOfWeek:0,showMonthAfterYear:!1,dateFormat:"mm/dd/yy",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyFilterMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyMessage:"No available options",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}},filterMatchModeOptions:{text:[gn.STARTS_WITH,gn.CONTAINS,gn.NOT_CONTAINS,gn.ENDS_WITH,gn.EQUALS,gn.NOT_EQUALS],numeric:[gn.EQUALS,gn.NOT_EQUALS,gn.LESS_THAN,gn.LESS_THAN_OR_EQUAL_TO,gn.GREATER_THAN,gn.GREATER_THAN_OR_EQUAL_TO],date:[gn.DATE_IS,gn.DATE_IS_NOT,gn.DATE_BEFORE,gn.DATE_AFTER]},zIndex:{modal:1100,overlay:1e3,menu:1e3,tooltip:1100},pt:void 0,ptOptions:{mergeSections:!0,mergeProps:!1},unstyled:!1,csp:{nonce:void 0}},J5=Symbol();function Z5(e,t,n,r){if(e!==t){var o=document.getElementById(n),s=o.cloneNode(!0),u=o.getAttribute("href").replace(e,t);s.setAttribute("id",n+"-clone"),s.setAttribute("href",u),s.addEventListener("load",function(){o.remove(),s.setAttribute("id",n),r&&r()}),o.parentNode&&o.parentNode.insertBefore(s,o.nextSibling)}}var eH={install:function(t,n){var r=n?xm(xm({},sT),n):xm({},sT),o={config:ei(r),changeTheme:Z5};t.config.globalProperties.$primevue=o,t.provide(J5,o)}};let Oo;mr.onAuthStateChanged(()=>{Oo||(Oo=SL(AB),Oo.use(IL()),Oo.use(Hk),Oo.use(z5),Oo.use(eH),Oo.mount("#app"))});
